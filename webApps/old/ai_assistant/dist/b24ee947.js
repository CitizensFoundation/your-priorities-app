function t(t,e,i,o){var n,s=arguments.length,r=s<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(r=(s<3?n(r):s>3?n(e,i,r):n(e,i))||r);return s>3&&r&&Object.defineProperty(e,i,r),r}function e(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const i=window,o=i.ShadowRoot&&(void 0===i.ShadyCSS||i.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,n=Symbol(),s=new WeakMap;class r{constructor(t,e,i){if(this._$cssResult$=!0,i!==n)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(o&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=s.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&s.set(e,t))}return t}toString(){return this.cssText}}const a=(t,...e)=>{const i=1===t.length?t[0]:e.reduce(((e,i,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[o+1]),t[0]);return new r(i,t,n)},l=o?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return(t=>new r("string"==typeof t?t:t+"",void 0,n))(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var d;const c=window,h=c.trustedTypes,p=h?h.emptyScript:"",u=c.reactiveElementPolyfillSupport,m={toAttribute(t,e){switch(e){case Boolean:t=t?p:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},g=(t,e)=>e!==t&&(e==e||t==t),f={attribute:!0,type:String,converter:m,reflect:!1,hasChanged:g};class v extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(t){var e;this.finalize(),(null!==(e=this.h)&&void 0!==e?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,i)=>{const o=this._$Ep(i,e);void 0!==o&&(this._$Ev.set(o,i),t.push(o))})),t}static createProperty(t,e=f){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const i="symbol"==typeof t?Symbol():"__"+t,o=this.getPropertyDescriptor(t,i,e);void 0!==o&&Object.defineProperty(this.prototype,t,o)}}static getPropertyDescriptor(t,e,i){return{get(){return this[e]},set(o){const n=this[t];this[e]=o,this.requestUpdate(t,n,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||f}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const i of e)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(l(t))}else void 0!==t&&e.push(l(t));return e}static _$Ep(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}u(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,i;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(i=t.hostConnected)||void 0===i||i.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const e=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,e)=>{o?t.adoptedStyleSheets=e.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):e.forEach((e=>{const o=document.createElement("style"),n=i.litNonce;void 0!==n&&o.setAttribute("nonce",n),o.textContent=e.cssText,t.appendChild(o)}))})(e,this.constructor.elementStyles),e}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EO(t,e,i=f){var o;const n=this.constructor._$Ep(t,i);if(void 0!==n&&!0===i.reflect){const s=(void 0!==(null===(o=i.converter)||void 0===o?void 0:o.toAttribute)?i.converter:m).toAttribute(e,i.type);this._$El=t,null==s?this.removeAttribute(n):this.setAttribute(n,s),this._$El=null}}_$AK(t,e){var i;const o=this.constructor,n=o._$Ev.get(t);if(void 0!==n&&this._$El!==n){const t=o.getPropertyOptions(n),s="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(i=t.converter)||void 0===i?void 0:i.fromAttribute)?t.converter:m;this._$El=n,this[n]=s.fromAttribute(e,t.type),this._$El=null}}requestUpdate(t,e,i){let o=!0;void 0!==t&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||g)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,i))):o=!1),!this.isUpdatePending&&o&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,e)=>this[e]=t)),this._$Ei=void 0);let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(i)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(i)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$EO(e,this[e],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var y;v.finalized=!0,v.elementProperties=new Map,v.elementStyles=[],v.shadowRootOptions={mode:"open"},null==u||u({ReactiveElement:v}),(null!==(d=c.reactiveElementVersions)&&void 0!==d?d:c.reactiveElementVersions=[]).push("1.6.1");const b=window,_=b.trustedTypes,w=_?_.createPolicy("lit-html",{createHTML:t=>t}):void 0,x=`lit$${(Math.random()+"").slice(9)}$`,k="?"+x,C=`<${k}>`,$=document,T=(t="")=>$.createComment(t),S=t=>null===t||"object"!=typeof t&&"function"!=typeof t,I=Array.isArray,P=t=>I(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]),A=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,O=/-->/g,L=/>/g,E=RegExp(">|[ \t\n\f\r](?:([^\\s\"'>=/]+)([ \t\n\f\r]*=[ \t\n\f\r]*(?:[^ \t\n\f\r\"'`<>=]|(\"|')|))|$)","g"),z=/'/g,D=/"/g,M=/^(?:script|style|textarea|title)$/i,N=(t=>(e,...i)=>({_$litType$:t,strings:e,values:i}))(1),R=Symbol.for("lit-noChange"),U=Symbol.for("lit-nothing"),j=new WeakMap,V=$.createTreeWalker($,129,null,!1),F=(t,e)=>{const i=t.length-1,o=[];let n,s=2===e?"<svg>":"",r=A;for(let e=0;e<i;e++){const i=t[e];let a,l,d=-1,c=0;for(;c<i.length&&(r.lastIndex=c,l=r.exec(i),null!==l);)c=r.lastIndex,r===A?"!--"===l[1]?r=O:void 0!==l[1]?r=L:void 0!==l[2]?(M.test(l[2])&&(n=RegExp("</"+l[2],"g")),r=E):void 0!==l[3]&&(r=E):r===E?">"===l[0]?(r=null!=n?n:A,d=-1):void 0===l[1]?d=-2:(d=r.lastIndex-l[2].length,a=l[1],r=void 0===l[3]?E:'"'===l[3]?D:z):r===D||r===z?r=E:r===O||r===L?r=A:(r=E,n=void 0);const h=r===E&&t[e+1].startsWith("/>")?" ":"";s+=r===A?i+C:d>=0?(o.push(a),i.slice(0,d)+"$lit$"+i.slice(d)+x+h):i+x+(-2===d?(o.push(void 0),e):h)}const a=s+(t[i]||"<?>")+(2===e?"</svg>":"");if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return[void 0!==w?w.createHTML(a):a,o]};class G{constructor({strings:t,_$litType$:e},i){let o;this.parts=[];let n=0,s=0;const r=t.length-1,a=this.parts,[l,d]=F(t,e);if(this.el=G.createElement(l,i),V.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(o=V.nextNode())&&a.length<r;){if(1===o.nodeType){if(o.hasAttributes()){const t=[];for(const e of o.getAttributeNames())if(e.endsWith("$lit$")||e.startsWith(x)){const i=d[s++];if(t.push(e),void 0!==i){const t=o.getAttribute(i.toLowerCase()+"$lit$").split(x),e=/([.?@])?(.*)/.exec(i);a.push({type:1,index:n,name:e[2],strings:t,ctor:"."===e[1]?Q:"?"===e[1]?Z:"@"===e[1]?K:q})}else a.push({type:6,index:n})}for(const e of t)o.removeAttribute(e)}if(M.test(o.tagName)){const t=o.textContent.split(x),e=t.length-1;if(e>0){o.textContent=_?_.emptyScript:"";for(let i=0;i<e;i++)o.append(t[i],T()),V.nextNode(),a.push({type:2,index:++n});o.append(t[e],T())}}}else if(8===o.nodeType)if(o.data===k)a.push({type:2,index:n});else{let t=-1;for(;-1!==(t=o.data.indexOf(x,t+1));)a.push({type:7,index:n}),t+=x.length-1}n++}}static createElement(t,e){const i=$.createElement("template");return i.innerHTML=t,i}}function B(t,e,i=t,o){var n,s,r,a;if(e===R)return e;let l=void 0!==o?null===(n=i._$Co)||void 0===n?void 0:n[o]:i._$Cl;const d=S(e)?void 0:e._$litDirective$;return(null==l?void 0:l.constructor)!==d&&(null===(s=null==l?void 0:l._$AO)||void 0===s||s.call(l,!1),void 0===d?l=void 0:(l=new d(t),l._$AT(t,i,o)),void 0!==o?(null!==(r=(a=i)._$Co)&&void 0!==r?r:a._$Co=[])[o]=l:i._$Cl=l),void 0!==l&&(e=B(t,l._$AS(t,e.values),l,o)),e}class H{constructor(t,e){this.u=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(t){var e;const{el:{content:i},parts:o}=this._$AD,n=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:$).importNode(i,!0);V.currentNode=n;let s=V.nextNode(),r=0,a=0,l=o[0];for(;void 0!==l;){if(r===l.index){let e;2===l.type?e=new W(s,s.nextSibling,this,t):1===l.type?e=new l.ctor(s,l.name,l.strings,this,t):6===l.type&&(e=new Y(s,this,t)),this.u.push(e),l=o[++a]}r!==(null==l?void 0:l.index)&&(s=V.nextNode(),r++)}return n}p(t){let e=0;for(const i of this.u)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class W{constructor(t,e,i,o){var n;this.type=2,this._$AH=U,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=o,this._$Cm=null===(n=null==o?void 0:o.isConnected)||void 0===n||n}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cm}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=B(this,t,e),S(t)?t===U||null==t||""===t?(this._$AH!==U&&this._$AR(),this._$AH=U):t!==this._$AH&&t!==R&&this.g(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):P(t)?this.k(t):this.g(t)}O(t,e=this._$AB){return this._$AA.parentNode.insertBefore(t,e)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.O(t))}g(t){this._$AH!==U&&S(this._$AH)?this._$AA.nextSibling.data=t:this.T($.createTextNode(t)),this._$AH=t}$(t){var e;const{values:i,_$litType$:o}=t,n="number"==typeof o?this._$AC(t):(void 0===o.el&&(o.el=G.createElement(o.h,this.options)),o);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===n)this._$AH.p(i);else{const t=new H(n,this),e=t.v(this.options);t.p(i),this.T(e),this._$AH=t}}_$AC(t){let e=j.get(t.strings);return void 0===e&&j.set(t.strings,e=new G(t)),e}k(t){I(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,o=0;for(const n of t)o===e.length?e.push(i=new W(this.O(T()),this.O(T()),this,this.options)):i=e[o],i._$AI(n),o++;o<e.length&&(this._$AR(i&&i._$AB.nextSibling,o),e.length=o)}_$AR(t=this._$AA.nextSibling,e){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cm=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class q{constructor(t,e,i,o,n){this.type=1,this._$AH=U,this._$AN=void 0,this.element=t,this.name=e,this._$AM=o,this.options=n,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=U}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,i,o){const n=this.strings;let s=!1;if(void 0===n)t=B(this,t,e,0),s=!S(t)||t!==this._$AH&&t!==R,s&&(this._$AH=t);else{const o=t;let r,a;for(t=n[0],r=0;r<n.length-1;r++)a=B(this,o[i+r],e,r),a===R&&(a=this._$AH[r]),s||(s=!S(a)||a!==this._$AH[r]),a===U?t=U:t!==U&&(t+=(null!=a?a:"")+n[r+1]),this._$AH[r]=a}s&&!o&&this.j(t)}j(t){t===U?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class Q extends q{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===U?void 0:t}}const J=_?_.emptyScript:"";class Z extends q{constructor(){super(...arguments),this.type=4}j(t){t&&t!==U?this.element.setAttribute(this.name,J):this.element.removeAttribute(this.name)}}class K extends q{constructor(t,e,i,o,n){super(t,e,i,o,n),this.type=5}_$AI(t,e=this){var i;if((t=null!==(i=B(this,t,e,0))&&void 0!==i?i:U)===R)return;const o=this._$AH,n=t===U&&o!==U||t.capture!==o.capture||t.once!==o.once||t.passive!==o.passive,s=t!==U&&(o===U||n);n&&this.element.removeEventListener(this.name,this,o),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==i?i:this.element,t):this._$AH.handleEvent(t)}}class Y{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){B(this,t)}}const X={P:"$lit$",A:x,M:k,C:1,L:F,R:H,D:P,V:B,I:W,H:q,N:Z,U:K,B:Q,F:Y},tt=b.litHtmlPolyfillSupport;null==tt||tt(G,W),(null!==(y=b.litHtmlVersions)&&void 0!==y?y:b.litHtmlVersions=[]).push("2.6.1");const et=(t,e,i)=>{var o,n;const s=null!==(o=null==i?void 0:i.renderBefore)&&void 0!==o?o:e;let r=s._$litPart$;if(void 0===r){const t=null!==(n=null==i?void 0:i.renderBefore)&&void 0!==n?n:null;s._$litPart$=r=new W(e.insertBefore(T(),t),t,void 0,null!=i?i:{})}return r._$AI(t),r};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var it,ot;class nt extends v{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=et(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return R}}nt.finalized=!0,nt._$litElement$=!0,null===(it=globalThis.litElementHydrateSupport)||void 0===it||it.call(globalThis,{LitElement:nt});const st=globalThis.litElementPolyfillSupport;null==st||st({LitElement:nt}),(null!==(ot=globalThis.litElementVersions)&&void 0!==ot?ot:globalThis.litElementVersions=[]).push("3.2.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const rt=t=>e=>"function"==typeof e?((t,e)=>(customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:i,elements:o}=e;return{kind:i,elements:o,finisher(e){customElements.define(t,e)}}})(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,at=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(i){i.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(i){i.createProperty(e.key,t)}};function lt(t){return(e,i)=>void 0!==i?((t,e,i)=>{e.constructor.createProperty(i,t)})(t,e,i):at(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function dt(t){return lt({...t,state:!0})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ct=({finisher:t,descriptor:e})=>(i,o)=>{var n;if(void 0===o){const o=null!==(n=i.originalKey)&&void 0!==n?n:i.key,s=null!=e?{kind:"method",placement:"prototype",key:o,descriptor:e(i.key)}:{...i,key:o};return null!=t&&(s.finisher=function(e){t(e,o)}),s}{const n=i.constructor;void 0!==e&&Object.defineProperty(i,o,e(o)),null==t||t(n,o)}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;function ht(t,e){return ct({descriptor:i=>{const o={get(){var e,i;return null!==(i=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(t))&&void 0!==i?i:null},enumerable:!0,configurable:!0};if(e){const e="symbol"==typeof i?Symbol():"__"+i;o.get=function(){var i,o;return void 0===this[e]&&(this[e]=null!==(o=null===(i=this.renderRoot)||void 0===i?void 0:i.querySelector(t))&&void 0!==o?o:null),this[e]}}return o}})}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
function pt(t){return ct({descriptor:e=>({async get(){var e;return await this.updateComplete,null===(e=this.renderRoot)||void 0===e?void 0:e.querySelector(t)},enumerable:!0,configurable:!0})})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var ut;const mt=null!=(null===(ut=window.HTMLSlotElement)||void 0===ut?void 0:ut.prototype.assignedElements)?(t,e)=>t.assignedElements(e):(t,e)=>t.assignedNodes(e).filter((t=>t.nodeType===Node.ELEMENT_NODE));function gt(t){const{slot:e,selector:i}=null!=t?t:{};return ct({descriptor:o=>({get(){var o;const n="slot"+(e?`[name=${e}]`:":not([name])"),s=null===(o=this.renderRoot)||void 0===o?void 0:o.querySelector(n),r=null!=s?mt(s,t):[];return i?r.filter((t=>t.matches(i))):r},enumerable:!0,configurable:!0})})}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ft extends nt{constructor(){super(...arguments),this.shadow=!1,this.surface=!1}render(){return N` <span class="surface"></span> <span class="shadow"></span> `}}t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],ft.prototype,"shadow",void 0),t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],ft.prototype,"surface",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const vt=a`:host{--_duration:var(--md-elevation-duration, 0s);--_easing:var(--md-elevation-easing, cubic-bezier(0.2, 0, 0, 1));--_level:var(--md-elevation-level, 0);--_shadow-color:var(--md-elevation-shadow-color, var(--md-sys-color-shadow, #000));--_surface-tint:var(--md-elevation-surface-tint, var(--md-sys-color-primary, #6750a4));border-radius:inherit;display:flex;position:relative}:host(:not([shadow])) .shadow,:host(:not([surface])) .surface{display:none}.shadow,.shadow::after,.shadow::before,.surface{border-radius:inherit;content:"";inset:0;position:absolute;transition-property:box-shadow,opacity;transition-duration:var(--_duration);transition-timing-function:var(--_easing)}.shadow::before{box-shadow:0 calc(1px*(clamp(0,var(--_level),1) + clamp(0,var(--_level) - 3,1) + 2*clamp(0,var(--_level) - 4,1))) calc(1px*(2*clamp(0,var(--_level),1) + clamp(0,var(--_level) - 2,1) + clamp(0,var(--_level) - 4,1))) 0 var(--_shadow-color);opacity:.3}.shadow::after{opacity:.15;box-shadow:0 calc(1px*(clamp(0,var(--_level),1) + clamp(0,var(--_level) - 1,1) + 2*clamp(0,var(--_level) - 2,3))) calc(1px*(3*clamp(0,var(--_level),2) + 2*clamp(0,var(--_level) - 2,3))) calc(1px*(clamp(0,var(--_level),4) + 2*clamp(0,var(--_level) - 4,1))) var(--_shadow-color)}.surface{background:var(--_surface-tint);opacity:calc(clamp(0,var(--_level),.05) + clamp(0,var(--_level) - 1,.03) + clamp(0,var(--_level) - 2,.03) + clamp(0,var(--_level) - 3,.01) + clamp(0,var(--_level) - 4,.02))}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let yt=class extends ft{};yt.styles=[vt],yt=t([rt("md-elevation")],yt);
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const bt=t=>null!=t?t:U
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;function _t(t,e=!0){return e&&"rtl"===getComputedStyle(t).getPropertyValue("direction").trim()}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wt(t,e){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get(){return this.dataset[e]??""},set(t){const i=String(t??"");i?this.dataset[e]=i:delete this.dataset[e],this.requestUpdate()}});const i=Symbol(e),o=e.replace("aria","aria-").toLowerCase(),n=t.constructor;let s=!1;Object.defineProperty(t,i,{get(){return this[e]},set(t){s||(this[e]=t,s=!0,this.removeAttribute(o),s=!1)}}),n.createProperty(i,{attribute:o,noAccessor:!0})}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xt extends nt{constructor(){super(...arguments),this.activeIndex=0,this.hideInactiveLabels=!1,this.tabs=[]}render(){return N`<div class="md3-navigation-bar" role="tablist" aria-label="${bt(this.ariaLabel||void 0)}" @keydown="${this.handleKeydown}" @navigation-tab-interaction="${this.handleNavigationTabInteraction}" @navigation-tab-rendered="${this.handleNavigationTabConnected}"><md-elevation shadow surface></md-elevation><div class="md3-navigation-bar__tabs-slot-container"><slot></slot></div></div>`}updated(t){t.has("activeIndex")&&(this.onActiveIndexChange(this.activeIndex),this.dispatchEvent(new CustomEvent("navigation-bar-activated",{detail:{tab:this.tabs[this.activeIndex],activeIndex:this.activeIndex},bubbles:!0,composed:!0}))),t.has("hideInactiveLabels")&&this.onHideInactiveLabelsChange(this.hideInactiveLabels),t.has("tabs")&&(this.onHideInactiveLabelsChange(this.hideInactiveLabels),this.onActiveIndexChange(this.activeIndex))}firstUpdated(t){super.firstUpdated(t),this.layout()}layout(){if(!this.tabsElement)return;const t=[];for(const e of this.tabsElement)t.push(e);this.tabs=t}handleNavigationTabConnected(t){const e=t.target;-1===this.tabs.indexOf(e)&&this.layout()}handleNavigationTabInteraction(t){this.activeIndex=this.tabs.indexOf(t.detail.state)}handleKeydown(t){const e=t.key,i=this.tabs.findIndex((t=>t.matches(":focus-within"))),o=_t(this),n=this.tabs.length-1;if("Enter"===e||" "===e)return void(this.activeIndex=i);if("Home"===e)return void this.tabs[0].focus();if("End"===e)return void this.tabs[n].focus();const s="ArrowRight"===e&&!o||"ArrowLeft"===e&&o;if(s&&i===n)return void this.tabs[0].focus();if(s)return void this.tabs[i+1].focus();const r="ArrowLeft"===e&&!o||"ArrowRight"===e&&o;r&&0===i?this.tabs[n].focus():r&&this.tabs[i-1].focus()}onActiveIndexChange(t){if(!this.tabs[t])throw new Error("NavigationBar: activeIndex is out of bounds.");for(let e=0;e<this.tabs.length;e++)this.tabs[e].active=e===t}onHideInactiveLabelsChange(t){for(const e of this.tabs)e.hideInactiveLabel=t}}t([lt({type:Number}),e("design:type",Object)],xt.prototype,"activeIndex",void 0),t([lt({type:Boolean}),e("design:type",Object)],xt.prototype,"hideInactiveLabels",void 0),t([gt({flatten:!0}),e("design:type",Array)],xt.prototype,"tabsElement",void 0),t([wt,lt({attribute:"data-aria-label",noAccessor:!0}),e("design:type",String)],xt.prototype,"ariaLabel",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const kt=a`:host{--_active-indicator-color:var(--md-navigation-bar-active-indicator-color, var(--md-sys-color-secondary-container, #e8def8));--_active-indicator-height:var(--md-navigation-bar-active-indicator-height, 32px);--_active-indicator-shape:var(--md-navigation-bar-active-indicator-shape, 9999px);--_active-indicator-width:var(--md-navigation-bar-active-indicator-width, 64px);--_active-focus-icon-color:var(--md-navigation-bar-active-focus-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-focus-label-text-color:var(--md-navigation-bar-active-focus-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_active-focus-state-layer-color:var(--md-navigation-bar-active-focus-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_active-hover-icon-color:var(--md-navigation-bar-active-hover-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-hover-label-text-color:var(--md-navigation-bar-active-hover-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_active-hover-state-layer-color:var(--md-navigation-bar-active-hover-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_active-icon-color:var(--md-navigation-bar-active-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-label-text-color:var(--md-navigation-bar-active-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_active-label-text-weight:var(--md-navigation-bar-active-label-text-weight, 700);--_active-pressed-icon-color:var(--md-navigation-bar-active-pressed-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-pressed-label-text-color:var(--md-navigation-bar-active-pressed-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_active-pressed-state-layer-color:var(--md-navigation-bar-active-pressed-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_container-color:var(--md-navigation-bar-container-color, var(--md-sys-color-surface, #fffbfe));--_container-elevation:var(--md-navigation-bar-container-elevation, 2);--_container-height:var(--md-navigation-bar-container-height, 80px);--_container-shape:var(--md-navigation-bar-container-shape, 0px);--_container-surface-tint-layer-color:var(--md-navigation-bar-container-surface-tint-layer-color, var(--md-sys-color-primary, #6750a4));--_focus-state-layer-opacity:var(--md-navigation-bar-focus-state-layer-opacity, 0.12);--_hover-state-layer-opacity:var(--md-navigation-bar-hover-state-layer-opacity, 0.08);--_icon-size:var(--md-navigation-bar-icon-size, 24px);--_inactive-focus-icon-color:var(--md-navigation-bar-inactive-focus-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-focus-label-text-color:var(--md-navigation-bar-inactive-focus-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-focus-state-layer-color:var(--md-navigation-bar-inactive-focus-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-hover-icon-color:var(--md-navigation-bar-inactive-hover-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-hover-label-text-color:var(--md-navigation-bar-inactive-hover-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-hover-state-layer-color:var(--md-navigation-bar-inactive-hover-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-icon-color:var(--md-navigation-bar-inactive-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_inactive-label-text-color:var(--md-navigation-bar-inactive-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_inactive-pressed-icon-color:var(--md-navigation-bar-inactive-pressed-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-pressed-label-text-color:var(--md-navigation-bar-inactive-pressed-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-pressed-state-layer-color:var(--md-navigation-bar-inactive-pressed-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_label-text-font:var(--md-navigation-bar-label-text-font, Roboto);--_label-text-line-height:var(--md-navigation-bar-label-text-line-height, 1rem);--_label-text-size:var(--md-navigation-bar-label-text-size, 0.75rem);--_label-text-tracking:var(--md-navigation-bar-label-text-tracking, 0.031rem);--_label-text-type:var(--md-navigation-bar-label-text-type, 500 0.75rem / 1rem Roboto);--_label-text-weight:var(--md-navigation-bar-label-text-weight, 500);--_pressed-state-layer-opacity:var(--md-navigation-bar-pressed-state-layer-opacity, 0.12);--md-elevation-duration:280ms;--md-elevation-level:var(--_container-elevation);--md-elevation-shadow-color:var(--_container-shadow-color);--md-elevation-surface-tint:var(--_container-surface-tint-layer-color);width:100%}.md3-navigation-bar{display:flex;position:relative;width:100%;background-color:var(--_container-color);border-radius:var(--_container-shape);height:var(--_container-height)}.md3-navigation-bar .md3-navigation-bar__tabs-slot-container{display:inherit;width:inherit}md-elevation{inset:0;position:absolute;z-index:0}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Ct=class extends xt{};Ct.styles=[kt],Ct=t([rt("md-navigation-bar")],Ct);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const $t=1,Tt=2,St=3,It=4,Pt=6,At=t=>(...e)=>({_$litDirective$:t,values:e});class Ot{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,e,i){this._$Ct=t,this._$AM=e,this._$Ci=i}_$AS(t,e){return this.update(t,e)}update(t,e){return this.render(...e)}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Lt=At(class extends Ot{constructor(t){var e;if(super(t),t.type!==$t||"class"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((e=>t[e])).join(" ")+" "}update(t,[e]){var i,o;if(void 0===this.nt){this.nt=new Set,void 0!==t.strings&&(this.st=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in e)e[t]&&!(null===(i=this.st)||void 0===i?void 0:i.has(t))&&this.nt.add(t);return this.render(e)}const n=t.element.classList;this.nt.forEach((t=>{t in e||(n.remove(t),this.nt.delete(t))}));for(const t in e){const i=!!e[t];i===this.nt.has(t)||(null===(o=this.st)||void 0===o?void 0:o.has(t))||(i?(n.add(t),this.nt.add(t)):(n.remove(t),this.nt.delete(t)))}return R}});
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Et extends nt{constructor(){super(...arguments),this.value=""}render(){return N`<div class="md3-badge ${Lt(this.getRenderClasses())}"><p class="md3-badge__value">${this.value}</p></div>`}getRenderClasses(){return{"md3-badge--large":this.value}}}t([lt({type:String}),e("design:type",Object)],Et.prototype,"value",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const zt=a`:host{--_color:var(--md-badge-color, var(--md-sys-color-error, #b3261e));--_large-color:var(--md-badge-large-color, var(--md-sys-color-error, #b3261e));--_large-label-text-color:var(--md-badge-large-label-text-color, var(--md-sys-color-on-error, #fff));--_large-label-text-type:var(--md-badge-large-label-text-type, 500 0.688rem / 1rem Roboto);--_large-shape:var(--md-badge-large-shape, 9999px);--_large-size:var(--md-badge-large-size, 16px);--_shape:var(--md-badge-shape, 9999px);--_size:var(--md-badge-size, 6px)}.md3-badge{inset-inline-start:50%;margin-inline-start:6px;margin-block-start:4px;position:absolute;inset-block-start:0;background-color:var(--_color);border-radius:var(--_shape);height:var(--_size)}.md3-badge:not(.md3-badge--large){width:var(--_size)}.md3-badge.md3-badge--large{display:flex;flex-direction:column;justify-content:center;margin-inline-start:2px;margin-block-start:1px;background-color:var(--_large-color);border-radius:var(--_large-shape);height:var(--_large-size);min-width:var(--_large-size);color:var(--_large-label-text-color)}.md3-badge.md3-badge--large .md3-badge__value{padding:0 4px}.md3-badge__value{font:var(--_large-label-text-type)}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Dt=class extends Et{};Dt.styles=[zt],Dt=t([rt("md-badge")],Dt);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Mt extends nt{constructor(){super(...arguments),this.visible=!1}}t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],Mt.prototype,"visible",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const Nt=a`:host{--_shape-start-start:var(--md-focus-ring-shape-start-start, var(--md-focus-ring-shape, 9999px));--_shape-start-end:var(--md-focus-ring-shape-start-end, var(--md-focus-ring-shape, 9999px));--_shape-end-end:var(--md-focus-ring-shape-end-end, var(--md-focus-ring-shape, 9999px));--_shape-end-start:var(--md-focus-ring-shape-end-start, var(--md-focus-ring-shape, 9999px));--_offset-vertical:var(--md-focus-ring-offset-vertical, 2px);--_offset-horizontal:var(--md-focus-ring-offset-horizontal, 2px);--_width:var(--md-focus-ring-width, 3px);--_color:var(--md-focus-ring-color, var(--md-sys-color-secondary, #625b71));display:none;position:absolute;box-sizing:border-box;pointer-events:none;border:var(--_width) solid var(--_color);border-start-start-radius:var(--_shape-start-start);border-start-end-radius:var(--_shape-start-end);border-end-start-radius:var(--_shape-end-start);border-end-end-radius:var(--_shape-end-end);inset:calc(-1*(var(--_offset-vertical) + var(--_width))) calc(-1*(var(--_offset-horizontal) + var(--_width)))}:host([visible]){display:flex}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Rt=class extends Mt{};
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
var Ut;Rt.styles=[Nt],Rt=t([rt("md-focus-ring")],Rt),function(t){t.INACTIVE="INACTIVE",t.TOUCH_DELAY="TOUCH_DELAY",t.HOLDING="HOLDING",t.RELEASING="RELEASING",t.WAITING_FOR_MOUSE_CLICK="WAITING_FOR_MOUSE_CLICK"}(Ut||(Ut={}));class jt{constructor(t){this.element=t,this.phase=Ut.INACTIVE,this.touchTimer=null,this.clickTimer=null,this.lastPositionEvent=null,this.pressed=!1,this.checkBoundsAfterContextMenu=!1,this.pointerDown=t=>{if(this.shouldRespondToEvent(t)&&this.phase===Ut.INACTIVE)if(this.isTouch(t)){if(this.checkBoundsAfterContextMenu&&!this.inBounds(t))return;this.checkBoundsAfterContextMenu=!1,this.lastPositionEvent=t,this.setPhase(Ut.TOUCH_DELAY),this.touchTimer=setTimeout((()=>{this.touchDelayFinished()}),150)}else{if(!(0===t.button)||this.ignoreClicksWithModifiers&&this.eventHasModifiers(t))return;this.setPhase(Ut.WAITING_FOR_MOUSE_CLICK),this.beginPress(t)}},this.pointerUp=t=>{this.isTouch(t)&&this.shouldRespondToEvent(t)&&(this.phase===Ut.HOLDING?this.waitForClick():this.phase===Ut.TOUCH_DELAY&&(this.setPhase(Ut.RELEASING),this.beginPress(),this.waitForClick()))},this.click=t=>{if(!(this.disabled||this.ignoreClicksWithModifiers&&this.eventHasModifiers(t)))return this.phase===Ut.WAITING_FOR_MOUSE_CLICK?(this.endPress(),void this.setPhase(Ut.INACTIVE)):void(this.phase!==Ut.INACTIVE||this.pressed||this.press())},this.pointerLeave=t=>{this.shouldRespondToEvent(t)&&!this.isTouch(t)&&this.pressed&&this.cancelPress()},this.pointerCancel=t=>{this.shouldRespondToEvent(t)&&this.cancelPress()},this.contextMenu=()=>{this.disabled||(this.checkBoundsAfterContextMenu=!0,this.cancelPress())},this.element.addController(this)}get disabled(){return this.element.disabled}get ignoreClicksWithModifiers(){return this.element.ignoreClicksWithModifiers??!1}setPhase(t){this.phase=t}press(){this.beginPress(null),this.setPhase(Ut.INACTIVE),this.endPress()}beginPress(t=this.lastPositionEvent){this.pressed=!0,this.element.beginPress({positionEvent:t})}endPress(){this.pressed=!1,this.element.endPress({cancelled:!1}),this.cleanup()}cleanup(){this.touchTimer&&clearTimeout(this.touchTimer),this.touchTimer=null,this.clickTimer&&clearTimeout(this.clickTimer),this.clickTimer=null,this.lastPositionEvent=null}cancelPress(){this.pressed=!1,this.cleanup(),this.phase===Ut.TOUCH_DELAY?this.setPhase(Ut.INACTIVE):this.phase!==Ut.INACTIVE&&(this.setPhase(Ut.INACTIVE),this.element.endPress({cancelled:!0}))}isTouch(t){return"touch"===t.pointerType}touchDelayFinished(){this.phase===Ut.TOUCH_DELAY&&(this.setPhase(Ut.HOLDING),this.beginPress())}waitForClick(){this.setPhase(Ut.WAITING_FOR_MOUSE_CLICK),this.clickTimer=setTimeout((()=>{this.phase===Ut.WAITING_FOR_MOUSE_CLICK&&this.cancelPress()}),500)}shouldRespondToEvent(t){return!this.disabled&&t.isPrimary}inBounds(t){const{top:e,left:i,bottom:o,right:n}=this.element.getBoundingClientRect(),{x:s,y:r}=t;return s>=i&&s<=n&&r>=e&&r<=o}eventHasModifiers(t){return t.altKey||t.ctrlKey||t.shiftKey||t.metaKey}hostDisconnected(){this.cancelPress()}hostUpdated(){this.disabled&&this.cancelPress()}}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vt extends nt{constructor(){super(...arguments),this.actionController=new jt(this)}beginPress(t){}endPress({cancelled:t,actionData:e}){t||this.dispatchEvent(new CustomEvent("action",{detail:e,bubbles:!0,composed:!0}))}handlePointerDown(t){this.actionController.pointerDown(t)}handlePointerUp(t){this.actionController.pointerUp(t)}handlePointerCancel(t){this.actionController.pointerCancel(t)}handlePointerLeave(t){this.actionController.pointerLeave(t)}handleClick(t){this.actionController.click(t)}handleContextMenu(){this.actionController.contextMenu()}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ft=new class{constructor(){this.visible=!1}setVisible(t){this.visible=t}};const Gt=new Set(["Tab","ArrowLeft","ArrowRight","ArrowUp","ArrowDown"]);function Bt(t){Gt.has(t.key)&&Ft.setVisible(!0)}function Ht(){return Ft.visible}function Wt(){Ft.setVisible(!1)}!function(t,e=!1){Ft=t,e?window.addEventListener("keydown",Bt):window.removeEventListener("keydown",Bt)}(Ft,!0);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const qt="cubic-bezier(0.2, 0, 0, 1)",Qt="cubic-bezier(.3,0,0,1)",Jt="cubic-bezier(.3,0,.8,.15)";var Zt;!function(t){t[t.INACTIVE=0]="INACTIVE",t[t.TOUCH_DELAY=1]="TOUCH_DELAY",t[t.HOLDING=2]="HOLDING",t[t.WAITING_FOR_CLICK=3]="WAITING_FOR_CLICK"}(Zt||(Zt={}));class Kt extends nt{constructor(){super(...arguments),this.unbounded=!1,this.disabled=!1,this.hovered=!1,this.focused=!1,this.pressed=!1,this.rippleSize="",this.rippleScale="",this.initialSize=0,this.state=Zt.INACTIVE,this.checkBoundsAfterContextMenu=!1}handlePointerenter(t){this.shouldReactToEvent(t)&&(this.hovered=!0)}handlePointerleave(t){this.shouldReactToEvent(t)&&(this.hovered=!1,this.state!==Zt.INACTIVE&&this.endPressAnimation())}handleFocusin(){this.focused=!0}handleFocusout(){this.focused=!1}handlePointerup(t){if(this.shouldReactToEvent(t)){if(this.state!==Zt.HOLDING)return this.state===Zt.TOUCH_DELAY?(this.state=Zt.WAITING_FOR_CLICK,void this.startPressAnimation(this.rippleStartEvent)):void 0;this.state=Zt.WAITING_FOR_CLICK}}async handlePointerdown(t){if(this.shouldReactToEvent(t)){if(this.rippleStartEvent=t,!this.isTouch(t))return this.state=Zt.WAITING_FOR_CLICK,void this.startPressAnimation(t);this.checkBoundsAfterContextMenu&&!this.inBounds(t)||(this.checkBoundsAfterContextMenu=!1,this.state=Zt.TOUCH_DELAY,await new Promise((t=>{setTimeout(t,150)})),this.state===Zt.TOUCH_DELAY&&(this.state=Zt.HOLDING,this.startPressAnimation(t)))}}handleClick(){this.disabled||(this.state!==Zt.WAITING_FOR_CLICK?this.state===Zt.INACTIVE&&(this.startPressAnimation(),this.endPressAnimation()):this.endPressAnimation())}handlePointercancel(t){this.shouldReactToEvent(t)&&this.endPressAnimation()}handleContextmenu(){this.disabled||(this.checkBoundsAfterContextMenu=!0,this.endPressAnimation())}render(){const t={hovered:this.hovered,focused:this.focused,pressed:this.pressed,unbounded:this.unbounded};return N`<div class="surface ${Lt(t)}"></div>`}update(t){t.has("disabled")&&this.disabled&&(this.hovered=!1,this.focused=!1,this.pressed=!1),super.update(t)}getDimensions(){return(this.parentElement??this).getBoundingClientRect()}determineRippleSize(){const{height:t,width:e}=this.getDimensions(),i=Math.max(t,e),o=Math.max(.35*i,75);let n=i,s=Math.floor(.2*i);n=Math.sqrt(e**2+t**2)+10,this.unbounded&&(s-=s%2),this.initialSize=s,this.rippleScale=""+(n+o)/s,this.rippleSize=`${this.initialSize}px`}getNormalizedPointerEventCoords(t){const{scrollX:e,scrollY:i}=window,{left:o,top:n}=this.getDimensions(),s=e+o,r=i+n,{pageX:a,pageY:l}=t;return{x:a-s,y:l-r}}getTranslationCoordinates(t){const{height:e,width:i}=this.getDimensions(),o={x:(i-this.initialSize)/2,y:(e-this.initialSize)/2};let n;return n=t instanceof PointerEvent?this.getNormalizedPointerEventCoords(t):{x:i/2,y:e/2},n={x:n.x-this.initialSize/2,y:n.y-this.initialSize/2},{startPoint:n,endPoint:o}}startPressAnimation(t){this.pressed=!0,this.growAnimation?.cancel(),this.determineRippleSize();const{startPoint:e,endPoint:i}=this.getTranslationCoordinates(t),o=`${e.x}px, ${e.y}px`,n=`${i.x}px, ${i.y}px`;this.growAnimation=this.mdRoot.animate({top:[0,0],left:[0,0],height:[this.rippleSize,this.rippleSize],width:[this.rippleSize,this.rippleSize],transform:[`translate(${o}) scale(1)`,`translate(${n}) scale(${this.rippleScale})`]},{pseudoElement:"::after",duration:450,easing:qt,fill:"forwards"})}async endPressAnimation(){const t=this.growAnimation,e=t?.currentTime??1/0;e>=225?this.pressed=!1:(await new Promise((t=>{setTimeout(t,225-e)})),this.growAnimation===t&&(this.pressed=!1))}shouldReactToEvent(t){if(this.disabled||!t.isPrimary)return!1;if(this.rippleStartEvent&&this.rippleStartEvent.pointerId!==t.pointerId)return!1;if("pointerenter"===t.type||"pointerleave"===t.type)return!this.isTouch(t);const e=1===t.buttons;return this.isTouch(t)||e}inBounds({x:t,y:e}){const{top:i,left:o,bottom:n,right:s}=this.getBoundingClientRect();return t>=o&&t<=s&&e>=i&&e<=n}isTouch({pointerType:t}){return"touch"===t}}t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],Kt.prototype,"unbounded",void 0),t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],Kt.prototype,"disabled",void 0),t([dt(),e("design:type",Object)],Kt.prototype,"hovered",void 0),t([dt(),e("design:type",Object)],Kt.prototype,"focused",void 0),t([dt(),e("design:type",Object)],Kt.prototype,"pressed",void 0),t([ht(".surface"),e("design:type",HTMLElement)],Kt.prototype,"mdRoot",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const Yt=a`:host{--_focus-color:var(--md-ripple-focus-color, var(--md-sys-color-on-surface, #1c1b1f));--_focus-opacity:var(--md-ripple-focus-opacity, 0.12);--_hover-color:var(--md-ripple-hover-color, var(--md-sys-color-on-surface, #1c1b1f));--_hover-opacity:var(--md-ripple-hover-opacity, 0.08);--_pressed-color:var(--md-ripple-pressed-color, var(--md-sys-color-on-surface, #1c1b1f));--_pressed-opacity:var(--md-ripple-pressed-opacity, 0.12);--_shape:var(--md-ripple-shape, 0px)}:host{display:flex}:host([disabled]){opacity:0}.surface,:host{position:absolute;inset:0;pointer-events:none;overflow:hidden}.surface{will-change:transform;border-radius:var(--_shape);outline:0;-webkit-tap-highlight-color:transparent}.surface::after,.surface::before{position:absolute;opacity:0;pointer-events:none;content:""}.surface::before{background-color:var(--_hover-color);transition:opacity 15ms linear,background-color 15ms linear;inset:0}.surface::after{background:radial-gradient(closest-side,var(--_pressed-color) max(100% - 70px,65%),transparent 100%);transition:opacity 375ms linear;transform-origin:center center}.hovered::before{background-color:var(--_hover-color);opacity:var(--_hover-opacity)}.focused::before{background-color:var(--_focus-color);opacity:var(--_focus-opacity);transition-duration:75ms}.pressed::after{opacity:var(--_pressed-opacity);transition-duration:105ms}.unbounded{--_shape:var(--md-ripple-shape, 9999px)}@media screen and (forced-colors:active){:host{display:none}}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Xt=class extends Kt{};Xt.styles=[Yt],Xt=t([rt("md-ripple")],Xt);
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class te extends Vt{constructor(){super(...arguments),this.disabled=!1,this.active=!1,this.hideInactiveLabel=!1,this.badgeValue="",this.showBadge=!1,this.showFocusRing=!1}render(){return N` <button class="md3-navigation-tab ${Lt(this.getRenderClasses())}" role="tab" aria-selected="${this.active}" aria-label="${bt(this.ariaLabel)}" tabindex="${this.active?0:-1}" @focus="${this.handleFocus}" @blur="${this.handleBlur}" @pointerdown="${this.handlePointerDown}" @pointerup="${this.handlePointerUp}" @pointercancel="${this.handlePointerCancel}" @pointerleave="${this.handlePointerLeave}" @pointerenter="${this.handlePointerEnter}" @click="${this.handleClick}" @contextmenu="${this.handleContextMenu}">${this.renderFocusRing()}${this.renderRipple()} <span aria-hidden="true" class="md3-navigation-tab__icon-content"><span class="md3-navigation-tab__active-indicator"></span><span class="md3-navigation-tab__icon"><slot name="inactiveIcon"></slot></span> <span class="md3-navigation-tab__icon md3-navigation-tab__icon--active"><slot name="activeIcon"></slot></span>${this.renderBadge()}</span>${this.renderLabel()} </button>`}getRenderClasses(){return{"md3-navigation-tab--hide-inactive-label":this.hideInactiveLabel,"md3-navigation-tab--active":this.active}}renderFocusRing(){return N`<md-focus-ring .visible="${this.showFocusRing}"></md-focus-ring>`}renderRipple(){return N`<md-ripple class="md3-navigation-tab__ripple"></md-ripple>`}renderBadge(){return this.showBadge?N`<md-badge .value="${this.badgeValue}"></md-badge>`:""}renderLabel(){const t=this.ariaLabel?"true":"false";return this.label?N` <span aria-hidden="${t}" class="md3-navigation-tab__label-text">${this.label}</span>`:""}firstUpdated(t){super.firstUpdated(t);const e=new Event("navigation-tab-rendered",{bubbles:!0,composed:!0});this.dispatchEvent(e)}focus(){const t=this.buttonElement;t&&t.focus()}blur(){const t=this.buttonElement;t&&t.blur()}beginPress({positionEvent:t}){}endPress(t){super.endPress(t),t.cancelled||this.dispatchEvent(new CustomEvent("navigation-tab-interaction",{detail:{state:this},bubbles:!0,composed:!0}))}handlePointerDown(t){super.handlePointerDown(t),Wt(),this.showFocusRing=Ht()}handlePointerUp(t){super.handlePointerUp(t)}handlePointerEnter(t){this.ripple.handlePointerenter(t)}handlePointerLeave(t){super.handlePointerLeave(t),this.ripple.handlePointerleave(t)}handleFocus(){this.showFocusRing=Ht()}handleBlur(){this.showFocusRing=!1}}t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],te.prototype,"active",void 0),t([lt({type:Boolean}),e("design:type",Object)],te.prototype,"hideInactiveLabel",void 0),t([lt({type:String}),e("design:type",String)],te.prototype,"label",void 0),t([lt({type:String}),e("design:type",Object)],te.prototype,"badgeValue",void 0),t([lt({type:Boolean}),e("design:type",Object)],te.prototype,"showBadge",void 0),t([dt(),e("design:type",Object)],te.prototype,"showFocusRing",void 0),t([wt,lt({type:String,attribute:"data-aria-label",noAccessor:!0}),e("design:type",String)],te.prototype,"ariaLabel",void 0),t([ht("button"),e("design:type",HTMLElement)],te.prototype,"buttonElement",void 0),t([ht("md-ripple"),e("design:type",Xt)],te.prototype,"ripple",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const ee=a`:host{--_active-indicator-color:var(--md-navigation-bar-active-indicator-color, var(--md-sys-color-secondary-container, #e8def8));--_active-indicator-height:var(--md-navigation-bar-active-indicator-height, 32px);--_active-indicator-shape:var(--md-navigation-bar-active-indicator-shape, 9999px);--_active-indicator-width:var(--md-navigation-bar-active-indicator-width, 64px);--_active-focus-icon-color:var(--md-navigation-bar-active-focus-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-focus-label-text-color:var(--md-navigation-bar-active-focus-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_active-focus-state-layer-color:var(--md-navigation-bar-active-focus-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_active-hover-icon-color:var(--md-navigation-bar-active-hover-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-hover-label-text-color:var(--md-navigation-bar-active-hover-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_active-hover-state-layer-color:var(--md-navigation-bar-active-hover-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_active-icon-color:var(--md-navigation-bar-active-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-label-text-color:var(--md-navigation-bar-active-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_active-label-text-weight:var(--md-navigation-bar-active-label-text-weight, 700);--_active-pressed-icon-color:var(--md-navigation-bar-active-pressed-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_active-pressed-label-text-color:var(--md-navigation-bar-active-pressed-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_active-pressed-state-layer-color:var(--md-navigation-bar-active-pressed-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_container-color:var(--md-navigation-bar-container-color, var(--md-sys-color-surface, #fffbfe));--_container-elevation:var(--md-navigation-bar-container-elevation, 3);--_container-height:var(--md-navigation-bar-container-height, 80px);--_container-shape:var(--md-navigation-bar-container-shape, 0px);--_container-surface-tint-layer-color:var(--md-navigation-bar-container-surface-tint-layer-color, var(--md-sys-color-primary, #6750a4));--_focus-state-layer-opacity:var(--md-navigation-bar-focus-state-layer-opacity, 0.12);--_hover-state-layer-opacity:var(--md-navigation-bar-hover-state-layer-opacity, 0.08);--_icon-size:var(--md-navigation-bar-icon-size, 24px);--_inactive-focus-icon-color:var(--md-navigation-bar-inactive-focus-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-focus-label-text-color:var(--md-navigation-bar-inactive-focus-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-focus-state-layer-color:var(--md-navigation-bar-inactive-focus-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-hover-icon-color:var(--md-navigation-bar-inactive-hover-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-hover-label-text-color:var(--md-navigation-bar-inactive-hover-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-hover-state-layer-color:var(--md-navigation-bar-inactive-hover-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-icon-color:var(--md-navigation-bar-inactive-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_inactive-label-text-color:var(--md-navigation-bar-inactive-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_inactive-pressed-icon-color:var(--md-navigation-bar-inactive-pressed-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-pressed-label-text-color:var(--md-navigation-bar-inactive-pressed-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_inactive-pressed-state-layer-color:var(--md-navigation-bar-inactive-pressed-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_label-text-type:var(--md-navigation-bar-label-text-type, 500 0.75rem / 1rem Roboto);--_pressed-state-layer-opacity:var(--md-navigation-bar-pressed-state-layer-opacity, 0.12);--md-focus-ring-shape-start-start:var(--md-focus-ring-shape, 8px);--md-focus-ring-shape-start-end:var(--md-focus-ring-shape, 8px);--md-focus-ring-shape-end-end:var(--md-focus-ring-shape, 8px);--md-focus-ring-shape-end-start:var(--md-focus-ring-shape, 8px);--md-focus-ring-offset-vertical:-2px;--md-focus-ring-offset-horizontal:-2px;display:flex;flex-grow:1}.md3-navigation-tab{align-items:center;appearance:none;background:0 0;border:none;box-sizing:border-box;cursor:pointer;display:flex;flex-direction:column;height:100%;justify-content:center;min-height:48px;min-width:48px;outline:0;padding:8px 0 12px;position:relative;text-align:center;width:100%;font:var(--_label-text-type)}.md3-navigation-tab::-moz-focus-inner{border:0;padding:0}.md3-navigation-tab__icon-content{align-items:center;box-sizing:border-box;display:flex;justify-content:center;position:relative;z-index:1}.md3-navigation-tab__label-text{height:16px;margin-top:4px;opacity:1;transition:opacity .1s cubic-bezier(.4,0,.2,1),height .1s cubic-bezier(.4,0,.2,1);z-index:1}.md3-navigation-tab--hide-inactive-label:not(.md3-navigation-tab--active) .md3-navigation-tab__label-text{height:0;opacity:0}.md3-navigation-tab__active-indicator{display:flex;justify-content:center;opacity:0;position:absolute;transition:width .1s cubic-bezier(.4,0,.2,1),opacity .1s cubic-bezier(.4,0,.2,1);width:32px;background-color:var(--_active-indicator-color);border-radius:var(--_active-indicator-shape)}.md3-navigation-tab--active .md3-navigation-tab__active-indicator{opacity:1}.md3-navigation-tab__active-indicator,.md3-navigation-tab__icon-content{height:var(--_active-indicator-height)}.md3-navigation-tab--active .md3-navigation-tab__active-indicator,.md3-navigation-tab__icon-content{width:var(--_active-indicator-width)}.md3-navigation-tab__icon{fill:currentColor;align-self:center;display:inline-block;position:relative;width:var(--_icon-size);height:var(--_icon-size);font-size:var(--_icon-size)}.md3-navigation-tab__icon.md3-navigation-tab__icon--active{display:none}.md3-navigation-tab--active .md3-navigation-tab__icon{display:none}.md3-navigation-tab--active .md3-navigation-tab__icon.md3-navigation-tab__icon--active{display:inline-block}.md3-navigation-tab__ripple{z-index:0}.md3-navigation-tab--active{--md-ripple-hover-color:var(--_active-hover-state-layer-color);--md-ripple-focus-color:var(--_active-focus-state-layer-color);--md-ripple-pressed-color:var(--_active-pressed-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-focus-opacity:var(--_focus-state-layer-opacity);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}.md3-navigation-tab--active .md3-navigation-tab__icon{color:var(--_active-icon-color)}.md3-navigation-tab--active .md3-navigation-tab__label-text{color:var(--_active-label-text-color)}.md3-navigation-tab--active:hover .md3-navigation-tab__icon{color:var(--_active-hover-icon-color)}.md3-navigation-tab--active:hover .md3-navigation-tab__label-text{color:var(--_active-hover-label-text-color)}.md3-navigation-tab--active:focus .md3-navigation-tab__icon{color:var(--_active-focus-icon-color)}.md3-navigation-tab--active:focus .md3-navigation-tab__label-text{color:var(--_active-focus-label-text-color)}.md3-navigation-tab--active:active .md3-navigation-tab__icon{color:var(--_active-pressed-icon-color)}.md3-navigation-tab--active:active .md3-navigation-tab__label-text{color:var(--_active-pressed-label-text-color)}.md3-navigation-tab:not(.md3-navigation-tab--active){--md-ripple-hover-color:var(--_inactive-hover-state-layer-color);--md-ripple-focus-color:var(--_inactive-focus-state-layer-color);--md-ripple-pressed-color:var(--_inactive-pressed-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-focus-opacity:var(--_focus-state-layer-opacity);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}.md3-navigation-tab:not(.md3-navigation-tab--active) .md3-navigation-tab__icon{color:var(--_inactive-icon-color)}.md3-navigation-tab:not(.md3-navigation-tab--active) .md3-navigation-tab__label-text{color:var(--_inactive-label-text-color)}.md3-navigation-tab:not(.md3-navigation-tab--active):hover .md3-navigation-tab__icon{color:var(--_inactive-hover-icon-color)}.md3-navigation-tab:not(.md3-navigation-tab--active):hover .md3-navigation-tab__label-text{color:var(--_inactive-hover-label-text-color)}.md3-navigation-tab:not(.md3-navigation-tab--active):focus .md3-navigation-tab__icon{color:var(--_inactive-focus-icon-color)}.md3-navigation-tab:not(.md3-navigation-tab--active):focus .md3-navigation-tab__label-text{color:var(--_inactive-focus-label-text-color)}.md3-navigation-tab:not(.md3-navigation-tab--active):active .md3-navigation-tab__icon{color:var(--_inactive-pressed-icon-color)}.md3-navigation-tab:not(.md3-navigation-tab--active):active .md3-navigation-tab__label-text{color:var(--_inactive-pressed-label-text-color)}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let ie=class extends te{};ie.styles=[ee],ie=t([rt("md-navigation-tab")],ie);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const oe=a`:host{--_container-shape-start-start:var(--md-filled-icon-button-container-shape-start-start, var(--md-filled-icon-button-container-shape, 9999px));--_container-shape-start-end:var(--md-filled-icon-button-container-shape-start-end, var(--md-filled-icon-button-container-shape, 9999px));--_container-shape-end-end:var(--md-filled-icon-button-container-shape-end-end, var(--md-filled-icon-button-container-shape, 9999px));--_container-shape-end-start:var(--md-filled-icon-button-container-shape-end-start, var(--md-filled-icon-button-container-shape, 9999px));--_container-color:var(--md-filled-icon-button-container-color, var(--md-sys-color-primary, #6750a4));--_container-size:var(--md-filled-icon-button-container-size, 40px);--_disabled-container-color:var(--md-filled-icon-button-disabled-container-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.12));--_disabled-icon-color:var(--md-filled-icon-button-disabled-icon-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.38));--_focus-icon-color:var(--md-filled-icon-button-focus-icon-color, var(--md-sys-color-on-primary, #fff));--_focus-state-layer-color:var(--md-filled-icon-button-focus-state-layer-color, var(--md-sys-color-on-primary, #fff));--_focus-state-layer-opacity:var(--md-filled-icon-button-focus-state-layer-opacity, 0.12);--_hover-icon-color:var(--md-filled-icon-button-hover-icon-color, var(--md-sys-color-on-primary, #fff));--_hover-state-layer-color:var(--md-filled-icon-button-hover-state-layer-color, var(--md-sys-color-on-primary, #fff));--_hover-state-layer-opacity:var(--md-filled-icon-button-hover-state-layer-opacity, 0.08);--_icon-color:var(--md-filled-icon-button-icon-color, var(--md-sys-color-on-primary, #fff));--_icon-size:var(--md-filled-icon-button-icon-size, 24px);--_pressed-icon-color:var(--md-filled-icon-button-pressed-icon-color, var(--md-sys-color-on-primary, #fff));--_pressed-state-layer-color:var(--md-filled-icon-button-pressed-state-layer-color, var(--md-sys-color-on-primary, #fff));--_pressed-state-layer-opacity:var(--md-filled-icon-button-pressed-state-layer-opacity, 0.12);--_selected-container-color:var(--md-filled-icon-button-selected-container-color, var(--md-sys-color-primary, #6750a4));--_toggle-selected-focus-icon-color:var(--md-filled-icon-button-toggle-selected-focus-icon-color, var(--md-sys-color-on-primary, #fff));--_toggle-selected-focus-state-layer-color:var(--md-filled-icon-button-toggle-selected-focus-state-layer-color, var(--md-sys-color-on-primary, #fff));--_toggle-selected-hover-icon-color:var(--md-filled-icon-button-toggle-selected-hover-icon-color, var(--md-sys-color-on-primary, #fff));--_toggle-selected-hover-state-layer-color:var(--md-filled-icon-button-toggle-selected-hover-state-layer-color, var(--md-sys-color-on-primary, #fff));--_toggle-selected-icon-color:var(--md-filled-icon-button-toggle-selected-icon-color, var(--md-sys-color-on-primary, #fff));--_toggle-selected-pressed-icon-color:var(--md-filled-icon-button-toggle-selected-pressed-icon-color, var(--md-sys-color-on-primary, #fff));--_toggle-selected-pressed-state-layer-color:var(--md-filled-icon-button-toggle-selected-pressed-state-layer-color, var(--md-sys-color-on-primary, #fff));--_toggle-unselected-focus-icon-color:var(--md-filled-icon-button-toggle-unselected-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_toggle-unselected-focus-state-layer-color:var(--md-filled-icon-button-toggle-unselected-focus-state-layer-color, var(--md-sys-color-primary, #6750a4));--_toggle-unselected-hover-icon-color:var(--md-filled-icon-button-toggle-unselected-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_toggle-unselected-hover-state-layer-color:var(--md-filled-icon-button-toggle-unselected-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_toggle-unselected-icon-color:var(--md-filled-icon-button-toggle-unselected-icon-color, var(--md-sys-color-primary, #6750a4));--_toggle-unselected-pressed-icon-color:var(--md-filled-icon-button-toggle-unselected-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_toggle-unselected-pressed-state-layer-color:var(--md-filled-icon-button-toggle-unselected-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_unselected-container-color:var(--md-filled-icon-button-unselected-container-color, var(--md-sys-color-surface-variant, #e7e0ec));--md-focus-ring-shape-start-start:var(--md-focus-ring-shape, var(--_container-shape-start-start));--md-focus-ring-shape-start-end:var(--md-focus-ring-shape, var(--_container-shape-start-end));--md-focus-ring-shape-end-end:var(--md-focus-ring-shape, var(--_container-shape-end-end));--md-focus-ring-shape-end-start:var(--md-focus-ring-shape, var(--_container-shape-end-start)) )))}.md3-icon-button{background-color:var(--_container-color);color:var(--_icon-color);--md-ripple-focus-color:var(--_focus-state-layer-color);--md-ripple-focus-opacity:var(--_focus-state-layer-opacity);--md-ripple-hover-color:var(--_hover-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-pressed-color:var(--_pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}.md3-icon-button:hover{color:var(--_hover-icon-color)}.md3-icon-button:focus{color:var(--_focus-icon-color)}.md3-icon-button:active{color:var(--_pressed-icon-color)}.md3-icon-button:disabled{background-color:var(--_disabled-container-color);color:var(--_disabled-icon-color)}.md3-icon-button--toggle-filled{--md-ripple-focus-color:var(--_toggle-unselected-focus-state-layer-color);--md-ripple-hover-color:var(--_toggle-unselected-hover-state-layer-color);--md-ripple-pressed-color:var(--_toggle-unselected-pressed-state-layer-color)}.md3-icon-button--toggle-filled:not(:disabled){background-color:var(--_unselected-container-color);color:var(--_toggle-unselected-icon-color)}.md3-icon-button--toggle-filled:not(:disabled):hover{color:var(--_toggle-unselected-hover-icon-color)}.md3-icon-button--toggle-filled:not(:disabled):focus{color:var(--_toggle-unselected-focus-icon-color)}.md3-icon-button--toggle-filled:not(:disabled):active{color:var(--_toggle-unselected-pressed-icon-color)}.md3-icon-button--selected{--md-ripple-focus-color:var(--_toggle-selected-focus-state-layer-color);--md-ripple-hover-color:var(--_toggle-selected-hover-state-layer-color);--md-ripple-pressed-color:var(--_toggle-selected-pressed-state-layer-color)}.md3-icon-button--selected:not(:disabled){background-color:var(--_selected-container-color);color:var(--_toggle-selected-icon-color)}.md3-icon-button--selected:not(:disabled):hover{color:var(--_toggle-selected-hover-icon-color)}.md3-icon-button--selected:not(:disabled):focus{color:var(--_toggle-selected-focus-icon-color)}.md3-icon-button--selected:not(:disabled):active{color:var(--_toggle-selected-pressed-icon-color)}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;function ne(t,e,i){return t?e():null==i?void 0:i()}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const se=At(class extends Ot{constructor(t){if(super(t),this.rippleGetter=async()=>null,t.type!==Pt)throw new Error("The `ripple` directive must be used on an element")}render(t){return R}async handleEvent(t){const e=await this.rippleGetter();if(e)switch(t.type){case"click":e.handleClick();break;case"contextmenu":e.handleContextmenu();break;case"pointercancel":e.handlePointercancel(t);break;case"pointerdown":await e.handlePointerdown(t);break;case"pointerenter":e.handlePointerenter(t);break;case"pointerleave":e.handlePointerleave(t);break;case"pointerup":e.handlePointerup(t)}}update(t,[e]){return this.element||(this.element=t.element,this.element.addEventListener("click",this),this.element.addEventListener("contextmenu",this),this.element.addEventListener("pointercancel",this),this.element.addEventListener("pointerdown",this),this.element.addEventListener("pointerenter",this),this.element.addEventListener("pointerleave",this),this.element.addEventListener("pointerup",this)),this.rippleGetter="function"==typeof e?e:()=>e,R}});
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class re extends nt{render(){return N`<span><slot></slot></span>`}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const ae=a`:host{--_color:var(--md-icon-color, inherit);--_font:var(--md-icon-font, "Material Symbols Outlined");--_font-variation-settings:var(--md-icon-font-variation-settings, inherit);--_size:var(--md-icon-size, 24px);--_weight:var(--md-icon-weight, 400);display:inline-flex;color:var(--_color);font-family:var(--_font);font-weight:var(--_weight);font-style:normal;font-size:var(--_size);font-variation-settings:var(--_font-variation-settings);line-height:1;letter-spacing:normal;text-transform:none;white-space:nowrap;word-wrap:normal;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale}span ::slotted(svg){fill:currentColor}span ::slotted(*){height:var(--_size);width:var(--_size)}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let le=class extends re{};le.styles=[ae],le=t([rt("md-icon")],le);
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class de extends nt{constructor(){super(...arguments),this.disabled=!1,this.flipIconInRtl=!1,this.flipIcon=_t(this,this.flipIconInRtl),this.showFocusRing=!1,this.showRipple=!1,this.getRipple=()=>(this.showRipple=!0,this.ripple),this.renderRipple=()=>N`<md-ripple ?disabled="${this.disabled}"></md-ripple>`}render(){return N`<button class="md3-icon-button ${Lt(this.getRenderClasses())}" aria-label="${bt(this.ariaLabel)}" aria-haspopup="${bt(this.ariaHasPopup)}" ?disabled="${this.disabled}" @focus="${this.handleFocus}" @blur="${this.handleBlur}" @pointerdown="${this.handlePointerDown}" ${se(this.getRipple)}> ${this.renderFocusRing()} ${ne(this.showRipple,this.renderRipple)} ${this.renderIcon()} ${this.renderTouchTarget()} </button>`}getRenderClasses(){return{"md3-icon-button--flip-icon":this.flipIcon}}renderIcon(){return N`<md-icon class="md3-icon-button__icon"><slot></slot></md-icon>`}renderTouchTarget(){return N`<span class="md3-icon-button__touch"></span>`}renderFocusRing(){return N`<md-focus-ring .visible="${this.showFocusRing}"></md-focus-ring>`}connectedCallback(){this.flipIcon=_t(this,this.flipIconInRtl),super.connectedCallback()}handlePointerDown(){Wt(),this.showFocusRing=Ht()}handleFocus(){this.showFocusRing=Ht()}handleBlur(){this.showFocusRing=!1}}t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],de.prototype,"disabled",void 0),t([lt({type:Boolean}),e("design:type",Object)],de.prototype,"flipIconInRtl",void 0),t([dt(),e("design:type",Boolean)],de.prototype,"flipIcon",void 0),t([wt,lt({type:String,attribute:"data-aria-label"}),e("design:type",String)],de.prototype,"ariaLabel",void 0),t([wt,lt({type:String,attribute:"data-aria-haspopup"}),e("design:type",String)],de.prototype,"ariaHasPopup",void 0),t([ht("button"),e("design:type",HTMLElement)],de.prototype,"buttonElement",void 0),t([pt("md-ripple"),e("design:type",Promise)],de.prototype,"ripple",void 0),t([dt(),e("design:type",Object)],de.prototype,"showFocusRing",void 0),t([dt(),e("design:type",Object)],de.prototype,"showRipple",void 0);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class ce extends de{constructor(){super(...arguments),this.linkHref="",this.disabled=!1}willUpdate(){this.disabled=!1}render(){return N`<div class="md3-icon-button ${Lt(this.getRenderClasses())}" @focus="${this.handleFocus}" @blur="${this.handleBlur}" @pointerdown="${this.handlePointerDown}" ${se(this.getRipple)}> ${this.renderFocusRing()} ${ne(this.showRipple,this.renderRipple)} ${this.renderIcon()} ${this.renderTouchTarget()} <a class="md3-icon-button__link" href="${this.linkHref}" target="${bt(this.linkTarget)}" aria-label="${bt(this.ariaLabel)}" @focus="${this.handleFocus}" @blur="${this.handleBlur}"> </a> </div>`}}t([lt({type:String}),e("design:type",Object)],ce.prototype,"linkHref",void 0),t([lt({type:String}),e("design:type",String)],ce.prototype,"linkTarget",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const he=a`:host{display:inline-flex;outline:0;-webkit-tap-highlight-color:transparent;height:max(48px,var(--_container-size));width:max(48px,var(--_container-size));align-items:center;justify-content:center}:host([disabled]){pointer-events:none}.md3-icon-button{align-items:center;border:none;box-sizing:border-box;cursor:pointer;display:flex;justify-content:center;outline:0;position:relative;text-decoration:none;user-select:none;z-index:0;height:var(--_container-size);width:var(--_container-size);border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.md3-icon-button__icon{--md-icon-size:var(--_icon-size);--md-icon-weight:inherit}md-ripple{z-index:-1;border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.md3-icon-button--flip-icon .md3-icon-button__icon{transform:scaleX(-1)}.md3-icon-button__icon{display:inline-flex}.md3-icon-button__link{height:100%;outline:0;position:absolute;width:100%}.md3-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%,-50%)}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let pe=class extends ce{getRenderClasses(){return{...super.getRenderClasses(),"md3-icon-button--filled":!0}}};pe.styles=[he,oe],pe=t([rt("md-filled-link-icon-button")],pe);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class ue extends nt{constructor(){super(...arguments),this.ariaModal="false",this.opened=!1,this.pivot="end"}render(){const t=this.opened?"true":"false",e=this.opened?"false":"true";return N` <div aria-describedby="${bt(this.ariaDescribedBy)}" aria-expanded="${t}" aria-hidden="${e}" aria-label="${bt(this.ariaLabel)}" aria-labelledby="${bt(this.ariaLabelledBy)}" aria-modal="${this.ariaModal}" class="md3-navigation-drawer ${this.getRenderClasses()}" role="dialog"> <md-elevation shadow surface></md-elevation> <div class="md3-navigation-drawer__slot-content"> <slot></slot> </div> </div> `}getRenderClasses(){return Lt({"md3-navigation-drawer--opened":this.opened,"md3-navigation-drawer--pivot-at-start":"start"===this.pivot})}updated(t){t.has("opened")&&setTimeout((()=>{this.dispatchEvent(new CustomEvent("navigation-drawer-changed",{detail:{opened:this.opened},bubbles:!0,composed:!0}))}),250)}}t([wt,lt({type:String,attribute:"data-aria-describedby",noAccessor:!0}),e("design:type",String)],ue.prototype,"ariaDescribedBy",void 0),t([wt,lt({type:String,attribute:"data-aria-label",noAccessor:!0}),e("design:type",String)],ue.prototype,"ariaLabel",void 0),t([wt,lt({attribute:"data-aria-modal",type:String,noAccessor:!0}),e("design:type",String)],ue.prototype,"ariaModal",void 0),t([wt,lt({type:String,attribute:"data-aria-labelledby",noAccessor:!0}),e("design:type",String)],ue.prototype,"ariaLabelledBy",void 0),t([lt({type:Boolean}),e("design:type",Object)],ue.prototype,"opened",void 0),t([lt({type:String}),e("design:type",String)],ue.prototype,"pivot",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const me=a`:host{--_container-shape-start-start: var(--md-navigation-drawer-container-shape-start-start, var(--md-navigation-drawer-container-shape, 0));--_container-shape-start-end: var(--md-navigation-drawer-container-shape-start-end, var(--md-navigation-drawer-container-shape, 16px));--_container-shape-end-end: var(--md-navigation-drawer-container-shape-end-end, var(--md-navigation-drawer-container-shape, 16px));--_container-shape-end-start: var(--md-navigation-drawer-container-shape-end-start, var(--md-navigation-drawer-container-shape, 0));--_container-color: var(--md-navigation-drawer-container-color, #fff);--_container-height: var(--md-navigation-drawer-container-height, 100%);--_container-surface-tint-layer-color: ;--_container-width: var(--md-navigation-drawer-container-width, 360px);--_divider-color: var(--md-navigation-drawer-divider-color, #000);--_modal-container-elevation: var(--md-navigation-drawer-modal-container-elevation, 1);--_standard-container-elevation: var(--md-navigation-drawer-standard-container-elevation, 0);--md-elevation-level:var(--_standard-container-elevation);--md-elevation-shadow-color:var(--_divider-color);--md-elevation-surface-tint:var(--_container-surface-tint-layer-color)}:host{display:flex}.md3-navigation-drawer{inline-size:0;box-sizing:border-box;display:flex;justify-content:flex-end;overflow:hidden;overflow-y:auto;visibility:hidden;transition:inline-size .25s cubic-bezier(0.4, 0, 0.2, 1) 0s,visibility 0s cubic-bezier(0.4, 0, 0.2, 1) .25s}md-elevation{inset:0;position:absolute;width:inherit;z-index:0}.md3-navigation-drawer--opened{visibility:visible;transition:inline-size .25s cubic-bezier(0.4, 0, 0.2, 1) 0s,visibility 0s cubic-bezier(0.4, 0, 0.2, 1) 0s}.md3-navigation-drawer--pivot-at-start{justify-content:flex-start}.md3-navigation-drawer__slot-content{display:flex;flex-direction:column;position:relative}/*# sourceMappingURL=navigation-drawer-styles.css.map */
`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,ge=a`.md3-navigation-drawer-modal{background-color:var(--_container-color);border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-end-radius:var(--_container-shape-end-end);border-end-start-radius:var(--_container-shape-end-start);height:var(--_container-height)}.md3-navigation-drawer-modal.md3-navigation-drawer-modal--opened{inline-size:var(--_container-width)}.md3-navigation-drawer-modal .md3-navigation-drawer-modal__slot-content{min-inline-size:var(--_container-width);max-inline-size:var(--_container-width)}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let fe=class extends ue{};fe.styles=[ge,me],fe=t([rt("md-navigation-drawer")],fe);
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class ve extends nt{constructor(){super(...arguments),this.role="listitem",this.headline="",this.supportingText="",this.multiLineSupportingText=!1,this.trailingSupportingText="",this.disabled=!1,this.itemTabIndex=-1,this.active=!1,this.isListItem=!0,this.showFocusRing=!1,this.showRipple=!1,this.focusOnSelection=!0,this.getRipple=()=>(this.showRipple=!0,this.ripple),this.isFirstUpdate=!0}willUpdate(t){t.has("active")&&!this.disabled&&(this.active?(this.itemTabIndex=0,this.focusOnSelection&&(this.showFocusRing=Ht())):this.isFirstUpdate||(this.itemTabIndex=-1))}render(){return this.renderListItem(N` <div class="content-wrapper"> ${this.renderStart()} ${this.renderBody()} ${this.renderEnd()} ${this.renderRipple()} ${this.renderFocusRing()} </div>`)}renderListItem(t){return N` <li tabindex="${this.disabled?-1:this.itemTabIndex}" role="${this.role}" aria-selected="${this.ariaSelected||U}" aria-checked="${this.ariaChecked||U}" class="list-item ${Lt(this.getRenderClasses())}" @pointerdown="${this.onPointerdown}" @focus="${this.onFocus}" @blur="${this.onBlur}" @click="${this.onClick}" @pointerenter="${this.onPointerenter}" @pointerleave="${this.onPointerleave}" @keydown="${this.onKeydown}" ${se(this.getRipple)}>${t}</li>`}renderRipple(){return this.showRipple?N`<md-ripple ?disabled="${this.disabled}"></md-ripple>`:U}renderFocusRing(){return N`<md-focus-ring class="focus-ring" .visible="${this.showFocusRing}"></md-focus-ring>`}getRenderClasses(){return{"with-one-line":""===this.supportingText,"with-two-line":""!==this.supportingText&&!this.multiLineSupportingText,"with-three-line":""!==this.supportingText&&this.multiLineSupportingText,disabled:this.disabled}}renderStart(){return N`<div class="start"><slot name="start"></slot></div>`}renderBody(){const t=""!==this.supportingText?this.renderSupportingText():"";return N`<div class="body"><span class="label-text">${this.headline}</span>${t}</div>`}renderSupportingText(){return N`<span class="supporting-text ${Lt(this.getSupportingTextClasses())}">${this.supportingText}</span>`}getSupportingTextClasses(){return{"supporting-text--multi-line":this.multiLineSupportingText}}renderEnd(){const t=""!==this.trailingSupportingText?this.renderTrailingSupportingText():"";return N`<div class="end"><slot name="end">${t}</slot></div>`}renderTrailingSupportingText(){return N`<span class="trailing-supporting-text">${this.trailingSupportingText}</span>`}onPointerdown(){Wt(),this.showFocusRing=Ht()}onFocus(){this.showFocusRing=Ht()}onBlur(){this.showFocusRing=!1}onClick(t){}onKeydown(t){}onPointerenter(t){}onPointerleave(t){}updated(t){super.updated(t),t.has("active")&&!this.isFirstUpdate&&this.active&&this.focusOnSelection&&this.listItemRoot.focus(),this.isFirstUpdate=!1}}t([wt,lt({type:String,attribute:"data-role",noAccessor:!0}),e("design:type",String)],ve.prototype,"role",void 0),t([wt,lt({type:String,attribute:"data-aria-selected",noAccessor:!0}),e("design:type",String)],ve.prototype,"ariaSelected",void 0),t([wt,lt({type:String,attribute:"data-aria-checked",noAccessor:!0}),e("design:type",String)],ve.prototype,"ariaChecked",void 0),t([lt(),e("design:type",Object)],ve.prototype,"headline",void 0),t([lt(),e("design:type",Object)],ve.prototype,"supportingText",void 0),t([lt({type:Boolean}),e("design:type",Object)],ve.prototype,"multiLineSupportingText",void 0),t([lt(),e("design:type",Object)],ve.prototype,"trailingSupportingText",void 0),t([lt({type:Boolean}),e("design:type",Object)],ve.prototype,"disabled",void 0),t([lt({type:Number}),e("design:type",Object)],ve.prototype,"itemTabIndex",void 0),t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],ve.prototype,"active",void 0),t([lt({type:Boolean,attribute:"md-list-item",reflect:!0}),e("design:type",Object)],ve.prototype,"isListItem",void 0),t([pt("md-ripple"),e("design:type",Promise)],ve.prototype,"ripple",void 0),t([ht(".list-item"),e("design:type",HTMLElement)],ve.prototype,"listItemRoot",void 0),t([dt(),e("design:type",Object)],ve.prototype,"showFocusRing",void 0),t([dt(),e("design:type",Object)],ve.prototype,"showRipple",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const ye=a`:host{--_list-item-container-color:var(--md-list-list-item-container-color, var(--md-sys-color-surface, #fffbfe));--_list-item-container-shape:var(--md-list-list-item-container-shape, 0px);--_list-item-disabled-label-text-color:var(--md-list-list-item-disabled-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_list-item-disabled-label-text-opacity:var(--md-list-list-item-disabled-label-text-opacity, 0.3);--_list-item-disabled-leading-icon-color:var(--md-list-list-item-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_list-item-disabled-leading-icon-opacity:var(--md-list-list-item-disabled-leading-icon-opacity, 0.38);--_list-item-disabled-trailing-icon-color:var(--md-list-list-item-disabled-trailing-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_list-item-disabled-trailing-icon-opacity:var(--md-list-list-item-disabled-trailing-icon-opacity, 0.38);--_list-item-focus-label-text-color:var(--md-list-list-item-focus-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_list-item-focus-leading-icon-icon-color:var(--md-list-list-item-focus-leading-icon-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_list-item-focus-state-layer-color:var(--md-list-list-item-focus-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_list-item-focus-state-layer-opacity:var(--md-list-list-item-focus-state-layer-opacity, 0.12);--_list-item-focus-trailing-icon-icon-color:var(--md-list-list-item-focus-trailing-icon-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_list-item-hover-label-text-color:var(--md-list-list-item-hover-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_list-item-hover-leading-icon-icon-color:var(--md-list-list-item-hover-leading-icon-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_list-item-hover-state-layer-color:var(--md-list-list-item-hover-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_list-item-hover-state-layer-opacity:var(--md-list-list-item-hover-state-layer-opacity, 0.08);--_list-item-hover-trailing-icon-icon-color:var(--md-list-list-item-hover-trailing-icon-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_list-item-label-text-color:var(--md-list-list-item-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_list-item-label-text-line-height:var(--md-list-list-item-label-text-line-height, 1.5rem);--_list-item-label-text-type:var(--md-list-list-item-label-text-type, 400 1rem / 1.5rem Roboto);--_list-item-large-leading-video-height:var(--md-list-list-item-large-leading-video-height, 69px);--_list-item-leading-avatar-label-color:var(--md-list-list-item-leading-avatar-label-color, var(--md-sys-color-on-primary-container, #21005d));--_list-item-leading-avatar-label-type:var(--md-list-list-item-leading-avatar-label-type, 500 1rem / 1.5rem Roboto);--_list-item-leading-avatar-color:var(--md-list-list-item-leading-avatar-color, var(--md-sys-color-primary-container, #eaddff));--_list-item-leading-avatar-shape:var(--md-list-list-item-leading-avatar-shape, 9999px);--_list-item-leading-avatar-size:var(--md-list-list-item-leading-avatar-size, 40px);--_list-item-leading-icon-color:var(--md-list-list-item-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_list-item-leading-icon-size:var(--md-list-list-item-leading-icon-size, 18px);--_list-item-leading-image-height:var(--md-list-list-item-leading-image-height, 56px);--_list-item-leading-image-shape:var(--md-list-list-item-leading-image-shape, 0px);--_list-item-leading-image-width:var(--md-list-list-item-leading-image-width, 56px);--_list-item-leading-video-shape:var(--md-list-list-item-leading-video-shape, 0px);--_list-item-leading-video-width:var(--md-list-list-item-leading-video-width, 100px);--_list-item-one-line-container-height:var(--md-list-list-item-one-line-container-height, 56px);--_list-item-pressed-label-text-color:var(--md-list-list-item-pressed-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_list-item-pressed-leading-icon-icon-color:var(--md-list-list-item-pressed-leading-icon-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_list-item-pressed-state-layer-color:var(--md-list-list-item-pressed-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_list-item-pressed-state-layer-opacity:var(--md-list-list-item-pressed-state-layer-opacity, 0.12);--_list-item-pressed-trailing-icon-icon-color:var(--md-list-list-item-pressed-trailing-icon-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_list-item-small-leading-video-height:var(--md-list-list-item-small-leading-video-height, 56px);--_list-item-supporting-text-color:var(--md-list-list-item-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_list-item-supporting-text-type:var(--md-list-list-item-supporting-text-type, 400 0.875rem / 1.25rem Roboto);--_list-item-three-line-container-height:var(--md-list-list-item-three-line-container-height, 88px);--_list-item-trailing-icon-color:var(--md-list-list-item-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_list-item-trailing-icon-size:var(--md-list-list-item-trailing-icon-size, 24px);--_list-item-trailing-supporting-text-color:var(--md-list-list-item-trailing-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_list-item-trailing-supporting-text-line-height:var(--md-list-list-item-trailing-supporting-text-line-height, 1rem);--_list-item-trailing-supporting-text-type:var(--md-list-list-item-trailing-supporting-text-type, 500 0.688rem / 1rem Roboto);--_list-item-two-line-container-height:var(--md-list-list-item-two-line-container-height, 72px)}:host{color:unset;--md-focus-ring-shape-start-start:var(--md-focus-ring-shape, 4px);--md-focus-ring-shape-start-end:var(--md-focus-ring-shape, 4px);--md-focus-ring-shape-end-end:var(--md-focus-ring-shape, 4px);--md-focus-ring-shape-end-start:var(--md-focus-ring-shape, 4px);--md-focus-ring-offset-vertical:-2px;--md-focus-ring-offset-horizontal:-3px;--md-ripple-hover-color:var(--_list-item-hover-state-layer-color);--md-ripple-hover-opacity:var(--_list-item-hover-state-layer-opacity);--md-ripple-pressed-color:var(--_list-item-pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_list-item-pressed-state-layer-opacity);--md-ripple-focus-color:var(--_list-item-focus-state-layer-color);--md-ripple-focus-opacity:var(--_list-item-focus-state-layer-opacity)}.list-item{align-items:center;box-sizing:border-box;display:flex;outline:0;position:relative;width:100%;text-decoration:none;background-color:var(--_list-item-container-color);border-radius:var(--_list-item-container-shape)}.list-item:not(.disabled){cursor:pointer}.list-item.disabled{pointer-events:none}.content-wrapper{display:flex;width:100%}.with-one-line{min-height:var(--_list-item-one-line-container-height)}.with-two-line{min-height:var(--_list-item-two-line-container-height)}.with-three-line{min-height:var(--_list-item-three-line-container-height)}.start{display:inline-flex;flex-direction:column;justify-content:center;align-items:center;flex:0 0 auto;z-index:1}.with-three-line .start{justify-content:start}.with-leading-image .start,.with-leading-thumbnail .start{padding-inline-start:16px}.with-leading-video .start{padding-inline-start:0}.body{display:inline-flex;justify-content:center;flex-direction:column;box-sizing:border-box;flex:1 0 0;padding-inline-start:16px;z-index:1}.end{display:inline-flex;flex-direction:column;justify-content:center;flex:0 0 auto;padding-inline-end:24px;z-index:1}.with-three-line .end{justify-content:start}.label-text{display:flex;color:var(--_list-item-label-text-color);font:var(--_list-item-label-text-type)}:hover .label-text{color:var(--_list-item-hover-label-text-color)}:focus .label-text{color:var(--_list-item-focus-label-text-color)}:active .label-text{color:var(--_list-item-pressed-label-text-color)}.disabled .label-text{color:var(--_list-item-disabled-label-text-color);opacity:var(--_list-item-disabled-label-text-opacity)}.supporting-text{display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:100%;color:var(--_list-item-supporting-text-color);font:var(--_list-item-supporting-text-type)}.disabled .supporting-text{color:var(--_list-item-disabled-label-text-color);opacity:var(--_list-item-disabled-label-text-opacity)}.supporting-text--multi-line{-webkit-box-orient:vertical;-webkit-line-clamp:2;display:-webkit-box;overflow:hidden;white-space:normal}.trailing-supporting-text{padding-inline-start:16px;font:var(--_list-item-trailing-supporting-text-type)}.list-item:not(.disabled) .trailing-supporting-text{color:var(--_list-item-trailing-supporting-text-color)}.disabled .trailing-supporting-text{color:var(--_list-item-disabled-label-text-color);opacity:var(--_list-item-disabled-label-text-opacity)}.with-three-line .trailing-supporting-text{padding-block-start:calc((var(--_list-item-label-text-line-height) - var(--_list-item-trailing-supporting-text-line-height))/ 2)}.focus-ring{z-index:1}::slotted([data-variant=image]){display:inline-flex;margin-inline-start:16px;height:var(--_list-item-leading-image-height);width:var(--_list-item-leading-image-width);border-radius:var(--_list-item-leading-image-shape);padding-block:calc((var(--_list-item-two-line-container-height) - var(--_list-item-leading-image-height))/ 2)}.with-three-line ::slotted([data-variant=image]){padding-block:0}slot[name=start]::slotted([data-variant=icon]){--md-icon-color:var(--_list-item-leading-icon-color);--md-icon-size:var(--_list-item-leading-icon-size)}.with-three-line slot[name=start]::slotted([data-variant=icon]){padding-block-start:calc((var(--_list-item-label-text-line-height) - var(--_list-item-leading-icon-size))/ 2)}slot[name=end]::slotted([data-variant=icon]){--md-icon-color:var(--_list-item-trailing-icon-color);--md-icon-size:var(--_list-item-trailing-icon-size)}.with-three-line slot[name=end]::slotted([data-variant=icon]){padding-block-start:calc((var(--_list-item-label-text-line-height) - var(--_list-item-trailing-icon-size))/ 2)}::slotted([data-variant=icon]){padding-inline-start:16px}:hover slot[name=start]::slotted([data-variant=icon]){--md-icon-color:var(--_list-item-hover-leading-icon-icon-color)}:hover slot[name=end]::slotted([data-variant=icon]){--md-icon-color:var(--_list-item-hover-trailing-icon-icon-color)}:focus slot[name=start]::slotted([data-variant=icon]){--md-icon-color:var(--_list-item-focus-leading-icon-icon-color)}:focus slot[name=end]::slotted([data-variant=icon]){--md-icon-color:var(--_list-item-focus-trailing-icon-icon-color)}:active slot[name=start]::slotted([data-variant=icon]){--md-icon-color:var(--_list-item-pressed-leading-icon-icon-color)}:active slot[name=end]::slotted([data-variant=icon]){--md-icon-color:var(--_list-item-pressed-trailing-icon-icon-color)}.disabled slot[name=start]::slotted([data-variant=icon]){opacity:var(--_list-item-disabled-leading-icon-opacity);--md-icon-color:var(--_list-item-disabled-leading-icon-color)}.disabled slot[name=end]::slotted([data-variant=icon]){opacity:var(--_list-item-disabled-trailing-icon-opacity);--md-icon-color:var(--_list-item-disabled-trailing-icon-color)}::slotted([data-variant=avatar]){display:inline-flex;justify-content:center;align-items:center;margin-inline-start:16px;background-color:var(--_list-item-leading-avatar-color);height:var(--_list-item-leading-avatar-size);width:var(--_list-item-leading-avatar-size);border-radius:var(--_list-item-leading-avatar-shape);color:var(--_list-item-leading-avatar-label-color);font:var(--_list-item-leading-avatar-label-type)}::slotted([data-variant=video-large]),::slotted([data-variant=video]){display:inline-flex;object-fit:cover;height:var(--_list-item-small-leading-video-height);width:var(--_list-item-leading-video-width);border-radius:var(--_list-item-leading-video-shape);padding-block:calc((var(--_list-item-three-line-container-height) - var(--_list-item-small-leading-video-height))/ 2)}.with-three-line ::slotted([data-variant=video-large]),.with-three-line ::slotted([data-variant=video]){padding-block:0}::slotted([data-variant=video-large]){padding-block:calc((var(--_list-item-three-line-container-height) - var(--_list-item-large-leading-video-height))/ 2);height:var(--_list-item-large-leading-video-height)}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let be=class extends ve{};be.styles=[ye],be=t([rt("md-list-item")],be);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const _e={ArrowDown:"ArrowDown",ArrowUp:"ArrowUp",Home:"Home",End:"End"},we=new Set(Object.values(_e));class xe extends nt{constructor(){super(...arguments),this.role="list",this.listTabIndex=0}render(){return this.renderList()}renderList(){return N` <ul class="md3-list ${Lt(this.getListClasses())}" aria-label="${bt(this.ariaLabel)}" tabindex="${this.listTabIndex}" role="${this.role}" @keydown="${this.handleKeydown}"> ${this.renderContent()} </ul> `}getListClasses(){return{}}renderContent(){return N`<span><slot @click="${t=>{t.stopPropagation()}}"></slot></span>`}handleKeydown(t){const e=t.key;if(!function(t){return we.has(t)}(e))return;const i=this.items;if(!i.length)return;const o=xe.getActiveItem(i);switch(o&&(o.item.active=!1),t.preventDefault(),e){case _e.ArrowDown:if(o){const t=xe.getNextItem(i,o.index);t&&(t.active=!0)}else xe.activateFirstItem(i);break;case _e.ArrowUp:if(o){const t=xe.getPrevItem(i,o.index);t&&(t.active=!0)}else i[i.length-1].active=!0;break;case _e.Home:xe.activateFirstItem(i);break;case _e.End:xe.activateLastItem(i)}}static activateFirstItem(t){const e=xe.getFirstActivatableItem(t);e&&(e.active=!0)}static activateLastItem(t){const e=xe.getLastActivatableItem(t);e&&(e.active=!0)}static deactivateActiveItem(t){const e=xe.getActiveItem(t);return e&&(e.item.active=!1),e}focus(){this.listRoot.focus()}static getActiveItem(t){for(let e=0;e<t.length;e++){const i=t[e];if(i.active)return{item:i,index:e}}return null}static getFirstActivatableItem(t){for(const e of t)if(!e.disabled)return e;return null}static getLastActivatableItem(t){for(let e=t.length-1;e>=0;e--){const i=t[e];if(!i.disabled)return i}return null}static getNextItem(t,e){for(let i=1;i<t.length;i++){const o=t[(i+e)%t.length];if(!o.disabled)return o}return null}static getPrevItem(t,e){for(let i=1;i<t.length;i++){const o=t[(e-i+t.length)%t.length];if(!o.disabled)return o}return null}}xe.shadowRootOptions={mode:"open",delegatesFocus:!0},t([wt,lt({type:String,attribute:"data-aria-label",noAccessor:!0}),e("design:type",String)],xe.prototype,"ariaLabel",void 0),t([wt,lt({type:String,attribute:"data-aria-activedescendant",noAccessor:!0}),e("design:type",String)],xe.prototype,"ariaActivedescendant",void 0),t([wt,lt({type:String,attribute:"data-role",noAccessor:!0}),e("design:type",String)],xe.prototype,"role",void 0),t([lt({type:Number}),e("design:type",Number)],xe.prototype,"listTabIndex",void 0),t([ht(".md3-list"),e("design:type",HTMLElement)],xe.prototype,"listRoot",void 0),t([gt({flatten:!0,selector:"[md-list-item]"}),e("design:type",Array)],xe.prototype,"items",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const ke=a`:host{--_container-color:var(--md-list-container-color, var(--md-sys-color-surface, #fffbfe));color:unset}.md3-list{background-color:var(--_container-color);display:block;list-style-type:none;margin:0;min-width:300px;outline:0;padding:8px 0;position:relative}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Ce=class extends xe{};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $e(t){return t<0?-1:0===t?0:1}function Te(t,e,i){return(1-i)*t+i*e}function Se(t){return(t%=360)<0&&(t+=360),t}function Ie(t,e){return[t[0]*e[0][0]+t[1]*e[0][1]+t[2]*e[0][2],t[0]*e[1][0]+t[1]*e[1][1]+t[2]*e[1][2],t[0]*e[2][0]+t[1]*e[2][1]+t[2]*e[2][2]]}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ce.styles=[ke],Ce=t([rt("md-list")],Ce);const Pe=[[.41233895,.35762064,.18051042],[.2126,.7152,.0722],[.01932141,.11916382,.95034478]],Ae=[[3.2413774792388685,-1.5376652402851851,-.49885366846268053],[-.9691452513005321,1.8758853451067872,.04156585616912061],[.05562093689691305,-.20395524564742123,1.0571799111220335]],Oe=[95.047,100,108.883];function Le(t,e,i){return(255<<24|(255&t)<<16|(255&e)<<8|255&i)>>>0}function Ee(t){return Le(je(t[0]),je(t[1]),je(t[2]))}function ze(t){return t>>16&255}function De(t){return t>>8&255}function Me(t){return 255&t}function Ne(t){const e=function(t){return Ie([Ue(ze(t)),Ue(De(t)),Ue(Me(t))],Pe)}(t)[1];return 116*function(t){const e=216/24389,i=24389/27;return t>e?Math.pow(t,1/3):(i*t+16)/116}(e/100)-16}function Re(t){return 100*function(t){const e=216/24389,i=24389/27,o=t*t*t;return o>e?o:(116*t-16)/i}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */((t+16)/116)}function Ue(t){const e=t/255;return e<=.040449936?e/12.92*100:100*Math.pow((e+.055)/1.055,2.4)}function je(t){const e=t/100;let i=0;return i=e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,o=0,n=255,(s=Math.round(255*i))<o?o:s>n?n:s;var o,n,s}class Ve{static make(t=function(){return Oe}(),e=200/Math.PI*Re(50)/100,i=50,o=2,n=!1){const s=t,r=.401288*s[0]+.650173*s[1]+-.051461*s[2],a=-.250268*s[0]+1.204414*s[1]+.045854*s[2],l=-.002079*s[0]+.048952*s[1]+.953127*s[2],d=.8+o/10,c=d>=.9?Te(.59,.69,10*(d-.9)):Te(.525,.59,10*(d-.8));let h=n?1:d*(1-1/3.6*Math.exp((-e-42)/92));h=h>1?1:h<0?0:h;const p=d,u=[h*(100/r)+1-h,h*(100/a)+1-h,h*(100/l)+1-h],m=1/(5*e+1),g=m*m*m*m,f=1-g,v=g*e+.1*f*f*Math.cbrt(5*e),y=Re(i)/t[1],b=1.48+Math.sqrt(y),_=.725/Math.pow(y,.2),w=_,x=[Math.pow(v*u[0]*r/100,.42),Math.pow(v*u[1]*a/100,.42),Math.pow(v*u[2]*l/100,.42)],k=[400*x[0]/(x[0]+27.13),400*x[1]/(x[1]+27.13),400*x[2]/(x[2]+27.13)];return new Ve(y,(2*k[0]+k[1]+.05*k[2])*_,_,w,c,p,u,v,Math.pow(v,.25),b)}constructor(t,e,i,o,n,s,r,a,l,d){this.n=t,this.aw=e,this.nbb=i,this.ncb=o,this.c=n,this.nc=s,this.rgbD=r,this.fl=a,this.fLRoot=l,this.z=d}}Ve.DEFAULT=Ve.make();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Fe{constructor(t,e,i,o,n,s,r,a,l){this.hue=t,this.chroma=e,this.j=i,this.q=o,this.m=n,this.s=s,this.jstar=r,this.astar=a,this.bstar=l}distance(t){const e=this.jstar-t.jstar,i=this.astar-t.astar,o=this.bstar-t.bstar,n=Math.sqrt(e*e+i*i+o*o);return 1.41*Math.pow(n,.63)}static fromInt(t){return Fe.fromIntInViewingConditions(t,Ve.DEFAULT)}static fromIntInViewingConditions(t,e){const i=(65280&t)>>8,o=255&t,n=Ue((16711680&t)>>16),s=Ue(i),r=Ue(o),a=.41233895*n+.35762064*s+.18051042*r,l=.2126*n+.7152*s+.0722*r,d=.01932141*n+.11916382*s+.95034478*r,c=.401288*a+.650173*l-.051461*d,h=-.250268*a+1.204414*l+.045854*d,p=-.002079*a+.048952*l+.953127*d,u=e.rgbD[0]*c,m=e.rgbD[1]*h,g=e.rgbD[2]*p,f=Math.pow(e.fl*Math.abs(u)/100,.42),v=Math.pow(e.fl*Math.abs(m)/100,.42),y=Math.pow(e.fl*Math.abs(g)/100,.42),b=400*$e(u)*f/(f+27.13),_=400*$e(m)*v/(v+27.13),w=400*$e(g)*y/(y+27.13),x=(11*b+-12*_+w)/11,k=(b+_-2*w)/9,C=(20*b+20*_+21*w)/20,$=(40*b+20*_+w)/20,T=180*Math.atan2(k,x)/Math.PI,S=T<0?T+360:T>=360?T-360:T,I=S*Math.PI/180,P=$*e.nbb,A=100*Math.pow(P/e.aw,e.c*e.z),O=4/e.c*Math.sqrt(A/100)*(e.aw+4)*e.fLRoot,L=S<20.14?S+360:S,E=5e4/13*(.25*(Math.cos(L*Math.PI/180+2)+3.8))*e.nc*e.ncb*Math.sqrt(x*x+k*k)/(C+.305),z=Math.pow(E,.9)*Math.pow(1.64-Math.pow(.29,e.n),.73),D=z*Math.sqrt(A/100),M=D*e.fLRoot,N=50*Math.sqrt(z*e.c/(e.aw+4)),R=(1+100*.007)*A/(1+.007*A),U=1/.0228*Math.log(1+.0228*M),j=U*Math.cos(I),V=U*Math.sin(I);return new Fe(S,D,A,O,M,N,R,j,V)}static fromJch(t,e,i){return Fe.fromJchInViewingConditions(t,e,i,Ve.DEFAULT)}static fromJchInViewingConditions(t,e,i,o){const n=4/o.c*Math.sqrt(t/100)*(o.aw+4)*o.fLRoot,s=e*o.fLRoot,r=e/Math.sqrt(t/100),a=50*Math.sqrt(r*o.c/(o.aw+4)),l=i*Math.PI/180,d=(1+100*.007)*t/(1+.007*t),c=1/.0228*Math.log(1+.0228*s),h=c*Math.cos(l),p=c*Math.sin(l);return new Fe(i,e,t,n,s,a,d,h,p)}static fromUcs(t,e,i){return Fe.fromUcsInViewingConditions(t,e,i,Ve.DEFAULT)}static fromUcsInViewingConditions(t,e,i,o){const n=e,s=i,r=Math.sqrt(n*n+s*s),a=(Math.exp(.0228*r)-1)/.0228/o.fLRoot;let l=Math.atan2(s,n)*(180/Math.PI);l<0&&(l+=360);const d=t/(1-.007*(t-100));return Fe.fromJchInViewingConditions(d,a,l,o)}toInt(){return this.viewed(Ve.DEFAULT)}viewed(t){const e=0===this.chroma||0===this.j?0:this.chroma/Math.sqrt(this.j/100),i=Math.pow(e/Math.pow(1.64-Math.pow(.29,t.n),.73),1/.9),o=this.hue*Math.PI/180,n=.25*(Math.cos(o+2)+3.8),s=t.aw*Math.pow(this.j/100,1/t.c/t.z),r=n*(5e4/13)*t.nc*t.ncb,a=s/t.nbb,l=Math.sin(o),d=Math.cos(o),c=23*(a+.305)*i/(23*r+11*i*d+108*i*l),h=c*d,p=c*l,u=(460*a+451*h+288*p)/1403,m=(460*a-891*h-261*p)/1403,g=(460*a-220*h-6300*p)/1403,f=Math.max(0,27.13*Math.abs(u)/(400-Math.abs(u))),v=$e(u)*(100/t.fl)*Math.pow(f,1/.42),y=Math.max(0,27.13*Math.abs(m)/(400-Math.abs(m))),b=$e(m)*(100/t.fl)*Math.pow(y,1/.42),_=Math.max(0,27.13*Math.abs(g)/(400-Math.abs(g))),w=$e(g)*(100/t.fl)*Math.pow(_,1/.42),x=v/t.rgbD[0],k=b/t.rgbD[1],C=w/t.rgbD[2],$=function(t,e,i){const o=Ae,n=o[0][0]*t+o[0][1]*e+o[0][2]*i,s=o[1][0]*t+o[1][1]*e+o[1][2]*i,r=o[2][0]*t+o[2][1]*e+o[2][2]*i;return Le(je(n),je(s),je(r))}(1.86206786*x-1.01125463*k+.14918677*C,.38752654*x+.62144744*k-.00897398*C,-.0158415*x-.03412294*k+1.04996444*C);return $}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{static sanitizeRadians(t){return(t+8*Math.PI)%(2*Math.PI)}static trueDelinearized(t){const e=t/100;let i=0;return i=e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,255*i}static chromaticAdaptation(t){const e=Math.pow(Math.abs(t),.42);return 400*$e(t)*e/(e+27.13)}static hueOf(t){const e=Ie(t,Ge.SCALED_DISCOUNT_FROM_LINRGB),i=Ge.chromaticAdaptation(e[0]),o=Ge.chromaticAdaptation(e[1]),n=Ge.chromaticAdaptation(e[2]),s=(11*i+-12*o+n)/11,r=(i+o-2*n)/9;return Math.atan2(r,s)}static areInCyclicOrder(t,e,i){return Ge.sanitizeRadians(e-t)<Ge.sanitizeRadians(i-t)}static intercept(t,e,i){return(e-t)/(i-t)}static lerpPoint(t,e,i){return[t[0]+(i[0]-t[0])*e,t[1]+(i[1]-t[1])*e,t[2]+(i[2]-t[2])*e]}static setCoordinate(t,e,i,o){const n=Ge.intercept(t[o],e,i[o]);return Ge.lerpPoint(t,n,i)}static isBounded(t){return 0<=t&&t<=100}static nthVertex(t,e){const i=Ge.Y_FROM_LINRGB[0],o=Ge.Y_FROM_LINRGB[1],n=Ge.Y_FROM_LINRGB[2],s=e%4<=1?0:100,r=e%2==0?0:100;if(e<4){const e=s,a=r,l=(t-e*o-a*n)/i;return Ge.isBounded(l)?[l,e,a]:[-1,-1,-1]}if(e<8){const e=s,a=r,l=(t-a*i-e*n)/o;return Ge.isBounded(l)?[a,l,e]:[-1,-1,-1]}{const e=s,a=r,l=(t-e*i-a*o)/n;return Ge.isBounded(l)?[e,a,l]:[-1,-1,-1]}}static bisectToSegment(t,e){let i=[-1,-1,-1],o=i,n=0,s=0,r=!1,a=!0;for(let l=0;l<12;l++){const d=Ge.nthVertex(t,l);if(d[0]<0)continue;const c=Ge.hueOf(d);r?(a||Ge.areInCyclicOrder(n,c,s))&&(a=!1,Ge.areInCyclicOrder(n,e,c)?(o=d,s=c):(i=d,n=c)):(i=d,o=d,n=c,s=c,r=!0)}return[i,o]}static midpoint(t,e){return[(t[0]+e[0])/2,(t[1]+e[1])/2,(t[2]+e[2])/2]}static criticalPlaneBelow(t){return Math.floor(t-.5)}static criticalPlaneAbove(t){return Math.ceil(t-.5)}static bisectToLimit(t,e){const i=Ge.bisectToSegment(t,e);let o=i[0],n=Ge.hueOf(o),s=i[1];for(let t=0;t<3;t++)if(o[t]!==s[t]){let i=-1,r=255;o[t]<s[t]?(i=Ge.criticalPlaneBelow(Ge.trueDelinearized(o[t])),r=Ge.criticalPlaneAbove(Ge.trueDelinearized(s[t]))):(i=Ge.criticalPlaneAbove(Ge.trueDelinearized(o[t])),r=Ge.criticalPlaneBelow(Ge.trueDelinearized(s[t])));for(let a=0;a<8&&!(Math.abs(r-i)<=1);a++){const a=Math.floor((i+r)/2),l=Ge.CRITICAL_PLANES[a],d=Ge.setCoordinate(o,l,s,t),c=Ge.hueOf(d);Ge.areInCyclicOrder(n,e,c)?(s=d,r=a):(o=d,n=c,i=a)}}return Ge.midpoint(o,s)}static inverseChromaticAdaptation(t){const e=Math.abs(t),i=Math.max(0,27.13*e/(400-e));return $e(t)*Math.pow(i,1/.42)}static findResultByJ(t,e,i){let o=11*Math.sqrt(i);const n=Ve.DEFAULT,s=1/Math.pow(1.64-Math.pow(.29,n.n),.73),r=.25*(Math.cos(t+2)+3.8)*(5e4/13)*n.nc*n.ncb,a=Math.sin(t),l=Math.cos(t);for(let t=0;t<5;t++){const d=o/100,c=0===e||0===o?0:e/Math.sqrt(d),h=Math.pow(c*s,1/.9),p=n.aw*Math.pow(d,1/n.c/n.z)/n.nbb,u=23*(p+.305)*h/(23*r+11*h*l+108*h*a),m=u*l,g=u*a,f=(460*p+451*m+288*g)/1403,v=(460*p-891*m-261*g)/1403,y=(460*p-220*m-6300*g)/1403,b=Ie([Ge.inverseChromaticAdaptation(f),Ge.inverseChromaticAdaptation(v),Ge.inverseChromaticAdaptation(y)],Ge.LINRGB_FROM_SCALED_DISCOUNT);if(b[0]<0||b[1]<0||b[2]<0)return 0;const _=Ge.Y_FROM_LINRGB[0],w=Ge.Y_FROM_LINRGB[1],x=Ge.Y_FROM_LINRGB[2],k=_*b[0]+w*b[1]+x*b[2];if(k<=0)return 0;if(4===t||Math.abs(k-i)<.002)return b[0]>100.01||b[1]>100.01||b[2]>100.01?0:Ee(b);o-=(k-i)*o/(2*k)}return 0}static solveToInt(t,e,i){if(e<1e-4||i<1e-4||i>99.9999)return function(t){const e=je(Re(t));return Le(e,e,e)}(i);const o=(t=Se(t))/180*Math.PI,n=Re(i),s=Ge.findResultByJ(o,e,n);if(0!==s)return s;return Ee(Ge.bisectToLimit(n,o))}static solveToCam(t,e,i){return Fe.fromInt(Ge.solveToInt(t,e,i))}}Ge.SCALED_DISCOUNT_FROM_LINRGB=[[.001200833568784504,.002389694492170889,.0002795742885861124],[.0005891086651375999,.0029785502573438758,.0003270666104008398],[.00010146692491640572,.0005364214359186694,.0032979401770712076]],Ge.LINRGB_FROM_SCALED_DISCOUNT=[[1373.2198709594231,-1100.4251190754821,-7.278681089101213],[-271.815969077903,559.6580465940733,-32.46047482791194],[1.9622899599665666,-57.173814538844006,308.7233197812385]],Ge.Y_FROM_LINRGB=[.2126,.7152,.0722],Ge.CRITICAL_PLANES=[.015176349177441876,.045529047532325624,.07588174588720938,.10623444424209313,.13658714259697685,.16693984095186062,.19729253930674434,.2276452376616281,.2579979360165119,.28835063437139563,.3188300904430532,.350925934958123,.3848314933096426,.42057480301049466,.458183274052838,.4976837250274023,.5391024159806381,.5824650784040898,.6277969426914107,.6751227633498623,.7244668422128921,.775853049866786,.829304845476233,.8848452951698498,.942497089126609,1.0022825574869039,1.0642236851973577,1.1283421258858297,1.1946592148522128,1.2631959812511864,1.3339731595349034,1.407011200216447,1.4823302800086415,1.5599503113873272,1.6398909516233677,1.7221716113234105,1.8068114625156377,1.8938294463134073,1.9832442801866852,2.075074464868551,2.1693382909216234,2.2660538449872063,2.36523901573795,2.4669114995532007,2.5710888059345764,2.6777882626779785,2.7870270208169257,2.898822059350997,3.0131901897720907,3.1301480604002863,3.2497121605402226,3.3718988244681087,3.4967242352587946,3.624204428461639,3.754355295633311,3.887192587735158,4.022731918402185,4.160988767090289,4.301978482107941,4.445716283538092,4.592217266055746,4.741496401646282,4.893568542229298,5.048448422192488,5.20615066083972,5.3666897647573375,5.5300801301023865,5.696336044816294,5.865471690767354,6.037501145825082,6.212438385869475,6.390297286737924,6.571091626112461,6.7548350853498045,6.941541251256611,7.131223617812143,7.323895587840543,7.5195704746346665,7.7182615035334345,7.919981813454504,8.124744458384042,8.332562408825165,8.543448553206703,8.757415699253682,8.974476575321063,9.194643831691977,9.417930041841839,9.644347703669503,9.873909240696694,10.106627003236781,10.342513269534024,10.58158024687427,10.8238400726681,11.069304815507364,11.317986476196008,11.569896988756009,11.825048221409341,12.083451977536606,12.345119996613247,12.610063955123938,12.878295467455942,13.149826086772048,13.42466730586372,13.702830557985108,13.984327217668513,14.269168601521828,14.55736596900856,14.848930523210871,15.143873411576273,15.44220572664832,15.743938506781891,16.04908273684337,16.35764934889634,16.66964922287304,16.985093187232053,17.30399201960269,17.62635644741625,17.95219714852476,18.281524751807332,18.614349837764564,18.95068293910138,19.290534541298456,19.633915083172692,19.98083495742689,20.331304511189067,20.685334046541502,21.042933821039977,21.404114048223256,21.76888489811322,22.137256497705877,22.50923893145328,22.884842241736916,23.264076429332462,23.6469514538663,24.033477234264016,24.42366364919083,24.817520537484558,25.21505769858089,25.61628489293138,26.021211842414342,26.429848230738664,26.842203703840827,27.258287870275353,27.678110301598522,28.10168053274597,28.529008062403893,28.96010235337422,29.39497283293396,29.83362889318845,30.276079891419332,30.722335150426627,31.172403958865512,31.62629557157785,32.08401920991837,32.54558406207592,33.010999283389665,33.4802739966603,33.953417292456834,34.430438229418264,34.911345834551085,35.39614910352207,35.88485700094671,36.37747846067349,36.87402238606382,37.37449765026789,37.87891309649659,38.38727753828926,38.89959975977785,39.41588851594697,39.93615253289054,40.460400508064545,40.98864111053629,41.520882981230194,42.05713473317016,42.597404951718396,43.141702194811224,43.6900349931913,44.24241185063697,44.798841244188324,45.35933162437017,45.92389141541209,46.49252901546552,47.065252796817916,47.64207110610409,48.22299226451468,48.808024568002054,49.3971762874833,49.9904556690408,50.587870934119984,51.189430279724725,51.79514187861014,52.40501387947288,53.0190544071392,53.637271562750364,54.259673423945976,54.88626804504493,55.517063457223934,56.15206766869424,56.79128866487574,57.43473440856916,58.08241284012621,58.734331877617365,59.39049941699807,60.05092333227251,60.715611475655585,61.38457167773311,62.057811747619894,62.7353394731159,63.417162620860914,64.10328893648692,64.79372614476921,65.48848194977529,66.18756403501224,66.89098006357258,67.59873767827808,68.31084450182222,69.02730813691093,69.74813616640164,70.47333615344107,71.20291564160104,71.93688215501312,72.67524319850172,73.41800625771542,74.16517879925733,74.9167682708136,75.67278210128072,76.43322770089146,77.1981124613393,77.96744375590167,78.74122893956174,79.51947534912904,80.30219030335869,81.08938110306934,81.88105503125999,82.67721935322541,83.4778813166706,84.28304815182372,85.09272707154808,85.90692527145302,86.72564993000343,87.54890820862819,88.3767072518277,89.2090541872801,90.04595612594655,90.88742016217518,91.73345337380438,92.58406282226491,93.43925555268066,94.29903859396902,95.16341895893969,96.03240364439274,96.9059996312159,97.78421388448044,98.6670533535366,99.55452497210776];
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Be{static from(t,e,i){return new Be(Ge.solveToInt(t,e,i))}static fromInt(t){return new Be(t)}toInt(){return this.argb}get hue(){return this.internalHue}set hue(t){this.setInternalState(Ge.solveToInt(t,this.internalChroma,this.internalTone))}get chroma(){return this.internalChroma}set chroma(t){this.setInternalState(Ge.solveToInt(this.internalHue,t,this.internalTone))}get tone(){return this.internalTone}set tone(t){this.setInternalState(Ge.solveToInt(this.internalHue,this.internalChroma,t))}constructor(t){this.argb=t;const e=Fe.fromInt(t);this.internalHue=e.hue,this.internalChroma=e.chroma,this.internalTone=Ne(t),this.argb=t}setInternalState(t){const e=Fe.fromInt(t);this.internalHue=e.hue,this.internalChroma=e.chroma,this.internalTone=Ne(t),this.argb=t}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{static harmonize(t,e){const i=Be.fromInt(t),o=Be.fromInt(e),n=function(t,e){return 180-Math.abs(Math.abs(t-e)-180)}(i.hue,o.hue),s=Math.min(.5*n,15),r=Se(i.hue+s*(a=i.hue,Se(o.hue-a)<=180?1:-1));var a;return Be.from(r,i.chroma,i.tone).toInt()}static hctHue(t,e,i){const o=He.cam16Ucs(t,e,i),n=Fe.fromInt(o),s=Fe.fromInt(t);return Be.from(n.hue,s.chroma,Ne(t)).toInt()}static cam16Ucs(t,e,i){const o=Fe.fromInt(t),n=Fe.fromInt(e),s=o.jstar,r=o.astar,a=o.bstar,l=s+(n.jstar-s)*i,d=r+(n.astar-r)*i,c=a+(n.bstar-a)*i;return Fe.fromUcs(l,d,c).toInt()}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromInt(t){const e=Be.fromInt(t);return We.fromHueAndChroma(e.hue,e.chroma)}static fromHueAndChroma(t,e){return new We(t,e)}constructor(t,e){this.hue=t,this.chroma=e,this.cache=new Map}tone(t){let e=this.cache.get(t);return void 0===e&&(e=Be.from(this.hue,this.chroma,t).toInt(),this.cache.set(t,e)),e}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{static of(t){return new qe(t,!1)}static contentOf(t){return new qe(t,!0)}static fromColors(t){return qe.createPaletteFromColors(!1,t)}static contentFromColors(t){return qe.createPaletteFromColors(!0,t)}static createPaletteFromColors(t,e){const i=new qe(e.primary,t);if(e.secondary){const o=new qe(e.secondary,t);i.a2=o.a1}if(e.tertiary){const o=new qe(e.tertiary,t);i.a3=o.a1}if(e.error){const o=new qe(e.error,t);i.error=o.a1}if(e.neutral){const o=new qe(e.neutral,t);i.n1=o.n1}if(e.neutralVariant){const o=new qe(e.neutralVariant,t);i.n2=o.n2}return i}constructor(t,e){const i=Be.fromInt(t),o=i.hue,n=i.chroma;e?(this.a1=We.fromHueAndChroma(o,n),this.a2=We.fromHueAndChroma(o,n/3),this.a3=We.fromHueAndChroma(o+60,n/2),this.n1=We.fromHueAndChroma(o,Math.min(n/12,4)),this.n2=We.fromHueAndChroma(o,Math.min(n/6,8))):(this.a1=We.fromHueAndChroma(o,Math.max(48,n)),this.a2=We.fromHueAndChroma(o,16),this.a3=We.fromHueAndChroma(o+60,24),this.n1=We.fromHueAndChroma(o,4),this.n2=We.fromHueAndChroma(o,8)),this.error=We.fromHueAndChroma(25,84)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{get primary(){return this.props.primary}get onPrimary(){return this.props.onPrimary}get primaryContainer(){return this.props.primaryContainer}get onPrimaryContainer(){return this.props.onPrimaryContainer}get secondary(){return this.props.secondary}get onSecondary(){return this.props.onSecondary}get secondaryContainer(){return this.props.secondaryContainer}get onSecondaryContainer(){return this.props.onSecondaryContainer}get tertiary(){return this.props.tertiary}get onTertiary(){return this.props.onTertiary}get tertiaryContainer(){return this.props.tertiaryContainer}get onTertiaryContainer(){return this.props.onTertiaryContainer}get error(){return this.props.error}get onError(){return this.props.onError}get errorContainer(){return this.props.errorContainer}get onErrorContainer(){return this.props.onErrorContainer}get background(){return this.props.background}get onBackground(){return this.props.onBackground}get surface(){return this.props.surface}get onSurface(){return this.props.onSurface}get surfaceVariant(){return this.props.surfaceVariant}get onSurfaceVariant(){return this.props.onSurfaceVariant}get outline(){return this.props.outline}get outlineVariant(){return this.props.outlineVariant}get shadow(){return this.props.shadow}get scrim(){return this.props.scrim}get inverseSurface(){return this.props.inverseSurface}get inverseOnSurface(){return this.props.inverseOnSurface}get inversePrimary(){return this.props.inversePrimary}static light(t){return Qe.lightFromCorePalette(qe.of(t))}static dark(t){return Qe.darkFromCorePalette(qe.of(t))}static lightContent(t){return Qe.lightFromCorePalette(qe.contentOf(t))}static darkContent(t){return Qe.darkFromCorePalette(qe.contentOf(t))}static lightFromCorePalette(t){return new Qe({primary:t.a1.tone(40),onPrimary:t.a1.tone(100),primaryContainer:t.a1.tone(90),onPrimaryContainer:t.a1.tone(10),secondary:t.a2.tone(40),onSecondary:t.a2.tone(100),secondaryContainer:t.a2.tone(90),onSecondaryContainer:t.a2.tone(10),tertiary:t.a3.tone(40),onTertiary:t.a3.tone(100),tertiaryContainer:t.a3.tone(90),onTertiaryContainer:t.a3.tone(10),error:t.error.tone(40),onError:t.error.tone(100),errorContainer:t.error.tone(90),onErrorContainer:t.error.tone(10),background:t.n1.tone(99),onBackground:t.n1.tone(10),surface:t.n1.tone(99),onSurface:t.n1.tone(10),surfaceVariant:t.n2.tone(90),onSurfaceVariant:t.n2.tone(30),outline:t.n2.tone(50),outlineVariant:t.n2.tone(80),shadow:t.n1.tone(0),scrim:t.n1.tone(0),inverseSurface:t.n1.tone(20),inverseOnSurface:t.n1.tone(95),inversePrimary:t.a1.tone(80)})}static darkFromCorePalette(t){return new Qe({primary:t.a1.tone(80),onPrimary:t.a1.tone(20),primaryContainer:t.a1.tone(30),onPrimaryContainer:t.a1.tone(90),secondary:t.a2.tone(80),onSecondary:t.a2.tone(20),secondaryContainer:t.a2.tone(30),onSecondaryContainer:t.a2.tone(90),tertiary:t.a3.tone(80),onTertiary:t.a3.tone(20),tertiaryContainer:t.a3.tone(30),onTertiaryContainer:t.a3.tone(90),error:t.error.tone(80),onError:t.error.tone(20),errorContainer:t.error.tone(30),onErrorContainer:t.error.tone(80),background:t.n1.tone(10),onBackground:t.n1.tone(90),surface:t.n1.tone(10),onSurface:t.n1.tone(90),surfaceVariant:t.n2.tone(30),onSurfaceVariant:t.n2.tone(80),outline:t.n2.tone(60),outlineVariant:t.n2.tone(30),shadow:t.n1.tone(0),scrim:t.n1.tone(0),inverseSurface:t.n1.tone(90),inverseOnSurface:t.n1.tone(20),inversePrimary:t.a1.tone(40)})}constructor(t){this.props=t}toJSON(){return{...this.props}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){const e=ze(t),i=De(t),o=Me(t),n=[e.toString(16),i.toString(16),o.toString(16)];for(const[t,e]of n.entries())1===e.length&&(n[t]="0"+e);return"#"+n.join("")}function Ze(t){const e=3===(t=t.replace("#","")).length,i=6===t.length,o=8===t.length;if(!e&&!i&&!o)throw new Error("unexpected hex "+t);let n=0,s=0,r=0;return e?(n=Ke(t.slice(0,1).repeat(2)),s=Ke(t.slice(1,2).repeat(2)),r=Ke(t.slice(2,3).repeat(2))):i?(n=Ke(t.slice(0,2)),s=Ke(t.slice(2,4)),r=Ke(t.slice(4,6))):o&&(n=Ke(t.slice(2,4)),s=Ke(t.slice(4,6)),r=Ke(t.slice(6,8))),(255<<24|(255&n)<<16|(255&s)<<8|255&r)>>>0}function Ke(t){return parseInt(t,16)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(t,e=[]){const i=qe.of(t);return{source:t,schemes:{light:Qe.light(t),dark:Qe.dark(t)},palettes:{primary:i.a1,secondary:i.a2,tertiary:i.a3,neutral:i.n1,neutralVariant:i.n2,error:i.error},customColors:e.map((e=>function(t,e){let i=e.value;const o=i,n=t;e.blend&&(i=He.harmonize(o,n));const s=qe.of(i),r=s.a1;return{color:e,value:i,light:{color:r.tone(40),onColor:r.tone(100),colorContainer:r.tone(90),onColorContainer:r.tone(10)},dark:{color:r.tone(80),onColor:r.tone(20),colorContainer:r.tone(30),onColorContainer:r.tone(90)}}}(t,e)))}}function Xe(t,e,i=""){for(const[o,n]of Object.entries(e.toJSON())){const e=o.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),s=Je(n);t.style.setProperty(`--md-sys-color-${e}${i}`,s)}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const ti=At(class extends Ot{constructor(t){var e;if(super(t),t.type!==$t||"style"!==t.name||(null===(e=t.strings)||void 0===e?void 0:e.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce(((e,i)=>{const o=t[i];return null==o?e:e+`${i=i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${o};`}),"")}update(t,[e]){const{style:i}=t.element;if(void 0===this.vt){this.vt=new Set;for(const t in e)this.vt.add(t);return this.render(e)}this.vt.forEach((t=>{null==e[t]&&(this.vt.delete(t),t.includes("-")?i.removeProperty(t):i[t]="")}));for(const t in e){const o=e[t];null!=o&&(this.vt.add(t),t.includes("-")?i.setProperty(t,o):i[t]=o)}return R}});
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ei{constructor(t,e){this.host=t,this.getProperties=e,this.surfaceStylesInternal={display:"none"},this.lastValues={isOpen:!1},this.host.addController(this)}get surfaceStyles(){return this.surfaceStylesInternal}async position(){const{surfaceEl:t,anchorEl:e,anchorCorner:i,surfaceCorner:o,isTopLayer:n,xOffset:s,yOffset:r}=this.getProperties(),a=i.toUpperCase().trim(),l=o.toUpperCase().trim();if(!t||!e)return;this.surfaceStylesInternal={display:"block",opacity:"0"},this.host.requestUpdate(),await this.host.updateComplete;const d=t.getBoundingClientRect(),c=e.getBoundingClientRect(),[h,p]=l.split("_"),[u,m]=a.split("_"),g=n?1:0,f="ltr"===getComputedStyle(t).direction?1:0,v=f?0:1,y="START"===p?1:0,b="END"===p?1:0,_="START"===h?1:0,w="END"===h?1:0,x=u!==h?1:0,k=(m!==p?1:0)*c.width+s,C=f*(y*c.left+b*(window.innerWidth-c.right))+v*(y*(window.innerWidth-c.right)+b*c.left),$=g*C+k+Math.min(0,window.innerWidth-C-k-d.width),T=x*c.height+r,S=_*c.top+w*(window.innerHeight-c.bottom),I=g*S+T+Math.min(0,window.innerHeight-S-T-d.height),P="START"===h?"inset-block-start":"inset-block-end",A="START"===p?"inset-inline-start":"inset-inline-end";this.surfaceStylesInternal={display:"block",opacity:"1",[P]:`${I}px`,[A]:`${$}px`},this.host.requestUpdate()}hostUpdate(){this.onUpdate()}hostUpdated(){this.onUpdate()}async onUpdate(){const t=this.getProperties();let e=!1;for(const[i,o]of Object.entries(t))if(e=e||o!==this.lastValues[i],e)break;const i=this.lastValues.isOpen!==t.isOpen,o=!!t.anchorEl,n=!!t.surfaceEl;e&&o&&n&&(this.lastValues.isOpen=t.isOpen,t.isOpen?(this.lastValues=t,await this.position(),t.onOpen()):i&&(await t.beforeClose(),this.close(),t.onClose()))}close(){this.surfaceStylesInternal={display:"none"},this.host.requestUpdate()}}
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ii{constructor(t){this.getProperties=t,this.typeaheadRecords=[],this.typaheadBuffer="",this.cancelTypeaheadTimeout=0,this.isTypingAhead=!1,this.lastActiveRecord=null,this.onKeydown=t=>{this.isTypingAhead?this.typeahead(t):this.beginTypeahead(t)},this.endTypeahead=()=>{this.isTypingAhead=!1,this.typaheadBuffer="",this.typeaheadRecords=[]}}get items(){return this.getProperties().getItems()}beginTypeahead(t){"Space"===t.code||"Enter"===t.code||t.code.startsWith("Arrow")||"Escape"===t.code?this.lastActiveRecord&&(this.lastActiveRecord[1].active=!1):(this.isTypingAhead=!0,this.typeaheadRecords=this.items.map(((t,e)=>[e,t,t.headline.trim().toLowerCase()])),this.lastActiveRecord=this.typeaheadRecords.find((t=>t[1].active))??null,this.lastActiveRecord&&(this.lastActiveRecord[1].active=!1),this.typeahead(t))}typeahead(t){if(clearTimeout(this.cancelTypeaheadTimeout),"Enter"===t.code||t.code.startsWith("Arrow")||"Escape"===t.code)return this.endTypeahead(),void(this.lastActiveRecord&&(this.lastActiveRecord[1].active=!1));"Space"===t.code&&t.stopPropagation(),this.cancelTypeaheadTimeout=setTimeout(this.endTypeahead,this.getProperties().typeaheadBufferTime),this.typaheadBuffer+=t.key.toLowerCase();const e=this.lastActiveRecord?this.lastActiveRecord[0]:-1,i=this.typeaheadRecords.length,o=t=>(t[0]+i-e)%i,n=this.typeaheadRecords.filter((t=>!t[1].disabled&&t[2].startsWith(this.typaheadBuffer))).sort(((t,e)=>o(t)-o(e)));if(0===n.length)return clearTimeout(this.cancelTypeaheadTimeout),this.lastActiveRecord&&(this.lastActiveRecord[1].active=!1),void this.endTypeahead();const s=1===this.typaheadBuffer.length;let r;r=this.lastActiveRecord===n[0]&&s?n[1]??n[0]:n[0],this.lastActiveRecord&&(this.lastActiveRecord[1].active=!1),this.lastActiveRecord=r,r[1].active=!0}}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oi(t=document){const e=t.activeElement;return e?e.shadowRoot?oi(e.shadowRoot)??e:e:null}class ni extends nt{constructor(){super(...arguments),this.anchor=null,this.fixed=!1,this.quick=!1,this.hasOverflow=!1,this.open=!1,this.xOffset=0,this.yOffset=0,this.listTabIndex=0,this.typeaheadBufferTime=200,this.anchorCorner="END_START",this.menuCorner="START_START",this.stayOpenOnOutsideClick=!1,this.skipRestoreFocus=!1,this.defaultFocus="LIST_ROOT",this.openCloseAnimationSignal=function(){let t=null;return{start:()=>(t?.abort(),t=new AbortController,t.signal),finish(){t=null}}}(),this.lastFocusedElement=null,this.typeaheadController=new ii((()=>({getItems:()=>this.items,typeaheadBufferTime:this.typeaheadBufferTime}))),this.menuPositionController=new ei(this,(()=>({anchorCorner:this.anchorCorner,surfaceCorner:this.menuCorner,surfaceEl:this.surfaceEl,anchorEl:this.anchor,isTopLayer:this.fixed,isOpen:this.open,xOffset:this.xOffset,yOffset:this.yOffset,onOpen:this.onOpened,beforeClose:this.beforeClose,onClose:this.onClosed}))),this.onOpened=()=>{if(this.lastFocusedElement=oi(),!this.listElement)return;const t=this.listElement.items,e=xe.getActiveItem(t);switch(e&&"NONE"!==this.defaultFocus&&(e.item.active=!1),this.defaultFocus){case"FIRST_ITEM":const e=xe.getFirstActivatableItem(t);e&&(e.active=!0);break;case"LAST_ITEM":const i=xe.getLastActivatableItem(t);i&&(i.active=!0);break;case"LIST_ROOT":this.listElement?.focus()}this.quick?this.dispatchEvent(new Event("opened")):this.animateOpen()},this.beforeClose=async()=>{this.open=!1,this.quick||await this.animateClose()},this.onClosed=()=>{this.quick&&this.dispatchEvent(new Event("closed")),this.skipRestoreFocus||this.lastFocusedElement?.focus?.()},this.onWindowClick=t=>{this.stayOpenOnOutsideClick||t.composedPath().includes(this)||(this.open=!1)}}get openDirection(){return"START"===this.menuCorner.split("_")[0]?"DOWN":"UP"}get items(){const t=this.listElement;return t?t.items.filter((t=>t.hasAttribute("md-menu-item"))):[]}render(){return this.renderSurface()}renderSurface(){return N` <div class="menu ${Lt(this.getSurfaceClasses())}" style="${ti(this.menuPositionController.surfaceStyles)}"> ${this.renderList()} ${this.renderElevation()} ${this.renderFocusRing()} </div> `}renderList(){return N` <md-list role="menu" class="list" .ariaLabel="${this.ariaLabel}" listTabIndex="${this.listTabIndex}" @focus="${this.onListFocus}" @blur="${this.onListBlur}" @click="${this.onListClick}" @keydown="${this.typeaheadController.onKeydown}"> ${this.renderMenuItems()} </md-list>`}renderMenuItems(){return N`<slot @close-menu="${this.onCloseMenu}" @deactivate-items="${this.onDeactivateItems}"></slot>`}renderElevation(){return N`<md-elevation shadow surface></md-elevation>`}renderFocusRing(){return N`<md-focus-ring></md-focus-ring>`}getSurfaceClasses(){return{open:this.open,fixed:this.fixed,"has-overflow":this.hasOverflow}}onListFocus(){this.focusRing.visible=Ht()}onListClick(){Wt(),this.focusRing.visible=Ht()}onListBlur(){this.focusRing.visible=!1}animateOpen(){const t=this.surfaceEl,e=this.slotEl;if(!t||!e)return;const i=this.openDirection;this.dispatchEvent(new Event("opening")),t.classList.toggle("animating",!0);const o=this.openCloseAnimationSignal.start(),n=t.offsetHeight,s="UP"===i,r=this.items,a=250/r.length,l=t.animate([{height:"0px"},{height:`${n}px`}],{duration:500,easing:Qt}),d=e.animate([{transform:s?`translateY(-${n}px)`:""},{transform:""}],{duration:500,easing:Qt}),c=t.animate([{opacity:0},{opacity:1}],50),h=[];for(let t=0;t<r.length;t++){const e=r[s?r.length-1-t:t],i=e.animate([{opacity:0},{opacity:1}],{duration:250,delay:a*t});e.classList.toggle("hidden",!0),i.addEventListener("finish",(()=>{e.classList.toggle("hidden",!1)})),h.push([e,i])}o.addEventListener("abort",(()=>{l.cancel(),d.cancel(),c.cancel(),h.forEach((([t,e])=>{t.classList.toggle("hidden",!1),e.cancel()}))})),l.addEventListener("finish",(()=>{t.classList.toggle("animating",!1),this.openCloseAnimationSignal.finish(),this.dispatchEvent(new Event("opened"))}))}animateClose(){let t,e;const i=new Promise(((i,o)=>{t=i,e=o})),o=this.surfaceEl,n=this.slotEl;if(!o||!n)return e(),i;const s="UP"===this.openDirection;this.dispatchEvent(new Event("closing")),o.classList.toggle("animating",!0);const r=this.openCloseAnimationSignal.start(),a=o.offsetHeight,l=this.items,d=150,c=50/l.length,h=o.animate([{height:`${a}px`},{height:.35*a+"px"}],{duration:d,easing:Jt}),p=n.animate([{transform:""},{transform:s?`translateY(-${.65*a}px)`:""}],{duration:d,easing:Jt}),u=o.animate([{opacity:1},{opacity:0}],{duration:50,delay:100}),m=[];for(let t=0;t<l.length;t++){const e=l[s?t:l.length-1-t],i=e.animate([{opacity:1},{opacity:0}],{duration:50,delay:50+c*t});i.addEventListener("finish",(()=>{e.classList.toggle("hidden",!0)})),m.push([e,i])}return r.addEventListener("abort",(()=>{h.cancel(),p.cancel(),u.cancel(),m.forEach((([t,e])=>{e.cancel(),t.classList.toggle("hidden",!1)})),e()})),h.addEventListener("finish",(()=>{o.classList.toggle("animating",!1),m.forEach((([t])=>{t.classList.toggle("hidden",!1)})),this.openCloseAnimationSignal.finish(),this.dispatchEvent(new Event("closed")),t(!0)})),i}connectedCallback(){super.connectedCallback(),window&&window.addEventListener&&window.addEventListener("click",this.onWindowClick,{capture:!0})}disconnectedCallback(){super.disconnectedCallback(),window&&window.removeEventListener&&window.removeEventListener("click",this.onWindowClick)}onCloseMenu(t){this.close()}onDeactivateItems(t){t.stopPropagation();const e=this.items;for(const t of e)t.active=!1}focus(){this.listElement?.focus()}close(){this.open=!1,this.items.forEach((t=>{t.close?.()}))}show(){this.open=!0}}t([ht("md-list"),e("design:type",xe)],ni.prototype,"listElement",void 0),t([ht(".menu"),e("design:type",HTMLElement)],ni.prototype,"surfaceEl",void 0),t([ht("slot"),e("design:type",HTMLSlotElement)],ni.prototype,"slotEl",void 0),t([ht("md-focus-ring"),e("design:type",Rt)],ni.prototype,"focusRing",void 0),t([wt,lt({type:String,attribute:"data-aria-label",noAccessor:!0}),e("design:type",String)],ni.prototype,"ariaLabel",void 0),t([lt({attribute:!1}),e("design:type",HTMLElement)],ni.prototype,"anchor",void 0),t([lt({type:Boolean}),e("design:type",Object)],ni.prototype,"fixed",void 0),t([lt({type:Boolean}),e("design:type",Object)],ni.prototype,"quick",void 0),t([lt({type:Boolean,attribute:"has-overflow"}),e("design:type",Object)],ni.prototype,"hasOverflow",void 0),t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],ni.prototype,"open",void 0),t([lt({type:Number,attribute:"x-offset"}),e("design:type",Object)],ni.prototype,"xOffset",void 0),t([lt({type:Number,attribute:"y-offset"}),e("design:type",Object)],ni.prototype,"yOffset",void 0),t([lt({type:Number,attribute:"list-tab-index"}),e("design:type",Object)],ni.prototype,"listTabIndex",void 0),t([lt({type:Number,attribute:"typeahead-delay"}),e("design:type",Object)],ni.prototype,"typeaheadBufferTime",void 0),t([lt({type:String,attribute:"anchor-corner"}),e("design:type",String)],ni.prototype,"anchorCorner",void 0),t([lt({type:String,attribute:"menu-corner"}),e("design:type",String)],ni.prototype,"menuCorner",void 0),t([lt({type:Boolean,attribute:"stay-open-on-outside-click"}),e("design:type",Object)],ni.prototype,"stayOpenOnOutsideClick",void 0),t([lt({type:Boolean,attribute:"skip-restore-focus"}),e("design:type",Object)],ni.prototype,"skipRestoreFocus",void 0),t([lt({type:String,attribute:"default-focus"}),e("design:type",String)],ni.prototype,"defaultFocus",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const si=a`:host{--_container-color:var(--md-menu-container-color, var(--md-sys-color-surface, #fffbfe));--_container-elevation:var(--md-menu-container-elevation, 3);--_container-shadow-color:var(--md-menu-container-shadow-color, var(--md-sys-color-shadow, #000));--_container-shape:var(--md-menu-container-shape, 4px);--_container-surface-tint-layer-color:var(--md-menu-container-surface-tint-layer-color, var(--md-sys-color-primary, #6750a4));--md-list-container-color:var(--_container-color);--md-elevation-level:var(--_container-elevation);--md-elevation-shadow-color:var(--_container-shadow-color);--md-elevation-surface-tint:var(--_container-surface-tint-layer-color);--md-focus-ring-shape-start-start:var(--md-focus-ring-shape, var(--_container-shape));--md-focus-ring-shape-start-end:var(--md-focus-ring-shape, var(--_container-shape));--md-focus-ring-shape-end-end:var(--md-focus-ring-shape, var(--_container-shape));--md-focus-ring-shape-end-start:var(--md-focus-ring-shape, var(--_container-shape))}.menu{border-radius:var(--_container-shape);display:none;opacity:0;z-index:20;position:absolute;user-select:none;max-height:inherit;height:inherit}.menu.fixed{position:fixed}.menu md-list{height:inherit;max-height:inherit;display:block;overflow:auto}.menu.has-overflow md-list{overflow:visible}.menu.animating md-list{pointer-events:none;overflow:hidden}.menu.animating ::slotted(.hidden){opacity:0}.menu slot{display:block;height:inherit;max-height:inherit}md-elevation{position:absolute;inset:0;pointer-events:none}`
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;class ri extends Event{constructor(t,e){super("close-menu",{bubbles:!0,composed:!0}),this.initiator=t,this.reason=e,this.itemPath=[t]}}const ai=ri,li="CLICK_SELECTION",di="KEYDOWN",ci={ESCAPE:"Escape",SPACE:"Space",ENTER:"Enter"};
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
let hi=class extends ni{};hi.styles=[si],hi=t([rt("md-menu")],hi);
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const{I:pi}=X,ui=(t,e)=>void 0===e?void 0!==(null==t?void 0:t._$litType$):(null==t?void 0:t._$litType$)===e,mi=t=>void 0===t.strings,gi=()=>document.createComment(""),fi=(t,e,i)=>{var o;const n=t._$AA.parentNode,s=void 0===e?t._$AB:e._$AA;if(void 0===i){const e=n.insertBefore(gi(),s),o=n.insertBefore(gi(),s);i=new pi(e,o,t,t.options)}else{const e=i._$AB.nextSibling,r=i._$AM,a=r!==t;if(a){let e;null===(o=i._$AQ)||void 0===o||o.call(i,t),i._$AM=t,void 0!==i._$AP&&(e=t._$AU)!==r._$AU&&i._$AP(e)}if(e!==s||a){let t=i._$AA;for(;t!==e;){const e=t.nextSibling;n.insertBefore(t,s),t=e}}}return i},vi=(t,e,i=t)=>(t._$AI(e,i),t),yi={},bi=(t,e=yi)=>t._$AH=e,_i=t=>t._$AH,wi=t=>{var e;null===(e=t._$AP)||void 0===e||e.call(t,!1,!0);let i=t._$AA;const o=t._$AB.nextSibling;for(;i!==o;){const t=i.nextSibling;i.remove(),i=t}},xi=At(class extends Ot{constructor(t){super(t),this.et=new WeakMap}render(t){return[t]}update(t,[e]){if(ui(this.it)&&(!ui(e)||this.it.strings!==e.strings)){const e=_i(t).pop();let i=this.et.get(this.it.strings);if(void 0===i){const t=document.createDocumentFragment();i=et(U,t),i.setConnected(!1),this.et.set(this.it.strings,i)}bi(i,[e]),fi(i,void 0,e)}if(ui(e)){if(!ui(this.it)||this.it.strings!==e.strings){const i=this.et.get(e.strings);if(void 0!==i){const e=_i(i).pop();(t=>{t._$AR()})(t),fi(t,void 0,e),bi(t,[e])}}this.it=e}else this.it=void 0;return this.render(e)}});
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
Copyright (c) 2020 Citizens Foundation Iceland / Citizens Foundation USA LitElement Port. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let ki=class extends nt{constructor(){super(...arguments),this.src="",this.alt=void 0,this.crossorigin=void 0,this.preventLoad=!1,this.sizing=void 0,this.position="center",this.preload=!1,this.placeholder=void 0,this.fade=!1,this.loaded=!1,this.loading=!1,this.error=!1,this.width=void 0,this.height=void 0,this._resolvedSrc=void 0,this.ABS_URL=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/,this.workingURL=void 0,this.resolveDoc=void 0}static get styles(){return[a`:host{display:inline-block;overflow:hidden;position:relative}#baseURIAnchor{display:none}#sizedImgDiv{position:absolute;top:0;right:0;bottom:0;left:0;display:none}#img{display:block;width:var(--yp-image-width,auto);height:var(--yp-image-height,auto)}:host([sizing]) #sizedImgDiv{display:block}:host([sizing]) #img{display:none}#placeholder{position:absolute;top:0;right:0;bottom:0;left:0;background-color:inherit;opacity:1}#placeholder.faded-out{transition:opacity .5s linear;opacity:0}`]}render(){return N` <a id="baseURIAnchor" href="#"></a> <div id="sizedImgDiv" role="img" ?hidden="${this._computeImgDivHidden}" aria-hidden="${this._computeImgDivARIAHidden}" aria-label="${bt(this._computeImgDivARIALabel)}"></div> <img id="img" alt="${this.alt?this.alt:""}" ?hidden="${this._computeImgHidden}" crossorigin="${bt(this.crossorigin)}" @load="${this._imgOnLoad}" @error="${this._imgOnError}"> <div id="placeholder" ?hidden="${this.computePlaceholderHidden}" class="${this._computePlaceholderClassName}"></div> `}$$(t){return this.shadowRoot?this.shadowRoot.querySelector(t):null}connectedCallback(){super.connectedCallback(),this._resolvedSrc=""}_imgOnLoad(){this.$$("img").src===this._resolveSrc(this.src)&&(this.loading=!1,this.loaded=!0,this.error=!1)}_imgOnError(){this.$$("img").src===this._resolveSrc(this.src)&&(this.$$("img").removeAttribute("src"),this.$$("#sizedImgDiv").style.backgroundImage="",this.loading=!1,this.loaded=!1,this.error=!0)}get computePlaceholderHidden(){return!this.preload||!this.fade&&!this.loading&&this.loaded}_computePlaceholderClassName(){return this.preload&&this.fade&&!this.loading&&this.loaded?"faded-out":""}get _computeImgDivHidden(){return!this.sizing}get _computeImgDivARIAHidden(){return""===this.alt}get _computeImgDivARIALabel(){if(null!==this.alt)return this.alt;if(""===this.src)return"";const t=this._resolveSrc(this.src);return t?t.replace(/[?|#].*/g,"").split("/").pop():""}get _computeImgHidden(){return!!this.sizing}_widthChanged(){this.width&&(this.style.width=this.width+"px")}_heightChanged(){this.style.height=this.height+"px"}_loadStateObserver(){const t=this._resolveSrc(this.src);t!==this._resolvedSrc&&(this._resolvedSrc="",this.$$("img").removeAttribute("src"),this.$$("#sizedImgDiv").style.backgroundImage="",""===this.src||this.preventLoad?(this.loading=!1,this.loaded=!1,this.error=!1):(this._resolvedSrc=t,this._resolvedSrc&&(this.$$("img").src=this._resolvedSrc),this.$$("#sizedImgDiv").style.backgroundImage='url("'+this._resolvedSrc+'")',this.loading=!0,this.loaded=!1,this.error=!1))}_placeholderChanged(){this.$$("#placeholder").style.backgroundImage=this.placeholder?'url("'+this.placeholder+'")':""}_transformChanged(){const t=this.$$("#sizedImgDiv").style,e=this.$$("#placeholder").style;this.sizing&&(t.backgroundSize=e.backgroundSize=this.sizing),t.backgroundPosition=e.backgroundPosition=this.sizing?this.position:"",t.backgroundRepeat=e.backgroundRepeat=this.sizing?"no-repeat":""}_resolveSrc(t){let e=this.resolveUrl(t,this.$$("#baseURIAnchor").href);return e&&e.length>=2&&"/"===e[0]&&"/"!==e[1]&&(e=(location.origin||location.protocol+"//"+location.host)+e),e}resolveUrl(t,e){if(t&&this.ABS_URL.test(t))return t;if("//"===t)return t;if(void 0===this.workingURL){this.workingURL=!1;try{const t=new URL("b","http://a");t.pathname="c%20d",this.workingURL="http://a/c%20d"===t.href}catch(t){}}if(e||(e=document.baseURI||window.location.href),this.workingURL)try{return new URL(t,e).href}catch(e){return t}}updated(t){super.updated(t),t.has("placeHolder")&&this._placeholderChanged(),t.has("width")&&this._widthChanged(),t.has("height")&&this._widthChanged(),(t.has("sizing")||t.has("position"))&&this._transformChanged(),(t.has("src")||t.has("preventLoad"))&&this._loadStateObserver()}};t([lt({type:String}),e("design:type",String)],ki.prototype,"src",void 0),t([lt({type:String}),e("design:type",String)],ki.prototype,"alt",void 0),t([lt({type:String}),e("design:type",String)],ki.prototype,"crossorigin",void 0),t([lt({type:Boolean}),e("design:type",Object)],ki.prototype,"preventLoad",void 0),t([lt({type:String,reflect:!0}),e("design:type",String)],ki.prototype,"sizing",void 0),t([lt({type:String}),e("design:type",Object)],ki.prototype,"position",void 0),t([lt({type:Boolean}),e("design:type",Object)],ki.prototype,"preload",void 0),t([lt({type:String}),e("design:type",String)],ki.prototype,"placeholder",void 0),t([lt({type:Boolean}),e("design:type",Object)],ki.prototype,"fade",void 0),t([lt({type:Boolean}),e("design:type",Object)],ki.prototype,"loaded",void 0),t([lt({type:Boolean}),e("design:type",Object)],ki.prototype,"loading",void 0),t([lt({type:Boolean}),e("design:type",Object)],ki.prototype,"error",void 0),t([lt({type:String}),e("design:type",String)],ki.prototype,"width",void 0),t([lt({type:String}),e("design:type",String)],ki.prototype,"height",void 0),ki=t([rt("yp-image")],ki);class Ci extends nt{constructor(){super(...arguments),this.language="en",this.wide=!1,this.rtl=!1,this.largeFont=!1,this.themeColor="#FFE800"}static get styles(){return[]}connectedCallback(){super.connectedCallback(),this.addGlobalListener("yp-language-loaded",this._languageEvent.bind(this)),this.addGlobalListener("yp-large-font",this._largeFont.bind(this)),this.addGlobalListener("yp-theme-color",this._changeThemeColor.bind(this)),this.addGlobalListener("yp-theme-dark-mode",this._changeThemeDarkMode.bind(this)),window.appGlobals&&window.appGlobals.i18nTranslation&&window.appGlobals.locale?(this.language=window.appGlobals.locale,this._setupRtl()):this.language="en",((t,e)=>{let i=window.matchMedia(t);i.addListener((t=>e(t.matches))),e(i.matches)})("(min-width: 900px)",(t=>{this.wide=!1}))}disconnectedCallback(){super.disconnectedCallback(),this.removeGlobalListener("yp-language-loaded",this._languageEvent.bind(this)),this.removeGlobalListener("yp-large-font",this._largeFont.bind(this)),this.removeGlobalListener("yp-theme-color",this._changeThemeColor.bind(this)),this.removeGlobalListener("yp-theme-dark-mode",this._changeThemeDarkMode.bind(this))}_changeThemeColor(t){this.themeColor=t.detail}_changeThemeDarkMode(t){this.themeDarkMode=t.detail}updated(t){t.has("language")&&this.languageChanged()}static get rtlLanguages(){return["fa","ar","ar_EG"]}languageChanged(){}_setupRtl(){Ci.rtlLanguages.indexOf(this.language)>-1?this.rtl=!0:this.rtl=!1}_largeFont(t){this.largeFont=t.detail}_languageEvent(t){this.language=t.detail.language,window.appGlobals.locale=t.detail.language,void 0!==this.rtl&&this._setupRtl()}fire(t,e={},i=this){const o=new CustomEvent(t,{detail:e,bubbles:!0,composed:!0});i.dispatchEvent(o)}fireGlobal(t,e={}){this.fire(t,e,document)}addListener(t,e,i=this){i.addEventListener(t,e,!1)}addGlobalListener(t,e){this.addListener(t,e,document)}removeListener(t,e,i=this){i.removeEventListener(t,e)}removeGlobalListener(t,e){this.removeListener(t,e,document)}t(...t){const e=t[0];if(window.appGlobals&&window.appGlobals.i18nTranslation){let t=window.appGlobals.i18nTranslation.t(e);return t||(t=""),t}return e}$$(t){return this.shadowRoot?this.shadowRoot.querySelector(t):null}}t([lt({type:String}),e("design:type",Object)],Ci.prototype,"language",void 0),t([lt({type:Boolean}),e("design:type",Object)],Ci.prototype,"wide",void 0),t([lt({type:Boolean}),e("design:type",Object)],Ci.prototype,"rtl",void 0),t([lt({type:Boolean}),e("design:type",Object)],Ci.prototype,"largeFont",void 0),t([lt({type:String}),e("design:type",Object)],Ci.prototype,"themeColor",void 0),t([lt({type:Boolean}),e("design:type",Boolean)],Ci.prototype,"themeDarkMode",void 0);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const $i=(t,e)=>{var i,o;const n=t._$AN;if(void 0===n)return!1;for(const t of n)null===(o=(i=t)._$AO)||void 0===o||o.call(i,e,!1),$i(t,e);return!0},Ti=t=>{let e,i;do{if(void 0===(e=t._$AM))break;i=e._$AN,i.delete(t),t=e}while(0===(null==i?void 0:i.size))},Si=t=>{for(let e;e=t._$AM;t=e){let i=e._$AN;if(void 0===i)e._$AN=i=new Set;else if(i.has(t))break;i.add(t),Ai(e)}};function Ii(t){void 0!==this._$AN?(Ti(this),this._$AM=t,Si(this)):this._$AM=t}function Pi(t,e=!1,i=0){const o=this._$AH,n=this._$AN;if(void 0!==n&&0!==n.size)if(e)if(Array.isArray(o))for(let t=i;t<o.length;t++)$i(o[t],!1),Ti(o[t]);else null!=o&&($i(o,!1),Ti(o));else $i(this,t)}const Ai=t=>{var e,i,o,n;t.type==Tt&&(null!==(e=(o=t)._$AP)&&void 0!==e||(o._$AP=Pi),null!==(i=(n=t)._$AQ)&&void 0!==i||(n._$AQ=Ii))};class Oi extends Ot{constructor(){super(...arguments),this._$AN=void 0}_$AT(t,e,i){super._$AT(t,e,i),Si(this),this.isConnected=t._$AU}_$AO(t,e=!0){var i,o;t!==this.isConnected&&(this.isConnected=t,t?null===(i=this.reconnected)||void 0===i||i.call(this):null===(o=this.disconnected)||void 0===o||o.call(this)),e&&($i(this,t),Ti(this))}setValue(t){if(mi(this._$Ct))this._$Ct._$AI(t,this);else{const e=[...this._$Ct._$AH];e[this._$Ci]=t,this._$Ct._$AI(e,this,0)}}disconnected(){}reconnected(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Li=(t,e,i)=>{const o=new Map;for(let n=e;n<=i;n++)o.set(t[n],n);return o},Ei=At(class extends Ot{constructor(t){if(super(t),t.type!==Tt)throw Error("repeat() can only be used in text expressions")}ht(t,e,i){let o;void 0===i?i=e:void 0!==e&&(o=e);const n=[],s=[];let r=0;for(const e of t)n[r]=o?o(e,r):r,s[r]=i(e,r),r++;return{values:s,keys:n}}render(t,e,i){return this.ht(t,e,i).values}update(t,[e,i,o]){var n;const s=_i(t),{values:r,keys:a}=this.ht(e,i,o);if(!Array.isArray(s))return this.ut=a,r;const l=null!==(n=this.ut)&&void 0!==n?n:this.ut=[],d=[];let c,h,p=0,u=s.length-1,m=0,g=r.length-1;for(;p<=u&&m<=g;)if(null===s[p])p++;else if(null===s[u])u--;else if(l[p]===a[m])d[m]=vi(s[p],r[m]),p++,m++;else if(l[u]===a[g])d[g]=vi(s[u],r[g]),u--,g--;else if(l[p]===a[g])d[g]=vi(s[p],r[g]),fi(t,d[g+1],s[p]),p++,g--;else if(l[u]===a[m])d[m]=vi(s[u],r[m]),fi(t,s[p],s[u]),u--,m++;else if(void 0===c&&(c=Li(a,m,g),h=Li(l,p,u)),c.has(l[p]))if(c.has(l[u])){const e=h.get(a[m]),i=void 0!==e?s[e]:null;if(null===i){const e=fi(t,s[p]);vi(e,r[m]),d[m]=e}else d[m]=vi(i,r[m]),fi(t,s[p],i),s[e]=null;m++}else wi(s[u]),u--;else wi(s[p]),p++;for(;m<=g;){const e=fi(t,d[g+1]);vi(e,r[m]),d[m++]=e}for(;p<=u;){const t=s[p++];null!==t&&wi(t)}return this.ut=a,bi(t,d),R}});
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let zi,Di;async function Mi(){return Di||async function(){if(zi)return(await zi).default;zi=window.ResizeObserver;try{new zi((function(){}))}catch(t){zi=import("./7f7cb14f.js"),zi=(await zi).default}return Di=zi}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */()}class Ni extends Event{constructor(t){super(Ni.eventName,{bubbles:!0}),this.first=t.first,this.last=t.last}}Ni.eventName="rangeChanged";class Ri extends Event{constructor(t){super(Ri.eventName,{bubbles:!0}),this.first=t.first,this.last=t.last}}Ri.eventName="visibilityChanged";class Ui extends Event{constructor(){super(Ui.eventName,{bubbles:!1})}}Ui.eventName="unpinned";
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class ji{constructor(t){this._node=null,this._element=null;const e=null!=t?t:window;this._node=e,t&&(this._element=t)}get element(){return this._element||document.scrollingElement||document.documentElement}get scrollTop(){return this.element.scrollTop||window.scrollY}get scrollLeft(){return this.element.scrollLeft||window.scrollX}get scrollHeight(){return this.element.scrollHeight}get scrollWidth(){return this.element.scrollWidth}get viewportHeight(){return this._element?this._element.getBoundingClientRect().height:window.innerHeight}get viewportWidth(){return this._element?this._element.getBoundingClientRect().width:window.innerWidth}get maxScrollTop(){return this.scrollHeight-this.viewportHeight}get maxScrollLeft(){return this.scrollWidth-this.viewportWidth}}class Vi extends ji{constructor(t,e){super(e),this._originalScrollTo=null,this._originalScrollBy=null,this._originalScroll=null,this._clients=[],this._retarget=null,this._end=null,this.__destination=null,this.correctingScrollError=!1;const i=this._node,o=Vi._instanceMap.get(i);if(o)return o._attach(t),o;this._checkForArrival=this._checkForArrival.bind(this),this._updateManagedScrollTo=this._updateManagedScrollTo.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollBy=this.scrollBy.bind(this),this._originalScrollTo=i.scrollTo,this._originalScrollBy=i.scrollBy,this._originalScroll=i.scroll,this._attach(t)}get _destination(){return this.__destination}get scrolling(){return null!==this._destination}scrollTo(t,e){const i="number"==typeof t&&"number"==typeof e?{left:t,top:e}:t;this._scrollTo(i)}scrollBy(t,e){const i="number"==typeof t&&"number"==typeof e?{left:t,top:e}:t;void 0!==i.top&&(i.top+=this.scrollTop),void 0!==i.left&&(i.left+=this.scrollLeft),this._scrollTo(i)}_nativeScrollTo(t){this._originalScrollTo.bind(this._element||window)(t)}_scrollTo(t,e=null,i=null){null!==this._end&&this._end(),"smooth"===t.behavior?(this._setDestination(t),this._retarget=e,this._end=i):this._resetScrollState(),this._nativeScrollTo(t)}_setDestination(t){let{top:e,left:i}=t;return e=void 0===e?void 0:Math.max(0,Math.min(e,this.maxScrollTop)),i=void 0===i?void 0:Math.max(0,Math.min(i,this.maxScrollLeft)),(null===this._destination||i!==this._destination.left||e!==this._destination.top)&&(this.__destination={top:e,left:i,behavior:"smooth"},!0)}_resetScrollState(){this.__destination=null,this._retarget=null,this._end=null}_updateManagedScrollTo(t){this._destination&&this._setDestination(t)&&this._nativeScrollTo(this._destination)}managedScrollTo(t,e,i){return this._scrollTo(t,e,i),this._updateManagedScrollTo}correctScrollError(t){this.correctingScrollError=!0,requestAnimationFrame((()=>requestAnimationFrame((()=>this.correctingScrollError=!1)))),this._nativeScrollTo(t),this._retarget&&this._setDestination(this._retarget()),this._destination&&this._nativeScrollTo(this._destination)}_checkForArrival(){if(null!==this._destination){const{scrollTop:t,scrollLeft:e}=this;let{top:i,left:o}=this._destination;i=Math.min(i||0,this.maxScrollTop),o=Math.min(o||0,this.maxScrollLeft);const n=Math.abs(i-t),s=Math.abs(o-e);n<1&&s<1&&(this._end&&this._end(),this._resetScrollState())}}detach(t){return this._clients=this._clients.splice(this._clients.indexOf(t),1),0===this._clients.length&&(this._node.scrollTo=this._originalScrollTo,this._node.scrollBy=this._originalScrollBy,this._node.scroll=this._originalScroll,this._node.removeEventListener("scroll",this._checkForArrival)),null}_attach(t){this._clients.push(t),1===this._clients.length&&(this._node.scrollTo=this.scrollTo,this._node.scrollBy=this.scrollBy,this._node.scroll=this.scrollTo,this._node.addEventListener("scroll",this._checkForArrival))}}Vi._instanceMap=new WeakMap;
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Fi=Symbol("virtualizerRef"),Gi="virtualizer-sizer";let Bi;class Hi{constructor(t){if(this._benchmarkStart=null,this._layout=null,this._clippingAncestors=[],this._scrollSize=null,this._scrollError=null,this._childrenPos=null,this._childMeasurements=null,this._toBeMeasured=new Map,this._rangeChanged=!0,this._itemsChanged=!0,this._visibilityChanged=!0,this._scrollerController=null,this._isScroller=!1,this._sizer=null,this._hostElementRO=null,this._childrenRO=null,this._mutationObserver=null,this._scrollEventListeners=[],this._scrollEventListenerOptions={passive:!0},this._loadListener=this._childLoaded.bind(this),this._scrollIntoViewTarget=null,this._updateScrollIntoViewCoordinates=null,this._items=[],this._first=-1,this._last=-1,this._firstVisible=-1,this._lastVisible=-1,this._scheduled=new WeakSet,this._measureCallback=null,this._measureChildOverride=null,this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null,!t)throw new Error("Virtualizer constructor requires a configuration object");if(!t.hostElement)throw new Error('Virtualizer configuration requires the "hostElement" property');this._init(t)}set items(t){Array.isArray(t)&&t!==this._items&&(this._itemsChanged=!0,this._items=t,this._schedule(this._updateLayout))}_init(t){this._isScroller=!!t.scroller,this._initHostElement(t),this._initLayout(t.layout||{})}async _initObservers(){this._mutationObserver=new MutationObserver(this._finishDOMUpdate.bind(this));const t=await Mi();this._hostElementRO=new t((()=>this._hostElementSizeChanged())),this._childrenRO=new t(this._childrenSizeChanged.bind(this))}_initHostElement(t){const e=this._hostElement=t.hostElement;this._applyVirtualizerStyles(),e[Fi]=this}async connected(){await this._initObservers();const t=this._isScroller;this._clippingAncestors=function(t,e=!1){return function(t,e=!1){const i=[];let o=e?t:qi(t);for(;null!==o;)i.push(o),o=qi(o);return i}(t,e).filter((t=>"visible"!==getComputedStyle(t).overflow))}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */(this._hostElement,t),this._scrollerController=new Vi(this,this._clippingAncestors[0]),this._schedule(this._updateLayout),this._observeAndListen()}_observeAndListen(){this._mutationObserver.observe(this._hostElement,{childList:!0}),this._hostElementRO.observe(this._hostElement),this._scrollEventListeners.push(window),window.addEventListener("scroll",this,this._scrollEventListenerOptions),this._clippingAncestors.forEach((t=>{t.addEventListener("scroll",this,this._scrollEventListenerOptions),this._scrollEventListeners.push(t),this._hostElementRO.observe(t)})),this._hostElementRO.observe(this._scrollerController.element),this._children.forEach((t=>this._childrenRO.observe(t))),this._scrollEventListeners.forEach((t=>t.addEventListener("scroll",this,this._scrollEventListenerOptions)))}disconnected(){var t,e,i,o;this._scrollEventListeners.forEach((t=>t.removeEventListener("scroll",this,this._scrollEventListenerOptions))),this._scrollEventListeners=[],this._clippingAncestors=[],this._scrollerController=(null===(t=this._scrollerController)||void 0===t?void 0:t.detach(this))||null,null===(e=this._mutationObserver)||void 0===e||e.disconnect(),null===(i=this._hostElementRO)||void 0===i||i.disconnect(),null===(o=this._childrenRO)||void 0===o||o.disconnect(),this._rejectLayoutCompletePromise("disconnected")}_applyVirtualizerStyles(){const t=this._hostElement.style;t.display=t.display||"block",t.position=t.position||"relative",t.contain=t.contain||"size layout",this._isScroller&&(t.overflow=t.overflow||"auto",t.minHeight=t.minHeight||"150px")}_getSizer(){const t=this._hostElement;if(!this._sizer){let e=t.querySelector(`[${Gi}]`);e||(e=document.createElement("div"),e.setAttribute(Gi,""),t.appendChild(e)),Object.assign(e.style,{position:"absolute",margin:"-2px 0 0 0",padding:0,visibility:"hidden",fontSize:"2px"}),e.innerHTML="&nbsp;",e.setAttribute(Gi,""),this._sizer=e}return this._sizer}updateLayoutConfig(t){const e=t.type||Bi;if("function"==typeof e&&this._layout instanceof e){const e={...t};return delete e.type,this._layout.config=e,!0}return!1}async _initLayout(t){let e,i;if("function"==typeof t.type){i=t.type;const o={...t};delete o.type,e=o}else e=t;void 0===i&&(Bi=i=(await Promise.resolve().then((function(){return Fl}))).FlowLayout),this._layout=new i(e),this._layout.measureChildren&&"function"==typeof this._layout.updateItemSizes&&("function"==typeof this._layout.measureChildren&&(this._measureChildOverride=this._layout.measureChildren),this._measureCallback=this._layout.updateItemSizes.bind(this._layout)),this._layout.addEventListener("scrollsizechange",this),this._layout.addEventListener("scrollerrorchange",this),this._layout.addEventListener("itempositionchange",this),this._layout.addEventListener("rangechange",this),this._layout.addEventListener("unpinned",this),this._layout.listenForChildLoadEvents&&this._hostElement.addEventListener("load",this._loadListener,!0),this._schedule(this._updateLayout)}startBenchmarking(){null===this._benchmarkStart&&(this._benchmarkStart=window.performance.now())}stopBenchmarking(){if(null!==this._benchmarkStart){const t=window.performance.now(),e=t-this._benchmarkStart,i=performance.getEntriesByName("uv-virtualizing","measure").filter((e=>e.startTime>=this._benchmarkStart&&e.startTime<t)).reduce(((t,e)=>t+e.duration),0);return this._benchmarkStart=null,{timeElapsed:e,virtualizationTime:i}}return null}_measureChildren(){const t={},e=this._children,i=this._measureChildOverride||this._measureChild;for(let o=0;o<e.length;o++){const n=e[o],s=this._first+o;(this._itemsChanged||this._toBeMeasured.has(n))&&(t[s]=i.call(this,n,this._items[s]))}this._childMeasurements=t,this._schedule(this._updateLayout),this._toBeMeasured.clear()}_measureChild(t){const{width:e,height:i}=t.getBoundingClientRect();return Object.assign({width:e,height:i},function(t){const e=window.getComputedStyle(t);return{marginTop:Wi(e.marginTop),marginRight:Wi(e.marginRight),marginBottom:Wi(e.marginBottom),marginLeft:Wi(e.marginLeft)}}(t))}async _schedule(t){this._scheduled.has(t)||(this._scheduled.add(t),await Promise.resolve(),this._scheduled.delete(t),t.call(this))}async _updateDOM(){const{_rangeChanged:t,_itemsChanged:e}=this;this._visibilityChanged&&(this._notifyVisibility(),this._visibilityChanged=!1),t||e?(this._notifyRange(),this._rangeChanged=!1):this._finishDOMUpdate()}_finishDOMUpdate(){this._children.forEach((t=>this._childrenRO.observe(t))),this._checkScrollIntoViewTarget(this._childrenPos),this._positionChildren(this._childrenPos),this._sizeHostElement(this._scrollSize),this._correctScrollError(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end")}_updateLayout(){this._layout&&(this._layout.items=this._items,this._updateView(),null!==this._childMeasurements&&(this._measureCallback&&this._measureCallback(this._childMeasurements),this._childMeasurements=null),this._layout.reflowIfNeeded(),this._benchmarkStart&&"mark"in window.performance&&window.performance.mark("uv-end"))}_handleScrollEvent(){var t;if(this._benchmarkStart&&"mark"in window.performance){try{window.performance.measure("uv-virtualizing","uv-start","uv-end")}catch(t){console.warn("Error measuring performance data: ",t)}window.performance.mark("uv-start")}!1===this._scrollerController.correctingScrollError&&(null===(t=this._layout)||void 0===t||t.unpin()),this._schedule(this._updateLayout)}handleEvent(t){switch(t.type){case"scroll":(t.currentTarget===window||this._clippingAncestors.includes(t.currentTarget))&&this._handleScrollEvent();break;case"scrollsizechange":this._scrollSize=t.detail,this._schedule(this._updateDOM);break;case"scrollerrorchange":this._scrollError=t.detail,this._schedule(this._updateDOM);break;case"itempositionchange":this._childrenPos=t.detail,this._schedule(this._updateDOM);break;case"rangechange":this._adjustRange(t.detail),this._schedule(this._updateDOM);break;case"unpinned":this._hostElement.dispatchEvent(new Ui);break;default:console.warn("event not handled",t)}}get _children(){const t=[];let e=this._hostElement.firstElementChild;for(;e;)e.hasAttribute(Gi)||t.push(e),e=e.nextElementSibling;return t}_updateView(){var t;const e=this._hostElement,i=null===(t=this._scrollerController)||void 0===t?void 0:t.element,o=this._layout;if(e&&i&&o){let t,n,s,r;const a=e.getBoundingClientRect();t=0,n=0,s=window.innerHeight,r=window.innerWidth;const l=this._clippingAncestors.map((t=>t.getBoundingClientRect()));l.unshift(a);for(const e of l)t=Math.max(t,e.top),n=Math.max(n,e.left),s=Math.min(s,e.bottom),r=Math.min(r,e.right);const d=i.getBoundingClientRect(),c={left:a.left-d.left,top:a.top-d.top},h={width:i.scrollWidth,height:i.scrollHeight},p=t-a.top+e.scrollTop,u=n-a.left+e.scrollLeft,m=Math.max(1,s-t),g=Math.max(1,r-n);o.viewportSize={width:g,height:m},o.viewportScroll={top:p,left:u},o.totalScrollSize=h,o.offsetWithinScroller=c}}_sizeHostElement(t){const e=82e5,i=t&&null!==t.width?Math.min(e,t.width):0,o=t&&null!==t.height?Math.min(e,t.height):0;if(this._isScroller)this._getSizer().style.transform=`translate(${i}px, ${o}px)`;else{const t=this._hostElement.style;t.minWidth=i?`${i}px`:"100%",t.minHeight=o?`${o}px`:"100%"}}_positionChildren(t){t&&t.forEach((({top:t,left:e,width:i,height:o,xOffset:n,yOffset:s},r)=>{const a=this._children[r-this._first];a&&(a.style.position="absolute",a.style.boxSizing="border-box",a.style.transform=`translate(${e}px, ${t}px)`,void 0!==i&&(a.style.width=i+"px"),void 0!==o&&(a.style.height=o+"px"),a.style.left=void 0===n?null:n+"px",a.style.top=void 0===s?null:s+"px")}))}async _adjustRange(t){const{_first:e,_last:i,_firstVisible:o,_lastVisible:n}=this;this._first=t.first,this._last=t.last,this._firstVisible=t.firstVisible,this._lastVisible=t.lastVisible,this._rangeChanged=this._rangeChanged||this._first!==e||this._last!==i,this._visibilityChanged=this._visibilityChanged||this._firstVisible!==o||this._lastVisible!==n}_correctScrollError(){if(this._scrollError){const{scrollTop:t,scrollLeft:e}=this._scrollerController,{top:i,left:o}=this._scrollError;this._scrollError=null,this._scrollerController.correctScrollError({top:t-i,left:e-o})}}element(t){var e;return t===1/0&&(t=this._items.length-1),void 0===(null===(e=this._items)||void 0===e?void 0:e[t])?void 0:{scrollIntoView:(e={})=>this._scrollElementIntoView({...e,index:t})}}_scrollElementIntoView(t){if(t.index>=this._first&&t.index<=this._last)this._children[t.index-this._first].scrollIntoView(t);else if(t.index=Math.min(t.index,this._items.length-1),"smooth"===t.behavior){const e=this._layout.getScrollIntoViewCoordinates(t),{behavior:i}=t;this._updateScrollIntoViewCoordinates=this._scrollerController.managedScrollTo(Object.assign(e,{behavior:i}),(()=>this._layout.getScrollIntoViewCoordinates(t)),(()=>this._scrollIntoViewTarget=null)),this._scrollIntoViewTarget=t}else this._layout.pin=t}_checkScrollIntoViewTarget(t){const{index:e}=this._scrollIntoViewTarget||{};e&&(null==t?void 0:t.has(e))&&this._updateScrollIntoViewCoordinates(this._layout.getScrollIntoViewCoordinates(this._scrollIntoViewTarget))}_notifyRange(){this._hostElement.dispatchEvent(new Ni({first:this._first,last:this._last}))}_notifyVisibility(){this._hostElement.dispatchEvent(new Ri({first:this._firstVisible,last:this._lastVisible}))}get layoutComplete(){return this._layoutCompletePromise||(this._layoutCompletePromise=new Promise(((t,e)=>{this._layoutCompleteResolver=t,this._layoutCompleteRejecter=e}))),this._layoutCompletePromise}_rejectLayoutCompletePromise(t){null!==this._layoutCompleteRejecter&&this._layoutCompleteRejecter(t),this._resetLayoutCompleteState()}_scheduleLayoutComplete(){this._layoutCompletePromise&&null===this._pendingLayoutComplete&&(this._pendingLayoutComplete=requestAnimationFrame((()=>requestAnimationFrame((()=>this._resolveLayoutCompletePromise())))))}_resolveLayoutCompletePromise(){null!==this._layoutCompleteResolver&&this._layoutCompleteResolver(),this._resetLayoutCompleteState()}_resetLayoutCompleteState(){this._layoutCompletePromise=null,this._layoutCompleteResolver=null,this._layoutCompleteRejecter=null,this._pendingLayoutComplete=null}_hostElementSizeChanged(){this._schedule(this._updateLayout)}_childLoaded(){}_childrenSizeChanged(t){if(this._layout.measureChildren){for(const e of t)this._toBeMeasured.set(e.target,e.contentRect);this._measureChildren()}this._scheduleLayoutComplete(),this._itemsChanged=!1,this._rangeChanged=!1}}function Wi(t){const e=t?parseFloat(t):NaN;return Number.isNaN(e)?0:e}function qi(t){if(null!==t.assignedSlot)return t.assignedSlot;if(null!==t.parentElement)return t.parentElement;const e=t.parentNode;return e&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host||null}const Qi=t=>t,Ji=(t,e)=>N`${e}: ${JSON.stringify(t,null,2)}`;const Zi=At(class extends Oi{constructor(t){if(super(t),this._virtualizer=null,this._first=0,this._last=-1,this._renderItem=(t,e)=>Ji(t,e+this._first),this._keyFunction=(t,e)=>Qi(t,this._first),this._items=[],t.type!==Tt)throw new Error("The virtualize directive can only be used in child expressions")}render(t){t&&this._setFunctions(t);const e=[],i=Math.min(this._items.length,this._last+1);if(this._first>=0&&this._last>=this._first)for(let t=this._first;t<i;t++)e.push(this._items[t]);return Ei(e,this._keyFunction,this._renderItem)}update(t,[e]){return this._setFunctions(e),this._items=e.items||[],this._virtualizer?this._updateVirtualizerConfig(t,e):this._initialize(t,e),this.render()}_updateVirtualizerConfig(t,e){if(!this._virtualizer.updateLayoutConfig(e.layout||{})){const i=t.parentNode;this._makeVirtualizer(i,e)}this._virtualizer.items=this._items}_setFunctions(t){const{renderItem:e,keyFunction:i}=t;e&&(this._renderItem=(t,i)=>e(t,i+this._first)),i&&(this._keyFunction=(t,e)=>i(t,e+this._first))}_makeVirtualizer(t,e){this._virtualizer&&this._virtualizer.disconnected();const{layout:i,scroller:o,items:n}=e;this._virtualizer=new Hi({hostElement:t,layout:i,scroller:o}),this._virtualizer.items=n,this._virtualizer.connected()}_initialize(t,e){const i=t.parentNode;i&&1===i.nodeType&&(i.addEventListener("rangeChanged",(t=>{t.stopPropagation(),this._first=t.first,this._last=t.last,this.setValue(this.render())})),this._makeVirtualizer(i,e))}disconnected(){var t;null===(t=this._virtualizer)||void 0===t||t.disconnected()}reconnected(){var t;null===(t=this._virtualizer)||void 0===t||t.connected()}}),Ki=a`
  display: -ms-flexbox;
  display: -webkit-flex;
  display: flex;
`;a`
  box-sizing: border-box;
`;const Yi=a`
  display: -ms-inline-flexbox;
  display: -webkit-inline-flex;
  display: inline-flex;
`,Xi=a`
  -ms-flex-direction: row;
  -webkit-flex-direction: row;
  flex-direction: row;
`,to=a`
  -ms-flex-direction: column;
  -webkit-flex-direction: column;
  flex-direction: column;
`,eo=a`
  -ms-flex-wrap: wrap;
  -webkit-flex-wrap: wrap;
  flex-wrap: wrap;
`,io=a`
  -ms-flex-wrap: nowrap;
  -webkit-flex-wrap: nowrap;
  flex-wrap: nowrap;
`,oo=a`
  -ms-flex: 1 1 0.000000001px;
  -webkit-flex: 1;
  flex: 1;
  -webkit-flex-basis: 0.000000001px;
  flex-basis: 0.000000001px;
`,no=a`
  -ms-flex: 1 1 auto;
  -webkit-flex: 1 1 auto;
  flex: 1 1 auto;
`,so=a`
  -ms-flex: 1 1 auto;
  -webkit-flex: 1 1 auto;
  flex: 1 1 auto;
`,ro=a`
  display: none !important;
`,ao=a`
  -ms-flex: 2;
  -webkit-flex: 2;
  flex: 2;
`,lo=a`
  -ms-flex: 3;
  -webkit-flex: 3;
  flex: 3;
`,co=a`
  -ms-flex: 4;
  -webkit-flex: 4;
  flex: 4;
`,ho=a`
  -ms-flex: 5;
  -webkit-flex: 5;
  flex: 5;
`,po=a`
  -ms-flex: 6;
  -webkit-flex: 6;
  flex: 6;
`,uo=a`
  -ms-flex: 7;
  -webkit-flex: 7;
  flex: 7;
`,mo=a`
  -ms-flex: 8;
  -webkit-flex: 8;
  flex: 8;
`,go=a`
  -ms-flex: 9;
  -webkit-flex: 9;
  flex: 9;
`,fo=a`
  -ms-flex: 10;
  -webkit-flex: 10;
  flex: 10;
`,vo=a`
  -ms-flex: 11;
  -webkit-flex: 11;
  flex: 11;
`,yo=a`
  -ms-flex: 12;
  -webkit-flex: 12;
  flex: 12;
`,bo=a`
  -ms-flex-direction: row-reverse;
  -webkit-flex-direction: row-reverse;
  flex-direction: row-reverse;
`,_o=a`
  -ms-flex-direction: column-reverse;
  -webkit-flex-direction: column-reverse;
  flex-direction: column-reverse;
`,wo=a`
  -ms-flex-wrap: wrap-reverse;
  -webkit-flex-wrap: wrap-reverse;
  flex-wrap: wrap-reverse;
`,xo=a`
  display: block;
`,ko=a`
  visibility: hidden !important;
`,Co=a`
  position: relative;
`,$o=a`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
`,To=a`
  -webkit-overflow-scrolling: touch;
  overflow: auto;
`,So=a`
  position: fixed;
`,Io=a`
  top: 0;
  left: 0;
  right: 0;
`,Po=a`
  top: 0;
  right: 0;
  bottom: 0;
`,Ao=a`
  top: 0;
  bottom: 0;
  left: 0;
`,Oo=a`
  right: 0;
  bottom: 0;
  left: 0;
`,Lo=a`
  -ms-flex-align: start;
  -webkit-align-items: flex-start;
  align-items: flex-start;
`,Eo=a`
  -ms-flex-align: center;
  -webkit-align-items: center;
  align-items: center;
`,zo=a`
  -ms-flex-align: end;
  -webkit-align-items: flex-end;
  align-items: flex-end;
`,Do=a`
  -ms-flex-align: baseline;
  -webkit-align-items: baseline;
  align-items: baseline;
`,Mo=a`
  -ms-flex-pack: start;
  -webkit-justify-content: flex-start;
  justify-content: flex-start;
`,No=a`
  -ms-flex-pack: center;
  -webkit-justify-content: center;
  justify-content: center;
`,Ro=a`
  -ms-flex-pack: end;
  -webkit-justify-content: flex-end;
  justify-content: flex-end;
`,Uo=a`
  -ms-flex-pack: distribute;
  -webkit-justify-content: space-around;
  justify-content: space-around;
`,jo=a`
  -ms-flex-pack: justify;
  -webkit-justify-content: space-between;
  justify-content: space-between;
`,Vo=a`
  -ms-align-self: flex-start;
  -webkit-align-self: flex-start;
  align-self: flex-start;
`,Fo=a`
  -ms-align-self: center;
  -webkit-align-self: center;
  align-self: center;
`,Go=a`
  -ms-align-self: flex-end;
  -webkit-align-self: flex-end;
  align-self: flex-end;
`,Bo=a`
  -ms-align-self: stretch;
  -webkit-align-self: stretch;
  align-self: stretch;
`,Ho=a`
  -ms-align-self: baseline;
  -webkit-align-self: baseline;
  align-self: baseline;
`,Wo=a`
  -ms-flex-line-pack: start; /* IE10 */
  -ms-align-content: flex-start;
  -webkit-align-content: flex-start;
  align-content: flex-start;
`,qo=a`
  -ms-flex-line-pack: end; /* IE10 */
  -ms-align-content: flex-end;
  -webkit-align-content: flex-end;
  align-content: flex-end;
`,Qo=a`
  -ms-flex-line-pack: center; /* IE10 */
  -ms-align-content: center;
  -webkit-align-content: center;
  align-content: center;
`,Jo=a`
  -ms-flex-line-pack: justify; /* IE10 */
  -ms-align-content: space-between;
  -webkit-align-content: space-between;
  align-content: space-between;
`,Zo=a`
  -ms-flex-line-pack: distribute; /* IE10 */
  -ms-align-content: space-around;
  -webkit-align-content: space-around;
  align-content: space-around;
`,Ko=a`.layout.horizontal,.layout.vertical{${Ki}}.layout.inline{${Yi}}.layout.horizontal{${Xi}}.layout.vertical{${to}}.layout.wrap{${eo}}.layout.no-wrap{${io}}.layout.center,.layout.center-center{${Eo}}.layout.center-center,.layout.center-justified{${No}}.flex{${oo}}.flex-auto{${no}}.flex-none{${so}}.none{${ro}}`;a`.flex,.flex-1{${no}}.flex-2{${ao}}.flex-3{${lo}}.flex-4{${co}}.flex-5{${ho}}.flex-6{${po}}.flex-7{${uo}}.flex-8{${mo}}.flex-9{${go}}.flex-10{${fo}}.flex-11{${vo}}.flex-12{${yo}}`,a`.layout.horizontal-reverse,.layout.vertical-reverse{${Ki}}.layout.horizontal-reverse{${bo}}.layout.vertical-reverse{${_o}}.layout.wrap-reverse{${wo}}`,a`.block{${xo}}[hidden]{${ro}}.invisible{${ko}}.relative{${Co}}.fit{${$o}}body.fullbleed{margin:0;height:100vh}.scroll{${To}}.fixed-bottom,.fixed-left,.fixed-right,.fixed-top{${So}}.fixed-top{${Io}}.fixed-right{${Po}}.fixed-bottom{${Oo}}.fixed-left{${Ao}}`,a`
  .layout.start {
    ${Lo}
  }

  .layout.center,
  .layout.center-center {
    ${Eo}
  }

  .layout.end {
    ${zo}
  }

  .layout.baseline {
    ${Do}
  }

  .layout.start-justified {
    ${Mo}
  }

  .layout.center-justified,
  .layout.center-center {
    ${No}
  }

  .layout.end-justified {
    ${Ro}
  }

  .layout.around-justified {
    ${Uo}
  }

  .layout.justified {
    ${jo}
  }

  .self-start {
   ${Vo}

  .self-center {
   ${Fo}
  }

  .self-end {
    ${Go}
  }

  .self-stretch {
   ${Bo}
  }

  .self-baseline {
   ${Ho}
  }

  .layout.start-aligned {
   ${Wo}
  }

  .layout.end-aligned {
    ${qo}
  }

  .layout.center-aligned {
   ${Qo}
  }

  .layout.between-aligned {
    ${Jo}
  }

  .layout.around-aligned {
    ${Zo}
  }
`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;class Yo extends nt{constructor(){super(...arguments),this.disabled=!1,this.icon="",this.label="",this.lowered=!1,this.reducedTouchTarget=!1,this.showFocusRing=!1,this.showRipple=!1,this.renderRipple=()=>N`<md-ripple class="md3-fab__ripple" ?disabled="${this.disabled}"></md-ripple>`}render(){const t=this.label?this.label:this.icon;return N` <button class="md3-fab md3-surface ${Lt(this.getRenderClasses())}" ?disabled="${this.disabled}" aria-label="${t}" @focus="${this.handleFocus}" @blur="${this.handleBlur}" @pointerdown="${this.handlePointerDown}" ${se((()=>(this.showRipple=!0,this.ripple)))}> ${this.renderElevation()} ${this.renderFocusRing()} ${ne(this.showRipple,this.renderRipple)} <span class="md3-fab__icon"> <slot name="icon">${this.renderIcon(this.icon)}</slot> </span> ${this.renderLabel()} ${this.renderTouchTarget()} </button>`}getRenderClasses(){return{"md3-fab--lowered":this.lowered}}renderTouchTarget(){return this.reducedTouchTarget?N``:N`<div class="md3-fab__touch"></div>`}renderLabel(){return""}renderElevation(){return N`<md-elevation shadow surface></md-elevation>`}renderFocusRing(){return N`<md-focus-ring .visible="${this.showFocusRing}"></md-focus-ring>`}handlePointerDown(t){Wt(),this.showFocusRing=Ht()}handleFocus(){this.showFocusRing=Ht()}handleBlur(){this.showFocusRing=!1}}Yo.shadowRootOptions={mode:"open",delegatesFocus:!0},t([lt({type:Boolean}),e("design:type",Object)],Yo.prototype,"disabled",void 0),t([lt(),e("design:type",Object)],Yo.prototype,"icon",void 0),t([lt(),e("design:type",Object)],Yo.prototype,"label",void 0),t([lt({type:Boolean}),e("design:type",Object)],Yo.prototype,"lowered",void 0),t([lt({type:Boolean}),e("design:type",Object)],Yo.prototype,"reducedTouchTarget",void 0),t([pt("md-ripple"),e("design:type",Promise)],Yo.prototype,"ripple",void 0),t([dt(),e("design:type",Object)],Yo.prototype,"showFocusRing",void 0),t([dt(),e("design:type",Object)],Yo.prototype,"showRipple",void 0);
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Xo extends Yo{getRenderClasses(){return{...super.getRenderClasses(),"md3-fab--extended":!0}}renderIcon(t){return""}renderLabel(){return N`<span class="md3-fab__label">${this.label}</span>`}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const tn=a`:host{--_container-shape-start-start:var(--md-fab-extended-container-shape-start-start, var(--md-fab-extended-container-shape, 16px));--_container-shape-start-end:var(--md-fab-extended-container-shape-start-end, var(--md-fab-extended-container-shape, 16px));--_container-shape-end-end:var(--md-fab-extended-container-shape-end-end, var(--md-fab-extended-container-shape, 16px));--_container-shape-end-start:var(--md-fab-extended-container-shape-end-start, var(--md-fab-extended-container-shape, 16px));--_container-color:var(--md-fab-extended-container-color, var(--md-sys-color-surface, #fffbfe));--_container-elevation:var(--md-fab-extended-container-elevation, 3);--_container-height:var(--md-fab-extended-container-height, 56px);--_container-shadow-color:var(--md-fab-extended-container-shadow-color, var(--md-sys-color-shadow, #000));--_container-surface-tint-layer-color:var(--md-fab-extended-container-surface-tint-layer-color, var(--md-sys-color-primary, #6750a4));--_focus-container-elevation:var(--md-fab-extended-focus-container-elevation, 3);--_focus-icon-color:var(--md-fab-extended-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_focus-label-text-color:var(--md-fab-extended-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_focus-state-layer-color:var(--md-fab-extended-focus-state-layer-color, var(--md-sys-color-primary, #6750a4));--_focus-state-layer-opacity:var(--md-fab-extended-focus-state-layer-opacity, 0.12);--_hover-container-elevation:var(--md-fab-extended-hover-container-elevation, 4);--_hover-icon-color:var(--md-fab-extended-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-label-text-color:var(--md-fab-extended-hover-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-color:var(--md-fab-extended-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity:var(--md-fab-extended-hover-state-layer-opacity, 0.08);--_icon-color:var(--md-fab-extended-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-size:var(--md-fab-extended-icon-size, 24px);--_label-text-color:var(--md-fab-extended-label-text-color, var(--md-sys-color-primary, #6750a4));--_label-text-type:var(--md-fab-extended-label-text-type, 500 0.875rem / 1.25rem Roboto);--_lowered-container-elevation:var(--md-fab-extended-lowered-container-elevation, 1);--_lowered-focus-container-elevation:var(--md-fab-extended-lowered-focus-container-elevation, 1);--_lowered-hover-container-elevation:var(--md-fab-extended-lowered-hover-container-elevation, 2);--_lowered-pressed-container-elevation:var(--md-fab-extended-lowered-pressed-container-elevation, 1);--_pressed-container-elevation:var(--md-fab-extended-pressed-container-elevation, 3);--_pressed-icon-color:var(--md-fab-extended-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_pressed-label-text-color:var(--md-fab-extended-pressed-label-text-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-color:var(--md-fab-extended-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity:var(--md-fab-extended-pressed-state-layer-opacity, 0.12)}.md3-fab--extended{box-sizing:border-box;padding-inline-start:16px;padding-inline-end:20px;height:var(--_container-height);font:var(--_label-text-type)}.md3-fab__label{padding-inline-start:12px;color:var(--_label-text-color)}.md3-fab:hover .md3-fab__label{color:var(--_hover-label-text-color)}.md3-fab:focus .md3-fab__label{color:var(--_focus-label-text-color)}.md3-fab:active .md3-fab__label{color:var(--_pressed-label-text-color)}@media(forced-colors:active){.md3-fab--extended{padding-inline-start:15px;padding-inline-end:19px}}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,en=a`:host{display:inline-flex;outline:0;-webkit-tap-highlight-color:transparent;vertical-align:top}:host([disabled]){cursor:default;pointer-events:none}.md3-fab{display:inline-flex;border:none;outline:0;user-select:none;-webkit-appearance:none;vertical-align:middle;text-decoration:none;align-items:center;justify-content:center;position:relative;z-index:0;background-color:var(--_container-color);--md-focus-ring-shape-start-start:var(--md-focus-ring-shape, var(--_container-shape-start-start));--md-focus-ring-shape-start-end:var(--md-focus-ring-shape, var(--_container-shape-start-end));--md-focus-ring-shape-end-end:var(--md-focus-ring-shape, var(--_container-shape-end-end));--md-focus-ring-shape-end-start:var(--md-focus-ring-shape, var(--_container-shape-end-start));--md-ripple-hover-color:var(--_hover-state-layer-color);--md-ripple-focus-color:var(--_focus-state-layer-color);--md-ripple-pressed-color:var(--_pressed-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-focus-opacity:var(--_focus-state-layer-opacity);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity);--md-elevation-duration:280ms;--md-elevation-level:var(--_container-elevation);--md-elevation-shadow-color:var(--_container-shadow-color);--md-elevation-surface-tint:var(--_container-surface-tint-layer-color)}.md3-fab.md3-fab--lowered{--md-elevation-level:var(--_lowered-container-elevation)}.md3-fab:focus{--md-elevation-level:var(--_focus-container-elevation)}.md3-fab:focus.md3-fab--lowered{--md-elevation-level:var(--_lowered-focus-container-elevation)}.md3-fab:hover{cursor:pointer;--md-elevation-level:var(--_hover-container-elevation)}.md3-fab:hover.md3-fab--lowered{--md-elevation-level:var(--_lowered-hover-container-elevation)}.md3-fab:active{outline:0;--md-elevation-level:var(--_pressed-container-elevation)}.md3-fab:active.md3-fab--lowered{--md-elevation-level:var(--_lowered-pressed-container-elevation)}md-elevation{inset:0;position:absolute;z-index:-1}.md3-fab__ripple{overflow:hidden;z-index:-1}.md3-fab,.md3-fab__ripple{border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.md3-fab__icon{display:inline-flex}.md3-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%,-50%)}.md3-fab__icon,.md3-fab__icon ::slotted(*){color:var(--_icon-color);font-size:var(--_icon-size);height:var(--_icon-size);width:var(--_icon-size)}.md3-fab:hover .md3-fab__icon,.md3-fab:hover .md3-fab__icon ::slotted(*){color:var(--_hover-icon-color)}.md3-fab:focus .md3-fab__icon,.md3-fab:focus .md3-fab__icon ::slotted(*){color:var(--_focus-icon-color)}.md3-fab:active .md3-fab__icon,.md3-fab:active .md3-fab__icon ::slotted(*){color:var(--_pressed-icon-color)}@media(forced-colors:active){.md3-fab{--md-focus-ring-offset-vertical:3px;--md-focus-ring-offset-horizontal:3px;border:1px solid ButtonText}}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let on=class extends Xo{renderIcon(t){return t?N`<md-icon class="md3-fab__icon">${t}</md-icon>`:""}};on.styles=[en,tn],on=t([rt("md-fab-extended")],on);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const nn=a`@media(forced-colors:active){:host{--md-radio-disabled-selected-icon-color:GrayText;--md-radio-disabled-selected-icon-opacity:1;--md-radio-disabled-unselected-icon-color:GrayText;--md-radio-disabled-unselected-icon-opacity:1;--md-radio-selected-icon-color:CanvasText;--md-radio-selected-hover-icon-color:CanvasText;--md-radio-selected-focus-icon-color:CanvasText;--md-radio-selected-pressed-icon-color:CanvasText;--md-radio-unselected-icon-color:CanvasText;--md-radio-unselected-hover-icon-color:CanvasText;--md-radio-unselected-focus-icon-color:CanvasText;--md-radio-unselected-pressed-icon-color:CanvasText}}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;function sn(t,e){!e.bubbles||t.shadowRoot&&!e.composed||e.stopPropagation();const i=Reflect.construct(e.constructor,[e.type,e]),o=t.dispatchEvent(i);return o||e.preventDefault(),o}function rn(t){const e=new MouseEvent("click",{bubbles:!0});return t.dispatchEvent(e),e}function an(t){return t.currentTarget===t.target&&(t.composedPath()[0]===t.target&&(!t.target.disabled&&!function(t){const e=ln;e&&(t.preventDefault(),t.stopImmediatePropagation());return async function(){ln=!0,await null,ln=!1}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(),e}(t)))}let ln=!1;function dn(t){return t.constructor.formAssociated}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cn="labels"in(globalThis?.ElementInternals?.prototype??{});const hn=new Set(["button","input","meter","progress","output","select","textarea"]);function pn(t){const e=t.composedPath(),i=t.currentTarget;let o;for(let t=0;t<e.length;t++){const s=e[t];if(s.nodeType===Node.ELEMENT_NODE&&s.getRootNode()===i){if(n=s,hn.has(n.localName)||dn(n))return;"label"===s.localName&&(o=s)}}var n;if(void 0===o)return;const s=o.getAttribute("for"),r=s?i.getElementById(s):Array.from(o.querySelectorAll("*")).find((t=>function(t){return t.localName.match("-")}(t)&&dn(t)));if(null==r)return;const a=new PointerEvent("click",{composed:!0,bubbles:!0});r.dispatchEvent(a)}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const un=Symbol("getFormValue");class mn{constructor(t){this.element=t,this.formDataListener=t=>{if(this.element.disabled)return;const e=this.element[un]();if(e instanceof FormData)for(const[i,o]of e)t.formData.append(i,o);else null!==e&&this.element.name&&t.formData.append(this.element.name,e)}}hostConnected(){this.element.shadowRoot&&!window.ShadyDOM?.inUse&&(this.form=this.element.form,this.form?.addEventListener("formdata",this.formDataListener),dn(this.element)&&!cn&&this.element.getRootNode().addEventListener("click",pn))}hostDisconnected(){this.form?.removeEventListener("formdata",this.formDataListener)}}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gn{constructor(t){this.host=t,this.focused=!1,this.root=null,this.handleFocusIn=()=>{this.focused=!0,this.updateTabIndices()},this.handleFocusOut=()=>{this.focused=!1,this.updateTabIndices()},this.handleKeyDown=t=>{const e="ArrowDown"===t.key,i="ArrowUp"===t.key,o="ArrowLeft"===t.key,n="ArrowRight"===t.key;if(!(o||n||e||i))return;const s=this.getNamedSiblings();if(!s.length)return;t.preventDefault();const r="rtl"===getComputedStyle(this.host).direction?o||e:n||e,a=s.indexOf(this.host);let l=r?a+1:a-1;for(;l!==a;){l>=s.length?l=0:l<0&&(l=s.length-1);const t=s[l];if(!t.hasAttribute("disabled")){for(const e of s)e!==t&&(e.checked=!1,e.tabIndex=-1);t.checked=!0,t.removeAttribute("tabindex"),t.focus();break}r?l++:l--}}}hostConnected(){this.root=this.host.getRootNode(),this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("focusin",this.handleFocusIn),this.host.addEventListener("focusout",this.handleFocusOut),this.host.checked&&this.uncheckSiblings(),this.updateTabIndices()}hostDisconnected(){this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("focusin",this.handleFocusIn),this.host.removeEventListener("focusout",this.handleFocusOut),this.updateTabIndices(),this.root=null}handleCheckedChange(){this.host.checked&&(this.uncheckSiblings(),this.updateTabIndices())}uncheckSiblings(){for(const t of this.getNamedSiblings())t!==this.host&&(t.checked=!1)}updateTabIndices(){const t=this.getNamedSiblings(),e=t.find((t=>t.checked));if(e||this.focused){const i=e||this.host;i.removeAttribute("tabindex");for(const e of t)e!==i&&(e.tabIndex=-1)}else for(const e of t)e.removeAttribute("tabindex")}getNamedSiblings(){const t=this.host.getAttribute("name");return t&&this.root?Array.from(this.root.querySelectorAll(`[name="${t}"]`)):[]}}
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var fn;const vn=Symbol("checked");class yn extends nt{get checked(){return this[vn]}set checked(t){const e=this.checked;e!==t&&(this[vn]=t,this.requestUpdate("checked",e),this.selectionController.handleCheckedChange())}get form(){return this.closest("form")}constructor(){super(),this[fn]=!1,this.disabled=!1,this.value="on",this.name="",this.selectionController=new gn(this),this.showFocusRing=!1,this.showRipple=!1,this.getRipple=()=>(this.showRipple=!0,this.ripple),this.renderRipple=()=>N`<md-ripple unbounded ?disabled="${this.disabled}"></md-ripple>`,this.addController(new mn(this)),this.addController(this.selectionController),this.addEventListener("click",(t=>{an(t)&&(this.focus(),rn(this.input))}))}[(fn=vn,un)](){return this.checked?this.value:null}focus(){this.input?.focus()}render(){return N` ${ne(this.showRipple,this.renderRipple)} ${this.renderFocusRing()} <svg class="icon" viewBox="0 0 20 20"> <mask id="cutout"> <rect width="100%" height="100%" fill="white"/> <circle cx="10" cy="10" r="8" fill="black"/> </mask> <circle class="outer circle" cx="10" cy="10" r="10" mask="url(#cutout)"/> <circle class="inner circle" cx="10" cy="10" r="5"/> </svg> <input type="radio" name="${this.name}" aria-label="${this.ariaLabel||U}" .checked="${this.checked}" .value="${this.value}" ?disabled="${this.disabled}" @change="${this.handleChange}" @focus="${this.handleFocus}" @blur="${this.handleBlur}" @pointerdown="${this.handlePointerDown}" ${se(this.getRipple)}> `}handleBlur(){this.showFocusRing=!1}handleFocus(){this.showFocusRing=Ht()}handleChange(t){this.disabled||(this.checked=!0,sn(this,t))}handlePointerDown(){Wt(),this.showFocusRing=Ht()}renderFocusRing(){return N`<md-focus-ring .visible="${this.showFocusRing}"></md-focus-ring>`}}yn.shadowRootOptions={...nt.shadowRootOptions,delegatesFocus:!0},yn.formAssociated=!0,t([lt({type:Boolean,reflect:!0}),e("design:type",Boolean),e("design:paramtypes",[Boolean])],yn.prototype,"checked",null),t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],yn.prototype,"disabled",void 0),t([lt({type:String}),e("design:type",Object)],yn.prototype,"value",void 0),t([lt({type:String,reflect:!0}),e("design:type",Object)],yn.prototype,"name",void 0),t([wt,lt({attribute:"data-aria-label",noAccessor:!0}),e("design:type",String)],yn.prototype,"ariaLabel",void 0),t([ht("input"),e("design:type",HTMLInputElement)],yn.prototype,"input",void 0),t([pt("md-ripple"),e("design:type",Promise)],yn.prototype,"ripple",void 0),t([dt(),e("design:type",Object)],yn.prototype,"showFocusRing",void 0),t([dt(),e("design:type",Object)],yn.prototype,"showRipple",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const bn=a`:host{--_disabled-selected-icon-color:var(--md-radio-disabled-selected-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_disabled-selected-icon-opacity:var(--md-radio-disabled-selected-icon-opacity, 0.38);--_disabled-unselected-icon-color:var(--md-radio-disabled-unselected-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_disabled-unselected-icon-opacity:var(--md-radio-disabled-unselected-icon-opacity, 0.38);--_icon-size:var(--md-radio-icon-size, 20px);--_selected-focus-icon-color:var(--md-radio-selected-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-focus-state-layer-color:var(--md-radio-selected-focus-state-layer-color, var(--md-sys-color-primary, #6750a4));--_selected-focus-state-layer-opacity:var(--md-radio-selected-focus-state-layer-opacity, 0.12);--_selected-hover-icon-color:var(--md-radio-selected-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-state-layer-color:var(--md-radio-selected-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_selected-hover-state-layer-opacity:var(--md-radio-selected-hover-state-layer-opacity, 0.08);--_selected-icon-color:var(--md-radio-selected-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-icon-color:var(--md-radio-selected-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_selected-pressed-state-layer-color:var(--md-radio-selected-pressed-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_selected-pressed-state-layer-opacity:var(--md-radio-selected-pressed-state-layer-opacity, 0.12);--_state-layer-size:var(--md-radio-state-layer-size, 40px);--_unselected-focus-icon-color:var(--md-radio-unselected-focus-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_unselected-focus-state-layer-color:var(--md-radio-unselected-focus-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_unselected-focus-state-layer-opacity:var(--md-radio-unselected-focus-state-layer-opacity, 0.12);--_unselected-hover-icon-color:var(--md-radio-unselected-hover-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_unselected-hover-state-layer-color:var(--md-radio-unselected-hover-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--_unselected-hover-state-layer-opacity:var(--md-radio-unselected-hover-state-layer-opacity, 0.08);--_unselected-icon-color:var(--md-radio-unselected-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_unselected-pressed-icon-color:var(--md-radio-unselected-pressed-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_unselected-pressed-state-layer-color:var(--md-radio-unselected-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_unselected-pressed-state-layer-opacity:var(--md-radio-unselected-pressed-state-layer-opacity, 0.12);--md-ripple-focus-color:var(--_unselected-focus-state-layer-color);--md-ripple-focus-opacity:var(--_unselected-focus-state-layer-opacity);--md-ripple-hover-color:var(--_unselected-hover-state-layer-color);--md-ripple-hover-opacity:var(--_unselected-hover-state-layer-opacity);--md-ripple-pressed-color:var(--_unselected-pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_unselected-pressed-state-layer-opacity);--md-focus-ring-offset-vertical:-2px;--md-focus-ring-offset-horizontal:-2px;display:inline-flex;height:48px;position:relative;vertical-align:top;width:48px;-webkit-tap-highlight-color:transparent}:host([checked]){--md-ripple-focus-color:var(--_selected-focus-state-layer-color);--md-ripple-focus-opacity:var(--_selected-focus-state-layer-opacity);--md-ripple-hover-color:var(--_selected-hover-state-layer-color);--md-ripple-hover-opacity:var(--_selected-hover-state-layer-opacity);--md-ripple-pressed-color:var(--_selected-pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_selected-pressed-state-layer-opacity)}.icon,input,md-ripple{inset:0;margin:auto;position:absolute}input{appearance:none;outline:0}md-ripple{height:var(--_state-layer-size);width:var(--_state-layer-size)}.icon{fill:var(--_unselected-icon-color);height:var(--_icon-size);width:var(--_icon-size)}.outer.circle{transition:fill 50ms linear}.inner.circle{opacity:0;transform-origin:center;transition:opacity 50ms linear}:host([checked]) .icon{fill:var(--_selected-icon-color)}:host([checked]) .inner.circle{animation:inner-circle-grow .3s cubic-bezier(.05,.7,.1,1);opacity:1}@keyframes inner-circle-grow{from{transform:scale(0)}to{transform:scale(1)}}:host([disabled]) .circle{animation-duration:0s;transition-duration:0s}:host(:hover) .icon{fill:var(--_unselected-hover-icon-color)}:host(:focus-within) .icon{fill:var(--_unselected-focus-icon-color)}:host(:active) .icon{fill:var(--_unselected-pressed-icon-color)}:host([disabled]) .icon{fill:var(--_disabled-unselected-icon-color);opacity:var(--_disabled-unselected-icon-opacity)}:host([checked]:hover) .icon{fill:var(--_selected-hover-icon-color)}:host([checked]:focus-within) .icon{fill:var(--_selected-focus-icon-color)}:host([checked]:active) .icon{fill:var(--_selected-pressed-icon-color)}:host([checked][disabled]) .icon{fill:var(--_disabled-selected-icon-color);opacity:var(--_disabled-selected-icon-opacity)}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let _n=class extends yn{};_n.styles=[bn,nn],_n=t([rt("md-radio")],_n);
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class wn extends nt{constructor(){super(),this.disabled=!1,this.trailingIcon=!1,this.label="",this.hasIcon=!1,this.preventClickDefault=!1,this.showFocusRing=!1,this.showRipple=!1,this.handleActivationClick=t=>{an(t)&&(this.focus(),rn(this.buttonElement))},this.getRipple=()=>(this.showRipple=!0,this.ripple),this.renderRipple=()=>N`<md-ripple class="md3-button__ripple" ?disabled="${this.disabled}"></md-ripple>`,this.addEventListener("click",this.handleActivationClick)}focus(){this.buttonElement.focus()}blur(){this.buttonElement.blur()}render(){return N` <button class="md3-button ${Lt(this.getRenderClasses())}" ?disabled="${this.disabled}" aria-label="${this.ariaLabel||U}" aria-haspopup="${this.ariaHasPopup||U}" @pointerdown="${this.handlePointerDown}" @focus="${this.handleFocus}" @blur="${this.handleBlur}" @click="${this.handleClick}" ${se(this.getRipple)}> ${this.renderFocusRing()} ${this.renderElevation()} ${ne(this.showRipple,this.renderRipple)} ${this.renderOutline()} ${this.renderTouchTarget()} ${this.renderLeadingIcon()} ${this.renderLabel()} ${this.renderTrailingIcon()} </button>`}getRenderClasses(){return{"md3-button--icon-leading":!this.trailingIcon&&this.hasIcon,"md3-button--icon-trailing":this.trailingIcon&&this.hasIcon}}renderTouchTarget(){return N` <span class="md3-button__touch"></span> `}renderElevation(){return N``}renderOutline(){return N``}renderFocusRing(){return N`<md-focus-ring .visible="${this.showFocusRing}"></md-focus-ring>`}renderLabel(){return N`<span class="md3-button__label">${this.label}</span>`}renderLeadingIcon(){return this.trailingIcon?"":this.renderIcon()}renderTrailingIcon(){return this.trailingIcon?this.renderIcon():""}renderIcon(){return N`<slot name="icon" @slotchange="${this.handleSlotChange}"></slot>`}handlePointerDown(t){Wt(),this.showFocusRing=Ht()}handleClick(t){this.preventClickDefault&&t.preventDefault()}handleFocus(){this.showFocusRing=Ht()}handleBlur(){this.showFocusRing=!1}handleSlotChange(){this.hasIcon=this.assignedIcons.length>0}}wn.shadowRootOptions={mode:"open",delegatesFocus:!0},t([lt({type:String,attribute:"data-aria-has-popup",noAccessor:!0}),wt,e("design:type",String)],wn.prototype,"ariaHasPopup",void 0),t([lt({type:String,attribute:"data-aria-label",noAccessor:!0}),wt,e("design:type",String)],wn.prototype,"ariaLabel",void 0),t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],wn.prototype,"disabled",void 0),t([lt({type:Boolean,attribute:"trailingicon"}),e("design:type",Object)],wn.prototype,"trailingIcon",void 0),t([lt({type:String}),e("design:type",Object)],wn.prototype,"label",void 0),t([lt({type:Boolean}),e("design:type",Object)],wn.prototype,"hasIcon",void 0),t([lt({type:Boolean}),e("design:type",Object)],wn.prototype,"preventClickDefault",void 0),t([ht(".md3-button"),e("design:type",HTMLElement)],wn.prototype,"buttonElement",void 0),t([pt("md-ripple"),e("design:type",Promise)],wn.prototype,"ripple",void 0),t([dt(),e("design:type",Object)],wn.prototype,"showFocusRing",void 0),t([dt(),e("design:type",Object)],wn.prototype,"showRipple",void 0),t([gt({slot:"icon",flatten:!0}),e("design:type",Array)],wn.prototype,"assignedIcons",void 0);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class xn extends wn{getRenderClasses(){return{...super.getRenderClasses(),"md3-button--elevated":!0}}renderElevation(){return N`<md-elevation shadow surface></md-elevation>`}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const kn=a`:host{--_container-shape-start-start:var(--md-elevated-button-container-shape-start-start, var(--md-elevated-button-container-shape, 9999px));--_container-shape-start-end:var(--md-elevated-button-container-shape-start-end, var(--md-elevated-button-container-shape, 9999px));--_container-shape-end-end:var(--md-elevated-button-container-shape-end-end, var(--md-elevated-button-container-shape, 9999px));--_container-shape-end-start:var(--md-elevated-button-container-shape-end-start, var(--md-elevated-button-container-shape, 9999px));--_container-color:var(--md-elevated-button-container-color, var(--md-sys-color-surface, #fffbfe));--_container-elevation:var(--md-elevated-button-container-elevation, 1);--_container-height:var(--md-elevated-button-container-height, 40px);--_container-shadow-color:var(--md-elevated-button-container-shadow-color, var(--md-sys-color-shadow, #000));--_container-surface-tint-layer-color:var(--md-elevated-button-container-surface-tint-layer-color, var(--md-sys-color-primary, #6750a4));--_disabled-container-color:var(--md-elevated-button-disabled-container-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.12));--_disabled-container-elevation:var(--md-elevated-button-disabled-container-elevation, 0);--_disabled-label-text-color:var(--md-elevated-button-disabled-label-text-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.38));--_focus-container-elevation:var(--md-elevated-button-focus-container-elevation, 1);--_focus-label-text-color:var(--md-elevated-button-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_focus-state-layer-color:var(--md-elevated-button-focus-state-layer-color, var(--md-sys-color-primary, #6750a4));--_focus-state-layer-opacity:var(--md-elevated-button-focus-state-layer-opacity, 0.12);--_hover-container-elevation:var(--md-elevated-button-hover-container-elevation, 2);--_hover-label-text-color:var(--md-elevated-button-hover-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-color:var(--md-elevated-button-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity:var(--md-elevated-button-hover-state-layer-opacity, 0.08);--_label-text-color:var(--md-elevated-button-label-text-color, var(--md-sys-color-primary, #6750a4));--_label-text-type:var(--md-elevated-button-label-text-type, 500 0.875rem / 1.25rem Roboto);--_pressed-container-elevation:var(--md-elevated-button-pressed-container-elevation, 1);--_pressed-label-text-color:var(--md-elevated-button-pressed-label-text-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-color:var(--md-elevated-button-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity:var(--md-elevated-button-pressed-state-layer-opacity, 0.12);--_with-icon-disabled-icon-color:var(--md-elevated-button-with-icon-disabled-icon-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.38));--_with-icon-focus-icon-color:var(--md-elevated-button-with-icon-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_with-icon-hover-icon-color:var(--md-elevated-button-with-icon-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_with-icon-icon-color:var(--md-elevated-button-with-icon-icon-color, var(--md-sys-color-primary, #6750a4));--_with-icon-icon-size:var(--md-elevated-button-with-icon-icon-size, 18px);--_with-icon-pressed-icon-color:var(--md-elevated-button-with-icon-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_spacing-leading:var(--md-elevated-button-spacing-leading, 24px);--_spacing-trailing:var(--md-elevated-button-spacing-trailing, 24px);--_with-icon-spacing-leading:var(--md-elevated-button-with-icon-spacing-leading, 16px);--_with-icon-spacing-trailing:var(--md-elevated-button-with-icon-spacing-trailing, 24px);--_with-trailing-icon-spacing-leading:var(--md-elevated-button-with-trailing-icon-spacing-leading, 24px);--_with-trailing-icon-spacing-trailing:var(--md-elevated-button-with-trailing-icon-spacing-trailing, 16px)}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,Cn=a`md-elevation{inset:0;position:absolute}.md3-button{--md-elevation-duration:280ms;--md-elevation-level:var(--_container-elevation);--md-elevation-shadow-color:var(--_container-shadow-color);--md-elevation-surface-tint:var(--_container-surface-tint-layer-color)}.md3-button:focus{--md-elevation-level:var(--_focus-container-elevation)}.md3-button:hover{--md-elevation-level:var(--_hover-container-elevation)}.md3-button:active{--md-elevation-level:var(--_pressed-container-elevation)}.md3-button:disabled{--md-elevation-level:var(--_disabled-container-elevation)}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,$n=a`:host{display:inline-flex;outline:0;-webkit-tap-highlight-color:transparent;vertical-align:top;--md-ripple-hover-color:var(--_hover-state-layer-color);--md-ripple-focus-color:var(--_focus-state-layer-color);--md-ripple-pressed-color:var(--_pressed-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-focus-opacity:var(--_focus-state-layer-opacity);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity);--md-focus-ring-shape-start-start:var(--md-focus-ring-shape, var(--_container-shape-start-start));--md-focus-ring-shape-start-end:var(--md-focus-ring-shape, var(--_container-shape-start-end));--md-focus-ring-shape-end-end:var(--md-focus-ring-shape, var(--_container-shape-end-end));--md-focus-ring-shape-end-start:var(--md-focus-ring-shape, var(--_container-shape-end-start)) )))}:host([disabled]){cursor:default;pointer-events:none}.md3-button{display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-inline-size:64px;border:none;outline:0;user-select:none;-webkit-appearance:none;vertical-align:middle;background:rgba(0,0,0,0);text-decoration:none;inline-size:100%;position:relative;z-index:0;block-size:var(--_container-height);font:var(--_label-text-type);background-color:var(--_container-color);color:var(--_label-text-color);padding-inline-start:var(--_spacing-leading);padding-inline-end:var(--_spacing-trailing);gap:8px}.md3-button::-moz-focus-inner{padding:0;border:0}.md3-button:hover{color:var(--_hover-label-text-color);cursor:pointer}.md3-button:focus{color:var(--_focus-label-text-color)}.md3-button:active{color:var(--_pressed-label-text-color);outline:0}.md3-button:disabled{background-color:var(--_disabled-container-color);color:var(--_disabled-label-text-color)}@media(forced-colors:active){.md3-button::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid transparent;border-radius:inherit;content:"";pointer-events:none}}.md3-button,.md3-button__ripple{border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.md3-button__ripple,md-elevation{z-index:-1}.md3-button--icon-leading{padding-inline-start:var(--_with-icon-spacing-leading);padding-inline-end:var(--_with-icon-spacing-trailing)}.md3-button--icon-trailing{padding-inline-start:var(--_with-trailing-icon-spacing-leading);padding-inline-end:var(--_with-trailing-icon-spacing-trailing)}.md3-link-button-wrapper{inline-size:100%}.md3-button ::slotted([slot=icon]){display:inline-flex;position:relative;writing-mode:horizontal-tb;fill:currentColor;color:var(--_with-icon-icon-color);font-size:var(--_with-icon-icon-size);inline-size:var(--_with-icon-icon-size);block-size:var(--_with-icon-icon-size)}.md3-button:hover ::slotted([slot=icon]){color:var(--_with-icon-hover-icon-color)}.md3-button:focus ::slotted([slot=icon]){color:var(--_with-icon-focus-icon-color)}.md3-button:active ::slotted([slot=icon]){color:var(--_with-icon-pressed-icon-color)}.md3-button:disabled ::slotted([slot=icon]){color:var(--_with-icon-disabled-icon-color)}.md3-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Tn=class extends xn{};Tn.styles=[$n,Cn,kn],Tn=t([rt("md-elevated-button")],Tn);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Sn extends wn{getRenderClasses(){return{...super.getRenderClasses(),"md3-button--text":!0}}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const In=a`:host{--_container-shape-start-start:var(--md-text-button-container-shape-start-start, var(--md-text-button-container-shape, 9999px));--_container-shape-start-end:var(--md-text-button-container-shape-start-end, var(--md-text-button-container-shape, 9999px));--_container-shape-end-end:var(--md-text-button-container-shape-end-end, var(--md-text-button-container-shape, 9999px));--_container-shape-end-start:var(--md-text-button-container-shape-end-start, var(--md-text-button-container-shape, 9999px));--_container-height:var(--md-text-button-container-height, 40px);--_disabled-label-text-color:var(--md-text-button-disabled-label-text-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.38));--_focus-label-text-color:var(--md-text-button-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_focus-state-layer-color:var(--md-text-button-focus-state-layer-color, var(--md-sys-color-primary, #6750a4));--_focus-state-layer-opacity:var(--md-text-button-focus-state-layer-opacity, 0.12);--_hover-label-text-color:var(--md-text-button-hover-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-color:var(--md-text-button-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity:var(--md-text-button-hover-state-layer-opacity, 0.08);--_label-text-color:var(--md-text-button-label-text-color, var(--md-sys-color-primary, #6750a4));--_label-text-type:var(--md-text-button-label-text-type, 500 0.875rem / 1.25rem Roboto);--_pressed-label-text-color:var(--md-text-button-pressed-label-text-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-color:var(--md-text-button-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity:var(--md-text-button-pressed-state-layer-opacity, 0.12);--_with-icon-disabled-icon-color:var(--md-text-button-with-icon-disabled-icon-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.38));--_with-icon-focus-icon-color:var(--md-text-button-with-icon-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_with-icon-hover-icon-color:var(--md-text-button-with-icon-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_with-icon-icon-color:var(--md-text-button-with-icon-icon-color, var(--md-sys-color-primary, #6750a4));--_with-icon-icon-size:var(--md-text-button-with-icon-icon-size, 18px);--_with-icon-pressed-icon-color:var(--md-text-button-with-icon-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_spacing-leading:var(--md-text-button-spacing-leading, 12px);--_spacing-trailing:var(--md-text-button-spacing-trailing, 12px);--_with-icon-spacing-leading:var(--md-text-button-with-icon-spacing-leading, 12px);--_with-icon-spacing-trailing:var(--md-text-button-with-icon-spacing-trailing, 16px);--_with-trailing-icon-spacing-leading:var(--md-text-button-with-trailing-icon-spacing-leading, 16px);--_with-trailing-icon-spacing-trailing:var(--md-text-button-with-trailing-icon-spacing-trailing, 12px)}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Pn=class extends Sn{};Pn.styles=[$n,In],Pn=t([rt("md-text-button")],Pn);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class An extends wn{getRenderClasses(){return{...super.getRenderClasses(),"md3-button--outlined":!0}}renderOutline(){return N`<span class="md3-button__outline"></span>`}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const On=a`:host{--_container-shape-start-start:var(--md-outlined-button-container-shape-start-start, var(--md-outlined-button-container-shape, 9999px));--_container-shape-start-end:var(--md-outlined-button-container-shape-start-end, var(--md-outlined-button-container-shape, 9999px));--_container-shape-end-end:var(--md-outlined-button-container-shape-end-end, var(--md-outlined-button-container-shape, 9999px));--_container-shape-end-start:var(--md-outlined-button-container-shape-end-start, var(--md-outlined-button-container-shape, 9999px));--_container-height:var(--md-outlined-button-container-height, 40px);--_disabled-label-text-color:var(--md-outlined-button-disabled-label-text-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.38));--_disabled-outline-color:var(--md-outlined-button-disabled-outline-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.12));--_focus-label-text-color:var(--md-outlined-button-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_focus-outline-color:var(--md-outlined-button-focus-outline-color, var(--md-sys-color-primary, #6750a4));--_focus-state-layer-color:var(--md-outlined-button-focus-state-layer-color, var(--md-sys-color-primary, #6750a4));--_focus-state-layer-opacity:var(--md-outlined-button-focus-state-layer-opacity, 0.12);--_hover-label-text-color:var(--md-outlined-button-hover-label-text-color, var(--md-sys-color-primary, #6750a4));--_hover-outline-color:var(--md-outlined-button-hover-outline-color, var(--md-sys-color-outline, #79747e));--_hover-state-layer-color:var(--md-outlined-button-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity:var(--md-outlined-button-hover-state-layer-opacity, 0.08);--_label-text-color:var(--md-outlined-button-label-text-color, var(--md-sys-color-primary, #6750a4));--_label-text-type:var(--md-outlined-button-label-text-type, 500 0.875rem / 1.25rem Roboto);--_outline-color:var(--md-outlined-button-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width:var(--md-outlined-button-outline-width, 1px);--_pressed-label-text-color:var(--md-outlined-button-pressed-label-text-color, var(--md-sys-color-primary, #6750a4));--_pressed-outline-color:var(--md-outlined-button-pressed-outline-color, var(--md-sys-color-outline, #79747e));--_pressed-state-layer-color:var(--md-outlined-button-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity:var(--md-outlined-button-pressed-state-layer-opacity, 0.12);--_with-icon-disabled-icon-color:var(--md-outlined-button-with-icon-disabled-icon-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.38));--_with-icon-focus-icon-color:var(--md-outlined-button-with-icon-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_with-icon-hover-icon-color:var(--md-outlined-button-with-icon-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_with-icon-icon-color:var(--md-outlined-button-with-icon-icon-color, var(--md-sys-color-primary, #6750a4));--_with-icon-icon-size:var(--md-outlined-button-with-icon-icon-size, 18px);--_with-icon-pressed-icon-color:var(--md-outlined-button-with-icon-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_spacing-leading:var(--md-outlined-button-spacing-leading, 24px);--_spacing-trailing:var(--md-outlined-button-spacing-trailing, 24px);--_with-icon-spacing-leading:var(--md-outlined-button-with-icon-spacing-leading, 16px);--_with-icon-spacing-trailing:var(--md-outlined-button-with-icon-spacing-trailing, 24px);--_with-trailing-icon-spacing-leading:var(--md-outlined-button-with-trailing-icon-spacing-leading, 24px);--_with-trailing-icon-spacing-trailing:var(--md-outlined-button-with-trailing-icon-spacing-trailing, 16px)}.md3-button__outline{inset:0;border-style:solid;position:absolute;box-sizing:border-box;border-color:var(--_outline-color);border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-start-radius:var(--_container-shape-end-start);border-end-end-radius:var(--_container-shape-end-end)}.md3-button:active .md3-button__outline{border-color:var(--_pressed-outline-color)}.md3-button:disabled .md3-button__outline{border-color:var(--_disabled-outline-color)}.md3-button__outline,.md3-button__ripple{border-width:var(--_outline-width)}.md3-button__ripple{inline-size:calc(100% - 2*var(--_outline-width));block-size:calc(100% - 2*var(--_outline-width));border-style:solid;border-color:transparent}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Ln=class extends An{};Ln.styles=[$n,On],Ln=t([rt("md-outlined-button")],Ln);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class En extends wn{getRenderClasses(){return{...super.getRenderClasses(),"md3-button--tonal":!0}}renderElevation(){return N`<md-elevation shadow></md-elevation>`}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const zn=a`:host{--_container-shape-start-start:var(--md-tonal-button-container-shape-start-start, var(--md-tonal-button-container-shape, 9999px));--_container-shape-start-end:var(--md-tonal-button-container-shape-start-end, var(--md-tonal-button-container-shape, 9999px));--_container-shape-end-end:var(--md-tonal-button-container-shape-end-end, var(--md-tonal-button-container-shape, 9999px));--_container-shape-end-start:var(--md-tonal-button-container-shape-end-start, var(--md-tonal-button-container-shape, 9999px));--_container-color:var(--md-tonal-button-container-color, var(--md-sys-color-secondary-container, #e8def8));--_container-elevation:var(--md-tonal-button-container-elevation, 0);--_container-height:var(--md-tonal-button-container-height, 40px);--_container-shadow-color:var(--md-tonal-button-container-shadow-color, var(--md-sys-color-shadow, #000));--_disabled-container-color:var(--md-tonal-button-disabled-container-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.12));--_disabled-container-elevation:var(--md-tonal-button-disabled-container-elevation, 0);--_disabled-label-text-color:var(--md-tonal-button-disabled-label-text-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.38));--_focus-container-elevation:var(--md-tonal-button-focus-container-elevation, 0);--_focus-label-text-color:var(--md-tonal-button-focus-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_focus-state-layer-color:var(--md-tonal-button-focus-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_focus-state-layer-opacity:var(--md-tonal-button-focus-state-layer-opacity, 0.12);--_hover-container-elevation:var(--md-tonal-button-hover-container-elevation, 1);--_hover-label-text-color:var(--md-tonal-button-hover-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-state-layer-color:var(--md-tonal-button-hover-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-state-layer-opacity:var(--md-tonal-button-hover-state-layer-opacity, 0.08);--_label-text-color:var(--md-tonal-button-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_label-text-type:var(--md-tonal-button-label-text-type, 500 0.875rem / 1.25rem Roboto);--_pressed-container-elevation:var(--md-tonal-button-pressed-container-elevation, 0);--_pressed-label-text-color:var(--md-tonal-button-pressed-label-text-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-color:var(--md-tonal-button-pressed-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-opacity:var(--md-tonal-button-pressed-state-layer-opacity, 0.12);--_with-icon-disabled-icon-color:var(--md-tonal-button-with-icon-disabled-icon-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.38));--_with-icon-focus-icon-color:var(--md-tonal-button-with-icon-focus-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_with-icon-hover-icon-color:var(--md-tonal-button-with-icon-hover-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_with-icon-icon-color:var(--md-tonal-button-with-icon-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_with-icon-icon-size:var(--md-tonal-button-with-icon-icon-size, 18px);--_with-icon-pressed-icon-color:var(--md-tonal-button-with-icon-pressed-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_spacing-leading:var(--md-tonal-button-spacing-leading, 24px);--_spacing-trailing:var(--md-tonal-button-spacing-trailing, 24px);--_with-icon-spacing-leading:var(--md-tonal-button-with-icon-spacing-leading, 16px);--_with-icon-spacing-trailing:var(--md-tonal-button-with-icon-spacing-trailing, 24px);--_with-trailing-icon-spacing-leading:var(--md-tonal-button-with-trailing-icon-spacing-leading, 24px);--_with-trailing-icon-spacing-trailing:var(--md-tonal-button-with-trailing-icon-spacing-trailing, 16px)}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Dn=class extends En{};Dn.styles=[$n,Cn,zn],Dn=t([rt("md-tonal-button")],Dn);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Mn extends wn{getRenderClasses(){return{...super.getRenderClasses(),"md3-button--filled":!0}}renderElevation(){return N`<md-elevation shadow surface></md-elevation>`}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const Nn=a`:host{--_container-shape-start-start:var(--md-filled-button-container-shape-start-start, var(--md-filled-button-container-shape, 9999px));--_container-shape-start-end:var(--md-filled-button-container-shape-start-end, var(--md-filled-button-container-shape, 9999px));--_container-shape-end-end:var(--md-filled-button-container-shape-end-end, var(--md-filled-button-container-shape, 9999px));--_container-shape-end-start:var(--md-filled-button-container-shape-end-start, var(--md-filled-button-container-shape, 9999px));--_container-color:var(--md-filled-button-container-color, var(--md-sys-color-primary, #6750a4));--_container-elevation:var(--md-filled-button-container-elevation, 0);--_container-height:var(--md-filled-button-container-height, 40px);--_container-shadow-color:var(--md-filled-button-container-shadow-color, var(--md-sys-color-shadow, #000));--_disabled-container-color:var(--md-filled-button-disabled-container-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.12));--_disabled-container-elevation:var(--md-filled-button-disabled-container-elevation, 0);--_disabled-label-text-color:var(--md-filled-button-disabled-label-text-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.38));--_focus-container-elevation:var(--md-filled-button-focus-container-elevation, 0);--_focus-label-text-color:var(--md-filled-button-focus-label-text-color, var(--md-sys-color-on-primary, #fff));--_focus-state-layer-color:var(--md-filled-button-focus-state-layer-color, var(--md-sys-color-on-primary, #fff));--_focus-state-layer-opacity:var(--md-filled-button-focus-state-layer-opacity, 0.12);--_hover-container-elevation:var(--md-filled-button-hover-container-elevation, 1);--_hover-label-text-color:var(--md-filled-button-hover-label-text-color, var(--md-sys-color-on-primary, #fff));--_hover-state-layer-color:var(--md-filled-button-hover-state-layer-color, var(--md-sys-color-on-primary, #fff));--_hover-state-layer-opacity:var(--md-filled-button-hover-state-layer-opacity, 0.08);--_label-text-color:var(--md-filled-button-label-text-color, var(--md-sys-color-on-primary, #fff));--_label-text-type:var(--md-filled-button-label-text-type, 500 0.875rem / 1.25rem Roboto);--_pressed-container-elevation:var(--md-filled-button-pressed-container-elevation, 0);--_pressed-label-text-color:var(--md-filled-button-pressed-label-text-color, var(--md-sys-color-on-primary, #fff));--_pressed-state-layer-color:var(--md-filled-button-pressed-state-layer-color, var(--md-sys-color-on-primary, #fff));--_pressed-state-layer-opacity:var(--md-filled-button-pressed-state-layer-opacity, 0.12);--_with-icon-disabled-icon-color:var(--md-filled-button-with-icon-disabled-icon-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.38));--_with-icon-focus-icon-color:var(--md-filled-button-with-icon-focus-icon-color, var(--md-sys-color-on-primary, #fff));--_with-icon-hover-icon-color:var(--md-filled-button-with-icon-hover-icon-color, var(--md-sys-color-on-primary, #fff));--_with-icon-icon-color:var(--md-filled-button-with-icon-icon-color, var(--md-sys-color-on-primary, #fff));--_with-icon-icon-size:var(--md-filled-button-with-icon-icon-size, 18px);--_with-icon-pressed-icon-color:var(--md-filled-button-with-icon-pressed-icon-color, var(--md-sys-color-on-primary, #fff));--_spacing-leading:var(--md-filled-button-spacing-leading, 24px);--_spacing-trailing:var(--md-filled-button-spacing-trailing, 24px);--_with-icon-spacing-leading:var(--md-filled-button-with-icon-spacing-leading, 16px);--_with-icon-spacing-trailing:var(--md-filled-button-with-icon-spacing-trailing, 24px);--_with-trailing-icon-spacing-leading:var(--md-filled-button-with-trailing-icon-spacing-leading, 24px);--_with-trailing-icon-spacing-trailing:var(--md-filled-button-with-trailing-icon-spacing-trailing, 16px)}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Rn=class extends Mn{};Rn.styles=[$n,Cn,Nn],Rn=t([rt("md-filled-button")],Rn);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Un extends nt{constructor(){super(...arguments),this.disabled=!1,this.error=!1,this.focused=!1,this.populated=!1,this.resizable=!1,this.required=!1,this.hasStart=!1,this.hasEnd=!1,this.isAnimating=!1}update(t){this.disabled&&this.focused&&(t.set("focused",!0),this.focused=!1),this.animateLabelIfNeeded({wasFocused:t.get("focused"),wasPopulated:t.get("populated")}),super.update(t)}render(){const t=this.renderLabel(!0),e=this.renderLabel(!1),i=this.renderOutline?.(t),o={disabled:this.disabled,error:this.error&&!this.disabled,focused:this.focused,"with-start":this.hasStart,"with-end":this.hasEnd,populated:this.populated,resizable:this.resizable,required:this.required,"no-label":!this.label};return N` <div class="field ${Lt(o)}"> <div class="container-overflow"> ${i} ${this.renderBackground?.()} ${this.renderIndicator?.()} <div class="container"> <div class="start"> <slot name="start"></slot> </div> <div class="middle"> ${e} ${i?U:t} <div class="content"> <slot></slot> </div> </div> <div class="end"> <slot name="end"></slot> </div> </div> </div> <div class="supporting-text"> <div class="supporting-text-start"> <slot name="supporting-text"></slot> </div> <div class="supporting-text-end"> <slot name="supporting-text-end"></slot> </div> </div> </div> `}renderLabel(t){let e;e=t?this.focused||this.populated||this.isAnimating:!this.focused&&!this.populated&&!this.isAnimating;const i={hidden:!e,floating:t,resting:!t};let o=this.label??"";return o+=this.required&&o?"*":"",N` <span class="label ${Lt(i)}" aria-hidden="${!e}">${o}</span> `}animateLabelIfNeeded({wasFocused:t,wasPopulated:e}){if(!this.label)return;t??(t=this.focused),e??(e=this.populated);(t||e)!==(this.focused||this.populated)&&(this.isAnimating=!0,this.labelAnimation?.cancel(),this.labelAnimation=this.floatingLabelEl?.animate(this.getLabelKeyframes(),{duration:150,easing:qt}),this.labelAnimation?.addEventListener("finish",(()=>{this.isAnimating=!1})))}getLabelKeyframes(){const{floatingLabelEl:t,restingLabelEl:e}=this;if(!t||!e)return[];const{x:i,y:o,height:n}=t.getBoundingClientRect(),{x:s,y:r,height:a}=e.getBoundingClientRect(),l=t.scrollWidth,d=e.scrollWidth,c=d/l,h=`translateX(${s-i}px) translateY(${r-o+Math.round((a-n*c)/2)}px) scale(${c})`,p="translateX(0) translateY(0) scale(1)",u=e.clientWidth,m=d>u?u/c+"px":"";return this.focused||this.populated?[{transform:h,width:m},{transform:p,width:m}]:[{transform:p,width:m},{transform:h,width:m}]}}t([lt({type:Boolean}),e("design:type",Object)],Un.prototype,"disabled",void 0),t([lt({type:Boolean}),e("design:type",Object)],Un.prototype,"error",void 0),t([lt({type:Boolean}),e("design:type",Object)],Un.prototype,"focused",void 0),t([lt({type:String}),e("design:type",String)],Un.prototype,"label",void 0),t([lt({type:Boolean}),e("design:type",Object)],Un.prototype,"populated",void 0),t([lt({type:Boolean}),e("design:type",Object)],Un.prototype,"resizable",void 0),t([lt({type:Boolean}),e("design:type",Object)],Un.prototype,"required",void 0),t([lt({type:Boolean}),e("design:type",Object)],Un.prototype,"hasStart",void 0),t([lt({type:Boolean}),e("design:type",Object)],Un.prototype,"hasEnd",void 0),t([dt(),e("design:type",Object)],Un.prototype,"isAnimating",void 0),t([ht(".label.floating"),e("design:type",HTMLElement)],Un.prototype,"floatingLabelEl",void 0),t([ht(".label.resting"),e("design:type",HTMLElement)],Un.prototype,"restingLabelEl",void 0);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class jn extends Un{renderOutline(t){return N` <div class="outline"> <div class="outline-start"></div> <div class="outline-notch"> <div class="outline-panel-inactive"></div> <div class="outline-panel-active"></div> <div class="outline-label">${t}</div> </div> <div class="outline-end"></div> </div> `}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const Vn=a`:host{--_container-shape-start-start:var(--md-outlined-field-container-shape-start-start, var(--md-outlined-field-container-shape, 4px));--_container-shape-start-end:var(--md-outlined-field-container-shape-start-end, var(--md-outlined-field-container-shape, 4px));--_container-shape-end-end:var(--md-outlined-field-container-shape-end-end, var(--md-outlined-field-container-shape, 4px));--_container-shape-end-start:var(--md-outlined-field-container-shape-end-start, var(--md-outlined-field-container-shape, 4px));--_container-padding-horizontal:var(--md-outlined-field-container-padding-horizontal, 16px);--_container-padding-vertical:var(--md-outlined-field-container-padding-vertical, 16px);--_content-color:var(--md-outlined-field-content-color, var(--md-sys-color-on-surface, #1c1b1f));--_content-type:var(--md-outlined-field-content-type, 400 1rem / 1.5rem Roboto);--_disabled-content-color:var(--md-outlined-field-disabled-content-color, var(--md-sys-color-on-surface, #1c1b1f));--_disabled-content-opacity:var(--md-outlined-field-disabled-content-opacity, 0.38);--_disabled-label-text-color:var(--md-outlined-field-disabled-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_disabled-label-text-opacity:var(--md-outlined-field-disabled-label-text-opacity, 0.38);--_disabled-leading-content-color:var(--md-outlined-field-disabled-leading-content-color, var(--md-sys-color-on-surface, #1c1b1f));--_disabled-leading-content-opacity:var(--md-outlined-field-disabled-leading-content-opacity, 0.38);--_disabled-outline-color:var(--md-outlined-field-disabled-outline-color, var(--md-sys-color-on-surface, #1c1b1f));--_disabled-outline-opacity:var(--md-outlined-field-disabled-outline-opacity, 0.12);--_disabled-outline-width:var(--md-outlined-field-disabled-outline-width, 1px);--_disabled-supporting-text-color:var(--md-outlined-field-disabled-supporting-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_disabled-supporting-text-opacity:var(--md-outlined-field-disabled-supporting-text-opacity, 0.38);--_disabled-trailing-content-color:var(--md-outlined-field-disabled-trailing-content-color, var(--md-sys-color-on-surface, #1c1b1f));--_disabled-trailing-content-opacity:var(--md-outlined-field-disabled-trailing-content-opacity, 0.38);--_error-content-color:var(--md-outlined-field-error-content-color, var(--md-sys-color-on-surface, #1c1b1f));--_error-focus-content-color:var(--md-outlined-field-error-focus-content-color, var(--md-sys-color-on-surface, #1c1b1f));--_error-focus-label-text-color:var(--md-outlined-field-error-focus-label-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-leading-content-color:var(--md-outlined-field-error-focus-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-focus-outline-color:var(--md-outlined-field-error-focus-outline-color, var(--md-sys-color-error, #b3261e));--_error-focus-supporting-text-color:var(--md-outlined-field-error-focus-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-trailing-content-color:var(--md-outlined-field-error-focus-trailing-content-color, var(--md-sys-color-error, #b3261e));--_error-hover-content-color:var(--md-outlined-field-error-hover-content-color, var(--md-sys-color-on-surface, #1c1b1f));--_error-hover-label-text-color:var(--md-outlined-field-error-hover-label-text-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-leading-content-color:var(--md-outlined-field-error-hover-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-hover-outline-color:var(--md-outlined-field-error-hover-outline-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-supporting-text-color:var(--md-outlined-field-error-hover-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-hover-trailing-content-color:var(--md-outlined-field-error-hover-trailing-content-color, var(--md-sys-color-on-error-container, #410e0b));--_error-label-text-color:var(--md-outlined-field-error-label-text-color, var(--md-sys-color-error, #b3261e));--_error-leading-content-color:var(--md-outlined-field-error-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-outline-color:var(--md-outlined-field-error-outline-color, var(--md-sys-color-error, #b3261e));--_error-supporting-text-color:var(--md-outlined-field-error-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-trailing-content-color:var(--md-outlined-field-error-trailing-content-color, var(--md-sys-color-error, #b3261e));--_focus-content-color:var(--md-outlined-field-focus-content-color, var(--md-sys-color-on-surface, #1c1b1f));--_focus-label-text-color:var(--md-outlined-field-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_focus-leading-content-color:var(--md-outlined-field-focus-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-outline-color:var(--md-outlined-field-focus-outline-color, var(--md-sys-color-primary, #6750a4));--_focus-outline-width:var(--md-outlined-field-focus-outline-width, 2px);--_focus-supporting-text-color:var(--md-outlined-field-focus-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-trailing-content-color:var(--md-outlined-field-focus-trailing-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-content-color:var(--md-outlined-field-hover-content-color, var(--md-sys-color-on-surface, #1c1b1f));--_hover-label-text-color:var(--md-outlined-field-hover-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_hover-leading-content-color:var(--md-outlined-field-hover-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-outline-color:var(--md-outlined-field-hover-outline-color, var(--md-sys-color-on-surface, #1c1b1f));--_hover-outline-width:var(--md-outlined-field-hover-outline-width, 1px);--_hover-supporting-text-color:var(--md-outlined-field-hover-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-content-color:var(--md-outlined-field-hover-trailing-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-color:var(--md-outlined-field-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-padding-bottom:var(--md-outlined-field-label-text-padding-bottom, 8px);--_label-text-populated-line-height:var(--md-outlined-field-label-text-populated-line-height, 1rem);--_label-text-populated-size:var(--md-outlined-field-label-text-populated-size, 0.75rem);--_label-text-type:var(--md-outlined-field-label-text-type, 400 1rem / 1.5rem Roboto);--_leading-content-color:var(--md-outlined-field-leading-content-color, var(--md-sys-color-on-surface-variant, #49454f));--_outline-color:var(--md-outlined-field-outline-color, var(--md-sys-color-outline, #79747e));--_outline-label-padding:var(--md-outlined-field-outline-label-padding, 4px);--_outline-width:var(--md-outlined-field-outline-width, 1px);--_supporting-text-color:var(--md-outlined-field-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_supporting-text-padding:var(--md-outlined-field-supporting-text-padding, 16px);--_supporting-text-padding-top:var(--md-outlined-field-supporting-text-padding-top, 4px);--_supporting-text-type:var(--md-outlined-field-supporting-text-type, 400 0.75rem / 1rem Roboto);--_trailing-content-color:var(--md-outlined-field-trailing-content-color, var(--md-sys-color-on-surface-variant, #49454f))}.outline{border-color:var(--_outline-color);border-radius:inherit;color:var(--_outline-color);display:flex;pointer-events:none;height:100%;position:absolute;width:100%}.outline-end::after,.outline-end::before,.outline-panel-active::after,.outline-panel-active::before,.outline-panel-inactive::after,.outline-panel-inactive::before,.outline-start::after,.outline-start::before{border:inherit;content:"";inset:0;position:absolute}.outline-end,.outline-start{border:inherit;border-radius:inherit;box-sizing:border-box;position:relative}.outline-end::after,.outline-end::before,.outline-start::after,.outline-start::before{border-bottom-style:solid;border-top-style:solid}.outline-end::after,.outline-start::after{opacity:0;transition:opacity 150ms cubic-bezier(.2,0,0,1)}.focused .outline-end::after,.focused .outline-start::after{opacity:1}.outline-start::after,.outline-start::before{border-inline-start-style:solid;border-inline-end-style:none;border-start-start-radius:inherit;border-start-end-radius:0;border-end-start-radius:inherit;border-end-end-radius:0;margin-inline-end:var(--_outline-label-padding)}.outline-end{flex-grow:1;margin-inline-start:calc(-1*var(--_outline-label-padding))}.outline-end::after,.outline-end::before{border-inline-start-style:none;border-inline-end-style:solid;border-start-start-radius:0;border-start-end-radius:inherit;border-end-start-radius:0;border-end-end-radius:inherit}.outline-notch{align-items:flex-start;border:inherit;display:flex;margin-inline-start:calc(-1*var(--_outline-label-padding));margin-inline-end:var(--_outline-label-padding);max-width:calc(100% - 2*var(--_container-padding-horizontal));padding:0 var(--_outline-label-padding);position:relative}.no-label .outline-notch{display:none}.outline-panel-active,.outline-panel-inactive{border:inherit;border-bottom-style:solid;inset:0;position:absolute}.outline-panel-active::after,.outline-panel-active::before,.outline-panel-inactive::after,.outline-panel-inactive::before{border-top-style:solid;border-bottom:none;bottom:auto;transform:scaleX(1);transition:transform 150ms cubic-bezier(.2,0,0,1)}.outline-panel-active::before,.outline-panel-inactive::before{right:50%;transform-origin:top left}.outline-panel-active::after,.outline-panel-inactive::after{left:50%;transform-origin:top right}.focused .outline-panel-active::after,.focused .outline-panel-active::before,.focused .outline-panel-inactive::after,.focused .outline-panel-inactive::before,.populated .outline-panel-active::after,.populated .outline-panel-active::before,.populated .outline-panel-inactive::after,.populated .outline-panel-inactive::before{transform:scaleX(0)}.outline-panel-active{opacity:0;transition:opacity 150ms cubic-bezier(.2,0,0,1)}.focused .outline-panel-active{opacity:1}.outline-label{display:flex;max-width:100%;transform:translateY(calc(-100% + var(--_label-text-padding-bottom)))}.field:not(.with-start) .start,.outline-start{padding-inline-start:max(var(--_container-padding-horizontal),max(var(--_container-shape-start-start),var(--_container-shape-end-start)) + var(--_outline-label-padding))}.field:not(.with-end) .end{padding-inline-end:max(var(--_container-padding-horizontal),max(var(--_container-shape-start-end),var(--_container-shape-end-end)))}.outline-end::before,.outline-panel-inactive,.outline-panel-inactive::after,.outline-panel-inactive::before,.outline-start::before{border-width:var(--_outline-width)}:hover .outline{border-color:var(--_hover-outline-color);color:var(--_hover-outline-color)}:hover .outline-end::before,:hover .outline-panel-inactive,:hover .outline-panel-inactive::after,:hover .outline-panel-inactive::before,:hover .outline-start::before{border-width:var(--_hover-outline-width)}.focused .outline{border-color:var(--_focus-outline-color);color:var(--_focus-outline-color)}.outline-end::after,.outline-panel-active,.outline-panel-active::after,.outline-panel-active::before,.outline-start::after{border-width:var(--_focus-outline-width)}.disabled .outline{border-color:var(--_disabled-outline-color);color:var(--_disabled-outline-color)}.disabled .outline-end,.disabled .outline-panel-inactive,.disabled .outline-start{opacity:var(--_disabled-outline-opacity)}.disabled .outline-end::before,.disabled .outline-panel-inactive,.disabled .outline-panel-inactive::after,.disabled .outline-panel-inactive::before,.disabled .outline-start::before{border-width:var(--_disabled-outline-width)}.error .outline{border-color:var(--_error-outline-color);color:var(--_error-outline-color)}.error:hover .outline{border-color:var(--_error-hover-outline-color);color:var(--_error-hover-outline-color)}.error.focused .outline{border-color:var(--_error-focus-outline-color);color:var(--_error-focus-outline-color)}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,Fn=a`:host{display:inline-flex}.field{display:flex;flex:1;flex-direction:column;writing-mode:horizontal-tb;max-width:100%}.container-overflow{border-start-start-radius:var(--_container-shape-start-start);border-start-end-radius:var(--_container-shape-start-end);border-end-end-radius:var(--_container-shape-end-end);border-end-start-radius:var(--_container-shape-end-start);display:flex;position:relative}.container{align-items:center;border-radius:inherit;display:flex;flex:1;min-width:min-content;overflow:hidden;padding-top:var(--_container-padding-vertical);padding-bottom:var(--_container-padding-vertical);position:relative}.resizable .container{resize:both}.disabled{pointer-events:none}.end,.middle,.start{display:flex;box-sizing:border-box;height:100%;position:relative}.start{color:var(--_leading-content-color)}.end{color:var(--_trailing-content-color)}.end,.start{align-items:center;justify-content:center}.with-end .end,.with-start .start{min-width:48px}.with-start .start{margin-inline-end:4px}.with-end .end{margin-inline-start:4px}.middle{align-items:stretch;align-self:baseline;flex:1}.content{color:var(--_content-color);display:flex;flex:1;font:var(--_content-type);opacity:0;transition:opacity 83ms cubic-bezier(.2,0,0,1)}.focused .content,.no-label .content,.populated .content{opacity:1;transition-delay:67ms}:hover .content{color:var(--_hover-content-color)}:hover .start{color:var(--_hover-leading-content-color)}:hover .end{color:var(--_hover-trailing-content-color)}.focused .content{color:var(--_focus-content-color)}.focused .start{color:var(--_focus-leading-content-color)}.focused .end{color:var(--_focus-trailing-content-color)}.disabled .content{color:var(--_disabled-content-color)}.disabled.focused .content,.disabled.no-label .content,.disabled.populated .content{opacity:var(--_disabled-content-opacity)}.disabled .start{color:var(--_disabled-leading-content-color);opacity:var(--_disabled-leading-content-opacity)}.disabled .end{color:var(--_disabled-trailing-content-color);opacity:var(--_disabled-trailing-content-opacity)}.error .content{color:var(--_error-content-color)}.error .start{color:var(--_error-leading-content-color)}.error .end{color:var(--_error-trailing-content-color)}.error:hover .content{color:var(--_error-hover-content-color)}.error:hover .start{color:var(--_error-hover-leading-content-color)}.error:hover .end{color:var(--_error-hover-trailing-content-color)}.error.focused .content{color:var(--_error-focus-content-color)}.error.focused .start{color:var(--_error-focus-leading-content-color)}.error.focused .end{color:var(--_error-focus-trailing-content-color)}.label{color:var(--_label-text-color);overflow:hidden;max-width:100%;pointer-events:none;text-overflow:ellipsis;white-space:nowrap;z-index:1;font:var(--_label-text-type)}.label.resting{position:absolute;top:50%;transform:translateY(-50%)}.label.floating{font-size:var(--_label-text-populated-size);line-height:var(--_label-text-populated-line-height);transform-origin:top left}.label.hidden{opacity:0}.no-label .label{display:none}:hover .label{color:var(--_hover-label-text-color)}.focused .label{color:var(--_focus-label-text-color)}.disabled .label{color:var(--_disabled-label-text-color)}.disabled .label:not(.hidden){opacity:var(--_disabled-label-text-opacity)}.error .label{color:var(--_error-label-text-color)}.error:hover .label{color:var(--_error-hover-label-text-color)}.error.focused .label{color:var(--_error-focus-label-text-color)}.supporting-text{color:var(--_supporting-text-color);display:flex;justify-content:space-between;padding:0 var(--_supporting-text-padding);font:var(--_supporting-text-type)}.supporting-text-end,.supporting-text-start{display:flex}.supporting-text-end ::slotted(:not(:empty)),.supporting-text-start ::slotted(:not(:empty)){padding-top:var(--_supporting-text-padding-top)}.supporting-text-end ::slotted(:not(:empty)){padding-inline-start:var(--_supporting-text-padding)}:hover .supporting-text{color:var(--_hover-supporting-text-color)}.focus .supporting-text{color:var(--_focus-supporting-text-color)}.disabled .supporting-text{color:var(--_disabled-supporting-text-color);opacity:var(--_disabled-supporting-text-opacity)}.error .supporting-text{color:var(--_error-supporting-text-color)}.error:hover .supporting-text{color:var(--_error-hover-supporting-text-color)}.error.focus .supporting-text{color:var(--_error-focus-supporting-text-color)}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Gn=class extends jn{};Gn.styles=[Fn,Vn],Gn=t([rt("md-outlined-field")],Gn);
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const Bn=Symbol.for(""),Hn=t=>{if((null==t?void 0:t.r)===Bn)return null==t?void 0:t._$litStatic$},Wn=(t,...e)=>({_$litStatic$:e.reduce(((e,i,o)=>e+(t=>{if(void 0!==t._$litStatic$)return t._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${t}. Use 'unsafeStatic' to pass non-literal values, but\n            take care to ensure page security.`)})(i)+t[o+1]),t[0]),r:Bn}),qn=new Map,Qn=(t=>(e,...i)=>{const o=i.length;let n,s;const r=[],a=[];let l,d=0,c=!1;for(;d<o;){for(l=e[d];d<o&&void 0!==(s=i[d],n=Hn(s));)l+=n+e[++d],c=!0;a.push(s),r.push(l),d++}if(d===o&&r.push(e[o]),c){const t=r.join("$$lit$$");void 0===(e=qn.get(t))&&(r.raw=r,qn.set(t,e=r)),i=a}return t(e,...i)})(N),Jn=a`@media(forced-colors:active){:host{--md-outlined-text-field-disabled-input-text-color:GrayText;--md-outlined-text-field-disabled-input-text-opacity:1;--md-outlined-text-field-disabled-label-text-color:GrayText;--md-outlined-text-field-disabled-label-text-opacity:1;--md-outlined-text-field-disabled-leading-icon-color:GrayText;--md-outlined-text-field-disabled-leading-icon-opacity:1;--md-outlined-text-field-disabled-outline-color:GrayText;--md-outlined-text-field-disabled-outline-opacity:1;--md-outlined-text-field-disabled-supporting-text-color:GrayText;--md-outlined-text-field-disabled-supporting-text-opacity:1;--md-outlined-text-field-disabled-trailing-icon-color:GrayText;--md-outlined-text-field-disabled-trailing-icon-opacity:1}}`
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */,Zn=a`:host{--_container-shape-start-start:var(--md-outlined-text-field-container-shape-start-start, var(--md-outlined-text-field-container-shape, 4px));--_container-shape-start-end:var(--md-outlined-text-field-container-shape-start-end, var(--md-outlined-text-field-container-shape, 4px));--_container-shape-end-end:var(--md-outlined-text-field-container-shape-end-end, var(--md-outlined-text-field-container-shape, 4px));--_container-shape-end-start:var(--md-outlined-text-field-container-shape-end-start, var(--md-outlined-text-field-container-shape, 4px));--_container-padding-horizontal:var(--md-outlined-text-field-container-padding-horizontal, 16px);--_container-padding-vertical:var(--md-outlined-text-field-container-padding-vertical, 16px);--_input-text-prefix-padding:var(--md-outlined-text-field-input-text-prefix-padding, 2px);--_input-text-suffix-padding:var(--md-outlined-text-field-input-text-suffix-padding, 2px);--_focus-caret-color:var(--md-outlined-text-field-focus-caret-color, var(--md-sys-color-primary, #6750a4));--_caret-color:var(--md-outlined-text-field-caret-color, var(--md-sys-color-primary, #6750a4));--_disabled-input-text-color:var(--md-outlined-text-field-disabled-input-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_disabled-input-text-opacity:var(--md-outlined-text-field-disabled-input-text-opacity, 0.38);--_disabled-label-text-color:var(--md-outlined-text-field-disabled-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_disabled-label-text-opacity:var(--md-outlined-text-field-disabled-label-text-opacity, 0.38);--_disabled-leading-icon-color:var(--md-outlined-text-field-disabled-leading-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_disabled-leading-icon-opacity:var(--md-outlined-text-field-disabled-leading-icon-opacity, 0.38);--_disabled-outline-color:var(--md-outlined-text-field-disabled-outline-color, var(--md-sys-color-on-surface, #1c1b1f));--_disabled-outline-opacity:var(--md-outlined-text-field-disabled-outline-opacity, 0.12);--_disabled-outline-width:var(--md-outlined-text-field-disabled-outline-width, 1px);--_disabled-supporting-text-color:var(--md-outlined-text-field-disabled-supporting-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_disabled-supporting-text-opacity:var(--md-outlined-text-field-disabled-supporting-text-opacity, 0.38);--_disabled-trailing-icon-color:var(--md-outlined-text-field-disabled-trailing-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_disabled-trailing-icon-opacity:var(--md-outlined-text-field-disabled-trailing-icon-opacity, 0.38);--_error-focus-caret-color:var(--md-outlined-text-field-error-focus-caret-color, var(--md-sys-color-error, #b3261e));--_error-focus-input-text-color:var(--md-outlined-text-field-error-focus-input-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_error-focus-label-text-color:var(--md-outlined-text-field-error-focus-label-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-leading-icon-color:var(--md-outlined-text-field-error-focus-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-focus-outline-color:var(--md-outlined-text-field-error-focus-outline-color, var(--md-sys-color-error, #b3261e));--_error-focus-supporting-text-color:var(--md-outlined-text-field-error-focus-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-focus-trailing-icon-color:var(--md-outlined-text-field-error-focus-trailing-icon-color, var(--md-sys-color-error, #b3261e));--_error-hover-input-text-color:var(--md-outlined-text-field-error-hover-input-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_error-hover-label-text-color:var(--md-outlined-text-field-error-hover-label-text-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-leading-icon-color:var(--md-outlined-text-field-error-hover-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-hover-outline-color:var(--md-outlined-text-field-error-hover-outline-color, var(--md-sys-color-on-error-container, #410e0b));--_error-hover-supporting-text-color:var(--md-outlined-text-field-error-hover-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-hover-trailing-icon-color:var(--md-outlined-text-field-error-hover-trailing-icon-color, var(--md-sys-color-on-error-container, #410e0b));--_error-input-text-color:var(--md-outlined-text-field-error-input-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_error-label-text-color:var(--md-outlined-text-field-error-label-text-color, var(--md-sys-color-error, #b3261e));--_error-leading-icon-color:var(--md-outlined-text-field-error-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_error-outline-color:var(--md-outlined-text-field-error-outline-color, var(--md-sys-color-error, #b3261e));--_error-supporting-text-color:var(--md-outlined-text-field-error-supporting-text-color, var(--md-sys-color-error, #b3261e));--_error-trailing-icon-color:var(--md-outlined-text-field-error-trailing-icon-color, var(--md-sys-color-error, #b3261e));--_focus-input-text-color:var(--md-outlined-text-field-focus-input-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_focus-label-text-color:var(--md-outlined-text-field-focus-label-text-color, var(--md-sys-color-primary, #6750a4));--_focus-leading-icon-color:var(--md-outlined-text-field-focus-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-outline-color:var(--md-outlined-text-field-focus-outline-color, var(--md-sys-color-primary, #6750a4));--_focus-outline-width:var(--md-outlined-text-field-focus-outline-width, 2px);--_focus-supporting-text-color:var(--md-outlined-text-field-focus-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_focus-trailing-icon-color:var(--md-outlined-text-field-focus-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-input-text-color:var(--md-outlined-text-field-hover-input-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_hover-label-text-color:var(--md-outlined-text-field-hover-label-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_hover-leading-icon-color:var(--md-outlined-text-field-hover-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-outline-color:var(--md-outlined-text-field-hover-outline-color, var(--md-sys-color-on-surface, #1c1b1f));--_hover-outline-width:var(--md-outlined-text-field-hover-outline-width, 1px);--_hover-supporting-text-color:var(--md-outlined-text-field-hover-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_hover-trailing-icon-color:var(--md-outlined-text-field-hover-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-color:var(--md-outlined-text-field-input-text-color, var(--md-sys-color-on-surface, #1c1b1f));--_input-text-placeholder-color:var(--md-outlined-text-field-input-text-placeholder-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-prefix-color:var(--md-outlined-text-field-input-text-prefix-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-suffix-color:var(--md-outlined-text-field-input-text-suffix-color, var(--md-sys-color-on-surface-variant, #49454f));--_input-text-type:var(--md-outlined-text-field-input-text-type, 400 1rem / 1.5rem Roboto);--_label-text-color:var(--md-outlined-text-field-label-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_label-text-populated-line-height:var(--md-outlined-text-field-label-text-populated-line-height, 1rem);--_label-text-populated-size:var(--md-outlined-text-field-label-text-populated-size, 0.75rem);--_label-text-type:var(--md-outlined-text-field-label-text-type, 400 1rem / 1.5rem Roboto);--_leading-icon-color:var(--md-outlined-text-field-leading-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_leading-icon-size:var(--md-outlined-text-field-leading-icon-size, 24px);--_outline-color:var(--md-outlined-text-field-outline-color, var(--md-sys-color-outline, #79747e));--_outline-width:var(--md-outlined-text-field-outline-width, 1px);--_supporting-text-color:var(--md-outlined-text-field-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_supporting-text-type:var(--md-outlined-text-field-supporting-text-type, 400 0.75rem / 1rem Roboto);--_trailing-icon-color:var(--md-outlined-text-field-trailing-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_trailing-icon-size:var(--md-outlined-text-field-trailing-icon-size, 24px);--md-outlined-field-container-shape-start-start:var(--md-outlined-field-container-shape, var(--_container-shape-start-start));--md-outlined-field-container-shape-start-end:var(--md-outlined-field-container-shape, var(--_container-shape-start-end));--md-outlined-field-container-shape-end-end:var(--md-outlined-field-container-shape, var(--_container-shape-end-end));--md-outlined-field-container-shape-end-start:var(--md-outlined-field-container-shape, var(--_container-shape-end-start));--md-outlined-field-container-padding-horizontal:var(--_container-padding-horizontal);--md-outlined-field-container-padding-vertical:var(--_container-padding-vertical);--md-outlined-field-content-color:var(--_input-text-color);--md-outlined-field-content-type:var(--_input-text-type);--md-outlined-field-disabled-content-color:var(--_disabled-input-text-color);--md-outlined-field-disabled-content-opacity:var(--_disabled-input-text-opacity);--md-outlined-field-disabled-label-text-color:var(--_disabled-label-text-color);--md-outlined-field-disabled-label-text-opacity:var(--_disabled-label-text-opacity);--md-outlined-field-disabled-leading-content-color:var(--_disabled-leading-icon-color);--md-outlined-field-disabled-leading-content-opacity:var(--_disabled-leading-icon-opacity);--md-outlined-field-disabled-outline-color:var(--_disabled-outline-color);--md-outlined-field-disabled-outline-opacity:var(--_disabled-outline-opacity);--md-outlined-field-disabled-outline-width:var(--_disabled-outline-width);--md-outlined-field-disabled-supporting-text-color:var(--_disabled-supporting-text-color);--md-outlined-field-disabled-supporting-text-opacity:var(--_disabled-supporting-text-opacity);--md-outlined-field-disabled-trailing-content-color:var(--_disabled-trailing-icon-color);--md-outlined-field-disabled-trailing-content-opacity:var(--_disabled-trailing-icon-opacity);--md-outlined-field-error-content-color:var(--_error-input-text-color);--md-outlined-field-error-focus-content-color:var(--_error-focus-input-text-color);--md-outlined-field-error-focus-label-text-color:var(--_error-focus-label-text-color);--md-outlined-field-error-focus-leading-content-color:var(--_error-focus-leading-icon-color);--md-outlined-field-error-focus-outline-color:var(--_error-focus-outline-color);--md-outlined-field-error-focus-supporting-text-color:var(--_error-focus-supporting-text-color);--md-outlined-field-error-focus-trailing-content-color:var(--_error-focus-trailing-icon-color);--md-outlined-field-error-hover-content-color:var(--_error-hover-input-text-color);--md-outlined-field-error-hover-label-text-color:var(--_error-hover-label-text-color);--md-outlined-field-error-hover-leading-content-color:var(--_error-hover-leading-icon-color);--md-outlined-field-error-hover-outline-color:var(--_error-hover-outline-color);--md-outlined-field-error-hover-supporting-text-color:var(--_error-hover-supporting-text-color);--md-outlined-field-error-hover-trailing-content-color:var(--_error-hover-trailing-icon-color);--md-outlined-field-error-label-text-color:var(--_error-label-text-color);--md-outlined-field-error-leading-content-color:var(--_error-leading-icon-color);--md-outlined-field-error-outline-color:var(--_error-outline-color);--md-outlined-field-error-supporting-text-color:var(--_error-supporting-text-color);--md-outlined-field-error-trailing-content-color:var(--_error-trailing-icon-color);--md-outlined-field-focus-content-color:var(--_focus-input-text-color);--md-outlined-field-focus-label-text-color:var(--_focus-label-text-color);--md-outlined-field-focus-leading-content-color:var(--_focus-leading-icon-color);--md-outlined-field-focus-outline-color:var(--_focus-outline-color);--md-outlined-field-focus-outline-width:var(--_focus-outline-width);--md-outlined-field-focus-supporting-text-color:var(--_focus-supporting-text-color);--md-outlined-field-focus-trailing-content-color:var(--_focus-trailing-icon-color);--md-outlined-field-hover-content-color:var(--_hover-input-text-color);--md-outlined-field-hover-label-text-color:var(--_hover-label-text-color);--md-outlined-field-hover-leading-content-color:var(--_hover-leading-icon-color);--md-outlined-field-hover-outline-color:var(--_hover-outline-color);--md-outlined-field-hover-outline-width:var(--_hover-outline-width);--md-outlined-field-hover-supporting-text-color:var(--_hover-supporting-text-color);--md-outlined-field-hover-trailing-content-color:var(--_hover-trailing-icon-color);--md-outlined-field-label-text-color:var(--_label-text-color);--md-outlined-field-label-text-populated-line-height:var(--_label-text-populated-line-height);--md-outlined-field-label-text-populated-size:var(--_label-text-populated-size);--md-outlined-field-label-text-type:var(--_label-text-type);--md-outlined-field-leading-content-color:var(--_leading-icon-color);--md-outlined-field-outline-color:var(--_outline-color);--md-outlined-field-outline-width:var(--_outline-width);--md-outlined-field-supporting-text-color:var(--_supporting-text-color);--md-outlined-field-supporting-text-type:var(--_supporting-text-type);--md-outlined-field-trailing-content-color:var(--_trailing-icon-color)}`
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,Kn=At(class extends Ot{constructor(t){if(super(t),t.type!==St&&t.type!==$t&&t.type!==It)throw Error("The `live` directive is not allowed on child or event bindings");if(!mi(t))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(t,[e]){if(e===R||e===U)return e;const i=t.element,o=t.name;if(t.type===St){if(e===i[o])return R}else if(t.type===It){if(!!e===i.hasAttribute(o))return R}else if(t.type===$t&&i.getAttribute(o)===e+"")return R;return bi(t),e}}),Yn={fromAttribute:t=>t??"",toAttribute:t=>t||null};
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Xn extends nt{get form(){return this.closest("form")}[un](){return this.value}get selectionDirection(){return this.getInput().selectionDirection}set selectionDirection(t){this.getInput().selectionDirection=t}get selectionEnd(){return this.getInput().selectionEnd}set selectionEnd(t){this.getInput().selectionEnd=t}get selectionStart(){return this.getInput().selectionStart}set selectionStart(t){this.getInput().selectionStart=t}get validationMessage(){return this.getInput().validationMessage}get validity(){return this.getInput().validity}get valueAsNumber(){return this.getInput().valueAsNumber}set valueAsNumber(t){this.getInput().valueAsNumber=t,this.value=this.getInput().value}get valueAsDate(){return this.getInput().valueAsDate}set valueAsDate(t){this.getInput().valueAsDate=t,this.value=this.getInput().value}get willValidate(){return this.getInput().willValidate}get hasError(){return this.error||this.nativeError}constructor(){super(),this.disabled=!1,this.error=!1,this.errorText="",this.required=!1,this.value="",this.defaultValue="",this.prefixText="",this.suffixText="",this.hasLeadingIcon=!1,this.hasTrailingIcon=!1,this.supportingText="",this.textDirection="",this.ariaAutoComplete=null,this.ariaControls=null,this.ariaActiveDescendant=null,this.ariaExpanded=null,this.role=null,this.name="",this.max="",this.maxLength=-1,this.min="",this.minLength=-1,this.pattern="",this.placeholder="",this.readOnly=!1,this.step="",this.type="text",this.dirty=!1,this.focused=!1,this.refreshErrorAlert=!1,this.valueHasChanged=!1,this.ignoreNextValueChange=!1,this.nativeError=!1,this.nativeErrorText="",this.addController(new mn(this)),this.addEventListener("click",this.focus),this.addEventListener("focusin",this.handleFocusin),this.addEventListener("focusout",this.handleFocusout)}checkValidity(){const{valid:t}=this.checkValidityAndDispatch();return t}focus(){this.disabled||this.matches(":focus-within")||super.focus()}reportValidity(){const{valid:t,canceled:e}=this.checkValidityAndDispatch();if(!e){const e=this.getErrorText();this.nativeError=!t,this.nativeErrorText=this.validationMessage;this.shouldErrorAnnounce()&&e===this.getErrorText()&&(this.refreshErrorAlert=!0)}return t}select(){this.getInput().select()}setCustomValidity(t){this.getInput().setCustomValidity(t)}setRangeText(...t){this.getInput().setRangeText(...t),this.value=this.getInput().value}setSelectionRange(t,e,i){this.getInput().setSelectionRange(t,e,i)}stepDown(t){const e=this.getInput();e.stepDown(t),this.value=e.value}stepUp(t){const e=this.getInput();e.stepUp(t),this.value=e.value}reset(){this.dirty=!1,this.valueHasChanged=!1,this.ignoreNextValueChange=!0,this.value=this.defaultValue,this.nativeError=!1,this.nativeErrorText=""}update(t){t.has("value")&&void 0!==t.get("value")&&!this.ignoreNextValueChange&&(this.valueHasChanged=!0),this.ignoreNextValueChange&&(this.ignoreNextValueChange=!1),super.update(t)}render(){const t={disabled:this.disabled,error:!this.disabled&&this.hasError};return N` <span class="text-field ${Lt(t)}"> ${this.renderField()} </span> `}updated(t){const e=this.getInput().value;this.value!==e&&(this.ignoreNextValueChange=!0,this.value=e),this.refreshErrorAlert&&requestAnimationFrame((()=>{this.refreshErrorAlert=!1}))}renderField(){const t=this.renderPrefix(),e=this.renderSuffix(),i=this.renderInput();return Qn`<${this.fieldTag}
      class="field"
      ?disabled=${this.disabled}
      ?error=${this.hasError}
      ?focused=${this.focused}
      ?hasEnd=${this.hasTrailingIcon}
      ?hasStart=${this.hasLeadingIcon}
      .label=${this.label}
      ?populated=${!!this.getInputValue()}
      ?required=${this.required}
    >
      ${this.renderLeadingIcon()}
      ${t}${i}${e}
      ${this.renderTrailingIcon()}
      ${this.renderSupportingText()}
      ${this.renderCounter()}
    </${this.fieldTag}>`}renderLeadingIcon(){return N` <span class="icon leading" slot="start"> <slot name="leadingicon" @slotchange="${this.handleIconChange}"></slot> </span> `}renderTrailingIcon(){return N` <span class="icon trailing" slot="end"> <slot name="trailingicon" @slotchange="${this.handleIconChange}"></slot> </span> `}renderInput(){const t={direction:this.textDirection};return N`<input style="${ti(t)}" aria-activedescendant="${this.ariaActiveDescendant||U}" aria-autocomplete="${this.ariaAutoComplete||U}" aria-controls="${this.ariaControls||U}" aria-describedby="${this.getAriaDescribedBy()||U}" aria-expanded="${this.ariaExpanded||U}" aria-invalid="${this.hasError}" aria-label="${this.ariaLabel||this.label||U}" ?disabled="${this.disabled}" max="${this.max||U}" maxlength="${this.maxLength>-1?this.maxLength:U}" min="${this.min||U}" minlength="${this.minLength>-1?this.minLength:U}" pattern="${this.pattern||U}" placeholder="${this.placeholder||U}" role="${this.role||U}" ?readonly="${this.readOnly}" ?required="${this.required}" step="${this.step||U}" type="${this.type}" .value="${Kn(this.getInputValue())}" @change="${this.redispatchEvent}" @input="${this.handleInput}" @select="${this.redispatchEvent}">`}getInputValue(){return this.dirty||this.valueHasChanged?this.value:this.defaultValue||this.value}getAriaDescribedBy(){const t=[];return this.getSupportingText()&&t.push("support"),this.getCounterText()&&t.push("counter"),t.join(" ")}renderPrefix(){return this.renderAffix(this.prefixText,!1)}renderSuffix(){return this.renderAffix(this.suffixText,!0)}renderAffix(t,e){if(!t)return U;return N`<span class="${Lt({suffix:e,prefix:!e})}">${t}</span>`}renderSupportingText(){const t=this.getSupportingText();return t?N`<span id="support" slot="supporting-text" role="${this.shouldErrorAnnounce()?"alert":U}">${t}</span>`:U}getSupportingText(){const t=this.getErrorText();return this.hasError&&t?t:this.supportingText}getErrorText(){return this.error?this.errorText:this.nativeErrorText}shouldErrorAnnounce(){return this.hasError&&!!this.getErrorText()&&!this.refreshErrorAlert}renderCounter(){const t=this.getCounterText();return t?N`<span id="counter" class="counter" slot="supporting-text-end">${t}</span>`:U}getCounterText(){return this.maxLength>-1?`${this.value.length} / ${this.maxLength}`:""}handleFocusin(){this.focused=!0}handleFocusout(){this.matches(":focus-within")||(this.focused=!1)}handleInput(t){this.dirty=!0,this.value=t.target.value,this.redispatchEvent(t)}redispatchEvent(t){sn(this,t)}getInput(){return this.input||(this.connectedCallback(),this.scheduleUpdate()),this.isUpdatePending&&this.scheduleUpdate(),this.input}checkValidityAndDispatch(){const t=this.getInput().checkValidity();let e=!1;return t||(e=!this.dispatchEvent(new Event("invalid",{cancelable:!0}))),{valid:t,canceled:e}}handleIconChange(){this.hasLeadingIcon=this.leadingIcons.length>0,this.hasTrailingIcon=this.trailingIcons.length>0}}Xn.shadowRootOptions={...nt.shadowRootOptions,delegatesFocus:!0},t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],Xn.prototype,"disabled",void 0),t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],Xn.prototype,"error",void 0),t([lt({type:String}),e("design:type",Object)],Xn.prototype,"errorText",void 0),t([lt({type:String}),e("design:type",String)],Xn.prototype,"label",void 0),t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],Xn.prototype,"required",void 0),t([lt({type:String}),e("design:type",Object)],Xn.prototype,"value",void 0),t([lt({type:String}),e("design:type",Object)],Xn.prototype,"defaultValue",void 0),t([lt({type:String}),e("design:type",Object)],Xn.prototype,"prefixText",void 0),t([lt({type:String}),e("design:type",Object)],Xn.prototype,"suffixText",void 0),t([lt({type:Boolean}),e("design:type",Object)],Xn.prototype,"hasLeadingIcon",void 0),t([lt({type:Boolean}),e("design:type",Object)],Xn.prototype,"hasTrailingIcon",void 0),t([lt({type:String}),e("design:type",Object)],Xn.prototype,"supportingText",void 0),t([lt({type:String}),e("design:type",Object)],Xn.prototype,"textDirection",void 0),t([lt({type:String,attribute:"data-aria-autocomplete",noAccessor:!0}),wt,e("design:type",String)],Xn.prototype,"ariaAutoComplete",void 0),t([lt({type:String,attribute:"data-aria-controls",noAccessor:!0}),wt,e("design:type",String)],Xn.prototype,"ariaControls",void 0),t([lt({type:String,attribute:"data-aria-activedescendant",noAccessor:!0}),wt,e("design:type",String)],Xn.prototype,"ariaActiveDescendant",void 0),t([lt({type:String,attribute:"data-aria-expanded",noAccessor:!0}),wt,e("design:type",String)],Xn.prototype,"ariaExpanded",void 0),t([lt({type:String,attribute:"data-aria-label",noAccessor:!0}),wt,e("design:type",String)],Xn.prototype,"ariaLabel",void 0),t([lt({type:String,attribute:"data-role",noAccessor:!0}),wt,e("design:type",String)],Xn.prototype,"role",void 0),t([lt({type:String,reflect:!0,converter:Yn}),e("design:type",Object)],Xn.prototype,"name",void 0),t([lt({type:String}),e("design:type",Object)],Xn.prototype,"max",void 0),t([lt({type:Number}),e("design:type",Object)],Xn.prototype,"maxLength",void 0),t([lt({type:String}),e("design:type",Object)],Xn.prototype,"min",void 0),t([lt({type:Number}),e("design:type",Object)],Xn.prototype,"minLength",void 0),t([lt({type:String}),e("design:type",Object)],Xn.prototype,"pattern",void 0),t([lt({type:String,reflect:!0,converter:Yn}),e("design:type",Object)],Xn.prototype,"placeholder",void 0),t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],Xn.prototype,"readOnly",void 0),t([lt({type:String}),e("design:type",Object)],Xn.prototype,"step",void 0),t([lt({type:String,reflect:!0}),e("design:type",String)],Xn.prototype,"type",void 0),t([dt(),e("design:type",Object)],Xn.prototype,"dirty",void 0),t([dt(),e("design:type",Object)],Xn.prototype,"focused",void 0),t([dt(),e("design:type",Object)],Xn.prototype,"refreshErrorAlert",void 0),t([dt(),e("design:type",Object)],Xn.prototype,"valueHasChanged",void 0),t([dt(),e("design:type",Object)],Xn.prototype,"nativeError",void 0),t([dt(),e("design:type",Object)],Xn.prototype,"nativeErrorText",void 0),t([ht("input"),e("design:type",HTMLInputElement)],Xn.prototype,"input",void 0),t([gt({slot:"leadingicon"}),e("design:type",Array)],Xn.prototype,"leadingIcons",void 0),t([gt({slot:"trailingicon"}),e("design:type",Array)],Xn.prototype,"trailingIcons",void 0);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class ts extends Xn{constructor(){super(...arguments),this.fieldTag=Wn`md-outlined-field`}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const es=a`:host{display:inline-flex;outline:0;-webkit-tap-highlight-color:transparent}.text-field{display:inline-flex;flex:1}.field{cursor:text;flex:1}.disabled .field{cursor:default}.counter{white-space:nowrap}.icon{color:currentColor;display:flex;fill:currentColor}.icon ::slotted(*){display:flex}[hasstart] .icon.leading{font-size:var(--_leading-icon-size);height:var(--_leading-icon-size);width:var(--_leading-icon-size)}[hasend] .icon.trailing{font-size:var(--_trailing-icon-size);height:var(--_trailing-icon-size);width:var(--_trailing-icon-size)}input{appearance:none;background:0 0;border:none;caret-color:var(--_caret-color);color:currentColor;font:inherit;outline:0;padding:0;text-align:inherit;width:100%}input::placeholder{color:currentColor;opacity:1}input::-webkit-calendar-picker-indicator{display:none}@media(forced-colors:active){input{background-color:Field}}:focus-within input{caret-color:var(--_focus-caret-color)}.error:focus-within input{caret-color:var(--_error-focus-caret-color)}.text-field:not(.disabled) .prefix{color:var(--_input-text-prefix-color)}.text-field:not(.disabled) .suffix{color:var(--_input-text-suffix-color)}.text-field:not(.disabled) input::placeholder{color:var(--_input-text-placeholder-color)}.prefix{padding-inline-end:var(--_input-text-prefix-padding)}.suffix{padding-inline-start:var(--_input-text-suffix-padding)}`
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let is=class extends ts{constructor(){super(...arguments),this.fieldTag=Wn`md-outlined-field`}};is.styles=[es,Zn,Jn],is=t([rt("md-outlined-text-field")],is);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const os=a`:host{--_container-shape-start-start:var(--md-outlined-icon-button-container-shape-start-start, var(--md-outlined-icon-button-container-shape, 9999px));--_container-shape-start-end:var(--md-outlined-icon-button-container-shape-start-end, var(--md-outlined-icon-button-container-shape, 9999px));--_container-shape-end-end:var(--md-outlined-icon-button-container-shape-end-end, var(--md-outlined-icon-button-container-shape, 9999px));--_container-shape-end-start:var(--md-outlined-icon-button-container-shape-end-start, var(--md-outlined-icon-button-container-shape, 9999px));--_container-size:var(--md-outlined-icon-button-container-size, 40px);--_disabled-icon-color:var(--md-outlined-icon-button-disabled-icon-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.38));--_disabled-selected-container-color:var(--md-outlined-icon-button-disabled-selected-container-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.12));--_disabled-unselected-outline-color:var(--md-outlined-icon-button-disabled-unselected-outline-color, var(--md-sys-color-on-surface, #1c1b1f));--_disabled-unselected-outline-opacity:var(--md-outlined-icon-button-disabled-unselected-outline-opacity, 0.12);--_focus-state-layer-opacity:var(--md-outlined-icon-button-focus-state-layer-opacity, 0.08);--_hover-state-layer-opacity:var(--md-outlined-icon-button-hover-state-layer-opacity, 0.08);--_icon-size:var(--md-outlined-icon-button-icon-size, 24px);--_pressed-state-layer-opacity:var(--md-outlined-icon-button-pressed-state-layer-opacity, 0.12);--_selected-container-color:var(--md-outlined-icon-button-selected-container-color, var(--md-sys-color-inverse-surface, #313033));--_selected-focus-icon-color:var(--md-outlined-icon-button-selected-focus-icon-color, var(--md-sys-color-inverse-on-surface, #f4eff4));--_selected-focus-state-layer-color:var(--md-outlined-icon-button-selected-focus-state-layer-color, var(--md-sys-color-inverse-on-surface, #f4eff4));--_selected-hover-icon-color:var(--md-outlined-icon-button-selected-hover-icon-color, var(--md-sys-color-inverse-on-surface, #f4eff4));--_selected-hover-state-layer-color:var(--md-outlined-icon-button-selected-hover-state-layer-color, var(--md-sys-color-inverse-on-surface, #f4eff4));--_selected-icon-color:var(--md-outlined-icon-button-selected-icon-color, var(--md-sys-color-inverse-on-surface, #f4eff4));--_selected-pressed-icon-color:var(--md-outlined-icon-button-selected-pressed-icon-color, var(--md-sys-color-inverse-on-surface, #f4eff4));--_selected-pressed-state-layer-color:var(--md-outlined-icon-button-selected-pressed-state-layer-color, var(--md-sys-color-inverse-on-surface, #f4eff4));--_unselected-focus-icon-color:var(--md-outlined-icon-button-unselected-focus-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_unselected-focus-state-layer-color:var(--md-outlined-icon-button-unselected-focus-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_unselected-hover-icon-color:var(--md-outlined-icon-button-unselected-hover-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_unselected-hover-state-layer-color:var(--md-outlined-icon-button-unselected-hover-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_unselected-icon-color:var(--md-outlined-icon-button-unselected-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_unselected-outline-color:var(--md-outlined-icon-button-unselected-outline-color, var(--md-sys-color-outline, #79747e));--_unselected-outline-width:var(--md-outlined-icon-button-unselected-outline-width, 1px);--_unselected-pressed-icon-color:var(--md-outlined-icon-button-unselected-pressed-icon-color, var(--md-sys-color-on-surface, #1c1b1f));--_unselected-pressed-state-layer-color:var(--md-outlined-icon-button-unselected-pressed-state-layer-color, var(--md-sys-color-on-surface, #1c1b1f));--md-focus-ring-shape-start-start:var(--md-focus-ring-shape, var(--_container-shape-start-start));--md-focus-ring-shape-start-end:var(--md-focus-ring-shape, var(--_container-shape-start-end));--md-focus-ring-shape-end-end:var(--md-focus-ring-shape, var(--_container-shape-end-end));--md-focus-ring-shape-end-start:var(--md-focus-ring-shape, var(--_container-shape-end-start)) )))}.md3-icon-button--outlined{background-color:rgba(0,0,0,0);color:var(--_unselected-icon-color);--md-ripple-focus-color:var(--_unselected-focus-state-layer-color);--md-ripple-focus-opacity:var(--_focus-state-layer-opacity);--md-ripple-hover-color:var(--_unselected-hover-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-pressed-color:var(--_unselected-pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}.md3-icon-button--outlined::before{border-color:var(--_unselected-outline-color);border-width:var(--_unselected-outline-width)}.md3-icon-button--outlined:hover{color:var(--_unselected-hover-icon-color)}.md3-icon-button--outlined:focus{color:var(--_unselected-focus-icon-color)}.md3-icon-button--outlined:active{color:var(--_unselected-pressed-icon-color)}.md3-icon-button--outlined:disabled{color:var(--_disabled-icon-color)}.md3-icon-button--outlined:disabled::before{border-color:var(--_disabled-unselected-outline-color);opacity:var(--_disabled-unselected-outline-opacity)}.md3-icon-button--outlined::before{block-size:100%;border-style:solid;border-radius:inherit;box-sizing:border-box;content:"";inline-size:100%;inset:0;pointer-events:none;position:absolute}.md3-icon-button--outlined.md3-icon-button--selected::before{border-width:0}.md3-icon-button--selected{--md-ripple-focus-color:var(--_selected-focus-state-layer-color);--md-ripple-focus-opacity:var(--_focus-state-layer-opacity);--md-ripple-hover-color:var(--_selected-hover-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-pressed-color:var(--_selected-pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}.md3-icon-button--selected:not(:disabled){background-color:var(--_selected-container-color);color:var(--_selected-icon-color)}.md3-icon-button--selected:not(:disabled):hover{color:var(--_selected-hover-icon-color)}.md3-icon-button--selected:not(:disabled):focus{color:var(--_selected-focus-icon-color)}.md3-icon-button--selected:not(:disabled):active{color:var(--_selected-pressed-icon-color)}.md3-icon-button--selected:disabled{background-color:var(--_disabled-selected-container-color)}@media(forced-colors:active){.md3-icon-button--selected::before{border-color:var(--_unselected-outline-color);border-width:var(--_unselected-outline-width)}.md3-icon-button--selected:disabled::before{border-color:var(--_disabled-unselected-outline-color);opacity:var(--_disabled-unselected-outline-opacity)}}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let ns=class extends ce{getRenderClasses(){return{...super.getRenderClasses(),"md3-icon-button--outlined":!0}}};ns.styles=[he,os],ns=t([rt("md-outlined-link-icon-button")],ns);
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
let ss=class extends de{getRenderClasses(){return{...super.getRenderClasses(),"md3-icon-button--outlined":!0}}};ss.styles=[he,os],ss=t([rt("md-outlined-icon-button")],ss);
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class rs extends Ot{constructor(t){if(super(t),this.it=U,t.type!==Tt)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===U||null==t)return this._t=void 0,this.it=t;if(t===R)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this._t;this.it=t;const e=[t];return e.raw=e,this._t={_$litType$:this.constructor.resultType,strings:e,values:[]}}}rs.directiveName="unsafeHTML",rs.resultType=1;const as=At(rs);function ls(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let ds={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const cs=/[&<>"']/,hs=new RegExp(cs.source,"g"),ps=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,us=new RegExp(ps.source,"g"),ms={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},gs=t=>ms[t];function fs(t,e){if(e){if(cs.test(t))return t.replace(hs,gs)}else if(ps.test(t))return t.replace(us,gs);return t}const vs=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function ys(t){return t.replace(vs,((t,e)=>"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""))}const bs=/(^|[^\[])\^/g;function _s(t,e){t="string"==typeof t?t:t.source,e=e||"";const i={replace:(e,o)=>(o=(o=o.source||o).replace(bs,"$1"),t=t.replace(e,o),i),getRegex:()=>new RegExp(t,e)};return i}const ws=/[^\w:]/g,xs=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function ks(t,e,i){if(t){let t;try{t=decodeURIComponent(ys(i)).replace(ws,"").toLowerCase()}catch(t){return null}if(0===t.indexOf("javascript:")||0===t.indexOf("vbscript:")||0===t.indexOf("data:"))return null}e&&!xs.test(i)&&(i=function(t,e){Cs[" "+t]||($s.test(t)?Cs[" "+t]=t+"/":Cs[" "+t]=Os(t,"/",!0));t=Cs[" "+t];const i=-1===t.indexOf(":");return"//"===e.substring(0,2)?i?e:t.replace(Ts,"$1")+e:"/"===e.charAt(0)?i?e:t.replace(Ss,"$1")+e:t+e}(e,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch(t){return null}return i}const Cs={},$s=/^[^:]+:\/*[^/]*$/,Ts=/^([^:]+:)[\s\S]*$/,Ss=/^([^:]+:\/*[^/]*)[\s\S]*$/;const Is={exec:function(){}};function Ps(t){let e,i,o=1;for(;o<arguments.length;o++)for(i in e=arguments[o],e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}function As(t,e){const i=t.replace(/\|/g,((t,e,i)=>{let o=!1,n=e;for(;--n>=0&&"\\"===i[n];)o=!o;return o?"|":" |"})),o=i.split(/ \|/);let n=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),o.length>e)o.splice(e);else for(;o.length<e;)o.push("");for(;n<o.length;n++)o[n]=o[n].trim().replace(/\\\|/g,"|");return o}function Os(t,e,i){const o=t.length;if(0===o)return"";let n=0;for(;n<o;){const s=t.charAt(o-n-1);if(s!==e||i){if(s===e||!i)break;n++}else n++}return t.slice(0,o-n)}function Ls(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Es(t,e){if(e<1)return"";let i="";for(;e>1;)1&e&&(i+=t),e>>=1,t+=t;return i+t}function zs(t,e,i,o){const n=e.href,s=e.title?fs(e.title):null,r=t[1].replace(/\\([\[\]])/g,"$1");if("!"!==t[0].charAt(0)){o.state.inLink=!0;const t={type:"link",raw:i,href:n,title:s,text:r,tokens:o.inlineTokens(r)};return o.state.inLink=!1,t}return{type:"image",raw:i,href:n,title:s,text:fs(r)}}class Ds{constructor(t){this.options=t||ds}space(t){const e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){const e=this.rules.block.code.exec(t);if(e){const t=e[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?t:Os(t,"\n")}}}fences(t){const e=this.rules.block.fences.exec(t);if(e){const t=e[0],i=function(t,e){const i=t.match(/^(\s+)(?:```)/);if(null===i)return e;const o=i[1];return e.split("\n").map((t=>{const e=t.match(/^\s+/);if(null===e)return t;const[i]=e;return i.length>=o.length?t.slice(o.length):t})).join("\n")}(t,e[3]||"");return{type:"code",raw:t,lang:e[2]?e[2].trim().replace(this.rules.inline._escapes,"$1"):e[2],text:i}}}heading(t){const e=this.rules.block.heading.exec(t);if(e){let t=e[2].trim();if(/#$/.test(t)){const e=Os(t,"#");this.options.pedantic?t=e.trim():e&&!/ $/.test(e)||(t=e.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(t){const e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:e[0]}}blockquote(t){const e=this.rules.block.blockquote.exec(t);if(e){const t=e[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const o=this.lexer.blockTokens(t);return this.lexer.state.top=i,{type:"blockquote",raw:e[0],tokens:o,text:t}}}list(t){let e=this.rules.block.list.exec(t);if(e){let i,o,n,s,r,a,l,d,c,h,p,u,m=e[1].trim();const g=m.length>1,f={type:"list",raw:"",ordered:g,start:g?+m.slice(0,-1):"",loose:!1,items:[]};m=g?`\\d{1,9}\\${m.slice(-1)}`:`\\${m}`,this.options.pedantic&&(m=g?m:"[*+-]");const v=new RegExp(`^( {0,3}${m})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;t&&(u=!1,e=v.exec(t))&&!this.rules.block.hr.test(t);){if(i=e[0],t=t.substring(i.length),d=e[2].split("\n",1)[0].replace(/^\t+/,(t=>" ".repeat(3*t.length))),c=t.split("\n",1)[0],this.options.pedantic?(s=2,p=d.trimLeft()):(s=e[2].search(/[^ ]/),s=s>4?1:s,p=d.slice(s),s+=e[1].length),a=!1,!d&&/^ *$/.test(c)&&(i+=c+"\n",t=t.substring(c.length+1),u=!0),!u){const e=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),o=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),n=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),r=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;t&&(h=t.split("\n",1)[0],c=h,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!n.test(c))&&!r.test(c)&&!e.test(c)&&!o.test(t);){if(c.search(/[^ ]/)>=s||!c.trim())p+="\n"+c.slice(s);else{if(a)break;if(d.search(/[^ ]/)>=4)break;if(n.test(d))break;if(r.test(d))break;if(o.test(d))break;p+="\n"+c}a||c.trim()||(a=!0),i+=h+"\n",t=t.substring(h.length+1),d=c.slice(s)}}f.loose||(l?f.loose=!0:/\n *\n *$/.test(i)&&(l=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(p),o&&(n="[ ] "!==o[0],p=p.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:i,task:!!o,checked:n,loose:!1,text:p}),f.raw+=i}f.items[f.items.length-1].raw=i.trimRight(),f.items[f.items.length-1].text=p.trimRight(),f.raw=f.raw.trimRight();const y=f.items.length;for(r=0;r<y;r++)if(this.lexer.state.top=!1,f.items[r].tokens=this.lexer.blockTokens(f.items[r].text,[]),!f.loose){const t=f.items[r].tokens.filter((t=>"space"===t.type)),e=t.length>0&&t.some((t=>/\n.*\n/.test(t.raw)));f.loose=e}if(f.loose)for(r=0;r<y;r++)f.items[r].loose=!0;return f}}html(t){const e=this.rules.block.html.exec(t);if(e){const t={type:"html",raw:e[0],pre:!this.options.sanitizer&&("pre"===e[1]||"script"===e[1]||"style"===e[1]),text:e[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(e[0]):fs(e[0]);t.type="paragraph",t.text=i,t.tokens=this.lexer.inline(i)}return t}}def(t){const e=this.rules.block.def.exec(t);if(e){const t=e[1].toLowerCase().replace(/\s+/g," "),i=e[2]?e[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",o=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline._escapes,"$1"):e[3];return{type:"def",tag:t,raw:e[0],href:i,title:o}}}table(t){const e=this.rules.block.table.exec(t);if(e){const t={type:"table",header:As(e[1]).map((t=>({text:t}))),align:e[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:e[3]&&e[3].trim()?e[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(t.header.length===t.align.length){t.raw=e[0];let i,o,n,s,r=t.align.length;for(i=0;i<r;i++)/^ *-+: *$/.test(t.align[i])?t.align[i]="right":/^ *:-+: *$/.test(t.align[i])?t.align[i]="center":/^ *:-+ *$/.test(t.align[i])?t.align[i]="left":t.align[i]=null;for(r=t.rows.length,i=0;i<r;i++)t.rows[i]=As(t.rows[i],t.header.length).map((t=>({text:t})));for(r=t.header.length,o=0;o<r;o++)t.header[o].tokens=this.lexer.inline(t.header[o].text);for(r=t.rows.length,o=0;o<r;o++)for(s=t.rows[o],n=0;n<s.length;n++)s[n].tokens=this.lexer.inline(s[n].text);return t}}}lheading(t){const e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:"="===e[2].charAt(0)?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){const e=this.rules.block.paragraph.exec(t);if(e){const t="\n"===e[1].charAt(e[1].length-1)?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:t,tokens:this.lexer.inline(t)}}}text(t){const e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){const e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:fs(e[1])}}tag(t){const e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&/^<a /i.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(e[0]):fs(e[0]):e[0]}}link(t){const e=this.rules.inline.link.exec(t);if(e){const t=e[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;const e=Os(t.slice(0,-1),"\\");if((t.length-e.length)%2==0)return}else{const t=function(t,e){if(-1===t.indexOf(e[1]))return-1;const i=t.length;let o=0,n=0;for(;n<i;n++)if("\\"===t[n])n++;else if(t[n]===e[0])o++;else if(t[n]===e[1]&&(o--,o<0))return n;return-1}(e[2],"()");if(t>-1){const i=(0===e[0].indexOf("!")?5:4)+e[1].length+t;e[2]=e[2].substring(0,t),e[0]=e[0].substring(0,i).trim(),e[3]=""}}let i=e[2],o="";if(this.options.pedantic){const t=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);t&&(i=t[1],o=t[3])}else o=e[3]?e[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(i=this.options.pedantic&&!/>$/.test(t)?i.slice(1):i.slice(1,-1)),zs(e,{href:i?i.replace(this.rules.inline._escapes,"$1"):i,title:o?o.replace(this.rules.inline._escapes,"$1"):o},e[0],this.lexer)}}reflink(t,e){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){let t=(i[2]||i[1]).replace(/\s+/g," ");if(t=e[t.toLowerCase()],!t){const t=i[0].charAt(0);return{type:"text",raw:t,text:t}}return zs(i,t,i[0],this.lexer)}}emStrong(t,e,i=""){let o=this.rules.inline.emStrong.lDelim.exec(t);if(!o)return;if(o[3]&&i.match(/[\p{L}\p{N}]/u))return;const n=o[1]||o[2]||"";if(!n||n&&(""===i||this.rules.inline.punctuation.exec(i))){const i=o[0].length-1;let n,s,r=i,a=0;const l="*"===o[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,e=e.slice(-1*t.length+i);null!=(o=l.exec(e));){if(n=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!n)continue;if(s=n.length,o[3]||o[4]){r+=s;continue}if((o[5]||o[6])&&i%3&&!((i+s)%3)){a+=s;continue}if(r-=s,r>0)continue;s=Math.min(s,s+r+a);const e=t.slice(0,i+o.index+(o[0].length-n.length)+s);if(Math.min(i,s)%2){const t=e.slice(1,-1);return{type:"em",raw:e,text:t,tokens:this.lexer.inlineTokens(t)}}const l=e.slice(2,-2);return{type:"strong",raw:e,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(t){const e=this.rules.inline.code.exec(t);if(e){let t=e[2].replace(/\n/g," ");const i=/[^ ]/.test(t),o=/^ /.test(t)&&/ $/.test(t);return i&&o&&(t=t.substring(1,t.length-1)),t=fs(t,!0),{type:"codespan",raw:e[0],text:t}}}br(t){const e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){const e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t,e){const i=this.rules.inline.autolink.exec(t);if(i){let t,o;return"@"===i[2]?(t=fs(this.options.mangle?e(i[1]):i[1]),o="mailto:"+t):(t=fs(i[1]),o=t),{type:"link",raw:i[0],text:t,href:o,tokens:[{type:"text",raw:t,text:t}]}}}url(t,e){let i;if(i=this.rules.inline.url.exec(t)){let t,o;if("@"===i[2])t=fs(this.options.mangle?e(i[0]):i[0]),o="mailto:"+t;else{let e;do{e=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0]}while(e!==i[0]);t=fs(i[0]),o="www."===i[1]?"http://"+i[0]:i[0]}return{type:"link",raw:i[0],text:t,href:o,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(t,e){const i=this.rules.inline.text.exec(t);if(i){let t;return t=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):fs(i[0]):i[0]:fs(this.options.smartypants?e(i[0]):i[0]),{type:"text",raw:i[0],text:t}}}}const Ms={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Is,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};Ms.def=_s(Ms.def).replace("label",Ms._label).replace("title",Ms._title).getRegex(),Ms.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ms.listItemStart=_s(/^( *)(bull) */).replace("bull",Ms.bullet).getRegex(),Ms.list=_s(Ms.list).replace(/bull/g,Ms.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ms.def.source+")").getRegex(),Ms._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ms._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ms.html=_s(Ms.html,"i").replace("comment",Ms._comment).replace("tag",Ms._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ms.paragraph=_s(Ms._paragraph).replace("hr",Ms.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ms._tag).getRegex(),Ms.blockquote=_s(Ms.blockquote).replace("paragraph",Ms.paragraph).getRegex(),Ms.normal=Ps({},Ms),Ms.gfm=Ps({},Ms.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ms.gfm.table=_s(Ms.gfm.table).replace("hr",Ms.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ms._tag).getRegex(),Ms.gfm.paragraph=_s(Ms._paragraph).replace("hr",Ms.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ms.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ms._tag).getRegex(),Ms.pedantic=Ps({},Ms.normal,{html:_s("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",Ms._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Is,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:_s(Ms.normal._paragraph).replace("hr",Ms.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",Ms.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const Ns={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Is,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Is,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function Rs(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Us(t){let e,i,o="";const n=t.length;for(e=0;e<n;e++)i=t.charCodeAt(e),Math.random()>.5&&(i="x"+i.toString(16)),o+="&#"+i+";";return o}Ns._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",Ns.punctuation=_s(Ns.punctuation).replace(/punctuation/g,Ns._punctuation).getRegex(),Ns.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,Ns.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,Ns._comment=_s(Ms._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),Ns.emStrong.lDelim=_s(Ns.emStrong.lDelim).replace(/punct/g,Ns._punctuation).getRegex(),Ns.emStrong.rDelimAst=_s(Ns.emStrong.rDelimAst,"g").replace(/punct/g,Ns._punctuation).getRegex(),Ns.emStrong.rDelimUnd=_s(Ns.emStrong.rDelimUnd,"g").replace(/punct/g,Ns._punctuation).getRegex(),Ns._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,Ns._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,Ns._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,Ns.autolink=_s(Ns.autolink).replace("scheme",Ns._scheme).replace("email",Ns._email).getRegex(),Ns._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,Ns.tag=_s(Ns.tag).replace("comment",Ns._comment).replace("attribute",Ns._attribute).getRegex(),Ns._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ns._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,Ns._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,Ns.link=_s(Ns.link).replace("label",Ns._label).replace("href",Ns._href).replace("title",Ns._title).getRegex(),Ns.reflink=_s(Ns.reflink).replace("label",Ns._label).replace("ref",Ms._label).getRegex(),Ns.nolink=_s(Ns.nolink).replace("ref",Ms._label).getRegex(),Ns.reflinkSearch=_s(Ns.reflinkSearch,"g").replace("reflink",Ns.reflink).replace("nolink",Ns.nolink).getRegex(),Ns.normal=Ps({},Ns),Ns.pedantic=Ps({},Ns.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:_s(/^!?\[(label)\]\((.*?)\)/).replace("label",Ns._label).getRegex(),reflink:_s(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ns._label).getRegex()}),Ns.gfm=Ps({},Ns.normal,{escape:_s(Ns.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),Ns.gfm.url=_s(Ns.gfm.url,"i").replace("email",Ns.gfm._extended_email).getRegex(),Ns.breaks=Ps({},Ns.gfm,{br:_s(Ns.br).replace("{2,}","*").getRegex(),text:_s(Ns.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});class js{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||ds,this.options.tokenizer=this.options.tokenizer||new Ds,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const e={block:Ms.normal,inline:Ns.normal};this.options.pedantic?(e.block=Ms.pedantic,e.inline=Ns.pedantic):this.options.gfm&&(e.block=Ms.gfm,this.options.breaks?e.inline=Ns.breaks:e.inline=Ns.gfm),this.tokenizer.rules=e}static get rules(){return{block:Ms,inline:Ns}}static lex(t,e){return new js(e).lex(t)}static lexInline(t,e){return new js(e).inlineTokens(t)}lex(t){let e;for(t=t.replace(/\r\n|\r/g,"\n"),this.blockTokens(t,this.tokens);e=this.inlineQueue.shift();)this.inlineTokens(e.src,e.tokens);return this.tokens}blockTokens(t,e=[]){let i,o,n,s;for(t=this.options.pedantic?t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t.replace(/^( *)(\t+)/gm,((t,e,i)=>e+"    ".repeat(i.length)));t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((o=>!!(i=o.call({lexer:this},t,e))&&(t=t.substring(i.raw.length),e.push(i),!0)))))if(i=this.tokenizer.space(t))t=t.substring(i.raw.length),1===i.raw.length&&e.length>0?e[e.length-1].raw+="\n":e.push(i);else if(i=this.tokenizer.code(t))t=t.substring(i.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?e.push(i):(o.raw+="\n"+i.raw,o.text+="\n"+i.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(i=this.tokenizer.fences(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.heading(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.hr(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.blockquote(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.list(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.html(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.def(t))t=t.substring(i.raw.length),o=e[e.length-1],!o||"paragraph"!==o.type&&"text"!==o.type?this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title}):(o.raw+="\n"+i.raw,o.text+="\n"+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text);else if(i=this.tokenizer.table(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.lheading(t))t=t.substring(i.raw.length),e.push(i);else{if(n=t,this.options.extensions&&this.options.extensions.startBlock){let e=1/0;const i=t.slice(1);let o;this.options.extensions.startBlock.forEach((function(t){o=t.call({lexer:this},i),"number"==typeof o&&o>=0&&(e=Math.min(e,o))})),e<1/0&&e>=0&&(n=t.substring(0,e+1))}if(this.state.top&&(i=this.tokenizer.paragraph(n)))o=e[e.length-1],s&&"paragraph"===o.type?(o.raw+="\n"+i.raw,o.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(i),s=n.length!==t.length,t=t.substring(i.raw.length);else if(i=this.tokenizer.text(t))t=t.substring(i.raw.length),o=e[e.length-1],o&&"text"===o.type?(o.raw+="\n"+i.raw,o.text+="\n"+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):e.push(i);else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}return this.state.top=!0,e}inline(t,e=[]){return this.inlineQueue.push({src:t,tokens:e}),e}inlineTokens(t,e=[]){let i,o,n,s,r,a,l=t;if(this.tokens.links){const t=Object.keys(this.tokens.links);if(t.length>0)for(;null!=(s=this.tokenizer.rules.inline.reflinkSearch.exec(l));)t.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,s.index)+"["+Es("a",s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(s=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,s.index)+"["+Es("a",s[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(s=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,s.index+s[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;t;)if(r||(a=""),r=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((o=>!!(i=o.call({lexer:this},t,e))&&(t=t.substring(i.raw.length),e.push(i),!0)))))if(i=this.tokenizer.escape(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.tag(t))t=t.substring(i.raw.length),o=e[e.length-1],o&&"text"===i.type&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):e.push(i);else if(i=this.tokenizer.link(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.reflink(t,this.tokens.links))t=t.substring(i.raw.length),o=e[e.length-1],o&&"text"===i.type&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):e.push(i);else if(i=this.tokenizer.emStrong(t,l,a))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.codespan(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.br(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.del(t))t=t.substring(i.raw.length),e.push(i);else if(i=this.tokenizer.autolink(t,Us))t=t.substring(i.raw.length),e.push(i);else if(this.state.inLink||!(i=this.tokenizer.url(t,Us))){if(n=t,this.options.extensions&&this.options.extensions.startInline){let e=1/0;const i=t.slice(1);let o;this.options.extensions.startInline.forEach((function(t){o=t.call({lexer:this},i),"number"==typeof o&&o>=0&&(e=Math.min(e,o))})),e<1/0&&e>=0&&(n=t.substring(0,e+1))}if(i=this.tokenizer.inlineText(n,Rs))t=t.substring(i.raw.length),"_"!==i.raw.slice(-1)&&(a=i.raw.slice(-1)),r=!0,o=e[e.length-1],o&&"text"===o.type?(o.raw+=i.raw,o.text+=i.text):e.push(i);else if(t){const e="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(e);break}throw new Error(e)}}else t=t.substring(i.raw.length),e.push(i);return e}}class Vs{constructor(t){this.options=t||ds}code(t,e,i){const o=(e||"").match(/\S*/)[0];if(this.options.highlight){const e=this.options.highlight(t,o);null!=e&&e!==t&&(i=!0,t=e)}return t=t.replace(/\n$/,"")+"\n",o?'<pre><code class="'+this.options.langPrefix+fs(o)+'">'+(i?t:fs(t,!0))+"</code></pre>\n":"<pre><code>"+(i?t:fs(t,!0))+"</code></pre>\n"}blockquote(t){return`<blockquote>\n${t}</blockquote>\n`}html(t){return t}heading(t,e,i,o){if(this.options.headerIds){return`<h${e} id="${this.options.headerPrefix+o.slug(i)}">${t}</h${e}>\n`}return`<h${e}>${t}</h${e}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(t,e,i){const o=e?"ol":"ul";return"<"+o+(e&&1!==i?' start="'+i+'"':"")+">\n"+t+"</"+o+">\n"}listitem(t){return`<li>${t}</li>\n`}checkbox(t){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(t){return`<p>${t}</p>\n`}table(t,e){return e&&(e=`<tbody>${e}</tbody>`),"<table>\n<thead>\n"+t+"</thead>\n"+e+"</table>\n"}tablerow(t){return`<tr>\n${t}</tr>\n`}tablecell(t,e){const i=e.header?"th":"td";return(e.align?`<${i} align="${e.align}">`:`<${i}>`)+t+`</${i}>\n`}strong(t){return`<strong>${t}</strong>`}em(t){return`<em>${t}</em>`}codespan(t){return`<code>${t}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(t){return`<del>${t}</del>`}link(t,e,i){if(null===(t=ks(this.options.sanitize,this.options.baseUrl,t)))return i;let o='<a href="'+t+'"';return e&&(o+=' title="'+e+'"'),o+=">"+i+"</a>",o}image(t,e,i){if(null===(t=ks(this.options.sanitize,this.options.baseUrl,t)))return i;let o=`<img src="${t}" alt="${i}"`;return e&&(o+=` title="${e}"`),o+=this.options.xhtml?"/>":">",o}text(t){return t}}class Fs{strong(t){return t}em(t){return t}codespan(t){return t}del(t){return t}html(t){return t}text(t){return t}link(t,e,i){return""+i}image(t,e,i){return""+i}br(){return""}}class Gs{constructor(){this.seen={}}serialize(t){return t.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(t,e){let i=t,o=0;if(this.seen.hasOwnProperty(i)){o=this.seen[t];do{o++,i=t+"-"+o}while(this.seen.hasOwnProperty(i))}return e||(this.seen[t]=o,this.seen[i]=0),i}slug(t,e={}){const i=this.serialize(t);return this.getNextSafeSlug(i,e.dryrun)}}class Bs{constructor(t){this.options=t||ds,this.options.renderer=this.options.renderer||new Vs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Fs,this.slugger=new Gs}static parse(t,e){return new Bs(e).parse(t)}static parseInline(t,e){return new Bs(e).parseInline(t)}parse(t,e=!0){let i,o,n,s,r,a,l,d,c,h,p,u,m,g,f,v,y,b,_,w="";const x=t.length;for(i=0;i<x;i++)if(h=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(_=this.options.extensions.renderers[h.type].call({parser:this},h),!1!==_||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type)))w+=_||"";else switch(h.type){case"space":continue;case"hr":w+=this.renderer.hr();continue;case"heading":w+=this.renderer.heading(this.parseInline(h.tokens),h.depth,ys(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue;case"code":w+=this.renderer.code(h.text,h.lang,h.escaped);continue;case"table":for(d="",l="",s=h.header.length,o=0;o<s;o++)l+=this.renderer.tablecell(this.parseInline(h.header[o].tokens),{header:!0,align:h.align[o]});for(d+=this.renderer.tablerow(l),c="",s=h.rows.length,o=0;o<s;o++){for(a=h.rows[o],l="",r=a.length,n=0;n<r;n++)l+=this.renderer.tablecell(this.parseInline(a[n].tokens),{header:!1,align:h.align[n]});c+=this.renderer.tablerow(l)}w+=this.renderer.table(d,c);continue;case"blockquote":c=this.parse(h.tokens),w+=this.renderer.blockquote(c);continue;case"list":for(p=h.ordered,u=h.start,m=h.loose,s=h.items.length,c="",o=0;o<s;o++)f=h.items[o],v=f.checked,y=f.task,g="",f.task&&(b=this.renderer.checkbox(v),m?f.tokens.length>0&&"paragraph"===f.tokens[0].type?(f.tokens[0].text=b+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&"text"===f.tokens[0].tokens[0].type&&(f.tokens[0].tokens[0].text=b+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:b}):g+=b),g+=this.parse(f.tokens,m),c+=this.renderer.listitem(g,y,v);w+=this.renderer.list(c,p,u);continue;case"html":w+=this.renderer.html(h.text);continue;case"paragraph":w+=this.renderer.paragraph(this.parseInline(h.tokens));continue;case"text":for(c=h.tokens?this.parseInline(h.tokens):h.text;i+1<x&&"text"===t[i+1].type;)h=t[++i],c+="\n"+(h.tokens?this.parseInline(h.tokens):h.text);w+=e?this.renderer.paragraph(c):c;continue;default:{const t='Token with "'+h.type+'" type was not found.';if(this.options.silent)return void console.error(t);throw new Error(t)}}return w}parseInline(t,e){e=e||this.renderer;let i,o,n,s="";const r=t.length;for(i=0;i<r;i++)if(o=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(n=this.options.extensions.renderers[o.type].call({parser:this},o),!1!==n||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)))s+=n||"";else switch(o.type){case"escape":case"text":s+=e.text(o.text);break;case"html":s+=e.html(o.text);break;case"link":s+=e.link(o.href,o.title,this.parseInline(o.tokens,e));break;case"image":s+=e.image(o.href,o.title,o.text);break;case"strong":s+=e.strong(this.parseInline(o.tokens,e));break;case"em":s+=e.em(this.parseInline(o.tokens,e));break;case"codespan":s+=e.codespan(o.text);break;case"br":s+=e.br();break;case"del":s+=e.del(this.parseInline(o.tokens,e));break;default:{const t='Token with "'+o.type+'" type was not found.';if(this.options.silent)return void console.error(t);throw new Error(t)}}return s}}function Hs(t,e,i){if(null==t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if("function"==typeof e&&(i=e,e=null),Ls(e=Ps({},Hs.defaults,e||{})),i){const o=e.highlight;let n;try{n=js.lex(t,e)}catch(t){return i(t)}const s=function(t){let s;if(!t)try{e.walkTokens&&Hs.walkTokens(n,e.walkTokens),s=Bs.parse(n,e)}catch(e){t=e}return e.highlight=o,t?i(t):i(null,s)};if(!o||o.length<3)return s();if(delete e.highlight,!n.length)return s();let r=0;return Hs.walkTokens(n,(function(t){"code"===t.type&&(r++,setTimeout((()=>{o(t.text,t.lang,(function(e,i){if(e)return s(e);null!=i&&i!==t.text&&(t.text=i,t.escaped=!0),r--,0===r&&s()}))}),0))})),void(0===r&&s())}function o(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+fs(t.message+"",!0)+"</pre>";throw t}try{const i=js.lex(t,e);if(e.walkTokens){if(e.async)return Promise.all(Hs.walkTokens(i,e.walkTokens)).then((()=>Bs.parse(i,e))).catch(o);Hs.walkTokens(i,e.walkTokens)}return Bs.parse(i,e)}catch(t){o(t)}}Hs.options=Hs.setOptions=function(t){var e;return Ps(Hs.defaults,t),e=Hs.defaults,ds=e,Hs},Hs.getDefaults=ls,Hs.defaults=ds,Hs.use=function(...t){const e=Hs.defaults.extensions||{renderers:{},childTokens:{}};t.forEach((t=>{const i=Ps({},t);if(i.async=Hs.defaults.async||i.async,t.extensions&&(t.extensions.forEach((t=>{if(!t.name)throw new Error("extension name required");if(t.renderer){const i=e.renderers[t.name];e.renderers[t.name]=i?function(...e){let o=t.renderer.apply(this,e);return!1===o&&(o=i.apply(this,e)),o}:t.renderer}if(t.tokenizer){if(!t.level||"block"!==t.level&&"inline"!==t.level)throw new Error("extension level must be 'block' or 'inline'");e[t.level]?e[t.level].unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&("block"===t.level?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:"inline"===t.level&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}t.childTokens&&(e.childTokens[t.name]=t.childTokens)})),i.extensions=e),t.renderer){const e=Hs.defaults.renderer||new Vs;for(const i in t.renderer){const o=e[i];e[i]=(...n)=>{let s=t.renderer[i].apply(e,n);return!1===s&&(s=o.apply(e,n)),s}}i.renderer=e}if(t.tokenizer){const e=Hs.defaults.tokenizer||new Ds;for(const i in t.tokenizer){const o=e[i];e[i]=(...n)=>{let s=t.tokenizer[i].apply(e,n);return!1===s&&(s=o.apply(e,n)),s}}i.tokenizer=e}if(t.walkTokens){const e=Hs.defaults.walkTokens;i.walkTokens=function(i){let o=[];return o.push(t.walkTokens.call(this,i)),e&&(o=o.concat(e.call(this,i))),o}}Hs.setOptions(i)}))},Hs.walkTokens=function(t,e){let i=[];for(const o of t)switch(i=i.concat(e.call(Hs,o)),o.type){case"table":for(const t of o.header)i=i.concat(Hs.walkTokens(t.tokens,e));for(const t of o.rows)for(const o of t)i=i.concat(Hs.walkTokens(o.tokens,e));break;case"list":i=i.concat(Hs.walkTokens(o.items,e));break;default:Hs.defaults.extensions&&Hs.defaults.extensions.childTokens&&Hs.defaults.extensions.childTokens[o.type]?Hs.defaults.extensions.childTokens[o.type].forEach((function(t){i=i.concat(Hs.walkTokens(o[t],e))})):o.tokens&&(i=i.concat(Hs.walkTokens(o.tokens,e)))}return i},Hs.parseInline=function(t,e){if(null==t)throw new Error("marked.parseInline(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");Ls(e=Ps({},Hs.defaults,e||{}));try{const i=js.lexInline(t,e);return e.walkTokens&&Hs.walkTokens(i,e.walkTokens),Bs.parseInline(i,e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",e.silent)return"<p>An error occurred:</p><pre>"+fs(t.message+"",!0)+"</pre>";throw t}},Hs.Parser=Bs,Hs.parser=Bs.parse,Hs.Renderer=Vs,Hs.TextRenderer=Fs,Hs.Lexer=js,Hs.lexer=js.lex,Hs.Tokenizer=Ds,Hs.Slugger=Gs,Hs.parse=Hs,Hs.options,Hs.setOptions,Hs.use,Hs.walkTokens,Hs.parseInline,Bs.parse,js.lex,Hs.setOptions({gfm:!0});class Ws extends Oi{sanitizeHTMLWithOptions(t,e){return t}closeCodeBlockIfNeeded(t){return(t.match(new RegExp("```","g"))||[]).length%2!=0&&(t+="\n```"),t}removeCitations(t){return t.replace(/<code>(.*?)<\/code>/g,((t,e)=>`<code>${e.replace(/<span class="postCitation">(\d+)<\/span>/g,"")}</code>`))}render(t,e){const i=Object.assign(Ws.defaultOptions,e??{});t=this.closeCodeBlockIfNeeded(t),new Promise(((e,i)=>{Hs.parse(t,((t,o)=>{if(t)return i(t);e(`\n            <style>\n            \n          table {\n            border-collapse: collapse;\n            border-radius: 5px;\n            background-color: var(--md-sys-color-primary-container);\n            color: var(--md-sys-color-on-primary-container);\n            margin: 16px;\n            width: 100%;\n          }\n\n          img {\n            width: 200px;\n            height: 113px;\n            object-fit: cover;\n          }\n\n\n          ol {\n            margin: 8px;\n          }\n\n          @media (max-width: 800px) {\n            ol {\n              padding: 0px;\n            }\n          }\n\n          th, td {\n            padding: 8px;\n            text-align: left;\n            vertical-align: top;\n          }\n\n          th {\n            font-weight: bold;\n            background-color: var(--md-sys-color-primary-container);\n            color: var(--md-sys-color-on-primary-container);\n          }\n\n          tr:nth-child(even) {\n          }\n\n          tr:hover {\n          }\n\n          p {\n            margin-top: 8px;\n            margin-bottom: 8px;\n          }\n\n          pre {\n            white-space: pre-wrap;\n            white-space: -moz-pre-wrap;\n          }\n        \n          </style>\n          ${o}\n        `)}))})).then((t=>i.skipSanitization?Promise.resolve(t):Promise.resolve(this.sanitizeHTMLWithOptions(t,i)))).then((t=>{let e=as(t);this.setValue(e)}));const o=i.skipSanitization?i.loadingHTML:this.sanitizeHTMLWithOptions(i.loadingHTML,i);return as(o)}}Ws.defaultOptions={includeImages:!1,includeCodeBlockClassNames:!1,loadingHTML:"<p>Loading...</p>",skipSanitization:!1};const qs=At(Ws);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qs extends wn{constructor(){super(...arguments),this.disabled=!1}getRenderClasses(){return{"md3-button--icon-leading":this.hasIcon}}render(){return N` <span class="md3-link-button-wrapper"> <a class="md3-button ${Lt(this.getRenderClasses())}" href="${bt(this.href)}" target="${bt(this.target)}" aria-label="${bt(this.ariaLabel)}" @focus="${this.handleFocus}" @blur="${this.handleBlur}" @pointerdown="${this.handlePointerDown}" @click="${this.handleClick}" ${se(this.getRipple)}> ${this.renderFocusRing()} ${this.renderElevation()} ${ne(this.showRipple,this.renderRipple)} ${this.renderOutline()} ${this.renderTouchTarget()} ${this.renderIcon()} ${this.renderLabel()}</a> </span>`}}t([lt({type:String}),e("design:type",String)],Qs.prototype,"href",void 0),t([lt({type:String}),e("design:type",String)],Qs.prototype,"target",void 0);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Js extends Qs{getRenderClasses(){return{...super.getRenderClasses(),"md3-button--outlined":!0}}renderOutline(){return N`<span class="md3-button__outline"></span>`}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Zs=class extends Js{};Zs.styles=[$n,On],Zs=t([rt("md-outlined-link-button")],Zs);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class Ks extends Qs{getRenderClasses(){return{...super.getRenderClasses(),"md3-button--elevated":!0}}renderElevation(){return N`<md-elevation shadow surface></md-elevation>`}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Ys=class extends Ks{};Ys.styles=[$n,Cn,kn],Ys=t([rt("md-elevated-link-button")],Ys);let Xs=class extends Ci{constructor(){super(...arguments),this.active=!0,this.fullReferencesOpen=!1,this.followUpQuestionsRaw="",this.followUpQuestions=[],this.postIds=[],this.posts=[]}static get styles(){return[Ko,a`:host{display:flex}.chatImage{padding:8px;vertical-align:text-top}.robotIcon{font-size:34px}.chatText{padding:8px;padding-left:8px;margin-top:0;padding-top:2px}.chatTextUser{padding-top:12px}.userChatDialog{color:var(--md-sys-color-on-primary);background-color:var(--md-sys-color-primary);padding:8px;margin:16px;line-height:1.35;margin-bottom:0;border-radius:12px}.post{margin:8px;padding:12px;border-radius:24px;margin-right:0;background-color:var(--md-sys-color-secondary);color:var(--md-sys-color-on-secondary);cursor:pointer}.postShowMore{padding-left:16px;padding-right:16px}.postImage{height:28px;width:50px}.postName{display:flex;justify-content:center;align-content:center;flex-direction:column;margin-right:8px}.chatGPTDialogContainer{max-width:100%;width:100%}.chatGPTDialog{color:var(--md-sys-color-on-primary-container);background-color:var(--md-sys-color-primary-container);padding:8px;margin:16px;line-height:1.35;margin-bottom:0;border-radius:10px;max-width:75%;margin-top:12px}@media (max-width:800px){.chatGPTDialog{margin:8px;max-width:100%}}.chatGPTDialog[error]{background-color:var(--md-sys-color-error);color:var(--md-sys-color-on-error)}.followup-question-container{margin-top:12px;width:100%;align-self:flex-end;justify-content:flex-end;margin-right:32px;width:100%}.posts{margin-top:8px}.followup-question{padding:0;margin:6px}.chat-message{flex:1}.thinkingText{margin-top:4px;color:var(--md-sys-color-secondary)}.thinkingText[active]{color:var(--md-sys-color-primary)}.doneIcon{margin-left:16px;margin-right:4px;color:var(--md-sys-color-secondary);font-size:28px}.postCitation{font-size:9px;background-color:var(--md-sys-color-inverse-on-surface);color:var(--md-sys-color-primary);padding:3px}.followUpQuestionMark{color:var(--md-sys-color-primary);font-size:36px;margin-top:8px}.citationLink{margin-left:8px;margin-bottom:8px}.progress-ring{transform:rotate(-90deg);color:var(--md-sys-color-secondary);transform-origin:50% 50%;margin-left:16px;margin-right:4px}.progress-ring__circle{stroke:var(--md-sys-color-primary);stroke-dasharray:75.4;stroke-dashoffset:75.4;stroke-linecap:round;animation:progress-ring 2.5s infinite}@keyframes progress-ring{0%{stroke-dashoffset:75.4}50%{stroke-dashoffset:0;transform:rotate(0)}}`]}get isError(){return"error"==this.type||"moderation_error"==this.type}renderCGImage(){return N` <md-icon class="robotIcon">smart_toy</md-icon> `}renderRoboImage(){return N` <md-icon class="robotIcon">person</md-icon> `}getPosts(){return this.fullReferencesOpen?this.posts:this.posts.slice(0,5)}renderChatGPT(){return N` <div class="layout vertical chatGPTDialogContainer"> <div class="chatGPTDialog layout vertical bot-message" ?error="${this.isError}"> <div class="layout horizontal"> <div class="layout vertical chatImage">${this.renderCGImage()}</div> <div class="layout vertical chatText"> ${qs(this.message,{includeImages:!0,includeCodeBlockClassNames:!0})} </div> </div> ${this.posts&&this.posts.length>0?N` <div class="layout horizontal posts wrap"> ${this.getPosts().map(((t,e)=>N` <md-elevated-link-button .label="${e+1}. ${t.emojiSummary}" @click="${()=>this.fire("open-posts",{posts:this.posts,index:e})}" class="citationLink layout horizontal center-justified"> <img src="${t.imageUrl}" class="postImage"> </md-elevated-link-button> `))} ${this.posts.length>5&&!this.fullReferencesOpen?N` <md-elevated-link-button class="citationLink" .label="+${this.posts.length-4}" @click="${()=>this.fullReferencesOpen=!0}" class=""> +${this.posts.length-5} </md-elevated-link-button> `:U} ${this.fullReferencesOpen?N` <md-elevated-link-button label="<" class="citationLink" icon="unfold_less" @click="${()=>this.fullReferencesOpen=!1}" class=""> <md-icon>unfold_less</md-icon> </md-elevated-link-button> `:U} </div> `:U} </div> ${this.followUpQuestions&&this.followUpQuestions.length>0?N` <div class="layout horizontal followup-question-container wrap"> <md-icon class="followUpQuestionMark">contact_support</md-icon>${this.followUpQuestions.map((t=>N` <md-outlined-link-button class="followup-question" .label="${t}" @click="${()=>this.fire("followup-question",t)}"></md-outlined-link-button> `))} </div> `:U} </div> `}parseFollowUpQuestions(){this.followUpQuestionsRaw=this.followUpQuestionsRaw.replace(/<<([^>>]+)>>/g,((t,e)=>(this.followUpQuestions.push(e),"")))}checkPosts(){if(this.posts&&this.postIds&&this.posts.length<this.postIds.length){const t=this.postIds[this.postIds.length-1];fetch(`/api/v1/posts/${this.clusterId}/${t}`,{headers:{"Content-Type":"application/json"}}).then((t=>t.json())).then((t=>{this.posts.push(t)}))}}updated(t){super.updated(t),t.has("followUpQuestionsRaw")&&this.followUpQuestionsRaw&&this.parseFollowUpQuestions(),t.has("postIds")&&this.checkPosts()}renderUser(){return N` <div class="userChatDialog layout horizontal user-message"> <div class="layout vertical chatImage">${this.renderRoboImage()}</div> <div class="layout vertical chatText chatTextUser">${this.message}</div> </div> `}renderThinking(){return N`${this.active?N`<svg class="progress-ring" width="28" height="28"> <circle class="progress-ring__circle" ?active="${this.active}" stroke="blue" stroke-width="2" fill="transparent" r="10" cx="12" cy="12"/> </svg>`:N`<md-icon class="doneIcon">done</md-icon>`} <div class="thinkingText" ?active="${this.active}">${this.getThinkingText()}</div> `}getThinkingText(){return"es"==this.detectedLanguage?"Mõeldes...":"is"==this.detectedLanguage?"Hugsa...":"Thinking..."}renderMessage(){return"you"===this.sender?this.renderUser():"bot"===this.sender&&"thinking"===this.type?this.renderThinking():"bot"===this.sender?this.renderChatGPT():void 0}render(){return N` ${this.renderMessage()} `}};t([lt({type:String}),e("design:type",String)],Xs.prototype,"message",void 0),t([lt({type:String}),e("design:type",String)],Xs.prototype,"sender",void 0),t([lt({type:String}),e("design:type",String)],Xs.prototype,"detectedLanguage",void 0),t([lt({type:Number}),e("design:type",Number)],Xs.prototype,"clusterId",void 0),t([lt({type:String}),e("design:type",String)],Xs.prototype,"type",void 0),t([lt({type:Boolean}),e("design:type",Object)],Xs.prototype,"active",void 0),t([lt({type:Boolean}),e("design:type",Object)],Xs.prototype,"fullReferencesOpen",void 0),t([lt({type:String}),e("design:type",String)],Xs.prototype,"followUpQuestionsRaw",void 0),t([lt({type:Array}),e("design:type",Array)],Xs.prototype,"followUpQuestions",void 0),t([lt({type:Array}),e("design:type",Array)],Xs.prototype,"postIds",void 0),t([lt({type:Array}),e("design:type",Array)],Xs.prototype,"posts",void 0),Xs=t([rt("yp-ai-chat-element")],Xs);let tr=class extends Ci{constructor(){super(...arguments),this.chatLog=[],this.defaultInfoMessage="My Neighborhood Assistant is ready to help you.",this.inputIsFocused=!1,this.currentFollowUpQuestions=""}calcVH(){const t=Math.max(document.documentElement.clientHeight,window.innerHeight||0);this.chatWindow.setAttribute("style","height:"+t+"px;"),console.error("dijsaidjsiodjasiodjsoij")}connectedCallback(){this.infoMessage||(this.infoMessage=this.defaultInfoMessage);const t=window.location.href.split("/");this.clusterId=parseInt(t[t.length-3]),super.connectedCallback(),this.communityId=parseInt(t[t.length-2]),this.language=t[t.length-1],window.location.href.indexOf("localhost")>-1||window.location.href.indexOf("192.1.168")>-1?this.wsEndpoint=`ws://localhost:9000/chat/${this.clusterId}/${this.communityId}/${this.language}`:this.wsEndpoint=`wss://sp4.betrireykjavik.is:443/chat/${this.clusterId}/${this.communityId}/${this.language}`,this.ws=new WebSocket(this.wsEndpoint),this.ws.onmessage=this.onMessage.bind(this),this.ws.onopen=this.onWsOpen.bind(this)}async getCommunity(){fetch(`/api/v1/communities/${this.clusterId}/${this.communityId}/${this.language}`).then((t=>t.json())).then((t=>{t?(this.fire("theme-color",t.themeMainColor),this.textInputLabel=t.textInputLabel,this.addChatBotElement({message:t.welcomeMessage,sender:"bot",type:"hello_message"})):console.error("Recommendation no post to save to cache")})).catch((t=>{console.error("Recommendation: Error in getting community",t)}))}onWsOpen(){this.reset(),this.getCommunity()}updated(t){super.updated(t),t.has("themeDarkMode")}disconnectedCallback(){this.ws.close(),super.disconnectedCallback()}async onMessage(t){const e=JSON.parse(t.data);switch(e.sender){case"bot":this.addChatBotElement(e);break;case"you":this.addChatUserElement(e)}"stream_followup"!==e.type&&this.scrollDown()}scrollDown(){setTimeout((()=>{this.$$("#chat-messages").scrollTop=this.$$("#chat-messages").scrollHeight}),100)}addToChatLogWithMessage(t,e=undefined,i=undefined,o=undefined){this.infoMessage=e,t.postIds=[],this.chatLog=[...this.chatLog,t],this.requestUpdate(),void 0!==i&&(this.sendButton.disabled=i),void 0!==o&&(this.sendButton.label=o)}addChatBotElement(t){const e=this.chatElements[this.chatElements.length-1];switch(t.type){case"hello_message":this.addToChatLogWithMessage(t);break;case"thinking":e.active=!0,this.addToChatLogWithMessage(t,this.t("Thinking..."));break;case"start":e.active=!1,this.addToChatLogWithMessage(t,this.t("Thinking..."));break;case"start_followup":e.followUpQuestionsRaw="";break;case"stream_followup":e.followUpQuestionsRaw+=t.message,this.requestUpdate();break;case"info":this.infoMessage=t.message;break;case"moderation_error":t.message="OpenAI Moderation Flag Error. Please refine your question.",this.addToChatLogWithMessage(t,t.message,!1,this.t("Send"));break;case"error":this.addToChatLogWithMessage(t,t.message,!1,this.t("Send"));break;case"end":this.sendButton.disabled=!1,this.sendButton.label=this.t("Send"),this.infoMessage=this.defaultInfoMessage;break;case"stream":this.infoMessage=this.t("typing"),this.chatLog[this.chatLog.length-1].message=this.chatLog[this.chatLog.length-1].message+t.message,this.chatLog[this.chatLog.length-1]=this.parsePosts(this.chatLog[this.chatLog.length-1]),this.requestUpdate()}}addChatUserElement(t){this.chatLog=[...this.chatLog,t]}async sendChatMessage(){const t=this.chatInputField.value;0!==t.length&&(this.ws.send(t),this.chatInputField.value="",this.sendButton.disabled=!1,this.sendButton.label=this.t("Thinking..."),setTimeout((()=>{this.chatInputField.blur()})))}parsePosts(t){return t.message=t.message.replace(/\[([^\]]+)\]/g,((e,i)=>(-1==t.postIds.indexOf(i)&&t.postIds.push(i),t.postIds=JSON.parse(JSON.stringify(t.postIds)),`<span class="postCitation">${t.postIds.length}</span>`))),t}static get styles(){return[Ko,a`md-textfield{width:600px;--mdc-theme-primary:var(--md-sys-color-primary);--mdc-text-field-ink-color:var(--md-sys-color-on-surface);--mdc-text-area-outlined-hover-border-color:var(
            --md-sys-color-on-surface
          );--mdc-text-area-outlined-idle-border-color:var(
            --md-sys-color-on-surface
          );--mdc-notched-outline-border-color:var(
            --md-sys-color-on-surface-variant
          )}md-outlined-text-field{width:350px}.infoMessage{margin-top:8px}.chat-window{display:flex;flex-direction:column;height:100vh;width:100%;max-width:1200px;margin:0 auto;border-radius:10px;overflow:hidden}.chat-messages{display:flex;flex-direction:column;flex:1;padding:20px;overflow-y:scroll}.you-chat-element{align-self:flex-end;max-width:80%;justify-content:flex-end;margin-right:32px}.bot-chat-element{align-self:flex-start;justify-content:flex-start;width:100%;max-width:100%}.chat-input{display:flex;align-items:center;justify-content:space-between;padding:10px}@media (max-width:600px){.chat-window{height:100dvh}.you-chat-element{margin-right:0}}md-tonal-button{padding:16px;padding-left:0;margin-top:0}.sendIcon{cursor:pointer}.restartButton{margin-left:16px}.darkModeButton{margin-right:16px}md-outlined-text-field{flex:1;border-radius:10px;border:none;padding:10px;margin:16px;margin-bottom:16px;margin-left:8px;margin-right:8px;width:650px}@media (max-width:960px){.restartButton{margin-left:8px;display:none}yp-ai-chat-element[thinking]{margin-top:12px}.darkModeButton{margin-right:8px;display:none}md-outlined-text-field{transition:transform .5s;width:400px}md-outlined-text-field[focused]{width:100%}}@media (max-width:450px){md-outlined-text-field{width:350px}md-outlined-text-field[focused]{width:100%}}@media (max-width:400px){md-outlined-text-field{width:320px}md-outlined-text-field[focused]{width:100%}}`]}followUpQuestion(t){this.chatInputField.value=t.detail,this.sendChatMessage()}reset(){this.chatLog=[],this.ws.send("<|--reset-chat--|>")}toggleDarkMode(){this.themeDarkMode=!this.themeDarkMode,this.fire("theme-dark-mode",this.themeDarkMode),this.requestUpdate()}renderChatInput(){return N` <md-outlined-link-icon-button class="restartButton" @click="${this.reset}" ?input-is-focused="${this.inputIsFocused}">restart_alt</md-outlined-link-icon-button> <md-outlined-text-field class="textInput" id="chatInput" @focus="${()=>this.inputIsFocused=!0}" @blur="${()=>this.inputIsFocused=!0}" @keyup="${t=>{"Enter"===t.key&&this.sendChatMessage()}}" .label="${this.textInputLabel}"> <md-icon class="sendIcon" @click="${this.sendChatMessage}" slot="trailingicon" id="sendButton" ?input-is-focused="${this.inputIsFocused}">send</md-icon> </md-outlined-text-field> ${this.themeDarkMode?N` <md-outlined-icon-button class="darkModeButton" @click="${this.toggleDarkMode}">light_mode</md-outlined-icon-button> `:N` <md-outlined-icon-button class="darkModeButton" @click="${this.toggleDarkMode}">dark_mode</md-outlined-icon-button> `} `}NOTUSEDrenderVirtualizer(){return N` <div class="chat-window" id="chat-window"> <div class="chat-messages" id="chat-messages"> <ul> ${Zi({items:this.chatLog,renderItem:t=>N`<li> <yp-ai-chat-element @followup-question="${this.followUpQuestion}" .clusterId="${this.clusterId}" .message="${t.message}" .type="${t.type}" .sender="${t.sender}" .postIds="${t.postIds}"></yp-ai-chat-element> </li>`})} </ul> </div> <div class="layout vertical"> <div class="infoMessage layout horizontal center-center"></div> <div class="chat-input layout vertical center-center"> ${this.renderChatInput()} </div> </div> </div> `}render(){return N` <div class="chat-window" id="chat-window"> <div class="chat-messages" id="chat-messages"> ${this.chatLog.map((t=>N` <yp-ai-chat-element ?thinking="${"thinking"===t.type}" @followup-question="${this.followUpQuestion}" .clusterId="${this.clusterId}" class="${t.sender}-chat-element" .detectedLanguage="${this.language}" .message="${t.message}" .type="${t.type}" .postIds="${t.postIds}" .sender="${t.sender}"></yp-ai-chat-element> `))} </div> <div class="layout horizontal center-center chat-input"> ${this.renderChatInput()} </div> </div> `}};t([lt({type:Array}),e("design:type",Array)],tr.prototype,"chatLog",void 0),t([lt({type:String}),e("design:type",String)],tr.prototype,"infoMessage",void 0),t([lt({type:String}),e("design:type",String)],tr.prototype,"defaultInfoMessage",void 0),t([lt({type:String}),e("design:type",String)],tr.prototype,"wsEndpoint",void 0),t([lt({type:Object}),e("design:type",WebSocket)],tr.prototype,"ws",void 0),t([lt({type:Boolean}),e("design:type",Object)],tr.prototype,"inputIsFocused",void 0),t([lt({type:Number}),e("design:type",Number)],tr.prototype,"clusterId",void 0),t([lt({type:Number}),e("design:type",Number)],tr.prototype,"communityId",void 0),t([lt({type:String}),e("design:type",String)],tr.prototype,"textInputLabel",void 0),t([lt({type:String}),e("design:type",String)],tr.prototype,"currentFollowUpQuestions",void 0),t([ht("#sendButton"),e("design:type",En)],tr.prototype,"sendButton",void 0),t([function(t){return ct({descriptor:e=>({get(){var e,i;return null!==(i=null===(e=this.renderRoot)||void 0===e?void 0:e.querySelectorAll(t))&&void 0!==i?i:[]},enumerable:!0,configurable:!0})})}("yp-ai-chat-element"),e("design:type",Array)],tr.prototype,"chatElements",void 0),t([ht("#chatInput"),e("design:type",ts)],tr.prototype,"chatInputField",void 0),t([ht("#chat-window"),e("design:type",HTMLElement)],tr.prototype,"chatWindow",void 0),tr=t([rt("yp-chat-assistant")],tr);
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
const er="close";class ir extends nt{constructor(){super(...arguments),this.open=!1,this.fullscreen=!1,this.fullscreenBreakpoint="(max-width: 600px), (max-height: 400px)",this.footerHidden=!1,this.stacked=!1,this.defaultAction=er,this.actionAttribute="dialogAction",this.focusAttribute="dialogFocus",this.scrimClickAction=er,this.escapeKeyAction=er,this.modeless=!1,this.draggable=!1,this.throttle=function(){const t=new Set;return async(e="",i,o=(async()=>{await new Promise(requestAnimationFrame)}))=>{t.has(e)||(t.add(e),await o(),t.has(e)&&(t.delete(e),i()))}}(),this.showingFullscreen=!1,this.showingOpen=!1,this.opening=!1,this.closing=!1,this.transition="grow-down",this.dragging=!1,this.dragMargin=8,this.fullscreenQueryListener=void 0}static setDocumentScrollingDisabled(t=!1){let{preventedScrollingCount:e,scrollbarTester:i}=ir;ir.preventedScrollingCount=e=Math.max(e+(Number(t)||-1),0);const o=Boolean(e),{style:n}=document.body;if(o&&"hidden"===n.overflow)return;void 0===i&&(ir.scrollbarTester=i=document.createElement("div"),i.style.cssText="position: absolute; height: 0; width: 100%; visibility: hidden; pointer-events: none;"),document.body.append(i);const{offsetWidth:s}=i;n.overflow=o?"hidden":"";const r=i.offsetWidth-s;i.remove(),n.paddingInlineEnd=o?`${r}px`:""}show(){this.open=!0}close(t=""){this.currentAction=t,this.open=!1}toggleShow(){this.open?this.close(this.currentAction):this.show()}getContentScrollInfo(){if(!this.hasUpdated)return{isScrollable:!1,isAtScrollTop:!0,isAtScrollBottom:!0};const{scrollTop:t,scrollHeight:e,offsetHeight:i,clientHeight:o}=this.contentElement;return{isScrollable:e>i,isAtScrollTop:0===t,isAtScrollBottom:Math.abs(Math.round(e-t)-o)<=2}}render(){const{isScrollable:t,isAtScrollTop:e,isAtScrollBottom:i}=this.getContentScrollInfo();return N` <dialog @close="${this.handleDialogDismiss}" @cancel="${this.handleDialogDismiss}" @click="${this.handleDialogClick}" class="dialog ${Lt({stacked:this.stacked,scrollable:t,"scroll-divider-header":!e,"scroll-divider-footer":!i,footerHidden:this.footerHidden})}" aria-labelledby="header" aria-describedby="content"> <div class="container ${Lt({dragging:this.dragging})}" @pointermove="${this.handlePointerMove}" @pointerup="${this.handleDragEnd}"> <header class="header"> <slot name="header"> <slot name="headline-prefix"></slot> <slot name="headline"></slot> <slot name="headline-suffix"></slot> </slot> </header> <section class="content" @scroll="${this.handleContentScroll}"> <slot></slot> </section> <footer class="footer"> <slot name="footer"></slot> </footer> <md-elevation surface></md-elevation> </div> </dialog>`}willUpdate(t){t.has("open")&&(this.opening=this.open,this.closing=!this.open&&t.get("open")),(t.has("fullscreen")||t.has("fullscreenBreakpoint"))&&this.updateFullscreen()}firstUpdated(){new ResizeObserver((()=>{this.showingOpen&&this.requestUpdate()})).observe(this.contentElement)}updated(t){if(t.get("draggable")&&!this.draggable&&(this.style.removeProperty("--_container-drag-inline-start"),this.style.removeProperty("--_container-drag-block-start")),this.reflectStateProp(t,"opening",this.opening),this.reflectStateProp(t,"closing",this.closing),this.reflectStateProp(t,"showingFullscreen",this.showingFullscreen,"showing-fullscreen"),this.reflectStateProp(t,"showingOpen",this.showingOpen,"showing-open"),!t.has("open"))return;!this.modeless&&this.open&&ir.setDocumentScrollingDisabled(this.open),this.open&&(this.contentElement.scrollTop=0,this.modeless?this.dialogElement.show():this.dialogElement.showModal());const e=void 0!==t.get("open");this.performTransition(e)}reflectStateProp(t,e,i,o){o??(o=e),t.has(e)&&(i?this.setAttribute(o,""):this.removeAttribute(o))}async performTransition(t){await this.updateComplete,this.showingOpen=this.open,t&&this.dispatchActionEvent(this.open?"opening":"closing");const e=function(t){const e=t.trim().match(/([\d.]+)(\s*s$)?/),i=e?.[1],o=e?.[2];return Number(i??0)*(o?1e3:1)}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */(getComputedStyle(this).getPropertyValue(this.open?"--_opening-transition-duration":"--_closing-transition-duration"));let i=this.updateComplete;if(e>0&&(i=new Promise((t=>{setTimeout(t,e)}))),await i,this.opening=!1,this.closing=!1,!this.open&&this.dialogElement.open){const t=new Promise((t=>{this.dialogClosedResolver=t}));this.dialogElement.close(this.currentAction||this.defaultAction),await t,this.modeless||ir.setDocumentScrollingDisabled(this.open)}this.open&&this.focus(),t&&this.dispatchActionEvent(this.open?"opened":"closed"),this.currentAction=void 0}dispatchActionEvent(t){const e={action:this.open?"none":this.currentAction};this.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0}))}updateFullscreen(){void 0!==this.fullscreenQuery&&(this.fullscreenQuery.removeEventListener("change",this.fullscreenQueryListener),this.fullscreenQuery=this.fullscreenQueryListener=void 0),this.fullscreen?(this.fullscreenQuery=window.matchMedia(this.fullscreenBreakpoint),this.fullscreenQuery.addEventListener("change",this.fullscreenQueryListener=t=>{this.showingFullscreen=t.matches}),this.showingFullscreen=this.fullscreenQuery.matches):this.showingFullscreen=!1}handleDialogDismiss(t){"cancel"===t.type&&(this.currentAction=this.escapeKeyAction),this.dialogClosedResolver?.(),this.dialogClosedResolver=void 0,this.open=!1,this.opening=!1,this.closing=!1}handleDialogClick(t){this.open&&(this.currentAction=t.target.getAttribute(this.actionAttribute)??(this.modeless||t.composedPath().includes(this.containerElement)?"":this.scrimClickAction),""!==this.currentAction&&this.close(this.currentAction))}handleContentScroll(){this.throttle("scroll",(()=>{this.requestUpdate()}))}getFocusElement(){const t=`[${this.focusAttribute}]`,e=[this.footerSlot,this.contentSlot].flatMap((t=>t.assignedElements({flatten:!0})));for(const i of e){const e=i.matches(t)?i:i.querySelector(t);if(e)return e}return null}focus(){this.getFocusElement()?.focus()}blur(){this.getFocusElement()?.blur()}canStartDrag(t){return!!(!1!==this.draggable&&!t.defaultPrevented&&1&t.buttons&&t.composedPath().includes(this.headerElement))}handlePointerMove(t){if(!this.dragging&&!this.canStartDrag(t))return;const{top:e,left:i,height:o,width:n}=this.containerElement.getBoundingClientRect();if(!this.dragging){this.containerElement.setPointerCapture(t.pointerId),this.dragging=!0;const{x:o,y:n}=t;this.dragInfo=[o,n,e,i]}const[s,r,a,l]=this.dragInfo??[0,0,0,0],d=t.x-s,c=t.y-r,h=window.innerWidth-n-this.dragMargin,p=window.innerHeight-o-this.dragMargin,u=Math.max(this.dragMargin,Math.min(h,d+l)),m=Math.max(this.dragMargin,Math.min(p,c+a));this.style.setProperty("--_container-drag-inline-start",`${u}px`),this.style.setProperty("--_container-drag-block-start",`${m}px`)}handleDragEnd(t){this.dragging&&(this.containerElement.releasePointerCapture(t.pointerId),this.dragging=!1,this.dragInfo=void 0)}}ir.preventedScrollingCount=0,t([lt({type:Boolean}),e("design:type",Object)],ir.prototype,"open",void 0),t([lt({type:Boolean}),e("design:type",Object)],ir.prototype,"fullscreen",void 0),t([lt({type:String}),e("design:type",Object)],ir.prototype,"fullscreenBreakpoint",void 0),t([lt({type:Boolean}),e("design:type",Object)],ir.prototype,"footerHidden",void 0),t([lt({type:Boolean}),e("design:type",Object)],ir.prototype,"stacked",void 0),t([lt(),e("design:type",Object)],ir.prototype,"defaultAction",void 0),t([lt(),e("design:type",Object)],ir.prototype,"actionAttribute",void 0),t([lt(),e("design:type",Object)],ir.prototype,"focusAttribute",void 0),t([lt({type:String}),e("design:type",Object)],ir.prototype,"scrimClickAction",void 0),t([lt({type:String}),e("design:type",Object)],ir.prototype,"escapeKeyAction",void 0),t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],ir.prototype,"modeless",void 0),t([lt({type:Boolean}),e("design:type",Object)],ir.prototype,"draggable",void 0),t([ht(".dialog",!0),e("design:type",HTMLDialogElement)],ir.prototype,"dialogElement",void 0),t([ht("slot[name=footer]",!0),e("design:type",HTMLSlotElement)],ir.prototype,"footerSlot",void 0),t([ht("slot:not([name])",!0),e("design:type",HTMLSlotElement)],ir.prototype,"contentSlot",void 0),t([ht(".content",!0),e("design:type",HTMLDivElement)],ir.prototype,"contentElement",void 0),t([ht(".container",!0),e("design:type",HTMLDivElement)],ir.prototype,"containerElement",void 0),t([ht(".header",!0),e("design:type",HTMLDivElement)],ir.prototype,"headerElement",void 0),t([dt(),e("design:type",Object)],ir.prototype,"showingFullscreen",void 0),t([dt(),e("design:type",Object)],ir.prototype,"showingOpen",void 0),t([dt(),e("design:type",Object)],ir.prototype,"opening",void 0),t([dt(),e("design:type",Object)],ir.prototype,"closing",void 0),t([lt({reflect:!0}),e("design:type",Object)],ir.prototype,"transition",void 0),t([dt(),e("design:type",Object)],ir.prototype,"dragging",void 0);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const or=a`:host{--_container-color:var(--md-dialog-container-color, var(--md-sys-color-surface, #fffbfe));--_container-elevation:var(--md-dialog-container-elevation, 6);--_container-shape:var(--md-dialog-container-shape, 28px);--_container-surface-tint-layer-color:var(--md-dialog-container-surface-tint-layer-color, var(--md-sys-color-primary, #6750a4));--_headline-color:var(--md-dialog-headline-color, var(--md-sys-color-on-surface, #1c1b1f));--_headline-type:var(--md-dialog-headline-type, 400 1.5rem / 2rem Roboto);--_supporting-text-color:var(--md-dialog-supporting-text-color, var(--md-sys-color-on-surface-variant, #49454f));--_supporting-text-type:var(--md-dialog-supporting-text-type, 400 0.875rem / 1.25rem Roboto);--_with-icon-icon-color:var(--md-dialog-with-icon-icon-color, var(--md-sys-color-secondary, #625b71));--_with-icon-icon-size:var(--md-dialog-with-icon-icon-size, 24px);--_container-max-inline-size:var(--md-dialog-container-max-inline-size, min(560px, 100% - 48px));--_container-min-inline-size:var(--md-dialog-container-min-inline-size, 280px);--_container-max-block-size:var(--md-dialog-container-max-block-size, min(560px, 100% - 48px));--_container-min-block-size:var(--md-dialog-container-min-block-size, 140px);--_container-inset-inline-start:var(--md-dialog-container-inset-inline-start, auto);--_container-inset-inline-end:var(--md-dialog-container-inset-inline-end, auto);--_container-inset-block-start:var(--md-dialog-container-inset-block-start, auto);--_container-inset-block-end:var(--md-dialog-container-inset-block-end, auto);--_opening-transition-duration:var(--md-dialog-opening-transition-duration, 400ms);--_opening-transition-easing:var(--md-dialog-opening-transition-easing, cubic-bezier(0.05, 0.7, 0.1, 1));--_closing-transition-duration:var(--md-dialog-closing-transition-duration, 200ms);--_closing-transition-easing:var(--md-dialog-closing-transition-easing, cubic-bezier(0.3, 0, 0.8, 0.15));--_scrim-color:var(--md-dialog-scrim-color, rgba(0, 0, 0, 0.32));--_container-block-padding:var(--md-dialog-container-block-padding, 24px);--_container-inline-padding:var(--md-dialog-container-inline-padding, 24px);--_header-spacing:var(--md-dialog-header-spacing, 16px);--_action-spacing:var(--md-dialog-action-spacing, 8px);--_content-block-start-spacing:var(--md-dialog-content-block-start-spacing, 16px);--_content-block-end-spacing:var(--md-dialog-content-block-end-spacing, 24px);--_with-divider-divider-height:var(--md-dialog-with-divider-divider-height, 1px);--_with-divider-divider-color:var(--md-dialog-with-divider-divider-color, var(--md-sys-color-outline, #79747e));--_fullscreen-header-block-size:var(--md-dialog-fullscreen-header-block-size, 56px);--_fullscreen-footer-block-size:var(--md-dialog-fullscreen-footer-block-size, 56px);--_fullscreen-container-block-padding:var(--md-dialog-fullscreen-container-block-padding, 8px);--_container-drag-inline-start:initial;--_container-drag-block-start:initial}@media(prefers-reduced-motion:reduce){:host{--_opening-transition-duration:0;--_closing-transition-duration:0}}.dialog{position:fixed;align-items:center;justify-content:center;box-sizing:border-box;inset:0;block-size:100vh;inline-size:100vw;max-block-size:100vh;max-inline-size:100vw;border:none;background:rgba(0,0,0,0);padding:0;margin:0;overflow:clip}.dialog:not(:modal){z-index:10000;pointer-events:none}.dialog[open]{display:flex}.dialog::backdrop{background:0 0}.dialog::before{content:"";position:absolute;z-index:-1;inset:0;block-size:100vh;inline-size:100vw;pointer-events:none}:host([modeless]) .dialog:before{display:none}.container{position:absolute;inset-inline-start:var(--_container-drag-inline-start,var(--_container-inset-inline-start));inset-inline-end:var(--_container-inset-inline-end);inset-block-start:var(--_container-drag-block-start,var(--_container-inset-block-start));inset-block-end:var(--_container-inset-block-end);background-color:var(--_container-color);border-radius:var(--_container-shape);display:flex;flex-direction:column;box-sizing:border-box;pointer-events:auto;min-block-size:var(--_container-min-block-size);max-block-size:var(--_container-max-block-size);min-inline-size:var(--_container-min-inline-size);max-inline-size:var(--_container-max-inline-size);padding-block-start:var(--_container-block-padding);padding-block-end:var(--_container-block-padding)}md-elevation{position:absolute;inset:0;pointer-events:none;border-radius:inherit;--md-elevation-level:var(--_container-elevation);--md-elevation-surface-tine-color:var( --_container-surface-tint-layer-color )}.container>*{box-sizing:border-box;padding-inline-start:var(--_container-inline-padding);padding-inline-end:var(--_container-inline-padding)}.header{display:flex;flex-direction:column;align-items:center;gap:var(--_header-spacing);-webkit-font-smoothing:antialiased;color:var(--_headline-color);font:var(--_headline-type)}.content{flex:1;overflow:auto;margin-block-start:var(--_content-block-start-spacing);margin-block-end:var(--_content-block-end-spacing);-webkit-font-smoothing:antialiased;color:var(--_supporting-text-color);font:var(--_supporting-text-type)}.footer{display:flex;position:relative;flex-wrap:wrap;align-items:center;justify-content:flex-end;box-sizing:border-box;gap:var(--_action-spacing)}.footerHidden{--_content-block-end-spacing:0px}.footerHidden .footer{display:none}.stacked .footer{flex-direction:column;align-items:flex-end}.scrollable .content{border-block-start:var(--_with-divider-divider-height) solid transparent;border-block-end:var(--_with-divider-divider-height) solid transparent}.scroll-divider-header .content{border-block-start-color:var(--_with-divider-divider-color)}.scroll-divider-footer:not(.footerHidden) .content{border-block-end-color:var(--_with-divider-divider-color)}.dragging{user-select:none;cursor:move;touch-action:none}.container{will-change:transform,opacity;transition-property:transform;overflow:hidden}.container>*{transition-timing-function:inherit;transition-duration:inherit;transition-property:opacity,transform;will-change:transform,opacity;opacity:0}:host([transition][showing-open]) .container>*{opacity:1;transform:none}:host([transition][showing-open]) .container{opacity:1;transform:none}.dialog::before{transition:background-color linear;background-color:rgba(0,0,0,0)}:host([showing-open]) .dialog::before{background-color:var(--_scrim-color)}:host([opening]) .dialog::before{transition-duration:calc(var(--_opening-transition-duration)/2)}:host([closing]) .dialog::before{transition-duration:calc(var(--_closing-transition-duration)/2)}:host([opening]) .container{transition-duration:var(--_opening-transition-duration);transition-timing-function:var(--_opening-transition-easing)}:host([closing]) .container{transition-duration:var(--_closing-transition-duration);transition-timing-function:var(--_closing-transition-easing)}:host([trasition][closing]) .container>*{transform:none;opacity:0}:host([transition=grow-down]){--_opening-transform:scale(1, 0.1) translateY(-20%);--_closing-transform:scale(1, 0.9) translateY(-10%);--_origin:top;--_opening-content-transform:scale(1, 2);--_origin-footer:bottom}:host([transition=grow-up]){--_opening-transform:scale(1, 0.1) translateY(20%);--_closing-transform:scale(1, 0.9) translateY(10%);--_origin:bottom;--_opening-content-transform:scale(1, 2);--_origin-footer:bottom}:host([transition=grow-left]){--_opening-transform:scale(0.1, 1) translateX(20%);--_closing-transform:scale(0.9, 1) translateX(10%);--_origin:right;--_opening-content-transform:none;--_origin-footer:none}:host([transition=grow-right]){--_opening-transform:scale(0.1, 1) translateX(-20%);--_closing-transform:scale(0.9, 1) translateX(-10%);--_origin:left;--_opening-content-transform:none;--_origin-footer:none}:host([transition^=grow-]) .container{transform-origin:var(--_origin);transform:var(--_opening-transform)}:host([transition^=grow-]) .container>*{transform-origin:var(--_origin);transform:var(--_opening-content-transform)}:host([transition^=grow-]) .footer{transform-origin:var(--_origin-footer)}:host([transition^=grow-][closing]){transform:var(--_closing-transform)}:host([transition=shrink]) .container{transform:scale(1.2)}:host([transition=grow]) .container{transform:scale(.8)}:host([transition=grow][closing]) .container,:host([transition=shrink][closing]) .container{transition-duration:0;transform:none}:host([showing-fullscreen]){--_container-max-block-size:none;--_container-max-inline-size:none}:host([showing-fullscreen]) .container{block-size:100vh;inline-size:100vw;border-radius:0;padding-block-start:0;padding-block-end:0}:host([showing-fullscreen]) .header{justify-content:space-between;flex-direction:row;max-block-size:var(--_fullscreen-header-block-size);padding-block-start:var(--_fullscreen-container-block-padding);padding-inline:4px;--_header-spacing:4px}:host([showing-fullscreen]) .content{margin-block-start:0;margin-block-end:0}:host([showing-fullscreen]) .footer{max-block-size:var(--_fullscreen-footer-block-size);padding-block-end:var(--_fullscreen-container-block-padding)}:host([showing-fullscreen]) .scroll-divider-footer .content{border-block-end-color:transparent}@media screen and (forced-colors:active),(-ms-high-contrast:active){.container{outline:windowtext solid 2px}}[name=headline-prefix]::slotted(*),[name=headline-suffix]::slotted(*){color:var(--_with-icon-icon-color);font-size:var(--_with-icon-icon-size)}[name=header]::slotted(*){flex:1;align-self:stretch;display:flex;align-items:center}:host([showing-fullscreen]) [name=headline]::slotted(*){flex:1}`
/**
 * @license
 * Copyright 2023 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let nr=class extends ir{};nr.styles=[or],nr=t([rt("md-dialog")],nr);class sr{static _hasAdminRights(t,e){return null!=e.find((e=>e.id==t))}static _hasAccess(t,e,i){return t?!(!window.appUser||!window.appUser.user)&&(window.appUser.user.id==t.user_id||(!(!t.User||window.appUser.user.id!=t.User.id)||!!window.appUser.adminRights&&this._hasAdminRights(e,i))):!!window.appUser&&(console.warn("No object in hasAccess"),!1)}static hasImageAccess(t,e){return!!(t&&e&&window.appUser&&window.appUser.adminRights)&&this._hasAccess(t,e.group_id,window.appUser.adminRights.GroupAdmins)}static checkPostAccess(t){return t&&window.appUser&&window.appUser.adminRights?this._hasAccess(t,t.group_id,window.appUser.adminRights.GroupAdmins):t&&t.User&&window.appUser&&window.appUser.user?t.User.id===window.appUser.user.id:(t||console.warn("No post in hasAccess"),!1)}static checkPointAccess(t){return t&&t.Post&&window.appUser&&window.appUser.adminRights?this._hasAccess(t,t.Post.group_id,window.appUser.adminRights.GroupAdmins):!!(t&&window.appUser&&window.appUser.user&&window.appUser.user.id==t.user_id)}static checkPostAdminOnlyAccess(t){return t&&window.appUser&&window.appUser.adminRights?this._hasAdminRights(t.group_id,window.appUser.adminRights.GroupAdmins):(t||console.warn("No post in hasAccess"),!1)}static checkGroupAccess(t){return t&&window.appUser&&window.appUser.adminRights?this._hasAccess(t,t.id,window.appUser.adminRights.GroupAdmins):(t||console.warn("No group in hasAccess"),!1)}static checkCommunityAccess(t){return t&&window.appUser&&window.appUser.adminRights?this._hasAccess(t,t.id,window.appUser.adminRights.CommunityAdmins):(t||console.warn("No community in hasAccess"),!1)}static checkDomainAccess(t){return t&&window.appUser&&window.appUser.adminRights?this._hasAccess(t,t.id,window.appUser.adminRights.DomainAdmins):(t||console.warn("No domain in hasAccess"),!1)}static hasUserAccess(t){return!!(t&&window.appUser&&window.appUser.user&&window.appUser.user.id==t.id)}}
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class rr extends Yo{getRenderClasses(){return{...super.getRenderClasses(),"md3-fab--regular":!0}}renderIcon(t){return""}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const ar=a`:host{--_container-shape-start-start:var(--md-fab-container-shape-start-start, var(--md-fab-container-shape, 16px));--_container-shape-start-end:var(--md-fab-container-shape-start-end, var(--md-fab-container-shape, 16px));--_container-shape-end-end:var(--md-fab-container-shape-end-end, var(--md-fab-container-shape, 16px));--_container-shape-end-start:var(--md-fab-container-shape-end-start, var(--md-fab-container-shape, 16px));--_container-color:var(--md-fab-container-color, var(--md-sys-color-surface, #fffbfe));--_container-elevation:var(--md-fab-container-elevation, 3);--_container-height:var(--md-fab-container-height, 56px);--_container-shadow-color:var(--md-fab-container-shadow-color, var(--md-sys-color-shadow, #000));--_container-surface-tint-layer-color:var(--md-fab-container-surface-tint-layer-color, var(--md-sys-color-primary, #6750a4));--_container-width:var(--md-fab-container-width, 56px);--_focus-container-elevation:var(--md-fab-focus-container-elevation, 3);--_focus-icon-color:var(--md-fab-focus-icon-color, var(--md-sys-color-primary, #6750a4));--_focus-state-layer-color:var(--md-fab-focus-state-layer-color, var(--md-sys-color-primary, #6750a4));--_focus-state-layer-opacity:var(--md-fab-focus-state-layer-opacity, 0.12);--_hover-container-elevation:var(--md-fab-hover-container-elevation, 4);--_hover-icon-color:var(--md-fab-hover-icon-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-color:var(--md-fab-hover-state-layer-color, var(--md-sys-color-primary, #6750a4));--_hover-state-layer-opacity:var(--md-fab-hover-state-layer-opacity, 0.08);--_icon-color:var(--md-fab-icon-color, var(--md-sys-color-primary, #6750a4));--_icon-size:var(--md-fab-icon-size, 24px);--_lowered-container-elevation:var(--md-fab-lowered-container-elevation, 1);--_lowered-focus-container-elevation:var(--md-fab-lowered-focus-container-elevation, 1);--_lowered-hover-container-elevation:var(--md-fab-lowered-hover-container-elevation, 2);--_lowered-pressed-container-elevation:var(--md-fab-lowered-pressed-container-elevation, 1);--_pressed-container-elevation:var(--md-fab-pressed-container-elevation, 3);--_pressed-icon-color:var(--md-fab-pressed-icon-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-color:var(--md-fab-pressed-state-layer-color, var(--md-sys-color-primary, #6750a4));--_pressed-state-layer-opacity:var(--md-fab-pressed-state-layer-opacity, 0.12)}.md3-fab{width:var(--_container-width);height:var(--_container-height)}.md3-fab--regular{padding:0}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let lr=class extends rr{renderIcon(t){return t?N`<md-icon class="md3-fab__icon">${t}</md-icon>`:""}};lr.styles=[en,ar],lr=t([rt("md-fab")],lr);class dr{static _checkVideoLongPlayTimeAndReset(t,e){const i=e.getAttribute("data-id");if(t.playStartedAt&&i){const e=((new Date).getTime()-t.playStartedAt.getTime())/1e3;e>5&&window.appGlobals.sendLongVideoView(i),window.appGlobals.activity("completed","video",e),t.playStartedAt=void 0}else t.playStartedAt&&(console.error("Got long view check without id"),t.playStartedAt=void 0)}static _checkAudioLongPlayTimeAndReset(t,e){const i=e.getAttribute("data-id");if(t.playStartedAt&&i){const e=((new Date).getTime()-t.playStartedAt.getTime())/1e3;e>5&&window.appGlobals.sendLongAudioListen(i),window.appGlobals.activity("completed","audio",e),t.playStartedAt=void 0}else t.playStartedAt&&(console.error("Got long view check without audio id"),t.playStartedAt=void 0)}static getImageFormatUrl(t,e=0){if(!(t&&t.length>0))return"";{const i=JSON.parse(t[t.length-1].formats);if(i&&i.length>0)return i[e]}}static setupTopHeaderImage(t,e){if(t.wide){let t;t=e?"url("+this.getImageFormatUrl(e,0)+")":"none",window.appGlobals.theme.updateStyles({"--top-area-background-image":t})}}static attachMediaListeners(t){setTimeout((()=>{const e=t.$$("#videoPlayer"),i=t.$$("#audioPlayer");if(e){const i=e.getAttribute("data-id");i&&(t.videoPlayListener=()=>{t.playStartedAt=new Date,window.appGlobals.sendVideoView(parseInt(i))},t.videoPauseListener=()=>{this._checkVideoLongPlayTimeAndReset(t,e)},t.videoEndedListener=()=>{this._checkVideoLongPlayTimeAndReset(t,e)},e.addEventListener("play",t.videoPlayListener.bind(t)),e.addEventListener("pause",t.videoPauseListener.bind(t)),e.addEventListener("ended",t.videoEndedListener.bind(t)))}if(i){const e=i.getAttribute("data-id");e&&(t.audioPlayListener=()=>{t.playStartedAt=new Date,window.appGlobals.sendAudioListen(e)},t.audioPauseListener=()=>{this._checkAudioLongPlayTimeAndReset(t,i)},t.audioEndedListener=()=>{this._checkAudioLongPlayTimeAndReset(t,i)},i.addEventListener("play",t.audioPlayListener.bind(t)),i.addEventListener("pause",t.audioPauseListener.bind(t)),i.addEventListener("ended",t.audioEndedListener.bind(t)))}}),200)}static detachMediaListeners(t){const e=t.$$("#videoPlayer"),i=t.$$("#audioPlayer");e&&(t.videoPlayListener&&(e.removeEventListener("play",t.videoPlayListener),t.videoPlayListener=void 0),t.videoPauseListener&&(e.removeEventListener("pause",t.videoPauseListener),t.videoPauseListener=void 0),t.videoEndedListener&&(e.removeEventListener("ended",t.videoEndedListener),t.videoEndedListener=void 0),this._checkVideoLongPlayTimeAndReset(t,e)),i&&(t.audioPlayListener&&(i.removeEventListener("play",t.audioPlayListener),t.audioPlayListener=void 0),t.audioPauseListener&&(i.removeEventListener("pause",t.audioPauseListener),t.audioPauseListener=void 0),t.audioEndedListener&&(i.removeEventListener("ended",t.audioEndedListener),t.audioEndedListener=void 0),this._checkVideoLongPlayTimeAndReset(t,i))}static pauseMediaPlayback(t){const e=t.$$("#videoPlayer"),i=t.$$("#audioPlayer");e&&e.pause(),i&&i.pause()}static getVideoURL(t){return t&&t.length>0&&t[0].formats&&t[0].formats.length>0?t[0].formats[0]:null}static isPortraitVideo(t){return!!(t&&t.length>0&&t[0].formats&&t[0].formats.length>0)&&!(!t[0].public_meta||!t[0].public_meta.aspect||"portrait"!==t[0].public_meta.aspect)}static getAudioURL(t){return t&&t.length>0&&t[0].formats&&t[0].formats.length>0?t[0].formats[0]:null}static getVideoPosterURL(t,e,i=0){return t&&t.length>0&&t[0].VideoImages&&t[0].VideoImages.length>0?(t[0].public_meta&&t[0].public_meta.selectedVideoFrameIndex&&(i=t[0].public_meta.selectedVideoFrameIndex),i>t[0].VideoImages.length-1&&(i=0),-2===i&&e?this.getImageFormatUrl(e,0):(i<0&&(i=0),JSON.parse(t[0].VideoImages[i].formats)[0])):null}}
/**
@license
Copyright (c) 2010-2020 Citizens Foundation
*/const cr=a`.shadow-transition{transition:box-shadow .28s cubic-bezier(.4,0,.2,1)}.shadow-elevation-2dp{box-shadow:0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12),0 3px 1px -2px rgba(0,0,0,.2)}.shadow-elevation-3dp{box-shadow:0 3px 4px 0 rgba(0,0,0,.14),0 1px 8px 0 rgba(0,0,0,.12),0 3px 3px -2px rgba(0,0,0,.4)}.shadow-elevation-4dp{box-shadow:0 4px 5px 0 rgba(0,0,0,.14),0 1px 10px 0 rgba(0,0,0,.12),0 2px 4px -1px rgba(0,0,0,.4)}.shadow-elevation-6dp{box-shadow:0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12),0 3px 5px -1px rgba(0,0,0,.4)}.shadow-elevation-8dp{box-shadow:0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12),0 5px 5px -3px rgba(0,0,0,.4)}.shadow-elevation-12dp{box-shadow:0 12px 16px 1px rgba(0,0,0,.14),0 4px 22px 3px rgba(0,0,0,.12),0 6px 7px -4px rgba(0,0,0,.4)}.shadow-elevation-16dp{box-shadow:0 16px 24px 2px rgba(0,0,0,.14),0 6px 30px 5px rgba(0,0,0,.12),0 8px 10px -5px rgba(0,0,0,.4)}.shadow-elevation-24dp{box-shadow:0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12),0 11px 15px -7px rgba(0,0,0,.4)}`;class hr{static splitByStatus(t,e){if(e&&e.sortBySortOrder)try{t=t.sort((t=>t?.configuration?.optionalSortOrder||1e5))}catch(t){console.error(t)}return{active:t.filter((t=>"active"==t.status||"hidden"==t.status)),archived:t.filter((t=>"archived"==t.status)),featured:t.filter((t=>"featured"==t.status))}}static logoImagePath(t,e){return dr.getImageFormatUrl(this.logoImages(t,e),0)}static logoImages(t,e){switch(t){case"domain":return e.DomainLogoImages;case"community":return e.CommunityLogoImages;case"groupCommunityLink":return e.CommunityLink.CommunityLogoImages;case"group":case"groupDataViz":return e.GroupLogoImages}}static nameTextType(t){switch(t){case"domain":return"domainName";case"community":case"groupCommunityLink":return"communityName";case"group":case"groupDataViz":return"groupName"}}static descriptionTextType(t){switch(t){case"domain":return"domainContent";case"community":case"groupCommunityLink":return"communityContent";case"group":return"groupContent"}}}
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */const pr=a`:host{--_list-item-selected-container-color:var(--md-menu-list-item-selected-container-color, var(--md-sys-color-surface-variant, #e7e0ec))}.list-item:focus,:host(:active) .list-item,:host([active]) .list-item{background-color:var(--_list-item-selected-container-color)}.list-item:has(.submenu:hover){--md-ripple-hover-opacity:0}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;class ur extends ve{constructor(){super(...arguments),this.role="menuitem",this.isMenuItem=!0,this.keepOpen=!1,this.keepOpenOnClick=!1}onClick(){this.keepOpen||this.keepOpenOnClick||this.dispatchEvent(new ai(this,{kind:li}))}onKeydown(t){if(this.keepOpen)return;const e=t.code;var i;i=e,Object.values(ci).some((t=>t===i))&&(t.preventDefault(),this.dispatchEvent(new ai(this,{kind:di,key:e})))}}t([lt({type:Boolean,attribute:"md-menu-item",reflect:!0}),e("design:type",Object)],ur.prototype,"isMenuItem",void 0),t([lt({type:Boolean,attribute:"keep-open"}),e("design:type",Object)],ur.prototype,"keepOpen",void 0);
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
let mr=class extends ur{};mr.styles=[ye,pr],mr=t([rt("md-menu-item")],mr);const gr="aaa1rp3barth4b_ott3vie4c1le2ogado5udhabi7c_ademy5centure6ountant_s9o1tor4d_s1ult4e_g1ro2tna4f_l1rica5g_akhan5ency5i_g1rbus3force5tel5kdn3l_faromeo7ibaba4pay4lfinanz6state5y2sace3tom5m_azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o_l2partments8p_le4q_uarelle8r_ab1mco4chi3my2pa2t_e3s_da2ia2sociates9t_hleta5torney7u_ction5di_ble3o3spost5thor3o_s4vianca6w_s2x_a2z_ure5ba_by2idu3namex3narepublic11d1k2r_celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b_c1t1va3cg1n2d1e_ats2uty4er2ntley5rlin4st_buy5t2f1g1h_arti5i_ble3d1ke2ng_o3o1z2j1lack_friday9ockbuster8g1omberg7ue3m_s1w2n_pparibas9o_ats3ehringer8fa2m1nd2o_k_ing5sch2tik2on4t1utique6x2r_adesco6idgestone9oadway5ker3ther5ussels7s1t1uild_ers6siness6y1zz3v1w1y1z_h3ca_b1fe2l_l1vinklein9m_era3p2non3petown5ital_one8r_avan4ds2e_er_s4s2sa1e1h1ino4t_ering5holic7ba1n1re2s2c1d1enter4o1rn3f_a1d2g1h_anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i_priani6rcle4sco3tadel4i_c2y_eats7k1l_aims4eaning6ick2nic1que6othing5ud3ub_med6m1n1o_ach3des3ffee4llege4ogne5m_cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking_channel11l1p2rsica5untry4pon_s4rses6pa2r_edit_card4union9icket5own3s1uise_s6u_isinella9v1w1x1y_mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e_al_er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si_gn4v2hl2iamonds6et2gital5rect_ory7scount3ver5h2y2j1k1m1np2o_cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c_o2deka3u_cation8e1g1mail3erck5nergy4gineer_ing9terprises10pson4quipment8r_icsson6ni3s_q1tate5t_isalat7u_rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n_s2rm_ers5shion4t3edex3edback6rrari3ero6i_at2delity5o2lm2nal1nce1ial7re_stone6mdale6sh_ing5t_ness6j1k1lickr3ghts4r2orist4wers5y2m1o_o_d_network8tball6rd1ex2sale4um3undation8x2r_ee1senius7l1ogans4ntdoor4ier7tr2ujitsu5n_d2rniture7tbol5yi3ga_l_lery3o1up4me_s3p1rden4y2b_iz3d_n2e_a1nt_ing5orge5f1g_ee3h1i_ft_s3ves2ing5l_ass3e1obal2o4m_ail3bh2o1x2n1odaddy5ld_point6f2o_dyear5g_le4p1t1v2p1q1r_ainger5phics5tis4een3ipe3ocery4up4s1t1u_ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc_bank7ealth_care8lp1sinki6re1mes5gtv3iphop4samitsu7tachi5v2k_t2m1n1ockey4ldings5iday5medepot5goods5s_ense7nda3rse3spital5t_ing5t_eles2s3mail5use3w2r1sbc3t1u_ghes5yatt3undai7ibm2cbc2e1u2d1e_ee3fm2kano4l1m_amat4db2mo_bilien9n_c1dustries8finiti5o2g1k1stitute6urance4e4t_ernational10uit4vestments10o1piranga7q1r_ish4s_maili5t_anbul7t_au2v3jaguar4va3cb2e_ep2tzt3welry6io2ll2m_p2nj2o_bs1urg4t1y2p_morgan6rs3uegos4niper7kaufen5ddi3e_rryhotels6logistics9properties14fh2g1h1i_a1ds2m1nder2le4tchen5wi3m1n1oeln3matsu5sher5p_mg2n2r_d1ed3uokgroup8w1y_oto4z2la_caixa5mborghini8er3ncaster5ia3d_rover6xess5salle5t_ino3robe5w_yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i_dl2fe_insurance9style7ghting6ke2lly3mited4o2ncoln4de2k2psy3ve1ing5k1lc1p2oan_s3cker3us3l1ndon4tte1o3ve3pl_financial11r1s1t_d_a3u_ndbeck6xe1ury5v1y2ma_cys3drid4if1son4keup4n_agement7go3p1rket_ing3s4riott5shalls7serati6ttel5ba2c_kinsey7d1e_d_ia3et2lbourne7me1orial6n_u2rckmsd7g1h1iami3crosoft7l1ni1t2t_subishi9k1l_b1s2m_a2n1o_bi_le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to_rcycles9v_ie4p1q1r1s_d2t_n1r2u_seum3ic3tual5v1w1x1y1z2na_b1goya4me2tura4vy3ba2c1e_c1t_bank4flix4work5ustar5w_s2xt_direct7us4f_l2g_o2hk2i_co2ke1on3nja3ssan1y5l1o_kia3rthwesternmutual14on4w_ruz3tv4p1r_a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan_group9dnavy5lo3m_ega4ne1g1l_ine5oo2pen3racle3nge4g_anic5igins6saka4tsuka4t2vh3pa_ge2nasonic7ris2s1tners4s1y3ssagens7y2ccw3e_t2f_izer5g1h_armacy6d1ilips5one2to_graphy6s4ysio5ics1tet2ures6d1n_g1k2oneer5zza4k1l_ace2y_station9umbing5s3m1n_c2ohl2ker3litie5rn2st3r_america6xi3ess3ime3o_d_uctions8f1gressive8mo2perties3y5tection8u_dential9s1t1ub2w_c2y2qa1pon3uebec3st5racing4dio4e_ad1lestate6tor2y4cipes5d_stone5umbrella9hab3ise_n3t2liance6n_t_als5pair3ort3ublican8st_aurant8view_s5xroth6ich_ardli6oh3l1o1p2o_cher3ks3deo3gers4om3s_vp3u_gby3hr2n2w_e2yukyu6sa_arland6fe_ty4kura4le1on3msclub4ung5ndvik_coromant12ofi4p1rl2s1ve2xo3b_i1s2c_a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e_arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x_y3fr2g1h_angrila6rp2w2ell3ia1ksha5oes2p_ping5uji3w_time7i_lk2na1gles5te3j1k_i_n2y_pe4l_ing4m_art3ile4n_cf3o_ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa_ce3ort2t3r_l2s1t_ada2ples4r1tebank4farm7c_group6ockholm6rage3e3ream4udio2y3yle4u_cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y_dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x_i3c_i2d_k2eam2ch_nology8l1masek5nnis4va3f1g1h_d1eater2re6iaa2ckets5enda4ffany5ps2res2ol4j_maxx4x2k_maxx5l1m_all4n1o_day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r_ade1ing4ining5vel_channel7ers_insurance16ust3v2t1ube2i1nes3shu4v_s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va_cations7na1guard7c1e_gas3ntures6risign5mögensberater2ung14sicherung10t2g1i_ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lkswagen7vo3te1ing3o2yage5u_elos6wales2mart4ter4ng_gou5tch_es6eather_channel12bcam3er2site5d_ding5ibo2r3f1hoswho6ien2ki2lliamhill9n_dows4e1ners6me2olterskluwer11odside6rk_s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u_tube6t1un3za_ppos4ra3ero3ip2m1one3uerich6w2",fr="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5تصالات6رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत_म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里_大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",vr=(t,e)=>{for(const i in e)t[i]=e[i];return t},yr="numeric",br="ascii",_r="alpha",wr="asciinumeric",xr="alphanumeric",kr="domain",Cr="emoji",$r="scheme",Tr="slashscheme",Sr="whitespace";function Ir(t,e){return t in e||(e[t]=[]),e[t]}function Pr(t,e,i){e[yr]&&(e[wr]=!0,e[xr]=!0),e[br]&&(e[wr]=!0,e[_r]=!0),e[wr]&&(e[xr]=!0),e[_r]&&(e[xr]=!0),e[xr]&&(e[kr]=!0),e[Cr]&&(e[kr]=!0);for(const o in e){const e=Ir(o,i);e.indexOf(t)<0&&e.push(t)}}function Ar(t){void 0===t&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}Ar.groups={},Ar.prototype={accepts(){return!!this.t},go(t){const e=this,i=e.j[t];if(i)return i;for(let i=0;i<e.jr.length;i++){const o=e.jr[i][0],n=e.jr[i][1];if(n&&o.test(t))return n}return e.jd},has(t,e){return void 0===e&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,i,o){for(let n=0;n<t.length;n++)this.tt(t[n],e,i,o)},tr(t,e,i,o){let n;return o=o||Ar.groups,e&&e.j?n=e:(n=new Ar(e),i&&o&&Pr(e,i,o)),this.jr.push([t,n]),n},ts(t,e,i,o){let n=this;const s=t.length;if(!s)return n;for(let e=0;e<s-1;e++)n=n.tt(t[e]);return n.tt(t[s-1],e,i,o)},tt(t,e,i,o){o=o||Ar.groups;const n=this;if(e&&e.j)return n.j[t]=e,e;const s=e;let r,a=n.go(t);if(a?(r=new Ar,vr(r.j,a.j),r.jr.push.apply(r.jr,a.jr),r.jd=a.jd,r.t=a.t):r=new Ar,s){if(o)if(r.t&&"string"==typeof r.t){const t=vr(function(t,e){const i={};for(const o in e)e[o].indexOf(t)>=0&&(i[o]=!0);return i}(r.t,o),i);Pr(s,t,o)}else i&&Pr(s,i,o);r.t=s}return n.j[t]=r,r}};const Or=(t,e,i,o,n)=>t.ta(e,i,o,n),Lr=(t,e,i,o,n)=>t.tr(e,i,o,n),Er=(t,e,i,o,n)=>t.ts(e,i,o,n),zr=(t,e,i,o,n)=>t.tt(e,i,o,n),Dr="WORD",Mr="UWORD",Nr="LOCALHOST",Rr="TLD",Ur="UTLD",jr="SCHEME",Vr="SLASH_SCHEME",Fr="NUM",Gr="WS",Br="NL",Hr="OPENBRACE",Wr="OPENBRACKET",qr="OPENANGLEBRACKET",Qr="OPENPAREN",Jr="CLOSEBRACE",Zr="CLOSEBRACKET",Kr="CLOSEANGLEBRACKET",Yr="CLOSEPAREN",Xr="AMPERSAND",ta="APOSTROPHE",ea="ASTERISK",ia="AT",oa="BACKSLASH",na="BACKTICK",sa="CARET",ra="COLON",aa="COMMA",la="DOLLAR",da="DOT",ca="EQUALS",ha="EXCLAMATION",pa="HYPHEN",ua="PERCENT",ma="PIPE",fa="PLUS",va="POUND",ya="QUERY",ba="QUOTE",_a="SEMI",wa="SLASH",xa="TILDE",ka="UNDERSCORE",Ca="EMOJI",$a="SYM";var Ta=Object.freeze({__proto__:null,WORD:Dr,UWORD:Mr,LOCALHOST:Nr,TLD:Rr,UTLD:Ur,SCHEME:jr,SLASH_SCHEME:Vr,NUM:Fr,WS:Gr,NL:Br,OPENBRACE:Hr,OPENBRACKET:Wr,OPENANGLEBRACKET:qr,OPENPAREN:Qr,CLOSEBRACE:Jr,CLOSEBRACKET:Zr,CLOSEANGLEBRACKET:Kr,CLOSEPAREN:Yr,AMPERSAND:Xr,APOSTROPHE:ta,ASTERISK:ea,AT:ia,BACKSLASH:oa,BACKTICK:na,CARET:sa,COLON:ra,COMMA:aa,DOLLAR:la,DOT:da,EQUALS:ca,EXCLAMATION:ha,HYPHEN:pa,PERCENT:ua,PIPE:ma,PLUS:fa,POUND:va,QUERY:ya,QUOTE:ba,SEMI:_a,SLASH:wa,TILDE:xa,UNDERSCORE:ka,EMOJI:Ca,SYM:$a});const Sa=/[a-z]/,Ia=/\p{L}/u,Pa=/\p{Emoji}/u,Aa=/\d/,Oa=/\s/,La="\n",Ea="️",za="‍";let Da=null,Ma=null;function Na(t,e,i,o,n){let s;const r=e.length;for(let i=0;i<r-1;i++){const r=e[i];t.j[r]?s=t.j[r]:(s=new Ar(o),s.jr=n.slice(),t.j[r]=s),t=s}return s=new Ar(i),s.jr=n.slice(),t.j[e[r-1]]=s,s}function Ra(t){const e=[],i=[];let o=0;for(;o<t.length;){let n=0;for(;"0123456789".indexOf(t[o+n])>=0;)n++;if(n>0){e.push(i.join(""));let s=parseInt(t.substring(o,o+n),10);for(;s>0;s--)i.pop();o+=n}else"_"===t[o]?(e.push(i.join("")),o++):(i.push(t[o]),o++)}return e}const Ua={defaultProtocol:"http",events:null,format:Va,formatHref:Va,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ja(t,e){void 0===e&&(e=null);let i=vr({},Ua);t&&(i=vr(i,t instanceof ja?t.o:t));const o=i.ignoreTags,n=[];for(let t=0;t<o.length;t++)n.push(o[t].toUpperCase());this.o=i,e&&(this.defaultRender=e),this.ignoreTags=n}function Va(t){return t}function Fa(t,e){this.t="token",this.v=t,this.tk=e}function Ga(t,e){class i extends Fa{constructor(e,i){super(e,i),this.t=t}}for(const t in e)i.prototype[t]=e[t];return i.t=t,i}ja.prototype={o:Ua,ignoreTags:[],defaultRender:t=>t,check(t){return this.get("validate",t.toString(),t)},get(t,e,i){const o=null!=e;let n=this.o[t];return n?("object"==typeof n?(n=i.t in n?n[i.t]:Ua[t],"function"==typeof n&&o&&(n=n(e,i))):"function"==typeof n&&o&&(n=n(e,i.t,i)),n):n},getObj(t,e,i){let o=this.o[t];return"function"==typeof o&&null!=e&&(o=o(e,i.t,i)),o},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}},Fa.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),i=t.get("truncate",e,this),o=t.get("format",e,this);return i&&o.length>i?o.substring(0,i)+"…":o},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return void 0===t&&(t=Ua.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,i=this.toFormattedHref(t),o=t.get("tagName",i,e),n=this.toFormattedString(t),s={},r=t.get("className",i,e),a=t.get("target",i,e),l=t.get("rel",i,e),d=t.getObj("attributes",i,e),c=t.getObj("events",i,e);return s.href=i,r&&(s.class=r),a&&(s.target=a),l&&(s.rel=l),d&&vr(s,d),{tagName:o,attributes:s,content:n,eventListeners:c}}};const Ba=Ga("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Ha=Ga("text"),Wa=Ga("nl"),qa=Ga("url",{isLink:!0,toHref(t){return void 0===t&&(t=Ua.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Nr&&t[1].t===ra}}),Qa=t=>new Ar(t);function Ja(t,e,i){const o=i[0].s,n=i[i.length-1].e;return new t(e.slice(o,n),i)}const Za={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Ka(){Za.scanner=function(t){void 0===t&&(t=[]);const e={};Ar.groups=e;const i=new Ar;null==Da&&(Da=Ra(gr)),null==Ma&&(Ma=Ra(fr)),zr(i,"'",ta),zr(i,"{",Hr),zr(i,"[",Wr),zr(i,"<",qr),zr(i,"(",Qr),zr(i,"}",Jr),zr(i,"]",Zr),zr(i,">",Kr),zr(i,")",Yr),zr(i,"&",Xr),zr(i,"*",ea),zr(i,"@",ia),zr(i,"`",na),zr(i,"^",sa),zr(i,":",ra),zr(i,",",aa),zr(i,"$",la),zr(i,".",da),zr(i,"=",ca),zr(i,"!",ha),zr(i,"-",pa),zr(i,"%",ua),zr(i,"|",ma),zr(i,"+",fa),zr(i,"#",va),zr(i,"?",ya),zr(i,'"',ba),zr(i,"/",wa),zr(i,";",_a),zr(i,"~",xa),zr(i,"_",ka),zr(i,"\\",oa);const o=Lr(i,Aa,Fr,{[yr]:!0});Lr(o,Aa,o);const n=Lr(i,Sa,Dr,{[br]:!0});Lr(n,Sa,n);const s=Lr(i,Ia,Mr,{[_r]:!0});Lr(s,Sa),Lr(s,Ia,s);const r=Lr(i,Oa,Gr,{[Sr]:!0});zr(i,La,Br,{[Sr]:!0}),zr(r,La),Lr(r,Oa,r);const a=Lr(i,Pa,Ca,{[Cr]:!0});Lr(a,Pa,a),zr(a,Ea,a);const l=zr(a,za);Lr(l,Pa,a);const d=[[Sa,n]],c=[[Sa,null],[Ia,s]];for(let t=0;t<Da.length;t++)Na(i,Da[t],Rr,Dr,d);for(let t=0;t<Ma.length;t++)Na(i,Ma[t],Ur,Mr,c);Pr(Rr,{tld:!0,ascii:!0},e),Pr(Ur,{utld:!0,alpha:!0},e),Na(i,"file",jr,Dr,d),Na(i,"mailto",jr,Dr,d),Na(i,"http",Vr,Dr,d),Na(i,"https",Vr,Dr,d),Na(i,"ftp",Vr,Dr,d),Na(i,"ftps",Vr,Dr,d),Pr(jr,{scheme:!0,ascii:!0},e),Pr(Vr,{slashscheme:!0,ascii:!0},e),t=t.sort(((t,e)=>t[0]>e[0]?1:-1));for(let e=0;e<t.length;e++){const o=t[e][0],n=t[e][1]?{[$r]:!0}:{[Tr]:!0};o.indexOf("-")>=0?n[kr]=!0:Sa.test(o)?Aa.test(o)?n[wr]=!0:n[br]=!0:n[yr]=!0,Er(i,o,o,n)}return Er(i,"localhost",Nr,{ascii:!0}),i.jd=new Ar($a),{start:i,tokens:vr({groups:e},Ta)}}(Za.customSchemes);for(let t=0;t<Za.tokenQueue.length;t++)Za.tokenQueue[t][1]({scanner:Za.scanner});Za.parser=function(t){let{groups:e}=t;const i=e.domain.concat([Xr,ea,ia,oa,na,sa,la,ca,pa,Fr,ua,ma,fa,va,wa,$a,xa,ka]),o=[ta,Kr,Jr,Zr,Yr,ra,aa,da,ha,qr,Hr,Wr,Qr,ya,ba,_a],n=[Xr,ta,ea,oa,na,sa,Jr,la,ca,pa,Fr,Hr,ua,ma,fa,va,ya,wa,$a,xa,ka],s=Qa(),r=zr(s,xa);Or(r,n,r),Or(r,e.domain,r);const a=Qa(),l=Qa(),d=Qa();Or(s,e.domain,a),Or(s,e.scheme,l),Or(s,e.slashscheme,d),Or(a,n,r),Or(a,e.domain,a);const c=zr(a,ia);zr(r,ia,c),zr(l,ia,c),zr(d,ia,c);const h=zr(r,da);Or(h,n,r),Or(h,e.domain,r);const p=Qa();Or(c,e.domain,p),Or(p,e.domain,p);const u=zr(p,da);Or(u,e.domain,p);const m=Qa(Ba);Or(u,e.tld,m),Or(u,e.utld,m),zr(c,Nr,m);const g=zr(p,pa);Or(g,e.domain,p),Or(m,e.domain,p),zr(m,da,u),zr(m,pa,g);const f=zr(m,ra);Or(f,e.numeric,Ba);const v=zr(a,pa),y=zr(a,da);Or(v,e.domain,a),Or(y,n,r),Or(y,e.domain,a);const b=Qa(qa);Or(y,e.tld,b),Or(y,e.utld,b),Or(b,e.domain,a),Or(b,n,r),zr(b,da,y),zr(b,pa,v),zr(b,ia,c);const _=zr(b,ra),w=Qa(qa);Or(_,e.numeric,w);const x=Qa(qa),k=Qa();Or(x,i,x),Or(x,o,k),Or(k,i,x),Or(k,o,k),zr(b,wa,x),zr(w,wa,x);const C=zr(l,ra),$=zr(d,ra),T=zr($,wa);zr(T,wa,C),Or(l,e.domain,a),zr(l,da,y),zr(l,pa,v),Or(d,e.domain,a),zr(d,da,y),zr(d,pa,v),Or(C,e.domain,x),zr(C,wa,x);const S=zr(x,Hr),I=zr(x,Wr),P=zr(x,qr),A=zr(x,Qr);zr(k,Hr,S),zr(k,Wr,I),zr(k,qr,P),zr(k,Qr,A),zr(S,Jr,x),zr(I,Zr,x),zr(P,Kr,x),zr(A,Yr,x),zr(S,Jr,x);const O=Qa(qa),L=Qa(qa),E=Qa(qa),z=Qa(qa);Or(S,i,O),Or(I,i,L),Or(P,i,E),Or(A,i,z);const D=Qa(),M=Qa(),N=Qa(),R=Qa();return Or(S,o),Or(I,o),Or(P,o),Or(A,o),Or(O,i,O),Or(L,i,L),Or(E,i,E),Or(z,i,z),Or(O,o,O),Or(L,o,L),Or(E,o,E),Or(z,o,z),Or(D,i,D),Or(M,i,L),Or(N,i,E),Or(R,i,z),Or(D,o,D),Or(M,o,M),Or(N,o,N),Or(R,o,R),zr(L,Zr,x),zr(E,Kr,x),zr(z,Yr,x),zr(O,Jr,x),zr(M,Zr,x),zr(N,Kr,x),zr(R,Yr,x),zr(D,Yr,x),zr(s,Nr,b),zr(s,Br,Wa),{start:s,tokens:Ta}}(Za.scanner.tokens);for(let t=0;t<Za.pluginQueue.length;t++)Za.pluginQueue[t][1]({scanner:Za.scanner,parser:Za.parser});Za.initialized=!0}function Ya(t){return Za.initialized||Ka(),function(t,e,i){let o=i.length,n=0,s=[],r=[];for(;n<o;){let a=t,l=null,d=null,c=0,h=null,p=-1;for(;n<o&&!(l=a.go(i[n].t));)r.push(i[n++]);for(;n<o&&(d=l||a.go(i[n].t));)l=null,a=d,a.accepts()?(p=0,h=a):p>=0&&p++,n++,c++;if(p<0)n-=c,n<o&&(r.push(i[n]),n++);else{r.length>0&&(s.push(Ja(Ha,e,r)),r=[]),n-=p,c-=p;const t=h.t,o=i.slice(n-c,n);s.push(Ja(t,e,o))}}return r.length>0&&s.push(Ja(Ha,e,r)),s}(Za.parser.start,t,function(t,e){const i=function(t){const e=[],i=t.length;let o=0;for(;o<i;){let n,s=t.charCodeAt(o),r=s<55296||s>56319||o+1===i||(n=t.charCodeAt(o+1))<56320||n>57343?t[o]:t.slice(o,o+2);e.push(r),o+=r.length}return e}(e.replace(/[A-Z]/g,(t=>t.toLowerCase()))),o=i.length,n=[];let s=0,r=0;for(;r<o;){let a=t,l=null,d=0,c=null,h=-1,p=-1;for(;r<o&&(l=a.go(i[r]));)a=l,a.accepts()?(h=0,p=0,c=a):h>=0&&(h+=i[r].length,p++),d+=i[r].length,s+=i[r].length,r++;s-=h,r-=p,d-=h,n.push({t:c.t,v:e.slice(s-d,s),s:s-d,e:s})}return n}(Za.scanner.start,t))}var Xa={amp:"&",gt:">",lt:"<",nbsp:" ",quot:'"'},tl=/^#[xX]([A-Fa-f0-9]+)$/,el=/^#([0-9]+)$/,il=/^([A-Za-z0-9]+)$/,ol=function(){function t(t){this.named=t}return t.prototype.parse=function(t){if(t){var e=t.match(tl);return e?String.fromCharCode(parseInt(e[1],16)):(e=t.match(el))?String.fromCharCode(parseInt(e[1],10)):(e=t.match(il))?this.named[e[1]]||"&"+e[1]+";":void 0}},t}(),nl=/[\t\n\f ]/,sl=/[A-Za-z]/,rl=/\r\n?/g;function al(t){return nl.test(t)}function ll(t){return sl.test(t)}var dl=function(){function t(t,e,i){void 0===i&&(i="precompile"),this.delegate=t,this.entityParser=e,this.mode=i,this.state="beforeData",this.line=-1,this.column=-1,this.input="",this.index=-1,this.tagNameBuffer="",this.states={beforeData:function(){var t=this.peek();if("<"!==t||this.isIgnoredEndTag()){if("precompile"===this.mode&&"\n"===t){var e=this.tagNameBuffer.toLowerCase();"pre"!==e&&"textarea"!==e||this.consume()}this.transitionTo("data"),this.delegate.beginData()}else this.transitionTo("tagOpen"),this.markTagStart(),this.consume()},data:function(){var t=this.peek(),e=this.tagNameBuffer;"<"!==t||this.isIgnoredEndTag()?"&"===t&&"script"!==e&&"style"!==e?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(t)):(this.delegate.finishData(),this.transitionTo("tagOpen"),this.markTagStart(),this.consume())},tagOpen:function(){var t=this.consume();"!"===t?this.transitionTo("markupDeclarationOpen"):"/"===t?this.transitionTo("endTagOpen"):("@"===t||":"===t||ll(t))&&(this.transitionTo("tagName"),this.tagNameBuffer="",this.delegate.beginStartTag(),this.appendToTagName(t))},markupDeclarationOpen:function(){var t=this.consume();"-"===t&&"-"===this.peek()?(this.consume(),this.transitionTo("commentStart"),this.delegate.beginComment()):"DOCTYPE"===t.toUpperCase()+this.input.substring(this.index,this.index+6).toUpperCase()&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.transitionTo("doctype"),this.delegate.beginDoctype&&this.delegate.beginDoctype())},doctype:function(){al(this.consume())&&this.transitionTo("beforeDoctypeName")},beforeDoctypeName:function(){var t=this.consume();al(t)||(this.transitionTo("doctypeName"),this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(t.toLowerCase()))},doctypeName:function(){var t=this.consume();al(t)?this.transitionTo("afterDoctypeName"):">"===t?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeName&&this.delegate.appendToDoctypeName(t.toLowerCase())},afterDoctypeName:function(){var t=this.consume();if(!al(t))if(">"===t)this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData");else{var e=t.toUpperCase()+this.input.substring(this.index,this.index+5).toUpperCase(),i="PUBLIC"===e.toUpperCase(),o="SYSTEM"===e.toUpperCase();(i||o)&&(this.consume(),this.consume(),this.consume(),this.consume(),this.consume(),this.consume()),i?this.transitionTo("afterDoctypePublicKeyword"):o&&this.transitionTo("afterDoctypeSystemKeyword")}},afterDoctypePublicKeyword:function(){var t=this.peek();al(t)?(this.transitionTo("beforeDoctypePublicIdentifier"),this.consume()):'"'===t?(this.transitionTo("doctypePublicIdentifierDoubleQuoted"),this.consume()):"'"===t?(this.transitionTo("doctypePublicIdentifierSingleQuoted"),this.consume()):">"===t&&(this.consume(),this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},doctypePublicIdentifierDoubleQuoted:function(){var t=this.consume();'"'===t?this.transitionTo("afterDoctypePublicIdentifier"):">"===t?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(t)},doctypePublicIdentifierSingleQuoted:function(){var t=this.consume();"'"===t?this.transitionTo("afterDoctypePublicIdentifier"):">"===t?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypePublicIdentifier&&this.delegate.appendToDoctypePublicIdentifier(t)},afterDoctypePublicIdentifier:function(){var t=this.consume();al(t)?this.transitionTo("betweenDoctypePublicAndSystemIdentifiers"):">"===t?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):'"'===t?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):"'"===t&&this.transitionTo("doctypeSystemIdentifierSingleQuoted")},betweenDoctypePublicAndSystemIdentifiers:function(){var t=this.consume();al(t)||(">"===t?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):'"'===t?this.transitionTo("doctypeSystemIdentifierDoubleQuoted"):"'"===t&&this.transitionTo("doctypeSystemIdentifierSingleQuoted"))},doctypeSystemIdentifierDoubleQuoted:function(){var t=this.consume();'"'===t?this.transitionTo("afterDoctypeSystemIdentifier"):">"===t?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(t)},doctypeSystemIdentifierSingleQuoted:function(){var t=this.consume();"'"===t?this.transitionTo("afterDoctypeSystemIdentifier"):">"===t?(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData")):this.delegate.appendToDoctypeSystemIdentifier&&this.delegate.appendToDoctypeSystemIdentifier(t)},afterDoctypeSystemIdentifier:function(){var t=this.consume();al(t)||">"===t&&(this.delegate.endDoctype&&this.delegate.endDoctype(),this.transitionTo("beforeData"))},commentStart:function(){var t=this.consume();"-"===t?this.transitionTo("commentStartDash"):">"===t?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData(t),this.transitionTo("comment"))},commentStartDash:function(){var t=this.consume();"-"===t?this.transitionTo("commentEnd"):">"===t?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("-"),this.transitionTo("comment"))},comment:function(){var t=this.consume();"-"===t?this.transitionTo("commentEndDash"):this.delegate.appendToCommentData(t)},commentEndDash:function(){var t=this.consume();"-"===t?this.transitionTo("commentEnd"):(this.delegate.appendToCommentData("-"+t),this.transitionTo("comment"))},commentEnd:function(){var t=this.consume();">"===t?(this.delegate.finishComment(),this.transitionTo("beforeData")):(this.delegate.appendToCommentData("--"+t),this.transitionTo("comment"))},tagName:function(){var t=this.consume();al(t)?this.transitionTo("beforeAttributeName"):"/"===t?this.transitionTo("selfClosingStartTag"):">"===t?(this.delegate.finishTag(),this.transitionTo("beforeData")):this.appendToTagName(t)},endTagName:function(){var t=this.consume();al(t)?(this.transitionTo("beforeAttributeName"),this.tagNameBuffer=""):"/"===t?(this.transitionTo("selfClosingStartTag"),this.tagNameBuffer=""):">"===t?(this.delegate.finishTag(),this.transitionTo("beforeData"),this.tagNameBuffer=""):this.appendToTagName(t)},beforeAttributeName:function(){var t=this.peek();al(t)?this.consume():"/"===t?(this.transitionTo("selfClosingStartTag"),this.consume()):">"===t?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):"="===t?(this.delegate.reportSyntaxError("attribute name cannot start with equals sign"),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(t)):(this.transitionTo("attributeName"),this.delegate.beginAttribute())},attributeName:function(){var t=this.peek();al(t)?(this.transitionTo("afterAttributeName"),this.consume()):"/"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"="===t?(this.transitionTo("beforeAttributeValue"),this.consume()):">"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):'"'===t||"'"===t||"<"===t?(this.delegate.reportSyntaxError(t+" is not a valid character within attribute names"),this.consume(),this.delegate.appendToAttributeName(t)):(this.consume(),this.delegate.appendToAttributeName(t))},afterAttributeName:function(){var t=this.peek();al(t)?this.consume():"/"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"="===t?(this.consume(),this.transitionTo("beforeAttributeValue")):">"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.transitionTo("attributeName"),this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(t))},beforeAttributeValue:function(){var t=this.peek();al(t)?this.consume():'"'===t?(this.transitionTo("attributeValueDoubleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):"'"===t?(this.transitionTo("attributeValueSingleQuoted"),this.delegate.beginAttributeValue(!0),this.consume()):">"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.transitionTo("attributeValueUnquoted"),this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(t))},attributeValueDoubleQuoted:function(){var t=this.consume();'"'===t?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):"&"===t?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(t)},attributeValueSingleQuoted:function(){var t=this.consume();"'"===t?(this.delegate.finishAttributeValue(),this.transitionTo("afterAttributeValueQuoted")):"&"===t?this.delegate.appendToAttributeValue(this.consumeCharRef()||"&"):this.delegate.appendToAttributeValue(t)},attributeValueUnquoted:function(){var t=this.peek();al(t)?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("beforeAttributeName")):"/"===t?(this.delegate.finishAttributeValue(),this.consume(),this.transitionTo("selfClosingStartTag")):"&"===t?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef()||"&")):">"===t?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):(this.consume(),this.delegate.appendToAttributeValue(t))},afterAttributeValueQuoted:function(){var t=this.peek();al(t)?(this.consume(),this.transitionTo("beforeAttributeName")):"/"===t?(this.consume(),this.transitionTo("selfClosingStartTag")):">"===t?(this.consume(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},selfClosingStartTag:function(){">"===this.peek()?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.transitionTo("beforeData")):this.transitionTo("beforeAttributeName")},endTagOpen:function(){var t=this.consume();("@"===t||":"===t||ll(t))&&(this.transitionTo("endTagName"),this.tagNameBuffer="",this.delegate.beginEndTag(),this.appendToTagName(t))}},this.reset()}return t.prototype.reset=function(){this.transitionTo("beforeData"),this.input="",this.tagNameBuffer="",this.index=0,this.line=1,this.column=0,this.delegate.reset()},t.prototype.transitionTo=function(t){this.state=t},t.prototype.tokenize=function(t){this.reset(),this.tokenizePart(t),this.tokenizeEOF()},t.prototype.tokenizePart=function(t){for(this.input+=function(t){return t.replace(rl,"\n")}(t);this.index<this.input.length;){var e=this.states[this.state];if(void 0===e)throw new Error("unhandled state "+this.state);e.call(this)}},t.prototype.tokenizeEOF=function(){this.flushData()},t.prototype.flushData=function(){"data"===this.state&&(this.delegate.finishData(),this.transitionTo("beforeData"))},t.prototype.peek=function(){return this.input.charAt(this.index)},t.prototype.consume=function(){var t=this.peek();return this.index++,"\n"===t?(this.line++,this.column=0):this.column++,t},t.prototype.consumeCharRef=function(){var t=this.input.indexOf(";",this.index);if(-1!==t){var e=this.input.slice(this.index,t),i=this.entityParser.parse(e);if(i){for(var o=e.length;o;)this.consume(),o--;return this.consume(),i}}},t.prototype.markTagStart=function(){this.delegate.tagOpen()},t.prototype.appendToTagName=function(t){this.tagNameBuffer+=t,this.delegate.appendToTagName(t)},t.prototype.isIgnoredEndTag=function(){var t=this.tagNameBuffer;return"title"===t&&"</title>"!==this.input.substring(this.index,this.index+8)||"style"===t&&"</style>"!==this.input.substring(this.index,this.index+8)||"script"===t&&"<\/script>"!==this.input.substring(this.index,this.index+9)},t}(),cl=function(){function t(t,e){void 0===e&&(e={}),this.options=e,this.token=null,this.startLine=1,this.startColumn=0,this.tokens=[],this.tokenizer=new dl(this,t,e.mode),this._currentAttribute=void 0}return t.prototype.tokenize=function(t){return this.tokens=[],this.tokenizer.tokenize(t),this.tokens},t.prototype.tokenizePart=function(t){return this.tokens=[],this.tokenizer.tokenizePart(t),this.tokens},t.prototype.tokenizeEOF=function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},t.prototype.reset=function(){this.token=null,this.startLine=1,this.startColumn=0},t.prototype.current=function(){var t=this.token;if(null===t)throw new Error("token was unexpectedly null");if(0===arguments.length)return t;for(var e=0;e<arguments.length;e++)if(t.type===arguments[e])return t;throw new Error("token type was unexpectedly "+t.type)},t.prototype.push=function(t){this.token=t,this.tokens.push(t)},t.prototype.currentAttribute=function(){return this._currentAttribute},t.prototype.addLocInfo=function(){this.options.loc&&(this.current().loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},t.prototype.beginDoctype=function(){this.push({type:"Doctype",name:""})},t.prototype.appendToDoctypeName=function(t){this.current("Doctype").name+=t},t.prototype.appendToDoctypePublicIdentifier=function(t){var e=this.current("Doctype");void 0===e.publicIdentifier?e.publicIdentifier=t:e.publicIdentifier+=t},t.prototype.appendToDoctypeSystemIdentifier=function(t){var e=this.current("Doctype");void 0===e.systemIdentifier?e.systemIdentifier=t:e.systemIdentifier+=t},t.prototype.endDoctype=function(){this.addLocInfo()},t.prototype.beginData=function(){this.push({type:"Chars",chars:""})},t.prototype.appendToData=function(t){this.current("Chars").chars+=t},t.prototype.finishData=function(){this.addLocInfo()},t.prototype.beginComment=function(){this.push({type:"Comment",chars:""})},t.prototype.appendToCommentData=function(t){this.current("Comment").chars+=t},t.prototype.finishComment=function(){this.addLocInfo()},t.prototype.tagOpen=function(){},t.prototype.beginStartTag=function(){this.push({type:"StartTag",tagName:"",attributes:[],selfClosing:!1})},t.prototype.beginEndTag=function(){this.push({type:"EndTag",tagName:""})},t.prototype.finishTag=function(){this.addLocInfo()},t.prototype.markTagAsSelfClosing=function(){this.current("StartTag").selfClosing=!0},t.prototype.appendToTagName=function(t){this.current("StartTag","EndTag").tagName+=t},t.prototype.beginAttribute=function(){this._currentAttribute=["","",!1]},t.prototype.appendToAttributeName=function(t){this.currentAttribute()[0]+=t},t.prototype.beginAttributeValue=function(t){this.currentAttribute()[2]=t},t.prototype.appendToAttributeValue=function(t){this.currentAttribute()[1]+=t},t.prototype.finishAttributeValue=function(){this.current("StartTag").attributes.push(this._currentAttribute)},t.prototype.reportSyntaxError=function(t){this.current().syntaxError=t},t}();const hl="LinkifyResult",pl="StartTag",ul="EndTag",ml="Chars",gl="Comment",fl="Doctype";function vl(t,e){void 0===e&&(e={});const i=function(t,e){return new cl(new ol(Xa),e).tokenize(t)}(t),o=[],n=[],s=new ja(e,_l);for(let t=0;t<i.length;t++){const e=i[t];if(e.type===pl){o.push(e);const n=e.tagName.toUpperCase();if(!("A"===n||s.ignoreTags.indexOf(n)>=0))continue;let r=o.length;bl(n,i,++t,o),t+=o.length-r-1}else if(e.type!==ml)o.push(e);else{const t=yl(e.chars,s);o.push.apply(o,t)}}for(let t=0;t<o.length;t++){const e=o[t];switch(e.type){case hl:n.push(e.rendered);break;case pl:{let t="<"+e.tagName;e.attributes.length>0&&(t+=" "+kl(e.attributes).join(" ")),e.selfClosing&&(t+=" /"),t+=">",n.push(t);break}case ul:n.push(`</${e.tagName}>`);break;case ml:n.push(wl(e.chars));break;case gl:n.push(`\x3c!--${wl(e.chars)}--\x3e`);break;case fl:{let t=`<!DOCTYPE ${e.name}`;e.publicIdentifier&&(t+=` PUBLIC "${e.publicIdentifier}"`),e.systemIdentifier&&(t+=` "${e.systemIdentifier}"`),t+=">",n.push(t);break}}}return n.join("")}function yl(t,e){const i=Ya(t),o=[];for(let t=0;t<i.length;t++){const n=i[t];"nl"===n.t&&e.get("nl2br")?o.push({type:pl,tagName:"br",attributes:[],selfClosing:!0}):n.isLink&&e.check(n)?o.push({type:hl,rendered:e.render(n)}):o.push({type:ml,chars:n.toString()})}return o}function bl(t,e,i,o){let n=1;for(;i<e.length&&n>0;){let s=e[i];s.type===pl&&s.tagName.toUpperCase()===t?n++:s.type===ul&&s.tagName.toUpperCase()===t&&n--,o.push(s),i++}return o}function _l(t){let{tagName:e,attributes:i,content:o}=t;return`<${e} ${function(t){const e=[];for(const i in t){const o=t[i]+"";e.push(`${i}="${xl(o)}"`)}return e.join(" ")}(i)}>${wl(o)}</${e}>`}function wl(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function xl(t){return t.replace(/"/g,"&quot;")}function kl(t){const e=[];for(let i=0;i<t.length;i++){const o=t[i][0],n=t[i][1]+"";e.push(`${o}="${xl(n)}"`)}return e}var Cl;let $l=Cl=class extends Ci{constructor(){super(...arguments),this.autoTranslate=!1,this.textOnly=!1,this.isDialog=!1,this.disableTranslation=!1,this.simpleFormat=!1,this.skipSanitize=!1,this.removeUrls=!1,this.linkifyCutoff=25,this.widetext=!1}connectedCallback(){super.connectedCallback(),this.addGlobalListener("yp-auto-translate",this._autoTranslateEvent.bind(this))}disconnectedCallback(){super.disconnectedCallback(),this.removeGlobalListener("yp-auto-translate",this._autoTranslateEvent.bind(this))}static get styles(){return[super.styles,a`:host{display:block}.container[rtl]{direction:rtl}.moreText{color:var(--accent-color);background-color:#fff;margin-top:8px}@media (max-width:600px){.moreText{margin-bottom:2px}}`]}render(){return N` <div class="container layout-center-center layout-vertical" ?rlt="${this.rtl}" ?more-text="${this.showMoreText}"> ${this.finalContent?N` <div>${as(this.finalContent)}</div> `:N` <div>${this.truncatedContent}</div> `} ${this.showMoreText&&this.moreText?N` <md-outlined-button class="moreText" @click="${this._openFullScreen}" .label="${this.moreText}"></md-outlined-button> `:U} </div> `}static get doubleWidthLanguages(){return["zh_TW","hy"]}static get cyrillicLanguages(){return["ru","ky"]}static get widerLanguages(){return["uk","ky","uz","ru","sr","zh_TW","hy","bg"]}get showMoreText(){return this.isDialog||this.truncate?this.isDialog&&(this.truncate=void 0):this.truncate=500,void 0!==this.moreText&&void 0!==this.content&&void 0!==this.truncate&&this.content.length>this.truncate}_openFullScreen(){window.appDialogs.getDialogAsync("magicTextDialog",(t=>{t.open(this.content,this.contentId,this.extraId,this.textType,this.contentLanguage,this.closeDialogText,this.structuredQuestionsConfig,this.skipSanitize,this.disableTranslation)}))}subClassProcessing(){}updated(t){super.updated(t),t.has("content")&&(this.content&&""!==this.content?(this.finalContent=void 0,window.appGlobals.autoTranslate&&(this.autoTranslate=window.appGlobals.autoTranslate),this.autoTranslate&&this.truncate?this.truncatedContent=Cl.truncateText(Cl.trim(this.content),this.truncate):this.truncatedContent=this.content,this.contentLanguage&&this.largeFont||Cl.widerLanguages.indexOf(this.contentLanguage)>-1?this.widetext=!0:this.widetext=!1,this._update()):(this.truncatedContent=void 0,this.finalContent=void 0))}_autoTranslateEvent(t){this.autoTranslate=t.detail,this._update()}_languageEvent(t){super._languageEvent(t),this._update()}get indexKey(){return`${this.textType}-${this.contentId}-${this.language}`}async _startTranslationAndFinalize(){if(window.appGlobals.cache.autoTranslateCache[this.indexKey])this.processedContent=window.appGlobals.cache.autoTranslateCache[this.indexKey],this._finalize();else if(this.contentId){let t;switch(this.textType){case"postName":case"postContent":case"postTags":case"postTranscriptContent":t="/api/posts/"+this.contentId+"/translatedText";break;case"pointContent":case"pointAdminCommentContent":t="/api/points/"+this.contentId+"/translatedText";break;case"domainName":case"domainContent":t="/api/domains/"+this.contentId+"/translatedText";break;case"customRatingName":t="/api/ratings/"+this.contentId+"/"+this.extraId+"/translatedText";break;case"communityName":case"communityContent":t="/api/communities/"+this.contentId+"/translatedText";break;case"alternativeTextForNewIdeaButton":case"alternativeTextForNewIdeaButtonClosed":case"alternativeTextForNewIdeaButtonHeader":case"alternativeTextForNewIdeaSaveButton":case"customThankYouTextNewPosts":case"customTitleQuestionText":case"alternativePointForHeader":case"customAdminCommentsTitle":case"alternativePointAgainstHeader":case"urlToReviewActionText":case"alternativePointForLabel":case"alternativePointAgainstLabel":case"groupName":case"groupContent":t="/api/groups/"+this.contentId+"/translatedText";break;case"categoryName":t="/api/categories/"+this.contentId+"/translatedText";break;case"statusChangeContent":t="/api/posts/"+this.extraId+"/"+this.contentId+"/translatedStatusText";break;default:return void console.error("No valid textType for magic text to translate: "+this.textType)}t=`${t}?textType=${this.textType}&contentId=${this.contentId}&targetLanguage=${this.language}`;const e=await window.serverApi.getTranslation(t);this.processedContent=e?.content,this.processedContent?(window.appGlobals.cache.autoTranslateCache[this.indexKey]=this.processedContent,this.fire("new-translation")):console.error("No content from translation"),this._finalize()}else console.error("No content id for: "+this.textType),this._finalize()}_update(){this.processedContent=this.content,this.processedContent&&(this.autoTranslate&&this.language!==this.contentLanguage&&!this.disableTranslation&&"??"!==this.contentLanguage?this._startTranslationAndFinalize():this._finalize())}_setupStructuredQuestions(){if(this.structuredQuestionsConfig){let t;try{t=JSON.parse(this.structuredQuestionsConfig)}catch(e){t=null}if(t);else{const t=[],e=this.structuredQuestionsConfig.split(",");if(e&&e.length>1){for(let i=0;i<e.length;i+=2)t.push(e[i]);const i=new RegExp("("+t.join("|")+")","ig");this.processedContent=this.processedContent?.replace(i,"<b>$1</b>")}else console.warn("Not questions for structuredQuestionsConfig")}}}_finalize(){if(this.textOnly||this._linksAndEmojis(),this.truncate&&this.content&&(this.content.length>this.truncate||this.autoTranslate)){let t=this.truncate;this.autoTranslate&&Cl.doubleWidthLanguages.indexOf(this.language)>-1&&(t/=2),this.processedContent&&(this.processedContent=Cl.truncateText(Cl.trim(this.processedContent),t,"..."))}this.simpleFormat&&this.processedContent&&(this.processedContent=this.processedContent.trim().replace(/(\n)/g,"<br>")),this.removeUrls&&this.processedContent&&(this.processedContent=this.processedContent.replace(/(?:https?|ftp):\/\/[\n\S]+/g,"")),this._setupStructuredQuestions(),this.subClassProcessing(),this.processedContent!==this.finalContent&&(window.appGlobals.magicTextIronResizeDebouncer||(window.appGlobals.magicTextIronResizeDebouncer=window.setTimeout((()=>{window.appGlobals.magicTextIronResizeDebouncer=void 0}),100))),this.processedContent&&"undefined"!==this.processedContent&&this.content!==this.processedContent?this.finalContent=this.processedContent:this.finalContent=void 0}_linksAndEmojis(){!this.skipSanitize&&this.processedContent?(this.processedContent=this.processedContent.replace(/&amp;/g,"&"),this.processedContent=vl(this.processedContent,{format:(t,e)=>("url"===e&&t.length>this.linkifyCutoff-1&&(t=t.slice(0,this.linkifyCutoff)+"…"),t)}),this.processedContent=this.processedContent.replace(/&amp;/g,"&")):this.processedContent&&(this.processedContent=vl(this.processedContent,{format:(t,e)=>("url"===e&&t.length>this.linkifyCutoff-1&&(t=t.slice(0,this.linkifyCutoff)+"…"),t)}),this.processedContent=this.processedContent.replace(/&amp;/g,"&"))}static truncateText(t,e,i=undefined,o=undefined){if(e=e||255,t.length<=e)return t;if(i)t=t.substring(0,e);else{let i=t.lastIndexOf(" ",e);-1===i&&(i=e),t=t.substring(0,i)}return t+=null!=o?o:"..."}static trim(t){return t.replace(/^\s*|\s*$/g,"").trim()}};t([lt({type:String}),e("design:type",String)],$l.prototype,"content",void 0),t([lt({type:String}),e("design:type",String)],$l.prototype,"truncatedContent",void 0),t([lt({type:Number}),e("design:type",Number)],$l.prototype,"contentId",void 0),t([lt({type:Number}),e("design:type",Number)],$l.prototype,"extraId",void 0),t([lt({type:String}),e("design:type",String)],$l.prototype,"textType",void 0),t([lt({type:String}),e("design:type",String)],$l.prototype,"contentLanguage",void 0),t([lt({type:String}),e("design:type",String)],$l.prototype,"processedContent",void 0),t([lt({type:String}),e("design:type",String)],$l.prototype,"finalContent",void 0),t([lt({type:Boolean}),e("design:type",Object)],$l.prototype,"autoTranslate",void 0),t([lt({type:Number}),e("design:type",Number)],$l.prototype,"truncate",void 0),t([lt({type:String}),e("design:type",String)],$l.prototype,"moreText",void 0),t([lt({type:String}),e("design:type",String)],$l.prototype,"closeDialogText",void 0),t([lt({type:Boolean}),e("design:type",Object)],$l.prototype,"textOnly",void 0),t([lt({type:Boolean}),e("design:type",Object)],$l.prototype,"isDialog",void 0),t([lt({type:Boolean}),e("design:type",Object)],$l.prototype,"disableTranslation",void 0),t([lt({type:Boolean}),e("design:type",Object)],$l.prototype,"simpleFormat",void 0),t([lt({type:Boolean}),e("design:type",Object)],$l.prototype,"skipSanitize",void 0),t([lt({type:Boolean}),e("design:type",Object)],$l.prototype,"removeUrls",void 0),t([lt({type:String}),e("design:type",String)],$l.prototype,"structuredQuestionsConfig",void 0),t([lt({type:Number}),e("design:type",Object)],$l.prototype,"linkifyCutoff",void 0),t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],$l.prototype,"widetext",void 0),$l=Cl=t([rt("yp-magic-text")],$l);class Tl{static number(t){return t?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0"}static removeClass(t,e){let i="";if(t){const o=t.className.split(" ");for(let t=0;t<o.length;t++)o[t]!==e&&(i+=o[t]+" ");t.className=i}else console.error("Trying to remove class from a non exisisting element")}static truncate(t,e,i=undefined,o=undefined){if(e=e||255,t.length<=e)return t;if(i)t=t.substring(0,e);else{let i=t.lastIndexOf(" ",e);-1===i&&(i=e),t=t.substring(0,i)}return t+=null!=o?o:"..."}static trim(t){return t.replace(/^\s*|\s*$/g,"")}}let Sl=class extends Ci{static get styles(){return[super.styles,a`:host{display:block;width:100%}.stats{padding-top:8px;padding-bottom:0;color:var(--mdc-theme-on-surface-lighter)}.stats-text{font-size:18px;text-align:right;vertical-align:bottom;margin-right:8px;color:var(--mdc-theme-on-surface-lighter)}.stats-icon{margin-left:8px;margin-bottom:8px;margin-right:8px}`]}render(){return this.collection?N` <div class="stats layout horizontal end-justified"> <div class="layout horizontal"> <md-icon title="${this.t("stats.posts")}" class="stats-icon bulb">lightbulb_outline</md-icon> <div title="${this.t("stats.posts")}" class="stats-text"> ${Tl.number(this.collection.counter_posts)} </div> ${"community"===this.collectionType?N` <md-icon title="${this.t("stats.groups")}" class="stats-icon">groups</md-icon> <div title="${this.t("stats.groups")}" class="stats-text"> ${Tl.number(this.collection.counter_groups)} </div> `:U} ${"domain"===this.collectionType?N` <md-icon title="${this.t("stats.communities")}" class="stats-icon">groups</md-icon> <div title="${this.t("stats.communities")}" class="stats-text"> ${Tl.number(this.collection.counter_communities)} </div> `:U} <md-icon title="${this.t("statsPoints")}" icon="people" class="stats-icon">comment</md-icon> <div title="${this.t("statsPoints")}" class="stats-text"> ${Tl.number(this.collection.counter_points)} </div> <md-icon title="${this.t("stats.users")}" icon="face" class="stats-icon">person</md-icon> <div title="${this.t("stats.users")}" class="stats-text"> ${Tl.number(this.collection.counter_users)} </div> </div> </div> `:U}};t([lt({type:Object}),e("design:type",Object)],Sl.prototype,"collection",void 0),t([lt({type:String}),e("design:type",String)],Sl.prototype,"collectionType",void 0),Sl=t([rt("yp-collection-stats")],Sl);let Il,Pl,Al=class extends Ci{constructor(){super(...arguments),this.hideImage=!1}get hasCollectionAccess(){switch(this.collectionType){case"domain":return sr.checkDomainAccess(this.collection);case"community":return sr.checkCommunityAccess(this.collection);case"group":return sr.checkGroupAccess(this.collection);default:return!1}}get collectionVideos(){switch(this.collectionType){case"domain":return this.collection.DomainLogoVideos;case"community":return this.collection.CommunityLogoVideos;case"group":return this.collection.GroupLogoVideos}}get openMenuLabel(){switch(this.collectionType){case"domain":return this.t("openDomainMenu");case"community":return this.t("openCommunityMenu");case"group":return this.t("openGroupMenu");default:return"Open menu"}}get collectionHeaderImages(){switch(this.collectionType){case"domain":return this.collection.DomainHeaderImages;case"community":return this.collection.CommunityHeaderImages;case"group":return this.collection.GroupHeaderImages}}get collectionVideoURL(){if(this.collection&&this.collection.configuration&&this.collection.configuration.useVideoCover){const t=this.collectionVideos;if(t){const e=dr.getVideoURL(t);return e?(this.collectionVideoId=t[0].id,e):void 0}}}get collectionVideoPosterURL(){if(this.collection&&this.collection.configuration&&this.collection.configuration.useVideoCover){const t=dr.getVideoPosterURL(this.collectionVideos,hr.logoImages(this.collectionType,this.collection));return t||void 0}}get collectionHeaderImagePath(){return dr.getImageFormatUrl(this.collectionHeaderImages,0)}static get styles(){return[super.styles,cr,a`.stats{position:absolute;bottom:0;right:8px}.collection-name{font-size:var(--mdc-typography-headline1-font-size);font-weight:var(--mdc-typography-headline1-font-weight);background-color:var(--mdc-theme-primary);color:var(--mdc-theme-on-primary);padding:16px}.collection-name[widetext]{font-size:var(--mdc-typography-headline1-widetext-font-size,20px)}.collection-name[largeFont]{font-size:var(--mdc-typography-headline1-widetext-font-size,20px)}.large-card{color:var(--mdc-theme-on-surface);background-color:var(--mdc-theme-surface);height:243px;width:432px;padding:0!important;margin-top:0!important}.image,video{width:432px;height:243px}#menuButton{color:var(--mdc-theme-on-primary);background-color:var(--mdc-theme-primary);position:absolute;top:0;right:0}.textBox{margin-left:32px;position:relative}.description{padding:16px;vertical-align:middle;font-size:15px}.description[widetext]{font-size:14px}#welcomeHTML{width:432px;max-width:432px;overflow:hidden}:host{margin-top:32px;margin-bottom:32px}@media (max-width:960px){:host{max-width:423px;padding:0!important;padding-top:8px!important;width:100%}#welcomeHTML{width:306px;max-width:306px}.large-card{width:100%;height:100%;margin-left:8px;margin-right:8px;margin-top:8px!important}.top-card{margin-bottom:16px}.image,video,yp-image{width:100%;height:230px}.imageCard{height:230px}.imageCard[is-video]{background-color:transparent}.collection-name{font-size:22px;padding-bottom:9px;min-height:28px}.description{padding-bottom:42px}.textBox{margin-left:8px}}@media (max-width:375px){.image,video,yp-image{height:225px}.imageCard{height:225px}}@media (max-width:375px){.image,video,yp-image{height:207px}.imageCard{height:205px}}@media (max-width:360px){.image,video,yp-image{height:200px}.imageCard{height:200px}}@media (max-width:320px){.image,video,yp-image{height:180px}.imageCard{height:180px}}[hidden]{display:none!important}a{text-decoration:none;color:inherit}`]}renderStats(){switch(this.collectionType){case"domain":case"community":case"group":return N``;default:return U}}renderFirstBoxContent(){return this.collection?.configuration?.welcomeHTML?N`<div id="welcomeHTML"> ${as(this.collection.configuration.welcomeHTML)} </div>`:this.collectionVideoURL?N` <video id="videoPlayer" data-id="${bt(this.collectionVideoId)}" controls preload="metadata" class="image" src="${this.collectionVideoURL}" playsinline poster="${bt(this.collectionVideoPosterURL)}"></video> `:this.collection?N` <yp-image class="image" ?hidden="${this.hideImage}" .alt="${this.collection.name}" sizing="cover" .src="${hr.logoImagePath(this.collectionType,this.collection)}"></yp-image> `:U}_openMenu(){this.$$("#menu").open=!0,this.requestUpdate()}renderMenu(){return N` <div> <md-outlined-icon-button id="menuButton" icon="more_vert" @click="${this._openMenu}" title="${this.openMenuLabel}"> </md-outlined-icon-button> <md-menu id="adminMenu" @changed="${this._menuSelection}"> <md-menu-item id="openAdminApp">${this.t("openAdministration")}</md-menu-item> <md-menu-item id="openAnalyticsApp">${this.t("openAnalyticsApp")}</md-menu-item> </md-menu> </div> `}renderFooter(){return N` <div class="stats layout horizontal"> <yp-collection-stats .collectionType="${this.collectionType}" .collection="${this.collection}"></yp-collection-stats> </div> `}render(){return N` ${this.collection?N` <div class="layout horizontal wrap"> <div is-video="${bt(this.collectionVideoURL)}" id="cardImage" class="large-card imageCard top-card shadow-elevation-8dp shadow-transition"> ${this.renderFirstBoxContent()} </div> <div id="card" class="large-card textBox shadow-elevation-8dp shadow-transition layout horizontal"> <div class="layout vertical"> <div class="descriptionContainer"> <div> <yp-magic-text class="collection-name" role="heading" aria-level="1" ?largeFont="${this.largeFont}" aria-label="${this.collection.name}" .textType="${hr.nameTextType(this.collectionType)}" .contentLanguage="${this.collection.language}" ?disableTranslation="${this.collection.configuration?.disableNameAutoTranslation}" textOnly .content="${this.collection.name}" .contentId="${this.collection.id}"> </yp-magic-text> <yp-magic-text id="description" class="description collectionDescription" .textType="${hr.descriptionTextType(this.collectionType)}" ?largeFont="${this.largeFont}" .contentLanguage="${this.collection.language}" truncate="150" .content="${this.collection.description||this.collection.objectives}" .contentId="${this.collection.id}"> </yp-magic-text> </div> </div> ${this.hasCollectionAccess?this.renderMenu():U} ${this.renderFooter()} </div> </div> </div> `:N``} `}connectedCallback(){super.connectedCallback(),this.addGlobalListener("yp-got-admin-rights",this.requestUpdate.bind(this)),this.addGlobalListener("yp-pause-media-playback",this._pauseMediaPlayback.bind(this))}disconnectedCallback(){super.disconnectedCallback(),this.removeGlobalListener("yp-got-admin-rights",this.requestUpdate),this.removeGlobalListener("yp-pause-media-playback",this._pauseMediaPlayback),dr.detachMediaListeners(this)}firstUpdated(t){super.firstUpdated(t),dr.attachMediaListeners(this)}updated(t){super.updated(t),t.has("collection")&&dr.detachMediaListeners(this),this.collection&&dr.attachMediaListeners(this)}_pauseMediaPlayback(){dr.pauseMediaPlayback(this)}_menuSelection(t){this.collection&&("editMenuItem"===t.detail.item.id?window.location.href=`/admin/${this.collectionType}/${this.collection.id}`:"openAnalyticsApp"===t.detail.item.id&&(window.location.href=`/analytics/${this.collectionType}/${this.collection.id}`),this.$$("#adminMenu").close())}};t([lt({type:Object}),e("design:type",Object)],Al.prototype,"collection",void 0),t([lt({type:String}),e("design:type",String)],Al.prototype,"collectionType",void 0),t([lt({type:Boolean}),e("design:type",Object)],Al.prototype,"hideImage",void 0),t([lt({type:Number}),e("design:type",Number)],Al.prototype,"flaggedContentCount",void 0),t([lt({type:Number}),e("design:type",Number)],Al.prototype,"collectionVideoId",void 0),t([lt({type:String}),e("design:type",String)],Al.prototype,"welcomeHTML",void 0),Al=t([rt("yp-collection-header")],Al);class Ol{static attachListeners(t){t.resetListSize=()=>{const e=t.$$("#ironList");if(e){let i=window.innerWidth;e&&(t.wide||(i-=16),t.skipIronListWidth?console.log("Skipping setting iron-list width"):e.style.width=i+"px",e.updateViewportBoundaries(),setTimeout((()=>{e.notifyResize()})))}else console.warn("Can't find list to setup for size resize")},window.addEventListener("resize",t.resetListSize),t.resetListSize(new CustomEvent("resize"))}static detachListeners(t){t.resetListSize&&window.removeEventListener("resize",t.resetListSize)}}class Ll{constructor(t){this._map=new Map,this._roundAverageSize=!1,this.totalSize=0,!0===(null==t?void 0:t.roundAverageSize)&&(this._roundAverageSize=!0)}set(t,e){const i=this._map.get(t)||0;this._map.set(t,e),this.totalSize+=e-i}get averageSize(){if(this._map.size>0){const t=this.totalSize/this._map.size;return this._roundAverageSize?Math.round(t):t}return 0}getSize(t){return this._map.get(t)}clear(){this._map.clear(),this.totalSize=0}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */async function El(){return Pl||async function(){Il=window.EventTarget;try{new Il}catch{Il=(await import("./f5d6678e.js")).EventTarget}return Pl=Il}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */()}function zl(t){return"horizontal"===t?"width":"height"}function Dl(t){return"horizontal"===t?"height":"width"}class Ml{constructor(t){this._latestCoords={left:0,top:0},this._direction=null,this._viewportSize={width:0,height:0},this.totalScrollSize={width:0,height:0},this.offsetWithinScroller={left:0,top:0},this._pendingReflow=!1,this._pendingLayoutUpdate=!1,this._pin=null,this._firstVisible=0,this._lastVisible=0,this._eventTargetPromise=El().then((t=>{this._eventTarget=new t})),this._physicalMin=0,this._physicalMax=0,this._first=-1,this._last=-1,this._sizeDim="height",this._secondarySizeDim="width",this._positionDim="top",this._secondaryPositionDim="left",this._scrollPosition=0,this._scrollError=0,this._items=[],this._scrollSize=1,this._overhang=1e3,this._eventTarget=null,Promise.resolve().then((()=>this.config=t||this._defaultConfig))}get _defaultConfig(){return{direction:"vertical"}}set config(t){Object.assign(this,Object.assign({},this._defaultConfig,t))}get config(){return{direction:this.direction}}get items(){return this._items}set items(t){t!==this._items&&(this._items=t,this._scheduleReflow())}get direction(){return this._direction}set direction(t){(t="horizontal"===t?t:"vertical")!==this._direction&&(this._direction=t,this._sizeDim="horizontal"===t?"width":"height",this._secondarySizeDim="horizontal"===t?"height":"width",this._positionDim="horizontal"===t?"left":"top",this._secondaryPositionDim="horizontal"===t?"top":"left",this._triggerReflow())}get viewportSize(){return this._viewportSize}set viewportSize(t){const{_viewDim1:e,_viewDim2:i}=this;Object.assign(this._viewportSize,t),i!==this._viewDim2?this._scheduleLayoutUpdate():e!==this._viewDim1&&this._checkThresholds()}get viewportScroll(){return this._latestCoords}set viewportScroll(t){Object.assign(this._latestCoords,t);const e=this._scrollPosition;this._scrollPosition=this._latestCoords[this._positionDim];Math.abs(e-this._scrollPosition)>=1&&this._updateVisibleIndices({emit:!0}),this._checkThresholds()}reflowIfNeeded(t=!1){(t||this._pendingReflow)&&(this._pendingReflow=!1,this._reflow())}set pin(t){this._pin=t,this._triggerReflow()}get pin(){if(null!==this._pin){const{index:t,block:e}=this._pin;return{index:Math.max(0,Math.min(t,this.items.length-1)),block:e}}return null}_clampScrollPosition(t){return Math.max(-this.offsetWithinScroller[this._positionDim],Math.min(t,this.totalScrollSize[zl(this.direction)]-this._viewDim1))}unpin(){null!==this._pin&&(this._emitUnpinned(),this._pin=null)}async dispatchEvent(t){await this._eventTargetPromise,this._eventTarget.dispatchEvent(t)}async addEventListener(t,e,i){await this._eventTargetPromise,this._eventTarget.addEventListener(t,e,i)}async removeEventListener(t,e,i){await this._eventTargetPromise,this._eventTarget.removeEventListener(t,e,i)}_updateLayout(){}get _viewDim1(){return this._viewportSize[this._sizeDim]}get _viewDim2(){return this._viewportSize[this._secondarySizeDim]}_scheduleReflow(){this._pendingReflow=!0}_scheduleLayoutUpdate(){this._pendingLayoutUpdate=!0,this._scheduleReflow()}_triggerReflow(){this._scheduleLayoutUpdate(),Promise.resolve().then((()=>this.reflowIfNeeded()))}_reflow(){this._pendingLayoutUpdate&&(this._updateLayout(),this._pendingLayoutUpdate=!1),this._updateScrollSize(),this._setPositionFromPin(),this._getActiveItems(),this._updateVisibleIndices(),this._emitScrollSize(),this._emitRange(),this._emitChildPositions(),this._emitScrollError()}_setPositionFromPin(){if(null!==this.pin){const t=this._scrollPosition,{index:e,block:i}=this.pin;this._scrollPosition=this._calculateScrollIntoViewPosition({index:e,block:i||"start"})-this.offsetWithinScroller[this._positionDim],this._scrollError=t-this._scrollPosition}}_calculateScrollIntoViewPosition(t){const{block:e}=t,i=Math.min(this.items.length,Math.max(0,t.index)),o=this._getItemPosition(i)[this._positionDim];let n=o;if("start"!==e){const t=this._getItemSize(i)[this._sizeDim];if("center"===e)n=o-.5*this._viewDim1+.5*t;else{const i=o-this._viewDim1+t;if("end"===e)n=i;else{const t=this._scrollPosition;n=Math.abs(t-o)<Math.abs(t-i)?o:i}}}return n+=this.offsetWithinScroller[this._positionDim],this._clampScrollPosition(n)}getScrollIntoViewCoordinates(t){return{[this._positionDim]:this._calculateScrollIntoViewPosition(t)}}_emitUnpinned(){this.dispatchEvent(new CustomEvent("unpinned"))}_emitRange(){const t={first:this._first,last:this._last,firstVisible:this._firstVisible,lastVisible:this._lastVisible};this.dispatchEvent(new CustomEvent("rangechange",{detail:t}))}_emitScrollSize(){const t={[this._sizeDim]:this._scrollSize,[this._secondarySizeDim]:null};this.dispatchEvent(new CustomEvent("scrollsizechange",{detail:t}))}_emitScrollError(){if(this._scrollError){const t={[this._positionDim]:this._scrollError,[this._secondaryPositionDim]:0};this.dispatchEvent(new CustomEvent("scrollerrorchange",{detail:t})),this._scrollError=0}}_emitChildPositions(){if(-1!==this._first&&-1!==this._last){const t=new Map;for(let e=this._first;e<=this._last;e++)t.set(e,this._getItemPosition(e));this.dispatchEvent(new CustomEvent("itempositionchange",{detail:t}))}}get _num(){return-1===this._first||-1===this._last?0:this._last-this._first+1}_checkThresholds(){if(0===this._viewDim1&&this._num>0||null!==this._pin)this._scheduleReflow();else{const t=Math.max(0,this._scrollPosition-this._overhang),e=Math.min(this._scrollSize,this._scrollPosition+this._viewDim1+this._overhang);(this._physicalMin>t||this._physicalMax<e)&&this._scheduleReflow()}}_updateVisibleIndices(t){if(-1===this._first||-1===this._last)return;let e=this._first;for(;e<this._last&&Math.round(this._getItemPosition(e)[this._positionDim]+this._getItemSize(e)[this._sizeDim])<=Math.round(this._scrollPosition);)e++;let i=this._last;for(;i>this._first&&Math.round(this._getItemPosition(i)[this._positionDim])>=Math.round(this._scrollPosition+this._viewDim1);)i--;e===this._firstVisible&&i===this._lastVisible||(this._firstVisible=e,this._lastVisible=i,t&&t.emit&&this._emitRange())}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Nl(t){return"horizontal"===t?"marginLeft":"marginTop"}function Rl(t){return"horizontal"===t?"marginRight":"marginBottom"}function Ul(t,e){const i=[t,e].sort();return i[1]<=0?Math.min(...i):i[0]>=0?Math.max(...i):i[0]+i[1]}class jl{constructor(){this._childSizeCache=new Ll,this._marginSizeCache=new Ll,this._metricsCache=new Map}update(t,e){var i,o;const n=new Set;Object.keys(t).forEach((i=>{const o=Number(i);this._metricsCache.set(o,t[o]),this._childSizeCache.set(o,t[o][zl(e)]),n.add(o),n.add(o+1)}));for(const t of n){const n=(null===(i=this._metricsCache.get(t))||void 0===i?void 0:i[Nl(e)])||0,s=(null===(o=this._metricsCache.get(t-1))||void 0===o?void 0:o[Rl(e)])||0;this._marginSizeCache.set(t,Ul(n,s))}}get averageChildSize(){return this._childSizeCache.averageSize}get totalChildSize(){return this._childSizeCache.totalSize}get averageMarginSize(){return this._marginSizeCache.averageSize}get totalMarginSize(){return this._marginSizeCache.totalSize}getLeadingMarginValue(t,e){var i;return(null===(i=this._metricsCache.get(t))||void 0===i?void 0:i[Nl(e)])||0}getChildSize(t){return this._childSizeCache.getSize(t)}getMarginSize(t){return this._marginSizeCache.getSize(t)}clear(){this._childSizeCache.clear(),this._marginSizeCache.clear(),this._metricsCache.clear()}}class Vl extends Ml{constructor(){super(...arguments),this._itemSize={width:100,height:100},this._physicalItems=new Map,this._newPhysicalItems=new Map,this._metricsCache=new jl,this._anchorIdx=null,this._anchorPos=null,this._stable=!0,this._measureChildren=!0,this._estimate=!0}get measureChildren(){return this._measureChildren}updateItemSizes(t){this._metricsCache.update(t,this.direction),this._scheduleReflow()}_getPhysicalItem(t){var e;return null!==(e=this._newPhysicalItems.get(t))&&void 0!==e?e:this._physicalItems.get(t)}_getSize(t){return this._getPhysicalItem(t)&&this._metricsCache.getChildSize(t)}_getAverageSize(){return this._metricsCache.averageChildSize||this._itemSize[this._sizeDim]}_estimatePosition(t){const e=this._metricsCache;if(-1===this._first||-1===this._last)return e.averageMarginSize+t*(e.averageMarginSize+this._getAverageSize());if(t<this._first){const i=this._first-t;return this._getPhysicalItem(this._first).pos-(e.getMarginSize(this._first-1)||e.averageMarginSize)-(i*e.averageChildSize+(i-1)*e.averageMarginSize)}{const i=t-this._last;return this._getPhysicalItem(this._last).pos+(e.getChildSize(this._last)||e.averageChildSize)+(e.getMarginSize(this._last)||e.averageMarginSize)+i*(e.averageChildSize+e.averageMarginSize)}}_getPosition(t){var e;const i=this._getPhysicalItem(t),{averageMarginSize:o}=this._metricsCache;return 0===t?null!==(e=this._metricsCache.getMarginSize(0))&&void 0!==e?e:o:i?i.pos:this._estimatePosition(t)}_calculateAnchor(t,e){return t<=0?0:e>this._scrollSize-this._viewDim1?this.items.length-1:Math.max(0,Math.min(this.items.length-1,Math.floor((t+e)/2/this._delta)))}_getAnchor(t,e){if(0===this._physicalItems.size)return this._calculateAnchor(t,e);if(this._first<0)return this._calculateAnchor(t,e);if(this._last<0)return this._calculateAnchor(t,e);const i=this._getPhysicalItem(this._first),o=this._getPhysicalItem(this._last),n=i.pos;if(o.pos+this._metricsCache.getChildSize(this._last)<t)return this._calculateAnchor(t,e);if(n>e)return this._calculateAnchor(t,e);let s=this._firstVisible-1,r=-1/0;for(;r<t;){r=this._getPhysicalItem(++s).pos+this._metricsCache.getChildSize(s)}return s}_getActiveItems(){0===this._viewDim1||0===this.items.length?this._clearItems():this._getItems()}_clearItems(){this._first=-1,this._last=-1,this._physicalMin=0,this._physicalMax=0;const t=this._newPhysicalItems;this._newPhysicalItems=this._physicalItems,this._newPhysicalItems.clear(),this._physicalItems=t,this._stable=!0}_getItems(){var t,e;const i=this._newPhysicalItems;let o,n;if(this._stable=!0,null!==this.pin){const{index:t}=this.pin;this._anchorIdx=t,this._anchorPos=this._getPosition(t)}if(o=this._scrollPosition-this._overhang,n=this._scrollPosition+this._viewDim1+this._overhang,n<0||o>this._scrollSize)return void this._clearItems();null!==this._anchorIdx&&null!==this._anchorPos||(this._anchorIdx=this._getAnchor(o,n),this._anchorPos=this._getPosition(this._anchorIdx));let s=this._getSize(this._anchorIdx);void 0===s&&(this._stable=!1,s=this._getAverageSize());const r=null!==(t=this._metricsCache.getMarginSize(this._anchorIdx))&&void 0!==t?t:this._metricsCache.averageMarginSize,a=null!==(e=this._metricsCache.getMarginSize(this._anchorIdx+1))&&void 0!==e?e:this._metricsCache.averageMarginSize;0===this._anchorIdx&&(this._anchorPos=r),this._anchorIdx===this.items.length-1&&(this._anchorPos=this._scrollSize-a-s);let l=0;for(this._anchorPos+s+a<o&&(l=o-(this._anchorPos+s+a)),this._anchorPos-r>n&&(l=n-(this._anchorPos-r)),l&&(this._scrollPosition-=l,o-=l,n-=l,this._scrollError+=l),i.set(this._anchorIdx,{pos:this._anchorPos,size:s}),this._first=this._last=this._anchorIdx,this._physicalMin=this._anchorPos-r,this._physicalMax=this._anchorPos+s+a;this._physicalMin>o&&this._first>0;){let t=this._getSize(--this._first);void 0===t&&(this._stable=!1,t=this._getAverageSize());let e=this._metricsCache.getMarginSize(this._first);void 0===e&&(this._stable=!1,e=this._metricsCache.averageMarginSize),this._physicalMin-=t;const o=this._physicalMin;if(i.set(this._first,{pos:o,size:t}),this._physicalMin-=e,!1===this._stable&&!1===this._estimate)break}for(;this._physicalMax<n&&this._last<this.items.length-1;){let t=this._getSize(++this._last);void 0===t&&(this._stable=!1,t=this._getAverageSize());let e=this._metricsCache.getMarginSize(this._last);void 0===e&&(this._stable=!1,e=this._metricsCache.averageMarginSize);const o=this._physicalMax;if(i.set(this._last,{pos:o,size:t}),this._physicalMax+=t+e,!this._stable&&!this._estimate)break}const d=this._calculateError();d&&(this._physicalMin-=d,this._physicalMax-=d,this._anchorPos-=d,this._scrollPosition-=d,i.forEach((t=>t.pos-=d)),this._scrollError+=d),this._stable&&(this._newPhysicalItems=this._physicalItems,this._newPhysicalItems.clear(),this._physicalItems=i)}_calculateError(){return 0===this._first?this._physicalMin:this._physicalMin<=0?this._physicalMin-this._first*this._delta:this._last===this.items.length-1?this._physicalMax-this._scrollSize:this._physicalMax>=this._scrollSize?this._physicalMax-this._scrollSize+(this.items.length-1-this._last)*this._delta:0}_reflow(){const{_first:t,_last:e,_scrollSize:i,_firstVisible:o,_lastVisible:n}=this;this._updateScrollSize(),this._setPositionFromPin(),this._getActiveItems(),this._updateVisibleIndices(),this._scrollSize!==i&&this._emitScrollSize(),this._first===t&&this._last===e&&this._firstVisible===o&&this._lastVisible===n||this._emitRange(),-1===this._first&&-1===this._last||this._emitChildPositions(),0!==this._scrollError&&this._emitScrollError(),(-1===this._first&&-1==this._last||this._first===t&&this._last===e)&&this._resetReflowState()}_resetReflowState(){this._anchorIdx=null,this._anchorPos=null,this._stable=!0}_updateScrollSize(){const{averageMarginSize:t}=this._metricsCache;this._scrollSize=Math.max(1,this.items.length*(t+this._getAverageSize())+t)}get _delta(){const{averageMarginSize:t}=this._metricsCache;return this._getAverageSize()+t}_getItemPosition(t){var e,i;return{[this._positionDim]:this._getPosition(t),[this._secondaryPositionDim]:0,[(i=this.direction,"horizontal"===i?"xOffset":"yOffset")]:-(null!==(e=this._metricsCache.getLeadingMarginValue(t,this.direction))&&void 0!==e?e:this._metricsCache.averageMarginSize)}}_getItemSize(t){return{[this._sizeDim]:this._getSize(t)||this._getAverageSize(),[this._secondarySizeDim]:this._itemSize[this._secondarySizeDim]}}_viewDim2Changed(){this._metricsCache.clear(),this._scheduleReflow()}}var Fl=Object.freeze({__proto__:null,flow:t=>Object.assign({type:Vl},t),FlowLayout:Vl});function Gl(t){return"horizontal"===t?"row":"column"}class Bl extends Ml{constructor(){super(...arguments),this._itemSize={},this._gaps={},this._padding={}}get _defaultConfig(){return Object.assign({},super._defaultConfig,{itemSize:{width:"300px",height:"300px"},gap:"8px",padding:"match-gap"})}get _gap(){return this._gaps.row}get _idealSize(){return this._itemSize[zl(this.direction)]}get _idealSize1(){return this._itemSize[zl(this.direction)]}get _idealSize2(){return this._itemSize[Dl(this.direction)]}get _gap1(){return this._gaps[(t=this.direction,"horizontal"===t?"column":"row")];var t}get _gap2(){return this._gaps[Gl(this.direction)]}get _padding1(){const t=this._padding,[e,i]="horizontal"===this.direction?["left","right"]:["top","bottom"];return[t[e],t[i]]}get _padding2(){const t=this._padding,[e,i]="horizontal"===this.direction?["top","bottom"]:["left","right"];return[t[e],t[i]]}set itemSize(t){const e=this._itemSize;"string"==typeof t&&(t={width:t,height:t});const i=parseInt(t.width),o=parseInt(t.height);i!==e.width&&(e.width=i,this._triggerReflow()),o!==e.height&&(e.height=o,this._triggerReflow())}set gap(t){const e=t.split(" ").map((t=>function(t){return"auto"===t?1/0:parseInt(t)}(t))),i=this._gaps;e[0]!==i.row&&(i.row=e[0],this._triggerReflow()),void 0===e[1]?e[0]!==i.column&&(i.column=e[0],this._triggerReflow()):e[1]!==i.column&&(i.column=e[1],this._triggerReflow())}set padding(t){const e=this._padding,i=t.split(" ").map((t=>function(t){return"match-gap"===t?1/0:parseInt(t)}(t)));1===i.length?e.top=e.right=e.bottom=e.left=i[0]:2===i.length?(e.top=e.bottom=i[0],e.right=e.left=i[1]):3===i.length?(e.top=i[0],e.right=e.left=i[1],e.bottom=i[2]):4===i.length&&["top","right","bottom","left"].forEach(((t,o)=>e[t]=i[o]))}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Hl extends Bl{constructor(){super(...arguments),this._metrics=null,this.flex=null,this.justify=null}get _defaultConfig(){return Object.assign({},super._defaultConfig,{flex:!1,justify:"start"})}set gap(t){super.gap=t}_updateLayout(){const t=this.justify,[e,i]=this._padding1,[o,n]=this._padding2;["_gap1","_gap2"].forEach((e=>{const i=this[e];if(i===1/0&&!["space-between","space-around","space-evenly"].includes(t))throw new Error("grid layout: gap can only be set to 'auto' when justify is set to 'space-between', 'space-around' or 'space-evenly'");if(i===1/0&&"_gap2"===e)throw new Error(`grid layout: ${Gl(this.direction)}-gap cannot be set to 'auto' when direction is set to ${this.direction}`)}));const s=this.flex||["start","center","end"].includes(t),r={rolumns:-1,itemSize1:-1,itemSize2:-1,gap1:this._gap1===1/0?-1:this._gap1,gap2:s?this._gap2:0,padding1:{start:e===1/0?this._gap1:e,end:i===1/0?this._gap1:i},padding2:s?{start:o===1/0?this._gap2:o,end:n===1/0?this._gap2:n}:{start:0,end:0},positions:[]},a=this._viewDim2-r.padding2.start-r.padding2.end;if(a<=0)r.rolumns=0;else{const o=s?r.gap2:0;let n,l=0,d=0;if(a>=this._idealSize2&&(l=Math.floor((a-this._idealSize2)/(this._idealSize2+o))+1,d=l*this._idealSize2+(l-1)*o),this.flex){(a-d)/(this._idealSize2+o)>=.5&&(l+=1),r.rolumns=l,r.itemSize2=Math.round((a-o*(l-1))/l);switch(!0===this.flex?"area":this.flex.preserve){case"aspect-ratio":r.itemSize1=Math.round(this._idealSize1/this._idealSize2*r.itemSize2);break;case zl(this.direction):r.itemSize1=Math.round(this._idealSize1);break;default:r.itemSize1=Math.round(this._idealSize1*this._idealSize2/r.itemSize2)}}else r.itemSize1=this._idealSize1,r.itemSize2=this._idealSize2,r.rolumns=l;if(s){const e=r.rolumns*r.itemSize2+(r.rolumns-1)*r.gap2;n=this.flex||"start"===t?r.padding2.start:"end"===t?this._viewDim2-r.padding2.end-e:Math.round(this._viewDim2/2-e/2)}else{const o=a-r.rolumns*r.itemSize2;"space-between"===t?(r.gap2=Math.round(o/(r.rolumns-1)),n=0):"space-around"===t?(r.gap2=Math.round(o/r.rolumns),n=Math.round(r.gap2/2)):(r.gap2=Math.round(o/(r.rolumns+1)),n=r.gap2),this._gap1===1/0&&(r.gap1=r.gap2,e===1/0&&(r.padding1.start=n),i===1/0&&(r.padding1.end=n))}for(let t=0;t<r.rolumns;t++)r.positions.push(n),n+=r.itemSize2+r.gap2}this._metrics=r}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */class Wl extends Hl{get _delta(){return this._metrics.itemSize1+this._metrics.gap1}_getItemSize(t){return{[this._sizeDim]:this._metrics.itemSize1,[this._secondarySizeDim]:this._metrics.itemSize2}}_getActiveItems(){const t=this._metrics,{rolumns:e}=t;if(0===e)this._first=-1,this._last=-1,this._physicalMin=0,this._physicalMax=0;else{const{padding1:i}=t,o=Math.max(0,this._scrollPosition-this._overhang),n=Math.min(this._scrollSize,this._scrollPosition+this._viewDim1+this._overhang),s=Math.max(0,Math.floor((o-i.start)/this._delta)),r=Math.max(0,Math.ceil((n-i.start)/this._delta));this._first=s*e,this._last=Math.min(r*e-1,this.items.length-1),this._physicalMin=i.start+this._delta*s,this._physicalMax=i.start+this._delta*r}}_getItemPosition(t){const{rolumns:e,padding1:i,positions:o,itemSize1:n,itemSize2:s}=this._metrics;return{[this._positionDim]:i.start+Math.floor(t/e)*this._delta,[this._secondaryPositionDim]:o[t%e],[zl(this.direction)]:n,[Dl(this.direction)]:s}}_updateScrollSize(){const{rolumns:t,gap1:e,padding1:i,itemSize1:o}=this._metrics;let n=1;if(t>0){const s=Math.ceil(this.items.length/t);n=i.start+s*o+(s-1)*e+i.end}this._scrollSize=n}}class ql{static redirectTo(t){console.error("not redirecting to",t),document.dispatchEvent(new CustomEvent("yp-pause-media-playback",{bubbles:!0,detail:{}}))}static goToPost(t,e=undefined,i=undefined,o=undefined,n=!1){if(void 0===t)return void console.error("Can't find post id for goToPost");let s="/post/"+t;void 0!==e&&(s+="/"+e);const r=window.location.href;i&&(window.appGlobals.cache.cachedActivityItem=i),o&&o.Group&&o.Group.Community&&(window.appGlobals.cache.cachedPostItem=o),-1==r.indexOf(s)&&(window.appGlobals.activity("open","post",s,{id:t,modelType:"post"}),!0!==n&&window.app.setKeepOpenForPostsOn(window.location.pathname),setTimeout((()=>{this.redirectTo(s)})))}}let Ql=class extends Ci{static get styles(){return[super.styles,cr,a`.description{line-height:var(--description-line-height,1.3);font-size:15px;padding:8px;padding:16px;font-family:var(--app-header-font-family,Roboto)}.description[widetext]{font-size:14px}.description[largefont]{font-size:16px}.stats{position:absolute;bottom:0;right:38px}.post-image{width:100%}.collectionCard{width:860px;background-color:var(--mdc-theme-surface);color:var(--mdc-theme-on-surface);margin:0;position:relative}yp-image{width:320px!important;height:180px!important}.card-content{padding:0;padding-bottom:48px}yp-image{padding:0;margin:0}yp-image{padding:0;margin:0}.collectionCard{vertical-align:text-top}.informationText{vertical-align:text-top}.collection-name{font-size:var(--mdc-typography-headline2-font-size);font-weight:var(--mdc-typography-headline2-font-weight);cursor:pointer;padding:16px;padding-bottom:0;vertical-align:middle;width:auto;font-family:var(--app-header-font-family,Roboto)}.collection-name[widetext]{font-size:18px}.collection-name[largefont]{font-size:20px}yp-membership-button{position:absolute;top:159px;right:24px;width:30px;height:30px;color:var(--icon-general-color,#fff)}.edit{color:#888;position:absolute;bottom:0;right:0;padding-right:0;margin-right:0;text-align:right}.collection-name[featured]{background-color:var(--accent-color)}.collection-name[archived]{background-color:#aaa}.collection-name[has-data-viz]{padding-top:26px}yp-membership-button[archived]{display:none}.collectionNameFontSize4Wide{font-size:30px}.collectionNameFontSize3Wide{font-size:26px}.collectionNameFontSize2Wide{font-size:24px}.collectionNameFontSize1Wide{font-size:22px}.collectionNameFontSize4Mobile{font-size:28px}.collectionNameFontSize3Mobile{font-size:24px}.collectionNameFontSize2Mobile{font-size:22px}.collectionNameFontSize1Mobile{font-size:19px}.collectionNameFontSize4Wide[widetext]{font-size:26px}.collectionNameFontSize3Wide[widetext]{font-size:22px}.collectionNameFontSize2Wide[widetext]{font-size:20px}.collectionNameFontSize1Wide[widetext]{font-size:18px}.collectionNameFontSize4Mobile[widetext]{font-size:26px}.collectionNameFontSize3Mobile[widetext]{font-size:22px}.collectionNameFontSize2Mobile[widetext]{font-size:20px}.collectionNameFontSize1Mobile[widetext]{font-size:18px}@media (max-width:960px){:host{max-width:423px;width:100%;padding-top:0!important}yp-membership-button{top:205px}.collectionCard{margin-left:0;margin-right:0;padding-left:0;padding-right:0;width:100%;height:100%;padding-bottom:8px}yp-image{width:100%;height:230px}.description{margin-bottom:32px}}@media (max-width:420px){yp-image{height:225px}yp-membership-button{top:205px}}@media (max-width:375px){yp-image{height:207px}yp-membership-button{top:185px}}@media (max-width:360px){yp-image{height:200px}}@media (max-width:320px){yp-image{height:180px}yp-membership-button{top:155px}}.withPointer{cursor:pointer}[hidden]{display:none!important}a{text-decoration:none}`]}get archived(){return"archived"===this.item?.status}get featured(){return"featured"===this.item?.status}connectedCallback(){if(super.connectedCallback(),this.item&&this.item.Community){this.collection=this.item.Community;const t=this.collection;t.CommunityLink?this.itemType="groupCommunityLink":t.configuration.dataForVisualizationJson?this.itemType="groupDataViz":this.itemType="group"}else this.item&&this.item.Domain&&(this.collection=this.item.Domain,this.itemType="community")}goToItem(t){if(t.preventDefault(),t.currentTarget&&t.currentTarget){const e=t.currentTarget.getAttribute("href");e&&ql.redirectTo(e)}}_setupFontNameFontSize(){const t=this.$$("#collectionName");if(t&&this.collection){let e="collection-name ";this.wide?this.collection.name.length<=18?e+="collectionNameFontSize4Wide":this.collection.name.length>40?e+="collectionNameFontSize1Wide":this.collection.name.length>30?e+="collectionNameFontSize2Wide":this.collection.name.length>18&&(e+="collectionNameFontSize3Wide"):this.collection.name.length<=18?e+="collectionNameFontSize4Mobile":this.collection.name.length>40?e+="collectionNameFontSize1Mobile":this.collection.name.length>30?e+="collectionNameFontSize2Mobile":this.collection.name.length>18&&(e+="collectionNameFontSize3Mobile"),t.className=e}}updated(t){super.updated(t),t.has("collection")&&this.collection&&this._setupFontNameFontSize()}renderLogoImage(){return N` ${hr.logoImagePath(this.itemType,this.item)?N` <yp-image sizing="cover" ?archived="${this.archived}" alt="${this.collection.name}" ?featured="${this.featured}" preload .src="${hr.logoImagePath(this.itemType,this.item)}" class="post-image withPointer"></yp-image> `:N` <yp-image ?archived="${this.archived}" sizing="cover" class="main-image withPointer" src="https://i.imgur.com/sdsFAoT.png"></yp-image> `} `}renderDataViz(){return N` <yp-data-visualization small .data="${this.item.configuration.dataForVisualizationJson}"></yp-data-visualization> `}renderCardInfo(){return N` <div class="layout horizontal"> ${"groupDataViz"===this.itemType?N` ${this.renderDataViz()} `:N` ${this.renderLogoImage()} `} </div> <div class="informationText"> <yp-magic-text id="collectionName" class="collection-name" ?archived="${this.archived}" ?featured="${this.featured}" ?largefont="${this.largeFont}" @click="${this.goToItem}" .textType="${hr.nameTextType(this.itemType)}" .contentLanguage="${this.contentLanguage}" ?disableTranslation="${this.collection.configuration?.disableNameAutoTranslation}" text-only .content="${this.contentName}" .contentId="${this.contentId}"></yp-magic-text> <yp-magic-text id="description" class="description layout vertical withPointer" ?featured="${this.featured}" ?largefont="${this.largeFont}" textType="collectionContent" .textType="${hr.descriptionTextType(this.itemType)}" .contentLanguage="${this.contentLanguage}" textOnly removeUrls .content="${this.contentDescription}" .contentId="${this.contentId}" truncate="300"> </yp-magic-text> </div> <div class="stats layout horizontal"> <yp-collection-stats .collectionType="${this.statsCollectionType}" .collection="${this.statsCollection}"></yp-collection-stats> </div> ${this.collection?N``:N` <yp-membership-button .archived="${this.archived}" .featured="${this.featured}" .collection="${this.collection}"></yp-membership-button> `} `}get statsCollection(){return"groupCommunityLink"===this.itemType?this.item.CommunityLink:this.item}get statsCollectionType(){return"groupCommunityLink"===this.itemType?"communtiy":"groupDataViz"===this.itemType?"group":this.itemType}get contentDescription(){return"groupCommunityLink"===this.itemType?this.item.CommunityLink.description:this.item.description||this.item.objectives}get contentName(){return"groupCommunityLink"===this.itemType?this.item.CommunityLink.name:this.item.name}get contentId(){return"groupCommunityLink"===this.itemType?this.item.CommunityLink.id:this.item.id}get contentLanguage(){return"groupCommunityLink"===this.itemType?this.item.CommunityLink.language:this.item.language}get contentUrlBase(){return"groupCommunityLink"===this.itemType?"community":"groupDataViz"===this.itemType?"group_data_viz":this.itemType}render(){return this.item&&this.collection?N` <a href="/${this.contentUrlBase}/${this.contentId}" @click="${this.goToItem}" class="layout vertical center-center"> <div ?featured="${this.featured}" class="collectionCard shadow-elevation-4dp shadow-transaction layout horizontal"> ${this.renderCardInfo()} </div> </a> `:U}};t([lt({type:Object}),e("design:type",Object)],Ql.prototype,"item",void 0),t([lt({type:String}),e("design:type",String)],Ql.prototype,"itemType",void 0),t([lt({type:Object}),e("design:type",Object)],Ql.prototype,"collection",void 0),Ql=t([rt("yp-collection-item-card")],Ql);let Jl=class extends Ci{constructor(){super(...arguments),this.grid=!1,this.skipIronListWidth=!1}static get styles(){return[super.styles,cr,a`.card{padding:0;padding-top:24px;width:100%}.card[wide-padding]{padding:16px!important}a{text-decoration:none;width:100%}`]}render(){return this.sortedCollectionItems?N` <lit-virtualizer id="list" role="main" .layout="${this.grid?Wl:Vl}" aria-label="${this.t(this.pluralItemType)}" .items="${this.sortedCollectionItems}" .scrollTarget="${window}" .keyFunction="${t=>t.id}" .renderItem="${this.renderItem.bind(this)}"></lit-virtualizer> `:U}renderItem(t,e){return N` <yp-collection-item-card class="card" aria-label="${t.name}" ariarole="listitem" .item="${t}" @keypress="${this._keypress.bind(this)}" @click="${this._selectedItemChanged.bind(this)}"></yp-collection-item-card>`}get pluralItemType(){return"community"==this.collectionItemType?"communities":"group"==this.collectionItemType?"groups":"post"==this.collectionItemType?"posts":"unknownItemType"}_keypress(t){13==t.keyCode&&this._selectedItemChanged(t)}async refresh(){}firstUpdated(t){super.firstUpdated(t),Ol.attachListeners(this)}async connectedCallback(){if(super.connectedCallback(),this.collection&&this.collectionItems){const t=hr.splitByStatus(this.collectionItems,this.collection.configuration);this.sortedCollectionItems=t.featured.concat(t.active.concat(t.archived))}}disconnectedCallback(){super.disconnectedCallback(),Ol.detachListeners(this)}_selectedItemChanged(t){const e=t.target.item;if(this.collectionItemType&&e)if(window.appGlobals.activity("open",this.collectionItemType,`/${this.collectionItemType}/${e.id}`,{id:e.id}),"community"===this.collectionItemType){const t=e;null!=t&&(window.appGlobals.cache.backToDomainCommunityItems[t.domain_id]=t)}else if("group"===this.collectionItemType&&e){const t=e;window.appGlobals.cache.backToCommunityGroupItems[t.community_id]=t,window.appGlobals.cache.groupItemsCache[t.id]=t}}scrollToItem(t){if(t&&this.sortedCollectionItems){for(let e=0;e<this.sortedCollectionItems.length;e++)if(this.sortedCollectionItems[e]==t){this.$$("#list").scrollToIndex(e);break}this.fireGlobal("yp-refresh-activities-scroll-threshold")}else console.error("No item to scroll too")}};t([lt({type:Object}),e("design:type",Object)],Jl.prototype,"collection",void 0),t([lt({type:Array}),e("design:type",Array)],Jl.prototype,"collectionItems",void 0),t([lt({type:String}),e("design:type",String)],Jl.prototype,"collectionItemType",void 0),t([lt({type:Array}),e("design:type",Array)],Jl.prototype,"sortedCollectionItems",void 0),t([lt({type:Boolean,reflect:!0}),e("design:type",Object)],Jl.prototype,"grid",void 0),Jl=t([rt("yp-collection-items-grid")],Jl);class Zl{constructor(){this.addGlobalListener("yp-language-loaded",this._languageEvent.bind(this)),window.appGlobals&&window.appGlobals.i18nTranslation&&window.appGlobals.locale?this.language=window.appGlobals.locale:this.language="en"}_languageEvent(t){const e=t.detail;this.language=e.language,window.appGlobals.locale=e.language}fire(t,e={},i){const o=new CustomEvent(t,{detail:e,bubbles:!0,composed:!0});i.dispatchEvent(o)}fireGlobal(t,e={}){this.fire(t,e,document)}addListener(t,e,i){i.addEventListener(t,e,!1)}addGlobalListener(t,e){this.addListener(t,e,document)}showToast(t,e=4e3){window.appDialogs.getDialogAsync("masterToast",(i=>{i.labelText=t,i.timeoutMs=e,i.open=!0}))}removeListener(t,e,i){i.removeEventListener(t,e)}removeGlobalListener(t,e){this.removeListener(t,e,document)}t(...t){const e=t[0];if(window.appGlobals.i18nTranslation){let t=window.appGlobals.i18nTranslation.t(e);return t||(t=""),t}return""}}class Kl extends Zl{constructor(){super(...arguments),this.baseUrlPath="/api"}static transformCollectionTypeToApi(t){let e;switch(t){case"domain":e="domains";break;case"community":e="communities";break;case"group":e="groups";break;case"post":e="posts";break;case"user":e="users";break;default:e="",console.error(`Cant find collection type transform for ${t}`)}return e}async fetchWrapper(t,e={},i=!0,o=undefined){if(e.headers||(e.headers={"Content-Type":"application/json"}),navigator.onLine||"POST"!==e.method||void 0===window.fetch){if(!navigator.onLine&&["POST","PUT","DELETE"].indexOf(e.method)>-1)throw this.showToast(this.t("youAreOfflineCantSend")),new Error("offlineSendLater");{const n=await fetch(t,e);return this.handleResponse(n,i,o)}}throw window.appGlobals.offline.sendWhenOnlineNext({body:e.body,method:e.method,params:{},url:t}),new Error("offlineSendLater")}async handleResponse(t,e,i=undefined){if(t.ok){let o=null;try{o=await t.json()}catch(o){200===t.status&&"OK"===t.statusText||this.fireGlobal("yp-network-error",{response:t,jsonError:o,showUserError:e,errorId:i})}return null===o||o}return this.fireGlobal("yp-network-error",{response:t,showUserError:e,errorId:i}),null}}class Yl extends Kl{constructor(t="/api"){super(),this.baseUrlPath=t}boot(){return this.fetchWrapper(this.baseUrlPath+"/domains")}isloggedin(){return this.fetchWrapper(this.baseUrlPath+"/users/loggedInUser/isloggedin")}getAdminRights(){return this.fetchWrapper(this.baseUrlPath+"/users/loggedInUser/adminRights")}getMemberships(){return this.fetchWrapper(this.baseUrlPath+"/users/loggedInUser/memberships")}getAdminRightsWithNames(){return this.fetchWrapper(this.baseUrlPath+"/users/loggedInUser/adminRightsWithNames")}getMembershipsWithNames(){return this.fetchWrapper(this.baseUrlPath+"/users/loggedInUser/membershipsWithNames")}logout(){return this.fetchWrapper(this.baseUrlPath+"/users/logout",{method:"POST"})}setLocale(t){return this.fetchWrapper(this.baseUrlPath+"/users/loggedInUser/setLocale",{method:"PUT",body:JSON.stringify(t)},!1)}getRecommendationsForGroup(t){return this.fetchWrapper(this.baseUrlPath+`/recommendations/groups/${t}/getPostRecommendations`,{method:"PUT",body:JSON.stringify({})})}hasVideoUploadSupport(){return this.fetchWrapper(this.baseUrlPath+"/videos/hasVideoUploadSupport")}hasAudioUploadSupport(){return this.fetchWrapper(this.baseUrlPath+"/audios/hasAudioUploadSupport")}sendVideoView(t){return this.fetchWrapper(this.baseUrlPath+"/videos/videoView",{method:"PUT",body:JSON.stringify(t)},!1)}sendAudioView(t){return this.fetchWrapper(this.baseUrlPath+"/audios/videoView",{method:"PUT",body:JSON.stringify(t)},!1)}createActivityFromApp(t){return this.fetchWrapper(this.baseUrlPath+"/users/createActivityFromApp",{method:"POST",body:JSON.stringify(t)},!1)}marketingTrackingOpen(t,e){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/marketingTrackingOpen`,{method:"POST",body:JSON.stringify(e)},!1)}createApiKey(){return this.fetchWrapper(this.baseUrlPath+"/users/createApiKey",{method:"POST",body:JSON.stringify({})},!1)}triggerTrackingGoal(t,e){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/triggerTrackingGoal`,{method:"POST",body:JSON.stringify(e)},!1)}getCollection(t,e){return this.fetchWrapper(this.baseUrlPath+`/${Yl.transformCollectionTypeToApi(t)}/${e}`)}getCategoriesCount(t,e){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/categories_count/${e}`)}getGroupPosts(t){return this.fetchWrapper(t)}getPost(t){return this.fetchWrapper(this.baseUrlPath+`/posts/${t}`)}getGroup(t){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}`)}endorsePost(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/posts/${t}/endorse`,{method:e,body:JSON.stringify(i)},!1)}getHasNonOpenPosts(t){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/checkNonOpenPosts`)}getHelpPages(t,e){return this.fetchWrapper(this.baseUrlPath+`/${Yl.transformCollectionTypeToApi(t)}/${e}/pages`)}getTranslation(t){return this.fetchWrapper(t)}getTranslatedRegistrationQuestions(t,e){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/translatedRegistrationQuestions?targetLanguage=${e}`)}sendRegistrationQuestions(t){return this.fetchWrapper(this.baseUrlPath+"/users/setRegistrationAnswers",{method:"PUT",body:JSON.stringify({registration_answers:t})},!0)}savePostTranscript(t,e){return this.fetchWrapper(this.baseUrlPath+`/posts/${t}/editTranscript`,{method:"PUT",body:JSON.stringify(e)},!1)}getPostTranscriptStatus(t,e){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/categories_count/${e}`)}addPoint(t,e){return this.fetchWrapper(this.baseUrlPath+`/points/${t}`,{method:"POST",body:JSON.stringify(e)},!1)}completeMediaPoint(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/completeAndAddToPoint`,{method:"POST",body:JSON.stringify(i)},!1)}completeMediaPost(t,e,i,o){return this.fetchWrapper(this.baseUrlPath+`/${t}/${i}/completeAndAddToPost`,{method:e,body:JSON.stringify(o)},!1)}getPoints(t){return this.fetchWrapper(this.baseUrlPath+`/posts/${t}/points`)}getMorePoints(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/posts/${t}/points?offsetUp=${e}&offsetDown=${i}`)}getNewPoints(t,e){return this.fetchWrapper(this.baseUrlPath+`/posts/${t}/newPoints?latestPointCreatedAt=${e}`)}getSurveyTranslations(t,e){return this.fetchWrapper(this.baseUrlPath+`/posts/${t.id}/translatedSurvey?targetLanguage=${e}&groupId=${t.Group.id}`)}getVideoFormatsAndImages(t){return this.fetchWrapper(this.baseUrlPath+`/videos/${t}/formatsAndImages`)}getGroupConfiguration(t){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/configuration`)}setVideoCover(t,e){return this.fetchWrapper(this.baseUrlPath+`/videos/${t}/setVideoCover`,{method:"PUT",body:JSON.stringify(e)},!1)}getTranscodingJobStatus(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/getTranscodingJobStatus`,{method:"PUT",body:JSON.stringify({jobId:i})})}startTranscoding(t,e,i,o){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/${i}`,{method:"POST",body:JSON.stringify(o)},!1)}createPresignUrl(t,e={}){return this.fetchWrapper(t,{method:"POST",body:JSON.stringify(e)},!1)}updatePoint(t,e){return this.fetchWrapper(this.baseUrlPath+`/points/${t}`,{method:"PUT",body:JSON.stringify(e)},!1)}updatePointAdminComment(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/${e}/adminComment`,{method:"PUT",body:JSON.stringify(i)},!1)}deletePoint(t){return this.fetchWrapper(this.baseUrlPath+`/points/${t}`,{method:"DELETE",body:JSON.stringify({})},!1)}checkPointTranscriptStatus(t,e){return this.fetchWrapper(this.baseUrlPath+`/$points/${e}/${t}`)}registerUser(t){return this.fetchWrapper(this.baseUrlPath+"/users/register",{method:"POST",body:JSON.stringify(t)},!1)}loginUser(t){return this.fetchWrapper(this.baseUrlPath+"/users/login",{method:"POST",body:JSON.stringify(t)},!1)}submitForm(t,e,i,o){return this.fetchWrapper(this.baseUrlPath+t,{method:e,headers:i,body:o},!1,"formError")}getSurveyGroup(t){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/survey`)}postSurvey(t,e){return this.fetchWrapper(this.baseUrlPath+`/groups/${t}/survey`,{method:"POST",body:JSON.stringify(e)},!1)}deleteActivity(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/${i}/delete_activity`,{method:"DELETE",body:JSON.stringify({})},!1)}getAcActivities(t){return this.fetchWrapper(t)}getRecommendations(t,e){return this.fetchWrapper(this.baseUrlPath+`/recommendations/${t}/${e}`)}setNotificationsAsViewed(t){return this.fetchWrapper(this.baseUrlPath+"/notifications/setIdsViewed",{method:"PUT",body:JSON.stringify(t)},!1)}setNotificationsAllAsViewed(){return this.fetchWrapper(this.baseUrlPath+"/notifications/markAllViewed",{method:"PUT",body:JSON.stringify({})},!1)}getAcNotifications(t){return this.fetchWrapper(t)}getComments(t,e){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/comments`)}getCommentsCount(t,e){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/commentsCount`)}postComment(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/comment`,{method:"POST",body:JSON.stringify(i)},!1)}setPointQuality(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/points/${t}/pointQuality`,{method:e,body:JSON.stringify(i)},!1)}postNewsStory(t,e){return this.fetchWrapper(t,{method:"POST",body:JSON.stringify(e)},!1)}pointUrlPreview(t){return this.fetchWrapper(this.baseUrlPath+`/points/url_preview?${t}`)}disconnectSamlLogin(){return this.fetchWrapper(this.baseUrlPath+"/users/disconnectSamlLogin",{method:"DELETE",body:JSON.stringify({})},!1)}disconnectFacebookLogin(){return this.fetchWrapper(this.baseUrlPath+"/users/disconnectFacebookLogin",{method:"DELETE",body:JSON.stringify({})},!1)}deleteUser(){return this.fetchWrapper(this.baseUrlPath+"/users/delete_current_user",{method:"DELETE",body:JSON.stringify({})},!1)}anonymizeUser(){return this.fetchWrapper(this.baseUrlPath+"/users/anonymize_current_user",{method:"DELETE",body:JSON.stringify({})},!1)}resetPassword(t,e){return this.fetchWrapper(this.baseUrlPath+`/users/reset/${t}`,{method:"POST",body:JSON.stringify(e)},!1)}setEmail(t){return this.fetchWrapper(this.baseUrlPath+"/users/missingEmail/setEmail",{method:"PUT",body:JSON.stringify(t)},!1)}linkAccounts(t){return this.fetchWrapper(this.baseUrlPath+"/users/missingEmail/linkAccounts",{method:"PUT",body:JSON.stringify(t)},!1)}confirmEmailShown(){return this.fetchWrapper(this.baseUrlPath+"/users/missingEmail/emailConfirmationShown",{method:"PUT",body:JSON.stringify({})},!1,"forgotPassword")}forgotPassword(t){return this.fetchWrapper(this.baseUrlPath+"/users/forgot_password",{method:"PUT",body:JSON.stringify(t)},!1)}acceptInvite(t){return this.fetchWrapper(this.baseUrlPath+`/users/accept_invite/${t}`,{method:"POST",body:JSON.stringify({})},!1,"acceptInvite")}getInviteSender(t){return this.fetchWrapper(this.baseUrlPath+`/users/get_invite_info/${t}`,{method:"GET"},!1,"acceptInvite")}getPostLocations(t,e){return this.fetchWrapper(this.baseUrlPath+`/${t}/${e}/post_locations`)}hasAutoTranslation(){return this.fetchWrapper(this.baseUrlPath+"/users/has/AutoTranslation")}apiAction(t,e,i){return this.fetchWrapper(t,{method:e,body:JSON.stringify(i)},!1)}getImages(t){return this.fetchWrapper(this.baseUrlPath+`/images/${t}/user_images`)}postRating(t,e,i){return this.fetchWrapper(this.baseUrlPath+`/ratings/${t}/${e}`,{method:"POST",body:JSON.stringify(i)},!1)}deleteRating(t,e){return this.fetchWrapper(this.baseUrlPath+`/ratings/${t}/${e}`,{method:"DELETE",body:JSON.stringify({})},!1)}}class Xl extends Error{}class td extends Xl{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class ed extends Xl{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class id extends Xl{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class od extends Xl{}class nd extends Xl{constructor(t){super(`Invalid unit ${t}`)}}class sd extends Xl{}class rd extends Xl{constructor(){super("Zone is an abstract class")}}const ad="numeric",ld="short",dd="long",cd={year:ad,month:ad,day:ad},hd={year:ad,month:ld,day:ad},pd={year:ad,month:ld,day:ad,weekday:ld},ud={year:ad,month:dd,day:ad},md={year:ad,month:dd,day:ad,weekday:dd},gd={hour:ad,minute:ad},fd={hour:ad,minute:ad,second:ad},vd={hour:ad,minute:ad,second:ad,timeZoneName:ld},yd={hour:ad,minute:ad,second:ad,timeZoneName:dd},bd={hour:ad,minute:ad,hourCycle:"h23"},_d={hour:ad,minute:ad,second:ad,hourCycle:"h23"},wd={hour:ad,minute:ad,second:ad,hourCycle:"h23",timeZoneName:ld},xd={hour:ad,minute:ad,second:ad,hourCycle:"h23",timeZoneName:dd},kd={year:ad,month:ad,day:ad,hour:ad,minute:ad},Cd={year:ad,month:ad,day:ad,hour:ad,minute:ad,second:ad},$d={year:ad,month:ld,day:ad,hour:ad,minute:ad},Td={year:ad,month:ld,day:ad,hour:ad,minute:ad,second:ad},Sd={year:ad,month:ld,day:ad,weekday:ld,hour:ad,minute:ad},Id={year:ad,month:dd,day:ad,hour:ad,minute:ad,timeZoneName:ld},Pd={year:ad,month:dd,day:ad,hour:ad,minute:ad,second:ad,timeZoneName:ld},Ad={year:ad,month:dd,day:ad,weekday:dd,hour:ad,minute:ad,timeZoneName:dd},Od={year:ad,month:dd,day:ad,weekday:dd,hour:ad,minute:ad,second:ad,timeZoneName:dd};function Ld(t){return void 0===t}function Ed(t){return"number"==typeof t}function zd(t){return"number"==typeof t&&t%1==0}function Dd(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function Md(t,e,i){if(0!==t.length)return t.reduce(((t,o)=>{const n=[e(o),o];return t&&i(t[0],n[0])===t[0]?t:n}),null)[1]}function Nd(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Rd(t,e,i){return zd(t)&&t>=e&&t<=i}function Ud(t,e=2){let i;return i=t<0?"-"+(""+-t).padStart(e,"0"):(""+t).padStart(e,"0"),i}function jd(t){return Ld(t)||null===t||""===t?void 0:parseInt(t,10)}function Vd(t){return Ld(t)||null===t||""===t?void 0:parseFloat(t)}function Fd(t){if(!Ld(t)&&null!==t&&""!==t){const e=1e3*parseFloat("0."+t);return Math.floor(e)}}function Gd(t,e,i=!1){const o=10**e;return(i?Math.trunc:Math.round)(t*o)/o}function Bd(t){return t%4==0&&(t%100!=0||t%400==0)}function Hd(t){return Bd(t)?366:365}function Wd(t,e){const i=function(t,e){return t-e*Math.floor(t/e)}(e-1,12)+1;return 2===i?Bd(t+(e-i)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function qd(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function Qd(t){const e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,i=t-1,o=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7;return 4===e||3===o?53:52}function Jd(t){return t>99?t:t>60?1900+t:2e3+t}function Zd(t,e,i,o=null){const n=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};o&&(s.timeZone=o);const r={timeZoneName:e,...s},a=new Intl.DateTimeFormat(i,r).formatToParts(n).find((t=>"timezonename"===t.type.toLowerCase()));return a?a.value:null}function Kd(t,e){let i=parseInt(t,10);Number.isNaN(i)&&(i=0);const o=parseInt(e,10)||0;return 60*i+(i<0||Object.is(i,-0)?-o:o)}function Yd(t){const e=Number(t);if("boolean"==typeof t||""===t||Number.isNaN(e))throw new sd(`Invalid unit value ${t}`);return e}function Xd(t,e){const i={};for(const o in t)if(Nd(t,o)){const n=t[o];if(null==n)continue;i[e(o)]=Yd(n)}return i}function tc(t,e){const i=Math.trunc(Math.abs(t/60)),o=Math.trunc(Math.abs(t%60)),n=t>=0?"+":"-";switch(e){case"short":return`${n}${Ud(i,2)}:${Ud(o,2)}`;case"narrow":return`${n}${i}${o>0?`:${o}`:""}`;case"techie":return`${n}${Ud(i,2)}${Ud(o,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function ec(t){return function(t,e){return e.reduce(((e,i)=>(e[i]=t[i],e)),{})}(t,["hour","minute","second","millisecond"])}const ic=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,oc=["January","February","March","April","May","June","July","August","September","October","November","December"],nc=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],sc=["J","F","M","A","M","J","J","A","S","O","N","D"];function rc(t){switch(t){case"narrow":return[...sc];case"short":return[...nc];case"long":return[...oc];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const ac=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],lc=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],dc=["M","T","W","T","F","S","S"];function cc(t){switch(t){case"narrow":return[...dc];case"short":return[...lc];case"long":return[...ac];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const hc=["AM","PM"],pc=["Before Christ","Anno Domini"],uc=["BC","AD"],mc=["B","A"];function gc(t){switch(t){case"narrow":return[...mc];case"short":return[...uc];case"long":return[...pc];default:return null}}function fc(t,e){let i="";for(const o of t)o.literal?i+=o.val:i+=e(o.val);return i}const vc={D:cd,DD:hd,DDD:ud,DDDD:md,t:gd,tt:fd,ttt:vd,tttt:yd,T:bd,TT:_d,TTT:wd,TTTT:xd,f:kd,ff:$d,fff:Id,ffff:Ad,F:Cd,FF:Td,FFF:Pd,FFFF:Od};class yc{static create(t,e={}){return new yc(t,e)}static parseFormat(t){let e=null,i="",o=!1;const n=[];for(let s=0;s<t.length;s++){const r=t.charAt(s);"'"===r?(i.length>0&&n.push({literal:o,val:i}),e=null,i="",o=!o):o||r===e?i+=r:(i.length>0&&n.push({literal:!1,val:i}),i=r,e=r)}return i.length>0&&n.push({literal:o,val:i}),n}static macroTokenToFormatOpts(t){return vc[t]}constructor(t,e){this.opts=e,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,e){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(t,{...this.opts,...e}).format()}formatDateTime(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e}).format()}formatDateTimeParts(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e}).formatToParts()}resolvedOptions(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e}).resolvedOptions()}num(t,e=0){if(this.opts.forceSimple)return Ud(t,e);const i={...this.opts};return e>0&&(i.padTo=e),this.loc.numberFormatter(i).format(t)}formatDateTimeFromString(t,e){const i="en"===this.loc.listingMode(),o=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,n=(e,i)=>this.loc.extract(t,e,i),s=e=>t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):"",r=()=>i?function(t){return hc[t.hour<12?0:1]}(t):n({hour:"numeric",hourCycle:"h12"},"dayperiod"),a=(e,o)=>i?function(t,e){return rc(e)[t.month-1]}(t,e):n(o?{month:e}:{month:e,day:"numeric"},"month"),l=(e,o)=>i?function(t,e){return cc(e)[t.weekday-1]}(t,e):n(o?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday"),d=e=>{const i=yc.macroTokenToFormatOpts(e);return i?this.formatWithSystemDefault(t,i):e},c=e=>i?function(t,e){return gc(e)[t.year<0?0:1]}(t,e):n({era:e},"era");return fc(yc.parseFormat(e),(e=>{switch(e){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12==0?12:t.hour%12);case"hh":return this.num(t.hour%12==0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return s({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return s({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return s({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return r();case"d":return o?n({day:"numeric"},"day"):this.num(t.day);case"dd":return o?n({day:"2-digit"},"day"):this.num(t.day,2);case"c":case"E":return this.num(t.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return o?n({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return o?n({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return a("short",!0);case"LLLL":return a("long",!0);case"LLLLL":return a("narrow",!0);case"M":return o?n({month:"numeric"},"month"):this.num(t.month);case"MM":return o?n({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return a("short",!1);case"MMMM":return a("long",!1);case"MMMMM":return a("narrow",!1);case"y":return o?n({year:"numeric"},"year"):this.num(t.year);case"yy":return o?n({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return o?n({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return o?n({year:"numeric"},"year"):this.num(t.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return d(e)}}))}formatDurationFromString(t,e){const i=t=>{switch(t[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=yc.parseFormat(e),n=o.reduce(((t,{literal:e,val:i})=>e?t:t.concat(i)),[]),s=t.shiftTo(...n.map(i).filter((t=>t)));return fc(o,(t=>e=>{const o=i(e);return o?this.num(t.get(o),e.length):e})(s))}}class bc{constructor(t,e){this.reason=t,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class _c{get type(){throw new rd}get name(){throw new rd}get ianaName(){return this.name}get isUniversal(){throw new rd}offsetName(t,e){throw new rd}formatOffset(t,e){throw new rd}offset(t){throw new rd}equals(t){throw new rd}get isValid(){throw new rd}}let wc=null;class xc extends _c{static get instance(){return null===wc&&(wc=new xc),wc}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return Zd(t,e,i)}formatOffset(t,e){return tc(this.offset(t),e)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return"system"===t.type}get isValid(){return!0}}let kc={};const Cc={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let $c={};class Tc extends _c{static create(t){return $c[t]||($c[t]=new Tc(t)),$c[t]}static resetCache(){$c={},kc={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch(t){return!1}}constructor(t){super(),this.zoneName=t,this.valid=Tc.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:e,locale:i}){return Zd(t,e,i,this.name)}formatOffset(t,e){return tc(this.offset(t),e)}offset(t){const e=new Date(t);if(isNaN(e))return NaN;const i=(o=this.name,kc[o]||(kc[o]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:o,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),kc[o]);var o;let[n,s,r,a,l,d,c]=i.formatToParts?function(t,e){const i=t.formatToParts(e),o=[];for(let t=0;t<i.length;t++){const{type:e,value:n}=i[t],s=Cc[e];"era"===e?o[s]=n:Ld(s)||(o[s]=parseInt(n,10))}return o}(i,e):function(t,e){const i=t.format(e).replace(/\u200E/g,""),o=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,n,s,r,a,l,d,c]=o;return[r,n,s,a,l,d,c]}(i,e);"BC"===a&&(n=1-Math.abs(n));let h=+e;const p=h%1e3;return h-=p>=0?p:1e3+p,(qd({year:n,month:s,day:r,hour:24===l?0:l,minute:d,second:c,millisecond:0})-h)/6e4}equals(t){return"iana"===t.type&&t.name===this.name}get isValid(){return this.valid}}let Sc=null;class Ic extends _c{static get utcInstance(){return null===Sc&&(Sc=new Ic(0)),Sc}static instance(t){return 0===t?Ic.utcInstance:new Ic(t)}static parseSpecifier(t){if(t){const e=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new Ic(Kd(e[1],e[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${tc(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${tc(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,e){return tc(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return"fixed"===t.type&&t.fixed===this.fixed}get isValid(){return!0}}class Pc extends _c{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ac(t,e){if(Ld(t)||null===t)return e;if(t instanceof _c)return t;if(function(t){return"string"==typeof t}(t)){const i=t.toLowerCase();return"default"===i?e:"local"===i||"system"===i?xc.instance:"utc"===i||"gmt"===i?Ic.utcInstance:Ic.parseSpecifier(i)||Tc.create(t)}return Ed(t)?Ic.instance(t):"object"==typeof t&&t.offset&&"number"==typeof t.offset?t:new Pc(t)}let Oc,Lc=()=>Date.now(),Ec="system",zc=null,Dc=null,Mc=null;class Nc{static get now(){return Lc}static set now(t){Lc=t}static set defaultZone(t){Ec=t}static get defaultZone(){return Ac(Ec,xc.instance)}static get defaultLocale(){return zc}static set defaultLocale(t){zc=t}static get defaultNumberingSystem(){return Dc}static set defaultNumberingSystem(t){Dc=t}static get defaultOutputCalendar(){return Mc}static set defaultOutputCalendar(t){Mc=t}static get throwOnInvalid(){return Oc}static set throwOnInvalid(t){Oc=t}static resetCaches(){Qc.resetCache(),Tc.resetCache()}}let Rc={};let Uc={};function jc(t,e={}){const i=JSON.stringify([t,e]);let o=Uc[i];return o||(o=new Intl.DateTimeFormat(t,e),Uc[i]=o),o}let Vc={};let Fc={};let Gc=null;function Bc(t,e,i,o,n){const s=t.listingMode(i);return"error"===s?null:"en"===s?o(e):n(e)}class Hc{constructor(t,e,i){this.padTo=i.padTo||0,this.floor=i.floor||!1;const{padTo:o,floor:n,...s}=i;if(!e||Object.keys(s).length>0){const e={useGrouping:!1,...i};i.padTo>0&&(e.minimumIntegerDigits=i.padTo),this.inf=function(t,e={}){const i=JSON.stringify([t,e]);let o=Vc[i];return o||(o=new Intl.NumberFormat(t,e),Vc[i]=o),o}(t,e)}}format(t){if(this.inf){const e=this.floor?Math.floor(t):t;return this.inf.format(e)}return Ud(this.floor?Math.floor(t):Gd(t,3),this.padTo)}}class Wc{constructor(t,e,i){let o;if(this.opts=i,t.zone.isUniversal){const e=t.offset/60*-1,n=e>=0?`Etc/GMT+${e}`:`Etc/GMT${e}`;0!==t.offset&&Tc.create(n).valid?(o=n,this.dt=t):(o="UTC",i.timeZoneName?this.dt=t:this.dt=0===t.offset?t:Jp.fromMillis(t.ts+60*t.offset*1e3))}else"system"===t.zone.type?this.dt=t:(this.dt=t,o=t.zone.name);const n={...this.opts};o&&(n.timeZone=o),this.dtf=jc(e,n)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class qc{constructor(t,e,i){this.opts={style:"long",...i},!e&&Dd()&&(this.rtf=function(t,e={}){const{base:i,...o}=e,n=JSON.stringify([t,o]);let s=Fc[n];return s||(s=new Intl.RelativeTimeFormat(t,e),Fc[n]=s),s}(t,i))}format(t,e){return this.rtf?this.rtf.format(t,e):function(t,e,i="always",o=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=-1===["hours","minutes","seconds"].indexOf(t);if("auto"===i&&s){const i="days"===t;switch(e){case 1:return i?"tomorrow":`next ${n[t][0]}`;case-1:return i?"yesterday":`last ${n[t][0]}`;case 0:return i?"today":`this ${n[t][0]}`}}const r=Object.is(e,-0)||e<0,a=Math.abs(e),l=1===a,d=n[t],c=o?l?d[1]:d[2]||d[1]:l?n[t][0]:t;return r?`${a} ${c} ago`:`in ${a} ${c}`}(e,t,this.opts.numeric,"long"!==this.opts.style)}formatToParts(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]}}class Qc{static fromOpts(t){return Qc.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,e,i,o=!1){const n=t||Nc.defaultLocale,s=n||(o?"en-US":Gc||(Gc=(new Intl.DateTimeFormat).resolvedOptions().locale,Gc)),r=e||Nc.defaultNumberingSystem,a=i||Nc.defaultOutputCalendar;return new Qc(s,r,a,n)}static resetCache(){Gc=null,Uc={},Vc={},Fc={}}static fromObject({locale:t,numberingSystem:e,outputCalendar:i}={}){return Qc.create(t,e,i)}constructor(t,e,i,o){const[n,s,r]=function(t){const e=t.indexOf("-u-");if(-1===e)return[t];{let i;const o=t.substring(0,e);try{i=jc(t).resolvedOptions()}catch(t){i=jc(o).resolvedOptions()}const{numberingSystem:n,calendar:s}=i;return[o,n,s]}}(t);this.locale=n,this.numberingSystem=e||s||null,this.outputCalendar=i||r||null,this.intl=function(t,e,i){return i||e?(t+="-u",i&&(t+=`-ca-${i}`),e&&(t+=`-nu-${e}`),t):t}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=o,this.fastNumbersCached=null}get fastNumbers(){var t;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(t=this).numberingSystem||"latn"===t.numberingSystem)&&("latn"===t.numberingSystem||!t.locale||t.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),e=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return t&&e?"en":"intl"}clone(t){return t&&0!==Object.getOwnPropertyNames(t).length?Qc.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1):this}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,e=!1,i=!0){return Bc(this,t,i,rc,(()=>{const i=e?{month:t,day:"numeric"}:{month:t},o=e?"format":"standalone";return this.monthsCache[o][t]||(this.monthsCache[o][t]=function(t){const e=[];for(let i=1;i<=12;i++){const o=Jp.utc(2016,i,1);e.push(t(o))}return e}((t=>this.extract(t,i,"month")))),this.monthsCache[o][t]}))}weekdays(t,e=!1,i=!0){return Bc(this,t,i,cc,(()=>{const i=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},o=e?"format":"standalone";return this.weekdaysCache[o][t]||(this.weekdaysCache[o][t]=function(t){const e=[];for(let i=1;i<=7;i++){const o=Jp.utc(2016,11,13+i);e.push(t(o))}return e}((t=>this.extract(t,i,"weekday")))),this.weekdaysCache[o][t]}))}meridiems(t=!0){return Bc(this,void 0,t,(()=>hc),(()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Jp.utc(2016,11,13,9),Jp.utc(2016,11,13,19)].map((e=>this.extract(e,t,"dayperiod")))}return this.meridiemCache}))}eras(t,e=!0){return Bc(this,t,e,gc,(()=>{const e={era:t};return this.eraCache[t]||(this.eraCache[t]=[Jp.utc(-40,1,1),Jp.utc(2017,1,1)].map((t=>this.extract(t,e,"era")))),this.eraCache[t]}))}extract(t,e,i){const o=this.dtFormatter(t,e).formatToParts().find((t=>t.type.toLowerCase()===i));return o?o.value:null}numberFormatter(t={}){return new Hc(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,e={}){return new Wc(t,this.intl,e)}relFormatter(t={}){return new qc(this.intl,this.isEnglish(),t)}listFormatter(t={}){return function(t,e={}){const i=JSON.stringify([t,e]);let o=Rc[i];return o||(o=new Intl.ListFormat(t,e),Rc[i]=o),o}(this.intl,t)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}function Jc(...t){const e=t.reduce(((t,e)=>t+e.source),"");return RegExp(`^${e}$`)}function Zc(...t){return e=>t.reduce((([t,i,o],n)=>{const[s,r,a]=n(e,o);return[{...t,...s},r||i,a]}),[{},null,1]).slice(0,2)}function Kc(t,...e){if(null==t)return[null,null];for(const[i,o]of e){const e=i.exec(t);if(e)return o(e)}return[null,null]}function Yc(...t){return(e,i)=>{const o={};let n;for(n=0;n<t.length;n++)o[t[n]]=jd(e[i+n]);return[o,null,i+n]}}const Xc=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,th=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,eh=RegExp(`${th.source}${`(?:${Xc.source}?(?:\\[(${ic.source})\\])?)?`}`),ih=RegExp(`(?:T${eh.source})?`),oh=Yc("weekYear","weekNumber","weekDay"),nh=Yc("year","ordinal"),sh=RegExp(`${th.source} ?(?:${Xc.source}|(${ic.source}))?`),rh=RegExp(`(?: ${sh.source})?`);function ah(t,e,i){const o=t[e];return Ld(o)?i:jd(o)}function lh(t,e){return[{hours:ah(t,e,0),minutes:ah(t,e+1,0),seconds:ah(t,e+2,0),milliseconds:Fd(t[e+3])},null,e+4]}function dh(t,e){const i=!t[e]&&!t[e+1],o=Kd(t[e+1],t[e+2]);return[{},i?null:Ic.instance(o),e+3]}function ch(t,e){return[{},t[e]?Tc.create(t[e]):null,e+1]}const hh=RegExp(`^T?${th.source}$`),ph=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function uh(t){const[e,i,o,n,s,r,a,l,d]=t,c="-"===e[0],h=l&&"-"===l[0],p=(t,e=!1)=>void 0!==t&&(e||t&&c)?-t:t;return[{years:p(Vd(i)),months:p(Vd(o)),weeks:p(Vd(n)),days:p(Vd(s)),hours:p(Vd(r)),minutes:p(Vd(a)),seconds:p(Vd(l),"-0"===l),milliseconds:p(Fd(d),h)}]}const mh={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function gh(t,e,i,o,n,s,r){const a={year:2===e.length?Jd(jd(e)):jd(e),month:nc.indexOf(i)+1,day:jd(o),hour:jd(n),minute:jd(s)};return r&&(a.second=jd(r)),t&&(a.weekday=t.length>3?ac.indexOf(t)+1:lc.indexOf(t)+1),a}const fh=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function vh(t){const[,e,i,o,n,s,r,a,l,d,c,h]=t,p=gh(e,n,o,i,s,r,a);let u;return u=l?mh[l]:d?0:Kd(c,h),[p,new Ic(u)]}const yh=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,bh=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,_h=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function wh(t){const[,e,i,o,n,s,r,a]=t;return[gh(e,n,o,i,s,r,a),Ic.utcInstance]}function xh(t){const[,e,i,o,n,s,r,a]=t;return[gh(e,a,i,o,n,s,r),Ic.utcInstance]}const kh=Jc(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,ih),Ch=Jc(/(\d{4})-?W(\d\d)(?:-?(\d))?/,ih),$h=Jc(/(\d{4})-?(\d{3})/,ih),Th=Jc(eh),Sh=Zc((function(t,e){return[{year:ah(t,e),month:ah(t,e+1,1),day:ah(t,e+2,1)},null,e+3]}),lh,dh,ch),Ih=Zc(oh,lh,dh,ch),Ph=Zc(nh,lh,dh,ch),Ah=Zc(lh,dh,ch);const Oh=Zc(lh);const Lh=Jc(/(\d{4})-(\d\d)-(\d\d)/,rh),Eh=Jc(sh),zh=Zc(lh,dh,ch);const Dh={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Mh={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...Dh},Nh=365.2425,Rh=30.436875,Uh={years:{quarters:4,months:12,weeks:52.1775,days:Nh,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:Rh,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...Dh},jh=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Vh=jh.slice(0).reverse();function Fh(t,e,i=!1){const o={values:i?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy};return new Bh(o)}function Gh(t,e,i,o,n){const s=t[n][i],r=e[i]/s,a=!(Math.sign(r)===Math.sign(o[n]))&&0!==o[n]&&Math.abs(r)<=1?function(t){return t<0?Math.floor(t):Math.ceil(t)}(r):Math.trunc(r);o[n]+=a,e[i]-=a*s}class Bh{constructor(t){const e="longterm"===t.conversionAccuracy||!1;this.values=t.values,this.loc=t.loc||Qc.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=e?Uh:Mh,this.isLuxonDuration=!0}static fromMillis(t,e){return Bh.fromObject({milliseconds:t},e)}static fromObject(t,e={}){if(null==t||"object"!=typeof t)throw new sd("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new Bh({values:Xd(t,Bh.normalizeUnit),loc:Qc.fromObject(e),conversionAccuracy:e.conversionAccuracy})}static fromDurationLike(t){if(Ed(t))return Bh.fromMillis(t);if(Bh.isDuration(t))return t;if("object"==typeof t)return Bh.fromObject(t);throw new sd(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,e){const[i]=function(t){return Kc(t,[ph,uh])}(t);return i?Bh.fromObject(i,e):Bh.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,e){const[i]=function(t){return Kc(t,[hh,Oh])}(t);return i?Bh.fromObject(i,e):Bh.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,e=null){if(!t)throw new sd("need to specify a reason the Duration is invalid");const i=t instanceof bc?t:new bc(t,e);if(Nc.throwOnInvalid)throw new id(i);return new Bh({invalid:i})}static normalizeUnit(t){const e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t?t.toLowerCase():t];if(!e)throw new nd(t);return e}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,e={}){const i={...e,floor:!1!==e.round&&!1!==e.floor};return this.isValid?yc.create(this.loc,i).formatDurationFromString(this,t):"Invalid Duration"}toHuman(t={}){const e=jh.map((e=>{const i=this.values[e];return Ld(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:e.slice(0,-1)}).format(i)})).filter((t=>t));return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(e)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return 0!==this.years&&(t+=this.years+"Y"),0===this.months&&0===this.quarters||(t+=this.months+3*this.quarters+"M"),0!==this.weeks&&(t+=this.weeks+"W"),0!==this.days&&(t+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(t+="T"),0!==this.hours&&(t+=this.hours+"H"),0!==this.minutes&&(t+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(t+=Gd(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===t&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const e=this.toMillis();if(e<0||e>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};const i=this.shiftTo("hours","minutes","seconds","milliseconds");let o="basic"===t.format?"hhmm":"hh:mm";t.suppressSeconds&&0===i.seconds&&0===i.milliseconds||(o+="basic"===t.format?"ss":":ss",t.suppressMilliseconds&&0===i.milliseconds||(o+=".SSS"));let n=i.toFormat(o);return t.includePrefix&&(n="T"+n),n}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const e=Bh.fromDurationLike(t),i={};for(const t of jh)(Nd(e.values,t)||Nd(this.values,t))&&(i[t]=e.get(t)+this.get(t));return Fh(this,{values:i},!0)}minus(t){if(!this.isValid)return this;const e=Bh.fromDurationLike(t);return this.plus(e.negate())}mapUnits(t){if(!this.isValid)return this;const e={};for(const i of Object.keys(this.values))e[i]=Yd(t(this.values[i],i));return Fh(this,{values:e},!0)}get(t){return this[Bh.normalizeUnit(t)]}set(t){if(!this.isValid)return this;return Fh(this,{values:{...this.values,...Xd(t,Bh.normalizeUnit)}})}reconfigure({locale:t,numberingSystem:e,conversionAccuracy:i}={}){const o={loc:this.loc.clone({locale:t,numberingSystem:e})};return i&&(o.conversionAccuracy=i),Fh(this,o)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return function(t,e){Vh.reduce(((i,o)=>Ld(e[o])?i:(i&&Gh(t,e,i,e,o),o)),null)}(this.matrix,t),Fh(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(0===t.length)return this;t=t.map((t=>Bh.normalizeUnit(t)));const e={},i={},o=this.toObject();let n;for(const s of jh)if(t.indexOf(s)>=0){n=s;let t=0;for(const e in i)t+=this.matrix[e][s]*i[e],i[e]=0;Ed(o[s])&&(t+=o[s]);const r=Math.trunc(t);e[s]=r,i[s]=(1e3*t-1e3*r)/1e3;for(const t in o)jh.indexOf(t)>jh.indexOf(s)&&Gh(this.matrix,o,t,e,s)}else Ed(o[s])&&(i[s]=o[s]);for(const t in i)0!==i[t]&&(e[n]+=t===n?i[t]:i[t]/this.matrix[n][t]);return Fh(this,{values:e},!0).normalize()}negate(){if(!this.isValid)return this;const t={};for(const e of Object.keys(this.values))t[e]=0===this.values[e]?0:-this.values[e];return Fh(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid)return!1;if(!this.loc.equals(t.loc))return!1;for(const o of jh)if(e=this.values[o],i=t.values[o],!(void 0===e||0===e?void 0===i||0===i:e===i))return!1;var e,i;return!0}}const Hh="Invalid Interval";class Wh{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,e=null){if(!t)throw new sd("need to specify a reason the Interval is invalid");const i=t instanceof bc?t:new bc(t,e);if(Nc.throwOnInvalid)throw new ed(i);return new Wh({invalid:i})}static fromDateTimes(t,e){const i=Zp(t),o=Zp(e),n=function(t,e){return t&&t.isValid?e&&e.isValid?e<t?Wh.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null:Wh.invalid("missing or invalid end"):Wh.invalid("missing or invalid start")}(i,o);return null==n?new Wh({start:i,end:o}):n}static after(t,e){const i=Bh.fromDurationLike(e),o=Zp(t);return Wh.fromDateTimes(o,o.plus(i))}static before(t,e){const i=Bh.fromDurationLike(e),o=Zp(t);return Wh.fromDateTimes(o.minus(i),o)}static fromISO(t,e){const[i,o]=(t||"").split("/",2);if(i&&o){let t,n,s,r;try{t=Jp.fromISO(i,e),n=t.isValid}catch(o){n=!1}try{s=Jp.fromISO(o,e),r=s.isValid}catch(o){r=!1}if(n&&r)return Wh.fromDateTimes(t,s);if(n){const i=Bh.fromISO(o,e);if(i.isValid)return Wh.after(t,i)}else if(r){const t=Bh.fromISO(i,e);if(t.isValid)return Wh.before(s,t)}}return Wh.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;const e=this.start.startOf(t),i=this.end.startOf(t);return Math.floor(i.diff(e,t).get(t))+1}hasSame(t){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,t))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return!!this.isValid&&this.s>t}isBefore(t){return!!this.isValid&&this.e<=t}contains(t){return!!this.isValid&&(this.s<=t&&this.e>t)}set({start:t,end:e}={}){return this.isValid?Wh.fromDateTimes(t||this.s,e||this.e):this}splitAt(...t){if(!this.isValid)return[];const e=t.map(Zp).filter((t=>this.contains(t))).sort(),i=[];let{s:o}=this,n=0;for(;o<this.e;){const t=e[n]||this.e,s=+t>+this.e?this.e:t;i.push(Wh.fromDateTimes(o,s)),o=s,n+=1}return i}splitBy(t){const e=Bh.fromDurationLike(t);if(!this.isValid||!e.isValid||0===e.as("milliseconds"))return[];let i,{s:o}=this,n=1;const s=[];for(;o<this.e;){const t=this.start.plus(e.mapUnits((t=>t*n)));i=+t>+this.e?this.e:t,s.push(Wh.fromDateTimes(o,i)),o=i,n+=1}return s}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return!!this.isValid&&+this.e==+t.s}abutsEnd(t){return!!this.isValid&&+t.e==+this.s}engulfs(t){return!!this.isValid&&(this.s<=t.s&&this.e>=t.e)}equals(t){return!(!this.isValid||!t.isValid)&&(this.s.equals(t.s)&&this.e.equals(t.e))}intersection(t){if(!this.isValid)return this;const e=this.s>t.s?this.s:t.s,i=this.e<t.e?this.e:t.e;return e>=i?null:Wh.fromDateTimes(e,i)}union(t){if(!this.isValid)return this;const e=this.s<t.s?this.s:t.s,i=this.e>t.e?this.e:t.e;return Wh.fromDateTimes(e,i)}static merge(t){const[e,i]=t.sort(((t,e)=>t.s-e.s)).reduce((([t,e],i)=>e?e.overlaps(i)||e.abutsStart(i)?[t,e.union(i)]:[t.concat([e]),i]:[t,i]),[[],null]);return i&&e.push(i),e}static xor(t){let e=null,i=0;const o=[],n=t.map((t=>[{time:t.s,type:"s"},{time:t.e,type:"e"}])),s=Array.prototype.concat(...n).sort(((t,e)=>t.time-e.time));for(const t of s)i+="s"===t.type?1:-1,1===i?e=t.time:(e&&+e!=+t.time&&o.push(Wh.fromDateTimes(e,t.time)),e=null);return Wh.merge(o)}difference(...t){return Wh.xor([this].concat(t)).map((t=>this.intersection(t))).filter((t=>t&&!t.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:Hh}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Hh}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Hh}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Hh}toFormat(t,{separator:e=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${e}${this.e.toFormat(t)}`:Hh}toDuration(t,e){return this.isValid?this.e.diff(this.s,t,e):Bh.invalid(this.invalidReason)}mapEndpoints(t){return Wh.fromDateTimes(t(this.s),t(this.e))}}class qh{static hasDST(t=Nc.defaultZone){const e=Jp.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(t){return Tc.isValidZone(t)}static normalizeZone(t){return Ac(t,Nc.defaultZone)}static months(t="long",{locale:e=null,numberingSystem:i=null,locObj:o=null,outputCalendar:n="gregory"}={}){return(o||Qc.create(e,i,n)).months(t)}static monthsFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:o=null,outputCalendar:n="gregory"}={}){return(o||Qc.create(e,i,n)).months(t,!0)}static weekdays(t="long",{locale:e=null,numberingSystem:i=null,locObj:o=null}={}){return(o||Qc.create(e,i,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:e=null,numberingSystem:i=null,locObj:o=null}={}){return(o||Qc.create(e,i,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return Qc.create(t).meridiems()}static eras(t="short",{locale:e=null}={}){return Qc.create(e,null,"gregory").eras(t)}static features(){return{relative:Dd()}}}function Qh(t,e){const i=t=>t.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),o=i(e)-i(t);return Math.floor(Bh.fromMillis(o).as("days"))}function Jh(t,e,i,o){let[n,s,r,a]=function(t,e,i){const o=[["years",(t,e)=>e.year-t.year],["quarters",(t,e)=>e.quarter-t.quarter],["months",(t,e)=>e.month-t.month+12*(e.year-t.year)],["weeks",(t,e)=>{const i=Qh(t,e);return(i-i%7)/7}],["days",Qh]],n={};let s,r;for(const[a,l]of o)if(i.indexOf(a)>=0){s=a;let i=l(t,e);r=t.plus({[a]:i}),r>e?(t=t.plus({[a]:i-1}),i-=1):t=r,n[a]=i}return[t,n,r,s]}(t,e,i);const l=e-n,d=i.filter((t=>["hours","minutes","seconds","milliseconds"].indexOf(t)>=0));0===d.length&&(r<e&&(r=n.plus({[a]:1})),r!==n&&(s[a]=(s[a]||0)+l/(r-n)));const c=Bh.fromObject(s,o);return d.length>0?Bh.fromMillis(l,o).shiftTo(...d).plus(c):c}const Zh={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Kh={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Yh=Zh.hanidec.replace(/[\[|\]]/g,"").split("");function Xh({numberingSystem:t},e=""){return new RegExp(`${Zh[t||"latn"]}${e}`)}const tp="missing Intl.DateTimeFormat.formatToParts support";function ep(t,e=(t=>t)){return{regex:t,deser:([t])=>e(function(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let i=0;i<t.length;i++){const o=t.charCodeAt(i);if(-1!==t[i].search(Zh.hanidec))e+=Yh.indexOf(t[i]);else for(const t in Kh){const[i,n]=Kh[t];o>=i&&o<=n&&(e+=o-i)}}return parseInt(e,10)}return e}(t))}}const ip=`[ ${String.fromCharCode(160)}]`,op=new RegExp(ip,"g");function np(t){return t.replace(/\./g,"\\.?").replace(op,ip)}function sp(t){return t.replace(/\./g,"").replace(op," ").toLowerCase()}function rp(t,e){return null===t?null:{regex:RegExp(t.map(np).join("|")),deser:([i])=>t.findIndex((t=>sp(i)===sp(t)))+e}}function ap(t,e){return{regex:t,deser:([,t,e])=>Kd(t,e),groups:e}}function lp(t){return{regex:t,deser:([t])=>t}}const dp={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let cp=null;function hp(t,e){return Array.prototype.concat(...t.map((t=>function(t,e){if(t.literal)return t;const i=up(yc.macroTokenToFormatOpts(t.val),e);return null==i||i.includes(void 0)?t:i}(t,e))))}function pp(t,e,i){const o=hp(yc.parseFormat(i),t),n=o.map((e=>function(t,e){const i=Xh(e),o=Xh(e,"{2}"),n=Xh(e,"{3}"),s=Xh(e,"{4}"),r=Xh(e,"{6}"),a=Xh(e,"{1,2}"),l=Xh(e,"{1,3}"),d=Xh(e,"{1,6}"),c=Xh(e,"{1,9}"),h=Xh(e,"{2,4}"),p=Xh(e,"{4,6}"),u=t=>{return{regex:RegExp((e=t.val,e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([t])=>t,literal:!0};var e},m=(m=>{if(t.literal)return u(m);switch(m.val){case"G":return rp(e.eras("short",!1),0);case"GG":return rp(e.eras("long",!1),0);case"y":return ep(d);case"yy":case"kk":return ep(h,Jd);case"yyyy":case"kkkk":return ep(s);case"yyyyy":return ep(p);case"yyyyyy":return ep(r);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return ep(a);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return ep(o);case"MMM":return rp(e.months("short",!0,!1),1);case"MMMM":return rp(e.months("long",!0,!1),1);case"LLL":return rp(e.months("short",!1,!1),1);case"LLLL":return rp(e.months("long",!1,!1),1);case"o":case"S":return ep(l);case"ooo":case"SSS":return ep(n);case"u":return lp(c);case"uu":return lp(a);case"uuu":case"E":case"c":return ep(i);case"a":return rp(e.meridiems(),0);case"EEE":return rp(e.weekdays("short",!1,!1),1);case"EEEE":return rp(e.weekdays("long",!1,!1),1);case"ccc":return rp(e.weekdays("short",!0,!1),1);case"cccc":return rp(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return ap(new RegExp(`([+-]${a.source})(?::(${o.source}))?`),2);case"ZZZ":return ap(new RegExp(`([+-]${a.source})(${o.source})?`),2);case"z":return lp(/[a-z_+-/]{1,256}?/i);default:return u(m)}})(t)||{invalidReason:tp};return m.token=t,m}(e,t))),s=n.find((t=>t.invalidReason));if(s)return{input:e,tokens:o,invalidReason:s.invalidReason};{const[t,i]=function(t){const e=t.map((t=>t.regex)).reduce(((t,e)=>`${t}(${e.source})`),"");return[`^${e}$`,t]}(n),s=RegExp(t,"i"),[r,a]=function(t,e,i){const o=t.match(e);if(o){const t={};let e=1;for(const n in i)if(Nd(i,n)){const s=i[n],r=s.groups?s.groups+1:1;!s.literal&&s.token&&(t[s.token.val[0]]=s.deser(o.slice(e,e+r))),e+=r}return[o,t]}return[o,{}]}(e,s,i),[l,d,c]=a?function(t){let e,i=null;Ld(t.z)||(i=Tc.create(t.z)),Ld(t.Z)||(i||(i=new Ic(t.Z)),e=t.Z),Ld(t.q)||(t.M=3*(t.q-1)+1),Ld(t.h)||(t.h<12&&1===t.a?t.h+=12:12===t.h&&0===t.a&&(t.h=0)),0===t.G&&t.y&&(t.y=-t.y),Ld(t.u)||(t.S=Fd(t.u));const o=Object.keys(t).reduce(((e,i)=>{const o=(t=>{switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(i);return o&&(e[o]=t[i]),e}),{});return[o,i,e]}(a):[null,null,void 0];if(Nd(a,"a")&&Nd(a,"H"))throw new od("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:o,regex:s,rawMatches:r,matches:a,result:l,zone:d,specificOffset:c}}}function up(t,e){if(!t)return null;return yc.create(e,t).formatDateTimeParts((cp||(cp=Jp.fromMillis(1555555555555)),cp)).map((e=>function(t,e,i){const{type:o,value:n}=t;if("literal"===o)return{literal:!0,val:n};const s=i[o];let r=dp[o];return"object"==typeof r&&(r=r[s]),r?{literal:!1,val:r}:void 0}(e,0,t)))}const mp=[0,31,59,90,120,151,181,212,243,273,304,334],gp=[0,31,60,91,121,152,182,213,244,274,305,335];function fp(t,e){return new bc("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function vp(t,e,i){const o=new Date(Date.UTC(t,e-1,i));t<100&&t>=0&&o.setUTCFullYear(o.getUTCFullYear()-1900);const n=o.getUTCDay();return 0===n?7:n}function yp(t,e,i){return i+(Bd(t)?gp:mp)[e-1]}function bp(t,e){const i=Bd(t)?gp:mp,o=i.findIndex((t=>t<e));return{month:o+1,day:e-i[o]}}function _p(t){const{year:e,month:i,day:o}=t,n=yp(e,i,o),s=vp(e,i,o);let r,a=Math.floor((n-s+10)/7);return a<1?(r=e-1,a=Qd(r)):a>Qd(e)?(r=e+1,a=1):r=e,{weekYear:r,weekNumber:a,weekday:s,...ec(t)}}function wp(t){const{weekYear:e,weekNumber:i,weekday:o}=t,n=vp(e,1,4),s=Hd(e);let r,a=7*i+o-n-3;a<1?(r=e-1,a+=Hd(r)):a>s?(r=e+1,a-=Hd(e)):r=e;const{month:l,day:d}=bp(r,a);return{year:r,month:l,day:d,...ec(t)}}function xp(t){const{year:e,month:i,day:o}=t;return{year:e,ordinal:yp(e,i,o),...ec(t)}}function kp(t){const{year:e,ordinal:i}=t,{month:o,day:n}=bp(e,i);return{year:e,month:o,day:n,...ec(t)}}function Cp(t){const e=zd(t.year),i=Rd(t.month,1,12),o=Rd(t.day,1,Wd(t.year,t.month));return e?i?!o&&fp("day",t.day):fp("month",t.month):fp("year",t.year)}function $p(t){const{hour:e,minute:i,second:o,millisecond:n}=t,s=Rd(e,0,23)||24===e&&0===i&&0===o&&0===n,r=Rd(i,0,59),a=Rd(o,0,59),l=Rd(n,0,999);return s?r?a?!l&&fp("millisecond",n):fp("second",o):fp("minute",i):fp("hour",e)}const Tp="Invalid DateTime",Sp=864e13;function Ip(t){return new bc("unsupported zone",`the zone "${t.name}" is not supported`)}function Pp(t){return null===t.weekData&&(t.weekData=_p(t.c)),t.weekData}function Ap(t,e){const i={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Jp({...i,...e,old:i})}function Op(t,e,i){let o=t-60*e*1e3;const n=i.offset(o);if(e===n)return[o,e];o-=60*(n-e)*1e3;const s=i.offset(o);return n===s?[o,n]:[t-60*Math.min(n,s)*1e3,Math.max(n,s)]}function Lp(t,e){const i=new Date(t+=60*e*1e3);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function Ep(t,e,i){return Op(qd(t),e,i)}function zp(t,e){const i=t.o,o=t.c.year+Math.trunc(e.years),n=t.c.month+Math.trunc(e.months)+3*Math.trunc(e.quarters),s={...t.c,year:o,month:n,day:Math.min(t.c.day,Wd(o,n))+Math.trunc(e.days)+7*Math.trunc(e.weeks)},r=Bh.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=qd(s);let[l,d]=Op(a,i,t.zone);return 0!==r&&(l+=r,d=t.zone.offset(l)),{ts:l,o:d}}function Dp(t,e,i,o,n,s){const{setZone:r,zone:a}=i;if(t&&0!==Object.keys(t).length){const o=e||a,n=Jp.fromObject(t,{...i,zone:o,specificOffset:s});return r?n:n.setZone(a)}return Jp.invalid(new bc("unparsable",`the input "${n}" can't be parsed as ${o}`))}function Mp(t,e,i=!0){return t.isValid?yc.create(Qc.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Np(t,e){const i=t.c.year>9999||t.c.year<0;let o="";return i&&t.c.year>=0&&(o+="+"),o+=Ud(t.c.year,i?6:4),e?(o+="-",o+=Ud(t.c.month),o+="-",o+=Ud(t.c.day)):(o+=Ud(t.c.month),o+=Ud(t.c.day)),o}function Rp(t,e,i,o,n,s){let r=Ud(t.c.hour);return e?(r+=":",r+=Ud(t.c.minute),0===t.c.second&&i||(r+=":")):r+=Ud(t.c.minute),0===t.c.second&&i||(r+=Ud(t.c.second),0===t.c.millisecond&&o||(r+=".",r+=Ud(t.c.millisecond,3))),n&&(t.isOffsetFixed&&0===t.offset&&!s?r+="Z":t.o<0?(r+="-",r+=Ud(Math.trunc(-t.o/60)),r+=":",r+=Ud(Math.trunc(-t.o%60))):(r+="+",r+=Ud(Math.trunc(t.o/60)),r+=":",r+=Ud(Math.trunc(t.o%60)))),s&&(r+="["+t.zone.ianaName+"]"),r}const Up={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},jp={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Vp={ordinal:1,hour:0,minute:0,second:0,millisecond:0},Fp=["year","month","day","hour","minute","second","millisecond"],Gp=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Bp=["year","ordinal","hour","minute","second","millisecond"];function Hp(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new nd(t);return e}function Wp(t,e){const i=Ac(e.zone,Nc.defaultZone),o=Qc.fromObject(e),n=Nc.now();let s,r;if(Ld(t.year))s=n;else{for(const e of Fp)Ld(t[e])&&(t[e]=Up[e]);const e=Cp(t)||$p(t);if(e)return Jp.invalid(e);const o=i.offset(n);[s,r]=Ep(t,o,i)}return new Jp({ts:s,zone:i,loc:o,o:r})}function qp(t,e,i){const o=!!Ld(i.round)||i.round,n=(t,n)=>{t=Gd(t,o||i.calendary?0:2,!0);return e.loc.clone(i).relFormatter(i).format(t,n)},s=o=>i.calendary?e.hasSame(t,o)?0:e.startOf(o).diff(t.startOf(o),o).get(o):e.diff(t,o).get(o);if(i.unit)return n(s(i.unit),i.unit);for(const t of i.units){const e=s(t);if(Math.abs(e)>=1)return n(e,t)}return n(t>e?-0:0,i.units[i.units.length-1])}function Qp(t){let e,i={};return t.length>0&&"object"==typeof t[t.length-1]?(i=t[t.length-1],e=Array.from(t).slice(0,t.length-1)):e=Array.from(t),[i,e]}class Jp{constructor(t){const e=t.zone||Nc.defaultZone;let i=t.invalid||(Number.isNaN(t.ts)?new bc("invalid input"):null)||(e.isValid?null:Ip(e));this.ts=Ld(t.ts)?Nc.now():t.ts;let o=null,n=null;if(!i){if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e))[o,n]=[t.old.c,t.old.o];else{const t=e.offset(this.ts);o=Lp(this.ts,t),i=Number.isNaN(o.year)?new bc("invalid input"):null,o=i?null:o,n=i?null:t}}this._zone=e,this.loc=t.loc||Qc.create(),this.invalid=i,this.weekData=null,this.c=o,this.o=n,this.isLuxonDateTime=!0}static now(){return new Jp({})}static local(){const[t,e]=Qp(arguments),[i,o,n,s,r,a,l]=e;return Wp({year:i,month:o,day:n,hour:s,minute:r,second:a,millisecond:l},t)}static utc(){const[t,e]=Qp(arguments),[i,o,n,s,r,a,l]=e;return t.zone=Ic.utcInstance,Wp({year:i,month:o,day:n,hour:s,minute:r,second:a,millisecond:l},t)}static fromJSDate(t,e={}){const i=function(t){return"[object Date]"===Object.prototype.toString.call(t)}(t)?t.valueOf():NaN;if(Number.isNaN(i))return Jp.invalid("invalid input");const o=Ac(e.zone,Nc.defaultZone);return o.isValid?new Jp({ts:i,zone:o,loc:Qc.fromObject(e)}):Jp.invalid(Ip(o))}static fromMillis(t,e={}){if(Ed(t))return t<-Sp||t>Sp?Jp.invalid("Timestamp out of range"):new Jp({ts:t,zone:Ac(e.zone,Nc.defaultZone),loc:Qc.fromObject(e)});throw new sd(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,e={}){if(Ed(t))return new Jp({ts:1e3*t,zone:Ac(e.zone,Nc.defaultZone),loc:Qc.fromObject(e)});throw new sd("fromSeconds requires a numerical input")}static fromObject(t,e={}){t=t||{};const i=Ac(e.zone,Nc.defaultZone);if(!i.isValid)return Jp.invalid(Ip(i));const o=Nc.now(),n=Ld(e.specificOffset)?i.offset(o):e.specificOffset,s=Xd(t,Hp),r=!Ld(s.ordinal),a=!Ld(s.year),l=!Ld(s.month)||!Ld(s.day),d=a||l,c=s.weekYear||s.weekNumber,h=Qc.fromObject(e);if((d||r)&&c)throw new od("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&r)throw new od("Can't mix ordinal dates with month/day");const p=c||s.weekday&&!d;let u,m,g=Lp(o,n);p?(u=Gp,m=jp,g=_p(g)):r?(u=Bp,m=Vp,g=xp(g)):(u=Fp,m=Up);let f=!1;for(const t of u){Ld(s[t])?s[t]=f?m[t]:g[t]:f=!0}const v=p?function(t){const e=zd(t.weekYear),i=Rd(t.weekNumber,1,Qd(t.weekYear)),o=Rd(t.weekday,1,7);return e?i?!o&&fp("weekday",t.weekday):fp("week",t.week):fp("weekYear",t.weekYear)}(s):r?function(t){const e=zd(t.year),i=Rd(t.ordinal,1,Hd(t.year));return e?!i&&fp("ordinal",t.ordinal):fp("year",t.year)}(s):Cp(s),y=v||$p(s);if(y)return Jp.invalid(y);const b=p?wp(s):r?kp(s):s,[_,w]=Ep(b,n,i),x=new Jp({ts:_,zone:i,o:w,loc:h});return s.weekday&&d&&t.weekday!==x.weekday?Jp.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${x.toISO()}`):x}static fromISO(t,e={}){const[i,o]=function(t){return Kc(t,[kh,Sh],[Ch,Ih],[$h,Ph],[Th,Ah])}(t);return Dp(i,o,e,"ISO 8601",t)}static fromRFC2822(t,e={}){const[i,o]=function(t){return Kc(function(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(t),[fh,vh])}(t);return Dp(i,o,e,"RFC 2822",t)}static fromHTTP(t,e={}){const[i,o]=function(t){return Kc(t,[yh,wh],[bh,wh],[_h,xh])}(t);return Dp(i,o,e,"HTTP",e)}static fromFormat(t,e,i={}){if(Ld(t)||Ld(e))throw new sd("fromFormat requires an input string and a format");const{locale:o=null,numberingSystem:n=null}=i,s=Qc.fromOpts({locale:o,numberingSystem:n,defaultToEN:!0}),[r,a,l,d]=function(t,e,i){const{result:o,zone:n,specificOffset:s,invalidReason:r}=pp(t,e,i);return[o,n,s,r]}(s,t,e);return d?Jp.invalid(d):Dp(r,a,i,`format ${e}`,t,l)}static fromString(t,e,i={}){return Jp.fromFormat(t,e,i)}static fromSQL(t,e={}){const[i,o]=function(t){return Kc(t,[Lh,Sh],[Eh,zh])}(t);return Dp(i,o,e,"SQL",t)}static invalid(t,e=null){if(!t)throw new sd("need to specify a reason the DateTime is invalid");const i=t instanceof bc?t:new bc(t,e);if(Nc.throwOnInvalid)throw new td(i);return new Jp({invalid:i})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,e={}){const i=up(t,Qc.fromObject(e));return i?i.map((t=>t?t.val:null)).join(""):null}get(t){return this[t]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Pp(this).weekYear:NaN}get weekNumber(){return this.isValid?Pp(this).weekNumber:NaN}get weekday(){return this.isValid?Pp(this).weekday:NaN}get ordinal(){return this.isValid?xp(this.c).ordinal:NaN}get monthShort(){return this.isValid?qh.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?qh.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?qh.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?qh.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}get isInLeapYear(){return Bd(this.year)}get daysInMonth(){return Wd(this.year,this.month)}get daysInYear(){return this.isValid?Hd(this.year):NaN}get weeksInWeekYear(){return this.isValid?Qd(this.weekYear):NaN}resolvedLocaleOptions(t={}){const{locale:e,numberingSystem:i,calendar:o}=yc.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e,numberingSystem:i,outputCalendar:o}}toUTC(t=0,e={}){return this.setZone(Ic.instance(t),e)}toLocal(){return this.setZone(Nc.defaultZone)}setZone(t,{keepLocalTime:e=!1,keepCalendarTime:i=!1}={}){if((t=Ac(t,Nc.defaultZone)).equals(this.zone))return this;if(t.isValid){let o=this.ts;if(e||i){const e=t.offset(this.ts),i=this.toObject();[o]=Ep(i,e,t)}return Ap(this,{ts:o,zone:t})}return Jp.invalid(Ip(t))}reconfigure({locale:t,numberingSystem:e,outputCalendar:i}={}){return Ap(this,{loc:this.loc.clone({locale:t,numberingSystem:e,outputCalendar:i})})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const e=Xd(t,Hp),i=!Ld(e.weekYear)||!Ld(e.weekNumber)||!Ld(e.weekday),o=!Ld(e.ordinal),n=!Ld(e.year),s=!Ld(e.month)||!Ld(e.day),r=n||s,a=e.weekYear||e.weekNumber;if((r||o)&&a)throw new od("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(s&&o)throw new od("Can't mix ordinal dates with month/day");let l;i?l=wp({..._p(this.c),...e}):Ld(e.ordinal)?(l={...this.toObject(),...e},Ld(e.day)&&(l.day=Math.min(Wd(l.year,l.month),l.day))):l=kp({...xp(this.c),...e});const[d,c]=Ep(l,this.o,this.zone);return Ap(this,{ts:d,o:c})}plus(t){if(!this.isValid)return this;return Ap(this,zp(this,Bh.fromDurationLike(t)))}minus(t){if(!this.isValid)return this;return Ap(this,zp(this,Bh.fromDurationLike(t).negate()))}startOf(t){if(!this.isValid)return this;const e={},i=Bh.normalizeUnit(t);switch(i){case"years":e.month=1;case"quarters":case"months":e.day=1;case"weeks":case"days":e.hour=0;case"hours":e.minute=0;case"minutes":e.second=0;case"seconds":e.millisecond=0}if("weeks"===i&&(e.weekday=1),"quarters"===i){const t=Math.ceil(this.month/3);e.month=3*(t-1)+1}return this.set(e)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,e={}){return this.isValid?yc.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):Tp}toLocaleString(t=cd,e={}){return this.isValid?yc.create(this.loc.clone(e),t).formatDateTime(this):Tp}toLocaleParts(t={}){return this.isValid?yc.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:e=!1,suppressMilliseconds:i=!1,includeOffset:o=!0,extendedZone:n=!1}={}){if(!this.isValid)return null;const s="extended"===t;let r=Np(this,s);return r+="T",r+=Rp(this,s,e,i,o,n),r}toISODate({format:t="extended"}={}){return this.isValid?Np(this,"extended"===t):null}toISOWeekDate(){return Mp(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:e=!1,includeOffset:i=!0,includePrefix:o=!1,extendedZone:n=!1,format:s="extended"}={}){if(!this.isValid)return null;return(o?"T":"")+Rp(this,"extended"===s,e,t,i,n)}toRFC2822(){return Mp(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Mp(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Np(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:e=!1,includeOffsetSpace:i=!0}={}){let o="HH:mm:ss.SSS";return(e||t)&&(i&&(o+=" "),e?o+="z":t&&(o+="ZZ")),Mp(this,o,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Tp}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const e={...this.c};return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,e="milliseconds",i={}){if(!this.isValid||!t.isValid)return Bh.invalid("created by diffing an invalid DateTime");const o={locale:this.locale,numberingSystem:this.numberingSystem,...i},n=(a=e,Array.isArray(a)?a:[a]).map(Bh.normalizeUnit),s=t.valueOf()>this.valueOf(),r=Jh(s?this:t,s?t:this,n,o);var a;return s?r.negate():r}diffNow(t="milliseconds",e={}){return this.diff(Jp.now(),t,e)}until(t){return this.isValid?Wh.fromDateTimes(this,t):this}hasSame(t,e){if(!this.isValid)return!1;const i=t.valueOf(),o=this.setZone(t.zone,{keepLocalTime:!0});return o.startOf(e)<=i&&i<=o.endOf(e)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const e=t.base||Jp.fromObject({},{zone:this.zone}),i=t.padding?this<e?-t.padding:t.padding:0;let o=["years","months","days","hours","minutes","seconds"],n=t.unit;return Array.isArray(t.unit)&&(o=t.unit,n=void 0),qp(e,this.plus(i),{...t,numeric:"always",units:o,unit:n})}toRelativeCalendar(t={}){return this.isValid?qp(t.base||Jp.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(Jp.isDateTime))throw new sd("min requires all arguments be DateTimes");return Md(t,(t=>t.valueOf()),Math.min)}static max(...t){if(!t.every(Jp.isDateTime))throw new sd("max requires all arguments be DateTimes");return Md(t,(t=>t.valueOf()),Math.max)}static fromFormatExplain(t,e,i={}){const{locale:o=null,numberingSystem:n=null}=i;return pp(Qc.fromOpts({locale:o,numberingSystem:n,defaultToEN:!0}),t,e)}static fromStringExplain(t,e,i={}){return Jp.fromFormatExplain(t,e,i)}static get DATE_SHORT(){return cd}static get DATE_MED(){return hd}static get DATE_MED_WITH_WEEKDAY(){return pd}static get DATE_FULL(){return ud}static get DATE_HUGE(){return md}static get TIME_SIMPLE(){return gd}static get TIME_WITH_SECONDS(){return fd}static get TIME_WITH_SHORT_OFFSET(){return vd}static get TIME_WITH_LONG_OFFSET(){return yd}static get TIME_24_SIMPLE(){return bd}static get TIME_24_WITH_SECONDS(){return _d}static get TIME_24_WITH_SHORT_OFFSET(){return wd}static get TIME_24_WITH_LONG_OFFSET(){return xd}static get DATETIME_SHORT(){return kd}static get DATETIME_SHORT_WITH_SECONDS(){return Cd}static get DATETIME_MED(){return $d}static get DATETIME_MED_WITH_SECONDS(){return Td}static get DATETIME_MED_WITH_WEEKDAY(){return Sd}static get DATETIME_FULL(){return Id}static get DATETIME_FULL_WITH_SECONDS(){return Pd}static get DATETIME_HUGE(){return Ad}static get DATETIME_HUGE_WITH_SECONDS(){return Od}}function Zp(t){if(Jp.isDateTime(t))return t;if(t&&t.valueOf&&Ed(t.valueOf()))return Jp.fromJSDate(t);if(t&&"object"==typeof t)return Jp.fromObject(t);throw new sd(`Unknown datetime argument: ${t}, of type ${typeof t}`)}class Kp extends Ci{constructor(){super(),window.appUser&&window.appUser.user&&(this.loggedInUser=window.appUser.user)}connectedCallback(){super.connectedCallback(),this.addGlobalListener("yp-logged-in",this._loggedIn.bind(this)),this.addGlobalListener("yp-got-admin-rights",this.requestUpdate.bind(this))}disconnectedCallback(){super.connectedCallback(),this.removeGlobalListener("yp-logged-in",this._loggedIn.bind(this)),this.removeGlobalListener("yp-got-admin-rights",this.requestUpdate.bind(this))}get isLoggedIn(){return null!=this.loggedInUser}_loggedIn(t){this.loggedInUser=t.detail,this.requestUpdate()}}function Yp(t,e,i){if(void 0!==e)
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
return function(t,e,i){const o=t.constructor;if(!i){const t=`__${e}`;if(!(i=o.getPropertyDescriptor(e,t)))throw new Error("@ariaProperty must be used after a @property decorator")}const n=i;let s="";if(!n.set)throw new Error(`@ariaProperty requires a setter for ${e}`);if(t.dispatchWizEvent)return i;const r={configurable:!0,enumerable:!0,set(t){if(""===s){const t=o.getPropertyOptions(e);s="string"==typeof t.attribute?t.attribute:e}this.hasAttribute(s)&&this.removeAttribute(s),n.set.call(this,t)}};return n.get&&(r.get=function(){return n.get.call(this)}),r}(t,e,i);throw new Error("@ariaProperty only supports TypeScript Decorators")}
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */t([lt({type:Object}),e("design:type",Object)],Kp.prototype,"loggedInUser",void 0);class Xp extends nt{constructor(){super(...arguments),this.indeterminate=!1,this.progress=0,this.density=0,this.closed=!1}open(){this.closed=!1}close(){this.closed=!0}render(){const t={"mdc-circular-progress--closed":this.closed,"mdc-circular-progress--indeterminate":this.indeterminate},e=48+4*this.density,i={width:`${e}px`,height:`${e}px`};return N` <div class="mdc-circular-progress ${Lt(t)}" style="${ti(i)}" role="progressbar" aria-label="${bt(this.ariaLabel)}" aria-valuemin="0" aria-valuemax="1" aria-valuenow="${bt(this.indeterminate?void 0:this.progress)}"> ${this.renderDeterminateContainer()} ${this.renderIndeterminateContainer()} </div>`}renderDeterminateContainer(){const t=48+4*this.density,e=t/2,i=this.density>=-3?18+11*this.density/6:12.5+5*(this.density+3)/4,o=6.2831852*i,n=(1-this.progress)*o,s=this.density>=-3?4+this.density*(1/3):3+(this.density+3)*(1/6);return N` <div class="mdc-circular-progress__determinate-container"> <svg class="mdc-circular-progress__determinate-circle-graphic" viewBox="0 0 ${t} ${t}"> <circle class="mdc-circular-progress__determinate-track" cx="${e}" cy="${e}" r="${i}" stroke-width="${s}"></circle> <circle class="mdc-circular-progress__determinate-circle" cx="${e}" cy="${e}" r="${i}" stroke-dasharray="${6.2831852*i}" stroke-dashoffset="${n}" stroke-width="${s}"></circle> </svg> </div>`}renderIndeterminateContainer(){return N` <div class="mdc-circular-progress__indeterminate-container"> <div class="mdc-circular-progress__spinner-layer"> ${this.renderIndeterminateSpinnerLayer()} </div> </div>`}renderIndeterminateSpinnerLayer(){const t=48+4*this.density,e=t/2,i=this.density>=-3?18+11*this.density/6:12.5+5*(this.density+3)/4,o=6.2831852*i,n=.5*o,s=this.density>=-3?4+this.density*(1/3):3+(this.density+3)*(1/6);return N` <div class="mdc-circular-progress__circle-clipper mdc-circular-progress__circle-left"> <svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 ${t} ${t}"> <circle cx="${e}" cy="${e}" r="${i}" stroke-dasharray="${o}" stroke-dashoffset="${n}" stroke-width="${s}"></circle> </svg> </div> <div class="mdc-circular-progress__gap-patch"> <svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 ${t} ${t}"> <circle cx="${e}" cy="${e}" r="${i}" stroke-dasharray="${o}" stroke-dashoffset="${n}" stroke-width="${.8*s}"></circle> </svg> </div> <div class="mdc-circular-progress__circle-clipper mdc-circular-progress__circle-right"> <svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 ${t} ${t}"> <circle cx="${e}" cy="${e}" r="${i}" stroke-dasharray="${o}" stroke-dashoffset="${n}" stroke-width="${s}"></circle> </svg> </div>`}update(t){super.update(t),t.has("progress")&&(this.progress>1&&(this.progress=1),this.progress<0&&(this.progress=0))}}t([lt({type:Boolean,reflect:!0})],Xp.prototype,"indeterminate",void 0),t([lt({type:Number,reflect:!0})],Xp.prototype,"progress",void 0),t([lt({type:Number,reflect:!0})],Xp.prototype,"density",void 0),t([lt({type:Boolean,reflect:!0})],Xp.prototype,"closed",void 0),t([Yp,lt({type:String,attribute:"aria-label"})],Xp.prototype,"ariaLabel",void 0);
/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class tu extends Xp{renderIndeterminateContainer(){return N` <div class="mdc-circular-progress__indeterminate-container"> <div class="mdc-circular-progress__spinner-layer mdc-circular-progress__color-1"> ${this.renderIndeterminateSpinnerLayer()} </div> <div class="mdc-circular-progress__spinner-layer mdc-circular-progress__color-2"> ${this.renderIndeterminateSpinnerLayer()} </div> <div class="mdc-circular-progress__spinner-layer mdc-circular-progress__color-3"> ${this.renderIndeterminateSpinnerLayer()} </div> <div class="mdc-circular-progress__spinner-layer mdc-circular-progress__color-4"> ${this.renderIndeterminateSpinnerLayer()} </div> </div>`}}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-LIcense-Identifier: Apache-2.0
 */const eu=a`.mdc-circular-progress__determinate-circle,.mdc-circular-progress__indeterminate-circle-graphic{stroke:#6200ee;stroke:var(--mdc-theme-primary,#6200ee)}.mdc-circular-progress__determinate-track{stroke:transparent}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0s cubic-bezier(.4,0,.6,1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:transparent}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset .5s 0s cubic-bezier(0,0,.2,1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1.568s linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--closed{opacity:0}:host{display:inline-flex}.mdc-circular-progress__determinate-track{stroke:transparent;stroke:var(--mdc-circular-progress-track-color,transparent)}.mdc-circular-progress__color-1 .mdc-circular-progress__indeterminate-circle-graphic{stroke:#6200ee;stroke:var(--mdc-circular-progress-bar-color-1,var(--mdc-theme-primary,#6200ee))}.mdc-circular-progress__color-2 .mdc-circular-progress__indeterminate-circle-graphic{stroke:#6200ee;stroke:var(--mdc-circular-progress-bar-color-2,var(--mdc-theme-primary,#6200ee))}.mdc-circular-progress__color-3 .mdc-circular-progress__indeterminate-circle-graphic{stroke:#6200ee;stroke:var(--mdc-circular-progress-bar-color-3,var(--mdc-theme-primary,#6200ee))}.mdc-circular-progress__color-4 .mdc-circular-progress__indeterminate-circle-graphic{stroke:#6200ee;stroke:var(--mdc-circular-progress-bar-color-4,var(--mdc-theme-primary,#6200ee))}:host{display:inline-flex}`
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let iu=class extends tu{};iu.styles=[eu],iu=t([rt("mwc-circular-progress-four-color")],iu);
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */
class ou extends nt{constructor(){super(...arguments),this.indeterminate=!1,this.progress=0,this.buffer=1,this.reverse=!1,this.closed=!1,this.stylePrimaryHalf="",this.stylePrimaryFull="",this.styleSecondaryQuarter="",this.styleSecondaryHalf="",this.styleSecondaryFull="",this.animationReady=!0,this.closedAnimationOff=!1,this.resizeObserver=null}connectedCallback(){super.connectedCallback(),this.rootEl&&this.attachResizeObserver()}render(){const t={"mdc-linear-progress--closed":this.closed,"mdc-linear-progress--closed-animation-off":this.closedAnimationOff,"mdc-linear-progress--indeterminate":this.indeterminate,"mdc-linear-progress--animation-ready":this.animationReady},e={"--mdc-linear-progress-primary-half":this.stylePrimaryHalf,"--mdc-linear-progress-primary-half-neg":""!==this.stylePrimaryHalf?`-${this.stylePrimaryHalf}`:"","--mdc-linear-progress-primary-full":this.stylePrimaryFull,"--mdc-linear-progress-primary-full-neg":""!==this.stylePrimaryFull?`-${this.stylePrimaryFull}`:"","--mdc-linear-progress-secondary-quarter":this.styleSecondaryQuarter,"--mdc-linear-progress-secondary-quarter-neg":""!==this.styleSecondaryQuarter?`-${this.styleSecondaryQuarter}`:"","--mdc-linear-progress-secondary-half":this.styleSecondaryHalf,"--mdc-linear-progress-secondary-half-neg":""!==this.styleSecondaryHalf?`-${this.styleSecondaryHalf}`:"","--mdc-linear-progress-secondary-full":this.styleSecondaryFull,"--mdc-linear-progress-secondary-full-neg":""!==this.styleSecondaryFull?`-${this.styleSecondaryFull}`:""},i={"flex-basis":this.indeterminate?"100%":100*this.buffer+"%"},o={transform:this.indeterminate?"scaleX(1)":`scaleX(${this.progress})`};return N` <div role="progressbar" class="mdc-linear-progress ${Lt(t)}" style="${ti(e)}" dir="${bt(this.reverse?"rtl":void 0)}" aria-label="${bt(this.ariaLabel)}" aria-valuemin="0" aria-valuemax="1" aria-valuenow="${bt(this.indeterminate?void 0:this.progress)}" @transitionend="${this.syncClosedState}"> <div class="mdc-linear-progress__buffer"> <div class="mdc-linear-progress__buffer-bar" style="${ti(i)}"> </div> <div class="mdc-linear-progress__buffer-dots"></div> </div> <div class="mdc-linear-progress__bar mdc-linear-progress__primary-bar" style="${ti(o)}"> <span class="mdc-linear-progress__bar-inner"></span> </div> <div class="mdc-linear-progress__bar mdc-linear-progress__secondary-bar"> <span class="mdc-linear-progress__bar-inner"></span> </div> </div>`}update(t){!t.has("closed")||this.closed&&void 0!==t.get("closed")||this.syncClosedState(),super.update(t)}async firstUpdated(t){super.firstUpdated(t),this.attachResizeObserver()}syncClosedState(){this.closedAnimationOff=this.closed}updated(t){!t.has("indeterminate")&&t.has("reverse")&&this.indeterminate&&this.restartAnimation(),t.has("indeterminate")&&void 0!==t.get("indeterminate")&&this.indeterminate&&window.ResizeObserver&&this.calculateAndSetAnimationDimensions(this.rootEl.offsetWidth),super.updated(t)}disconnectedCallback(){this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),super.disconnectedCallback()}attachResizeObserver(){if(window.ResizeObserver)return this.resizeObserver=new window.ResizeObserver((t=>{if(this.indeterminate)for(const e of t)if(e.contentRect){const t=e.contentRect.width;this.calculateAndSetAnimationDimensions(t)}})),void this.resizeObserver.observe(this.rootEl);this.resizeObserver=null}calculateAndSetAnimationDimensions(t){const e=.8367142*t,i=2.00611057*t,o=.37651913*t,n=.84386165*t,s=1.60277782*t;this.stylePrimaryHalf=`${e}px`,this.stylePrimaryFull=`${i}px`,this.styleSecondaryQuarter=`${o}px`,this.styleSecondaryHalf=`${n}px`,this.styleSecondaryFull=`${s}px`,this.restartAnimation()}async restartAnimation(){this.animationReady=!1,await this.updateComplete,await new Promise(requestAnimationFrame),this.animationReady=!0,await this.updateComplete}open(){this.closed=!1}close(){this.closed=!0}}t([ht(".mdc-linear-progress")],ou.prototype,"rootEl",void 0),t([lt({type:Boolean,reflect:!0})],ou.prototype,"indeterminate",void 0),t([lt({type:Number})],ou.prototype,"progress",void 0),t([lt({type:Number})],ou.prototype,"buffer",void 0),t([lt({type:Boolean,reflect:!0})],ou.prototype,"reverse",void 0),t([lt({type:Boolean,reflect:!0})],ou.prototype,"closed",void 0),t([Yp,lt({attribute:"aria-label"})],ou.prototype,"ariaLabel",void 0),t([dt()],ou.prototype,"stylePrimaryHalf",void 0),t([dt()],ou.prototype,"stylePrimaryFull",void 0),t([dt()],ou.prototype,"styleSecondaryQuarter",void 0),t([dt()],ou.prototype,"styleSecondaryHalf",void 0),t([dt()],ou.prototype,"styleSecondaryFull",void 0),t([dt()],ou.prototype,"animationReady",void 0),t([dt()],ou.prototype,"closedAnimationOff",void 0);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-LIcense-Identifier: Apache-2.0
 */
const nu=a`@keyframes mdc-linear-progress-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(83.67142%);transform:translateX(var(--mdc-linear-progress-primary-half,83.67142%))}100%{transform:translateX(200.611057%);transform:translateX(var(--mdc-linear-progress-primary-full,200.611057%))}}@keyframes mdc-linear-progress-primary-indeterminate-scale{0%{transform:scaleX(.08)}36.65%{animation-timing-function:cubic-bezier(.334731,.12482,.785844,1);transform:scaleX(.08)}69.15%{animation-timing-function:cubic-bezier(.06,.11,.6,1);transform:scaleX(.661479)}100%{transform:scaleX(.08)}}@keyframes mdc-linear-progress-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(.15,0,.515058,.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);transform:translateX(37.651913%);transform:translateX(var(--mdc-linear-progress-secondary-quarter,37.651913%))}48.35%{animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);transform:translateX(84.386165%);transform:translateX(var(--mdc-linear-progress-secondary-half,84.386165%))}100%{transform:translateX(160.277782%);transform:translateX(var(--mdc-linear-progress-secondary-full,160.277782%))}}@keyframes mdc-linear-progress-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(.205028,.057051,.57661,.453971);transform:scaleX(.08)}19.15%{animation-timing-function:cubic-bezier(.152313,.196432,.648374,1.004315);transform:scaleX(.457104)}44.15%{animation-timing-function:cubic-bezier(.257759,-.003163,.211762,1.38179);transform:scaleX(.72796)}100%{transform:scaleX(.08)}}@keyframes mdc-linear-progress-buffering{from{transform:rotate(180deg) translateX(-10px)}}@keyframes mdc-linear-progress-primary-indeterminate-translate-reverse{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(.5,0,.701732,.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(.302435,.381352,.55,.956352);transform:translateX(-83.67142%);transform:translateX(var(--mdc-linear-progress-primary-half-neg,-83.67142%))}100%{transform:translateX(-200.611057%);transform:translateX(var(--mdc-linear-progress-primary-full-neg,-200.611057%))}}@keyframes mdc-linear-progress-secondary-indeterminate-translate-reverse{0%{animation-timing-function:cubic-bezier(.15,0,.515058,.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(.31033,.284058,.8,.733712);transform:translateX(-37.651913%);transform:translateX(var(--mdc-linear-progress-secondary-quarter-neg,-37.651913%))}48.35%{animation-timing-function:cubic-bezier(.4,.627035,.6,.902026);transform:translateX(-84.386165%);transform:translateX(var(--mdc-linear-progress-secondary-half-neg,-84.386165%))}100%{transform:translateX(-160.277782%);transform:translateX(var(--mdc-linear-progress-secondary-full-neg,-160.277782%))}}@keyframes mdc-linear-progress-buffering-reverse{from{transform:translateX(-10px)}}.mdc-linear-progress{position:relative;width:100%;transform:translateZ(0);outline:1px solid transparent;overflow:hidden;transition:opacity 250ms 0s cubic-bezier(.4,0,.6,1)}@media screen and (forced-colors:active){.mdc-linear-progress{outline-color:CanvasText}}.mdc-linear-progress__bar{position:absolute;width:100%;height:100%;animation:none;transform-origin:top left;transition:transform 250ms 0s cubic-bezier(.4,0,.6,1)}.mdc-linear-progress__bar-inner{display:inline-block;position:absolute;width:100%;animation:none;border-top-style:solid}.mdc-linear-progress__buffer{display:flex;position:absolute;width:100%;height:100%}.mdc-linear-progress__buffer-dots{background-repeat:repeat-x;flex:auto;transform:rotate(180deg);animation:mdc-linear-progress-buffering 250ms infinite linear}.mdc-linear-progress__buffer-bar{flex:0 1 100%;transition:flex-basis 250ms 0s cubic-bezier(.4,0,.6,1)}.mdc-linear-progress__primary-bar{transform:scaleX(0)}.mdc-linear-progress__secondary-bar{display:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__bar{transition:none}.mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{left:-145.166611%}.mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{left:-54.888891%;display:block}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation:mdc-linear-progress-primary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-primary-indeterminate-scale 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation:mdc-linear-progress-secondary-indeterminate-translate 2s infinite linear}.mdc-linear-progress--indeterminate.mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar>.mdc-linear-progress__bar-inner{animation:mdc-linear-progress-secondary-indeterminate-scale 2s infinite linear}.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__bar,[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__bar{right:0;-webkit-transform-origin:center right;transform-origin:center right}.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar,[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__primary-bar{animation-name:mdc-linear-progress-primary-indeterminate-translate-reverse}.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar,[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--animation-ready .mdc-linear-progress__secondary-bar{animation-name:mdc-linear-progress-secondary-indeterminate-translate-reverse}.mdc-linear-progress[dir=rtl]:not([dir=ltr]) .mdc-linear-progress__buffer-dots,[dir=rtl] .mdc-linear-progress:not([dir=ltr]) .mdc-linear-progress__buffer-dots{animation:mdc-linear-progress-buffering-reverse 250ms infinite linear;transform:rotate(0)}.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar,[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__primary-bar{right:-145.166611%;left:auto}.mdc-linear-progress[dir=rtl]:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar,[dir=rtl] .mdc-linear-progress:not([dir=ltr]).mdc-linear-progress--indeterminate .mdc-linear-progress__secondary-bar{right:-54.888891%;left:auto}.mdc-linear-progress--closed{opacity:0}.mdc-linear-progress--closed-animation-off .mdc-linear-progress__buffer-dots{animation:none}.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar,.mdc-linear-progress--closed-animation-off.mdc-linear-progress--indeterminate .mdc-linear-progress__bar .mdc-linear-progress__bar-inner{animation:none}.mdc-linear-progress__bar-inner{border-color:#6200ee;border-color:var(--mdc-theme-primary,#6200ee)}.mdc-linear-progress__buffer-dots{background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E")}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6}.mdc-linear-progress{height:4px}.mdc-linear-progress__bar-inner{border-top-width:4px}.mdc-linear-progress__buffer-dots{background-size:10px 4px}:host{display:block}.mdc-linear-progress__buffer-bar{background-color:#e6e6e6;background-color:var(--mdc-linear-progress-buffer-color,#e6e6e6)}.mdc-linear-progress__buffer-dots{background-image:url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E");background-image:var(--mdc-linear-progress-buffering-dots-image, url("data:image/svg+xml,%3Csvg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' enable-background='new 0 0 5 2' xml:space='preserve' viewBox='0 0 5 2' preserveAspectRatio='none slice'%3E%3Ccircle cx='1' cy='1' r='1' fill='%23e6e6e6'/%3E%3C/svg%3E"))}`
/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let su=class extends ou{};su.styles=[nu],su=t([rt("mwc-linear-progress")],su);let ru=class extends Ci{render(){return N` <md-outlined-icon-button .label="${this.t("addEmoji")}" id="trigger" icon="sentiment_satisfied_alt" @click="${this.togglePicker}"></md-outlined-icon-button> `}togglePicker(){window.appDialogs.getDialogAsync("emojiDialog",(t=>{t.open(this.$$("#trigger"),this.inputTarget)}))}};t([lt({type:Object}),e("design:type",HTMLInputElement)],ru.prototype,"inputTarget",void 0),ru=t([rt("yp-emoji-selector")],ru);let au=class extends Ci{constructor(){super(...arguments),this.selectedVideoCoverIndex=0,this.useMainPhotoForVideoCover=!1,this.noDefaultCoverImage=!1}static get styles(){return[super.styles,a`.previewFrame{max-height:50px;max-width:89px;height:50px;width:89px;cursor:pointer}.videoImages{overflow-x:auto;width:200px;max-height:70px;height:70px}.selectedCover{border-top:2px solid var(--accent-color);max-height:50px;max-width:89px;white-space:nowrap}.coverImage{max-height:50px;max-width:89px;white-space:nowrap}.limitInfo{margin-top:0;color:#656565;text-align:center;font-size:14px}.mainPhotoCheckbox{margin-top:4px;margin-bottom:4px}`]}render(){return this.videoImages?N` <video hidden controls class="previewVideo" .url="${this.previewVideoUrl}"></video> <div class="layout horizontal videoImages videoPreviewContainer"> <div style="white-space:nowrap"> ${this.videoImages.map(((t,e)=>N` <img .class="${this._classFromImageIndex(e)}" data-index="${e}" @click="${this._selectVideoCover}" sizing="cover" class="previewFrame" src="${t}"> `))} <div class="layout horizontal mainPhotoCheckbox" ?hidden="${this.noDefaultCoverImage}"> <mwc-formfield .label="${this.t("useMainPhoto")}"> <md-radio @click="${this._selectVideoCoverMainPhoto}" name="useMainPhoto"></md-radio> </mwc-formfield> </div> </div> </div> `:U}_classFromImageIndex(t){return t==this.selectedVideoCoverIndex?"selectedCover":"coverImage"}updated(t){super.updated(t),t.has("videoId")&&this._getVideoMeta()}async _getVideoMeta(){if(this.videoId){const t=await window.serverApi.getVideoFormatsAndImages(this.videoId);t.previewVideoUrl&&t.videoImages&&(this.previewVideoUrl=t.previewVideoUrl,this.videoImages=t.videoImages)}else console.error("_getVideoImages no video id")}_selectVideoCover(t){const e=t.target.getAttribute("data-index");this.fire("set-cover",e),this.fire("set-default-cover",!1),window.serverApi.setVideoCover(this.videoId,{frameIndex:e})}_selectVideoCoverMainPhoto(){setTimeout((()=>{this.$$("#useMainPhotoId").checked?(window.serverApi.setVideoCover(this.videoId,{frameIndex:-2}),this.fire("set-default-cover",!0)):this.fire("set-default-cover",!1)}))}};t([lt({type:Number}),e("design:type",Number)],au.prototype,"videoId",void 0),t([lt({type:String}),e("design:type",String)],au.prototype,"previewVideoUrl",void 0),t([lt({type:Array}),e("design:type",Array)],au.prototype,"videoImages",void 0),t([lt({type:Number}),e("design:type",Object)],au.prototype,"selectedVideoCoverIndex",void 0),t([lt({type:Boolean}),e("design:type",Object)],au.prototype,"useMainPhotoForVideoCover",void 0),t([lt({type:Boolean}),e("design:type",Object)],au.prototype,"noDefaultCoverImage",void 0),au=t([rt("yp-set-video-cover")],au);
/**
@license
Copyright (c) 2015 Winston Howes. All rights reserved.
Copyright (c) 2016-2021 Citizens Foundation.
This code may only be used under the MIT license found at https://github.com/winhowes/file-upload/blob/master/LICENSE
*/
let lu=class extends Ci{constructor(){super(...arguments),this.target="",this.progressHidden=!1,this.droppable=!1,this.dropText="",this.multi=!1,this.files=[],this.method="PUT",this.raised=!1,this.noink=!1,this.headers={},this.retryText="Retry Upload",this.removeText="Remove",this.successText="Success",this.errorText="Error uploading file...",this.noDefaultCoverImage=!1,this.shownDropText=!1,this.videoUpload=!1,this.audioUpload=!1,this.attachmentUpload=!1,this.transcodingComplete=!1,this.isPollingForTranscoding=!1,this.indeterminateProgress=!1,this.accept="image/*",this.capture=!1,this.selectedVideoCoverIndex=0,this.useMainPhotoForVideoCover=!1,this.buttonText="",this.buttonIcon="file_upload"}static get styles(){return[super.styles,a`.enabled{border:1px dashed #555}.hover{opacity:.7;border:1px dashed #111}#UploadBorder{vertical-align:middle;color:#555;padding:8px;padding-right:16px;max-height:200px;overflow-y:auto;display:inline-block}#dropArea{text-align:center}md-outlined-button{margin-bottom:8px}.file{padding:10px 0}.commands{float:right}.commands iron-icon:not([icon=check-circle]){cursor:pointer;opacity:.9}.commands iron-icon:hover{opacity:1}[hidden]{display:none}.error{color:#f40303;font-size:11px;margin:2px 0 -3px}[hidden]{display:none!important}::slotted(iron-icon){padding-right:6px}.mainContainer{width:100%}.removeButton{margin-bottom:18px}.limitInfo{margin-top:0;color:#656565;text-align:center;font-size:14px}md-outlined-button{min-width:100px}.subText{font-size:12px;font-style:italic}`]}render(){return N` <div class="layout vertical center-center mainContainer"> <div class="layout vertical center-center"> <div class="layout horizontal center-center"> <md-outlined-button id="button" .icon="${this.buttonIcon}" class="blue" ?raised="${this.raised}" .label="${this.buttonText}" @click="${this._fileClick}"> </md-outlined-button> <md-outlined-icon-button .ariaLabel="${this.t("deleteFile")}" class="removeButton layout self-start" icon="delete" @click="${this.clear}" ?hidden="${!this.currentFile}"></md-outlined-icon-button> </div> <div class="subText" ?hidden="${!this.subText}">${this.subText}</div> <div ?hidden="${!this.uploadLimitSeconds}" class="limitInfo layout horizontal center-center"> <em ?hidden="${null!=this.currentFile}">${this.uploadLimitSeconds} ${this.t("seconds")}</em> </div> </div> <div id="UploadBorder"> ${this.files.map((t=>N` <div class="file"> <div class="name"> <span>${this.uploadStatus}</span> <div class="commands"> <md-icon .title="${this.retryText}" @click="${this._retryUpload}" ?hidden="${!t.error}">autorenew</md-icon> <md-icon icon="cancel" .title="${this.removeText}" @click="${this._cancelUpload}" ?hidden="${t.complete}">cancel</md-icon> <md-icon icon="check_circle" .title="${this.successText}" ?hidden="${!t.complete}">check_circle</md-icon> </div> </div> <div class="error" ?hidden="${!t.error}"> ${this.errorText} </div> <div ?hidden="${t.complete}"> <mwc-linear-progress .value="${t.progress}" ?indeterminate="${this.indeterminateProgress}" .error="${t.error}"></mwc-linear-progress> </div> </div> `))} </div> ${this.currentVideoId&&this.transcodingComplete?N`<yp-set-video-cover .noDefaultCoverImage="${this.noDefaultCoverImage}" .videoId="${this.currentVideoId}" @set-cover="${this._setVideoCover}" @set-default-cover="${this._setDefaultImageAsVideoCover}"></yp-set-video-cover> `:U} </div> <input type="file" id="fileInput" ?capture="${this.capture}" @change="${this._fileChange}" .accept="${this.accept}" hidden ?multiple="${this.multi}"> `}clear(){this.files=[],this._showDropText(),this.uploadStatus=void 0,this.currentVideoId=void 0,this.currentAudioId=void 0,this.currentFile=void 0,this.transcodingJobId=void 0,this.indeterminateProgress=!1,this.transcodingComplete=!1,this.capture=!1,this.isPollingForTranscoding=!1,this.useMainPhotoForVideoCover=!1;const t=this.$$("#fileInput");t&&(t.value=""),this.videoUpload?this.fire("success",{detail:null,videoId:null}):this.audioUpload&&this.fire("success",{detail:null,audioId:null})}connectedCallback(){super.connectedCallback(),this.raised&&this.$$("#button")?.toggleAttribute("raised",!0),this.droppable&&(this._showDropText(),this.setupDrop()),this.videoUpload?(this.accept="video/*",this.capture=!0):this.audioUpload&&(this.accept="audio/*",this.capture=!0),this.uploadLimitSeconds||!this.videoUpload&&!this.audioUpload||(this.uploadLimitSeconds=600)}setupDrop(){this.$$("#UploadBorder"),this.ondragover=t=>(t.stopPropagation(),!1),this.ondragleave=()=>!1,this.ondrop=t=>{if(t.preventDefault(),t.dataTransfer){const e=t.dataTransfer.files.length;for(let i=0;i<e;i++){const e=t.dataTransfer.files[i];e.progress=0,e.error=!1,e.complete=!1,this.files.push(e),this.uploadFile(e)}}}}_hasRecorderApp(){const t=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,e=/Android/.test(navigator.userAgent)&&!window.MSStream;return this.videoUpload?!(!t&&!e):!this.audioUpload}_fileClick(){const t=/firefox/.test(navigator.userAgent.toLowerCase())&&!window.MSStream,e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),i=!!e&&parseInt(e[2],10),o=/SamsungBrowser/.test(navigator.userAgent),n=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;this._hasRecorderApp()?this._openFileInput():n&&this.audioUpload||t||i&&!o?this._openMediaRecorder():this._openFileInput()}_openFileInput(t=undefined){t&&(this.videoAspect=t);const e=this.$$("#fileInput");if(e&&document.createEvent){const t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),e.dispatchEvent(t)}}_openMediaRecorder(){window.appGlobals.activity("open","mediaRecorder"),window.appDialogs.getMediaRecorderAsync((t=>{t.open({callbackFunction:this._dataFromMediaRecorder.bind(this),videoRecording:this.videoUpload,audioRecording:this.audioUpload,uploadFileFunction:this._openFileInput.bind(this),maxLength:this.uploadLimitSeconds||600})}))}_dataFromMediaRecorder(t){t.progress=0,t.error=!1,t.complete=!1,this.files.push(t),this.uploadFile(t)}_fileChange(t){const e=t.target.files.length;for(let i=0;i<e;i++){const e=t.target.files[i];e.progress=0,e.error=!1,e.complete=!1,this.files.push(e),this.uploadFile(e)}}cancel(t){t&&t.xhr&&(t.xhr.abort(),this.files.splice(this.files.indexOf(t),1),this._showDropText())}_cancelUpload(t){this.cancel(t.model.__data__.item)}_retryUpload(t){t.model.item.error=!1,t.model.item.progress=0,setTimeout((()=>{this.uploadFile(t.model.__data__.item)}),50)}_showDropText(){this.shownDropText=!this.files.length&&this.droppable}async uploadFile(t){if(this.videoUpload||this.audioUpload||this.attachmentUpload){let e;this.indeterminateProgress=!0,this.currentFile=t;let i={};if(this.videoUpload)window.appGlobals.activity("starting","videoUpload"),this.uploadStatus=this.t("uploadingVideo"),this.headers={"Content-Type":"video/mp4"},e=this.group?"/api/videos/"+this.group.id+"/createAndGetPreSignedUploadUrl":"/api/videos/createAndGetPreSignedUploadUrlLoggedIn";else if(this.audioUpload)window.appGlobals.activity("starting","audioUpload"),this.uploadStatus=this.t("uploadingAudio"),this.headers={"Content-Type":"audio/mp4"},e=this.group?"/api/audios/"+this.group.id+"/createAndGetPreSignedUploadUrl":"/api/audios/createAndGetPreSignedUploadUrlLoggedIn";else if(this.attachmentUpload){if(window.appGlobals.activity("starting","attachmentUpload"),this.uploadStatus=this.t("attachmentUpload"),!this.group)return void console.error("No group for attachment upload");i={filename:t.name,contentType:t.type},e="/api/groups/"+this.group.id+"/getPresignedAttachmentURL"}const o=await window.serverApi.createPresignUrl(e,i);this.target=o.presignedUrl,this.videoUpload?this.currentVideoId=o.videoId:this.currentAudioId=o.audioId,this.method="PUT",this.indeterminateProgress=!1,this.reallyUploadFile(this.currentFile)}else window.appGlobals.activity("starting","imageUpload"),this.uploadStatus=this.t("uploadingImage"),this.reallyUploadFile(t)}_checkTranscodingJob(t){setTimeout((async()=>{let e,i;if(this.videoUpload?(e="videos",i=this.currentVideoId):(e="audios",i=this.currentAudioId),i){const o=await window.serverApi.getTranscodingJobStatus(e,i,t);if(this.currentFile){const e=this.files.indexOf(this.currentFile);"Complete"===o.status?(this.files[e].complete=!0,this.uploadStatus=this.t("uploadCompleted"),this.transcodingComplete=!0,this.videoUpload?(this.fire("success",{detail:o,videoId:this.currentVideoId}),this.uploadStatus=this.t("selectCoverImage")):this.fire("success",{detail:o,audioId:this.currentAudioId}),this.fire("file-upload-complete"),window.appGlobals.activity("complete","mediaTranscoding")):o.error?(this.files[e].error=!0,this.files[e].complete=!1,this.files[e].progress=100,this.requestUpdate(),this.fire("error",{xhr:event}),this.fire("file-upload-complete"),window.appGlobals.activity("error","mediaTranscoding")):this._checkTranscodingJob(t)}else console.error("Trying to process non file")}else console.error("No media edit for transcoding check")}),1e3)}_setVideoCover(t){this.selectedVideoCoverIndex=t.detail}_setDefaultImageAsVideoCover(t){this.useMainPhotoForVideoCover=t.detail}reallyUploadFile(t){if(!t)return;let e=this.videoAspect;e||(e=window.innerHeight>window.innerWidth?"portrait":"landscape"),this.fire("file-upload-starting"),this._showDropText();const i=this.files.indexOf(t),o=t.xhr=new XMLHttpRequest;o.upload.onprogress=t=>{const e=t.loaded,o=t.total;this.files[i].progress=Math.floor(e/o*1e3)/10};const n=this.target.replace("<name>",t.name);o.open(this.method,n,!0);for(const t in this.headers)this.headers.hasOwnProperty(t)&&o.setRequestHeader(t,this.headers[t]);if(o.onload=async()=>{if(200===o.status)if(this.videoUpload&&this.currentVideoId){let t,i;this.indeterminateProgress=!0,this.uploadStatus=this.t("transcodingVideo"),t=this.group?"startTranscoding":"startTranscodingLoggedIn",i="posts"===this.containerType&&this.group?{videoPostUploadLimitSec:this.group.configuration.videoPostUploadLimitSec,aspect:""}:"points"===this.containerType&&this.group?{videoPointUploadLimitSec:this.group.configuration.videoPointUploadLimitSec,aspect:""}:{},i.aspect=e;const o=await window.serverApi.startTranscoding("videos",this.currentVideoId,t,i);this._checkTranscodingJob(o.transcodingJobId),window.appGlobals.activity("complete","videoUpload"),window.appGlobals.activity("start","mediaTranscoding")}else if(this.audioUpload&&this.currentAudioId){let t,e;this.indeterminateProgress=!0,this.uploadStatus=this.t("transcodingAudio"),t=this.group?"startTranscoding":"startTranscodingLoggedIn",e="posts"===this.containerType&&this.group?{audioPostUploadLimitSec:this.group.configuration.audioPostUploadLimitSec}:"points"===this.containerType&&this.group?{audioPointUploadLimitSec:this.group.configuration.audioPointUploadLimitSec}:{};const i=await window.serverApi.startTranscoding("audios",this.currentAudioId,t,e);this._checkTranscodingJob(i.transcodingJobId),window.appGlobals.activity("complete","audioUpload"),window.appGlobals.activity("start","mediaTranscoding")}else this.attachmentUpload?(this.uploadStatus=this.t("uploadCompleted"),this.fire("file-upload-complete"),this.files[i].complete=!0,this.fire("success",{xhr:o,filename:t.name}),window.appGlobals.activity("complete","attachmentUpload")):(this.uploadStatus=this.t("uploadCompleted"),this.fire("file-upload-complete"),this.files[i].complete=!0,this.fire("success",{xhr:o,videoId:this.currentVideoId}),window.appGlobals.activity("complete","imageUpload"));else this.fire("file-upload-complete"),this.files[i].error=!0,this.files[i].complete=!1,this.files[i].progress=100,this.requestUpdate(),this.fire("error",{xhr:o}),window.appGlobals.activity("error","mediaUpload")},this.videoUpload||this.audioUpload||this.attachmentUpload)o.send(t);else{const e=new FormData;e.append("file",t,t.name),o.send(e)}}};t([lt({type:String}),e("design:type",Object)],lu.prototype,"target",void 0),t([lt({type:Number}),e("design:type",Number)],lu.prototype,"uploadLimitSeconds",void 0),t([lt({type:Boolean}),e("design:type",Object)],lu.prototype,"progressHidden",void 0),t([lt({type:Boolean}),e("design:type",Object)],lu.prototype,"droppable",void 0),t([lt({type:String}),e("design:type",Object)],lu.prototype,"dropText",void 0),t([lt({type:Boolean}),e("design:type",Object)],lu.prototype,"multi",void 0),t([lt({type:Array}),e("design:type",Array)],lu.prototype,"files",void 0),t([lt({type:String}),e("design:type",Object)],lu.prototype,"method",void 0),t([lt({type:Boolean}),e("design:type",Object)],lu.prototype,"raised",void 0),t([lt({type:String}),e("design:type",String)],lu.prototype,"subText",void 0),t([lt({type:Boolean}),e("design:type",Object)],lu.prototype,"noink",void 0),t([lt({type:Object}),e("design:type",Object)],lu.prototype,"headers",void 0),t([lt({type:String}),e("design:type",Object)],lu.prototype,"retryText",void 0),t([lt({type:String}),e("design:type",Object)],lu.prototype,"removeText",void 0),t([lt({type:String}),e("design:type",Object)],lu.prototype,"successText",void 0),t([lt({type:String}),e("design:type",Object)],lu.prototype,"errorText",void 0),t([lt({type:Boolean}),e("design:type",Object)],lu.prototype,"noDefaultCoverImage",void 0),t([lt({type:Boolean}),e("design:type",Object)],lu.prototype,"shownDropText",void 0),t([lt({type:Boolean}),e("design:type",Object)],lu.prototype,"videoUpload",void 0),t([lt({type:Boolean}),e("design:type",Object)],lu.prototype,"audioUpload",void 0),t([lt({type:Boolean}),e("design:type",Object)],lu.prototype,"attachmentUpload",void 0),t([lt({type:Number}),e("design:type",Number)],lu.prototype,"currentVideoId",void 0),t([lt({type:Number}),e("design:type",Number)],lu.prototype,"currentAudioId",void 0),t([lt({type:Number}),e("design:type",Number)],lu.prototype,"transcodingJobId",void 0),t([lt({type:Boolean}),e("design:type",Object)],lu.prototype,"transcodingComplete",void 0),t([lt({type:Object}),e("design:type",Object)],lu.prototype,"currentFile",void 0),t([lt({type:Boolean}),e("design:type",Object)],lu.prototype,"isPollingForTranscoding",void 0),t([lt({type:Boolean}),e("design:type",Object)],lu.prototype,"indeterminateProgress",void 0),t([lt({type:String}),e("design:type",String)],lu.prototype,"uploadStatus",void 0),t([lt({type:String}),e("design:type",Object)],lu.prototype,"accept",void 0),t([lt({type:Object}),e("design:type",Object)],lu.prototype,"group",void 0),t([lt({type:Boolean}),e("design:type",Object)],lu.prototype,"capture",void 0),t([lt({type:String}),e("design:type",String)],lu.prototype,"containerType",void 0),t([lt({type:Number}),e("design:type",Object)],lu.prototype,"selectedVideoCoverIndex",void 0),t([lt({type:Boolean}),e("design:type",String)],lu.prototype,"videoAspect",void 0),t([lt({type:Boolean}),e("design:type",Object)],lu.prototype,"useMainPhotoForVideoCover",void 0),t([lt({type:String}),e("design:type",Object)],lu.prototype,"buttonText",void 0),t([lt({type:String}),e("design:type",Object)],lu.prototype,"buttonIcon",void 0),lu=t([rt("yp-file-upload")],lu);const du=(t,e)=>{let i="";const o=t.className.split(" ");for(let t=0;t<o.length;t++)o[t]!==e&&(i+=o[t]+" ");t.className=i};let cu=class extends Ci{constructor(){super(...arguments),this.hideNotHelpful=!1,this.isUpVoted=!1,this.allDisabled=!1,this.hideSharing=!1}static get styles(){return[super.styles,Ko,a`
        :host {
          min-width: 125px;
        }

        .action-text {
          font-size: 12px;
          padding-top: 12px;
          padding-left: 6px;
        }

        .action-up {
        }

        .action-down {
        }

        .up-selected {
          color: #444;
        }

        .down-selected {
          color: #444;
        }

        .middle {
        }

        .all-actions {
          padding-right: 8px;
          margin-top: 8px;
        }

        yp-ajax {
          min-width: 32px;
        }

        .myButton {
          --md-outlined-icon-button {
            width: 10px;
            height: 10px;
          }
        }

        .shareIcon {
          text-align: right;
        }

        .shareIcon[up-voted] {
        }

        [hidden] {
          display: none !important;
        }

        .point-down-vote-icon {
          margin-left: 16px;
        }
      `]}render(){return this.point?N` <div class="all-actions layout horizontal center-center" ?hidden="${this.hideNotHelpful}"> <div id="actionUp" class="actionUp layout horizontal"> <md-outlined-icon-button .label="${this.t("point.helpful")}" ?disabled="${this.allDisabled}" icon="arrow_upward" class="point-up-vote-icon myButton" @click="${this.pointHelpful}">arrow_upward</md-outlined-icon-button> <div class="action-text action-up layouthorizontal"> ${this.point.counter_quality_up} </div> </div> <div id="actionDown" class="actionDown layout horizontal"> <md-outlined-icon-button .label="${this.t("point.not_helpful")}" ?disabled="${this.allDisabled}" icon="arrow_downward" class="point-down-vote-icon myButton" @click="${this.pointNotHelpful}">arrow_downward</md-outlined-icon-button> <div class="action-text">${this.point.counter_quality_down}</div> </div> <md-outlined-icon-button icon="share" ?hidden="${!0}" class="shareIcon" .label="${this.t("sharePoint")}" up-voted="${this.isUpVoted}" @click="${this._shareTap}"></md-outlined-icon-button> </div> `:U}connectedCallback(){super.connectedCallback(),this.addGlobalListener("yp-got-endorsements-and-qualities",this._updateQualitiesFromSignal.bind(this))}disconnectedCallback(){super.disconnectedCallback(),this.removeGlobalListener("yp-got-endorsements-and-qualities",this._updateQualitiesFromSignal.bind(this))}get masterHideSharing(){return this.hideSharing||this.configuration&&this.configuration.hideSharing}_sharedContent(t){const e=t.detail;window.appGlobals.activity("pointShared",e.social,this.point?this.point.id:-1)}_shareTap(t){const e=t.detail;window.appGlobals.activity("pointShareHeaderOpen",e.brand,this.point?this.point.id:-1),window.appDialogs.getDialogAsync("shareDialog",(t=>{t.open(this.pointUrl||"",this.t("sharePoint"),this._sharedContent)}))}_onPointChanged(){this.point?this._updateQualities():this.isUpVoted=!1}_updateQualitiesFromSignal(){this._updateQualities()}_updateQualities(){if(this.point&&window.appUser&&window.appUser.loggedIn()&&window.appUser.user&&window.appUser.user.PointQualities){const t=window.appUser.pointQualitiesIndex[this.point.id];t?(this._setPointQuality(t.value),t.value>0&&(this.isUpVoted=!0)):(this.isUpVoted=!1,this._setPointQuality(void 0))}else this.isUpVoted=!1,this._setPointQuality(void 0)}_qualityChanged(){}_resetClasses(){this.pointQualityValue&&this.pointQualityValue>0?(this.$$("#actionUp").className+=" up-selected",du(this.$$("#actionDown"),"down-selected")):this.pointQualityValue&&this.pointQualityValue<0?(this.$$("#actionDown").className+=" down-selected",du(this.$$("#actionUp"),"up-selected")):(du(this.$$("#actionUp"),"up-selected"),du(this.$$("#actionDown"),"down-selected"))}_setPointQuality(t){this.pointQualityValue=t,this._resetClasses()}async generatePointQuality(t){if(this.point&&!0===window.appUser.loggedIn()){let e;e=this.pointQualityValue===t?"DELETE":"POST";const i=await window.serverApi.setPointQuality(this.point.id,e,{point_id:this.point.id,value:t});this._pointQualityResponse(i)}else this.allDisabled=!1,window.appUser.loginForPointQuality(this,{value:t})}_pointQualityResponse(t){this.allDisabled=!1;const e=t.pointQuality,i=t.oldPointQualityValue;this._setPointQuality(e.value),window.appUser.updatePointQualityForPost(this.point.id,e),i&&(i>0?this.point.counter_quality_up=this.point.counter_quality_up-1:i<0&&(this.point.counter_quality_down=this.point.counter_quality_down-1)),e.value>0?this.point.counter_quality_up=this.point.counter_quality_up+1:e.value<0&&(this.point.counter_quality_down=this.point.counter_quality_down+1),this.requestUpdate()}generatePointQualityFromLogin(t){this.point&&!window.appUser.pointQualitiesIndex[this.point.id]&&this.generatePointQuality(t)}pointHelpful(){this.allDisabled=!0,this.generatePointQuality(1),this.isUpVoted=!0,this.requestUpdate,window.appGlobals.activity("clicked","pointHelpful",this.point.id)}pointNotHelpful(){this.allDisabled=!0,window.appGlobals.activity("clicked","pointNotHelpful",this.point.id),this.generatePointQuality(-1),this.requestUpdate}};t([lt({type:Object}),e("design:type",Object)],cu.prototype,"point",void 0),t([lt({type:Boolean}),e("design:type",Object)],cu.prototype,"hideNotHelpful",void 0),t([lt({type:Boolean}),e("design:type",Object)],cu.prototype,"isUpVoted",void 0),t([lt({type:Boolean}),e("design:type",Object)],cu.prototype,"allDisabled",void 0),t([lt({type:Boolean}),e("design:type",Object)],cu.prototype,"hideSharing",void 0),t([lt({type:Object}),e("design:type",Object)],cu.prototype,"configuration",void 0),t([lt({type:Number}),e("design:type",Number)],cu.prototype,"pointQualityValue",void 0),t([lt({type:String}),e("design:type",String)],cu.prototype,"pointUrl",void 0),cu=t([rt("yp-point-actions")],cu);let hu=class extends Ci{constructor(){super(...arguments),this.linkPoint=!1,this.openTranscript=!0,this.hideUser=!1,this.hideActions=!1,this.isEditing=!1,this.isAdminCommentEditing=!1,this.hasAdminComments=!1,this.maxNumberOfPointsBeforeEditFrozen=5,this.videoActive=!1,this.audioActive=!1,this.checkingTranscript=!1,this.portraitVideo=!1,this.checkTranscriptError=!1}connectedCallback(){super.connectedCallback(),this.addGlobalListener("yp-got-admin-rights",this.requestUpdate.bind(this)),this.addGlobalListener("yp-logged-in",this.requestUpdate.bind(this)),this.addGlobalListener("yp-pause-media-playback",this._pauseMediaPlayback.bind(this))}disconnectedCallback(){super.disconnectedCallback(),this.removeGlobalListener("yp-got-admin-rights",this.requestUpdate.bind(this)),this.removeGlobalListener("yp-logged-in",this.requestUpdate.bind(this)),this.removeGlobalListener("yp-pause-media-playback",this._pauseMediaPlayback),dr.detachMediaListeners(this)}updated(t){super.updated(t),t.has("point")&&this._pointChanged(),t.has("isAdminCommentEditing")&&this._isAdminCommentEditingChanged(),t.has("isEditing")&&this._isEditingChanged()}static get styles(){return[super.styles,Ko,a`:host{display:block}.point-content{padding-right:16px;padding-left:16px;margin-top:16px}#pointContent,#pointContentTranscript{cursor:default}#pointContentTranscript,#pointContent[link-point]{cursor:pointer}@media (max-width:320px){.user-image{display:none}}.userInfoContainer{border-bottom:solid 4px;width:100%;padding-bottom:16px}.userInfoContainer[up-vote]{border-bottom-color:var(--master-point-up-color)}.userInfoContainer[down-vote]{border-bottom-color:var(--master-point-down-color)}#reportPointIconButton{width:36px;height:36px}.thumbsIcon{padding-left:0;padding-right:0}md-icon.thumbsIconUp{color:var(--master-point-up-color)}yp-user-with-organization{padding-left:16px}.actionContainer{margin-top:8px;margin-bottom:16px}[hidden]{display:none!important}.pointer{cursor:pointer}video,yp-image{width:398px;height:224px;margin:0;padding:0}@media (max-width:600px){video,yp-image{width:100%;margin:0!important;padding:0;height:initial;vertical-align:top}.actionContainer{margin-left:12px}#videoPlayer[portrait]{width:50%!important}}.topContainer[portrait]{background-color:#777}#pointAdminCommentEditor,#pointContentEditor{padding-left:8px;padding-right:8px}#pointAdminCommentContent{padding-left:16px;padding-right:16px}.commentFromAdmin{padding-left:16px;padding-right:16px;padding-top:16px;font-size:16px;padding-bottom:2px;font-weight:700}.commentFromAdminInput{padding:0}.transcriptError{margin-top:8px;color:var(--md-error-color)}mwc-circular-progress-four-color{margin-top:4px}.checkTranscript{margin-top:8px;padding:8px}.transcriptText{margin-top:0;padding:8px;padding-bottom:0;font-style:italic}.transcriptHeader{margin-bottom:2px;font-style:normal}audio{margin-top:16px;margin-bottom:16px}md-outlined-icon-button.openCloseButton{width:54px;height:54px;margin-top:-16px;padding-left:0;margin-left:0}`]}renderAdminComments(){N` <div class="commentFromAdmin" ?hidden="${this.isEditingSomething}"> ${this.post.Group.configuration.customAdminCommentsTitle?N` <yp-magic-text textType="customAdminCommentsTitle" .contentLanguage="${this.post.Group.language}" .content="${this.post.Group.configuration.customAdminCommentsTitle}" .contentId="${this.post.Group.id}"> </yp-magic-text> `:""} ${this.post.Group.configuration.customAdminCommentsTitle?"":N` ${this.t("commentFromAdmin")} `} </div> <div id="pointAdminCommentContent" ?link-point="${this.linkPoint}" ?hidden="${this.isEditingSomething}" @click="${this._linkIfNeeded}"> <yp-magic-text simple-format textType="pointAdminCommentContent" truncate="1500" .contentLanguage="${this.point.public_data?.admin_comment?.language}" .content="${this.point.public_data?.admin_comment?.text}" .contentId="${this.point.id}"> </yp-magic-text> </div> `}renderUserHeader(){return this.user?N`<div class="userInfoContainer layout horizontal" ?up-vote="${this.isUpVote}" ?down-vote="${this.isDownVote}" ?hidden="${this.hideUser}"> <div class="layout horizontal" ?hidden="${this.post.Group.configuration.hidePointAuthor}"> <md-icon class="thumbsIcon thumbsIconUp" ?hidden="${!this.isUpVote}">thumb_up</md-icon> <md-icon class="thumbsIcon thumbsIconDown" ?hidden="${!this.isDownVote}">thumb_down</md-icon> <yp-user-with-organization .titleDate="${this.point.created_at}" inverted .user="${this.user}"></yp-user-with-organization> </div> </div>`:U}renderTextPoint(){return N` <div class="point-content layout vertical"> <span ?hidden="${!this.point.name}"> <span>${this.point.name}</span>. </span> <div id="pointContent" .linkPoint="${this.linkPoint}" ?hidden="${this.isEditingSomething}" @click="${this._linkIfNeeded}"> <yp-magic-text simpleFormat textType="pointContent" .contentLanguage="${this.point.language}" .content="${this.point.latestContent}" .contentId="${this.point.id}"> </yp-magic-text> </div> </div> `}renderVideoOrAudio(){return N` ${this.videoActive&&this.pointVideoPath?N` <div class="topContainer" ?portrait="${this.portraitVideo}"> <div class="layout horizontal center-center"> <video id="videoPlayer" portrait="${this.portraitVideo}" .data-id="${this.pointVideoId}" controls preload="none" class="video" .src="${this.pointVideoPath}" playsinline .poster="${this.pointImageVideoPath?this.pointImageVideoPath:""}"></video> </div> </div> `:U} ${this.audioActive&&this.pointAudioPath?N` <div class="layout vertical center-center"> <audio id="audioPlayer" .data-id="${this.pointAudioId}" controls preload="metadata" class="audio" .src="${this.pointAudioPath}" playsinline></audio> </div> `:U} ${this.checkingTranscript?N` <div class="layout vertical center-center checkTranscript"> <div>${this.t("checkingForTranscript")}</div> <mwc-circular-progress-four-color indeterminate></mwc-circular-progress-four-color> </div> `:U} <div class="transcriptError layout horizontal center-center" ?hidden="${!this.checkTranscriptError}"> ${this.t("checkTranscriptError")} </div> ${this.point.latestContent?N` <div class="transcriptText layout vertical center-center"> <div class="layout horizontal"> <div class="transcriptHeader"> ${this.t("automaticTranscript")} </div> <div ?hidden="${!this.post.Group.configuration.collapsableTranscripts}"> <md-outlined-icon-button .label="${this.t("openComments")}" class="openCloseButton" icon="keyboard_arrow_right" @click="${this._setOpen}" ?hidden="${this.openTranscript}"></md-outlined-icon-button> <md-outlined-icon-button .label="${this.t("closeComments")}" class="openCloseButton" icon="keyboard_arrow_down" @click="${this._setClosed}" ?hidden="${!this.openTranscript}"></md-outlined-icon-button> </div> </div> <div id="pointContentTranscript" .linkPoint="${this.linkPoint}" ?hidden="${this.isEditing}" @click="${this._linkIfNeeded}"> <yp-magic-text ?hidden="${!this.openTranscript}" simpleFormat textType="pointContent" .contentLanguage="${this.point.language}" .content="${this.point.latestContent}" .contentId="${this.point.id}"> </yp-magic-text> </div> </div> `:U} `}renderEditPoint(){return N` <div class="layout vertical"> <md-outlined-text-field id="pointContentEditor" charCounter maxlength="1500" .value="${this.editText?this.editText:""}"></md-outlined-text-field> <div class="horizontal end-justified layout"> <yp-emoji-selector id="pointEmojiSelector"></yp-emoji-selector> </div> <div class="layout horizontal self-end"> <md-outlined-button @click="${this._cancelEdit}" .label="${this.t("cancel")}"></md-outlined-button> <md-outlined-button @click="${this._saveEdit}" .label="${this.t("update")}"></md-outlined-button> </div> </div> `}renderEditMenu(){return N` <div class="layout horizontal self-end" hidden> <md-outlined-icon-button .label="${this.t("editAdminComment")}" ?hidden="${!this.hasAdminCommentAccess}" icon="comment" @click="${this._editAdminComment}"></md-outlined-icon-button> <md-outlined-icon-button .label="${this.t("edit")}" ?hidden="${!this.canEditPoint}" icon="create" @click="${this._editPoint}"></md-outlined-icon-button> <md-outlined-icon-button .label="${this.t("delete")}" icon="clear" @click="${this._deletePoint}"></md-outlined-icon-button> </div> `}render(){return N` <div class="layout vertical"> ${this.renderUserHeader()} <div class="layout vertical"> ${this.videoOrAudioActive?this.renderVideoOrAudio():this.renderTextPoint()} ${this.showAdminComments?this.renderAdminComments():U} ${this.isEditing?this.renderEditPoint():U} <div class="layout horizontal actionContainer" ?hidden="${this.hideActions}"> <yp-point-actions .point="${this.point}" .pointUrl="${this.pointUrl}" .configuration="${this.post?.Group?.configuration}"></yp-point-actions> <md-outlined-icon-button hidden .label="${this.t("point.report")}" id="reportPointIconButton" icon="warning" @click="${this._reportPoint}"></md-outlined-icon-button> <div class="flex"></div> ${this.hasPointAccess?this.renderEditMenu():U} </div> </div> </div> `}_setOpen(){this.openTranscript=!0,setTimeout((()=>{this.fire("yp-list-resize"),this.requestUpdate()}),20)}_setClosed(){this.openTranscript=!1,setTimeout((()=>{this.fire("yp-list-resize"),this.requestUpdate()}),20)}get isEditingSomething(){return this.isEditing||this.isAdminCommentEditing}get showAdminComments(){return!!(this.post&&this.post.Group&&this.point.public_data&&this.point.public_data.admin_comment&&this.point.public_data.admin_comment.text&&this.post.Group.configuration&&this.post.Group.configuration.allowAdminAnswersToPoints)}get hasAdminCommentAccess(){return!!(this.post&&this.post.Group&&sr.checkPostAdminOnlyAccess(this.post)&&this.post.Group.configuration&&this.post.Group.configuration.allowAdminAnswersToPoints)}get videoOrAudioActive(){return this.videoActive||this.audioActive}_isEditingChanged(){this._updateEmojiBindings()}_isAdminCommentEditingChanged(){this._updateEmojiBindings()}_shareTap(t){window.appGlobals.activity("pointShareOpen",t.detail.brand,this.point.id)}get pointUrl(){if(this.point&&this.post)return window.location.protocol+"//"+window.location.hostname+"/post/"+this.post.id+"/"+this.point.id}_linkIfNeeded(){this.linkPoint&&this.post&&ql.goToPost(this.post.id,this.point.id)}_updateEmojiBindings(){this.isEditing?setTimeout((()=>{const t=this.$$("#pointContentEditor"),e=this.$$("#pointEmojiSelector");t&&e?e.inputTarget=t:console.error("Wide: Can't bind point edit emojis :(")}),500):this.isAdminCommentEditing&&setTimeout((()=>{const t=this.$$("#pointAdminCommentEditor"),e=this.$$("#pointAdminCommentEmojiSelector");t&&e?e.inputTarget=t:console.error("Wide: Can't bind point edit emojis :(")}),500)}_cancelEdit(){this.isEditing=!1}async _saveEdit(){const t=await window.serverApi.updatePoint(this.point.id,{content:this.editText});t&&(t.latestContent=t.PointRevisions[t.PointRevisions.length-1].content,this.point=t),this.isEditing=!1}_cancelAdminCommentEdit(){this.isAdminCommentEditing=!1}async _saveAdminCommentEdit(){const t=await window.serverApi.updatePointAdminComment(this.post.Group.id,this.point.id,{content:this.editAdminCommentText});t&&(this.point.public_data||(this.point.public_data={}),this.point.public_data.admin_comment={text:t.content},this.point=JSON.parse(JSON.stringify(this.point)),this.isAdminCommentEditing=!1,this.hasAdminComments=!0),this.isAdminCommentEditing=!1}_deletePoint(){window.appDialogs.getDialogAsync("confirmationDialog",(t=>{t.open(this.t("point.confirmDelete"),this._reallyDeletePoint.bind(this))}))}async _reallyDeletePoint(){await window.serverApi.deletePoint(this.point.id),this.fire("yp-point-deleted",{pointId:this.point.id})}_reportPoint(){window.appGlobals.activity("open","point.report"),window.appDialogs.getDialogAsync("apiActionDialog",(t=>{t.setup("/api/points/"+this.point.id+"/report",this.t("reportConfirmation"),this._onReport.bind(this),this.t("point.report"),"PUT"),t.open()}))}_onReport(){window.appGlobals.notifyUserViaToast(this.t("point.report")+": "+this.point.content)}_editPoint(){this.hasPointAccess&&this.point.PointRevisions&&(this.editText=this.point.PointRevisions[this.point.PointRevisions.length-1].content,this.isEditing=!0)}_editAdminComment(){this.post&&sr.checkPostAdminOnlyAccess(this.post)&&(this.editAdminCommentText=this.point.public_data&&this.point.public_data.admin_comment?this.point.public_data.admin_comment.text:"",this.isAdminCommentEditing=!0)}get hasPointAccess(){return sr.checkPointAccess(this.point)}get canEditPoint(){if(this.point&&(this.point.PointVideos&&this.point.PointVideos.length>0||this.point.PointAudios&&this.point.PointAudios.length>0))return sr.checkPointAccess(this.point);return this.point&&this.point.counter_quality_up+this.point.counter_quality_down<=this.maxNumberOfPointsBeforeEditFrozen&&window.appUser&&window.appUser.user&&this.point&&window.appUser.user.id==this.point.user_id}firstUpdated(t){super.firstUpdated(t),dr.attachMediaListeners(this)}_pauseMediaPlayback(){dr.pauseMediaPlayback(this)}_pointChanged(){if(this._resetMedia(),this.point){this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.collapsableTranscripts&&(this.openTranscript=!1);let t=!1;this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.disableMachineTranscripts&&(t=!0),this.user=this.point.User;const e=dr.getVideoURL(this.point.PointVideos),i=dr.getVideoPosterURL(this.point.PointVideos,void 0);if(this.portraitVideo=dr.isPortraitVideo(this.point.PointVideos),e&&i)this.videoActive=!0,this.pointVideoPath=e,this.pointImageVideoPath=i,this.pointVideoId=this.point.PointVideos[0].id,this.checkTranscriptError=!1,t||"video"!==this.point.checkTranscriptFor||!0!==window.appGlobals.hasTranscriptSupport||(this._checkTranscriptStatus(),this.checkingTranscript=!0,this.point.checkTranscriptFor=void 0);else{const e=dr.getAudioURL(this.point.PointAudios);e&&(this.audioActive=!0,this.pointAudioPath=e,this.pointAudioId=this.point.PointAudios[0].id,this.checkTranscriptError=!1,t||"audio"!==this.point.checkTranscriptFor||!0!==window.appGlobals.hasTranscriptSupport||(this._checkTranscriptStatus(),this.checkingTranscript=!0,this.point.checkTranscriptFor=void 0))}}else this.user=void 0,this.checkTranscriptError=!1}async _checkTranscriptStatus(){let t;t=this.videoActive?"videoTranscriptStatus":"audioTranscriptStatus";const e=await window.serverApi.checkPointTranscriptStatus(t,this.point.id);if(e.point){const t=e.point;this.checkingTranscript=!1,t.latestContent=t.PointRevisions[t.PointRevisions.length-1].content,this.point=t,this.fire("yp-update-point-in-list",t),this.hasPointAccess&&(this.editText=t.latestContent,this.isEditing=!0),this.requestUpdate()}else e&&e.inProgress?setTimeout((()=>{this._checkTranscriptStatus()}),2e3):e&&e.error?(this.checkingTranscript=!1,this.checkTranscriptError=!0):this.checkingTranscript=!1}_resetMedia(){this.videoActive=!1,this.pointVideoPath=void 0,this.pointImageVideoPath=void 0,this.pointVideoId=void 0,this.audioActive=!1,this.pointAudioPath=void 0,this.pointAudioId=void 0}loginName(){if(this.point.User)return this.point.User.name}get isUpVote(){return this.point?0==this.point.value||this.point.value>0:(console.warn("Can't find point for isUpVote"),!1)}get isDownVote(){return this.point?0==this.point.value||this.point.value<0:(console.warn("Can't find point for isDownVote"),!1)}};t([lt({type:Object}),e("design:type",Object)],hu.prototype,"point",void 0),t([lt({type:Object}),e("design:type",Object)],hu.prototype,"post",void 0),t([lt({type:Object}),e("design:type",Object)],hu.prototype,"user",void 0),t([lt({type:Boolean}),e("design:type",Object)],hu.prototype,"linkPoint",void 0),t([lt({type:Boolean}),e("design:type",Object)],hu.prototype,"openTranscript",void 0),t([lt({type:Boolean}),e("design:type",Object)],hu.prototype,"hideUser",void 0),t([lt({type:Boolean}),e("design:type",Object)],hu.prototype,"hideActions",void 0),t([lt({type:Boolean}),e("design:type",Object)],hu.prototype,"isEditing",void 0),t([lt({type:Boolean}),e("design:type",Object)],hu.prototype,"isAdminCommentEditing",void 0),t([lt({type:Boolean}),e("design:type",Object)],hu.prototype,"hasAdminComments",void 0),t([lt({type:Number}),e("design:type",Object)],hu.prototype,"maxNumberOfPointsBeforeEditFrozen",void 0),t([lt({type:String}),e("design:type",String)],hu.prototype,"editText",void 0),t([lt({type:String}),e("design:type",String)],hu.prototype,"editAdminCommentText",void 0),t([lt({type:Boolean}),e("design:type",Object)],hu.prototype,"videoActive",void 0),t([lt({type:String}),e("design:type",String)],hu.prototype,"pointVideoPath",void 0),t([lt({type:String}),e("design:type",String)],hu.prototype,"pointImageVideoPath",void 0),t([lt({type:Number}),e("design:type",Number)],hu.prototype,"pointVideoId",void 0),t([lt({type:Boolean}),e("design:type",Object)],hu.prototype,"audioActive",void 0),t([lt({type:String}),e("design:type",String)],hu.prototype,"pointAudioPath",void 0),t([lt({type:Number}),e("design:type",Number)],hu.prototype,"pointAudioId",void 0),t([lt({type:Boolean}),e("design:type",Object)],hu.prototype,"checkingTranscript",void 0),t([lt({type:Boolean}),e("design:type",Object)],hu.prototype,"portraitVideo",void 0),t([lt({type:Boolean}),e("design:type",Object)],hu.prototype,"checkTranscriptError",void 0),hu=t([rt("yp-point")],hu);let pu=class extends Kp{static get styles(){return[super.styles,a`.point{padding:8px;margin:8px}.pointText{margin-bottom:16px;padding:16px;width:360px}yp-point{margin-bottom:36px}@media (max-width:480px){yp-point{width:100%}}.pointLayout{width:46%}.postName{padding-left:32px;font-weight:700;font-size:24px;padding-bottom:12px}.actionInfo{font-size:22px;margin-top:16px;padding-left:16px}.post-name{font-size:26px;padding-bottom:8px;margin:0;padding-top:0;margin-top:8px;margin-left:24px}.withCursor{cursor:pointer}[hidden]{display:none!important}`]}render(){return N` <div class="layout vertical pointContainer"> <div class="actionInfo withCursor" ?hidden="${!this.isUpVote}" @click="${this._goToPoint}"> ${this.t("point.forAdded")}... </div> <div class="actionInfo withCursor" ?hidden="${!this.isDownVote}" @click="${this._goToPoint}"> ${this.t("point.againstAdded")}... </div> <div class="layout vertical"> <yp-magic-text class="post-name withCursor" @click="${this._goToPoint}" textOnly textType="postName" .contentLanguage="${this.activity.Post.language}" .content="${this.activity.Post.name}" .contentId="${this.activity.Post.id}"> </yp-magic-text> <yp-point hideUser .linkPoint="${!this.postId}" class="card" .point="${this.activity.Point}"></yp-point> </div> </div> `}_goToPoint(){!this.postId&&this.activity&&ql.goToPost(this.activity.Post.id,this.activity.Point.id,this.activity)}get isUpVote(){return this.activity.Point&&this.activity.Point.value>0}get isDownVote(){return this.activity.Point&&this.activity.Point.value<0}};t([lt({type:Object}),e("design:type",Object)],pu.prototype,"activity",void 0),t([lt({type:Number}),e("design:type",Number)],pu.prototype,"postId",void 0),pu=t([rt("ac-activity-point")],pu);class uu extends Ci{get hasGroupHeader(){return this.activity&&this.activity.Group&&"hidden_public_group_for_domain_level_points"!=this.activity.Group.name&&!this.postId&&!this.groupId}get groupTitle(){if(this.activity.Group&&this.postId&&!this.groupId){let t="";return!this.communityId&&this.activity.Community&&this.activity.Community.name!=this.activity.Group.name&&(t+=this.activity.Community.name+" - "),t+=this.activity.Group.name,t}return""}}t([lt({type:Number}),e("design:type",Number)],uu.prototype,"postId",void 0),t([lt({type:Number}),e("design:type",Number)],uu.prototype,"groupId",void 0),t([lt({type:Number}),e("design:type",Number)],uu.prototype,"communityId",void 0),t([lt({type:Object}),e("design:type",Object)],uu.prototype,"activity",void 0);class mu{static getQuestionLengthWithSubOptions(t){let e=0;for(let i=0;i<t.length;i++){e+=1;const o=t[i];"radios"===o.type&&o.radioButtons&&o.radioButtons.length>0?e+=o.radioButtons.length:"checkboxes"===o.type&&o.checkboxes&&o.checkboxes.length>0?e+=o.checkboxes.length:"dropdown"===o.type&&o.dropdownOptions&&o.dropdownOptions.length>0&&(e+=o.dropdownOptions.length)}return e}}const gu=i=>{class o extends i{constructor(){super(...arguments),this.autoTranslate=!1}connectedCallback(){super.connectedCallback(),window.autoTranslate&&(this.autoTranslate=!0),this.addGlobalListener("yp-auto-translate",this._autoTranslateEvent.bind(this))}disconnectedCallback(){super.disconnectedCallback(),this.removeGlobalListener("yp-auto-translate",this._autoTranslateEvent.bind(this))}_autoTranslateEvent(t){this.autoTranslate=t.detail,this._getSurveyTranslationsIfNeeded()}_languageEvent(t){super._languageEvent(t),this._getSurveyTranslationsIfNeeded()}async _getSurveyTranslationsIfNeeded(){if(this.translatedQuestions=void 0,this.translatedAnswers=void 0,this.post&&this.post.public_data&&this.post.public_data.structuredAnswersJson&&this.autoTranslate&&this.language!==this.post.language){const t=this.getIndexTranslationKey("GroupQuestions"),e=this.getIndexTranslationKey("PostAnswers");if(window.appGlobals.cache.autoTranslateCache[t]&&window.appGlobals.cache.autoTranslateCache[e])this.translatedQuestions=window.appGlobals.cache.autoTranslateCache[t],this.translatedAnswers=window.appGlobals.cache.autoTranslateCache[e];else{const t=await window.serverApi.getSurveyTranslations(this.post,this.language);if(this.post&&this.autoTranslate&&(this.language!==this.post.language||"??"==this.post.language)){const e=t[0],i=t[1],o=JSON.parse(JSON.stringify(this.post.Group.configuration.structuredQuestionsJson)),n=JSON.parse(JSON.stringify(this.post.public_data.structuredAnswersJson));if(e.length===mu.getQuestionLengthWithSubOptions(o)){let t=0;for(let i=0;i<o.length;i++){const n=o[i];n.text=e[t++],"radios"===n.type&&n.radioButtons&&n.radioButtons.length>0?t+=n.radioButtons.length:"checkboxes"===n.type&&n.checkboxes&&n.checkboxes.length>0?t+=n.checkboxes.length:"dropdown"===n.type&&n.dropdownOptions&&n.dropdownOptions.length>0&&(t+=n.dropdownOptions.length)}for(let t=0;t<n.length;t++)n[t].value&&(n[t].value=i[t]);this.translatedQuestions=o,this.translatedAnswers=n;const s=this.getIndexTranslationKey("GroupQuestions"),r=this.getIndexTranslationKey("PostAnswers");window.appGlobals.cache.autoTranslateCache[s]=o,window.appGlobals.cache.autoTranslateCache[r]=n}else console.error("Questions and Translated texts length does not match")}else this.translatedQuestions=void 0,this.translatedAnswers=void 0}}}getIndexTranslationKey(t){return`${t}-${this.post.id}-${this.language}`}get structuredAnswersFormatted(){if(this.post&&this.post.public_data&&this.post.public_data.structuredAnswersJson&&this.post.Group.configuration&&this.post.Group.configuration.structuredQuestionsJson){const t={},e={},i={};let o="";return this.post.Group.configuration.structuredQuestionsJson.forEach((o=>{o.uniqueId?t[o.uniqueId]=o:(o.showBeforeAnswerId&&(e[o.showBeforeAnswerId]=o),o.showAfterAnswerId&&(i[o.showAfterAnswerId]=o))})),this.post.public_data.structuredAnswersJson.forEach((n=>{if(n&&n.value){const s=t[n.uniqueId];s&&(e[n.uniqueId]&&(o+=e[n.uniqueId].text+"\n\n"),o+="<b>"+s.text+"</b>\n",n.value?o+=n.value+"\n\n":o+="\n\n",i[n.uniqueId]&&(o+=i[n.uniqueId].text+"\n\n"))}})),o}return""}}return t([lt({type:Array}),e("design:type",Array)],o.prototype,"translatedQuestions",void 0),t([lt({type:Array}),e("design:type",Array)],o.prototype,"translatedAnswers",void 0),t([lt({type:Boolean}),e("design:type",Object)],o.prototype,"autoTranslate",void 0),t([lt({type:Object}),e("design:type",Object)],o.prototype,"post",void 0),o};let fu=class extends(gu(uu)){static get styles(){return[super.styles,a`.descriptionOuter{color:var(--primary-color-more-darker,#424242);line-height:var(--description-line-height,1.3);margin:0;padding-bottom:8px;padding-top:8px;margin-bottom:48px;width:100%!important}.mainContainerItem[is-ie11]{max-width:480px!important}@media (max-width:600px){.mainContainerItem[is-ie11]{max-width:290px!important}}.description,.post-name{padding-left:16px;padding-right:16px}.post-name{font-size:24px;padding-bottom:4px;margin:0;padding-top:0;margin-top:16px}.voting{position:absolute;bottom:0;right:16px}.card-actions{position:absolute;bottom:36px;right:0}.category-icon{width:64px;height:64px}.category-image-container{text-align:right;margin-top:-52px}.postCardCursor{cursor:pointer}yp-post-cover-media{width:432px;height:258px;padding-bottom:4px;margin-top:8px}.postCard{width:960px;background-color:#fff}@media (max-width:960px){:host{width:420px}.postCard{height:100%;width:420px}yp-post-cover-media{width:300px;height:166px}.voting{padding-left:0;padding-right:0}.card-actions{width:320px}.card-content{width:420px!important;padding-bottom:74px}.description{width:300px}}:host{width:304px}.postCard{height:100%!important;width:304px!important}.actionInfo{font-size:22px;margin-top:16px;padding-left:16px;padding-right:16px;margin-bottom:16px}@media (max-width:420px){.description{width:290px}yp-post-cover-media{width:304px!important;height:168px!important}}.groupTitle{font-size:15px;padding-top:8px;color:#777}.hasPointer{cursor:pointer}`]}render(){return N` ${this.activity&&this.activity.Post?N` <div class="layout vertical hasPointer" @click="${this._goToPost}"> <div class="actionInfo">${this.t("addedAnIdea")}</div> <div class="layout horizontal center-center"> <yp-post-cover-media .post="${this.activity.Post}"></yp-post-cover-media> </div> <div class="layout vertical center-center"> <yp-magic-text class="post-name mainContainerItem" is-ie11="${this.isIE11}" textOnly textType="postName" .contentLanguage="${this.activity.Post.language}" .content="${this.activity.Post.name}" .contentId="${this.activity.Post.id}"> </yp-magic-text> </div> <div class="layout vertical center-center descriptionOuter"> <div id="description" class="description mainContainerItem" is-ie11="${this.isIE11}"> <yp-magic-text id="description" text-type="postContent" .contentLanguage="${this.activity.Post.language}" .content="${this.structuredAnswersFormatted}" ?noUserInfo="${!this.activity.Post.Group.configuration.showWhoPostedPosts}" simpleFormat skipSanitize .contentId="${this.activity.Post.id}" class="description" .truncate="${this.activity.Post.Group.configuration.descriptionTruncateAmount}" .moreText="${this.t("readMore")}" .closeDialogText="${this.t("close")}"> </yp-magic-text> </div> ${this.hasGroupHeader?N` <div class="groupTitle layout horizontal center-center"> ${this.groupTitle} </div> `:N``} </div> </div> `:N``} `}connectedCallback(){super.connectedCallback(),this.post=this.activity.Post}_goToPost(){this.activity.Post&&!this.postId&&ql.goToPost(this.activity.Post.id,void 0,this.activity)}get isIE11(){return/Trident.*rv[ :]*11\./.test(navigator.userAgent)}};fu=t([rt("ac-activity-post")],fu);let vu=class extends uu{static get styles(){return[super.styles,a`.newsStoryContainer{padding-left:8px;padding-right:8px}.postName{cursor:pointer;margin-top:16px;padding-left:8px;padding-right:8px;color:#555}.groupTitle{font-size:15px;color:#777;padding-bottom:16px;margin:0;padding-top:0}.hasPointer{cursor:pointer}.mainContainer{width:auto}`]}render(){return N` <div class="layout vertical mainContainer"> ${this.activity.Post?N` <yp-magic-text @click="${this._goToPost}" class="postName" ?hidden="${!this.activity.Post.name}" textOnly textType="postName" .contentLanguage="${this.activity.Post.language}" .content="${this.activity.Post.name}" .contentId="${this.activity.Post.id}"> </yp-magic-text> `:U} <div class="layout vertical center-center newsStoryContainer"> <yp-point-news-story withComments hideUser class="card" .point="${this.activity.Point}"></yp-point-news-story> </div> ${this.hasGroupHeader?N` <div class="groupTitle layout horizontal center-center"> ${this.groupTitle} </div> `:U} </div> `}_goToPost(){ql.goToPost(this.activity.Post.id,void 0,this.activity)}get hidePostName(){return null!=this.postId}};vu=t([rt("ac-activity-point-news-story")],vu);let yu=class extends Ci{static get styles(){return[super.styles,a`.statusChange{padding-left:32px;padding-right:32px;margin-bottom:64px;font-size:16px;overflow-y:auto;max-height:360px}.postName{padding-left:32px;padding-right:32px;font-weight:700;font-size:19px;margin-bottom:8px;color:#444;cursor:pointer}.groupName{padding-left:32px;padding:16px;font-size:14px;padding-bottom:8px}`]}render(){return N` <div class="layout vertical"> <div class="groupName"> ${this.activity.Group.name} </div> <yp-magic-text @click="${this._goToPost}" class="postName" textOnly textType="postName" .contentLanguage="${this.activity.Post.language}" .content="${this.activity.Post.name}" .contentId="${this.activity.Post.id}"> </yp-magic-text> <yp-magic-text id="statusChange" class="statusChange" .extraId="${this.activity.Post.id}" textType="statusChangeContent" .contentLanguage="${this.activity.PostStatusChange.language}" simpleFormat .content="${this.statusContent}" .contentId="${this.activity.PostStatusChange.id}"> </yp-magic-text> </div> `}_goToPost(){this.activity.Post&&ql.goToPost(this.activity.Post.id,void 0,this.activity)}get statusContent(){if(this.activity&&this.activity.PostStatusChange&&this.activity.PostStatusChange.content)return this.activity.PostStatusChange.content}};t([lt({type:Object}),e("design:type",Object)],yu.prototype,"activity",void 0),yu=t([rt("ac-activity-post-status-update")],yu);let bu=class extends Ci{constructor(){super(...arguments),this.veryLarge=!1,this.large=!1,this.noDefault=!1,this.noProfileImage=!1}static get styles(){return[super.styles,a`yp-image{display:block;vertical-align:text-top;height:48px;width:48px}.small{height:30px;width:30px;background-color:var(--primary-color-lighter,#434343)}.large{height:90px;width:90px;background-color:var(--primary-color-lighter,#434343)}.veryLarge{height:200px;width:200px;background-color:var(--primary-color-lighter,#434343)}.medium{height:48px;width:48px;background-color:var(--primary-color-lighter,#434343)}.rounded{-webkit-border-radius:25px;-moz-border-radius:25px;border-radius:25px;display:block;-webkit-transform-style:preserve-3d}.rounded-more{-webkit-border-radius:50px;-moz-border-radius:50px;border-radius:50px;display:block;vertical-align:top;align:top;-webkit-transform-style:preserve-3d}.rounded-even-more{-webkit-border-radius:115px;-moz-border-radius:125px;border-radius:125px;display:block;vertical-align:top;align:top;-webkit-transform-style:preserve-3d}.rounded img{opacity:0}.rounded-more img{opacity:0}`]}render(){return N` ${this.user&&!this.noProfileImage?N` ${this.profileImageUrl?N` <yp-image sizing="cover" .alt="${this.userTitle}" .title="${this.userTitle}" preload src="${this.profileImageUrl}" class="${this.computeClass}"></yp-image> `:U} ${this.profileImageUrl?U:N` ${this.user.facebook_id?N` <yp-image sizing="cover" ?hidden="${this.profileImageUrl}" .alt="${this.userTitle}" .title="${this.userTitle}" preload .src="${this.computeFacebookSrc}" class="${this.computeClass}"></yp-image> `:U} ${this.user.facebook_id?U:N` <yp-image sizing="cover" .title="${this.userTitle}" .alt="${this.userTitle}" preload src="https://s3.amazonaws.com/better-reykjavik-paperclip-production/instances/buddy_icons/000/000/001/icon_50/default_profile.png" class="${this.computeClass}"></yp-image> `} `} `:U} `}get userTitle(){return this.user?this.titleFromUser?this.titleFromUser:this.user.name:""}get profileImageUrl(){if(this.user&&this.user.UserProfileImages&&this.user.UserProfileImages.length>0){const t=dr.getImageFormatUrl(this.user.UserProfileImages,0);return t&&""!==t?(this.noProfileImage=!1,t):(this.noProfileImage=!0,null)}return this.noProfileImage=!0,null}get computeClass(){return this.large||this.veryLarge?this.large?"large rounded-more":this.veryLarge?"veryLarge rounded-even-more":"medium rounded":"small rounded"}get computeFacebookSrc(){return this.user&&this.user.facebook_id?"https://graph.facebook.com/"+this.user.facebook_id+"/picture":void 0}};t([lt({type:Boolean}),e("design:type",Object)],bu.prototype,"veryLarge",void 0),t([lt({type:Boolean}),e("design:type",Object)],bu.prototype,"large",void 0),t([lt({type:String}),e("design:type",String)],bu.prototype,"titleFromUser",void 0),t([lt({type:Object}),e("design:type",Object)],bu.prototype,"user",void 0),t([lt({type:Boolean}),e("design:type",Object)],bu.prototype,"noDefault",void 0),t([lt({type:Boolean}),e("design:type",Object)],bu.prototype,"noProfileImage",void 0),bu=t([rt("yp-user-image")],bu);let _u=class extends Ci{constructor(){super(...arguments),this.hideImage=!1,this.inverted=!1}static get styles(){return[super.styles,Ko,a`yp-user-image{padding-right:16px}.name{padding-top:4px;font-weight:700;text-align:left;padding-right:16px}.name[inverted]{color:var(--ak-user-name-color,#444)}.orgImage{margin-left:8px;width:48px;min-width:48px;height:48px}.rousnded{-webkit-border-radius:25px;-moz-border-radius:25px;border-radius:25px;display:block}.organizationName{color:#eee;text-align:left}.organizationName[inverted]{color:#676767}@media (max-width:600px){.orgImage{margin-right:8px;margin-left:4px}}[hidden]{display:none!important}.mainArea{padding-right:8px}`]}render(){return N` ${this.user?N` <div class="layout horizontal mainArea" .title="${this.userTitle}"> <yp-user-image .titlefromuser="${this.userTitle}" .user="${this.user}" ?hidden="${this.hideImage}"></yp-user-image> <div class="layout vertical"> <div class="name" .inverted="${this.inverted}"> ${this.user.name} </div> <div class="organizationName" .inverted="${this.inverted}" ?hidden="${!this.organizationName}"> ${this.organizationName} </div> </div> ${this.organizationImageUrl&&this.organizationName?N` <img width="48" height="48" .alt="${this.organizationName}" sizing="cover" ?hidden="${this.hideImage}" class="orgImage" src="${this.organizationImageUrl}"> `:U} </div> `:U} `}get userTitle(){return this.user&&this.titleDate?this.user.name:""}get organizationName(){return this.user&&this.user.OrganizationUsers&&this.user.OrganizationUsers.length>0&&this.user.OrganizationUsers[0].name?this.user.OrganizationUsers[0].name:null}get organizationImageUrl(){return this.user&&this.user.OrganizationUsers&&this.user.OrganizationUsers.length>0&&this.user.OrganizationUsers[0].OrgLogoImgs&&this.user.OrganizationUsers[0].OrgLogoImgs.length>0&&this.user.OrganizationUsers[0].OrgLogoImgs[0].formats?dr.getImageFormatUrl(this.user.OrganizationUsers[0].OrgLogoImgs,2):void 0}};t([lt({type:Object}),e("design:type",Object)],_u.prototype,"user",void 0),t([lt({type:Object}),e("design:type",Date)],_u.prototype,"titleDate",void 0),t([lt({type:Boolean}),e("design:type",Object)],_u.prototype,"hideImage",void 0),t([lt({type:Boolean}),e("design:type",Object)],_u.prototype,"inverted",void 0),_u=t([rt("yp-user-with-organization")],_u);let wu=class extends Kp{static get styles(){return[super.styles,cr,a`.activity{margin:16px;background-color:#fff;height:100%;padding-left:16px;padding-right:16px;margin-bottom:0}@media (max-width:600px){.activity{width:100%;height:100%;margin:0;padding-left:16px;padding-right:16px;margin-bottom:8px;margin-top:8px;width:-webkit-calc(100% - 8px);width:-moz-calc(100% - 8px);width:calc(100% - 8px)}.activity[logged-in-user]{margin-left:0;width:-webkit-calc(100% - 16px);width:-moz-calc(100% - 16px);width:calc(100% - 16px)}}.aaaactivity[is-old-safari-or-ie]{height:550px;overflow:auto}.mainActivityContent{height:100%!important}ac-activity-post{width:100%}.headerUserImage{padding-top:16px}h1{font-size:24px}md-outlined-button{color:var(--accent-color)}md-icon{width:48px;height:48px;padding-top:14px}.createdAt{color:#777;margin-top:16px;font-size:14px}yp-ajax{background-color:var(--primary-background-color)}.deleteIcon{position:absolute;right:8px;bottom:8px;color:#ddd}[hidden]{display:none!important}`]}renderActivity(){switch(this.activity.type){case"activity.post.new":return N` <ac-activity-post .activity="${this.activity}" .postId="${this.postId}" .communityId="${this.communityId}" .groupId="${this.groupId}"></ac-activity-post> `;case"activity.point.new":return N` <ac-activity-point .postId="${this.postId}" .activity="${this.activity}"></ac-activity-point> `;case"activity.point.newsStory.new":return N` <ac-activity-point-news-story .activity="${this.activity}" .postId="${this.postId}" .communityId="${this.communityId}" .groupId="${this.groupId}"></ac-activity-point-news-story> `;case"activity.post.status.change":return N` <ac-activity-post-status-update .postId="${this.postId}" .activity="${this.activity}"></ac-activity-post-status-update> `;default:return U}}render(){return this.activity?N` <div .loggedInUser="${this.isLoggedIn}" class="layout vertical activity" tabindex="${this.tabIndex}"> <md-outlined-icon-button .label="${this.t("deleteActivity")}" ?hidden="${!this.hasActivityAccess}" icon="delete" data-args="${this.activity.id}" class="deleteIcon" @click="${this._deleteActivity}"></md-outlined-icon-button> <div class="mainActivityContent"> <div class="layout horizontal"> <yp-user-with-organization .user="${this.activity.User}" inverted></yp-user-with-organization> <div class="flex"></div> <div ?hidden="${!this.wide}" class="createdAt" .title="${this.fromLongTime(this.activity.created_at)}"> ${this.fromTime(this.activity.created_at)} </div> </div> ${this.renderActivity()} </div> </div> `:U}fromTime(t){return Jp.fromISO(t).toRelative()}fromLongTime(t){return Jp.fromISO(t).toLocaleString(Jp.DATETIME_FULL)}get hasActivityAccess(){return!!this.activity&&(this.domainId&&this.activity.Domain?sr.checkDomainAccess(this.activity.Domain):this.communityId&&this.activity.Community?sr.checkCommunityAccess(this.activity.Community):this.groupId&&this.activity.Group?sr.checkGroupAccess(this.activity.Group):!(!this.postId||!this.activity.Post)&&sr.checkPostAccess(this.activity.Post))}_deleteActivity(){this.fire("ak-delete-activity",{id:this.activity.id})}_isNotActivityType(t,e){return t.type!=e}_isActivityType(t,e){return t.type==e}};t([lt({type:Object}),e("design:type",Object)],wu.prototype,"activity",void 0),t([lt({type:Number}),e("design:type",Number)],wu.prototype,"domainId",void 0),t([lt({type:Number}),e("design:type",Number)],wu.prototype,"communityId",void 0),t([lt({type:Number}),e("design:type",Number)],wu.prototype,"groupId",void 0),t([lt({type:Number}),e("design:type",Number)],wu.prototype,"postId",void 0),t([lt({type:Number}),e("design:type",Number)],wu.prototype,"postGroupId",void 0),t([lt({type:Number}),e("design:type",Number)],wu.prototype,"userId",void 0),wu=t([rt("ac-activity")],wu);let xu=class extends Ci{constructor(){super(...arguments),this.topRadius=!1,this.topLeftRadius=!1,this.headerMode=!1,this.disableMaps=!1,this.mapActivated=!1,this.streetViewActivated=!1,this.tiny=!1,this.staticMapsApiKey="AIzaSyBYy8UvdDD650mz7k1pY0j2hBFQmCPVnxA",this.defaultPostImageEnabled=!1,this.showVideo=!1,this.showAudio=!1,this.portraitVideo=!1}connectedCallback(){super.connectedCallback(),this.headerMode&&(dr.attachMediaListeners(this),this.addGlobalListener("yp-pause-media-playback",dr.pauseMediaPlayback.bind(this)))}disconnectedCallback(){super.connectedCallback(),this.headerMode&&(dr.attachMediaListeners(this),this.removeGlobalListener("yp-pause-media-playback",dr.pauseMediaPlayback.bind(this)))}updated(t){super.updated(t),t.has("post")&&(this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.uploadedDefaultPostImageId?(this.uploadedDefaultPostImageId=this.post.Group.configuration.uploadedDefaultPostImageId,this.defaultImageGroupId=this.post.Group.id,this.defaultPostImageEnabled=!0):(this.defaultPostImageEnabled=!1,this.defaultImageGroupId=void 0,this.uploadedDefaultPostImageId=void 0)),t.has("headerMode")&&this.headerMode&&(this.mapActivated=!0,this.streetViewActivated=!0)}static get styles(){return[super.styles,a`:host{display:block}.topContainer{height:100%}#videoPreviewImage,.topContainer[top-radius]>yp-image{border-top-right-radius:4px;border-top-left-radius:4px}video{outline:0!important}#videoPreviewImage,.topContainer[top-left-radius]>yp-image,google-map,google-streetview-pano{border-top-left-radius:4px}.topContainer[top-left-radius]>video{border-top-left-radius:4px}google-streetview-pano{width:100%;height:100%;margin:0;padding:0}google-map{width:100%;height:100%;margin:0;padding:0}.main-image,video{width:100%;height:100%;margin:0;padding:0}.mapCanvas{width:100%;height:100%}.category-icon{width:200px;height:200px;padding-top:32px}.category-icon[tiny]{width:100px;height:100px;padding-top:24px}.category-icon[large]{width:100%;height:100%;margin:0!important;padding:0!important}@media (max-width:960px){.topContainer[top-left-radius]>yp-image{border-top-left-radius:0}}@media (max-width:600px){.category-icon{width:130px;height:130px}.category-icon[large]{width:100%;height:100%;margin:0!important;padding:0!important}.main-image[header-mode]{height:100%}video{height:100%}}.pointer{cursor:pointer}.pointer[header-mode]{cursor:default}[hidden]{display:none!important}.videoCamStatic{width:32px;height:32px;color:var(--primary-background-color);margin-top:-68px;margin-left:8px}.voiceIcon{height:42px;width:42px;color:#333;margin-top:96px}@media (max-width:600px){.voiceIcon{height:42px;width:42px;color:#333;margin-top:35px}}audio{margin-top:16px;margin-bottom:8px}.playInfo{font-style:italic}@media (max-width:960px){.voiceIcon{margin-top:35px}}@media (max-width:430px){.voiceIcon{margin-top:28px}}video{background-color:#777}#videoPlayer[portrait]{width:100%!important;height:100%}.topContainer[portrait]{background-color:#777}#videoPreviewImage[portrait]{width:40%}.videoPreviewContainer{width:100%;height:100%}.videoPreviewContainer[portrait]{background-color:#777}`]}render(){return N` <div class="topContainer" top-radius="${this.topRadius}" top-left-radius="${this.topLeftRadius}"> ${this.isNoneActive?N` <yp-image ?header-mode="${this.headerMode}" sizing="cover" ?hidden="${this.defaultPostImageEnabled}" class="main-image pointer" src="https://i.imgur.com/sdsFAoT.png" @click="${this._goToPost}"></yp-image> ${this.activeDefaultImageUrl?N` <yp-image ?headerMode="${this.headerMode}" alt="${bt(this.altTag)}" sizing="cover" class="main-image pointer" src="${this.activeDefaultImageUrl}" @click="${this._goToPost}"></yp-image> `:U} `:U} ${this.isCategoryActive?N` <div id="categoryImageId" class="layout horizontal center-center"> <yp-image ?header-mode="${this.headerMode}" alt="${bt(this.altTag)}" ?tiny="${this.tiny}" @click="${this._goToPost}" class="category-icon pointer" title="${bt(this.post.Category?.name)}" sizing="contain" src="${this.categoryImagePath}"></yp-image> </div> `:U} ${this.isCategoryLargeActive?N` <yp-image ?header-mode="${this.headerMode}" alt="${bt(this.altTag)}" large @click="${this._goToPost}" class="category-icon pointer" title="${bt(this.post.Category?.name)}" sizing="cover" src="${this.categoryImagePath}"></yp-image> `:U} ${this.isImageActive?N` <yp-image .header-mode="${this.headerMode}" @click="${this._goToPost}" .sizing="${this.sizingMode}" class="main-image pointer" src="${this.postImagePath}"></yp-image> `:U} ${this.isVideoActive?N` ${this.showVideo?N` <video id="videoPlayer" ?portrait="${this.portraitVideo}" data-id="${bt(this.postVideoId)}" ?header-mode="${this.headerMode}" controls @click="${this._goToPost}" preload="metadata" class="pointer" src="${bt(this.postVideoPath)}" playsinline poster="${this.postVideoPosterPath}"></video> `:N` <div class="layout vertical center-center videoPreviewContainer" .portrait="${this.portraitVideo}"> <yp-image id="videoPreviewImage layout-self-center" .portrait="${this.portraitVideo}" ?headerMode="${this.headerMode}" @click="${this._goToPost}" sizing="cover" class="main-image pointer" src="${this.postVideoPosterPath}"></yp-image> </div> <md-icon class="videoCamStatic">videocam</md-icon> `} `:U} ${this.showAudio?N` <div class="layout vertical center-center"> <audio id="audioPlayer" data-id="${bt(this.postAudioId)}" ?header-mode="${this.headerMode}" controls preload="metadata" class="pointer" src="${bt(this.postAudioPath)}" ?hidden="${!this.postAudioPath}" playsinline></audio> </div> `:U} ${this.isAudioActive?N` <div class="layout vertical center-center"> <audio id="audioPlayer" .data-id="${this.postAudioId}" .header-mode="${this.headerMode}" controls preload="metadata" class="pointer" src="${bt(this.postAudioPath)}" ?hidden="${!this.postAudioPath}" playsinline></audio> </div> <div ?hidden="${this.showAudio}" class="layout horizontal center-center pointer" @click="${this._goToPost}"> <md-icon class="voiceIcon">keyboard_voice</md-icon> </div> `:U} ${this.disableMaps?U:N` ${this.isStreetViewActive?N` <yp-image @click="${this._goToPost}" class="main-image pointer" sizing="cover" src="https://maps.googleapis.com/maps/api/staticmap?center=${this.latitude},${this.longitude}&amp;zoom=${this.zoomLevel}&amp;size=432x243&amp;maptype=hybrid&amp;markers=color:red%7Clabel:%7C${this.latitude},${this.longitude}&amp;key=${this.staticMapsApiKey}" ?hidden="${this.streetViewActivated}"></yp-image> ${this.streetViewActivated?N` <google-streetview-pano .position="${this.mapPosition}" heading="330" api-key="AIzaSyDkF_kak8BVZA5zfp5R4xRnrX8HP3hjiL0" pitch="2" zoom="0.8" disable-default-ui=""></google-streetview-pano> `:U} `:U} ${this.isMapActive?N` <yp-image @click="${this._goToPost}" class="main-image pointer" ?hidden="${this.mapActivated}" sizing="cover" src="https://maps.googleapis.com/maps/api/staticmap?center=${this.latitude},${this.longitude}&amp;size=432x243&amp;zoom=${this.zoomLevel}&amp;maptype=${this.mapType}&amp;markers=color:red%7Clabel:%7C${this.latitude},${this.longitude}&amp;key=${this.staticMapsApiKey}"></yp-image> ${this.mapActivated?N` <google-map additional-map-options="{keyboardShortcuts:false}" id="coverMediaMap" class="map" libraries="places" fit-to-markers .zoom="${this.zoomLevel}" .map-type="${this.mapType}" api-key="AIzaSyDkF_kak8BVZA5zfp5R4xRnrX8HP3hjiL0"> <google-map-marker slot="markers" .latitude="${this.latitude}" .longitude="${this.longitude}"></google-map-marker> </google-map> `:U} `:U} `} </div> `}get sizingMode(){return this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.useContainImageMode?"contain":"cover"}get activeDefaultImageUrl(){return this.defaultPostImageEnabled&&this.defaultImageGroupId&&this.uploadedDefaultPostImageId?"/api/groups/"+this.defaultImageGroupId+"/default_post_image/"+this.uploadedDefaultPostImageId:void 0}_goToPost(){this.post&&this.post.Group.configuration&&this.post.Group.configuration.resourceLibraryLinkMode||(this.post?this.headerMode?ql.goToPost(this.post.id):ql.goToPost(this.post.id,void 0,void 0,this.post):console.error("No post in post cover media on goToPost"))}get latitude(){return this.post.location?this.post.location.latitude:0}get longitude(){return this.post.location?this.post.location.longitude:0}get isNoneActive(){return!!this._withCoverMediaType(this.post,"none")}get isCategoryActive(){return!!(this.post&&this._withCoverMediaType(this.post,"category")&&this.post.id<=11e3&&this._isDomainWithOldCategories())}_isDomainWithOldCategories(){const t=window.location.hostname;return t.indexOf("betrireykjavik.is")>-1||t.indexOf("betraisland.is")>-1||t.indexOf("yrpri.org")>-1}get isCategoryLargeActive(){return!(!this.post||!this._withCoverMediaType(this.post,"category")||!(this.post.id>11e3)&&this._isDomainWithOldCategories())}get isImageActive(){return!!this._withCoverMediaType(this.post,"image")}get isVideoActive(){return!!this._withCoverMediaType(this.post,"video")}get isAudioActive(){return!!this._withCoverMediaType(this.post,"audio")}get isMapActive(){return!!(this.post&&this.post.location&&this.post.location.latitude&&this._withCoverMediaType(this.post,"map"))}get isStreetViewActive(){return!!(this.post&&this.post.location&&this.post.location.latitude&&this._withCoverMediaType(this.post,"streetView"))}get zoomLevel(){return this.post.location&&this.post.location.map_zoom?this.post.location.map_zoom:"10"}get mapType(){return this.post.location&&this.post.location.mapType&&""!=this.post.location.mapType?this.post.location.mapType:"roadmap"}_withCoverMediaType(t,e){return t?"none"==e?!(t.Category||t.cover_media_type&&"none"!=t.cover_media_type):!("category"!=e||!t.Category||t.cover_media_type&&"none"!=t.cover_media_type)||t&&t.cover_media_type==e:(console.info("No post for "+e),!1)}get mapPosition(){return this.post.location?{lat:this.post.location.latitude,lng:this.post.location.longitude}:{lat:0,lng:0}}get postImagePath(){return this.post?dr.getImageFormatUrl(this.post.PostHeaderImages,0):""}get postVideoPath(){if(this.post&&this.post.PostVideos){const t=dr.getVideoURL(this.post.PostVideos);return this.portraitVideo=dr.isPortraitVideo(this.post.PostVideos),t?(this.postVideoId=this.post.PostVideos[0].id,t):void 0}}get postAudioPath(){if(this.post&&this.post.PostAudios){const t=dr.getAudioURL(this.post.PostAudios);return t?(this.postAudioId=this.post.PostAudios[0].id,t):void 0}}get postVideoPosterPath(){if(this.post&&this.post.PostVideos){const t=dr.getVideoPosterURL(this.post.PostVideos,this.post.PostHeaderImages);return t||void 0}}get categoryImagePath(){return this.post&&this.post.Category&&this.post.Category.CategoryIconImages?dr.getImageFormatUrl(this.post.Category.CategoryIconImages,0):""}};t([lt({type:Object}),e("design:type",Object)],xu.prototype,"post",void 0),t([lt({type:Boolean}),e("design:type",Object)],xu.prototype,"topRadius",void 0),t([lt({type:Boolean}),e("design:type",Object)],xu.prototype,"topLeftRadius",void 0),t([lt({type:String}),e("design:type",String)],xu.prototype,"altTag",void 0),t([lt({type:Number}),e("design:type",Number)],xu.prototype,"postAudioId",void 0),t([lt({type:Number}),e("design:type",Number)],xu.prototype,"postVideoId",void 0),t([lt({type:Boolean}),e("design:type",Object)],xu.prototype,"headerMode",void 0),t([lt({type:Boolean}),e("design:type",Object)],xu.prototype,"disableMaps",void 0),t([lt({type:Boolean}),e("design:type",Object)],xu.prototype,"mapActivated",void 0),t([lt({type:Boolean}),e("design:type",Object)],xu.prototype,"streetViewActivated",void 0),t([lt({type:Boolean}),e("design:type",Object)],xu.prototype,"tiny",void 0),t([lt({type:String}),e("design:type",Object)],xu.prototype,"staticMapsApiKey",void 0),t([lt({type:Number}),e("design:type",Number)],xu.prototype,"uploadedDefaultPostImageId",void 0),t([lt({type:Number}),e("design:type",Number)],xu.prototype,"defaultImageGroupId",void 0),t([lt({type:Boolean}),e("design:type",Object)],xu.prototype,"defaultPostImageEnabled",void 0),t([lt({type:Boolean}),e("design:type",Object)],xu.prototype,"showVideo",void 0),t([lt({type:Boolean}),e("design:type",Object)],xu.prototype,"showAudio",void 0),t([lt({type:Boolean}),e("design:type",Object)],xu.prototype,"portraitVideo",void 0),xu=t([rt("yp-post-cover-media")],xu);let ku=class extends Ci{static get styles(){return[super.styles,cr,a`.container{width:220px;height:100%!important}.descriptionOuter{color:var(--primary-color-more-darker,#424242);margin:0;padding-left:16px;padding-right:16px}.description,.post-name{padding-left:16px;padding-right:16px}.post-name{font-size:15px;padding:16px;margin:0;background-color:#fff;color:#333;text-align:center}.voting{position:absolute;bottom:0;right:16px}.card-actions{position:absolute;bottom:36px;right:0}.category-icon{width:64px;height:64px}.category-image-container{text-align:right;margin-top:-52px}.postCardCursor{cursor:pointer}yp-post-cover-media{width:220px;height:124px}.postCard{width:200px;background-color:#fff}@media (max-width:960px){:host{width:420px}.postCard{height:100%;width:420px}yp-post-cover-media{width:300px;height:166px}.voting{padding-left:0;padding-right:0}.card-actions{width:320px}.card-content{width:420px!important;padding-bottom:74px}.description{width:300px}}:host{width:304px}.postCard{height:100%!important;width:304px!important}@media (max-width:420px){.description{width:290px}yp-post-cover-media{width:304px!important;height:168px!important}}.postContainer{margin-bottom:16px;margin-left:16px;margin-right:16px;max-width:220px;width:220px}.postItem{background-color:#fff!important}.headerText{font-size:20px;margin:16px;max-width:220px;padding-top:8px;padding-bottom:8px;width:220px;color:#fff;background-color:var(--primary-color-700)}`]}render(){return this.recommendedPosts?N` <div class="headerText layout horizontal center-center"> ${this.t("recommendedPosts")} </div> ${this.recommendedPosts.map((t=>N` <div class="postContainer"> <div class="shadow-elevation-2dp shadow-transition postItem"> <div class="layout vertical postItem" @click="${()=>{ql.goToPost(t.id)}}"> <div class="layout horizontal"> <yp-post-cover-media tiny .post="${t}"></yp-post-cover-media> </div> <div class="post-name layout horizontal center-center"> ${t.name} </div> </div> </div> </div> `))} `:U}};t([lt({type:Array}),e("design:type",Array)],ku.prototype,"recommendedPosts",void 0),ku=t([rt("ac-activity-recommended-posts")],ku);
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class Cu extends nt{constructor(){super(...arguments),this.items=[],this.renderItem=Ji,this.keyFunction=Qi,this.layout={},this.scroller=!1}createRenderRoot(){return this}render(){const{items:t,renderItem:e,keyFunction:i,layout:o,scroller:n}=this;return N`${Zi({items:t,renderItem:e,keyFunction:i,layout:o,scroller:n})}`}element(t){var e;return null===(e=this[Fi])||void 0===e?void 0:e.element(t)}get layoutComplete(){var t;return null===(t=this[Fi])||void 0===t?void 0:t.layoutComplete}scrollToIndex(t,e="start"){var i;null===(i=this.element(t))||void 0===i||i.scrollIntoView({block:e})}}t([lt({attribute:!1})],Cu.prototype,"items",void 0),t([lt()],Cu.prototype,"renderItem",void 0),t([lt()],Cu.prototype,"keyFunction",void 0),t([lt({attribute:!1})],Cu.prototype,"layout",void 0),t([lt({reflect:!0,type:Boolean})],Cu.prototype,"scroller",void 0),
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
customElements.define("lit-virtualizer",Cu);let $u=class extends Kp{constructor(){super(...arguments),this.disableNewPosts=!1,this.noRecommendedPosts=!0,this.gotInitialData=!1,this.mode="activities",this.closeNewsfeedSubmissions=!1,this._moreToLoad=!1}updated(t){super.updated(t),t.has("domainId")&&this._domainIdChanged(),t.has("communityId")&&this._communityIdChanged(),t.has("groupId")&&this._groupIdChanged(),t.has("postId")&&this._postIdChanged(),t.has("userId")&&this._userIdChanged()}static get styles(){return[super.styles,cr,a`:host{height:100%}lit-virtualizer{height:100vh;width:100vw}.addNewsBox{background-color:#fff;width:550px;height:100%;padding-left:16px;padding-right:16px;margin-top:16px;margin-left:16px;margin-right:16px}@media (max-width:600px){.addNewsBox{width:100%;height:100%;margin-bottom:8px;margin-top:8px;margin-left:0;margin-right:0;width:-webkit-calc(100% - 16px);width:-moz-calc(100% - 16px);width:calc(100% - 16px)}}@media (max-width:340px){.addNewsBox{width:100%;height:100%;margin-bottom:8px;margin-top:8px;margin-left:0;margin-right:0;width:-webkit-calc(100% - 36px);width:-moz-calc(100% - 36px);width:calc(100% - 36px)}}.activityContainer{width:550px;margin:0;padding:0}@media (max-width:600px){.activityContainer{width:100%}}.recommendedPosts[not-active]{display:none}.recommendedPosts[small]{display:none}.mainActivityContent{height:100%!important}.headerUserImage{padding-top:16px}h1{font-size:24px}md-outlined-button{color:var(--accent-color)}md-icon{width:48px;height:48px;padding-top:14px}.createdAt{color:#777;margin-top:16px;font-size:14px}yp-ajax{background-color:var(--primary-background-color)}.deleteIcon{position:absolute;right:8px;bottom:8px;color:#ddd}.withCursor{cursor:pointer}@media (max-width:960px){.recommendedPosts{display:none!important}}[hidden]{display:none!important}.spinnerContainer{margin-top:32px}.topSpinnerContainer{margin-top:16px}:focus{outline:0}.notLoggedInButton{margin-top:8px;width:250px;background-color:#fff;margin-bottom:8px;text-align:center}.topLevelActivitiesContainer[rtl]{direction:rtl}`]}renderItem(t,e){return N` <div class="layout vertical center-center" style="width:100%"> <ac-activity tabindex="${e}" .hasLoggedInUser="${this.isLoggedIn}" class="activityContainer" .activity="${t}" .postId="${this.postId}" .groupId="${this.groupId}" .communityId="${this.communityId}" .domainId="${this.domainId}" @ak-delete-activity="${this._deleteActivity}"></ac-activity> </div> `}render(){return N` <div class="layout horizontal topLevelActivitiesContainer center-center" wide="${this.wide}" ?rtl="${this.rtl}"> <div class="layout vertical self-start center-center"> ${this.loggedInUser?N` <div .loggedInUser="${this.isLoggedIn}" elevation="1" ?hidden="${this.closeNewsfeedSubmissions||!this.activities}" class="layout horizontal addNewsBox shadow-elevation-2dp shadow-transition"> <yp-point-news-story-edit .domainId="${this.domainId}" .communityId="${this.communityId}" .groupId="${this.groupId}" .postGroupId="${this.postGroupId}" .postId="${this.postId}" @refresh="${this.loadNewData}"> </yp-point-news-story-edit> </div> `:N` <div class="layout vertical center-center"> <md-outlined-button raised class="layout horizontal notLoggedInButton" .label="${this.t("loginToShareALink")}" @click="${this._openLogin}"> </md-outlined-button> </div> `} ${this.activities?N` <lit-virtualizer id="list" .items="${this.activities}" .scrollTarget="${window}" .layout="${Vl}" id="activitiesList" .renderItem="${this.renderItem.bind(this)}" @rangeChanged="${this.scrollEvent}"></lit-virtualizer> `:U} </div> <div class="layout vertical self-start recommendedPosts" ?notActive="${this.noRecommendedPosts}" small="${!this.wide}" ?hidden="${!this.recommendedPosts}"> <ac-activity-recommended-posts id="recommendedPosts" .recommendedPosts="${this.recommendedPosts}" class="layout vertical"></ac-activity-recommended-posts> </div> </div> `}scrollEvent(t){this.activities&&this._moreToLoad&&-1!=t.last&&t.last<this.activities.length&&t.last+5>=this.activities.length&&(this._moreToLoad=!0,this._loadMoreData())}connectedCallback(){switch(super.connectedCallback(),this.addListener("yp-point-deleted",this._pointDeleted),this.addListener("yp-refresh-activities-scroll-threshold",this._clearScrollThreshold),this.collectionType){case"domain":this.domainId=this.collectionId;break;case"community":this.communityId=this.collectionId;break;case"group":this.groupId=this.collectionId;break;case"post":this.postId=this.collectionId;break;case"user":this.userId=this.collectionId}}disconnectedCallback(){super.disconnectedCallback(),this.removeListener("yp-point-deleted",this._pointDeleted),this.removeListener("yp-refresh-activities-scroll-threshold",this._clearScrollThreshold)}_openLogin(){this.fire("yp-open-login")}_pointDeleted(t){if(this.activities)for(let e=0;e<this.activities.length;e++)this.activities[e].Point&&this.activities[e].Point.id==t.detail.pointId&&this._removeActivityId(this.activities[e].id)}get wideListOffset(){return this.groupId?"800":"415"}get ironListResizeScrollThreshold(){return this.wide?800:300}get ironListPaddingTop(){let t=this.$$("#activitiesList").offsetTop;return t-=75,this.isLoggedIn||this.groupId||(t-=75),t>0?(console.info("News scroll offset: "+t),t):(t=this.groupId?this.wide?this.isLoggedIn?700:580:this.isLoggedIn?950:690:this.wide?this.isLoggedIn?600:400:this.isLoggedIn?700:610,console.info("News (manual) scroll offset: "+t),t)}_activityDeletedResponse(t){this._removeActivityId(t.detail.response.activityId)}_removeActivityId(t){if(this.activities)for(let e=0;e<this.activities.length;e++)this.activities[e].id==t&&this.activities.splice(e,1)}_deleteActivity(t){this.activityIdToDelete=t.detail.id,window.appDialogs.getDialogAsync("confirmationDialog",(t=>{t.open(this.t("activity.confirmDelete"),this._reallyDelete.bind(this))}))}async _reallyDelete(){let t,e;this.domainId?(t="domains",e=this.domainId):this.communityId?(t="communities",e=this.communityId):this.groupId?(t="groups",e=this.groupId):this.postId?(t="posts",e=this.postId):this.userId&&(t="users",e=this.postId),t&&e&&this.activityIdToDelete?(await window.serverApi.deleteActivity(t,e,this.activityIdToDelete),this.activityIdToDelete=void 0):console.error("No activity found to delete")}_generateRequest(t,e){t&&(this.oldestProcessedActivityAt=void 0,this.noRecommendedPosts=!0,this._moreToLoad=!0,window.appUser&&window.appUser.user&&this.postId,this.mode="activities",this.url="/api/"+this.mode+"/"+e+"/"+t,this._loadMoreData(),"posts"!=e&&this._getRecommendations(e,t))}async _loadMoreData(){if(this.url&&this._moreToLoad){this._moreToLoad=!1;let t=this.url;this.oldestProcessedActivityAt&&(t+="?beforeDate="+this.oldestProcessedActivityAt);const e=await window.serverApi.getAcActivities(t);this._processResponse(e)}else console.warn("Trying to load more activities without conditions")}async loadNewData(){if(this.url&&this.latestProcessedActivityAt){let t=this.url;this.oldestProcessedActivityAt&&(t=t+"?afterDate="+this.latestProcessedActivityAt),this._processResponse(await window.serverApi.getAcActivities(t))}else this.url&&!this.latestProcessedActivityAt&&this._processResponse(await window.serverApi.getAcActivities(this.url))}_domainIdChanged(){this.domainId&&(this.activities=void 0,this.recommendedPosts=void 0,this._generateRequest(this.domainId,"domains"))}_communityIdChanged(){this.communityId&&(this.activities=void 0,this.recommendedPosts=void 0,this._generateRequest(this.communityId,"communities"))}_groupIdChanged(){this.groupId&&(this.activities=void 0,this.recommendedPosts=void 0,this._generateRequest(this.groupId,"groups"))}_postIdChanged(){this.postId&&(this.activities=void 0,this.recommendedPosts=void 0,this._generateRequest(this.postId,"posts"))}_userIdChanged(){this.userId&&(this.activities=void 0,this.recommendedPosts=void 0,this._generateRequest(this.userId,"users"))}_clearScrollThreshold(){}async _getRecommendations(t,e){let i=!0;this.activities&&this.activities.length>0&&(this.activities[0].Group&&this.activities[0].Group.configuration&&this.activities[0].Group.configuration.hideRecommendationOnNewsFeed&&(i=!1),this.activities[0].Community&&this.activities[0].Community.configuration&&this.activities[0].Community.configuration.hideRecommendationOnNewsFeed&&(i=!1)),i?(this.recommendedPosts=await window.serverApi.getRecommendations(t,e),this.noRecommendedPosts=!1):this.noRecommendedPosts=!0}_preProcessActivities(t){for(let e=0;e<t.length;e++)t[e].Point&&(t[e].Point.latestContent=t[e].Point.PointRevisions[t[e].Point.PointRevisions.length-1].content);return t}_processResponse(t){const e=this._preProcessActivities(t.activities);if(this.gotInitialData=!0,t.oldestProcessedActivityAt?this.oldestProcessedActivityAt=t.oldestProcessedActivityAt:console.warn("Have not set oldestProcessedActivityAt"),this.activities)for(let t=0;t<e.length;t++)this.url.indexOf("afterDate")>-1?this.activities.unshift(e[t]):this.activities.push(e[t]);else this.activities=e;e&&e.length>0&&((!this.latestProcessedActivityAt||this.latestProcessedActivityAt<e[0].created_at)&&(this.latestProcessedActivityAt=e[0].created_at),this.latestProcessedActivityAt||console.error("Have not set latest processed activity at"),this._moreToLoad=!0,(this.activities.length<15||e.length<3&&this.activities.length<100)&&this._loadMoreData()),this.fireGlobal("yp-refresh-activities-scroll-threshold",{}),setTimeout((()=>{})),this.closeNewsfeedSubmissions=!1,this.activities&&this.activities.length>0&&(this.activities[0].Group&&this.activities[0].Group.configuration&&this.activities[0].Group.configuration.closeNewsfeedSubmissions||this.activities[0].Community&&this.activities[0].Community.configuration&&this.activities[0].Community.configuration.closeNewsfeedSubmissions)&&(this.closeNewsfeedSubmissions=!0)}scrollToItem(t){if(console.log("Activity scrolling to item"),t&&this.activities)for(let e=0;e<this.activities.length;e++)if(this.activities[e]==t){this.$$("#list").scrollToIndex(e);break}}fireResize(){console.log("fireResize")}};t([lt({type:Boolean}),e("design:type",Object)],$u.prototype,"disableNewPosts",void 0),t([lt({type:Boolean}),e("design:type",Object)],$u.prototype,"noRecommendedPosts",void 0),t([lt({type:Boolean}),e("design:type",Object)],$u.prototype,"gotInitialData",void 0),t([lt({type:Array}),e("design:type",Array)],$u.prototype,"activities",void 0),t([lt({type:Number}),e("design:type",Number)],$u.prototype,"domainId",void 0),t([lt({type:Number}),e("design:type",Number)],$u.prototype,"collectionId",void 0),t([lt({type:String}),e("design:type",String)],$u.prototype,"collectionType",void 0),t([lt({type:Number}),e("design:type",Number)],$u.prototype,"communityId",void 0),t([lt({type:Number}),e("design:type",Number)],$u.prototype,"groupId",void 0),t([lt({type:Number}),e("design:type",Number)],$u.prototype,"postId",void 0),t([lt({type:Number}),e("design:type",Number)],$u.prototype,"postGroupId",void 0),t([lt({type:Number}),e("design:type",Number)],$u.prototype,"userId",void 0),t([lt({type:String}),e("design:type",String)],$u.prototype,"mode",void 0),t([lt({type:String}),e("design:type",String)],$u.prototype,"url",void 0),t([lt({type:Object}),e("design:type",String)],$u.prototype,"latestProcessedActivityAt",void 0),t([lt({type:Object}),e("design:type",String)],$u.prototype,"oldestProcessedActivityAt",void 0),t([lt({type:Number}),e("design:type",Number)],$u.prototype,"activityIdToDelete",void 0),t([lt({type:Array}),e("design:type",Array)],$u.prototype,"recommendedPosts",void 0),t([dt(),e("design:type",Object)],$u.prototype,"closeNewsfeedSubmissions",void 0),$u=t([rt("ac-activities")],$u);class Tu{constructor(){this.apiMap={}}require(t,e,i){var o=this.nameFromUrl(t);this.apiMap[o]||(this.apiMap[o]=new Su(o,t,i)),this.apiMap[o].requestNotify(e)}static getInstance(){return Tu.instance||(Tu.instance=new Tu),Tu.instance}nameFromUrl(t){return t.replace(/[\:\/\%\?\&\.\=\-\,]/g,"_")+"_api"}}class Su{constructor(t,e,i){if(this.callbackMacro="%%callback%%",this.loaded=!1,this.script=null,this.notifiers=[],!i){if(!(e.indexOf(this.callbackMacro)>=0))return void console.error("ScriptLoader class: a %%callback%% parameter is required in libraryUrl");i=t+"_loaded",e=e.replace(this.callbackMacro,i)}this.callbackName=i,window[this.callbackName]=this.success.bind(this),this.addScript(e)}addScript(t){var e=document.createElement("script");e.src=t,e.onerror=this.handleError.bind(this);var i=document.querySelector("script")||document.body;i.parentNode.insertBefore(e,i),this.script=e}removeScript(){this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.script=null}handleError(t){this.error=new Error("Library failed to load"),this.notifyAll(),this.cleanup()}success(){this.loaded=!0,this.result=Array.prototype.slice.call(arguments),this.notifyAll(),this.cleanup()}cleanup(){delete window[this.callbackName]}notifyAll(){this.notifiers.forEach(function(t){t(this.error,this.result)}.bind(this)),this.notifiers=[]}requestNotify(t){this.loaded||this.error?t(this.error,this.result):this.notifiers.push(t)}}class Iu extends nt{constructor(){super(...arguments),this.libraryLoaded=!1,this.libraryErrorMessage=null,this.isReady=!1}get callbackName(){return null}libraryUrlChanged(){this.isReady&&null!=this.libraryUrl&&this.loadLibrary()}libraryLoadCallback(t,e){t?(console.warn("Library load failed:",t.message),this.libraryErrorMessage=t.message):(this.libraryErrorMessage=null,this.libraryLoaded=!0,null!=this.notifyEvent&&this.dispatchEvent(new CustomEvent(this.notifyEvent,{detail:e,composed:!0})))}loadLibrary(){Tu.getInstance().require(this.libraryUrl,this.libraryLoadCallback.bind(this),this.callbackName)}connectedCallback(){super.connectedCallback(),this.isReady=!0,null!=this.libraryUrl&&this.loadLibrary()}}let Pu=class extends Iu{constructor(){super(...arguments),this.apiKey="",this.clientId="",this.mapsUrl="https://maps.googleapis.com/maps/api/js?callback=%%callback%%",this.version="3.39",this.language="",this.mapId=""}get libraryUrl(){return this.computeUrl(this.mapsUrl,this.version,this.apiKey,this.clientId,this.language,this.mapId)}get notifyEvent(){return"api-load"}computeUrl(t,e,i,o,n,s){var r=t+"&v="+e;return r+="&libraries=drawing,geometry,places,visualization",i&&!o&&(r+="&key="+i),o&&(r+="&client="+o),i||o||console.warn("No Google Maps API Key or Client ID specified. See https://developers.google.com/maps/documentation/javascript/get-api-key for instructions to get started with a key or client id."),n&&(r+="&language="+n),s&&(r+="&map_ids="+s),r}};t([lt({type:String,attribute:"api-key"}),e("design:type",Object)],Pu.prototype,"apiKey",void 0),t([lt({type:String,attribute:"client-id"}),e("design:type",Object)],Pu.prototype,"clientId",void 0),t([lt({type:String,attribute:"maps-url"}),e("design:type",Object)],Pu.prototype,"mapsUrl",void 0),t([lt({type:String}),e("design:type",Object)],Pu.prototype,"version",void 0),t([lt({type:String}),e("design:type",Object)],Pu.prototype,"language",void 0),t([lt({type:String,attribute:"map-id"}),e("design:type",Object)],Pu.prototype,"mapId",void 0),Pu=t([rt("lit-google-maps-api")],Pu);let Au=class extends nt{constructor(){super(...arguments),this.latitude=0,this.longitude=0,this.label=null,this.zIndex=0,this.open=!1,this.icon=null,this.map=null,this.marker=null}attributeChangedCallback(t,e,i){var o,n;switch(super.attributeChangedCallback(t,e,i),t){case"open":this.openChanged();break;case"latitude":case"longitude":this.updatePosition();break;case"label":null===(o=this.marker)||void 0===o||o.setLabel(this.label);break;case"z-index":null===(n=this.marker)||void 0===n||n.setZIndex(this.zIndex)}}openChanged(){this.info&&(this.open?(this.info.open(this.map,this.marker),this.dispatchEvent(new CustomEvent("google-map-marker-open",{bubbles:!0}))):(this.info.close(),this.dispatchEvent(new CustomEvent("google-map-marker-close",{bubbles:!0}))))}updatePosition(){var t;null===(t=this.marker)||void 0===t||t.setPosition(new google.maps.LatLng(this.latitude,this.longitude))}changeMap(t){this.map=t,this.mapChanged()}mapChanged(){this.marker&&(this.marker.setMap(null),google.maps.event.clearInstanceListeners(this.marker)),this.map&&this.map instanceof google.maps.Map&&this.mapReady()}mapReady(){this.marker=new google.maps.Marker({map:this.map,icon:this.icon,position:{lat:this.latitude,lng:this.longitude},label:this.label,zIndex:this.zIndex}),this.contentChanged()}contentChanged(){this.contentObserver&&this.contentObserver.disconnect(),this.contentObserver=new MutationObserver(this.contentChanged.bind(this)),this.contentObserver.observe(this,{childList:!0,subtree:!0});var t=this.innerHTML.trim();t?(this.info||(this.info=new google.maps.InfoWindow,this.openInfoHandler=google.maps.event.addListener(this.marker,"click",function(){this.open=!0}.bind(this)),this.closeInfoHandler=google.maps.event.addListener(this.info,"closeclick",function(){this.open=!1}.bind(this))),this.info.setContent(t)):this.info&&(google.maps.event.removeListener(this.openInfoHandler),google.maps.event.removeListener(this.closeInfoHandler),this.info=null)}};t([lt({type:Number,reflect:!0}),e("design:type",Number)],Au.prototype,"latitude",void 0),t([lt({type:Number,reflect:!0}),e("design:type",Number)],Au.prototype,"longitude",void 0),t([lt({type:String,reflect:!0}),e("design:type",String)],Au.prototype,"label",void 0),t([lt({type:Number,reflect:!0,attribute:"z-index"}),e("design:type",Number)],Au.prototype,"zIndex",void 0),t([lt({type:Boolean,reflect:!0}),e("design:type",Boolean)],Au.prototype,"open",void 0),t([lt({type:String,reflect:!0}),e("design:type",String)],Au.prototype,"icon",void 0),Au=t([rt("lit-google-map-marker")],Au);let Ou=class extends nt{constructor(){super(...arguments),this.centerLatitude=-34.397,this.centerLongitude=150.644,this.radius=1e5,this.fillColor="#FF0000",this.fillOpacity=.35,this.strokeColor="#FF0000",this.strokeOpacity=.8,this.strokeWeight=2,this.map=null,this.circle=null}attributeChangedCallback(t,e,i){var o;switch(super.attributeChangedCallback(t,e,i),t){case"center-latitude":case"center-longitude":this.updateCenter();break;case"radius":null===(o=this.circle)||void 0===o||o.setRadius(this.radius)}}updateCenter(){var t;null===(t=this.circle)||void 0===t||t.setCenter(new google.maps.LatLng(this.centerLatitude,this.centerLongitude))}attachToMap(t){this.map=t,this.mapChanged()}mapChanged(){this.circle&&(this.circle.setMap(null),google.maps.event.clearInstanceListeners(this.circle)),this.map&&this.map instanceof google.maps.Map&&this.mapReady()}mapReady(){this.circle=new google.maps.Circle({map:this.map,strokeColor:this.strokeColor,strokeOpacity:this.strokeOpacity,strokeWeight:this.strokeWeight,fillColor:this.fillColor,fillOpacity:this.fillOpacity,center:{lat:this.centerLatitude,lng:this.centerLongitude},radius:this.radius})}};t([lt({type:Number,attribute:"center-latitude"}),e("design:type",Number)],Ou.prototype,"centerLatitude",void 0),t([lt({type:Number,attribute:"center-longitude"}),e("design:type",Number)],Ou.prototype,"centerLongitude",void 0),t([lt({type:Number}),e("design:type",Number)],Ou.prototype,"radius",void 0),t([lt({type:String,attribute:"fill-color"}),e("design:type",String)],Ou.prototype,"fillColor",void 0),t([lt({type:Number,attribute:"fill-opacity"}),e("design:type",Number)],Ou.prototype,"fillOpacity",void 0),t([lt({type:String,attribute:"stroke-color"}),e("design:type",String)],Ou.prototype,"strokeColor",void 0),t([lt({type:Number,attribute:"stroke-opacity"}),e("design:type",Number)],Ou.prototype,"strokeOpacity",void 0),t([lt({type:Number,attribute:"stroke-weight"}),e("design:type",Number)],Ou.prototype,"strokeWeight",void 0),Ou=t([rt("lit-google-map-circle")],Ou);let Lu=class extends nt{constructor(){super(...arguments),this.paths=[],this.fillColor="#FF0000",this.fillOpacity=.35,this.strokeColor="#FF0000",this.strokeOpacity=.8,this.strokeWeight=2,this.map=null,this.polygon=null}attachToMap(t){this.map=t,this.mapChanged()}mapChanged(){this.polygon&&(this.polygon.setMap(null),google.maps.event.clearInstanceListeners(this.polygon)),this.map&&this.map instanceof google.maps.Map&&this.mapReady()}mapReady(){this.polygon=new google.maps.Polygon({map:this.map,strokeColor:this.strokeColor,strokeOpacity:this.strokeOpacity,strokeWeight:this.strokeWeight,fillColor:this.fillColor,fillOpacity:this.fillOpacity,paths:this.paths})}};t([lt({type:Array}),e("design:type",Array)],Lu.prototype,"paths",void 0),t([lt({type:String,attribute:"fill-color"}),e("design:type",String)],Lu.prototype,"fillColor",void 0),t([lt({type:Number,attribute:"fill-opacity"}),e("design:type",Number)],Lu.prototype,"fillOpacity",void 0),t([lt({type:String,attribute:"stroke-color"}),e("design:type",String)],Lu.prototype,"strokeColor",void 0),t([lt({type:Number,attribute:"stroke-opacity"}),e("design:type",Number)],Lu.prototype,"strokeOpacity",void 0),t([lt({type:Number,attribute:"stroke-weight"}),e("design:type",Number)],Lu.prototype,"strokeWeight",void 0),Lu=t([rt("lit-google-map-polygon")],Lu);let Eu=class extends nt{constructor(){super(...arguments),this.apiKey="",this.version="3.48",this.styles={},this.zoom=8,this.fitToMarkers=!1,this.mapType="roadmap",this.centerLatitude=-34.397,this.centerLongitude=150.644,this.language="",this.mapId="",this.map=null}initGMap(){if(null==this.map){var t=this.shadowRoot.getElementById("api");null!=t&&1==t.libraryLoaded&&(this.map=new google.maps.Map(this.shadowRoot.getElementById("map"),this.getMapOptions()),this.updateMarkers(),this.updateShapes())}}getMapOptions(){return{zoom:this.zoom,center:{lat:this.centerLatitude,lng:this.centerLongitude},mapTypeId:this.mapType,styles:this.styles,mapId:this.mapId}}mapApiLoaded(){this.initGMap()}connectedCallback(){super.connectedCallback(),this.initGMap()}attachChildrenToMap(t){if(this.map)for(let e of t)e.changeMap(this.map)}observeMarkers(){this.markerObserverSet||(this.addEventListener("selector-items-changed",(t=>{this.updateMarkers()})),this.markerObserverSet=!0)}updateMarkers(){this.observeMarkers();var t=this.shadowRoot.getElementById("markers-selector");if(t){var e=t.items;if(this.markers&&e.length===this.markers.length&&0==e.filter((t=>this.markers&&-1===this.markers.indexOf(t))).length)return;this.markers=e,this.attachChildrenToMap(this.markers),this.fitToMarkers&&this.fitToMarkersChanged()}}updateShapes(){var t=this.shadowRoot.getElementById("shapes-selector");if(t){this.shapes=t.items;for(let t of this.shapes)t.attachToMap(this.map)}}fitToMarkersChanged(){if(this.map&&this.fitToMarkers&&this.markers.length>0){var t=new google.maps.LatLngBounds;for(var e of this.markers)t.extend(new google.maps.LatLng(e.latitude,e.longitude));this.markers.length>1&&this.map.fitBounds(t),this.map.setCenter(t.getCenter())}}deselectMarker(t){}deselectShape(t){}render(){return N` <lit-google-maps-api id="api" api-key="${this.apiKey}" version="${this.version}" language="${this.language}" map-id="${this.mapId}" @api-load="${()=>this.mapApiLoaded()}"> </lit-google-maps-api> <lit-selector id="markers-selector" selected-attribute="open" activate-event="google-map-marker-open" @google-map-marker-close="${t=>this.deselectMarker(t)}"> <slot id="markers" name="markers"></slot> </lit-selector> <lit-selector id="shapes-selector" selected-attribute="open" activate-event="google-map-shape-open" @google-map-shape-close="${t=>this.deselectShape(t)}"> <slot id="shapes" name="shapes"></slot> </lit-selector> <div id="map"> </div> `}};Eu.styles=a`#map{width:100%;height:100%}`,t([lt({type:String,attribute:"api-key"}),e("design:type",String)],Eu.prototype,"apiKey",void 0),t([lt({type:String}),e("design:type",String)],Eu.prototype,"version",void 0),t([lt({type:Object}),e("design:type",Object)],Eu.prototype,"styles",void 0),t([lt({type:Number}),e("design:type",Number)],Eu.prototype,"zoom",void 0),t([lt({type:Boolean,attribute:"fit-to-markers"}),e("design:type",Boolean)],Eu.prototype,"fitToMarkers",void 0),t([lt({type:String,attribute:"map-type"}),e("design:type",String)],Eu.prototype,"mapType",void 0),t([lt({type:Number,attribute:"center-latitude"}),e("design:type",Number)],Eu.prototype,"centerLatitude",void 0),t([lt({type:Number,attribute:"center-longitude"}),e("design:type",Number)],Eu.prototype,"centerLongitude",void 0),t([lt({type:String}),e("design:type",String)],Eu.prototype,"language",void 0),t([lt({type:String,attribute:"map-id"}),e("design:type",String)],Eu.prototype,"mapId",void 0),Eu=t([rt("lit-google-map")],Eu);class zu{constructor(t){this.multi=!1,this.selection=[],this.selectCallback=t}get(){return this.multi?this.selection.slice():this.selection[0]}clear(t){this.selection.slice().forEach((e=>{(!t||t.indexOf(e)<0)&&this.setItemSelected(e,!1)}))}isSelected(t){return this.selection.indexOf(t)>=0}setItemSelected(t,e){if(null!=t&&e!=this.isSelected(t)){if(e)this.selection.push(t);else{var i=this.selection.indexOf(t);i>=0&&this.selection.splice(i,1)}this.selectCallback&&this.selectCallback(t,e)}}select(t){this.multi?this.toggle(t):this.get()!==t&&(this.setItemSelected(this.get(),!1),this.setItemSelected(t,!0))}toggle(t){this.setItemSelected(t,!this.isSelected(t))}}let Du=class extends nt{constructor(){super(...arguments),this.activateEvent="tap",this.selectedAttribute=null,this.selected=null,this._selection=new zu(((t,e)=>this.applySelection(t,e))),this._items=[]}get items(){return this._items}connectedCallback(){super.connectedCallback(),this.addEventListener("slotchange",(t=>{t.stopPropagation(),this.updateItems(),this.dispatchEvent(new CustomEvent("selector-items-changed",{detail:{},composed:!0}))})),this.addListener(this.activateEvent)}disconnectedCallback(){super.disconnectedCallback(),this.removeListener(this.activateEvent)}attributeChangedCallback(t,e,i){super.attributeChangedCallback(t,e,i),"selected"===t&&this.updateSelected()}applySelection(t,e){this.selectedAttribute&&t instanceof Element&&e!=t.hasAttribute(this.selectedAttribute)&&t.toggleAttribute(this.selectedAttribute)}updateItems(){var t,e=this.querySelector("slot");this._items=null!==(t=null==e?void 0:e.assignedNodes())&&void 0!==t?t:[]}addListener(t){this.addEventListener(t,(t=>this.activateHandler(t)))}removeListener(t){this.removeEventListener(t,(t=>this.activateHandler(t)))}activateHandler(t){for(var e=t.target,i=this.items;e&&e!=this;){var o=i.indexOf(e);if(o>=0){var n=this.indexToValue(o);return void this.itemActivate(n,e)}e=e.parentNode}}itemActivate(t,e){this.dispatchEvent(new CustomEvent("selector-item-activate",{detail:{selected:t,item:e},composed:!0,cancelable:!0}))&&this.select(t)}select(t){this.selected=t}updateSelected(){this.selectSelected(this.selected)}selectSelected(t){if(this._items){var e=this.valueToItem(this.selected);e?this._selection.select(e):this._selection.clear()}}valueToItem(t){return null==t?null:this._items[this.valueToIndex(t)]}valueToIndex(t){return Number(t)}indexToValue(t){return t}indexOf(t){return this._items?this._items.indexOf(t):-1}};t([lt({type:String,attribute:"activate-event"}),e("design:type",String)],Du.prototype,"activateEvent",void 0),t([lt({type:String,attribute:"selected-attribute"}),e("design:type",String)],Du.prototype,"selectedAttribute",void 0),t([lt({type:Number,reflect:!0}),e("design:type",Object)],Du.prototype,"selected",void 0),Du=t([rt("lit-selector")],Du);
/**
  * @license
  * Copyright 2022 Google LLC
  * SPDX-License-Identifier: Apache-2.0
  */
const Mu=a`:host{--_container-shape-start-start:var(--md-filled-tonal-icon-button-container-shape-start-start, var(--md-filled-tonal-icon-button-container-shape, 9999px));--_container-shape-start-end:var(--md-filled-tonal-icon-button-container-shape-start-end, var(--md-filled-tonal-icon-button-container-shape, 9999px));--_container-shape-end-end:var(--md-filled-tonal-icon-button-container-shape-end-end, var(--md-filled-tonal-icon-button-container-shape, 9999px));--_container-shape-end-start:var(--md-filled-tonal-icon-button-container-shape-end-start, var(--md-filled-tonal-icon-button-container-shape, 9999px));--_container-color:var(--md-filled-tonal-icon-button-container-color, var(--md-sys-color-secondary-container, #e8def8));--_container-size:var(--md-filled-tonal-icon-button-container-size, 40px);--_disabled-container-color:var(--md-filled-tonal-icon-button-disabled-container-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.12));--_disabled-icon-color:var(--md-filled-tonal-icon-button-disabled-icon-color, rgb(var(--md-sys-color-on-surface-rgb, 28, 27, 31), 0.38));--_focus-icon-color:var(--md-filled-tonal-icon-button-focus-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_focus-state-layer-color:var(--md-filled-tonal-icon-button-focus-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_focus-state-layer-opacity:var(--md-filled-tonal-icon-button-focus-state-layer-opacity, 0.12);--_hover-icon-color:var(--md-filled-tonal-icon-button-hover-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-state-layer-color:var(--md-filled-tonal-icon-button-hover-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_hover-state-layer-opacity:var(--md-filled-tonal-icon-button-hover-state-layer-opacity, 0.08);--_icon-color:var(--md-filled-tonal-icon-button-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_icon-size:var(--md-filled-tonal-icon-button-icon-size, 24px);--_pressed-icon-color:var(--md-filled-tonal-icon-button-pressed-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-color:var(--md-filled-tonal-icon-button-pressed-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_pressed-state-layer-opacity:var(--md-filled-tonal-icon-button-pressed-state-layer-opacity, 0.12);--_selected-container-color:var(--md-filled-tonal-icon-button-selected-container-color, var(--md-sys-color-secondary-container, #e8def8));--_toggle-selected-focus-icon-color:var(--md-filled-tonal-icon-button-toggle-selected-focus-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_toggle-selected-focus-state-layer-color:var(--md-filled-tonal-icon-button-toggle-selected-focus-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_toggle-selected-hover-icon-color:var(--md-filled-tonal-icon-button-toggle-selected-hover-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_toggle-selected-hover-state-layer-color:var(--md-filled-tonal-icon-button-toggle-selected-hover-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_toggle-selected-icon-color:var(--md-filled-tonal-icon-button-toggle-selected-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_toggle-selected-pressed-icon-color:var(--md-filled-tonal-icon-button-toggle-selected-pressed-icon-color, var(--md-sys-color-on-secondary-container, #1d192b));--_toggle-selected-pressed-state-layer-color:var(--md-filled-tonal-icon-button-toggle-selected-pressed-state-layer-color, var(--md-sys-color-on-secondary-container, #1d192b));--_toggle-unselected-focus-icon-color:var(--md-filled-tonal-icon-button-toggle-unselected-focus-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_toggle-unselected-focus-state-layer-color:var(--md-filled-tonal-icon-button-toggle-unselected-focus-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_toggle-unselected-hover-icon-color:var(--md-filled-tonal-icon-button-toggle-unselected-hover-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_toggle-unselected-hover-state-layer-color:var(--md-filled-tonal-icon-button-toggle-unselected-hover-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_toggle-unselected-icon-color:var(--md-filled-tonal-icon-button-toggle-unselected-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_toggle-unselected-pressed-icon-color:var(--md-filled-tonal-icon-button-toggle-unselected-pressed-icon-color, var(--md-sys-color-on-surface-variant, #49454f));--_toggle-unselected-pressed-state-layer-color:var(--md-filled-tonal-icon-button-toggle-unselected-pressed-state-layer-color, var(--md-sys-color-on-surface-variant, #49454f));--_unselected-container-color:var(--md-filled-tonal-icon-button-unselected-container-color, var(--md-sys-color-surface-variant, #e7e0ec));--md-focus-ring-shape-start-start:var(--md-focus-ring-shape, var(--_container-shape-start-start));--md-focus-ring-shape-start-end:var(--md-focus-ring-shape, var(--_container-shape-start-end));--md-focus-ring-shape-end-end:var(--md-focus-ring-shape, var(--_container-shape-end-end));--md-focus-ring-shape-end-start:var(--md-focus-ring-shape, var(--_container-shape-end-start)) )))}.md3-icon-button{background-color:var(--_container-color);color:var(--_icon-color);--md-ripple-focus-color:var(--_focus-state-layer-color);--md-ripple-focus-opacity:var(--_focus-state-layer-opacity);--md-ripple-hover-color:var(--_hover-state-layer-color);--md-ripple-hover-opacity:var(--_hover-state-layer-opacity);--md-ripple-pressed-color:var(--_pressed-state-layer-color);--md-ripple-pressed-opacity:var(--_pressed-state-layer-opacity)}.md3-icon-button:hover{color:var(--_hover-icon-color)}.md3-icon-button:focus{color:var(--_focus-icon-color)}.md3-icon-button:active{color:var(--_pressed-icon-color)}.md3-icon-button:disabled{background-color:var(--_disabled-container-color);color:var(--_disabled-icon-color)}.md3-icon-button--toggle-filled-tonal{--md-ripple-focus-color:var(--_toggle-unselected-focus-state-layer-color);--md-ripple-hover-color:var(--_toggle-unselected-hover-state-layer-color);--md-ripple-pressed-color:var(--_toggle-unselected-pressed-state-layer-color)}.md3-icon-button--toggle-filled-tonal:not(:disabled){background-color:var(--_unselected-container-color);color:var(--_toggle-unselected-icon-color)}.md3-icon-button--toggle-filled-tonal:not(:disabled):hover{color:var(--_toggle-unselected-hover-icon-color)}.md3-icon-button--toggle-filled-tonal:not(:disabled):focus{color:var(--_toggle-unselected-focus-icon-color)}.md3-icon-button--toggle-filled-tonal:not(:disabled):active{color:var(--_toggle-unselected-pressed-icon-color)}.md3-icon-button--selected{--md-ripple-focus-color:var(--_toggle-selected-focus-state-layer-color);--md-ripple-hover-color:var(--_toggle-selected-hover-state-layer-color);--md-ripple-pressed-color:var(--_toggle-selected-pressed-state-layer-color)}.md3-icon-button--selected:not(:disabled){background-color:var(--_selected-container-color);color:var(--_toggle-selected-icon-color)}.md3-icon-button--selected:not(:disabled):hover{color:var(--_toggle-selected-hover-icon-color)}.md3-icon-button--selected:not(:disabled):focus{color:var(--_toggle-selected-focus-icon-color)}.md3-icon-button--selected:not(:disabled):active{color:var(--_toggle-selected-pressed-icon-color)}`
/**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */;let Nu=class extends ce{getRenderClasses(){return{...super.getRenderClasses(),"md3-icon-button--filled-tonal":!0}}};Nu.styles=[he,Mu],Nu=t([rt("md-filled-tonal-link-icon-button")],Nu);let Ru=class extends Ci{constructor(){super(...arguments),this.endorsementButtons="hearts",this.headerMode=!1,this.forceSmall=!1,this.endorseValue=0,this.allDisabled=!1,this.floating=!1,this.votingDisabled=!1,this.smallerIcons=!1,this.forceShowDebate=!1}connectedCallback(){super.connectedCallback(),this.addGlobalListener("yp-got-endorsements-and-qualities",this._updateEndorsementsFromSignal.bind(this))}disconnectedCallback(){super.disconnectedCallback(),this.removeGlobalListener("yp-got-endorsements-and-qualities",this._updateEndorsementsFromSignal.bind(this))}firstUpdated(t){super.firstUpdated(t),this.endorsementButtons&&(this.$$("#actionDown").className+=" default-buttons-color",this.$$("#actionUp").className+=" default-buttons-color")}static get styles(){return[super.styles,Ko,a`:host{display:block}.action-bar{position:absolute}.action-bar[floating]{position:relative}.action-bar-small{margin-top:8px;position:absolute;width:100%;bottom:-32px;vertical-align:bottom!important}.action-text{font-size:16px;text-align:left;vertical-align:bottom;padding-top:8px;margin-top:4px}.action-up{color:var(--primary-up-color-lighter,rgba(0,153,0,.55))}.action-down{color:var(--primary-down-color-lighter,rgba(153,0,0,.55))}.default-buttons-color{color:var(--default-endorsement-buttons-color,#656565)}.default-buttons-up-selected{color:var(--accent-color,#000)}.default-buttons-down-selected{color:var(--accent-color,#000)}.hearts-up-selected{color:var(--primary-hearts-color-up,rgba(168,0,0,.72))}.hearts-down-selected{color:var(--primary-hearts-color-up,rgba(168,0,0,.72))}.action-debate{color:#757575}.debate-text{padding-top:10px;padding-right:6px;color:#757575}.down-text{padding-right:0;padding-top:0;padding-left:4px;padding-bottom:7px}.up-text{padding-top:10px;margin-right:12px;padding-left:4px;padding-bottom:8px}.up-text[rtl]{margin-right:-8px}.down-vote-icon{margin-right:0}md-filled-tonal-link-icon-button.mainIcons{width:48px;height:48px}md-filled-tonal-link-icon-button.debateIcon{width:46px;height:46px;margin-top:2px}md-filled-tonal-link-icon-button[smaller-icons]{height:48px;width:48px}.debate-icon{color:#757575}.up-vote-icon{margin-left:8px}@media (max-width:320px){:host{width:250px}}.shareButtonContainer{position:absolute;bottom:55px;right:-32px;padding:0;margin:0;margin-bottom:8px}.shareButton{padding:2px}.shareShare{padding:0;margin:0;background-color:#fff}@media screen and (-ms-high-contrast:active),(-ms-high-contrast:none){.action-debate{display:none}}[hidden]{display:none!important}div[rtl]{direction:rtl}action-up[only-up-vote-showing]{margin-right:-16px}`]}render(){return N` <div ?rtl="${this.rtl}" title="${bt(this.disabledTitle)}" floating="${this.floating}" class="action-bar layout horizontal center-center"> <div id="actionUp" ?only-up-vote-showing="${this.onlyUpVoteShowing}" class="action-up layout horizontal layout start justified"> <md-filled-tonal-link-icon-button id="iconUpButton" .smaller-icons="${this.smallerIcons}" ?disabled="${!0}" .title="${this.customVoteUpHoverText}" icon="${bt(this.endorseModeIcon(this.endorsementButtons,"up"))}" class="action-icon up-vote-icon largeButton" @click="${this.upVote}">favorite</md-filled-tonal-link-icon-button> <div ?rtl="${this.rtl}" class="action-text up-text" ?hidden="${this.post.Group.configuration.hideVoteCount}"> ${Tl.number(this.post.counter_endorsements_up)} </div> </div> <div class="action-debate layout horizontal" ?hidden="${!0}"> <md-filled-tonal-link-icon-button ?disabled="${this.allDisabled}" title="${this.t("post.debate")}" icon="chat_bubble_outline" class="action-icon debate-icon mainIcons debateIcon" @click="${this._goToPostIfNotHeader}">front_hand</md-filled-tonal-link-icon-button> <div class="action-text debate-text"> ${Tl.number(this.post.counter_points)} </div> </div> <div id="actionDown" class="action-down layout horizontal layout center justified" ?hidden="${this.post.Group.configuration.hideDownVoteForPost}"> <md-filled-tonal-link-icon-button smaller-icons="${this.smallerIcons}" ?disabled="${!0}" title="${this.customVoteDownHoverText}" icon="${bt(this.endorseModeIconDown)}" class="action-icon down-vote-icon mainIcons" @click="${this.downVote}">block</md-filled-tonal-link-icon-button> <div class="action-text down-text" ?hidden="${this.post.Group.configuration.hideVoteCount}"> ${Tl.number(this.post.counter_endorsements_down)} </div> </div> </div> `}get isEndorsed(){return this.endorseValue>0}get votingStateDisabled(){return!!this.allDisabled||!(this.isEndorsed||!this.maxNumberOfGroupVotes||!this.numberOfGroupVotes)&&this.maxNumberOfGroupVotes<=this.numberOfGroupVotes}get onlyUpVoteShowing(){return!!(this.post&&this.post.Group&&this.post.Group.configuration)&&(this.post.Group.configuration.hideDownVoteForPost&&this.post.Group.configuration.hideDebateIcon)}get endorseModeIconUp(){return this.endorseModeIcon(this.endorsementButtons,"up")}get endorseModeIconDown(){return this.endorseModeIcon(this.endorsementButtons,"down")}get customVoteUpHoverText(){return this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.customVoteUpHoverText?this.post.Group.configuration.customVoteUpHoverText:this.t("post.up_vote")}get customVoteDownHoverText(){return this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.customVoteDownHoverText?this.post.Group.configuration.customVoteDownHoverText:this.t("post.down_vote")}_goToPostIfNotHeader(){this.headerMode||ql.goToPost(this.post.id)}get hideDebate(){return!this.forceShowDebate&&(!this.wide||this.forceSmall||this.headerMode||this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.hideDebateIcon)}updated(t){super.updated(t),t.has("post")&&this.post&&(Tl.removeClass(this.$$("#actionUp"),"hearts-up-selected"),Tl.removeClass(this.$$("#actionDown"),"hearts-down-selected"),Tl.removeClass(this.$$("#actionUp"),"default-buttons-up-selected"),Tl.removeClass(this.$$("#actionDown"),"default-buttons-down-selected"),this.endorseValue=0,this.post.Group.configuration&&null!=this.post.Group.configuration.canVote&&0==this.post.Group.configuration.canVote?(this.votingDisabled=!0,this.allDisabled=!0,this.disabledTitle=this.t("votingDisabled")):(this.votingDisabled=!1,this.allDisabled=!1),this.post.Group.configuration&&null!=this.post.Group.configuration.endorsementButtons?this.endorsementButtons=this.post.Group.configuration.endorsementButtons:this.endorsementButtons="hearts",this.post.Group.configuration&&(this.post.Group.configuration.originalHideVoteCount=this.post.Group.configuration.hideVoteCount,this.post.Group.configuration.hideVoteCountUntilVoteCompleted&&(this.post.Group.configuration.hideVoteCount=!0,this.requestUpdate())),this.post.Group.configuration.maxNumberOfGroupVotes?(this.maxNumberOfGroupVotes=this.post.Group.configuration.maxNumberOfGroupVotes,this.numberOfGroupVotes=window.appUser.groupCurrentVoteCountIndex[this.post.Group.id]):(this.maxNumberOfGroupVotes=void 0,this.numberOfGroupVotes=void 0),this._updateEndorsements())}_updateEndorsementsFromSignal(t){this.post&&this._updateEndorsements(t)}_updateEndorsements(t=undefined){if(window.appUser&&window.appUser.loggedIn()&&window.appUser.user&&window.appUser.user.Endorsements){const e=window.appUser.endorsementPostsIndex[this.post.id];e?this._setEndorsement(e.value):this._setEndorsement(0),t&&t.detail&&t.detail.maxGroupId===this.post.Group.id&&(this.numberOfGroupVotes=t.detail.groupCurrentVoteCount)}}endorseModeIcon(t,e){return this.smallerIcons="hearts"!=t&&"hats"!=t,"thumbs"==t&&"up"==e?"thumb_up":"thumbs"==t&&"down"==e?"thumb_down":"hearts"==t&&"up"==e?"favorite_border":"hearts"==t&&"down"==e?"do_not_disturb":"hats"==t&&"up"==e?"keyboard_arrow_up":"hats"==t&&"down"==e?"keyboard_arrow_down":"arrows"==t&&"up"==e?"arrow_upward":"arrows"==t&&"down"==e?"arrow_downward":void 0}_setEndorsement(t){this.endorseValue=t,0!==t&&this.post.Group.configuration&&this.post.Group.configuration.hideVoteCount&&!this.post.Group.configuration.originalHideVoteCount&&(this.post.Group.configuration.hideVoteCount=!1),"hearts"==this.endorsementButtons?t>0?(this.$$("#actionUp").className+=" hearts-up-selected",Tl.removeClass(this.$$("#actionDown"),"hearts-down-selected"),this.$$("#iconUpButton").innerHTML="favorite"):t<0?(this.$$("#actionDown").className+=" hearts-down-selected",Tl.removeClass(this.$$("#actionUp"),"hearts-up-selected"),this.$$("#iconUpButton").innerHTML="favoriate_border"):(Tl.removeClass(this.$$("#actionUp"),"hearts-up-selected"),Tl.removeClass(this.$$("#actionDown"),"hearts-down-selected"),this.$$("#iconUpButton").innerHTML="favorite_border"):t>0?(this.$$("#actionUp").className+=" default-buttons-up-selected",Tl.removeClass(this.$$("#actionDown"),"default-buttons-down-selected")):t<0?(this.$$("#actionDown").className+=" default-buttons-down-selected",Tl.removeClass(this.$$("#actionUp"),"default-buttons-up-selected")):(Tl.removeClass(this.$$("#actionUp"),"default-buttons-up-selected"),Tl.removeClass(this.$$("#actionDown"),"default-buttons-down-selected"))}_enableVoting(){this.votingDisabled||(this.allDisabled=!1)}generateEndorsementFromLogin(t){window.appUser.endorsementPostsIndex[this.post.id]||this.generateEndorsement(t)}async generateEndorsement(t){if(!0===window.appUser.loggedIn()){let e;e=this.endorseValue===t?"DELETE":"POST";const i=await window.serverApi.endorsePost(this.post.id,e,{post_id:this.post.id,value:t});if(i){this._enableVoting();const t=i.endorsement,e=i.oldEndorsementValue;window.appUser.updateEndorsementForPost(this.post.id,t,this.post.Group),this._setEndorsement(t.value),e&&(e>0?this.post.counter_endorsements_up=this.post.counter_endorsements_up-1:e<0&&(this.post.counter_endorsements_down=this.post.counter_endorsements_down-1)),t.value>0?this.post.counter_endorsements_up=this.post.counter_endorsements_up+1:t.value<0&&(this.post.counter_endorsements_down=this.post.counter_endorsements_down+1)}}else this._enableVoting(),window.appUser.loginForEndorse(this,{value:t})}upVote(){this.allDisabled=!0,this.generateEndorsement(1),window.appGlobals.activity("clicked","endorse_up",this.post?this.post.id:-1),this._setVoteHidingStatus()}downVote(){this.allDisabled=!0,this.generateEndorsement(-1),window.appGlobals.activity("clicked","endorse_down",this.post?this.post.id:-1),this._setVoteHidingStatus()}_setVoteHidingStatus(){this.post.Group.configuration&&this.post.Group.configuration.hideVoteCountUntilVoteCompleted&&!this.post.Group.configuration.originalHideVoteCount&&(this.post.Group.configuration.hideVoteCount=!1,this.requestUpdate())}};t([lt({type:Object}),e("design:type",Object)],Ru.prototype,"post",void 0),t([lt({type:String}),e("design:type",Object)],Ru.prototype,"endorsementButtons",void 0),t([lt({type:Boolean}),e("design:type",Object)],Ru.prototype,"headerMode",void 0),t([lt({type:Boolean}),e("design:type",Object)],Ru.prototype,"forceSmall",void 0),t([lt({type:Number}),e("design:type",Object)],Ru.prototype,"endorseValue",void 0),t([lt({type:Boolean}),e("design:type",Object)],Ru.prototype,"allDisabled",void 0),t([lt({type:String}),e("design:type",String)],Ru.prototype,"disabledTitle",void 0),t([lt({type:Boolean}),e("design:type",Object)],Ru.prototype,"floating",void 0),t([lt({type:Boolean}),e("design:type",Object)],Ru.prototype,"votingDisabled",void 0),t([lt({type:Boolean}),e("design:type",Object)],Ru.prototype,"smallerIcons",void 0),t([lt({type:Number}),e("design:type",Number)],Ru.prototype,"maxNumberOfGroupVotes",void 0),t([lt({type:Number}),e("design:type",Number)],Ru.prototype,"numberOfGroupVotes",void 0),t([lt({type:Boolean}),e("design:type",Object)],Ru.prototype,"forceShowDebate",void 0),Ru=t([rt("yp-post-actions")],Ru);let Uu=class extends Ci{constructor(){super(...arguments),this.autoTranslate=!1}static get styles(){return[super.styles,cr,a`.tagContainer{max-width:480px;font-size:14px;margin-left:8px;vertical-align:middle;padding-left:16px;color:var(--app-tags-text-color,#111)!important;font-weight:var(--app-tags-font-weight,500)}.middleDot{padding-left:2px;padding-right:2px;vertical-align:middle;color:var(--app-tags-color,#656565)}.tagItem{vertical-align:middle}@media (max-width:800px){.middleDot{font-size:14px;margin-bottom:8px}.tagContainer{font-size:17px;padding-left:16px;padding-right:16px;padding-bottom:16px}}[hidden]{display:none!important}`]}render(){return N` <div class="tagContainer wrap"> ${this.postTags.map(((t,e)=>N` <span class="tagItem">${this._trimmedItem(t)}</span><span class="middleDot" ?hidden="${this.computeSpanHidden(this.postTags,e)}">&#9679;</span> `))} </div> <yp-magic-text id="postTagsTranslations" hidden content-id="${this.post.id}" text-only content="${bt(this.post.public_data?.tags)}" content-language="${bt(this.post.language)}" @new-translation="${this._newTranslation}" text-type="postTags"> </yp-magic-text> `}_trimmedItem(t){return t?t.trim():""}_autoTranslateEvent(t){this.autoTranslate=t.detail}computeSpanHidden(t,e){return t.length-1===e}_newTranslation(){setTimeout((()=>{const t=this.$$("#postTagsTranslations");t&&t.finalContent&&(this.translatedTags=t.finalContent)}))}get postTags(){return this.translatedTags&&this.autoTranslate?this.translatedTags.split(","):this.post&&this.post.public_data&&this.post.public_data.tags?this.post.public_data.tags.split(","):[]}};t([lt({type:Object}),e("design:type",Object)],Uu.prototype,"post",void 0),t([lt({type:String}),e("design:type",String)],Uu.prototype,"translatedTags",void 0),t([lt({type:Boolean}),e("design:type",Object)],Uu.prototype,"autoTranslate",void 0),Uu=t([rt("yp-post-tags")],Uu);let ju=class extends Ci{constructor(){super(...arguments),this.mini=!1,this.isAudioCover=!1}static get propersties(){return{post:{type:Object,observer:"_postChanged"}}}static get styles(){return[super.styles,cr,a`.post-name{margin:0;padding:16px;padding-top:20px;padding-bottom:14px;cursor:pointer;vertical-align:middle!important;font-size:20px;background-color:#fff;color:#000;font-weight:500}.post-name[largefont]{font-size:19px}.postCardCursor{cursor:pointer}.postCard{background-color:#fff;width:420px}:host{display:block}.postCard{width:416px;border-radius:4px}.postCard[hide-post-cover]{height:190px}.postCard[hide-post-cover][hide-actions]{height:165px}.postCard[hide-post-cover][hide-description]{height:140px}.postCard[hide-description]{height:372px}.postCard[hide-description][hide-actions]{height:331px}.postCard[hide-description][hide-post-cover][hide-actions]{height:110px}.postCard[hide-actions]{height:402px}.postCard[mini]{width:210px;height:100%;margin:0;padding-top:0;padding-bottom:0}yp-post-cover-media{width:416px;height:234px}yp-post-cover-media[mini]{width:210px;height:118px;min-height:118px}.post-name[mini]{padding:16px}.description{font-size:17px;padding:16px;padding-top:0;cursor:pointer;color:#555}.description[widetext]{font-size:16px;line-height:1.3}.description[largefont]{font-size:15px}.shareIcon{position:absolute;left:8px;bottom:2px;text-align:right;width:48px;height:48px}.customRatings{position:absolute;bottom:10px;right:6px}:host{width:100%}@media (max-width:960px){.customRatings{bottom:12px}:host{width:100%;max-width:423px}.description[has-custom-ratings]{padding-bottom:28px}.postCard{margin-left:0;margin-right:0;padding-left:0;padding-right:0;width:100%;height:100%}.postCard[mini]{width:210px;height:100%}.card{margin-left:0;margin-right:0;padding-left:0;padding-right:0;width:100%;height:100%}.card[mini]{width:210px;height:100%}yp-post-cover-media{width:100%;height:230px}yp-post-cover-media[mini]{width:210px;height:118px;min-height:118px}.card{height:100%;padding-bottom:48px}.postCard{height:100%!important}yp-post-cover-media[audio-cover]{width:100%;height:100px}}@media (max-width:420px){yp-post-cover-media{height:225px}yp-post-cover-media[audio-cover]{height:100px}}@media (max-width:375px){yp-post-cover-media{height:207px}yp-post-cover-media[audio-cover]{height:100px}}@media (max-width:360px){yp-post-cover-media{height:200px}yp-post-cover-media[audio-cover]{height:90px}}@media (max-width:320px){yp-post-cover-media{height:180px}yp-post-cover-media[audio-cover]{height:90px}}[hidden]{display:none!important}a{text-decoration:none}.share[mini]{display:none}`]}renderDescription(){return N` ${this.post.public_data?.structuredAnswersJson?N` <yp-magic-text id="description" textType="postContent" .contentLanguage="${this.post.language}" ?hidden="${this.hideDescription}" .content="${this.structuredAnswersFormatted}" .contentId="${this.post.id}" class="description" truncate="120"> </yp-magic-text> `:N` <yp-magic-text class="description layout horizontal" ?hasCustomRatings="${this.post.Group.configuration.customRatings}" ?hidden="${this.hideDescription}" textType="postContent" .contentLanguage="${this.post.language}" text-only .content="${this.post.description}" .contentId="${this.post.id}" truncate="220"> </yp-magic-text> `} `}renderTags(){return N` <yp-post-tags .post="${this.post}"></yp-post-tags> `}render(){return this.post?N` <div class="layout vertical center-center"> <div ?mini="${this.mini}" .hide-post-cover="${this.post.Group.configuration.hidePostCover}" .hide-description="${this.post.Group.configuration.hidePostDescription}" ?hide-actions="${this.post.Group.configuration.hidePostActionsInGrid}" audio-cover="${this.isAudioCover}" class="card postCard layout vertical shadow-elevation-2dp shadow-transition" animated> <div class="layout vertical"> <a href="${bt(this._getPostLink(this.post))}" @click="${this.goToPostIfNotHeader}" id="mainArea"> <yp-post-cover-media ?mini="${this.mini}" top-radius ?audioCover="${this.isAudioCover}" .altTag="${this.post.name}" .post="${this.post}" ?hidden="${this.post.Group.configuration.hidePostCover}"></yp-post-cover-media> <div class="postNameContainer"> <div class="post-name" ?mini="${this.mini}" id="postName" ?largeFont="${this.largeFont}"> <yp-magic-text id="postNameMagicText" textType="postName" ?largeFont="${this.largeFont}" .contentLanguage="${this.post.language}" text-only .content="${this.post.name}" .contentId="${this.post.id}"> </yp-magic-text> </div> </div> ${this.post.Group.configuration?.usePostTagsForPostCards?this.renderTags():this.renderDescription()} </a> <div ?hidden="${this.post.Group.configuration.hidePostActionsInGrid}" @click="${this._onBottomClick}"> ${this.mini?U:N` <div class="layout horizontal"> ${this.post.Group.configuration?.hideSharing?U:N` <div class="share"> <md-outlined-icon-button icon="share" .label="${this.t("post.shareInfo")}" @click="${this._shareTap}"></md-outlined-icon-button>  </div> `} ${this.post.Group.configuration.customRatings?N` <yp-post-ratings-info class="customRatings" .post="${this.post}"></yp-post-ratings-info> `:N` <yp-post-actions class="postActions" .post="${this.post}" .forceShowDebate="${this.post.Group.configuration.forceShowDebateCountOnPost}" ?hidden="${this.mini}"> </yp-post-actions> `} </div> `} </div> </div> </div> </div> `:U}_sharedContent(t){const e=t.detail;window.appGlobals.activity("postShared",e.social,this.post?this.post.id:-1)}get _fullPostUrl(){return encodeURIComponent("https://"+window.location.host+"/post/"+this.post.id)}get structuredAnswersFormatted(){if(this.post&&this.post.public_data&&this.post.public_data.structuredAnswersJson&&this.post.Group.configuration&&this.post.Group.configuration.structuredQuestionsJson){const t={};let e="";this.post.Group.configuration.structuredQuestionsJson.forEach((e=>{e.uniqueId&&(t[e.uniqueId]=e)}));for(let i=0;i<this.post.public_data.structuredAnswersJson.length;i++){const o=this.post.public_data.structuredAnswersJson[i];if(o&&o.value){const i=t[o.uniqueId];if(i&&(e+=i.text+": ",e+=o.value+" "),e.length>120)break}}return e}return""}_onBottomClick(t){t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation()}clickOnA(){this.$$("#mainArea")?.click()}_getPostLink(t){if(t)return t.Group.configuration&&t.Group.configuration.disablePostPageLink?"#":t.Group.configuration&&t.Group.configuration.resourceLibraryLinkMode?t.description.trim():"/post/"+t.id;console.warn("Trying to get empty post link")}_shareTap(t){window.appGlobals.activity("postShareCardOpen",t.detail.brand,this.post?this.post.id:-1),window.appDialogs.getDialogAsync("shareDialog",(t=>{t.open(this._fullPostUrl,this.t("post.shareInfo"),this._sharedContent)}))}get hideDescription(){return this.mini||this.post&&this.post.Group.configuration&&this.post.Group.configuration.hidePostDescription}goToPostIfNotHeader(t){t.preventDefault(),this.post.Group.configuration&&this.post.Group.configuration.disablePostPageLink?console.log("goToPostDisabled"):this.post.Group.configuration&&this.post.Group.configuration.resourceLibraryLinkMode||ql.goToPost(this.post.id),this.post&&!this.mini&&(window.appGlobals.cache.cachedPostItem=this.post)}updated(t){super.updated(t),t.has("post")&&this.post&&("audio"===this.post.cover_media_type?this.isAudioCover=!0:this.isAudioCover=!1)}updateDescriptionIfEmpty(t){this.post.description&&""!=this.post.description||(this.post.description=t)}_refresh(){window.appDialogs.getDialogAsync("postEdit",(t=>{t.selected=0,this.fire("refresh")}))}_openReport(){window.appGlobals.activity("open","post.report"),window.appDialogs.getDialogAsync("apiActionDialog",(t=>{t.setup("/api/posts/"+this.post.id+"/report",this.t("reportConfirmation"),this._onReport.bind(this),this.t("post.report"),"PUT"),t.open()}))}_onReport(){window.appGlobals.notifyUserViaToast(this.t("post.report")+": "+this.post.name)}};t([lt({type:String}),e("design:type",String)],ju.prototype,"selectedMenuItem",void 0),t([lt({type:Boolean}),e("design:type",Object)],ju.prototype,"mini",void 0),t([lt({type:Boolean}),e("design:type",Object)],ju.prototype,"isAudioCover",void 0),t([lt({type:Object}),e("design:type",Object)],ju.prototype,"post",void 0),ju=t([rt("yp-post-card")],ju);let Vu=class extends Ci{constructor(){super(...arguments),this.noPosts=!1,this.skipFitToMarkersNext=!1}updated(t){super.updated(t),t.has("groupId")&&this._groupChanged(),t.has("communityId")&&this._communityChanged()}static get styles(){return[super.styles,cr,a`:host{display:block;width:100%;height:100%}.mapContainer{margin:0;padding:0;width:960px;height:500px;margin-top:16px;margin-bottom:48px}.noMapContainer{padding:32px;margin:16px;background-color:#fff;font-size:22px;color:#222}a{color:var(--primary-color-700)}h1{padding:24px}@media (max-width:934px){.mapContainer{margin:16px;width:800px;height:400px}}@media (max-width:832px){.mapContainer{margin:8px;width:600px;height:340px}}@media (max-width:632px){.mapContainer{margin:8px;width:400px;height:300px}}@media (max-width:420px){.mapContainer{margin:8px;width:330px;height:250px}}@media (max-width:360px){.mapContainer{margin:8px;width:280px;height:200px}}#myInfoCard{background-color:#000;padding:0;margin:0!important;--yp-post-map-info-mixin:{padding:0;margin:0!important;max-width:100%;max-height:100%};--yp-post-map-info-beak-mixin:{color:#f57c00};}`]}renderInfoCard(t){return t?N` <yp-post-card mini .post="${t}"></yp-post-card> `:U}render(){return N` <div class="layout vertical center-center"> ${this.posts?N` <div id="mapContainer" class="mapContainer shadow-elevation-2dp shadow-transition"> <lit-google-map additionalMapOptions="{'keyboardShortcuts':false,'fullscreenControl': false}" id="map" version="weekly" api-key="AIzaSyDkF_kak8BVZA5zfp5R4xRnrX8HP3hjiL0" fit-to-markers> ${this.posts.map((t=>N` <lit-google-map-marker slot="markers" .latitude="${t.location.latitude}" .longitude="${t.location.longitude}" click-events class="marker" @selector-item-activate="${()=>{this.markerClick(t)}}"> </lit-google-map-marker> `))} </lit-google-map> </div> `:U} ${this.noPosts?N` <div lass="noMapContainer shadow-elevation-2dp shadow-transition"> <div>${this.t("posts.noMapPosts")}</div> </div> `:U} <div class="layout horizontal center-center"> <yp-ajax id="ajax" @response="${this._response}"></yp-ajax> </div> </div> `}resetMapHeight(){const t=this.$$("#mapContainer");if(t){const e=window.innerHeight;let i;i=(this.wide,e/1.5),t.style.width=Math.min(window.innerWidth-(this.wide?96:32),1920)+"px",t.style.height=i+"px",t.style.marginBottom="64px",!0===this.skipFitToMarkersNext?this.skipFitToMarkersNext=!1:setTimeout((()=>{const t=this.$$("#map");t&&(t.fitToMarkers=!0,setTimeout((()=>{t.fitToMarkers=!1}),1e3))}))}}connectedCallback(){switch(super.connectedCallback(),this.collectionType){case"community":this.communityId=this.collectionId;break;case"group":this.groupId=this.collectionId}this.addGlobalListener("yp-refresh-group-posts",this._refreshAjax)}disconnectedCallback(){super.disconnectedCallback(),this.removeGlobalListener("yp-refresh-group-posts",this._refreshAjax)}async _groupChanged(){this.groupId?(this.posts=void 0,this._response(await window.serverApi.getPostLocations("groups",this.groupId))):this.posts=void 0}async _communityChanged(){this.communityId?(this.posts=void 0,this._response(await window.serverApi.getPostLocations("communities",this.communityId))):this.posts=void 0}_refreshAjax(){this.groupId?this._groupChanged():this.communityId&&this._communityChanged(),this.skipFitToMarkersNext=!0}_response(t){t&&t.length>0?(this.noPosts=!1,this.posts=t):this.noPosts=!0,setTimeout((()=>{this.resetMapHeight()}))}markerClick(t){window.appGlobals.activity("clicked","marker"),this.selectedPost=t}};t([lt({type:Array}),e("design:type",Array)],Vu.prototype,"posts",void 0),t([lt({type:Number}),e("design:type",Number)],Vu.prototype,"groupId",void 0),t([lt({type:Number}),e("design:type",Number)],Vu.prototype,"communityId",void 0),t([lt({type:Boolean}),e("design:type",Object)],Vu.prototype,"noPosts",void 0),t([lt({type:Object}),e("design:type",Object)],Vu.prototype,"selectedPost",void 0),t([lt({type:Number}),e("design:type",Number)],Vu.prototype,"collectionId",void 0),t([lt({type:String}),e("design:type",String)],Vu.prototype,"collectionType",void 0),t([dt(),e("design:type",Object)],Vu.prototype,"skipFitToMarkersNext",void 0),Vu=t([rt("yp-post-map")],Vu);const Fu=0,Gu=1,Bu=2;class Hu extends Ci{constructor(t,e,i,o){super(),this.noHeader=!1,this.tabsHidden=!1,this.selectedTab=Fu,this.hideNewsfeed=!1,this.locationHidden=!1,this.hideCollection=!1,this.collectionType=t,this.collectionItemType=e,this.collectionCreateFabIcon=i,this.collectionCreateFabLabel=o,this.addGlobalListener("yp-logged-in",this._getCollection.bind(this)),this.addGlobalListener("yp-got-admin-rights",this.refresh.bind(this))}connectedCallback(){super.connectedCallback(),this.collection&&this.refresh()}refresh(){console.info("REFRESH"),this.collection&&(null!=this.collection.default_locale&&window.appGlobals.changeLocaleIfNeeded(this.collection.default_locale),void 0!==this.collection.theme_id&&window.appGlobals.theme.setTheme(this.collection.theme_id),this.fire("yp-set-home-link",{type:this.collectionType,id:this.collection.id,name:this.collection.name}),this.fire("yp-change-header",{headerTitle:null,documentTitle:this.collection.name,headerDescription:this.collection.description||this.collection.objectives}),this.collection.configuration?.hideAllTabs||this.collection.configuration?.hideGroupLevelTabs?this.tabsHidden=!0:this.tabsHidden=!1,this.$$("#collectionItems")&&this.$$("#collectionItems").refresh())}async _getCollection(){this.collectionId?(this.collection=void 0,this.collectionItems=void 0,this.collection=await window.serverApi.getCollection(this.collectionType,this.collectionId),this.refresh()):console.error("No collection id for _getCollection")}async _getHelpPages(t=undefined,e=undefined){if(this.collectionId){const i=await window.serverApi.getHelpPages(t||this.collectionType,e||this.collectionId);i&&this.fire("yp-set-pages",i)}else console.error("Collection id setup for get help pages")}get collectionTabLabel(){return`${this.t(Yl.transformCollectionTypeToApi(this.collectionItemType))} (${this.collectionItems?this.collectionItems.length:0})`}static get styles(){return[super.styles,a`mwc-fab{position:fixed;bottom:16px;right:16px}md-navigation-tab{font-family:var(--app-header-font-family,Roboto)}md-navigation-tab-bar{width:960px}.header{background-color:var(--primary-background-color);background-image:var(--top-area-background-image,none);height:300px}.createFab[is-map]{right:inherit;left:28px}`]}renderHeader(){return this.collection&&!this.noHeader?N` <div class="layout vertical center-center header"> <yp-collection-header .collection="${this.collection}" .collectionType="${this.collectionType}" aria-label="${this.collectionType}" role="banner"></yp-collection-header> </div> `:U}renderNewsAndMapTabs(){return N` <md-navigation-tab ?hidden="${this.hideNewsfeed}" .label="${this.t("post.tabs.news")}" icon="rss_feed"></md-navigation-tab> <md-navigation-tab ?hidden="${this.locationHidden||"domain"==this.collectionType}" .label="${this.t("post.tabs.location")}" icon="location_on"></md-navigation-tab> `}renderTabs(){return this.collection&&!this.tabsHidden?N` <div class="layout vertical center-center"> <md-navigation-bar @MDCTabBar:activated="${this._selectTab}"> <md-navigation-tab ?hidden="${this.hideCollection}" .label="${this.collectionTabLabel}" icon="groups"></md-navigation-tab> ${this.renderNewsAndMapTabs()} </md-navigation-bar> </div> `:U}renderCurrentTabPage(){let t;switch(this.selectedTab){case Fu:t=this.collectionItems&&this.collectionItemType?N` <yp-collection-items-grid id="collectionItems" .collectionItems="${this.collectionItems}" .collection="${this.collection}" .collectionType="${this.collectionType}" .collectionItemType="${this.collectionItemType}" .collectionId="${this.collectionId}"></yp-collection-items-grid>`:N``;break;case Gu:t=N`<ac-activities id="collectionActivities" .selectedTab="${this.selectedTab}" .collectionType="${this.collectionType}" .collectionId="${this.collectionId}"></ac-activities>`;break;case Bu:t=N`<yp-post-map id="postsMap" .collectionType="${this.collectionType}" .collectionId="${this.collectionId}"></yp-post-map>`}return t}render(){return N` ${this.renderHeader()} ${this.renderTabs()} ${this.renderCurrentTabPage()} ${this.createFabIcon&&this.createFabLabel?N`<md-fab ?extended="${this.wide}" class="createFab" ?is-map="${this.selectedTab===Bu}" .label="${this.t(this.createFabLabel)}" .icon="${this.createFabIcon}"></md-fab>`:U} `}collectionIdChanged(){this._getCollection(),this._getHelpPages()}updated(t){if(super.updated(t),t.has("subRoute")&&this.subRoute){const t=this.subRoute.split("/");this.collectionId=parseInt(t[1]),t.length>2?this._setSelectedTabFromRoute(t[1]):this._setSelectedTabFromRoute("default")}t.has("collectionId")&&this.collectionId&&this.collectionIdChanged()}_selectTab(t){this.selectedTab=t.detail?.index}_setSelectedTabFromRoute(t){let e;switch(t){case"collection":default:e=Fu;break;case"news":e=Gu;break;case"map":e=Bu}e&&(this.selectedTab=e,window.appGlobals.activity("open",this.collectionType+"_tab_"+t))}scrollToCachedItem(){if(this.selectedTab===Gu&&window.appGlobals.cache.cachedActivityItem){const t=this.$$("#collectionActivities");t?(t.scrollToItem(window.appGlobals.cache.cachedActivityItem),window.appGlobals.cache.cachedActivityItem=void 0):console.error("No activities for scroll to item")}else this.selectedTab===Fu&&this.scrollToCollectionItemSubClass()}scrollToCollectionItemSubClassDomain(){this.collection&&window.appGlobals.cache.backToDomainCommunityItems&&window.appGlobals.cache.backToDomainCommunityItems[this.collection.id]&&(this.$$("#collectionItems").scrollToItem(window.appGlobals.cache.backToDomainCommunityItems[this.collection.id]),window.appGlobals.cache.backToDomainCommunityItems[this.collection.id]=void 0)}setFabIconIfAccess(t,e){t||e?(this.createFabIcon=this.collectionCreateFabIcon,this.createFabLabel=this.collectionCreateFabLabel):(this.createFabIcon=void 0,this.createFabLabel=void 0)}_useHardBack(t){if(t&&t.customBackURL){const e=t.customBackURL;return!(e.startsWith("/community/")||e.startsWith("/group/")||e.startsWith("/domain/")||e.startsWith("/post/"))}return!1}}t([lt({type:Boolean}),e("design:type",Object)],Hu.prototype,"noHeader",void 0),t([lt({type:Boolean}),e("design:type",Object)],Hu.prototype,"tabsHidden",void 0),t([lt({type:Number}),e("design:type",Number)],Hu.prototype,"collectionId",void 0),t([lt({type:String}),e("design:type",String)],Hu.prototype,"collectionName",void 0),t([lt({type:Object}),e("design:type",Object)],Hu.prototype,"collection",void 0),t([lt({type:String}),e("design:type",String)],Hu.prototype,"subRoute",void 0),t([lt({type:Number}),e("design:type",Object)],Hu.prototype,"selectedTab",void 0),t([lt({type:Array}),e("design:type",Array)],Hu.prototype,"collectionItems",void 0),t([lt({type:Boolean}),e("design:type",Object)],Hu.prototype,"hideNewsfeed",void 0),t([lt({type:Boolean}),e("design:type",Object)],Hu.prototype,"locationHidden",void 0),t([lt({type:Boolean}),e("design:type",Object)],Hu.prototype,"hideCollection",void 0),t([lt({type:String}),e("design:type",String)],Hu.prototype,"createFabIcon",void 0),t([lt({type:String}),e("design:type",String)],Hu.prototype,"createFabLabel",void 0);let Wu=class extends Ci{constructor(){super(...arguments),this.isEditing=!1,this.checkingTranscript=!1,this.checkTranscriptError=!1}static get styles(){return[super.styles,cr,a`.transcriptContainer{width:420px;max-width:420px}@media (max-width:960px){.transcriptContainer{width:100%;max-width:100%}}#postTranscriptionEditor{padding-left:8px;padding-right:8px}.transcriptError{margin-top:8px;margin-bottom:8px;color:red}.checkTranscript{margin-top:8px;padding:8px}.transcriptText{margin-top:0;padding:8px;color:#444;padding-bottom:0;font-style:italic;margin-bottom:8px}.transcriptHeader{color:#222;margin-bottom:2px;font-style:normal}`]}render(){return N` <div class="transcriptContainer"> ${this.checkingTranscript?N` <div class="layout vertical center-center checkTranscript"> <div>${this.t("checkingForTranscript")}</div> <mwc-circular-progress-four-color indeterminate></mwc-circular-progress-four-color> </div> `:U} <div class="transcriptError layout horizontal center-center" ?hidden="${!this.checkTranscriptError}"> ${this.t("checkTranscriptError")} </div> ${this.post.public_data.transcript.text?N` <div class="transcriptText layout vertical center-center"> <div class="transcriptHeader" ?hidden="${this.post.public_data.transcript.noMachineTranslation}"> ${this.t("automaticTranscript")} <span ?hidden="${!this.post.public_data.transcript.userEdited}"> (${this.t("edited")}) </span> </div> <div id="postContentTranscript" ?hidden="${this.isEditing}"> <yp-magic-text text-type="postTranscriptContent" .contentLanguage="${this.post.public_data.transcript.language}" .content="${this.post.public_data.transcript.text}" .contentId="${this.post.id}"> </yp-magic-text> </div> ${this.hasPostAccess?N` <div class="layout horizontal" ?hidden="${this.isEditing}"> <div class="flex"></div> <md-outlined-icon-button class="editIcon" .title="${this.t("edit")}" icon="create" @click="${this._editPostTranscript}"></md-outlined-icon-button> </div> `:U} </div> `:U} ${this.isEditing?N` <div class="layout vertical" ?hidden="${!this.hasPostAccess}"> <md-outlined-text-field id="postTranscriptionEditor" charCounter maxlength="500" .value="${this.editText?this.editText:""}"></md-outlined-text-field> <div class="horizontal end-justified layout"> <yp-emoji-selector id="postTranscriptEmojiSelector"></yp-emoji-selector> </div> <div class="layout horizontal self-end"> <md-outlined-button @click="${this._cancelEdit}" .label="${this.t("cancel")}"></md-outlined-button> <md-outlined-button @click="${this._saveEdit}" .label="${this.t("update")}"></md-outlined-button> </div> </div> `:U} </div> `}_isEditingChanged(){this._updateEmojiBindings(),setTimeout((()=>{this.fire("iron-resize")}))}_updateEmojiBindings(){this.isEditing&&setTimeout((()=>{const t=this.$$("#postTranscriptionEditor"),e=this.$$("#postTranscriptEmojiSelector");t&&e?e.inputTarget=t:console.error("Wide: Can't bind post edit emojis :(")}),500)}_cancelEdit(){this.isEditing=!1}async _saveEdit(){await window.serverApi.savePostTranscript(this.post.id,{content:this.editText}),this.post.public_data.transcript.text=this.editText?this.editText:"",this.post.public_data.transcript.userEdited=!0,this.isEditing=!1}_editPostTranscript(){this.hasPostAccess&&(this.editText=this.post.public_data.transcript.text,this.isEditing=!0)}async _checkTranscriptStatus(){let t;"audio"===this.post.cover_media_type?t="/audioTranscriptStatus":"video"===this.post.cover_media_type&&(t="/videoTranscriptStatus"),this.checkingTranscript=!0;const e=await window.serverApi.getPostTranscriptStatus(this.post.id,t);e&&e.text&&this.post?(this.post.public_data.transcript.text=e.text,this.hasPostAccess&&(this.editText=e.text,this.isEditing=!0),this.checkingTranscript=!1,setTimeout((()=>{this.fire("iron-resize")}))):e&&e.inProgress?setTimeout((()=>{this._checkTranscriptStatus()}),2e3):e&&e.error?(this.checkingTranscript=!1,this.checkTranscriptError=!0):this.checkingTranscript=!1}get hasPostAccess(){return!!this.post&&sr.checkPostAccess(this.post)}updated(t){super.updated(t),t.has("post")&&this._postChanged(),t.has("isEditing")&&this._isEditingChanged()}_postChanged(){this.checkingTranscript=!1,this.checkTranscriptError=!1,this.post&&this.post.description&&this.hasPostAccess&&!0===window.appGlobals.hasTranscriptSupport&&this.post.public_data&&this.post.public_data.transcript&&this.post.public_data.transcript.inProgress&&this._checkTranscriptStatus()}};t([lt({type:Boolean}),e("design:type",Object)],Wu.prototype,"isEditing",void 0),t([lt({type:String}),e("design:type",String)],Wu.prototype,"editText",void 0),t([lt({type:Boolean}),e("design:type",Object)],Wu.prototype,"checkingTranscript",void 0),t([lt({type:Boolean}),e("design:type",Object)],Wu.prototype,"checkTranscriptError",void 0),t([lt({type:Object}),e("design:type",Object)],Wu.prototype,"post",void 0),Wu=t([rt("yp-post-transcript")],Wu);let qu=class extends(gu(Kp)){constructor(){super(...arguments),this.isAudioCover=!1,this.hideActions=!1,this.transcriptActive=!1}static get styles(){return[super.styles,cr,a`:host{display:block}.infoContainer{line-height:var(--description-line-height,1.3);padding:0;padding-bottom:0;padding-top:16px}.category-icon{width:100px;height:100px}yp-post-cover-media{position:relative;width:420px;height:236px;margin-right:auto;margin-left:auto}yp-post-cover-media[audio-cover]{height:90px}.postCard{position:relative;border-radius:4px}.description{padding-bottom:2px;padding-left:16px;padding-right:16px;line-height:1.75}.mobileName{display:none}.shareIcon{position:absolute;text-align:right;width:44px;height:44px;right:42px;bottom:3px}.postActions{align-self:flex-end;align-items:flex-end;margin-top:16px;width:100%}.moreVert{position:absolute;bottom:4px;right:2px;margin:0;padding:0}.moreVertButton{color:#656565;width:46px;height:46px}.customRatings{position:absolute;bottom:12px;right:85px}@media (max-width:960px){.moreVert{position:absolute;top:4px;bottom:initial;right:2px}.description[has-custom-ratings]{padding-bottom:18px}.customRatings{right:46px}.mobileName{margin-right:38px}.shareIcon{right:8px;bottom:2px}.postActions{right:55px;bottom:2px}.infoContainer{padding-bottom:16px;padding-top:16px}.mobileName{display:block}.desktopName{display:none}:host{max-width:600px}.postCard{width:100%}yp-post-cover-media{width:100%!important}.coverContainer{width:100%}.infoContainer{width:100%;margin-bottom:32px}.description{margin-bottom:8px;margin-top:8px}}@media (max-width:800px){:host{max-width:423px;width:100%}yp-post-cover-media{height:230px}}@media (max-width:430px){:host{width:100%}.postCard{width:100%!important;margin:8px;margin-top:4px}yp-post-cover-media{height:225px}.headerTopLevel{width:100%}.description{padding-bottom:8px}}@media (max-width:375px){yp-post-cover-media[header-mode]{height:207px}yp-post-cover-media[audio-cover]{height:80px}}@media (max-width:360px){yp-post-cover-media[header-mode]{height:200px}yp-post-cover-media[audio-cover]{height:90px}}@media (max-width:320px){yp-post-cover-media[header-mode]{height:180px}yp-post-cover-media[audio-cover]{height:90px}}@media (min-width:960px){yp-post-cover-media[has-transcript][audio-cover]{margin-bottom:16px}}[hidden]{display:none!important}`]}renderPostInformation(){return N` <div class="infoContainer"> ${this.post.public_data?.structuredAnswersJson?N` <yp-magic-text id="description" text-type="postContent" .contentLanguage="${this.post.language}" .content="${this.structuredAnswersFormatted}" ?noUserInfo="${!this.post.Group.configuration.showWhoPostedPosts}" simpleFormat skipSanitize .contentId="${this.post.id}" class="description" .truncate="${5e3}" .moreText="${this.t("readMore")}" .closeDialogText="${this.t("close")}"> </yp-magic-text> `:N` <yp-magic-text id="description" textType="postContent" .contentLanguage="${this.post.language}" content="${this.post.description}" ?noUserInfo="${!this.post.Group.configuration.showWhoPostedPosts}" disableTranslation .structuredQuestionsConfig="${this.post.Group.configuration.structuredQuestions}" ?hasCustomRatings="${this.post.Group.configuration.customRatings}" ?simpleFormat="${this.post.Group.configuration.descriptionSimpleFormat}" .contentId="${this.post.id}" class="description" .truncate="${this.post.Group.configuration.descriptionTruncateAmount}" .moreText="${this.t("readMore")}" .closeDialogText="${this.t("close")}"> </yp-magic-text> `} </div> `}renderMenu(){return N` <div style="position:relative" class="moreVert"> <md-outlined-icon-button hidden icon="more_vert" @click="${this._openPostMenu}" title="${this.t("openPostMenu")}"> </md-outlined-icon-button> <mwc-menu id="postMenu" menuCorner="END" corner="TOP_RIGHT"> ${this.hasPostAccess?N` <mwc-list-item @click="${this._openEdit}"> ${this.t("post.edit")} </mwc-list-item> <mwc-list-item @click="${this._openMovePost}" ?hidden="${!sr.checkPostAdminOnlyAccess(this.post)}"> ${this.t("post.move")} </mwc-list-item> <mwc-list-item @click="${this._openPostStatusChange}" ?hidden="${!sr.checkPostAdminOnlyAccess(this.post)}"> ${this.t("post.statusChange")} </mwc-list-item> <mwc-list-item @click="${this._openPostStatusChangeNoEmails}" ?hidden="${!sr.checkPostAdminOnlyAccess(this.post)}"> ${this.t("post.statusChangeNoEmails")} </mwc-list-item> <mwc-list-item @click="${this._openDelete}"> ${this.t("post.delete")} </mwc-list-item> <mwc-list-item @click="${this._openAnonymizeContent}" ?hidden="${!sr.checkPostAdminOnlyAccess(this.post)}"> ${this.t("anonymizePostAndContent")} </mwc-list-item> <mwc-list-item @click="${this._openDeleteContent}" ?hidden="${!sr.checkPostAdminOnlyAccess(this.post)}"> ${this.t("deletePostContent")} </mwc-list-item> `:U} <mwc-list-item hidden @click="${this._openReport}"> ${this.t("post.report")} </mwc-list-item> </mwc-menu> </div> `}renderActions(){return N`${this.post.Group.configuration.customRatings?N` <yp-post-ratings-info class="customRatings" .post="${this.post}"></yp-post-ratings-info> `:N` <yp-post-actions ?hidden="${this.hideActions}" hideDebate elevation="-1" ?forceShowDebate="${this.post.Group.configuration.forceShowDebateCountOnPost}" floating class="postActions" .post="${this.post}"></yp-post-actions> `} <div class="share" ?hidden="${!0}"> <md-outlined-icon-button ?less-margin="${this.post.Group.configuration.hideDownVoteForPost}" icon="share" .label="${this.t("post.shareInfo")}" @click="${this._shareTap}"></md-outlined-icon-button> </div>`}render(){return N` <div class="layout horizontal center-center"> <div class="postCard layout-wrap layout horizontal shsadow-elevation-4dp shasdow-transition"> <div class="layout vertical headerTopLevel center-center" role="heading" aria-level="1" aria-label="${this.post.name}"> <div> <yp-magic-text textType="postName" hidden .contentLanguage="${this.post.language}" .content="${this.post.name}" .contentId="${this.post.id}"> </yp-magic-text> </div> ${this.post.Group.configuration.showWhoPostedPosts?N` <div class="layout horizontal userInfo"> <yp-user-with-organization class="userWithOrg" hide-image .user="${this.post.User}"></yp-user-with-organization> </div> `:U} <div class="layout horizontal center-center wrap mediaAndInfoContainer"> <div class="layout vertical center-center coverContainer"> <yp-post-cover-media top-left-radius show-video show-audio ?hasTranscript="${this.post.public_data?.transcript?.text}" .altTag="${this.post.name}" ?audio-cover="${this.isAudioCover}" header-mode .post="${this.post}"> </yp-post-cover-media> ${this.transcriptActive?N` <yp-post-transcript .post="${this.post}"></yp-post-transcript> `:U} </div> <div class="layout vertical self-end">${this.renderPostInformation()}</div> ${this.renderActions()} ${this.renderMenu()} </div> </div> </div> </div> `}_openPostMenu(){this.$$("#postMenu").open=!0}_sharedContent(t){const e=t.detail;window.appGlobals.activity("postShared",e.social,this.post?this.post.id:-1)}_shareTap(t){const e=t.detail;window.appGlobals.activity("postShareHeaderOpen",e.brand,this.post?this.post.id:-1),window.appDialogs.getDialogAsync("shareDialog",(t=>{const e="https://"+window.location.host+"/post/"+this.post.id;t.open(e,this.t("post.shareInfo"),this._sharedContent)}))}get hasPostAccess(){return!!this.post&&sr.checkPostAccess(this.post)}updated(t){super.updated(t),t.has("post")&&this._postChanged()}_postChanged(){this.post&&this.post.description&&(setTimeout((()=>{const t=this.$$("#description");t?this.post.public_data&&this.post.public_data.law_issue&&this.post.public_data.law_issue.issueStatus&&(t.innerHTML+=" - "+this.post.public_data.law_issue.issueStatus):console.error("Can't find description element")})),this.hasPostAccess&&!0===window.appGlobals.hasTranscriptSupport&&this.post.public_data&&this.post.public_data.transcript&&(this.transcriptActive=!0)),this.post&&("audio"===this.post.cover_media_type?this.isAudioCover=!0:this.isAudioCover=!1)}updateDescriptionIfEmpty(t){!this.post||this.post.description&&""!=this.post.description||(this.post.description=t)}_refresh(){window.appDialogs.getDialogAsync("postEdit",(t=>{t.selected=0,this.fire("refresh")}))}_openMovePost(){this.$$("#helpMenu").select(-1),window.appGlobals.activity("open","movePost")}_openPostStatusChangeNoEmails(){this.$$("#helpMenu").select(-1),window.appGlobals.activity("open","statusChangeNoEmails")}_openPostStatusChange(){this.$$("#helpMenu").select(-1),window.appGlobals.activity("open","post.statusChangeEdit")}_openEdit(){this.$$("#helpMenu").select(-1),window.appGlobals.activity("open","post.edit"),window.appDialogs.getDialogAsync("postEdit",(t=>{t.setup(this.post,!1,this._refresh.bind(this),this.post.Group),t.open(!1,{postId:this.post.id})}))}_openReport(){window.appGlobals.activity("open","post.report"),window.appDialogs.getDialogAsync("apiActionDialog",(t=>{t.setup("/api/posts/"+this.post.id+"/report",this.t("reportConfirmation"),this._onReport.bind(this),this.t("post.report"),"PUT"),t.open()}))}_openDelete(){this.$$("#helpMenu").select(-1),window.appGlobals.activity("open","post.delete"),window.appDialogs.getDialogAsync("apiActionDialog",(t=>{t.setup("/api/posts/"+this.post.id,this.t("post.deleteConfirmation"),this._onDeleted.bind(this)),t.open()}))}_openDeleteContent(){this.$$("#helpMenu").select(-1),window.appGlobals.activity("open","postDeleteContent"),window.appDialogs.getDialogAsync("apiActionDialog",(t=>{t.setup("/api/posts/"+this.post.id+"/delete_content",this.t("postDeleteContentConfirmation")),t.open()}))}_openAnonymizeContent(){this.$$("#helpMenu").select(-1),window.appGlobals.activity("open","postAnonymizeContent"),window.appDialogs.getDialogAsync("apiActionDialog",(t=>{t.setup("/api/posts/"+this.post.id+"/anonymize_content",this.t("postAnonymizeContentConfirmation")),t.open()}))}_onReport(){window.appGlobals.notifyUserViaToast(this.t("post.report")+": "+this.post.name)}_onDeleted(){this.dispatchEvent(new CustomEvent("yp-refresh-group",{bubbles:!0,composed:!0})),ql.redirectTo("/group/"+this.post.group_id)}};t([lt({type:Boolean}),e("design:type",Object)],qu.prototype,"isAudioCover",void 0),t([lt({type:Boolean}),e("design:type",Object)],qu.prototype,"hideActions",void 0),t([lt({type:Boolean}),e("design:type",Object)],qu.prototype,"transcriptActive",void 0),t([lt({type:Object}),e("design:type",Object)],qu.prototype,"post",void 0),qu=t([rt("yp-post-header")],qu);let Qu=class extends Kp{constructor(){super(...arguments),this.fetchActive=!1,this.isAdmin=!1,this.disableDebate=!1,this.pointUpOrDownSelected="pointFor",this.addPointDisabled=!1,this.hideUpVideo=!1,this.hideDownVideo=!1,this.hideMobileVideo=!1,this.hideUpAudio=!1,this.hideDownAudio=!1,this.hideMobileAudio=!1,this.hideUpText=!1,this.hideDownText=!1,this.hideMobileText=!1,this.selectedPointForMobile=!1,this.isAndroid=!1,this.loadedPointIds={},this.loadMoreInProgress=!1,this.storedUpPointsCount=0,this.storedDownPointsCount=0,this.noMorePoints=!1}get textValueUp(){return this.$$("#up_point")?this.$$("#up_point").value:""}_clearTextValueUp(){this.$$("#up_point")&&(this.$$("#up_point").value="")}get textValueDown(){return this.$$("#down_point")?this.$$("#down_point").value:""}_clearTextValueDown(){this.$$("#down_point")&&(this.$$("#down_point").value="")}get textValueMobileUpOrDown(){return this.$$("#mobile_point")?this.$$("#mobile_point").value:""}_clearTextValueMobileUpOrDown(){this.$$("#up_point")&&(this.$$("#up_point").value="")}updated(t){super.updated(t),t.has("wide")&&this._updateEmojiBindings(),t.has("points")&&this._pointsChanged(),t.has("post")&&this._postChanged(),t.has("isAdmin")&&this._isAdminChanged(),(t.has("pointUpOrDownSelected")||t.has("post"))&&this._pointUpOrDownSelectedChanged(),t.has("hasCurrentUpVideo")&&this._hasCurrentUpVideo(),t.has("hasCurrentDownVideo")&&this._hasCurrentDownVideo(),t.has("hasCurrentMobileVideo")&&this._hasCurrentMobileVideo(),t.has("hasCurrentUpAudio")&&this._hasCurrentUpAudio(),t.has("hasCurrentDownAudio")&&this._hasCurrentDownAudio(),t.has("hasCurrentMobileAudio")&&this._hasCurrentMobileAudio()}static get styles(){return[super.styles,a`:host{display:block}.processBar{height:4px;margin:0;padding:0}.main-container{background-color:var(--primary-background-color)}.point{padding-top:32px;padding-bottom:32px;padding-left:24px;padding-right:24px}.pointInputMaterial{padding-top:24px;padding-left:16px;padding-right:16px;padding-bottom:16px;margin-bottom:16px}yp-point{padding-top:8px}.pointMaterial{padding-top:8px;padding-left:0;padding-right:0;width:430px;margin-bottom:12px}.thumbIcon{height:64px;width:64px;padding-bottom:16px;color:var(--primary-color)}.editIcon{height:28px;width:28px;padding-bottom:16px;color:var(--primary-color)}.addPointFab{width:100%;color:#fff;margin-bottom:18px}mwc-MdOutlinedTextField{font-family:var(--app-header-font-family,Roboto)}.howToWriteInfoText{padding-top:4px;color:var(--primary-color)}.point .main-container .topContainer{background-color:var(--primary-background-color)!important}.penContainer{margin-top:42px}.upOrDown{margin-top:72px}#pointUpOrDownMaterial{margin-top:16px;width:100%}.mobileFab{margin-top:8px}md-outlined-button{font-family:var(--app-header-font-family,Roboto)}lit-virtualizer{width:450px;height:80vh;overflow:hidden}@media (max-width:985px){.pointInputMaterial{width:100%;max-width:568px;font-size:14px;padding-top:4px;margin-top:0}.pointMaterial{width:100%;max-width:600px;padding-left:0;padding-right:0}.pointMaterial[is-last-point]{margin-bottom:32px}#pointUpOrDownMaterial{margin-top:16px}.main-container{width:100%}lit-virtualizer{width:100%}.point{padding-left:0;padding-right:0}}.pointMainHeader{font-size:22px;margin-bottom:32px;margin-top:16px}@media (max-width:420px){.pointInputMaterial{width:90%;max-width:90%}}#pointUpMaterialNotUsed{border-top:solid 2px;border-top-color:var(--master-point-up-color)}#pointDownMaterialNotUsed{border-top:solid 2px;border-top-color:var(--master-point-down-color)}.pointElement{margin-bottom:18px}[hidden]{display:none!important}lit-virtualizer{height:80vh}#listMobile[debate-disabled]{margin-top:16px}.mainSpinner{margin:32px}.uploadNotLoggedIn{min-width:100px;margin-bottom:24px}.uploadNotLoggedIn>.icon{padding-right:8px}.pointButtons{margin-bottom:4px}.bottomDiv{margin-bottom:32px}.uploadSection{justify-content:space-evenly;width:50%;margin-left:8px;margin-right:8px;vertical-align:top}.videoUploadDisclamer{font-size:12px;padding:8px;margin-bottom:4px}div[rtl]{direction:rtl}`]}renderAudioUpload(t,e,i,o){return this.post.Group.configuration.allowPointAudioUploads?N` <div ?hidden="${e}" class="uploadSection"> <div class="layout vertical center-center" ?hidden="${!this.isLoggedIn}"> <yp-file-upload id="audioFileUpload${t}" current-file="${bt(i)}" container-type="points" .uploadlimitSeconds="${this.post.Group.configuration.audioPointUploadLimitSec}" .group="${this.post.Group}" raised audioUpload buttonIcon="keyboard_voice" .buttonText="${o}" method="POST" @success="${this._audioUpUploaded}"> </yp-file-upload> </div> <div class="layout horizontal center-center"> <md-outlined-button class="uploadNotLoggedIn" icon="keyboard_voice" raised ?hidden="${this.isLoggedIn}" @click="${this._openLogin}" .label="${o}"> </md-outlined-button> </div> </div> `:U}renderVideoUpload(t,e,i,o,n,s){return this.post.Group.configuration.allowPointVideoUploads?N` <div ?hidden="${e}" class="uploadSection"> <div class="layout vertical center-center self-start" ?hidden="${!this.isLoggedIn}"> <yp-file-upload id="videoFileUpload${t}" noDefaultCoverImage .uploadLimitSeconds="${this.post.Group.configuration.videoPointUploadLimitSec}" .currentFile="${i}" containerType="points" .group="${this.post.Group}" raised videoUpload method="POST" buttonIcon="videocam" .buttonText="${o}" @success="${n}"> </yp-file-upload> </div> <div class="videoUploadDisclamer" ?hidden="${!this.post.Group.configuration.showVideoUploadDisclaimer||!s}"> ${this.t("videoUploadDisclaimer")} </div> <div class="layout horizontal center-center"> <md-outlined-button class="uploadNotLoggedIn" icon="videocam" raised ?hidden="${this.isLoggedIn}" @click="${this._openLogin}" .label="${o}"> </md-outlined-button> </div> </div> `:U}renderMobilePointSelection(){N` <div class="layout vertical end-justified"> <div class="layout horizontal center-center pointButtons" ?hidden="${this.post.Group.configuration.hidePointAgainst}"> <mwc-formfield .label="${this.t("pointForShort")}"> <md-radio @click="${this._chooseUpOrDownRadio}" ?selected="${"pointFor"==this.pointUpOrDownSelected}" id="upRadio" name="upOrDown"></md-radio> </mwc-formfield> <mwc-formfield .label="${this.t("pointAgainstShort")}"> <md-radio @click="${this._chooseUpOrDownRadio}" ?selected="${"pointAgainst"==this.pointUpOrDownSelected}" id="downRadio" name="upOrDown"></md-radio> </mwc-formfield> </div> </div>`}renderPointItem(t,e){return N`<div class="item layout-horizontal" tabindex="${e}" role="listitem" aria-level="3"> <div id="point${t.id}" class="pointMaterial" ?is-last-point="${t.isLastPointInList}"> <yp-point .point="${t}" .post="${this.post}"></yp-point> </div> </div>`}renderPointHeader(t,e,i){return e?N` <div class="pointMainHeader layout horizontal center-center"> <yp-magic-text .contentId="${this.post.Group.id}" textOnly .content="${e}" .contentLanguage="${this.post.Group.language}" role="heading" aria-level="2" class="ratingName" textType="${i}"> </yp-magic-text> </div> `:N` <div class="pointMainHeader layout horizontal center-center" role="heading" aria-level="2"> ${t} </div> `}renderPointList(t,e,i,o,n,s,r,a,l,d,c,h,p,u,m,g,f,v,y=!1){return v&&0==v.length?N`<div class="point"> ${this.renderPointHeader(e,"Engin rök til",o)} </div> `:N` <div class="point"> ${this.renderPointHeader(e,i,o)} <div id="point${t}Material" class="pointInputMaterial layout vertical shadow-elevation-2dp shadow-transition" ?hidden="${!0}"> <md-outlined-text-field id="${t.toLowerCase()}_point" @focus="${h}" @blur="${this.blurOutlinedTextField}" .label="${n||""}" charCounter rows="2" @keyup="${()=>{this.requestUpdate()}}" ?hidden="${r}" maxrows="3" .maxlength="${this.pointMaxLength}"> </md-outlined-text-field> ${y?this.renderMobilePointSelection():U} <div class="layout horizontal end" ?rtl="${this.rtl}" ?hidden="${this.post.Group.configuration.hideEmoji}"> <div class="flex"></div> <yp-emoji-selector id="point${t}EmojiSelector" ?hidden="${r}"></yp-emoji-selector> </div> <div class="layout horizontal center-justified"> ${this.renderVideoUpload(t,s,a,d,l,c)} ${this.renderAudioUpload(t,p,u,m)} </div> <div> <div class="addPointFab layout horizontal center-center"> <md-outlined-button raised class="submitButton" ?disabled="${this.addPointDisabled}" ?hidden="${!g}" icon="add" @click="${f}" .label="${this.t("postPoint")}"></md-outlined-button> </div> </div> </div> ${v?N` <lit-virtualizer id="list${t}" .items="${v}" .layout="${Vl}" .scrollTarget="${window}" .renderItem="${this.renderPointItem.bind(this)}" @rangeChanged="${this.scrollEvent}"></lit-virtualizer> `:U} </div> `}scrollEvent(t){}renderTranslationPlaceholders(){return N`${this.post.Group.configuration.alternativePointForLabel?U:N` <yp-magic-text id="alternativePointForLabelId" hidden contentId="${this.post.Group.id}" textOnly .content="${this.post.Group.configuration.alternativePointForLabel}" .contentLanguage="${this.post.Group.language}" @new-translation="${this._updatePointLabels}" role="heading" aria-level="2" textType="alternativePointForLabel"> </yp-magic-text> `} ${this.post.Group.configuration.alternativePointAgainstLabel?U:N` <yp-magic-text id="alternativePointAgainstLabelId" hidden contentId="${this.post.Group.id}" textOnly .content="${this.post.Group.configuration.alternativePointAgainstLabel}" .contentLanguage="${this.post.Group.language}" @new-translation="${this._updatePointLabels}" role="heading" aria-level="2" textType="alternativePointAgainstLabel"> </yp-magic-text> `}`}render(){return N` <div class="processBar layout horizontal center-center"> <mwc-linear-progress indeterminate ?hidden="${!this.fetchActive}"></mwc-linear-progress> </div> ${this.wideReady?N` <div ?rtl="${this.rtl}" class="layout vertical topContainer center-center"> <div class="main-container layout horizontal"> ${this.renderPointList("Up",this.t("pointsFor"),this.post.Group.configuration.alternativePointForHeader,"alternativePointForHeader",this.labelUp,this.hideUpVideo,this.hideUpText,this.hasCurrentUpVideo,this._videoUpUploaded,this.t("uploadVideoPointFor"),this.uploadedVideoUpId,this.focusUpPoint,this.hideUpAudio,this.hasCurrentUpAudio,this.t("uploadAudioPointFor"),this.ifLengthUpIsRight,this.addPointUp,this.upPoints)} ${this.renderPointList("Down",this.t("pointsAgainst"),this.post.Group.configuration.alternativePointAgainstHeader,"alternativePointAgainstHeader",this.labelDown,this.hideDownVideo,this.hideDownText,this.hasCurrentDownVideo,this._videoDownUploaded,this.t("uploadVideoPointAgainst"),this.uploadedVideoDownId,this.focusDownPoint,this.hideDownAudio,this.hasCurrentDownAudio,this.t("uploadAudioPointAgainst"),this.ifLengthDownIsRight,this.addPointDown,this.downPoints)} </div> </div> `:U} ${this.smallReady?N` <div ?rtl="${this.rtl}" class="layout vertical center-center"> ${this.renderPointList("Mobile",this.t("Rök með og á móti"),this.post.Group.configuration.alternativePointAgainstHeader,"alternativePointAgainstHeader",this.labelMobileUpOrDown,this.hideMobileVideo,this.hideMobileText,this.hasCurrentMobileVideo,this._videoMobileUploaded,this.t("uploadVideoPointAgainst"),this.uploadedVideoMobileId,this.focusMobilePoint,this.hideMobileAudio,this.hasCurrentMobileAudio,this.t("uploadAudioPointAgainst"),this.ifLengthMobileIsRight,this.addMobilePointUpOrDown,this.points,!0)} </div> `:U} ${this.renderTranslationPlaceholders()} `}_chooseUpOrDownRadio(){const t=this.$$("#upRadio"),e=this.$$("#downRadio");t.checked?this.pointUpOrDownSelected="pointFor":e.checked&&(this.pointUpOrDownSelected="pointAgainst")}get wideReady(){return!1}get smallReady(){return this.post;//!this.wide && this.post;
}get pointMaxLength(){return this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.pointCharLimit?this.post.Group.configuration.pointCharLimit:500}_openLogin(){this.fire("yp-open-login")}_videoUpUploaded(t){this.uploadedVideoUpId=t.detail.videoId}_videoDownUploaded(t){this.uploadedVideoDownId=t.detail.videoId}_videoMobileUploaded(t){this.uploadedVideoMobileId=t.detail.videoId}_audioUpUploaded(t){this.uploadedAudioUpId=t.detail.audioId}_audioDownUploaded(t){this.uploadedAudioDownId=t.detail.audioId}_audioMobileUploaded(t){this.uploadedAudioMobileId=t.detail.audioId}get mobileScrollOffset(){if(!this.wide&&this.post){const t=this.$$("#listMobile");if(t){let e=t.getBoundingClientRect().top;return e<=0&&(e=800),e}return console.warn("Can't find mobile list element, returning 800"),800}}get listResizeScrollThreshold(){return this.wide,300}get listPaddingTop(){return this.wide?600:500}connectedCallback(){super.connectedCallback();navigator.userAgent.toLowerCase().indexOf("android")>-1&&(this.isAndroid=!0),window.addEventListener("resize",this._processStoredPoints.bind(this)),this.addListener("yp-point-deleted",this._pointDeleted),this.addListener("yp-update-point-in-list",this._updatePointInLists),this.addListener("yp-list-resize",this._listResize),this.addListener("yp-update-points-for-post",this._loadNewPointsIfNeeded)}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this._processStoredPoints),this.removeListener("yp-point-deleted",this._pointDeleted),this.removeListener("yp-update-point-in-list",this._updatePointInLists),this.removeListener("yp-list-resize",this._listResize),this.removeListener("yp-update-points-for-post",this._loadNewPointsIfNeeded)}_listResize(){this.$$("#listUp"),this.$$("#listDown"),this.$$("#listMobile")}_loadNewPointsIfNeeded(t){this.post&&this.post.id==t.detail.postId&&(this.latestPointCreatedAt?this._getNewPoints():console.error("Trying to send point without latestPointCreatedAt"))}_loadMorePoints(){this.loadMoreInProgress||this.noMorePoints||(this.loadMoreInProgress=!0,this.post&&this.storedPoints&&this.storedPoints.length>0?this._getMorePoints():(console.warn("Trying to load more points early"),this.loadMoreInProgress=!1))}_interleaveMorePoints(t){const e=[],i=[];for(let o=0;o<t.length;o++)t[o].value>0?e.push(t[o]):t[o].value<0&&i.push(t[o]);return this.interleaveArrays(e,i)}async _getMorePoints(){this.loadMoreInProgress=!1;const t=await window.serverApi.getMorePoints(this.post.id,this.storedUpPointsCount?this.storedUpPointsCount:0,this.storedDownPointsCount?this.storedDownPointsCount:0);let e=this._preProcessPoints(t.points);0===e.length&&(this.noMorePoints=!0);let i=!1;e=this._interleaveMorePoints(e),e.forEach((t=>{this._addMorePoint(t)&&(i=!0)})),await this.updateComplete,this._listResize(),i&&this._clearScrollTrigger()}_clearScrollTrigger(){}async _getNewPoints(){if(this.latestPointCreatedAt){let t=await window.serverApi.getNewPoints(this.post.id,this.latestPointCreatedAt);t=this._preProcessPoints(t),t.forEach((t=>{this._insertNewPoint(t)})),await this.updateComplete,this._listResize(),this._updateCounterInfo(),this.addPointDisabled=!1}}_pointDeleted(){this._getPoints()}_pointsChanged(){this.points&&this._updateEmojiBindings()}_updateEmojiBindings(){setTimeout((()=>{if(this.wide){const t=this.$$("#up_point"),e=this.$$("#down_point"),i=this.$$("#pointUpEmojiSelector"),o=this.$$("#pointDownEmojiSelector");t&&e&&i&&o?(i.inputTarget=t,o.inputTarget=e):console.warn("Wide: Can't bind emojis :(")}else{const t=this.$$("#mobile_point"),e=this.$$("#pointMobileEmojiSelector");t&&e?e.inputTarget=t:console.warn("Small: Can't bind emojis :(")}}),500)}_pointUpOrDownSelectedChanged(){"pointFor"==this.pointUpOrDownSelected?(this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.alternativePointForLabel?this.labelMobileUpOrDown=this.post.Group.configuration.alternativePointForLabel:this.labelMobileUpOrDown=this.t("point.for"),this.selectedPointForMobile=!0):"pointAgainst"==this.pointUpOrDownSelected&&(this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.alternativePointAgainstLabel?this.labelMobileUpOrDown=this.post.Group.configuration.alternativePointAgainstLabel:this.labelMobileUpOrDown=this.t("point.against"),this.selectedPointForMobile=!1)}_clearVideo(){this.uploadedVideoUpId=void 0,this.uploadedVideoDownId=void 0,this.uploadedVideoMobileId=void 0,this.currentVideoId=void 0,this.hideUpVideo=!1,this.hideDownVideo=!1,this.hideMobileVideo=!1,this.$$("#videoFileUploadUp")&&this.$$("#videoFileUploadUp").clear(),this.$$("#videoFileUploadDown")&&this.$$("#videoFileUploadDown").clear(),this.$$("#videoFileUploadMobile")&&this.$$("#videoFileUploadMobile").clear()}_clearAudio(){this.uploadedAudioUpId=void 0,this.uploadedAudioDownId=void 0,this.uploadedAudioMobileId=void 0,this.currentAudioId=void 0,this.hideUpAudio=!1,this.hideDownAudio=!1,this.hideMobileAudio=!1,this.$$("#audioFileUploadUp")&&this.$$("#audioFileUploadUp").clear(),this.$$("#audioFileUploadDown")&&this.$$("#audioFileUploadDown").clear(),this.$$("#audioFileUploadMobile")&&this.$$("#audioFileUploadMobile").clear()}_isAdminChanged(){this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.disableDebate?this.isAdmin&&this.post.Group.configuration.allowAdminsToDebate?this.disableDebate=!1:this.disableDebate=!0:this.disableDebate=!1}async _getPoints(){this.fetchActive=!0;const t=await window.serverApi.getPoints(this.post.id);if(this.fetchActive=!1,t&&(this.storedPoints=this._preProcessPoints(t.points),this.totalCount=t.count,this.storedUpPointsCount=0,this.storedDownPointsCount=0,this.storedPoints)){for(let t=0;t<this.storedPoints.length;t++)this.storedPoints[t].value>0?this.storedUpPointsCount+=1:this.storedPoints[t].value<0&&(this.storedDownPointsCount+=1),this.loadedPointIds[this.storedPoints[t].id]=!0;this._processStoredPoints(),this.removeElementsByClass(this,"inserted-outside-list"),this._updateCounterInfo(),this._scrollPointIntoView(),this._checkForMultipleLanguages()}}_postChanged(){this.points=void 0,this.upPoints=void 0,this.downPoints=void 0,this.latestPointCreatedAt=void 0,this.storedPoints=void 0,this._clearVideo(),this._clearAudio(),this.loadedPointIds={},this.storedUpPointsCount=0,this.storedDownPointsCount=0,this.post&&(this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.disableDebate?this.disableDebate=!0:this.disableDebate=!1,this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.alternativePointForLabel?this.labelUp=this.post.Group.configuration.alternativePointForLabel:this.labelUp=this.t("point.for"),this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.alternativePointAgainstLabel?this.labelDown=this.post.Group.configuration.alternativePointAgainstLabel:this.labelDown=this.t("point.against")),setTimeout((()=>{this._updatePointLabels()})),this._getPoints()}removeElementsByClass(t,e){const i=t.getElementsByClassName(e);if(i)for(;i.length>0;)i[0].parentNode.removeChild(i[0])}_updatePointLabels(){setTimeout((()=>{const t=this.$$("#alternativePointForLabelId"),e=this.$$("#alternativePointAgainstLabelId");t&&t.finalContent&&(this.labelUp=t.finalContent),e&&e.finalContent&&(this.labelDown=e.finalContent)}))}_processStoredPoints(){if(console.info("_processStoredPoints"),this.storedPoints&&this.storedPoints.length>0){const t=[],e=[];for(let i=0;i<this.storedPoints.length;i++)this.storedPoints[i].value>0?t.push(this.storedPoints[i]):this.storedPoints[i].value<0&&e.push(this.storedPoints[i]);this.upPoints=t,this.downPoints=e}else this.upPoints=[],this.downPoints=[],this.points=[];!this.wide&&this.upPoints&&this.downPoints&&(this.points=this.interleaveArrays(this.upPoints,this.downPoints)),this._clearScrollTrigger()}_updatePointInLists(t){const e=t.detail;this.upPoints?.forEach(((t,i)=>{t.id===e.id&&(this.upPoints[i]=e)})),this.downPoints?.forEach(((t,i)=>{t.id===e.id&&(this.downPoints[i]=e)})),this.points&&this.points.length>0&&this.points.forEach(((t,i)=>{t.id===e.id&&(this.points[i]=e)}))}_checkForMultipleLanguages(){if(this.upPoints&&!localStorage.getItem("dontPromptForAutoTranslation")&&!sessionStorage.getItem("dontPromptForAutoTranslation")){let t,e=!1;this.upPoints.forEach((function(i){i.language&&!e&&(t||"??"===i.language?t&&t!==i.language&&"??"!==i.language&&(e=!0,console.info("Multiple point languages: "+t+" and "+i.language)):t=i.language)})),!e&&this.downPoints&&this.downPoints.forEach((function(i){i.language&&!e&&(t||"??"===i.language?t&&t!=i.language&&"??"!==i.language&&(e=!0,console.info("Multiple point languages: "+t+" and "+i.language)):t=i.language)}))}}interleaveArrays(t,e){const i=[t,e],o=Math.max.apply(Math,i.map((t=>t.length))),n=[];for(let t=0;t<o;++t)i.forEach((function(e){e.length>t&&n.push(e[t])}));return n.length>0&&(n.length===this.totalCount||this.points&&this.points.length+n.length===this.totalCount)&&(n[n.length-1].isLastPointInList=!0),n}_scrollPointIntoView(){this.scrollToId&&setTimeout((()=>{let t=!1;!this.wide&&this.points?this.points.forEach((e=>{t||e.id!=this.scrollToId||(t=!0)})):this.upPoints&&this.downPoints&&(this.upPoints.forEach((e=>{t||e.id!=this.scrollToId||(t=!0)})),t||this.downPoints.forEach((e=>{t||e.id!=this.scrollToId||(t=!0)}))),t&&setTimeout((()=>{this.scrollToId=void 0}),50)}),20)}_preProcessPoints(t){for(let e=0;e<t.length;e++)(!this.latestPointCreatedAt||!this.latestPointCreatedAt||t[e].created_at>this.latestPointCreatedAt)&&(this.latestPointCreatedAt=t[e].created_at),t&&t.length>0&&t[e].PointRevisions&&t[e].PointRevisions.length>0&&t[e].PointRevisions[t[e].PointRevisions.length-1]&&t[e].PointRevisions[t[e].PointRevisions.length-1].content?t[e].latestContent=t[e].PointRevisions[t[e].PointRevisions.length-1].content:console.warn("No content for point in _preProcessPoints");return t}_updateCounterInfo(){this.wide&&this.upPoints?this.fire("yp-debate-info",{count:this.totalCount,firstPoint:this.upPoints[0]}):this.points&&this.fire("yp-debate-info",{count:this.totalCount,firstPoint:this.points[0]})}async _insertNewPoint(t){this.loadedPointIds[t.id]||(this.loadedPointIds[t.id]=!0,this.wide?t.value>0?this.upPoints?.unshift(t):t.value<0&&this.downPoints?.unshift(t):this.points?.unshift(t),await this.requestUpdate(),setTimeout((()=>{this._listResize()}),2500),this.storedPoints?.unshift(t))}_addMorePoint(t){let e=!1;return this.loadedPointIds[t.id]||(this.loadedPointIds[t.id]=!0,e=!0,this.wide?t.value>0?this.upPoints?.push(t):t.value<0&&this.downPoints?.push(t):this.points?.push(t),this.storedPoints?.push(t),t.value>0?this.storedUpPointsCount+=1:t.value<0&&(this.storedDownPointsCount+=1)),e}_completeNewPointResponse(t){this.addPointDisabled=!1,t=this._preProcessPoints([t])[0],this.currentVideoId?t.checkTranscriptFor="video":this.currentAudioId&&(t.checkTranscriptFor="audio"),t.value>0?(this.newPointTextCombined=this.t("point.forAdded")+" "+Tl.truncate(t.content,21),this._clearTextValueUp()):(this.newPointTextCombined=this.t("point.againstAdded")+" "+Tl.truncate(t.content,21),this._clearTextValueDown()),this._clearTextValueMobileUpOrDown(),this._insertNewPoint(t),this.post.counter_points=this.post.counter_points+1,this._updateCounterInfo(),t.value>0?window.appGlobals.activity("completed","newPointFor"):window.appGlobals.activity("completed","newPointAgainst"),this._clearVideo(),this._clearAudio()}addPointUp(){this.addPoint(this.textValueUp,1,this.uploadedVideoUpId,this.uploadedAudioUpId),window.appGlobals.activity("add","pointUp")}addPointDown(){this.addPoint(this.textValueDown,-1,this.uploadedVideoDownId,this.uploadedAudioDownId),window.appGlobals.activity("add","pointDown")}addMobilePointUpOrDown(){"pointFor"==this.pointUpOrDownSelected?(this.addPoint(this.textValueMobileUpOrDown,1,this.uploadedVideoMobileId,this.uploadedAudioMobileId),window.appGlobals.activity("add","pointUp")):"pointAgainst"==this.pointUpOrDownSelected&&(this.addPoint(this.textValueMobileUpOrDown,-1,this.uploadedVideoMobileId,this.uploadedAudioMobileId),window.appGlobals.activity("add","pointDown"))}async addPoint(t,e,i,o){if(!0===window.appUser.loggedIn()){let n;i?this.currentVideoId=i:o&&(this.currentAudioId=o),this.addPointDisabled=!0;try{n=await window.serverApi.addPoint(this.post.group_id,{postId:this.post.id,content:t,value:e})}catch(t){t.offlineSendLater?(this.addPointDisabled=!1,this._clearTextValueDown(),this._clearTextValueUp(),this._clearTextValueMobileUpOrDown()):console.error(t)}n=this._preProcessPoints([n])[0],this.currentVideoId?(await window.serverApi.completeMediaPoint("videos",n.id,{videoId:this.currentVideoId,appLanguage:this.language}),window.appGlobals.showSpeechToTextInfoIfNeeded()):this.currentAudioId&&(await window.serverApi.completeMediaPoint("audios",n.id,{videoId:this.currentAudioId,appLanguage:this.language}),window.appGlobals.showSpeechToTextInfoIfNeeded()),this._completeNewPointResponse(n)}else window.appUser.loginForNewPoint(this,{content:t,value:e})}focusUpPoint(){window.appGlobals.activity("focus","pointUp")}focusDownPoint(){window.appGlobals.activity("focus","pointDown")}focusMobilePoint(){window.appGlobals.activity("focus","mobilePoint")}focusOutlinedTextField(t){}blurOutlinedTextField(t){}_hasCurrentUpVideo(){this.hasCurrentUpVideo?(this.hideUpAudio=!0,this.hideUpText=!0):(this.hideUpAudio=!1,this.hideUpText=!1)}_hasCurrentDownVideo(){this.hasCurrentDownVideo?(this.hideDownAudio=!0,this.hideDownText=!0):(this.hideDownAudio=!1,this.hideDownText=!1)}_hasCurrentUpAudio(){this.hasCurrentUpAudio?(this.hideUpVideo=!0,this.hideUpText=!0):(this.hideUpVideo=!1,this.hideUpText=!1)}_hasCurrentDownAudio(){this.hasCurrentDownAudio?(this.hideDownVideo=!0,this.hideDownText=!0):(this.hideDownVideo=!1,this.hideDownText=!1)}_hasCurrentMobileVideo(){this.hasCurrentMobileVideo?(this.hideMobileAudio=!0,this.hideMobileText=!0):(this.hideMobileAudio=!1,this.hideMobileText=!1)}_hasCurrentMobileAudio(){this.hasCurrentMobileAudio?(this.hideMobileVideo=!0,this.hideMobileText=!0):(this.hideMobileVideo=!1,this.hideMobileText=!1)}get ifLengthUpIsRight(){return this.ifLengthIsRight("up",this.textValueUp,this.uploadedVideoUpId,this.uploadedAudioUpId)}get ifLengthDownIsRight(){return this.ifLengthIsRight("down",this.textValueDown,this.uploadedVideoDownId,this.uploadedAudioDownId)}get ifLengthMobileIsRight(){return this.ifLengthIsRight("mobile",this.textValueMobileUpOrDown,this.uploadedVideoMobileId,this.uploadedAudioMobileId)}ifLengthIsRight(t,e,i,o){return null!=i?("up"===t&&(this.hideUpVideo=!1,this.hideUpAudio=!0,this.hideUpText=!0),"down"===t&&(this.hideDownVideo=!1,this.hideDownAudio=!0,this.hideDownText=!0),"mobile"===t&&(this.hideMobileVideo=!1,this.hideMobileAudio=!0,this.hideMobileText=!0),!0):null!=o?("up"===t&&(this.hideUpAudio=!1,this.hideUpVideo=!0,this.hideUpText=!0),"down"===t&&(this.hideDownAudio=!1,this.hideDownVideo=!0,this.hideDownText=!0),"mobile"===t&&(this.hideMobileAudio=!1,this.hideMobileVideo=!0,this.hideMobileText=!0),!0):e&&0===e.length?("up"===t&&(this.hideUpVideo=!1,this.hideUpAudio=!1,this.hideUpText=!1),"down"===t&&(this.hideDownVideo=!1,this.hideDownAudio=!1,this.hideDownText=!1),"mobile"===t&&(this.hideMobileVideo=!1,this.hideMobileAudio=!1,this.hideMobileText=!1),!1):null!=e&&e.length>0&&e.trim().length>0?("up"===t&&(this.hideUpVideo=!0,this.hideUpAudio=!0,this.hideUpText=!1),"down"===t&&(this.hideDownVideo=!0,this.hideDownAudio=!0,this.hideDownText=!1),"mobile"===t&&(this.hideMobileVideo=!0,this.hideMobileAudio=!0,this.hideMobileText=!1),!0):null!=e&&e.length>1&&e.trim().length>0}};t([lt({type:Boolean}),e("design:type",Object)],Qu.prototype,"fetchActive",void 0),t([lt({type:Boolean}),e("design:type",Object)],Qu.prototype,"isAdmin",void 0),t([lt({type:Boolean}),e("design:type",Object)],Qu.prototype,"disableDebate",void 0),t([lt({type:Array}),e("design:type",Array)],Qu.prototype,"points",void 0),t([lt({type:Array}),e("design:type",Array)],Qu.prototype,"downPoints",void 0),t([lt({type:Array}),e("design:type",Array)],Qu.prototype,"upPoints",void 0),t([lt({type:String}),e("design:type",String)],Qu.prototype,"newPointTextCombined",void 0),t([lt({type:Object}),e("design:type",Object)],Qu.prototype,"post",void 0),t([lt({type:String}),e("design:type",String)],Qu.prototype,"labelMobileUpOrDown",void 0),t([lt({type:String}),e("design:type",String)],Qu.prototype,"labelUp",void 0),t([lt({type:String}),e("design:type",String)],Qu.prototype,"labelDown",void 0),t([lt({type:String}),e("design:type",Object)],Qu.prototype,"pointUpOrDownSelected",void 0),t([lt({type:Object}),e("design:type",Date)],Qu.prototype,"latestPointCreatedAt",void 0),t([lt({type:Number}),e("design:type",Number)],Qu.prototype,"scrollToId",void 0),t([lt({type:Boolean}),e("design:type",Object)],Qu.prototype,"addPointDisabled",void 0),t([lt({type:Number}),e("design:type",Number)],Qu.prototype,"uploadedVideoUpId",void 0),t([lt({type:Number}),e("design:type",Number)],Qu.prototype,"uploadedVideoDownId",void 0),t([lt({type:Number}),e("design:type",Number)],Qu.prototype,"uploadedVideoMobileId",void 0),t([lt({type:Number}),e("design:type",Number)],Qu.prototype,"currentVideoId",void 0),t([lt({type:Boolean}),e("design:type",Object)],Qu.prototype,"hideUpVideo",void 0),t([lt({type:Boolean}),e("design:type",Object)],Qu.prototype,"hideDownVideo",void 0),t([lt({type:Boolean}),e("design:type",Object)],Qu.prototype,"hideMobileVideo",void 0),t([lt({type:Number}),e("design:type",Number)],Qu.prototype,"uploadedAudioUpId",void 0),t([lt({type:Number}),e("design:type",Number)],Qu.prototype,"uploadedAudioDownId",void 0),t([lt({type:Number}),e("design:type",Number)],Qu.prototype,"uploadedAudioMobileId",void 0),t([lt({type:Number}),e("design:type",Number)],Qu.prototype,"currentAudioId",void 0),t([lt({type:Boolean}),e("design:type",Object)],Qu.prototype,"hideUpAudio",void 0),t([lt({type:Boolean}),e("design:type",Object)],Qu.prototype,"hideDownAudio",void 0),t([lt({type:Boolean}),e("design:type",Object)],Qu.prototype,"hideMobileAudio",void 0),t([lt({type:Boolean}),e("design:type",Object)],Qu.prototype,"hideUpText",void 0),t([lt({type:Boolean}),e("design:type",Object)],Qu.prototype,"hideDownText",void 0),t([lt({type:Boolean}),e("design:type",Object)],Qu.prototype,"hideMobileText",void 0),t([lt({type:Boolean}),e("design:type",Object)],Qu.prototype,"selectedPointForMobile",void 0),t([lt({type:Boolean}),e("design:type",Object)],Qu.prototype,"isAndroid",void 0),t([lt({type:String}),e("design:type",String)],Qu.prototype,"hasCurrentUpVideo",void 0),t([lt({type:String}),e("design:type",String)],Qu.prototype,"hasCurrentDownVideo",void 0),t([lt({type:String}),e("design:type",String)],Qu.prototype,"hasCurrentMobileVideo",void 0),t([lt({type:String}),e("design:type",String)],Qu.prototype,"hasCurrentUpAudio",void 0),t([lt({type:String}),e("design:type",String)],Qu.prototype,"hasCurrentDownAudio",void 0),t([lt({type:String}),e("design:type",String)],Qu.prototype,"hasCurrentMobileAudio",void 0),t([lt({type:Array}),e("design:type",Array)],Qu.prototype,"storedPoints",void 0),Qu=t([rt("yp-post-points")],Qu);let Ju=class extends Ci{static get styles(){return[super.styles,cr,a`.description{padding-left:16px;padding-right:16px;padding-top:16px;color:#444}.photographer{padding-left:16px;padding-right:16px;padding-top:8px;color:#aaa}.material{width:800px;height:100%;background-color:#fff;padding:0}yp-image{width:800px;height:600px}@media (max-width:800px){yp-image{width:600px;height:450px}.material{width:600px}}@media (max-width:620px){yp-image{width:400px;height:300px}.material{width:400px}}@media (max-width:420px){yp-image{width:320px;height:240px}.material{width:320px}.commentsList{margin-left:16px}}.commentsList{margin-left:32px}[hidden]{display:none!important}`]}render(){return N` <div class="material layout vertical shadow-elevation-2dp shadow-transition"> <yp-image .alt="${this.image.description}" sizing="cover" src="${this.imageUrl}"></yp-image> <div class="description"> ${this.image.description} </div> <div class="layout horizontal" style="width:100%"> <div class="photographer"> ${this.image.photographer_name} </div> <div class="editMenu layout horizontal flex end-justified" ?hidden="${!sr.hasImageAccess(this.image,this.post)}"> <md-outlined-icon-button .abel="${this.t("edit")}" icon="create" @click="${this._openEdit}"></md-outlined-icon-button> <md-outlined-icon-button .label="${this.t("delete")}" icon="clear" @click="${this._openDelete}"></md-outlined-icon-button> </div> </div> <yp-point-comment-list class="commentsList" .image="${this.image}"></yp-point-comment-list> </div> `}_openEdit(){window.appGlobals.activity("open","userImage.edit")}_openDelete(){window.appGlobals.activity("open","userImage.delete")}_refresh(){this.fire("refresh")}get imageUrl(){return dr.getImageFormatUrl([this.image],0)}};t([lt({type:Object}),e("design:type",Object)],Ju.prototype,"image",void 0),t([lt({type:Object}),e("design:type",Object)],Ju.prototype,"post",void 0),Ju=t([rt("yp-post-user-image-card")],Ju);let Zu=class extends Ci{updated(t){super.updated(t),t.has("post")&&this._postChanged()}static get styles(){return[super.styles,a`md-outlined-button{margin-top:32px;margin-bottom:8px;background-color:var(--accent-color);color:#fff;width:242px}yp-post-user-image-card{margin-top:32px;margin-bottom:32px}`]}render(){return N` <div class="layout vertical center-center"> ${this.post?N` <md-outlined-button raised @click="${this._newImage}" .label="${this.t("posts.newUserImage")}"></md-outlined-button> ${this.images?N` ${this.images.map((t=>N` <yp-post-user-image-card .post="${this.post}" .image="${t}" @refresh="${this._refresh}"></yp-post-user-image-card> `))} `:U} `:U} </div> `}async _refresh(){this.post&&(this.images=await window.serverApi.getImages(this.post.id),this.images&&this.images.length>0?this.fire("yp-post-image-count",this.images.length):this.fire("yp-post-image-count",0))}_postChanged(){this._refresh()}_newImage(){window.appGlobals.activity("open","newUserImage")}};t([lt({type:Array}),e("design:type",Array)],Zu.prototype,"images",void 0),t([lt({type:Object}),e("design:type",Object)],Zu.prototype,"post",void 0),Zu=t([rt("yp-post-user-images")],Zu);const Ku={Debate:0,News:1,Location:2,Photos:3};let Yu=class extends Hu{constructor(){super("post",null,"lightbulb_outline","post.create"),this.isAdmin=!1,this.disableNewPosts=!1,this.post=void 0,this.scrollToPointId=void 0,this.debateCount=void 0,this.photosCount=void 0}scrollToCollectionItemSubClass(){}static get styles(){return[cr,a`.postHeader{padding:16px;background-color:#fefefe;width:940px}ac-activities{padding-top:8px}yp-post-user-images{padding-top:32px}@media (max-width:961px){.postHeader{width:600px}}@media (max-width:600px){.postHeader{width:400px}}@media (max-width:360px){.postHeader{height:100%;width:360px;padding:0}}[hidden]{display:none!important}`]}renderPostHeader(){return N`<yp-post-header id="postCard" class="largeCard" .post="${this.post}" @refresh="${this._getPost}" headermode></yp-post-header>`}renderPostTabs(){return U}renderPostTabsTODO(){return this.post&&!this.post.Group.configuration.hideAllTabs?N` <div class="layout vertical center-center"> <md-navigationbar @MDCTabBar:activated="${this._selectTab}"> <md-navigation-tab .label="${this.tabDebateCount}" icon="lightbulb_outline"></md-navigation-tab> ${this.renderNewsAndMapTabs()} <md-navigation-tab .label="${this.tabPhotosCount}" icon="lightbulb_outline"></md-navigation-tab> </md-navigationbar> </div> `:U}renderCurrentPostTabPage(){let t;if(this.post)switch(this.selectedTab){case Ku.Debate:t=N` <yp-post-points id="pointsSection" role="main" aria-label="${this.t("debate")}" ?isPostPage="${this.isPostPage}" ?isAdmin="${this.isAdmin}" .post="${this.post}" .scrollToId="${this.scrollToPointId}"></yp-post-points>`;break;case Ku.News:t=N`<ac-activities id="postNews" .selectedTab="${this.selectedTab}" .disableNewPosts="${this.disableNewPosts}" .postGroupId="${this.post.group_id}" .postId="${this.post.id}"></ac-activities>`;break;case Ku.Location:t=this.post.location?N`<div class="mapContainer shadow-elevation-4dp shadow-transition"> <google-map additionalMapOptions="{'keyboardShortcuts':false}" apiKey="XXXX" id="map" libraries="places" class="map" .mapType="${this.post.location.mapType}" .zoom="${this.post.location.map_zoom}" fitToMarkers=""> <google-map-marker slot="markers" latitude="${this.post.location.latitude}" longitude="${this.post.location.longitude}" id="marker"></google-map-marker> </google-map> </div>`:N` <h1 style="padding-top:16px"> ${this.t("post.noLocation")} </h1>`;break;case Ku.Photos:t=N` <div class="layout horizontal center-center"> <yp-post-user-images .post="${this.post}"></yp-post-user-images> </div>`}return t}render(){return this.post?N` ${this.renderPostHeader()} ${this.renderPostTabs()} ${this.renderCurrentPostTabPage()} ${this.disableNewPosts||!this.post||this.post.Group.configuration.hideNewPost||this.post.Group.configuration.hideNewPostOnPostPage?U:N` <md-fab hidden .label="${this.t("post.new")}" icon="lightbulb" @click="${this._newPost}"></md-fab>`} `:N``}get tabDebateCount(){return`${this.t("post.tabs.debate")} (${null!=this.debateCount?this.debateCount:"..."})`}get tabPhotosCount(){return`${this.t("post.tabs.photos")} (${null!=this.photosCount?this.photosCount:"..."})`}_selectedTabChanged(){const t=Object.keys(Ku)[this.selectedTab].toLowerCase();this.post,t&&window.appGlobals.activity("open","post_tab_"+t,"",{id:this.collectionId,modelType:"post"})}updated(t){super.updated(t),t.has("selectedTab")&&this._selectedTabChanged()}get isPostPage(){return"post"===this.currentPage}_newPost(){window.appGlobals.activity("open","newPost"),this.fire("yp-new-post",{group:this.post.Group})}connectedCallback(){super.connectedCallback(),this.addListener("yp-debate-info",this._updateDebateInfo),this.addListener("yp-post-image-count",this._updatePostImageCount)}disconnectedCallback(){super.disconnectedCallback(),this.removeListener("yp-debate-info",this._updateDebateInfo),this.removeListener("yp-post-image-count",this._updatePostImageCount)}_updatePostImageCount(t){const e=t.detail;this.photosCount=Tl.number(e)}_updateDebateInfo(t){const e=t.detail;this.debateCount=Tl.number(e.count)}_mainContainerClasses(){return this.wide?"layout horizontal center-center":"layout horizontal wrap"}_headerClasses(){return this.wide?"layout horizontal postHeader":"layout vertical postHeader wrap"}get postName(){if(this.post&&this.post.name)return Tl.truncate(Tl.trim(this.post.name),200)}get postDescription(){return this.post&&this.post.description?Tl.truncate(Tl.trim(this.post.description),1e4,"..."):""}async _getPost(){this.collectionId?(this.post=void 0,this.post=await window.serverApi.getCollection(this.collectionType,this.collectionId),this.post&&(this._processIncomingPost(),this._getHelpPages("group",this.post.group_id))):console.error("No collection id for _getPost")}collectionIdChanged(){if(this.collectionId){const t=window.appGlobals.cache.cachedPostItem;t&&t.id==this.collectionId?(this.post=t,this._processIncomingPost(),console.debug("Got post from single item cache")):window.appGlobals.cache.getPostFromCache(this.collectionId)?(this.post=window.appGlobals.cache.getPostFromCache(this.collectionId),this._processIncomingPost(!0),console.debug("Got post from post multi cache possibly from recommendations")):(console.debug("Got post from server not cache"),this.post=void 0,this._getPost())}}_processIncomingPost(t=!1){this.post?(this.refresh(),t||window.appGlobals.cache.addPostsToCacheLater([this.post]),window.appGlobals.recommendations.getNextRecommendationForGroup(this.post.group_id,this.post.id,this._processRecommendation.bind(this)),this.isAdmin=sr.checkPostAdminOnlyAccess(this.post)):console.error("Trying to refresh without post")}_processRecommendation(t){if(t&&this.post){let e=t.name;e=this.wide?Tl.truncate(e,60):Tl.truncate(e,30),this.fire("yp-set-next-post",{currentPostId:this.post.id,goForwardToPostId:t.id,goForwardPostName:e})}else this.post&&(this.fire("yp-set-next-post",{currentPostId:this.post.id,goForwardToPostId:null,goForwardPostName:null}),console.log("Not recommended post"))}refresh(){this.post&&(this.post.Group.configuration&&null!=this.post.Group.configuration.canAddNewPosts?!0===this.post.Group.configuration.canAddNewPosts?this.disableNewPosts=!1:this.disableNewPosts=!0:this.disableNewPosts=!1,null!=this.post.Group.theme_id||this.post.Group.configuration&&null!=this.post.Group.configuration.themeOverrideColorPrimary?window.appGlobals.theme.setTheme(this.post.Group.theme_id,this.post.Group.configuration):this.post.Group.Community&&(null!=this.post.Group.Community.theme_id||this.post.Group.Community.configuration&&this.post.Group.Community.configuration.themeOverrideColorPrimary)?window.appGlobals.theme.setTheme(this.post.Group.Community.theme_id,this.post.Group.Community.configuration):window.appGlobals.theme.setTheme(1),this.post.Group.Community?(window.appGlobals.analytics.setCommunityAnalyticsTracker(this.post.Group.Community.google_analytics_code),this.post.Group.Community.configuration&&window.appGlobals.analytics.setCommunityPixelTracker(this.post.Group.Community.configuration.facebookPixelId),this.post.Group.Community.configuration&&this.post.Group.Community.configuration.customSamlLoginMessage?window.appGlobals.currentSamlLoginMessage=this.post.Group.Community.configuration.customSamlLoginMessage:window.appGlobals.currentSamlLoginMessage=void 0):console.error("No community!"),window.appGlobals.setAnonymousGroupStatus(this.post.Group),window.appGlobals.setRegistrationQuestionGroup(this.post.Group),this.post.Group.configuration&&null!=this.post.Group.configuration.defaultLocale&&window.appGlobals.changeLocaleIfNeeded(this.post.Group.configuration.defaultLocale),this.post.Group.configuration&&null!=this.post.Group.configuration.locationHidden?this.locationHidden=this.post.Group.configuration.locationHidden:this.locationHidden=!1,this.fire("yp-change-header",{headerTitle:Tl.truncate(this.post.Group.name,80),documentTitle:this.post.name,headerDescription:"",backPath:"/group/"+this.post.group_id,backListItem:this.post,hideHelpIcon:!(!this.post.Group.configuration||!this.post.Group.configuration.hideHelpIcon)||null}),this.post.Group.configuration&&!0===this.post.Group.configuration.disableFacebookLoginForGroup?window.appGlobals.disableFacebookLoginForGroup=!0:window.appGlobals.disableFacebookLoginForGroup=!1,this.fire("yp-set-home-link",{type:"group",id:this.post.Group.id,name:this.post.Group.name}),this.post.Group&&this.post.Group.Community&&this.post.Group.Community.configuration&&this.post.Group.Community.configuration.signupTermsPageId&&-1!=this.post.Group.Community.configuration.signupTermsPageId?window.appGlobals.signupTermsPageId=this.post.Group.Community.configuration.signupTermsPageId:window.appGlobals.signupTermsPageId=void 0,window.appGlobals.currentGroup=this.post.Group,this.post.Group.configuration&&this.post.Group.configuration.forceSecureSamlLogin&&!sr.checkGroupAccess(this.post.Group)||this.post.Group.Community&&this.post.Group.Community.configuration&&this.post.Group.Community.configuration.forceSecureSamlLogin&&!sr.checkCommunityAccess(this.post.Group.Community)?window.appGlobals.currentForceSaml=!0:window.appGlobals.currentForceSaml=!1,this.post.Group.configuration&&this.post.Group.configuration.forceSecureSamlLogin||this.post.Group.Community&&this.post.Group.Community.configuration&&this.post.Group.Community.configuration.forceSecureSamlLogin?window.appGlobals.currentForceSaml=!0:window.appGlobals.currentForceSaml=!1,this.post.Group.Community&&this.post.Group.Community.configuration&&this.post.Group.Community.configuration.customSamlDeniedMessage?window.appGlobals.currentSamlDeniedMessage=this.post.Group.Community.configuration.customSamlDeniedMessage:window.appGlobals.currentSamlDeniedMessage=void 0,this.post.Group.configuration&&this.post.Group.configuration.maxNumberOfGroupVotes&&window.appUser.calculateVotesLeftForGroup(this.post.Group))}};t([lt({type:Boolean}),e("design:type",Object)],Yu.prototype,"isAdmin",void 0),t([lt({type:Boolean}),e("design:type",Object)],Yu.prototype,"disableNewPosts",void 0),t([lt({type:String}),e("design:type",String)],Yu.prototype,"currentPage",void 0),t([lt({type:Object}),e("design:type",Object)],Yu.prototype,"post",void 0),t([lt({type:Number}),e("design:type",Number)],Yu.prototype,"scrollToPointId",void 0),t([lt({type:String}),e("design:type",String)],Yu.prototype,"debateCount",void 0),t([lt({type:String}),e("design:type",String)],Yu.prototype,"photosCount",void 0),Yu=t([rt("yp-post"),e("design:paramtypes",[])],Yu);class Xu extends Zl{constructor(){super(...arguments),this.backToDomainCommunityItems={},this.backToCommunityGroupItems={},this.communityItemsCache={},this.groupItemsCache={},this.postItemsCache={},this.autoTranslateCache={}}addPostsToCacheLater(t){const e=Math.floor(1e3*Math.random())+750;setTimeout((()=>{this.addPostsToCache(t)}),e)}addPostsToCache(t){if(t)for(let e=0;e<t.length;e++)this.postItemsCache[t[e].id]||(this.postItemsCache[t[e].id]=t[e]);else console.error("No posts for cache")}getPostFromCache(t){return this.postItemsCache[t]}updatePostInCache(t){this.postItemsCache[t.id]=t}}var tm;let em=tm=class extends Ci{constructor(){super(...arguments),this.groupId=22785}async connectedCallback(){this.groupId=1==this.clusterId?22785:442,super.connectedCallback(),this.group=await window.serverApi.getGroup(this.groupId)}disconnectedCallback(){super.disconnectedCallback()}static get styles(){return[Ko,a`md-dialog[showing-fullscreen]{--_container-max-block-size:100dvh;--md-dialog-container-inset-block-start:0px}.indexNumber{margin-top:12px;font-size:20px;margin-left:8px;margin-right:8px;color:var(--md-sys-color-on-surface)}.cancelButton{margin-right:332px}.postHeader{text-align:center}@media (max-width:800px){#dialog{--_fullscreen-header-block-size:74px}.cancelButton{margin-right:32px}.postHeader{padding:8px;font-size:22px}}[hidden]{display:none!important}`]}scrollUp(){setTimeout((()=>{this.$$("#dialog").contentElement.scrollTop=0}),100)}async cacheAllPosts(){const t=this.simplePosts?.map((t=>t.postId));for(let e=0;e<t.length;e++){let i=tm.postsCache.getPostFromCache(t[e]);i||(i=await window.serverApi.getPost(t[e]),tm.postsCache.addPostsToCache([i]))}}async updatePost(){const t=this.simplePosts?.map((t=>t.postId));if(t){this.currentPostId=t[this.currentIndex];let e=tm.postsCache.getPostFromCache(this.currentPostId);e||(e=await window.serverApi.getPost(this.currentPostId),tm.postsCache.addPostsToCache([e])),this.currentPost=e,this.scrollUp(),this.cacheAllPosts()}}previousPost(){0!==this.currentIndex&&(this.currentIndex=this.currentIndex-1,this.updatePost())}nextPost(){this.currentIndex!==this.simplePosts?.length-1&&(this.currentIndex=this.currentIndex+1,this.updatePost())}open(t,e){this.simplePosts=t,this.currentIndex=e,this.updatePost(),this.dialog.show()}renderContent(){return this.currentPost?N` <yp-post .post="${this.currentPost}" .group="${this.group}"> </yp-post> `:N` <mwc-linear-progress indeterminate></mwc-linear-progress>`}renderFooter(){return N` <div class="layout horizontal"> <md-outlined-icon-button label="Loka" class="cancelButton self-start" @click="${()=>this.dialog.close()}">close</md-outlined-icon-button> <md-outlined-icon-button label="Loka" ?disabled="${0===this.currentIndex}" id="cancel" ?hidden="${this.simplePosts?.length<2}" @click="${this.previousPost}">navigate_before</md-outlined-icon-button> <div class="indexNumber">${this.currentIndex+1}.</div> <md-outlined-icon-button label="Loka" ?hidden="${this.simplePosts?.length<2}" ?disabled="${this.currentIndex===this.simplePosts?.length-1}" id="cancel" @click="${this.nextPost}">navigate_next</md-outlined-icon-button> </div>`}render(){return N`<md-dialog ?fullscreen="${!this.wide}" id="dialog" scrimClickAction=""> <div slot="header" class="postHeader">${this.currentPost?.name}</div> <div id="content"> ${this.renderContent()} </div> <div slot="footer">${this.renderFooter()} </div> </md-dialog> `}};function im(t){return im="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},im(t)}function om(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nm(t){var e=function(t,e){if("object"!==im(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,e||"default");if("object"!==im(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===im(e)?e:String(e)}function sm(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,nm(o.key),o)}}function rm(t,e,i){return e&&sm(t.prototype,e),i&&sm(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function am(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lm(t,e){return lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},lm(t,e)}function dm(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lm(t,e)}function cm(t,e){if(e&&("object"===im(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return am(t)}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hm(t)}function pm(t,e,i){return(e=nm(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function um(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,o=new Array(e);i<e;i++)o[i]=t[i];return o}function mm(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return um(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?um(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gm(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function fm(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?gm(Object(i),!0).forEach((function(e){pm(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):gm(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}em.postsCache=new Xu,t([lt({type:Array}),e("design:type",Array)],em.prototype,"simplePosts",void 0),t([lt({type:Object}),e("design:type",Object)],em.prototype,"group",void 0),t([lt({type:Number}),e("design:type",Number)],em.prototype,"groupId",void 0),t([lt({type:Number}),e("design:type",Number)],em.prototype,"clusterId",void 0),t([lt({type:Number}),e("design:type",Number)],em.prototype,"currentPostId",void 0),t([lt({type:Object}),e("design:type",Object)],em.prototype,"currentPost",void 0),t([lt({type:Number}),e("design:type",Number)],em.prototype,"currentIndex",void 0),t([ht("#dialog"),e("design:type",nr)],em.prototype,"dialog",void 0),em=tm=t([rt("yp-posts-dialog")],em);var vm={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){console&&console[t]&&console[t].apply(console,e)}},ym=new(function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};om(this,t),this.init(e,i)}return rm(t,[{key:"init",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||vm,this.options=e,this.debug=e.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,e,i,o){return o&&!this.debug?null:("string"==typeof t[0]&&(t[0]="".concat(i).concat(this.prefix," ").concat(t[0])),this.logger[e](t))}},{key:"create",value:function(e){return new t(this.logger,fm(fm({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}},{key:"clone",value:function(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new t(this.logger,e)}}]),t}()),bm=function(){function t(){om(this,t),this.observers={}}return rm(t,[{key:"on",value:function(t,e){var i=this;return t.split(" ").forEach((function(t){i.observers[t]=i.observers[t]||[],i.observers[t].push(e)})),this}},{key:"off",value:function(t,e){this.observers[t]&&(e?this.observers[t]=this.observers[t].filter((function(t){return t!==e})):delete this.observers[t])}},{key:"emit",value:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];this.observers[t]&&[].concat(this.observers[t]).forEach((function(t){t.apply(void 0,i)}));this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(e){e.apply(e,[t].concat(i))}))}}]),t}();function _m(){var t,e,i=new Promise((function(i,o){t=i,e=o}));return i.resolve=t,i.reject=e,i}function wm(t){return null==t?"":""+t}function xm(t,e,i){function o(t){return t&&t.indexOf("###")>-1?t.replace(/###/g,"."):t}function n(){return!t||"string"==typeof t}for(var s="string"!=typeof e?[].concat(e):e.split(".");s.length>1;){if(n())return{};var r=o(s.shift());!t[r]&&i&&(t[r]=new i),t=Object.prototype.hasOwnProperty.call(t,r)?t[r]:{}}return n()?{}:{obj:t,k:o(s.shift())}}function km(t,e,i){var o=xm(t,e,Object);o.obj[o.k]=i}function Cm(t,e){var i=xm(t,e),o=i.obj,n=i.k;if(o)return o[n]}function $m(t,e,i){var o=Cm(t,i);return void 0!==o?o:Cm(e,i)}function Tm(t,e,i){for(var o in e)"__proto__"!==o&&"constructor"!==o&&(o in t?"string"==typeof t[o]||t[o]instanceof String||"string"==typeof e[o]||e[o]instanceof String?i&&(t[o]=e[o]):Tm(t[o],e[o],i):t[o]=e[o]);return t}function Sm(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var Im={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Pm(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,(function(t){return Im[t]})):t}var Am="undefined"!=typeof window&&window.navigator&&void 0===window.navigator.userAgentData&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,Om=[" ",",","?","!",";"];function Lm(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function Em(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Lm(Object(i),!0).forEach((function(e){pm(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Lm(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function zm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=hm(t);if(e){var n=hm(this).constructor;i=Reflect.construct(o,arguments,n)}else i=o.apply(this,arguments);return cm(this,i)}}function Dm(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(t){if(t[e])return t[e];for(var o=e.split(i),n=t,s=0;s<o.length;++s){if(!n)return;if("string"==typeof n[o[s]]&&s+1<o.length)return;if(void 0===n[o[s]]){for(var r=2,a=o.slice(s,s+r).join(i),l=n[a];void 0===l&&o.length>s+r;)r++,l=n[a=o.slice(s,s+r).join(i)];if(void 0===l)return;if(null===l)return null;if(e.endsWith(a)){if("string"==typeof l)return l;if(a&&"string"==typeof l[a])return l[a]}var d=o.slice(s+r).join(i);return d?Dm(l,d,i):void 0}n=n[o[s]]}return n}}var Mm=function(t){dm(i,bm);var e=zm(i);function i(t){var o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return om(this,i),o=e.call(this),Am&&bm.call(am(o)),o.data=t||{},o.options=n,void 0===o.options.keySeparator&&(o.options.keySeparator="."),void 0===o.options.ignoreJSONStructure&&(o.options.ignoreJSONStructure=!0),o}return rm(i,[{key:"addNamespaces",value:function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}},{key:"removeNamespaces",value:function(t){var e=this.options.ns.indexOf(t);e>-1&&this.options.ns.splice(e,1)}},{key:"getResource",value:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,s=void 0!==o.ignoreJSONStructure?o.ignoreJSONStructure:this.options.ignoreJSONStructure,r=[t,e];i&&"string"!=typeof i&&(r=r.concat(i)),i&&"string"==typeof i&&(r=r.concat(n?i.split(n):i)),t.indexOf(".")>-1&&(r=t.split("."));var a=Cm(this.data,r);return a||!s||"string"!=typeof i?a:Dm(this.data&&this.data[t]&&this.data[t][e],i,n)}},{key:"addResource",value:function(t,e,i,o){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},s=this.options.keySeparator;void 0===s&&(s=".");var r=[t,e];i&&(r=r.concat(s?i.split(s):i)),t.indexOf(".")>-1&&(o=e,e=(r=t.split("."))[1]),this.addNamespaces(e),km(this.data,r,o),n.silent||this.emit("added",t,e,i,o)}},{key:"addResources",value:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var n in i)"string"!=typeof i[n]&&"[object Array]"!==Object.prototype.toString.apply(i[n])||this.addResource(t,e,n,i[n],{silent:!0});o.silent||this.emit("added",t,e,i)}},{key:"addResourceBundle",value:function(t,e,i,o,n){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},r=[t,e];t.indexOf(".")>-1&&(o=i,i=e,e=(r=t.split("."))[1]),this.addNamespaces(e);var a=Cm(this.data,r)||{};o?Tm(a,i,n):a=Em(Em({},a),i),km(this.data,r,a),s.silent||this.emit("added",t,e,i)}},{key:"removeResourceBundle",value:function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)}},{key:"hasResourceBundle",value:function(t,e){return void 0!==this.getResource(t,e)}},{key:"getResourceBundle",value:function(t,e){return e||(e=this.options.defaultNS),"v1"===this.options.compatibilityAPI?Em(Em({},{}),this.getResource(t,e)):this.getResource(t,e)}},{key:"getDataByLanguage",value:function(t){return this.data[t]}},{key:"hasLanguageSomeTranslations",value:function(t){var e=this.getDataByLanguage(t);return!!(e&&Object.keys(e)||[]).find((function(t){return e[t]&&Object.keys(e[t]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),i}(),Nm={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,i,o,n){var s=this;return t.forEach((function(t){s.processors[t]&&(e=s.processors[t].process(e,i,o,n))})),e}};function Rm(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function Um(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Rm(Object(i),!0).forEach((function(e){pm(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Rm(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function jm(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=hm(t);if(e){var n=hm(this).constructor;i=Reflect.construct(o,arguments,n)}else i=o.apply(this,arguments);return cm(this,i)}}var Vm={},Fm=function(t){dm(i,bm);var e=jm(i);function i(t){var o,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return om(this,i),o=e.call(this),Am&&bm.call(am(o)),function(t,e,i){t.forEach((function(t){e[t]&&(i[t]=e[t])}))}(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,am(o)),o.options=n,void 0===o.options.keySeparator&&(o.options.keySeparator="."),o.logger=ym.create("translator"),o}return rm(i,[{key:"changeLanguage",value:function(t){t&&(this.language=t)}},{key:"exists",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==t)return!1;var i=this.resolve(t,e);return i&&void 0!==i.res}},{key:"extractFromKey",value:function(t,e){var i=void 0!==e.nsSeparator?e.nsSeparator:this.options.nsSeparator;void 0===i&&(i=":");var o=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,n=e.ns||this.options.defaultNS||[],s=i&&t.indexOf(i)>-1,r=!(this.options.userDefinedKeySeparator||e.keySeparator||this.options.userDefinedNsSeparator||e.nsSeparator||function(t,e,i){e=e||"",i=i||"";var o=Om.filter((function(t){return e.indexOf(t)<0&&i.indexOf(t)<0}));if(0===o.length)return!0;var n=new RegExp("(".concat(o.map((function(t){return"?"===t?"\\?":t})).join("|"),")")),s=!n.test(t);if(!s){var r=t.indexOf(i);r>0&&!n.test(t.substring(0,r))&&(s=!0)}return s}(t,i,o));if(s&&!r){var a=t.match(this.interpolator.nestingRegexp);if(a&&a.length>0)return{key:t,namespaces:n};var l=t.split(i);(i!==o||i===o&&this.options.ns.indexOf(l[0])>-1)&&(n=l.shift()),t=l.join(o)}return"string"==typeof n&&(n=[n]),{key:t,namespaces:n}}},{key:"translate",value:function(t,e,o){var n=this;if("object"!==im(e)&&this.options.overloadTranslationOptionHandler&&(e=this.options.overloadTranslationOptionHandler(arguments)),e||(e={}),null==t)return"";Array.isArray(t)||(t=[String(t)]);var s=void 0!==e.returnDetails?e.returnDetails:this.options.returnDetails,r=void 0!==e.keySeparator?e.keySeparator:this.options.keySeparator,a=this.extractFromKey(t[t.length-1],e),l=a.key,d=a.namespaces,c=d[d.length-1],h=e.lng||this.language,p=e.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h&&"cimode"===h.toLowerCase()){if(p){var u=e.nsSeparator||this.options.nsSeparator;return s?{res:"".concat(c).concat(u).concat(l),usedKey:l,exactUsedKey:l,usedLng:h,usedNS:c}:"".concat(c).concat(u).concat(l)}return s?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:c}:l}var m=this.resolve(t,e),g=m&&m.res,f=m&&m.usedKey||l,v=m&&m.exactUsedKey||l,y=Object.prototype.toString.apply(g),b=void 0!==e.joinArrays?e.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject;if(_&&g&&("string"!=typeof g&&"boolean"!=typeof g&&"number"!=typeof g)&&["[object Number]","[object Function]","[object RegExp]"].indexOf(y)<0&&("string"!=typeof b||"[object Array]"!==y)){if(!e.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var w=this.options.returnedObjectHandler?this.options.returnedObjectHandler(f,g,Um(Um({},e),{},{ns:d})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");return s?(m.res=w,m):w}if(r){var x="[object Array]"===y,k=x?[]:{},C=x?v:f;for(var $ in g)if(Object.prototype.hasOwnProperty.call(g,$)){var T="".concat(C).concat(r).concat($);k[$]=this.translate(T,Um(Um({},e),{joinArrays:!1,ns:d})),k[$]===T&&(k[$]=g[$])}g=k}}else if(_&&"string"==typeof b&&"[object Array]"===y)(g=g.join(b))&&(g=this.extendTranslation(g,t,e,o));else{var S=!1,I=!1,P=void 0!==e.count&&"string"!=typeof e.count,A=i.hasDefaultValue(e),O=P?this.pluralResolver.getSuffix(h,e.count,e):"",L=e["defaultValue".concat(O)]||e.defaultValue;!this.isValidLookup(g)&&A&&(S=!0,g=L),this.isValidLookup(g)||(I=!0,g=l);var E=(e.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:g,z=A&&L!==g&&this.options.updateMissing;if(I||S||z){if(this.logger.log(z?"updateKey":"missingKey",h,c,l,z?L:g),r){var D=this.resolve(l,Um(Um({},e),{},{keySeparator:!1}));D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var M=[],N=this.languageUtils.getFallbackCodes(this.options.fallbackLng,e.lng||this.language);if("fallback"===this.options.saveMissingTo&&N&&N[0])for(var R=0;R<N.length;R++)M.push(N[R]);else"all"===this.options.saveMissingTo?M=this.languageUtils.toResolveHierarchy(e.lng||this.language):M.push(e.lng||this.language);var U=function(t,i,o){var s=A&&o!==g?o:E;n.options.missingKeyHandler?n.options.missingKeyHandler(t,c,i,s,z,e):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(t,c,i,s,z,e),n.emit("missingKey",t,c,i,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&P?M.forEach((function(t){n.pluralResolver.getSuffixes(t,e).forEach((function(i){U([t],l+i,e["defaultValue".concat(i)]||L)}))})):U(M,l,L))}g=this.extendTranslation(g,t,e,m,o),I&&g===l&&this.options.appendNamespaceToMissingKey&&(g="".concat(c,":").concat(l)),(I||S)&&this.options.parseMissingKeyHandler&&(g="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(c,":").concat(l):l,S?g:void 0):this.options.parseMissingKeyHandler(g))}return s?(m.res=g,m):g}},{key:"extendTranslation",value:function(t,e,i,o,n){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)t=this.i18nFormat.parse(t,Um(Um({},this.options.interpolation.defaultVariables),i),o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init(Um(Um({},i),{interpolation:Um(Um({},this.options.interpolation),i.interpolation)}));var r,a="string"==typeof t&&(i&&i.interpolation&&void 0!==i.interpolation.skipOnVariables?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(a){var l=t.match(this.interpolator.nestingRegexp);r=l&&l.length}var d=i.replace&&"string"!=typeof i.replace?i.replace:i;if(this.options.interpolation.defaultVariables&&(d=Um(Um({},this.options.interpolation.defaultVariables),d)),t=this.interpolator.interpolate(t,d,i.lng||this.language,i),a){var c=t.match(this.interpolator.nestingRegexp);r<(c&&c.length)&&(i.nest=!1)}!1!==i.nest&&(t=this.interpolator.nest(t,(function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return n&&n[0]===o[0]&&!i.context?(s.logger.warn("It seems you are nesting recursively key: ".concat(o[0]," in key: ").concat(e[0])),null):s.translate.apply(s,o.concat([e]))}),i)),i.interpolation&&this.interpolator.reset()}var h=i.postProcess||this.options.postProcess,p="string"==typeof h?[h]:h;return null!=t&&p&&p.length&&!1!==i.applyPostProcessor&&(t=Nm.handle(p,t,e,this.options&&this.options.postProcessPassResolved?Um({i18nResolved:o},i):i,this)),t}},{key:"resolve",value:function(t){var e,i,o,n,s,r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof t&&(t=[t]),t.forEach((function(t){if(!r.isValidLookup(e)){var l=r.extractFromKey(t,a),d=l.key;i=d;var c=l.namespaces;r.options.fallbackNS&&(c=c.concat(r.options.fallbackNS));var h=void 0!==a.count&&"string"!=typeof a.count,p=h&&!a.ordinal&&0===a.count&&r.pluralResolver.shouldUseIntlApi(),u=void 0!==a.context&&("string"==typeof a.context||"number"==typeof a.context)&&""!==a.context,m=a.lngs?a.lngs:r.languageUtils.toResolveHierarchy(a.lng||r.language,a.fallbackLng);c.forEach((function(t){r.isValidLookup(e)||(s=t,!Vm["".concat(m[0],"-").concat(t)]&&r.utils&&r.utils.hasLoadedNamespace&&!r.utils.hasLoadedNamespace(s)&&(Vm["".concat(m[0],"-").concat(t)]=!0,r.logger.warn('key "'.concat(i,'" for languages "').concat(m.join(", "),'" won\'t get resolved as namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach((function(i){if(!r.isValidLookup(e)){n=i;var s,l=[d];if(r.i18nFormat&&r.i18nFormat.addLookupKeys)r.i18nFormat.addLookupKeys(l,d,i,t,a);else{var c;h&&(c=r.pluralResolver.getSuffix(i,a.count,a));var m="".concat(r.options.pluralSeparator,"zero");if(h&&(l.push(d+c),p&&l.push(d+m)),u){var g="".concat(d).concat(r.options.contextSeparator).concat(a.context);l.push(g),h&&(l.push(g+c),p&&l.push(g+m))}}for(;s=l.pop();)r.isValidLookup(e)||(o=s,e=r.getResource(i,t,s,a))}})))}))}})),{res:e,usedKey:i,exactUsedKey:o,usedLng:n,usedNS:s}}},{key:"isValidLookup",value:function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)}},{key:"getResource",value:function(t,e,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(t,e,i,o):this.resourceStore.getResource(t,e,i,o)}}],[{key:"hasDefaultValue",value:function(t){var e="defaultValue";for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)&&e===i.substring(0,e.length)&&void 0!==t[i])return!0;return!1}}]),i}();function Gm(t){return t.charAt(0).toUpperCase()+t.slice(1)}var Bm=function(){function t(e){om(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ym.create("languageUtils")}return rm(t,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),"x"===e[e.length-1].toLowerCase()?null:this.formatLanguageCode(e.join("-")))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])}},{key:"formatLanguageCode",value:function(t){if("string"==typeof t&&t.indexOf("-")>-1){var e=["hans","hant","latn","cyrl","cans","mong","arab"],i=t.split("-");return this.options.lowerCaseLng?i=i.map((function(t){return t.toLowerCase()})):2===i.length?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),e.indexOf(i[1].toLowerCase())>-1&&(i[1]=Gm(i[1].toLowerCase()))):3===i.length&&(i[0]=i[0].toLowerCase(),2===i[1].length&&(i[1]=i[1].toUpperCase()),"sgn"!==i[0]&&2===i[2].length&&(i[2]=i[2].toUpperCase()),e.indexOf(i[1].toLowerCase())>-1&&(i[1]=Gm(i[1].toLowerCase())),e.indexOf(i[2].toLowerCase())>-1&&(i[2]=Gm(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function(t){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var e,i=this;return t?(t.forEach((function(t){if(!e){var o=i.formatLanguageCode(t);i.options.supportedLngs&&!i.isSupportedCode(o)||(e=o)}})),!e&&this.options.supportedLngs&&t.forEach((function(t){if(!e){var o=i.getLanguagePartFromCode(t);if(i.isSupportedCode(o))return e=o;e=i.options.supportedLngs.find((function(t){if(0===t.indexOf(o))return t}))}})),e||(e=this.getFallbackCodes(this.options.fallbackLng)[0]),e):null}},{key:"getFallbackCodes",value:function(t,e){if(!t)return[];if("function"==typeof t&&(t=t(e)),"string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var i=t[e];return i||(i=t[this.getScriptPartFromCode(e)]),i||(i=t[this.formatLanguageCode(e)]),i||(i=t[this.getLanguagePartFromCode(e)]),i||(i=t.default),i||[]}},{key:"toResolveHierarchy",value:function(t,e){var i=this,o=this.getFallbackCodes(e||this.options.fallbackLng||[],t),n=[],s=function(t){t&&(i.isSupportedCode(t)?n.push(t):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(t)))};return"string"==typeof t&&t.indexOf("-")>-1?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(t))):"string"==typeof t&&s(this.formatLanguageCode(t)),o.forEach((function(t){n.indexOf(t)<0&&s(i.formatLanguageCode(t))})),n}}]),t}(),Hm=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Wm={1:function(t){return Number(t>1)},2:function(t){return Number(1!=t)},3:function(t){return 0},4:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function(t){return Number(0==t?0:1==t?1:2==t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function(t){return Number(1==t?0:t>=2&&t<=4?1:2)},7:function(t){return Number(1==t?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function(t){return Number(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return Number(t>=2)},10:function(t){return Number(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return Number(1==t||11==t?0:2==t||12==t?1:t>2&&t<20?2:3)},12:function(t){return Number(t%10!=1||t%100==11)},13:function(t){return Number(0!==t)},14:function(t){return Number(1==t?0:2==t?1:3==t?2:3)},15:function(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function(t){return Number(t%10==1&&t%100!=11?0:0!==t?1:2)},17:function(t){return Number(1==t||t%10==1&&t%100!=11?0:1)},18:function(t){return Number(0==t?0:1==t?1:2)},19:function(t){return Number(1==t?0:0==t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function(t){return Number(1==t?0:0==t||t%100>0&&t%100<20?1:2)},21:function(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function(t){return Number(1==t?0:2==t?1:(t<0||t>10)&&t%10==0?2:3)}},qm=["v1","v2","v3"],Qm={zero:0,one:1,two:2,few:3,many:4,other:5};var Jm=function(){function t(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};om(this,t),this.languageUtils=e,this.options=o,this.logger=ym.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(i={},Hm.forEach((function(t){t.lngs.forEach((function(e){i[e]={numbers:t.nr,plurals:Wm[t.fc]}}))})),i)}return rm(t,[{key:"addRule",value:function(t,e){this.rules[t]=e}},{key:"getRule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:e.ordinal?"ordinal":"cardinal"})}catch(t){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getRule(t,e);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(t,i).map((function(t){return"".concat(e).concat(t)}))}},{key:"getSuffixes",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=this.getRule(t,i);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort((function(t,e){return Qm[t]-Qm[e]})).map((function(t){return"".concat(e.options.prepend).concat(t)})):o.numbers.map((function(o){return e.getSuffix(t,o,i)})):[]}},{key:"getSuffix",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=this.getRule(t,i);return o?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(o.select(e)):this.getSuffixRetroCompatible(o,e):(this.logger.warn("no plural rule found for: ".concat(t)),"")}},{key:"getSuffixRetroCompatible",value:function(t,e){var i=this,o=t.noAbs?t.plurals(e):t.plurals(Math.abs(e)),n=t.numbers[o];this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]&&(2===n?n="plural":1===n&&(n=""));var s=function(){return i.options.prepend&&n.toString()?i.options.prepend+n.toString():n.toString()};return"v1"===this.options.compatibilityJSON?1===n?"":"number"==typeof n?"_plural_".concat(n.toString()):s():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===t.numbers.length&&1===t.numbers[0]?s():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}},{key:"shouldUseIntlApi",value:function(){return!qm.includes(this.options.compatibilityJSON)}}]),t}();function Zm(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function Km(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Zm(Object(i),!0).forEach((function(e){pm(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Zm(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var Ym=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};om(this,t),this.logger=ym.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(t){return t},this.init(e)}return rm(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escape=void 0!==e.escape?e.escape:Pm,this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.useRawValueToEscape=void 0!==e.useRawValueToEscape&&e.useRawValueToEscape,this.prefix=e.prefix?Sm(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?Sm(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?Sm(e.nestingPrefix):e.nestingPrefixEscaped||Sm("$t("),this.nestingSuffix=e.nestingSuffix?Sm(e.nestingSuffix):e.nestingSuffixEscaped||Sm(")"),this.nestingOptionsSeparator=e.nestingOptionsSeparator?e.nestingOptionsSeparator:e.nestingOptionsSeparator||",",this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.alwaysFormat=void 0!==e.alwaysFormat&&e.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var e="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(e,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(t,e,i,o){var n,s,r,a=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function d(t){return t.replace(/\$/g,"$$$$")}var c=function(t){if(t.indexOf(a.formatSeparator)<0){var n=$m(e,l,t);return a.alwaysFormat?a.format(n,void 0,i,Km(Km(Km({},o),e),{},{interpolationkey:t})):n}var s=t.split(a.formatSeparator),r=s.shift().trim(),d=s.join(a.formatSeparator).trim();return a.format($m(e,l,r),d,i,Km(Km(Km({},o),e),{},{interpolationkey:r}))};this.resetRegExp();var h=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,p=o&&o.interpolation&&void 0!==o.interpolation.skipOnVariables?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(t){return d(t)}},{regex:this.regexp,safeValue:function(t){return a.escapeValue?d(a.escape(t)):d(t)}}].forEach((function(e){for(r=0;n=e.regex.exec(t);){var i=n[1].trim();if(void 0===(s=c(i)))if("function"==typeof h){var l=h(t,n,o);s="string"==typeof l?l:""}else if(o&&Object.prototype.hasOwnProperty.call(o,i))s="";else{if(p){s=n[0];continue}a.logger.warn("missed to pass in variable ".concat(i," for interpolating ").concat(t)),s=""}else"string"==typeof s||a.useRawValueToEscape||(s=wm(s));var d=e.safeValue(s);if(t=t.replace(n[0],d),p?(e.regex.lastIndex+=s.length,e.regex.lastIndex-=n[0].length):e.regex.lastIndex=0,++r>=a.maxReplaces)break}})),t}},{key:"nest",value:function(t,e){var i,o,n,s=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};function a(t,e){var i=this.nestingOptionsSeparator;if(t.indexOf(i)<0)return t;var o=t.split(new RegExp("".concat(i,"[ ]*{"))),s="{".concat(o[1]);t=o[0];var r=(s=this.interpolate(s,n)).match(/'/g),a=s.match(/"/g);(r&&r.length%2==0&&!a||a.length%2!=0)&&(s=s.replace(/'/g,'"'));try{n=JSON.parse(s),e&&(n=Km(Km({},e),n))}catch(e){return this.logger.warn("failed parsing options string in nesting for key ".concat(t),e),"".concat(t).concat(i).concat(s)}return delete n.defaultValue,t}for(;i=this.nestingRegexp.exec(t);){var l=[];(n=(n=Km({},r)).replace&&"string"!=typeof n.replace?n.replace:n).applyPostProcessor=!1,delete n.defaultValue;var d=!1;if(-1!==i[0].indexOf(this.formatSeparator)&&!/{.*}/.test(i[1])){var c=i[1].split(this.formatSeparator).map((function(t){return t.trim()}));i[1]=c.shift(),l=c,d=!0}if((o=e(a.call(this,i[1].trim(),n),n))&&i[0]===t&&"string"!=typeof o)return o;"string"!=typeof o&&(o=wm(o)),o||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(t)),o=""),d&&(o=l.reduce((function(t,e){return s.format(t,e,r.lng,Km(Km({},r),{},{interpolationkey:i[1].trim()}))}),o.trim())),t=t.replace(i[0],o),this.regexp.lastIndex=0}return t}}]),t}();function Xm(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function tg(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Xm(Object(i),!0).forEach((function(e){pm(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Xm(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function eg(t){var e={};return function(i,o,n){var s=o+JSON.stringify(n),r=e[s];return r||(r=t(o,n),e[s]=r),r(i)}}var ig=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};om(this,t),this.logger=ym.create("formatter"),this.options=e,this.formats={number:eg((function(t,e){var i=new Intl.NumberFormat(t,tg({},e));return function(t){return i.format(t)}})),currency:eg((function(t,e){var i=new Intl.NumberFormat(t,tg(tg({},e),{},{style:"currency"}));return function(t){return i.format(t)}})),datetime:eg((function(t,e){var i=new Intl.DateTimeFormat(t,tg({},e));return function(t){return i.format(t)}})),relativetime:eg((function(t,e){var i=new Intl.RelativeTimeFormat(t,tg({},e));return function(t){return i.format(t,e.range||"day")}})),list:eg((function(t,e){var i=new Intl.ListFormat(t,tg({},e));return function(t){return i.format(t)}}))},this.init(e)}return rm(t,[{key:"init",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||","}},{key:"add",value:function(t,e){this.formats[t.toLowerCase().trim()]=e}},{key:"addCached",value:function(t,e){this.formats[t.toLowerCase().trim()]=eg(e)}},{key:"format",value:function(t,e,i){var o=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=e.split(this.formatSeparator).reduce((function(t,e){var s=function(t){var e=t.toLowerCase().trim(),i={};if(t.indexOf("(")>-1){var o=t.split("(");e=o[0].toLowerCase().trim();var n=o[1].substring(0,o[1].length-1);"currency"===e&&n.indexOf(":")<0?i.currency||(i.currency=n.trim()):"relativetime"===e&&n.indexOf(":")<0?i.range||(i.range=n.trim()):n.split(";").forEach((function(t){if(t){var e=mm(t.split(":")),o=e[0],n=e.slice(1).join(":").trim().replace(/^'+|'+$/g,"");i[o.trim()]||(i[o.trim()]=n),"false"===n&&(i[o.trim()]=!1),"true"===n&&(i[o.trim()]=!0),isNaN(n)||(i[o.trim()]=parseInt(n,10))}}))}return{formatName:e,formatOptions:i}}(e),r=s.formatName,a=s.formatOptions;if(o.formats[r]){var l=t;try{var d=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},c=d.locale||d.lng||n.locale||n.lng||i;l=o.formats[r](t,c,tg(tg(tg({},a),n),d))}catch(t){o.logger.warn(t)}return l}return o.logger.warn("there was no format function for ".concat(r)),t}),t);return s}}]),t}();function og(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function ng(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?og(Object(i),!0).forEach((function(e){pm(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):og(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function sg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=hm(t);if(e){var n=hm(this).constructor;i=Reflect.construct(o,arguments,n)}else i=o.apply(this,arguments);return cm(this,i)}}var rg=function(t){dm(i,bm);var e=sg(i);function i(t,o,n){var s,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return om(this,i),s=e.call(this),Am&&bm.call(am(s)),s.backend=t,s.store=o,s.services=n,s.languageUtils=n.languageUtils,s.options=r,s.logger=ym.create("backendConnector"),s.waitingReads=[],s.maxParallelReads=r.maxParallelReads||10,s.readingCalls=0,s.maxRetries=r.maxRetries>=0?r.maxRetries:5,s.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(n,r.backend,r),s}return rm(i,[{key:"queueLoad",value:function(t,e,i,o){var n=this,s={},r={},a={},l={};return t.forEach((function(t){var o=!0;e.forEach((function(e){var a="".concat(t,"|").concat(e);!i.reload&&n.store.hasResourceBundle(t,e)?n.state[a]=2:n.state[a]<0||(1===n.state[a]?void 0===r[a]&&(r[a]=!0):(n.state[a]=1,o=!1,void 0===r[a]&&(r[a]=!0),void 0===s[a]&&(s[a]=!0),void 0===l[e]&&(l[e]=!0)))})),o||(a[t]=!0)})),(Object.keys(s).length||Object.keys(r).length)&&this.queue.push({pending:r,pendingCount:Object.keys(r).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(s),pending:Object.keys(r),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}},{key:"loaded",value:function(t,e,i){var o=t.split("|"),n=o[0],s=o[1];e&&this.emit("failedLoading",n,s,e),i&&this.store.addResourceBundle(n,s,i),this.state[t]=e?-1:2;var r={};this.queue.forEach((function(i){!function(t,e,i,o){var n=xm(t,e,Object),s=n.obj,r=n.k;s[r]=s[r]||[],o&&(s[r]=s[r].concat(i)),o||s[r].push(i)}(i.loaded,[n],s),function(t,e){void 0!==t.pending[e]&&(delete t.pending[e],t.pendingCount--)}(i,t),e&&i.errors.push(e),0!==i.pendingCount||i.done||(Object.keys(i.loaded).forEach((function(t){r[t]||(r[t]={});var e=i.loaded[t];e.length&&e.forEach((function(e){void 0===r[t][e]&&(r[t][e]=!0)}))})),i.done=!0,i.errors.length?i.callback(i.errors):i.callback())})),this.emit("loaded",r),this.queue=this.queue.filter((function(t){return!t.done}))}},{key:"read",value:function(t,e,i){var o=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,r=arguments.length>5?arguments[5]:void 0;if(!t.length)return r(null,{});if(this.readingCalls>=this.maxParallelReads)this.waitingReads.push({lng:t,ns:e,fcName:i,tried:n,wait:s,callback:r});else{this.readingCalls++;var a=function(a,l){if(o.readingCalls--,o.waitingReads.length>0){var d=o.waitingReads.shift();o.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}a&&l&&n<o.maxRetries?setTimeout((function(){o.read.call(o,t,e,i,n+1,2*s,r)}),s):r(a,l)},l=this.backend[i].bind(this.backend);if(2!==l.length)return l(t,e,a);try{var d=l(t,e);d&&"function"==typeof d.then?d.then((function(t){return a(null,t)})).catch(a):a(null,d)}catch(t){a(t)}}}},{key:"prepareLoading",value:function(t,e){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var s=this.queueLoad(t,e,o,n);if(!s.toLoad.length)return s.pending.length||n(),null;s.toLoad.forEach((function(t){i.loadOne(t)}))}},{key:"load",value:function(t,e,i){this.prepareLoading(t,e,{},i)}},{key:"reload",value:function(t,e,i){this.prepareLoading(t,e,{reload:!0},i)}},{key:"loadOne",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=t.split("|"),n=o[0],s=o[1];this.read(n,s,"read",void 0,void 0,(function(o,r){o&&e.logger.warn("".concat(i,"loading namespace ").concat(s," for language ").concat(n," failed"),o),!o&&r&&e.logger.log("".concat(i,"loaded namespace ").concat(s," for language ").concat(n),r),e.loaded(t,o,r)}))}},{key:"saveMissing",value:function(t,e,i,o,n){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},r=arguments.length>6&&void 0!==arguments[6]?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(e))this.logger.warn('did not save key "'.concat(i,'" as the namespace "').concat(e,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=i&&""!==i){if(this.backend&&this.backend.create){var a=ng(ng({},s),{},{isUpdate:n}),l=this.backend.create.bind(this.backend);if(l.length<6)try{var d;(d=5===l.length?l(t,e,i,o,a):l(t,e,i,o))&&"function"==typeof d.then?d.then((function(t){return r(null,t)})).catch(r):r(null,d)}catch(t){r(t)}else l(t,e,i,o,r,a)}t&&t[0]&&this.store.addResource(t[0],e,i,o)}}}]),i}();function ag(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};if("object"===im(t[1])&&(e=t[1]),"string"==typeof t[1]&&(e.defaultValue=t[1]),"string"==typeof t[2]&&(e.tDescription=t[2]),"object"===im(t[2])||"object"===im(t[3])){var i=t[3]||t[2];Object.keys(i).forEach((function(t){e[t]=i[t]}))}return e},interpolation:{escapeValue:!0,format:function(t,e,i,o){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function lg(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function dg(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,o)}return i}function cg(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?dg(Object(i),!0).forEach((function(e){pm(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):dg(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function hg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,o=hm(t);if(e){var n=hm(this).constructor;i=Reflect.construct(o,arguments,n)}else i=o.apply(this,arguments);return cm(this,i)}}function pg(){}var ug=function(t){dm(i,bm);var e=hg(i);function i(){var t,o,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(om(this,i),t=e.call(this),Am&&bm.call(am(t)),t.options=lg(n),t.services={},t.logger=ym,t.modules={external:[]},o=am(t),Object.getOwnPropertyNames(Object.getPrototypeOf(o)).forEach((function(t){"function"==typeof o[t]&&(o[t]=o[t].bind(o))})),s&&!t.isInitialized&&!n.isClone){if(!t.options.initImmediate)return t.init(n,s),cm(t,am(t));setTimeout((function(){t.init(n,s)}),0)}return t}return rm(i,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;"function"==typeof e&&(i=e,e={}),!e.defaultNS&&!1!==e.defaultNS&&e.ns&&("string"==typeof e.ns?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));var o=ag();function n(t){return t?"function"==typeof t?new t:t:null}if(this.options=cg(cg(cg({},o),this.options),lg(e)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=cg(cg({},o.interpolation),this.options.interpolation)),void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),!this.options.isClone){var s;this.modules.logger?ym.init(n(this.modules.logger),this.options):ym.init(null,this.options),this.modules.formatter?s=this.modules.formatter:"undefined"!=typeof Intl&&(s=ig);var r=new Bm(this.options);this.store=new Mm(this.options.resources,this.options);var a=this.services;a.logger=ym,a.resourceStore=this.store,a.languageUtils=r,a.pluralResolver=new Jm(r,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!s||this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format||(a.formatter=n(s),a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new Ym(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new rg(n(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",(function(e){for(var i=arguments.length,o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];t.emit.apply(t,[e].concat(o))})),this.modules.languageDetector&&(a.languageDetector=n(this.modules.languageDetector),a.languageDetector.init&&a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=n(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new Fm(this.services,this.options),this.translator.on("*",(function(e){for(var i=arguments.length,o=new Array(i>1?i-1:0),n=1;n<i;n++)o[n-1]=arguments[n];t.emit.apply(t,[e].concat(o))})),this.modules.external.forEach((function(e){e.init&&e.init(t)}))}if(this.format=this.options.interpolation.format,i||(i=pg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(e){t[e]=function(){var i;return(i=t.store)[e].apply(i,arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(e){t[e]=function(){var i;return(i=t.store)[e].apply(i,arguments),t}}));var d=_m(),c=function(){var e=function(e,o){t.isInitialized&&!t.initializedStoreOnce&&t.logger.warn("init: i18next is already initialized. You should call init just once!"),t.isInitialized=!0,t.options.isClone||t.logger.log("initialized",t.options),t.emit("initialized",t.options),d.resolve(o),i(e,o)};if(t.languages&&"v1"!==t.options.compatibilityAPI&&!t.isInitialized)return e(null,t.t.bind(t));t.changeLanguage(t.options.lng,e)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),d}},{key:"loadResources",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pg,o="string"==typeof t?t:this.language;if("function"==typeof t&&(i=t),!this.options.resources||this.options.partialBundledLanguages){if(o&&"cimode"===o.toLowerCase())return i();var n=[],s=function(t){t&&e.services.languageUtils.toResolveHierarchy(t).forEach((function(t){n.indexOf(t)<0&&n.push(t)}))};if(o)s(o);else this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(t){return s(t)}));this.options.preload&&this.options.preload.forEach((function(t){return s(t)})),this.services.backendConnector.load(n,this.options.ns,(function(t){t||e.resolvedLanguage||!e.language||e.setResolvedLanguage(e.language),i(t)}))}else i(null)}},{key:"reloadResources",value:function(t,e,i){var o=_m();return t||(t=this.languages),e||(e=this.options.ns),i||(i=pg),this.services.backendConnector.reload(t,e,(function(t){o.resolve(),i(t)})),o}},{key:"use",value:function(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===t.type&&(this.modules.backend=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"i18nFormat"===t.type&&(this.modules.i18nFormat=t),"postProcessor"===t.type&&Nm.addPostProcessor(t),"formatter"===t.type&&(this.modules.formatter=t),"3rdParty"===t.type&&this.modules.external.push(t),this}},{key:"setResolvedLanguage",value:function(t){if(t&&this.languages&&!(["cimode","dev"].indexOf(t)>-1))for(var e=0;e<this.languages.length;e++){var i=this.languages[e];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}},{key:"changeLanguage",value:function(t,e){var i=this;this.isLanguageChangingTo=t;var o=_m();this.emit("languageChanging",t);var n=function(t){i.language=t,i.languages=i.services.languageUtils.toResolveHierarchy(t),i.resolvedLanguage=void 0,i.setResolvedLanguage(t)},s=function(s){t||s||!i.services.languageDetector||(s=[]);var r="string"==typeof s?s:i.services.languageUtils.getBestMatchFromCodes(s);r&&(i.language||n(r),i.translator.language||i.translator.changeLanguage(r),i.services.languageDetector&&i.services.languageDetector.cacheUserLanguage&&i.services.languageDetector.cacheUserLanguage(r)),i.loadResources(r,(function(t){!function(t,s){s?(n(s),i.translator.changeLanguage(s),i.isLanguageChangingTo=void 0,i.emit("languageChanged",s),i.logger.log("languageChanged",s)):i.isLanguageChangingTo=void 0,o.resolve((function(){return i.t.apply(i,arguments)})),e&&e(t,(function(){return i.t.apply(i,arguments)}))}(t,r)}))};return t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(t):s(this.services.languageDetector.detect()),o}},{key:"getFixedT",value:function(t,e,i){var o=this,n=function t(e,n){var s;if("object"!==im(n)){for(var r=arguments.length,a=new Array(r>2?r-2:0),l=2;l<r;l++)a[l-2]=arguments[l];s=o.options.overloadTranslationOptionHandler([e,n].concat(a))}else s=cg({},n);s.lng=s.lng||t.lng,s.lngs=s.lngs||t.lngs,s.ns=s.ns||t.ns,s.keyPrefix=s.keyPrefix||i||t.keyPrefix;var d,c=o.options.keySeparator||".";return d=s.keyPrefix&&Array.isArray(e)?e.map((function(t){return"".concat(s.keyPrefix).concat(c).concat(t)})):s.keyPrefix?"".concat(s.keyPrefix).concat(c).concat(e):e,o.t(d,s)};return"string"==typeof t?n.lng=t:n.lngs=t,n.ns=e,n.keyPrefix=i,n}},{key:"t",value:function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var o=this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,s=this.languages[this.languages.length-1];if("cimode"===o.toLowerCase())return!0;var r=function(t,i){var o=e.services.backendConnector.state["".concat(t,"|").concat(i)];return-1===o||2===o};if(i.precheck){var a=i.precheck(this,r);if(void 0!==a)return a}return!!this.hasResourceBundle(o,t)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!r(o,t)||n&&!r(s,t)))}},{key:"loadNamespaces",value:function(t,e){var i=this,o=_m();return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach((function(t){i.options.ns.indexOf(t)<0&&i.options.ns.push(t)})),this.loadResources((function(t){o.resolve(),e&&e(t)})),o):(e&&e(),Promise.resolve())}},{key:"loadLanguages",value:function(t,e){var i=_m();"string"==typeof t&&(t=[t]);var o=this.options.preload||[],n=t.filter((function(t){return o.indexOf(t)<0}));return n.length?(this.options.preload=o.concat(n),this.loadResources((function(t){i.resolve(),e&&e(t)})),i):(e&&e(),Promise.resolve())}},{key:"dir",value:function(t){if(t||(t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!t)return"rtl";var e=this.services&&this.services.languageUtils||new Bm(ag());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(e.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pg,n=cg(cg(cg({},this.options),e),{isClone:!0}),s=new i(n);void 0===e.debug&&void 0===e.prefix||(s.logger=s.logger.clone(e));return["store","services","language"].forEach((function(e){s[e]=t[e]})),s.services=cg({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s.translator=new Fm(s.services,s.options),s.translator.on("*",(function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];s.emit.apply(s,[t].concat(i))})),s.init(n,o),s.translator.options=s.options,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),i}();pm(ug,"createInstance",(function(){return new ug(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}));var mg=ug.createInstance();function gg(t){return gg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gg(t)}mg.createInstance=ug.createInstance,mg.createInstance,mg.dir,mg.init,mg.loadResources,mg.reloadResources,mg.use,mg.changeLanguage,mg.getFixedT,mg.t,mg.exists,mg.setDefaultNamespace,mg.hasLoadedNamespace,mg.loadNamespaces,mg.loadLanguages;var fg,vg=[],yg=vg.forEach,bg=vg.slice;function _g(t){return yg.call(bg.call(arguments,1),(function(e){if(e)for(var i in e)void 0===t[i]&&(t[i]=e[i])})),t}function wg(){return"function"==typeof XMLHttpRequest||"object"===("undefined"==typeof XMLHttpRequest?"undefined":gg(XMLHttpRequest))}if("function"==typeof fetch&&(fg="undefined"!=typeof global&&global.fetch?global.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),"undefined"!=typeof require&&("undefined"==typeof window||void 0===window.document)){var xg=fg||require("cross-fetch");xg.default&&(xg=xg.default),exports.default=xg,module.exports=exports.default}var kg,Cg,$g,Tg=Object.freeze({__proto__:null});function Sg(t){return Sg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(t)}"function"==typeof fetch&&(kg="undefined"!=typeof global&&global.fetch?global.fetch:"undefined"!=typeof window&&window.fetch?window.fetch:fetch),wg()&&("undefined"!=typeof global&&global.XMLHttpRequest?Cg=global.XMLHttpRequest:"undefined"!=typeof window&&window.XMLHttpRequest&&(Cg=window.XMLHttpRequest)),"function"==typeof ActiveXObject&&("undefined"!=typeof global&&global.ActiveXObject?$g=global.ActiveXObject:"undefined"!=typeof window&&window.ActiveXObject&&($g=window.ActiveXObject)),kg||!Tg||Cg||$g||(kg=Tg),"function"!=typeof kg&&(kg=void 0);var Ig=function(t,e){if(e&&"object"===Sg(e)){var i="";for(var o in e)i+="&"+encodeURIComponent(o)+"="+encodeURIComponent(e[o]);if(!i)return t;t=t+(-1!==t.indexOf("?")?"&":"?")+i.slice(1)}return t},Pg=function(t,e,i){kg(t,e).then((function(t){if(!t.ok)return i(t.statusText||"Error",{status:t.status});t.text().then((function(e){i(null,{status:t.status,data:e})})).catch(i)})).catch(i)},Ag=!1,Og=function(t,e,i,o){return"function"==typeof i&&(o=i,i=void 0),o=o||function(){},kg&&0!==e.indexOf("file:")?function(t,e,i,o){t.queryStringParams&&(e=Ig(e,t.queryStringParams));var n=_g({},"function"==typeof t.customHeaders?t.customHeaders():t.customHeaders);i&&(n["Content-Type"]="application/json");var s="function"==typeof t.requestOptions?t.requestOptions(i):t.requestOptions,r=_g({method:i?"POST":"GET",body:i?t.stringify(i):void 0,headers:n},Ag?{}:s);try{Pg(e,r,o)}catch(t){if(!s||0===Object.keys(s).length||!t.message||t.message.indexOf("not implemented")<0)return o(t);try{Object.keys(s).forEach((function(t){delete r[t]})),Pg(e,r,o),Ag=!0}catch(t){o(t)}}}(t,e,i,o):wg()||"function"==typeof ActiveXObject?function(t,e,i,o){i&&"object"===Sg(i)&&(i=Ig("",i).slice(1)),t.queryStringParams&&(e=Ig(e,t.queryStringParams));try{var n;(n=Cg?new Cg:new $g("MSXML2.XMLHTTP.3.0")).open(i?"POST":"GET",e,1),t.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.withCredentials=!!t.withCredentials,i&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.overrideMimeType&&n.overrideMimeType("application/json");var s=t.customHeaders;if(s="function"==typeof s?s():s)for(var r in s)n.setRequestHeader(r,s[r]);n.onreadystatechange=function(){n.readyState>3&&o(n.status>=400?n.statusText:null,{status:n.status,data:n.responseText})},n.send(i)}catch(t){console&&console.log(t)}}(t,e,i,o):void o(new Error("No fetch and no xhr implementation found!"))};function Lg(t){return Lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(t)}function Eg(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,zg(o.key),o)}}function zg(t){var e=function(t,e){if("object"!==Lg(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,e||"default");if("object"!==Lg(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===Lg(e)?e:String(e)}var Dg=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(t){return JSON.parse(t)},stringify:JSON.stringify,parsePayload:function(t,e,i){return function(t,e,i){return(e=zg(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}({},e,i||"")},request:Og,reloadInterval:"undefined"==typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},Mg=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.services=e,this.options=i,this.allOptions=o,this.type="backend",this.init(e,i,o)}var e,i,o;return e=t,i=[{key:"init",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=t,this.options=_g(i,this.options||{},Dg()),this.allOptions=o,this.services&&this.options.reloadInterval&&setInterval((function(){return e.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(t,e,i){this._readAny(t,t,e,e,i)}},{key:"read",value:function(t,e,i){this._readAny([t],t,[e],e,i)}},{key:"_readAny",value:function(t,e,i,o,n){var s,r=this,a=this.options.loadPath;"function"==typeof this.options.loadPath&&(a=this.options.loadPath(t,i)),(a=function(t){return!!t&&"function"==typeof t.then}(s=a)?s:Promise.resolve(s)).then((function(s){if(!s)return n(null,{});var a=r.services.interpolator.interpolate(s,{lng:t.join("+"),ns:i.join("+")});r.loadUrl(a,n,e,o)}))}},{key:"loadUrl",value:function(t,e,i,o){var n=this;this.options.request(this.options,t,void 0,(function(s,r){if(r&&(r.status>=500&&r.status<600||!r.status))return e("failed loading "+t+"; status code: "+r.status,!0);if(r&&r.status>=400&&r.status<500)return e("failed loading "+t+"; status code: "+r.status,!1);if(!r&&s&&s.message&&s.message.indexOf("Failed to fetch")>-1)return e("failed loading "+t+": "+s.message,!0);if(s)return e(s,!1);var a,l;try{a="string"==typeof r.data?n.options.parse(r.data,i,o):r.data}catch(e){l="failed parsing "+t+" to json"}if(l)return e(l,!1);e(null,a)}))}},{key:"create",value:function(t,e,i,o,n){var s=this;if(this.options.addPath){"string"==typeof t&&(t=[t]);var r=this.options.parsePayload(e,i,o),a=0,l=[],d=[];t.forEach((function(i){var o=s.options.addPath;"function"==typeof s.options.addPath&&(o=s.options.addPath(i,e));var c=s.services.interpolator.interpolate(o,{lng:i,ns:e});s.options.request(s.options,c,r,(function(e,i){a+=1,l.push(e),d.push(i),a===t.length&&"function"==typeof n&&n(l,d)}))}))}}},{key:"reload",value:function(){var t=this,e=this.services,i=e.backendConnector,o=e.languageUtils,n=e.logger,s=i.language;if(!s||"cimode"!==s.toLowerCase()){var r=[],a=function(t){o.toResolveHierarchy(t).forEach((function(t){r.indexOf(t)<0&&r.push(t)}))};a(s),this.allOptions.preload&&this.allOptions.preload.forEach((function(t){return a(t)})),r.forEach((function(e){t.allOptions.ns.forEach((function(t){i.read(e,t,"read",null,null,(function(o,s){o&&n.warn("loading namespace ".concat(t," for language ").concat(e," failed"),o),!o&&s&&n.log("loaded namespace ".concat(t," for language ").concat(e),s),i.loaded("".concat(e,"|").concat(t),o,s)}))}))}))}}}],i&&Eg(e.prototype,i),o&&Eg(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();Mg.type="backend";class Ng extends Zl{constructor(t){super(),this.recommendationsGroupCache={},this.recommendationCallbacks={},this.lastRecommendationResponseLengths={},this.currentlyDownloadingIds={},this.preCacheLimit=3,this.serverApi=t}getNextRecommendationForGroup(t,e,i){if(this.currentPostId=e,this.recommendationCallbacks[t]=i,this.recommendationsGroupCache[t])if(this.recommendationsGroupCache[t].length>0){const e=this._getSelectedPost(t);e&&window.appGlobals.showRecommendationInfoIfNeeded(),i(e)}else i(null);else this._getRecommendationsForGroup(t)}_preCacheMediaForPost(t){setTimeout((()=>{let e=null;t.cover_media_type&&"none"!==t.cover_media_type||t.Category?t.cover_media_type&&"none"!==t.cover_media_type||!t.Category?"image"===t.cover_media_type&&(e=this._getImageFormatUrl(t.PostHeaderImages,0)):e=this._getCategoryImagePath(t):e="https://i.imgur.com/sdsFAoT.png",e&&((new Image).src=e)}))}_getImageFormatUrl(t,e){if(!(t&&t.length>0))return"";{const i=JSON.parse(t[t.length-1].formats);if(i&&i.length>0)return i[e]}}_getCategoryImagePath(t){return t&&t.Category&&t.Category.CategoryIconImages?this._getImageFormatUrl(t.Category.CategoryIconImages,0):""}_downloadItemToCache(t){setTimeout((()=>{this.currentlyDownloadingIds[t]?console.warn("Recommendation already downloading: "+t):(this.currentlyDownloadingIds[t]=!0,console.log("Recommendation downloading for cache: "+t),fetch("/api/posts/"+t).then((e=>(this.currentlyDownloadingIds[t]=!1,e.json()))).then((e=>{e?this._preCacheMediaForPost(e):console.error("Recommendation no post to save to cache"),window.appGlobals.cache.postItemsCache[t]=e})).catch((e=>{console.error("Recommendation: Error in getting post for cache",e),this.currentlyDownloadingIds[t]=!1})))}))}_ensureNextItemsAreCached(t){for(let e=0;e<Math.min(this.recommendationsGroupCache[t].length-1,this.preCacheLimit);e++)window.appGlobals.cache.postItemsCache[this.recommendationsGroupCache[t][e].id]||this._downloadItemToCache(this.recommendationsGroupCache[t][e].id)}async _getRecommendationsForGroup(t){const e=await this.serverApi.getRecommendationsForGroup(t);e&&(this.lastRecommendationResponseLengths[t]=e.length,this.recommendationsGroupCache[t]?this.recommendationsGroupCache[t]=this.recommendationsGroupCache[t].concat(e):this.recommendationsGroupCache[t]=e,this.recommendationCallbacks[t]&&(this.recommendationCallbacks[t](this._getSelectedPost(t)),delete this.recommendationCallbacks[t]))}_getSelectedPost(t){if(this.recommendationsGroupCache[t]){let e=this.recommendationsGroupCache[t][0];return e?(e.id===this.currentPostId&&(this.recommendationsGroupCache[t].shift(),e=this.recommendationsGroupCache[t].length>0?this.recommendationsGroupCache[t][0]:null),e&&this._ensureNextItemsAreCached(t),e):(console.warn("Recommendation no post for getSelectedPost, groupId: "+t),null)}return null}reset(){this.recommendationsSeenPostIds={},this.lastRecommendationResponseLengths={},this.recommendationCallbacks={},this.recommendationsGroupCache={}}}class Rg extends Zl{_onlineEvent(){this.showToast(this.t("youAreOnline")),this._checkContentToSend()}_offlineEvent(){this.showToast(this.t("youAreNowOffline"))}_urlWithQuery(t,e){const i=Object.keys(e).filter((t=>void 0!==e[t]&&"object"!=typeof e[t])).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t]))).join("&");return t+=(-1===t.indexOf("?")?"?":"&")+i}_getItemsFromLocalStorage(){const t=[];for(let e=0;e<localStorage.length;e++){const i=localStorage.key(e);i&&i.indexOf(this.sendLaterStoragePrefix)>-1&&t.push({key:i,content:JSON.parse(localStorage.getItem(i))})}return t}_sendItems(t){t.forEach((t=>{const e=t.content;fetch(e.url,{method:e.method,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e.body)}).then((()=>{this.showToast(this.t("storedDataSent")),localStorage.removeItem(t.key)})).catch((t=>{console.error(t),this.showToast(this.t("errorSendingContentWhenOnline"))}))}))}_checkContentToSend(){setTimeout((()=>{const t=this._getItemsFromLocalStorage();t.length>0?navigator.onLine?window.appUser.user?this._sendItems(t):this.showToast(this.t("notLoggedInContentSentWhenLoggedIn")):this.showToast(this.t("offlineContentSentWhenOnline")):navigator.onLine||this.showToast(this.t("youAreOffline"))}),4e3)}checkContentToSendForLoggedInUser(){this._checkContentToSend()}sendWhenOnlineNext(t){setTimeout((()=>{const e=this.sendLaterStoragePrefix+(new Date).getTime();localStorage.setItem(e,JSON.stringify(t)),this.showToast(this.t("offlineContentSentWhenOnline"))}))}constructor(){super(),this.sendLaterStoragePrefix="yp-send-later-",window.addEventListener("online",this._onlineEvent.bind(this)),window.addEventListener("offline",this._offlineEvent.bind(this)),this._checkContentToSend()}}class Ug extends Zl{constructor(){super(...arguments),this.communityTrackerIds={}}setupGoogleAnalytics(t){t.public_api_keys&&t.public_api_keys&&t.public_api_keys.google&&t.public_api_keys.google.analytics_tracking_id?ga("create",t.public_api_keys.google.analytics_tracking_id,"auto"):t.google_analytics_code&&""!=t.google_analytics_code&&ga("create",t.google_analytics_code,"auto"),"function"==typeof ga?(ga("set","anonymizeIp",!0),ga("send","pageview",location.pathname),ga("set","nonInteraction",!0),setTimeout((()=>{ga("set","nonInteraction",!1)}),900)):console.warn("Can't find Google Analytics object")}facebookPixelTracking(t,e=undefined){if(this.pixelTrackerId&&t){let i;i="pageview"===t?"PageView":"event"===t&&e?e:t;new Image(1,1).src="https://www.facebook.com/tr?id="+this.pixelTrackerId+"&ev="+i+"&noscript=1",console.debug("Have sent to Facebook pixel: "+i)}}setCommunityPixelTracker(t){if(t&&""!==t)if(null!=localStorage.getItem("consentGivenForFacebookPixelTracking")){const e=this.pixelTrackerId;this.pixelTrackerId=t,t!==e&&this.facebookPixelTracking("pageview")}else localStorage.getItem("disableFacebookPixelTracking")?console.log("Facebook tracking disabled"):this.fireGlobal("yp-open-pixel-cookie-confirm",t);else this.pixelTrackerId=void 0}setCommunityAnalyticsTracker(t){if(t=t?.trim(),t&&t.length>5){const e=this.communityTrackerId;this.communityTrackerId=t,t!==e&&this.sendToAnalyticsTrackers("sendOnlyCommunity","pageview",location.pathname)}else this.communityTrackerId=void 0}sendToAnalyticsTrackers(t,e,i,o=undefined,n=undefined,s=undefined){if("function"==typeof ga){if("sendOnlyCommunity"!=t&&(ga("send",e,i,o,n,s),console.debug("Analytics global: send "+e+" "+i+" "+o)),this.communityTrackerId){let t="tracker"+this.communityTrackerId.replace(/-/g,"");this.communityTrackerIds[this.communityTrackerId]||(ga("create",this.communityTrackerId,"auto",t),this.communityTrackerIds[this.communityTrackerId]=!0,console.debug("Created tracker: "+t)),t+=".send",console.debug("Analytics: "+t+": "+e+" "+i+" "+o),ga(t,e,i,o,n,s)}}else console.warn("Google analytics message not sent for a:"+t+" b:"+e+" c:"+i+" d:"+o+" e:"+n+" f:"+s);"sendOnlyCommunity"!=t&&this.facebookPixelTracking(e,i)}sendLoginAndSignup(t,e,i,o=undefined){if("function"==typeof ga){let n;t&&ga("set","&uid",t);let s=i;switch(e){case"Signup Success":n={dimension1:t,dimension2:"Yes",dimension3:i,metric1:"1"};break;case"Signup Fail":n={dimension3:i,metric2:"1"},s+=": "+o;break;case"Signup Submit":n={dimension3:i,metric3:"1"};break;case"Login Success":n={dimension1:t,dimension2:"Yes",dimension3:i,metric4:"1"};break;case"Login Fail":n={dimension3:i,metric5:"1"},s+=": "+o;break;case"Login Submit":n={dimension3:i,metric6:"1"};break;case"Signup/Login Opened":n={metric7:"1"}}this.sendToAnalyticsTrackers("send","event","Login and Signup",e,s,n)}}}class jg{constructor(){this.themes=[],this.setLoadingStyles(),this.themes.push({name:"Reykjavík","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#103458","--mdc-theme-secondary":"#ff6500"}),this.themes.push({name:"Basalt Gray","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#37474f","--mdc-theme-secondary":"#ff6500"}),this.themes.push({name:"Green Moss","--mdc-theme-background":"#dcedc8","--mdc-theme-primary":"#558b2f","--mdc-theme-secondary":"#c51162"}),this.themes.push({name:"Google Blue","--mdc-theme-background":"#e3f2fd","--mdc-theme-primary":"#1565c0","--mdc-theme-secondary":"#ff3d00"}),this.themes.push({name:"Red Rhubarb","--mdc-theme-background":"#f1f8e9","--mdc-theme-primary":"#c62828","--mdc-theme-secondary":"#ffd600"}),this.themes.push({name:"Mountain Roses","--mdc-theme-background":"#f1f8e9","--mdc-theme-primary":"#2e7d32","--mdc-theme-secondary":"#d50000"}),this.themes.push({name:"Purple Wizards","--mdc-theme-background":"#ede7f6","--mdc-theme-primary":"#4527a0","--mdc-theme-secondary":"#d50000"}),this.themes.push({name:"Kópavogur","--mdc-theme-background":"#F0F0F0","--mdc-theme-primary":"#004E24","--mdc-theme-secondary":"#ff6500"}),this.themes.push({name:"Forbrukerrådet","--mdc-theme-background":"#f5f5f5","--mdc-theme-primary":"#4b7179","--mdc-theme-secondary":"#d0672f"}),this.themes.push({name:"Forbrukerrådet Fonts","--mdc-theme-background":"#f5f5f5","--mdc-theme-primary":"#4b7179","--mdc-theme-secondary":"#d0672f",fonts:{htmlImport:"/styles/fonts/forbrukerradet-font.html",fontName:"FFClanWebBook"}}),this.themes.push({name:"I choose Malta","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#001a4b","--mdc-theme-secondary":"#d71920"}),this.themes.push({name:"Reykjavík Blue","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#084F71","--mdc-theme-secondary":"#ff6500"}),this.themes.push({name:"Unicorn 1","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#aa3319","--mdc-theme-secondary":"#112e4c"}),this.themes.push({name:"Unicorn 2","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#282828","--mdc-theme-secondary":"#aa3319"}),this.themes.push({name:"Mount Air","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#0d3c55","--mdc-theme-secondary":"#f16c20"}),this.themes.push({name:"Snjallborg","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#1e9ac8","--mdc-theme-secondary":"#ee7aa2"}),this.themes.push({name:"Black","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#282828","--mdc-theme-secondary":"#ff6500"}),this.themes.push({name:"Nesið Okkar","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#525254","--mdc-theme-secondary":"#e0701e"}),this.themes.push({disabled:!0,name:"Snjallborg","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#1e9ac8","--mdc-theme-secondary":"#ee7aa2"}),this.themes.push({disabled:!0,name:"Black","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#282828","--mdc-theme-secondary":"#ff6500"}),this.themes.push({disabled:!0,name:"Nesið Okkar","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#525254","--mdc-theme-secondary":"#e0701e"}),this.themes.push({name:"Iceland","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#282828","--mdc-theme-secondary":"#dc1e35"}),this.themes.push({name:"The Westbourne","--mdc-theme-background":"#f1f8e9","--mdc-theme-primary":"#c62828","--mdc-theme-secondary":"#fbba00"}),this.themes.push({name:"Amsterdam","--mdc-theme-background":"#cfd8dc","--mdc-theme-primary":"#164995","--mdc-theme-secondary":"#ed1b24"}),this.themes.push({name:"AS Roma","--mdc-theme-background":"#DDDBDA","--mdc-theme-primary":"#970a2c","--mdc-theme-secondary":"#fbba00"}),this.themes.push({name:"AS Roma Inverted","--mdc-theme-background":"#DDDBDA","--mdc-theme-primary":"#970a2c","--mdc-theme-secondary":"#1D1D1B"}),this.themes.push({name:"New Jersey","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#56920C","--mdc-theme-secondary":"#1880c7"}),this.themes.push({name:"New Jersey Inverted","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#1880c7","--mdc-theme-secondary":"#56920C"}),this.themes.push({name:"Scottish Parliament","--mdc-theme-background":"#f7f7f7","--mdc-theme-primary":"#500778","--mdc-theme-secondary":"#E87722"}),this.themes.push({name:"RoStartup","--mdc-theme-background":"#F7F7F7","--mdc-theme-primary":"#154164","--mdc-theme-secondary":"#1f52a5","--app-header-font-weight":"500","--app-tags-text-color":"#1f52a5","--app-tags-font-weight":"500",fonts:{htmlImport:"/styles/fonts/rostartup-font.html",fontName:"Montserrat"}}),this.themes.push({name:"wienExtra","--mdc-theme-background":"#F7F7F7","--mdc-theme-primary":"#292929","--mdc-theme-secondary":"#ff0000",fonts:{htmlImport:"/styles/fonts/junges-wien-font.html",fontName:"WienerMelange"}}),this.themes.push({name:"Frumbjörg","--mdc-theme-background":"#fefefe","--mdc-theme-primary":"#17263e","--mdc-theme-secondary":"#1f5d04c3ca5",fonts:{htmlImport:"/styles/fonts/frumbjorg-font.html",fontName:"Merriweather"}})}_setupOverrideTheme(t,e,i){return i||(i="#cfd8dc"),{"--mdc-theme-background":i,"--mdc-theme-primary":t,"--mdc-theme-secondary":e}}setLoadingStyles(){this.updateStyles({"--mdc-theme-background":"#7f7f7f","--mdc-theme-primary":"#333","--mdc-theme-secondary":"#333","--mdc-theme-surface":"#FFF","--mdc-theme-on-primary":"#FFF","--mdc-theme-on-secondary":"#FFF","--mdc-theme-on-surface":"#111","--mdc-theme-on-surface-lighter":"#888","--mdc-typography-headline1-font-size":"22px","--mdc-typography-headline1-font-weight":"700","--mdc-typography-headline2-font-size":"18px","--mdc-typography-headline2-font-weight":"700"})}updateStyles(t){for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&window.app&&window.app.style.setProperty(e,t[e])}_onlyGetStylesFromTheme(t){const e={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&"name"!==i&&"disabled"!==i&&(e[i]=t[i]);return e}setTheme(t,e=undefined){if(e&&e.themeOverrideColorPrimary&&e.themeOverrideColorPrimary.length>5&&e.themeOverrideColorAccent&&e.themeOverrideColorAccent.length>5?(6===e.themeOverrideColorPrimary.length&&(e.themeOverrideColorPrimary="#"+e.themeOverrideColorPrimary),6===e.themeOverrideColorAccent.length&&(e.themeOverrideColorAccent="#"+e.themeOverrideColorAccent),e.themeOverrideBackgroundColor&&6===e.themeOverrideBackgroundColor.length&&(e.themeOverrideBackgroundColor="#"+e.themeOverrideBackgroundColor),this.updateStyles(this._setupOverrideTheme(e.themeOverrideColorPrimary,e.themeOverrideColorAccent,e.themeOverrideBackgroundColor))):void 0!==t&&this.themes[t]&&this.updateStyles(this._onlyGetStylesFromTheme(this.themes[t])),t&&this.themes[t]&&("wienExtra"===this.themes[t].originalName||"RoStartup"===this.themes[t].originalName||"Frumbjörg"===this.themes[t].originalName)){const t=new CustomEvent("yp-large-font",{detail:!0,bubbles:!0,composed:!0});document.dispatchEvent(t)}else if(t&&this.themes[t]){const t=new CustomEvent("yp-large-font",{detail:!1,bubbles:!0,composed:!0});document.dispatchEvent(t)}}}class Vg extends Zl{constructor(t){super(),this.seenWelcome=!1,this.resetSeenWelcome=!1,this.disableWelcome=!1,this.activityHost="",this.groupConfigOverrides={},this.currentForceSaml=!1,this.disableFacebookLoginForGroup=!1,this.originalQueryParameters={},this.externalGoalCounter=0,this.autoTranslate=!1,this.goalTriggerEvents=["newPost","endorse_up","endorse_down","newPointFor","newPointAgainst"],this.haveLoadedLanguages=!1,this.hasTranscriptSupport=!1,this.hasVideoUpload=!1,this.hasAudioUpload=!1,this.groupLoadNewPost=!1,this.appStartTime=new Date,this.serverApi=t,this.recommendations=new Ng(t),this.cache=new Xu,this.analytics=new Ug,this.theme=new jg,this.offline=new Rg,this.boot(),this.hasVideoUploadSupport(),this.hasAudioUploadSupport(),this.fireGlobal("app-ready"),this.parseQueryString(),this.addGlobalListener("yp-logged-in",this._userLoggedIn.bind(this))}showRecommendationInfoIfNeeded(){localStorage.getItem("ypHaveShownRecommendationInfo")||(localStorage.setItem("ypHaveShownRecommendationInfo","1"),this.fireGlobal("yp-notify-dialog",{text:this.t("recommendationToastInfo")}))}showSpeechToTextInfoIfNeeded(){window.appGlobals.hasTranscriptSupport&&!localStorage.getItem("haveShownTranscriptInfo")&&(localStorage.setItem("haveShownTranscriptInfo","1"),this.fireGlobal("yp-notify-dialog",{text:this.t("speechToTextInfo")}))}async hasVideoUploadSupport(){const t=await this.serverApi.hasVideoUploadSupport();t&&(window.appGlobals.hasVideoUpload=t.hasVideoUploadSupport,window.appGlobals.hasTranscriptSupport=t.hasTranscriptSupport,this.fireGlobal("yp-has-video-upload"))}sendVideoView(t){this.serverApi.sendVideoView({videoId:t}),this.activity("view","video",t)}sendLongVideoView(t){this.serverApi.sendVideoView({videoId:t,longPlaytime:!0}),this.activity("view","videoLong",t)}async hasAudioUploadSupport(){const t=await this.serverApi.hasAudioUploadSupport();t&&(window.appGlobals.hasAudioUpload=t.hasAudioUploadSupport,this.fireGlobal("yp-has-audio-upload"))}sendAudioListen(t){this.serverApi.sendAudioView({audioId:t}),this.activity("view","audio",t)}sendLongAudioListen(t){this.serverApi.sendAudioView({audioId:t,longPlaytime:!0}),this.activity("view","audioLong",t)}changeLocaleIfNeededAfterWait(t,e){!0===window.appGlobals.haveLoadedLanguages&&t&&this.language!=t&&(!e&&localStorage.getItem("yp-user-locale")||mg.changeLanguage(t,(()=>{this.fireGlobal("yp-language-loaded",{language:t}),this.fireGlobal("language-loaded",{language:t})})))}setHighlightedLanguages(t){this.highlightedLanguages=t,this.fireGlobal("yp-refresh-language-selection")}changeLocaleIfNeeded(t,e=!1){window.appGlobals.haveLoadedLanguages?this.changeLocaleIfNeededAfterWait(t,e):setTimeout((()=>{console.warn("Locales not loaded while trying to load languages, trying again in 100 ms"),this.changeLocaleIfNeeded(t,e)}),100)}parseQueryString(){const t=(window.location.search||"?").substr(1),e={};t.split("&").forEach((t=>{const i=t.split("="),o=decodeURIComponent(i[0]),n=decodeURIComponent(i.length>1?i[1]:"");e[o]=n})),this.originalQueryParameters=e}setAnonymousUser(t){this.currentAnonymousUser=t}setRegistrationQuestionGroup(t){t&&t.configuration&&t.configuration.registrationQuestionsJson?(this.registrationQuestionsGroup=t,window.appUser.checkRegistrationAnswersCurrent()):this.registrationQuestionsGroup=void 0}setAnonymousGroupStatus(t){t&&t.configuration&&(t.configuration.allowAnonymousUsers||t.configuration.allowOneTimeLoginWithName)?(this.currentAnonymousGroup=t,!window.appUser.user&&this.currentAnonymousUser?window.appUser.setLoggedInUser(this.currentAnonymousUser):window.appUser&&!window.appUser.user&&t.configuration.allowAnonymousAutoLogin&&this.originalQueryParameters&&this.originalQueryParameters.autoLogin&&window.appUser.autoAnonymousLogin()):(window.appUser&&window.appUser.user&&window.appUser.user.profile_data&&window.appUser.user.profile_data.isAnonymousUser&&window.appUser.removeAnonymousUser(),this.currentAnonymousGroup=void 0)}_domainChanged(t){t&&this.fireGlobal("yp-domain-changed",{domain:t})}notifyUserViaToast(t){this.fireGlobal("yp-open-toast",{text:t})}reBoot(){this.boot()}_userLoggedIn(t){const e=t.detail;e&&setTimeout((()=>{"function"==typeof ga&&ga("set","&uid",e.id)}),250),this.recommendations.reset()}setupTranslationSystem(t=""){const e=window.location.hostname;let i="en";if(e.indexOf("betrireykjavik")>-1)i="is";else if(e.indexOf("betraisland")>-1)i="is";else if(e.indexOf("forbrukerradet")>-1)i="no";else{const t=e.substring(e.lastIndexOf("."));i={".fr":"fr",".hr":"hr",".hu":"hu",".is":"is",".nl":"nl",".no":"no",".pl":"pl",".tw":"zh_TW"}[t]||"en"}const o=localStorage.getItem("yp-user-locale");let n;o&&(i=o),window.appGlobals.originalQueryParameters&&window.appGlobals.originalQueryParameters.locale&&(n=window.appGlobals.originalQueryParameters.locale),window.appGlobals.originalQueryParameters&&window.appGlobals.originalQueryParameters.startAutoTranslate&&setTimeout((()=>{this.startTranslation()}),2500),n&&n.length>1&&(i=n,localStorage.setItem("yp-user-locale",n)),mg.use(Mg).init({lng:i,fallbackLng:"en",backend:{loadPath:`${t}/locales/{{lng}}/{{ns}}.json`}},(()=>{window.appGlobals.locale=i,window.appGlobals.i18nTranslation=mg,window.appGlobals.haveLoadedLanguages=!0,this.fireGlobal("yp-language-loaded",{language:i}),this.fireGlobal("language-loaded",{language:i})}))}startTranslation(){window.appGlobals.autoTranslate=!0,this.fireGlobal("yp-auto-translate",!0),window.appDialogs.getDialogAsync("masterToast",(t=>{t.labelText=this.t("autoTranslationStarted"),t.open=!0}))}stopTranslation(){window.appGlobals.autoTranslate=!1,this.fireGlobal("yp-auto-translate",!1),window.appDialogs.getDialogAsync("masterToast",(t=>{t.labelText=this.t("autoTranslationStopped"),t.open=!0})),sessionStorage.setItem("dontPromptForAutoTranslation","1")}async boot(){const t=await this.serverApi.boot();t&&(this.domain=t.domain,this._domainChanged(this.domain),"/"==window.location.pathname&&(t.community&&t.community.configuration&&t.community.configuration.redirectToGroupId?ql.redirectTo("/group/"+t.community.configuration.redirectToGroupId):t.community&&!t.community.is_community_folder?ql.redirectTo("/community/"+t.community.id):t.community&&t.community.is_community_folder?ql.redirectTo("/community_folder/"+t.community.id):(ql.redirectTo("/domain/"+this.domain.id),this.fireGlobal("yp-change-header",{headerTitle:this.domain.domain_name,headerDescription:this.domain.description}))))}setupGroupConfigOverride(t,e){const i={};e.split(";").forEach((function(t){const e=t.split("=");i[e[0]]=e[1]})),this.groupConfigOverrides[t]=i,i.ln&&this.changeLocaleIfNeeded(i.ln,!0)}overrideGroupConfigIfNeeded(t,e){e||(e={});const i=this.groupConfigOverrides[t];return i?(i.hg&&(e.hideGroupHeader=Boolean(i.hg)),i.ht&&(e.hideAllTabs=Boolean(i.ht)),i.hh&&(e.hideHelpIcon=Boolean(i.hh)),i.rn&&(e.customBackName=i.rn),i.ru&&(e.customBackURL=i.ru),e):e}postLoadGroupProcessing(t){this.originalQueryParameters.yu&&(this.serverApi.marketingTrackingOpen(t.id,this.originalQueryParameters),this.externalGoalTriggerGroupId=t.id,this.goalTriggerEvents=["newPost","newPointFor","newPointAgainst"],this.originalQueryParameters.goalThreshold=1)}checkExternalGoalTrigger(t){this.externalGoalTriggerGroupId&&this.originalQueryParameters&&this.originalQueryParameters.goalThreshold&&this.goalTriggerEvents.indexOf(t)>-1&&(this.externalGoalCounter+=1,this.externalGoalCounter==this.originalQueryParameters.goalThreshold&&this.serverApi.triggerTrackingGoal(this.externalGoalTriggerGroupId,this.originalQueryParameters))}activity(t,e,i=undefined,o=undefined){let n;n=window.appUser&&window.appUser.user?window.appUser.user.id:"-1";let s="activity stream: "+n+" "+t+" "+e;console.log(s),i&&(s+=" "+i),"open"==t?setTimeout((()=>{this.analytics.sendToAnalyticsTrackers("send","event",e,t)}),25):this.analytics.sendToAnalyticsTrackers("send","event",e,t),this.serverApi.createActivityFromApp({actor:n,type:t,object:e,target:JSON.stringify(o),context:i||"",path_name:location.pathname,event_time:(new Date).toISOString(),session_id:this.getSessionFromCookie(),user_agent:navigator.userAgent}),"completed"!==t&&"clicked"!==t||this.checkExternalGoalTrigger(e)}setSeenWelcome(){this.seenWelcome=!0,localStorage.setItem("yrpri-welcome-status","1")}getSessionFromCookie(){const t=document.cookie.split(";");let e="";for(let i=0;i<t.length;i++){const o=t[i].split("=")[0],n=t[i].split("=")[1];" connect.sid"==o&&(e=n)}return e}}const Fg=1,Gg=2,Bg=3,Hg=4,Wg=5,qg=6;let Qg=class extends Ci{constructor(){super(),this.pageIndex=6,this.collectionType="domain",this.themeColor="#013B70";const t=window.location.href.split("/");this.clusterId=parseInt(t[t.length-3]),window.serverApi=new Yl(this.getServerUrlFromClusterId(this.clusterId)),window.appGlobals=new Vg(window.serverApi)}getServerUrlFromClusterId(t){return 1==t?"https://betrireykjavik.is/api":3==t?"https://ypus.org/api":"https://yrpri.org/api"}connectedCallback(){super.connectedCallback(),this._setupEventListeners();const t=localStorage.getItem("md3-yrpri-promotion-color");t&&this.fireGlobal("yp-theme-color",t),setTimeout((()=>{}),500)}disconnectedCallback(){super.disconnectedCallback(),this._removeEventListeners()}openPosts(t){this.postsDialogs.open(t.detail.posts,t.detail.index)}updateThemeDarkMode(t){this.themeDarkMode=t.detail,this.themeChanged()}themeChanged(t=undefined){!function(t,e){const i=e?.target||document.body;if(Xe(i,e?.dark?t.schemes.dark:t.schemes.light),e?.brightnessSuffix&&(Xe(i,t.schemes.dark,"-dark"),Xe(i,t.schemes.light,"-light")),e?.paletteTones){const o=e?.paletteTones??[];for(const[e,n]of Object.entries(t.palettes)){const t=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();for(const e of o){const o=`--md-ref-palette-${t}-${t}${e}`,s=Je(n.tone(e));i.style.setProperty(o,s)}}}}(Ye(Ze(this.themeColor),[{name:"up-vote",value:Ze("#0F0"),blend:!0},{name:"down-vote",value:Ze("#F00"),blend:!0}]),{target:t||this,dark:void 0===this.themeDarkMode?window.matchMedia("(prefers-color-scheme: dark)").matches:this.themeDarkMode})}snackbarclosed(){this.lastSnackbarText=void 0}tabChanged(t){0==t.detail.activeIndex?this.pageIndex=1:1==t.detail.activeIndex?this.pageIndex=2:2==t.detail.activeIndex&&(this.pageIndex=4)}exitToMainApp(){window.location.href="/"}async _displaySnackbar(t){this.lastSnackbarText=t.detail,await this.updateComplete}_setupEventListeners(){this.addListener("app-error",this._appError),this.addListener("display-snackbar",this._displaySnackbar)}_removeEventListeners(){this.removeListener("display-snackbar",this._displaySnackbar)}updated(t){super.updated(t),(t.has("themeColor")||t.has("themeDarkMode"))&&this.themeChanged(document.body)}_appError(t){console.error(t.detail.message),this.currentError=t.detail.message}get adminConfirmed(){return!0}_settingsColorChanged(t){this.fireGlobal("yp-theme-color",t.detail.value)}static get styles(){return[Ko,a`:host{background-color:var(--md-sys-color-surface,#fefefe)}body{background-color:var(--md-sys-color-surface,#fefefe)}.analyticsHeaderText{font-size:var(--md-sys-typescale-headline-large-size,18px);margin-top:16px;margin-bottom:16px}.ypLogo{margin-top:16px}.rightPanel{margin-left:16px;width:100%}md-list-item{--md-list-list-item-container-color:var(--md-sys-color-surface);color:var(--md-sys-color-on-surface);--md-list-list-item-label-text-color:var(--md-sys-color-on-surface)}.selectedContainer{--md-list-list-item-container-color:var(
            --md-sys-color-secondary-container
          );color:var(--md-sys-color-on-secondary-container);--md-list-list-item-label-text-color:var(
            --md-sys-color-on-secondary-container
          )}md-navigation-drawer{--md-navigation-drawer-container-color:var(--md-sys-color-surface)}md-list{--md-list-container-color:var(--md-sys-color-surface)}.topAppBar{border-radius:48px;background-color:var(--md-sys-color-primary-container);color:var(--md-sys-color-on-primary-container);margin-top:32px;padding:0;padding-left:32px;padding-right:32px;text-align:center}.collectionLogoImage{width:120px;height:68px;margin-right:16px;margin-left:16px}.mainPageContainer{margin-top:16px}yp-promotion-dashboard{max-width:1100px}`]}updateThemeColor(t){this.themeColor=t.detail}NOTUSED_renderPage(){if(!this.adminConfirmed)return N`<yp-ai-chat></yp-ai-chat>`;switch(this.pageIndex){case Bg:return N` ${xi(N`<yp-email-templates> </yp-email-templates>`)} `;case qg:return N`<yp-chat-assistant @theme-dark-mode="${this.updateThemeDarkMode}" @theme-color="${this.updateThemeColor}"></yp-chat-assistant>`;case Gg:case Hg:case Fg:return N`Not in this hackathon template`;case Wg:return N` ${xi(N`<yp-promotion-settings .collectionType="${this.collectionType}" @color-changed="${this._settingsColorChanged}"> </yp-promotion-settings>`)} `;default:return N` <p>Page not found try going to <a href="#main">Main</a></p> `}}renderTopBar(){return N` <div class="layout vertical center-center"> <div class="layout horizontal topAppBar"> <div class="layout horizontal headerContainer"> <div class="analyticsHeaderText layout horizontal center-center"> <div> <img class="collectionLogoImage" src=""> </div> <div>Hackathon template</div> </div> </div> </div> </div> `}renderNavigationBar(){return this.wide?N` <md-navigation-drawer opened> <div class="layout horizontal headerContainer"> <div class="analyticsHeaderText layout horizontal center-center"> <div> <yp-image class="collectionLogoImage" sizing="contain" src="https://yrpri-eu-direct-assets.s3-eu-west-1.amazonaws.com/YpLogos/YourPriorites-Trans-Wide.png"></yp-image> </div> <div></div> </div> </div> <md-list> <md-list-item class="${1==this.pageIndex&&"selectedContainer"}" @click="${()=>this.pageIndex=1}" headline="${this.t("Analytics")}" supportingText="${this.t("Historical and realtime")}"> <md-list-item-icon slot="start"> <md-icon>insights</md-icon> </md-list-item-icon></md-list-item> <md-list-item class="${2==this.pageIndex&&"selectedContainer"}" @click="${()=>this.pageIndex=2}" headline="${this.t("Promotion")}" supportingText="${"posts"==this.collectionType?this.t("Promote your idea"):this.t("Promote your project")}"> <md-list-item-icon slot="start"><md-icon>ads_click</md-icon></md-list-item-icon></md-list-item> <md-list-item class="${3==this.pageIndex&&"selectedContainer"}" @click="${()=>this.pageIndex=3}" ?hidden="${"posts"==this.collectionType}" headline="${this.t("Email Templates")}" supportingText="${this.t("Send promotional emails")}"> <md-list-item-icon slot="start"><md-icon><span class="material-symbols-outlined">schedule_send</span></md-icon></md-list-item-icon></md-list-item> <md-list-item class="${4==this.pageIndex&&"selectedContainer"}" @click="${()=>this.pageIndex=4}" ?hidden="${"posts"==this.collectionType}" headline="${this.t("AI Analysis")}" supportingText="${this.t("Text analysis with AI")}"> <md-list-item-icon slot="start"><md-icon>document_scanner</md-icon></md-list-item-icon></md-list-item> <md-list-divider></md-list-divider> <md-list-item class="${5==this.pageIndex&&"selectedContainer"}" @click="${()=>this.pageIndex=5}" headline="${this.t("Setting")}" supportingText="${this.t("Theme, language, etc.")}"> <md-list-item-icon slot="start"><md-icon>settings</md-icon></md-list-item-icon></md-list-item> <md-list-item headline="${this.t("Exit")}" supportingText="${this.t("Exit back to project")}" @click="${this.exitToMainApp}"> <md-list-item-icon slot="start"><md-icon>arrow_back</md-icon></md-list-item-icon></md-list-item> <div class="layout horizontal center-center"> <div> <img class="ypLogo" height="65" alt="Your Priorities Logo" src="https://yrpri-eu-direct-assets.s3-eu-west-1.amazonaws.com/YpLogos/YourPriorites-Trans-Wide.png"> </div> </div> </md-list> </md-navigation-drawer> `:N` <div class="navContainer"> <md-navigation-bar @navigation-bar-activated="${this.tabChanged}"> <md-navigation-tab .label="${this.t("Analytics")}"><md-icon slot="activeIcon">insights</md-icon> <md-icon slot="inactiveIcon">insights</md-icon></md-navigation-tab> <md-navigation-tab .label="${this.t("Campaign")}"> <md-icon slot="activeIcon">ads_click</md-icon> <md-icon slot="inactiveIcon">ads_click</md-icon> </md-navigation-tab> <md-navigation-tab .label="${this.t("Settings")}"> <md-icon slot="activeIcon">settings</md-icon> <md-icon slot="inactiveIcon">settings</md-icon> </md-navigation-tab> </md-navigation-bar> </div> `}render(){return N`<yp-posts-dialog id="postsDialogs" .clusterId="${this.clusterId}"></yp-posts-dialog><yp-chat-assistant @theme-dark-mode="${this.updateThemeDarkMode}" @theme-color="${this.updateThemeColor}" @open-posts="${this.openPosts}"></yp-chat-assistant>`}renderOld(){}};t([lt({type:Number}),e("design:type",Object)],Qg.prototype,"pageIndex",void 0),t([lt({type:String}),e("design:type",String)],Qg.prototype,"lastSnackbarText",void 0),t([lt({type:String}),e("design:type",Object)],Qg.prototype,"collectionType",void 0),t([lt({type:Number}),e("design:type",Number)],Qg.prototype,"clusterId",void 0),t([lt({type:String}),e("design:type",String)],Qg.prototype,"currentError",void 0),t([lt({type:String}),e("design:type",Object)],Qg.prototype,"themeColor",void 0),t([ht("#postsDialogs"),e("design:type",em)],Qg.prototype,"postsDialogs",void 0),Qg=t([rt("yp-ai-assistant-app"),e("design:paramtypes",[])],Qg);
