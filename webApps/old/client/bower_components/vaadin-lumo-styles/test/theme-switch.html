<!doctype html>
<html>
<head>
<script src="../../webcomponentsjs/webcomponents-loader.js"></script>
<link rel="import" href="../color.html">
<link rel="import" href="../../vaadin-button/vaadin-button.html">
<link rel="import" href="../../polymer/lib/elements/dom-bind.html">


<custom-style>
  <style include="lumo-typography lumo-color"></style>
</custom-style>
</head>
<body>


<dom-bind>
  <template>
    <div theme="dark">
      <h1>Dark</h1>
      This can toggle light/dark in all browsers except IE11/EdgeHTML14.
      <br>
      This can also be applied to the HTML element directly.
      <br>
      <vaadin-button on-click="_toggle">Toggle</vaadin-button>
    </div>
    <script>
      window.addEventListener('WebComponentsReady', function() {
        document.querySelector('dom-bind')._toggle = function(e) {
          if (e.target.parentNode.hasAttribute('theme')) {
            e.target.parentNode.removeAttribute('theme');
            e.target.parentNode.querySelector('h1').innerHTML = 'Light';
          } else {
            e.target.parentNode.setAttribute('theme', 'dark');
            e.target.parentNode.querySelector('h1').innerHTML = 'Dark';
          }
        };
      });
    </script>
  </template>
</dom-bind>


<dark-ui theme="dark"></dark-ui>


<dom-module id="dark-ui">
  <template>
    <style include="lumo-color-legacy lumo-typography">
      :host {
        display: block;
      }
    </style>

    <h1>Dark</h1>
    This can toggle light/dark in all browsers.
    <br>
    <vaadin-button on-click="_toggle">Toggle</vaadin-button>
  </template>
  <script>
    window.addEventListener('WebComponentsReady', function() {
      class DarkUI extends Polymer.Element {
        static get is() {
          return 'dark-ui';
        }

        _toggle() {
          if (this.hasAttribute('theme')) {
            this.removeAttribute('theme');
            this.root.querySelector('h1').innerHTML = 'Light';
          } else {
            this.setAttribute('theme', 'dark');
            this.root.querySelector('h1').innerHTML = 'Dark';
          }
          this.updateStyles();
        }
      }
      customElements.define(DarkUI.is, DarkUI);
    });
  </script>
</dom-module>

</body>
</html>
