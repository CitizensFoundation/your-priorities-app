<div hidden=""by-polymer-bundler=""><dom-module id="yp-duplicate-collection"assetpath="../yp-app-globals/"><template><style include="iron-flex iron-flex-alignment">.additionalSettings{padding-top:16px;}paper-textarea{padding-top:16px;}.groupName{cursor:pointer;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><yp-edit-dialog id="editDialog"title="[[editHeaderText]]"icon="language"confirmation-text="[[t('close')]]"action="[[action]]"method="[[method]]"params="[[params]]"save-text="[[saveText]]"toast-text="[[toastText]]"><paper-input id="name"name="name"type="text"label="[[t('newName')]]"value="{{community.name}}"maxlength="60"minlength="1"required=""char-counter=""class="mainInput"></paper-input><paper-input id="hostname"name="hostname"type="text"allowed-pattern="[a-z0-9-]"label="[[t('newHostname')]]"value="{{community.hostname}}"maxlength="80"minlength="1"required="[[!community.is_community_folder]]"char-counter=""class="mainInput"></paper-input><paper-input id="google_analytics_code"name="google_analytics_code"type="text"label="[[t('newAnalyticsTrackerCode')]]"value="{{community.google_analytics_code}}"maxlength="40"style="width: 200px;"></paper-input><paper-progress id="progress"hidden=""></paper-progress><div class="layout horizontal center-center"><yp-ajax method="PUT"id="duplicatCollectionAjax"on-response="_duplicateCollectionResponse"></yp-ajax><yp-ajax method="PUT"id="duplicatCollectionProgressAjax"on-response="_duplicatCollectionProgressResponse"></yp-ajax></div></yp-edit-dialog></template></dom-module><script>Polymer({is:"yp-duplicate-collection",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypEditDialogBehavior,Polymer.AccessHelpers],properties:{action:{type:String,value:"/api/communities"},community:{type:Object},group:{type:Object}},_selectGroup:function(t){this.set("selectedGroupId",t.target.getAttribute("data-args"));var e=t.target.getAttribute("data-args-name");Polymer.dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(t){t.open(this.t("post.confirmMove")+' "'+this.post.name+'" '+this.t("to")+' "'+e+'"',this._reallyMove.bind(this))}.bind(this))},_reallyDuplicate:function(){this.$.movePostAjax.url="/api/communities/"+this.community.id+"/duplicate",this.$.movePostAjax.body={},this.$.movePostAjax.generateRequest()},_duplicateCollectionResponse:function(){this.$.progress.hidden=!1},_clear:function(){this.set("community",null),this.set("group",null)},setupAndOpen:function(t,e){this.set("community",t),this.set("community.name","COPY - "+t.name),this.set("community.hostname","copy-"+t.hostname),this.set("refreshFunction",e),this._setupTranslation(),this.open()},_setupTranslation:function(){this.set("editHeaderText",this.t("duplicateCommunity")),this.set("toastText",this.t("haveDuplicatedCommunity")),this.set("saveText",this.t("duplicate"))}})</script></div>