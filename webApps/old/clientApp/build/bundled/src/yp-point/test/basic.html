<!doctypehtml><meta charset="UTF-8"><title>yp-points-actions tests</title><meta name="viewport"content="width=device-width,initial-scale=1,maximum-scale=1"><script>window.customElements||document.write("\x3c!--")</script><script src="../../../bower_components/webcomponentsjs/custom-elements-es5-adapter.js"></script><!--! do not remove --><script src="../../../bower_components/webcomponentsjs/webcomponents-lite.js"></script><script src="../../../bower_components/web-component-tester/browser.js"></script><script src="../../../bower_components/test-fixture/test-fixture-mocha.js"></script><link rel="import"href="../../../bower_components/test-fixture/test-fixture.html"><script src="../../i18next-1.7.4.min.js"></script><link rel="import"href="../../yp-app-globals/yp-app-globals.html"><link rel="import"href="../yp-point-actions.html"><body><yp-app-globals disable-welcome=""></yp-app-globals><test-fixture id="basic"><template is="dom-template"><yp-point-actions point="{{point}}"style="width:300px;"></yp-point-actions></template></test-fixture><script>suite("point quality counted correctly",function(){test("point quality count correct",function(){var e=fixture("basic",{point:{PointQualities:[{value:1},{value:-1},{value:1},{value:-1},{value:-1},{value:1},{value:1},{value:1}]}}),t=e.point;expect(t.PointQualities).to.be.eql([{value:1},{value:-1},{value:1},{value:-1},{value:-1},{value:1},{value:1},{value:1}]),expect(e.voteCount(t.PointQualities,"up")).to.be.equal("5"),expect(e.voteCount(t.PointQualities,"down")).to.be.equal("3")}),test("displays counters",function(){var e=fixture("basic",{point:{PointQualities:[{value:1},{value:-1},{value:1},{value:-1},{value:-1},{value:1},{value:1},{value:1}]}});expect(e.innerHTML).to.include("5"),expect(e.innerHTML).to.include("3")}),test("point up vote dialog is displayed",function(t){fixture("basic",{point:{PointQualities:[{value:1},{value:-1},{value:1},{value:-1},{value:-1},{value:1},{value:1},{value:1}]}}).querySelector(".point-up-vote-icon").click(),this.async(function(){var e=document.querySelector("#dialog");expect(e.opened).to.be.equal(!0),t()})}),test("point down vote dialog is displayed",function(t){fixture("basic",{point:{PointQualities:[{value:1},{value:-1},{value:1},{value:-1},{value:-1},{value:1},{value:1},{value:1}]}}).querySelector(".point-down-vote-icon").click(),this.async(function(){var e=document.querySelector("#dialog");expect(e.opened).to.be.equal(!0),t()})})})</script>