{"version":3,"file":"yp-user-image.js","sourceRoot":"","sources":["../../src/yp-user/yp-user-image.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css, nothing } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\n\nimport { YpBaseElement } from '../common/yp-base-element.js';\nimport { YpMediaHelpers } from '../common/YpMediaHelpers.js';\nimport '../common/yp-image.js';\n\n@customElement('yp-user-image')\nexport class YpUserImage extends YpBaseElement {\n  @property({ type: Boolean })\n  veryLarge = false;\n\n  @property({ type: Boolean })\n  large = false;\n\n  @property({ type: Boolean })\n  medium = false;\n\n  @property({ type: String })\n  titleFromUser: string | undefined;\n\n  @property({ type: Object })\n  user!: YpUserData;\n\n  @property({ type: Boolean })\n  noDefault = false;\n\n  @property({ type: Boolean })\n  noProfileImage = false;\n\n  @property({ type: Boolean })\n  useImageBorder = false;\n\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        yp-image {\n          display: block;\n          vertical-align: text-top;\n          height: 48px;\n          width: 48px;\n        }\n\n        yp-image[use-image-border] {\n          border: 1px solid var(--md-sys-color-primary-container, #F00);\n        }\n\n        .small {\n          height: 30px;\n          width: 30px;\n        }\n\n        .large {\n          height: 90px;\n          width: 90px;\n        }\n\n        .medium {\n          height: 40px;\n          width: 40px;\n        }\n\n        .veryLarge {\n          height: 200px;\n          width: 200px;\n        }\n\n        .rounded {\n          -webkit-border-radius: 25px;\n          -moz-border-radius: 25px;\n          border-radius: 25px;\n          display: block;\n          -webkit-transform-style: preserve-3d;\n        }\n\n        .rounded-more {\n          -webkit-border-radius: 50px;\n          -moz-border-radius: 50px;\n          border-radius: 50px;\n          display: block;\n          vertical-align: top;\n          align: top;\n          -webkit-transform-style: preserve-3d;\n        }\n\n        .rounded-even-more {\n          -webkit-border-radius: 115px;\n          -moz-border-radius: 125px;\n          border-radius: 125px;\n          display: block;\n          vertical-align: top;\n          align: top;\n          -webkit-transform-style: preserve-3d;\n        }\n\n        .rounded img {\n          opacity: 0;\n        }\n\n        .rounded-more img {\n          opacity: 0;\n        }\n      `,\n    ];\n  }\n\n  override render() {\n    return html`\n      ${this.user\n        ? html`\n            ${this.profileImageUrl\n              ? html`\n                  <yp-image\n                    sizing=\"cover\"\n                    ?use-image-border=\"${this.useImageBorder}\"\n                    .alt=\"${this.userTitle}\"\n                    .title=\"${this.userTitle}\"\n                    preload\n                    src=\"${this.profileImageUrl}\"\n                    class=\"${this.computeClass}\"></yp-image>\n                `\n              : nothing}\n            ${!this.profileImageUrl\n              ? html`\n                  ${this.user.facebook_id\n                    ? html`\n                        <yp-image\n                          sizing=\"cover\"\n                          ?hidden=\"${this.profileImageUrl}\"\n                          .alt=\"${this.userTitle}\"\n                          .title=\"${this.userTitle}\"\n                          preload\n                          .src=\"${this.computeFacebookSrc}\"\n                          class=\"${this.computeClass}\"></yp-image>\n                      `\n                    : nothing}\n                  ${!this.user.facebook_id\n                    ? html`\n                        <yp-image\n                          sizing=\"cover\"\n                          .title=\"${this.userTitle}\"\n                          .alt=\"${this.userTitle}\"\n                          preload\n                          src=\"https://s3.amazonaws.com/better-reykjavik-paperclip-production/instances/buddy_icons/000/000/001/icon_50/default_profile.png\"\n                          class=\"${this.computeClass}\"></yp-image>\n                      `\n                    : nothing}\n                `\n              : nothing}\n          `\n        : nothing}\n    `;\n  }\n\n  get userTitle() {\n    if (this.user) {\n      if (this.titleFromUser) {\n        return this.titleFromUser;\n      } else {\n        return this.user.name;\n      }\n    } else {\n      return '';\n    }\n  }\n\n  get profileImageUrl() {\n    if (\n      this.user &&\n      this.user.UserProfileImages &&\n      this.user.UserProfileImages.length > 0\n    ) {\n      const formatUrl = YpMediaHelpers.getImageFormatUrl(\n        this.user.UserProfileImages,\n        0\n      );\n      if (formatUrl && formatUrl !== '') {\n        this.noProfileImage = false;\n        return formatUrl;\n      } else {\n        this.noProfileImage = true;\n        return null;\n      }\n    } else {\n      this.noProfileImage = true;\n      return null;\n    }\n  }\n\n  get computeClass() {\n    //TODO: Add back very-large if needed\n    if (this.medium) return \"medium rounded\";\n    else if (!this.large && !this.veryLarge) return 'small rounded';\n    else if (this.large) return 'large rounded-more';\n    else if (this.veryLarge) return 'veryLarge rounded-even-more';\n    else return 'medium rounded';\n  }\n\n  get computeFacebookSrc() {\n    if (this.user && this.user.facebook_id) {\n      return 'https://graph.facebook.com/' + this.user.facebook_id + '/picture';\n    } else {\n      return undefined;\n    }\n  }\n}\n"]}