{"version":3,"file":"yp-user-info.js","sourceRoot":"","sources":["../../src/yp-user/yp-user-info.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,KAAK,CAAC;AAChC,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAE5D,OAAO,qCAAqC,CAAC;AAC7C,OAAO,yCAAyC,CAAC;AAEjD,OAAO,EAAE,aAAa,EAAE,MAAM,8BAA8B,CAAC;AAE7D,OAAO,oBAAoB,CAAC;AAC5B,OAAO,EAAE,YAAY,EAAE,MAAM,2BAA2B,CAAC;AACzD,OAAO,EAAE,eAAe,EAAE,MAAM,8BAA8B,CAAC;AAGxD,IAAM,UAAU,GAAhB,MAAM,UAAW,SAAQ,aAAa;IAAtC;;QAKL,8BAAyB,GAAG,KAAK,CAAC;IAkHpC,CAAC;IAhHC,MAAM,KAAc,MAAM;QACxB,OAAO;YACL,KAAK,CAAC,MAAM;YACZ,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAuCF;SACF,CAAC;IACJ,CAAC;IAED,0BAA0B;IACjB,MAAM;QACb,OAAO,IAAI,CAAA;QACP,IAAI,CAAC,IAAI;YACT,CAAC,CAAC,IAAI,CAAA;;;;;;2BAMa,IAAI,CAAC,IAAI;4BACR,IAAI,CAAC,SAAS;;;;oCAIN,IAAI,CAAC,IAAI,CAAC,IAAI;qCACb,IAAI,CAAC,IAAI,CAAC,KAAK;;gDAEJ,IAAI,CAAC,SAAS;uBACvC,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC;;;uDAGa,IAAI,CAAC,yBAAyB;uBAC9D,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC;;;gDAGM,IAAI,CAAC,sBAAsB,cAAc,CAAC,IAAI,CAAC,yBAAyB;uBACjG,IAAI,CAAC,CAAC,CAAC,oBAAoB,CAAC;;;gDAGH,IAAI,CAAC,OAAO;uBACrC,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC;;;;;WAKjC;YACH,CAAC,CAAC,IAAI,CAAA,EAAE;KACX,CAAC;IACJ,CAAC;IAEQ,iBAAiB;QACxB,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC1B,IAAI,CAAC,yBAAyB,GAAG,eAAe,CAAC,iBAAiB,CAAC,MAAM,CAAC,UAAU,CAAC,MAAsB,CAAC,CAAC;IAC/G,CAAC;IAED,sBAAsB;QACpB,YAAY,CAAC,UAAU,CAAC,qBAAqB,MAAM,CAAC,UAAU,CAAC,MAAM,EAAE,EAAE,EAAE,CAAC,CAAC;IAC/E,CAAC;IAED,yBAAyB;QACvB,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE,0BAA0B,CAAC,CAAC;QAC/D,YAAY;QACZ;;;aAGK;IACP,CAAC;IAED,SAAS;QACP,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,CAAC;IAC9B,CAAC;IAED,OAAO;QACL,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE,CAAC;IAC1B,CAAC;CACF,CAAA;AArHC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;wCACT;AAGlB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;6DACM;AALvB,UAAU;IADtB,aAAa,CAAC,cAAc,CAAC;GACjB,UAAU,CAuHtB","sourcesContent":["import { html, css } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\nimport \"@material/web/button/text-button.js\";\nimport \"@material/web/button/outlined-button.js\";\n\nimport { YpBaseElement } from \"../common/yp-base-element.js\";\n\nimport \"./yp-user-image.js\";\nimport { YpNavHelpers } from \"../common/YpNavHelpers.js\";\nimport { YpAccessHelpers } from \"../common/YpAccessHelpers.js\";\n\n@customElement(\"yp-user-info\")\nexport class YpUserInfo extends YpBaseElement {\n  @property({ type: Object })\n  user!: YpUserData;\n\n  @property({ type: Boolean })\n  showCreateNewOrganization = false;\n\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        :host {\n          display: block;\n        }\n\n        .avatar-container {\n          position: relative;\n          border: 2px solid var(--md-sys-color-primary);\n          border-radius: 50%;\n          height: 90px;\n          padding: 2px;\n          width: 90px;\n          margin: 20px auto;\n        }\n\n        .contact-info {\n          margin: 0 20px;\n          padding-bottom: 4px;\n          text-align: center;\n        }\n\n        .contact-info .name {\n          font-weight: bold;\n        }\n\n        .contact-info .email {\n        }\n\n        .buttons {\n          margin-top: 8px;\n        }\n\n        .hasPointer {\n          cursor: pointer;\n        }\n        md-outlined-button {\n          margin-top: 12px;\n          margin-bottom: 8px;\n        }\n      `,\n    ];\n  }\n\n  //TODO: Renable My content\n  override render() {\n    return html`\n      ${this.user\n        ? html`\n            <div class=\"mainContainer\">\n              <div class=\"avatar-container\">\n                <yp-user-image\n                  class=\"hasPointer\"\n                  large\n                  .user=\"${this.user}\"\n                  @click=\"${this._openEdit}\"\n                ></yp-user-image>\n              </div>\n              <div class=\"contact-info\">\n                <div class=\"name\">${this.user.name}</div>\n                <div class=\"email\">${this.user.email}</div>\n                <div class=\"layout vertical center-justified buttons\">\n                  <md-outlined-button @click=\"${this._openEdit}\"\n                    >${this.t(\"user.edit\")}</md-outlined-button\n                  >\n\n                  <md-outlined-button hidden @click=\"${this._openAllContentModeration}\"\n                    >${this.t(\"myContent\")}</md-outlined-button\n                  >\n\n                  <md-outlined-button @click=\"${this._createNewOrganization}\" ?hidden=\"${!this.showCreateNewOrganization}\"\n                    >${this.t(\"createOrganization\")}</md-outlined-button\n                  >\n\n                  <md-outlined-button @click=\"${this._logout}\"\n                    >${this.t(\"user.logout\")}</md-outlined-button\n                  >\n                </div>\n              </div>\n            </div>\n          `\n        : html``}\n    `;\n  }\n\n  override connectedCallback() {\n    super.connectedCallback();\n    this.showCreateNewOrganization = YpAccessHelpers.checkDomainAccess(window.appGlobals.domain as YpDomainData);\n  }\n\n  _createNewOrganization() {\n    YpNavHelpers.redirectTo(`/admin/domain/new/${window.appGlobals.domain?.id}`);\n  }\n\n  _openAllContentModeration() {\n    window.appGlobals.activity(\"open\", \"userAllContentModeration\");\n    //TODO: News\n    /*window.appDialogs.getContentModerationAsync( (dialog) => {\n      dialog.setup(null, null, null, '/moderate_all_content', this.user.id);\n      dialog.open(this.user.name);\n    });*/\n  }\n\n  _openEdit() {\n    this.fire(\"open-user-edit\");\n  }\n\n  _logout() {\n    window.appUser.logout();\n  }\n}\n"]}