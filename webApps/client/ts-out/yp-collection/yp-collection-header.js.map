{"version":3,"file":"yp-collection-header.js","sourceRoot":"","sources":["../../src/yp-collection/yp-collection-header.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css, nothing } from \"lit\";\nimport { property, customElement } from \"lit/decorators.js\";\n\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nimport { unsafeHTML } from \"lit/directives/unsafe-html.js\";\n\nimport { YpBaseElement } from \"../common/yp-base-element.js\";\nimport { YpAccessHelpers } from \"../common/YpAccessHelpers.js\";\nimport { YpMediaHelpers } from \"../common/YpMediaHelpers.js\";\nimport { ShadowStyles } from \"../common/ShadowStyles.js\";\nimport { MdMenu, Menu } from \"@material/web/menu/menu.js\";\nimport { YpCollectionHelpers } from \"../common/YpCollectionHelpers.js\";\n\nimport \"../common/yp-image.js\";\nimport \"@material/web/iconbutton/outlined-icon-button.js\";\nimport \"@material/web/iconbutton/filled-tonal-icon-button.js\";\nimport \"@material/web/menu/menu.js\";\nimport \"@material/web/menu/menu-item.js\";\n\nimport \"../yp-magic-text/yp-magic-text.js\";\nimport \"./yp-collection-stats.js\";\nimport { YpNavHelpers } from \"../common/YpNavHelpers.js\";\n\n@customElement(\"yp-collection-header\")\nexport class YpCollectionHeader extends YpBaseElement {\n  @property({ type: Object })\n  collection: YpCollectionData | undefined;\n\n  @property({ type: String })\n  collectionType: string | undefined;\n\n  @property({ type: Boolean })\n  hideImage = false;\n\n  @property({ type: Number })\n  flaggedContentCount: number | undefined;\n\n  @property({ type: Number })\n  collectionVideoId: number | undefined;\n\n  @property({ type: String })\n  welcomeHTML: string | undefined;\n\n  playStartedAt: Date | undefined;\n  videoPlayListener: Function | undefined;\n  videoPauseListener: Function | undefined;\n  videoEndedListener: Function | undefined;\n  audioPlayListener: Function | undefined;\n  audioPauseListener: Function | undefined;\n  audioEndedListener: Function | undefined;\n\n  override connectedCallback() {\n    super.connectedCallback();\n    this.addGlobalListener(\n      \"yp-got-admin-rights\",\n      this.requestUpdate.bind(this)\n    );\n    this.addGlobalListener(\n      \"yp-pause-media-playback\",\n      this._pauseMediaPlayback.bind(this)\n    );\n  }\n\n  override disconnectedCallback() {\n    super.disconnectedCallback();\n    this.removeGlobalListener(\"yp-got-admin-rights\", this.requestUpdate);\n    this.removeGlobalListener(\n      \"yp-pause-media-playback\",\n      this._pauseMediaPlayback\n    );\n    YpMediaHelpers.detachMediaListeners(this as YpElementWithPlayback);\n  }\n\n  override firstUpdated(\n    changedProperties: Map<string | number | symbol, unknown>\n  ) {\n    super.firstUpdated(changedProperties);\n    YpMediaHelpers.attachMediaListeners(this as YpElementWithPlayback);\n  }\n\n  override updated(changedProperties: Map<string | number | symbol, unknown>) {\n    super.updated(changedProperties);\n\n    // TODO: Test this well is it working as expected\n    if (changedProperties.has(\"collection\")) {\n      YpMediaHelpers.detachMediaListeners(this as YpElementWithPlayback);\n    }\n\n    if (this.collection) {\n      YpMediaHelpers.attachMediaListeners(this as YpElementWithPlayback);\n    }\n  }\n\n  _pauseMediaPlayback() {\n    YpMediaHelpers.pauseMediaPlayback(this as YpElementWithPlayback);\n  }\n\n  _menuSelection(event: CustomEvent) {\n    debugger;\n    if (this.collection) {\n      if (event.detail.item.id === \"editMenuItem\")\n        window.location.href = `/admin/${this.collectionType}/${this.collection.id}`;\n      else if (event.detail.item.id === \"openAnalyticsApp\")\n        window.location.href = `/analytics/${this.collectionType}/${this.collection.id}`;\n      (this.$$(\"#adminMenu\") as MdMenu).close();\n    }\n  }\n\n  get hasCollectionAccess(): boolean {\n    switch (this.collectionType) {\n      case \"domain\":\n        return YpAccessHelpers.checkDomainAccess(\n          this.collection as YpDomainData\n        );\n      case \"community\":\n        return YpAccessHelpers.checkCommunityAccess(\n          this.collection as YpCommunityData\n        );\n      case \"group\":\n        return YpAccessHelpers.checkGroupAccess(this.collection as YpGroupData);\n      default:\n        return false;\n    }\n  }\n\n  get collectionVideos(): Array<YpVideoData> | undefined {\n    switch (this.collectionType) {\n      case \"domain\":\n        return (this.collection as YpDomainData).DomainLogoVideos;\n      case \"community\":\n        return (this.collection as YpCommunityData).CommunityLogoVideos;\n      case \"group\":\n        return (this.collection as YpGroupData).GroupLogoVideos;\n      default:\n        return undefined;\n    }\n  }\n\n  get openMenuLabel(): string {\n    switch (this.collectionType) {\n      case \"domain\":\n        return this.t(\"openDomainMenu\");\n      case \"community\":\n        return this.t(\"openCommunityMenu\");\n      case \"group\":\n        return this.t(\"openGroupMenu\");\n      default:\n        return \"Open menu\";\n    }\n  }\n\n  get collectionHeaderImages(): Array<YpImageData> | undefined {\n    switch (this.collectionType) {\n      case \"domain\":\n        return (this.collection as YpDomainData).DomainHeaderImages;\n      case \"community\":\n        return (this.collection as YpCommunityData).CommunityHeaderImages;\n      case \"group\":\n        return (this.collection as YpGroupData).GroupHeaderImages;\n      default:\n        return undefined;\n    }\n  }\n\n  get collectionVideoURL(): string | undefined {\n    if (\n      this.collection &&\n      this.collection.configuration &&\n      this.collection.configuration.useVideoCover\n    ) {\n      const collectionVideos = this.collectionVideos;\n      if (collectionVideos) {\n        const videoURL = YpMediaHelpers.getVideoURL(collectionVideos);\n        if (videoURL) {\n          this.collectionVideoId = collectionVideos[0].id;\n          return videoURL;\n        }\n      }\n      return undefined;\n    } else {\n      return undefined;\n    }\n  }\n\n  get collectionVideoPosterURL(): string | undefined {\n    if (\n      this.collection &&\n      this.collection.configuration &&\n      this.collection.configuration.useVideoCover\n    ) {\n      const videoPosterURL = YpMediaHelpers.getVideoPosterURL(\n        this.collectionVideos,\n        YpCollectionHelpers.logoImages(this.collectionType, this.collection)\n      );\n      if (videoPosterURL) {\n        return videoPosterURL;\n      } else {\n        return undefined;\n      }\n    } else {\n      return undefined;\n    }\n  }\n\n  get collectionHeaderImagePath(): string | undefined {\n    return YpMediaHelpers.getImageFormatUrl(this.collectionHeaderImages, 0);\n  }\n\n  _openAnalyticsAndPromotions() {\n    YpNavHelpers.redirectTo(\n      `/analytics/${this.collectionType}/${this.collection!.id}`\n    );\n  }\n\n  _openAdmin() {\n    YpNavHelpers.redirectTo(\n      `/admin/${this.collectionType}/${this.collection!.id}`\n    );\n  }\n\n  _openCreateGroupFolder() {}\n\n  // UI\n\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        .stats {\n          width: 100%;\n          text-align: right;\n          justify-content: flex-end;\n          margin-left: -8px;\n          margin-top: 8px;\n        }\n\n        .bannerImage {\n          width: 100%;\n          height: 169px;\n          object-fit: cover;\n        }\n\n        .nameAndActions {\n          width: 100%;\n          margin-top: 64px;\n          margin-bottom: 24px;\n        }\n\n        .allContent {\n          margin-left: 64px;\n          margin-right: 64px;\n        }\n\n        .collection-name {\n          font-family: var(\n            --md-ref-typeface-brand\n          ); /*var(--md-sys-typescale-title-medium-font);*/\n          font-size: var(--md-sys-typescale-title-medium-size, 36px);\n          font-weight: var(--md-sys-typescale-title-medium-weight, 700);\n          line-height: var(--md-sys-typescale-title-medium-line-height);\n          text-align: left;\n        }\n\n        .collection-name[widetext] {\n          font-size: var(--mdc-typography-headline1-widetext-font-size, 20px);\n        }\n\n        .collection-name[largeFont] {\n          font-size: var(--mdc-typography-headline1-widetext-font-size, 20px);\n        }\n\n        .nameText {\n          border-radius: 16px;\n        }\n\n        .descriptionContainer {\n          width: 100%;\n          min-width: 532px;\n        }\n\n        .description {\n          padding-left: 32px;\n        }\n\n        .description[hide-logo-image] {\n          padding-left: 0;\n        }\n\n        .image,\n        video {\n          width: 420px;\n          height: 236px;\n        }\n\n        .textBox {\n          margin-left: 32px;\n          position: relative;\n        }\n\n        .description {\n          font-size: 18px;\n          font-weight: 400;\n          line-height: 1.5;\n        }\n\n        .description[widetext] {\n          font-size: 14px;\n        }\n\n        #welcomeHTML {\n          width: 420px;\n          max-width: 420px;\n          overflow: hidden;\n        }\n\n        :host {\n          margin-bottom: 32px;\n        }\n\n        .topContainer {\n          margin: 0;\n          max-width: 1080px;\n          width: 100%;\n        }\n\n        md-filled-tonal-icon-button {\n          margin-left: 32px;\n        }\n\n        .collectionDescriptionimageCard {\n          margin-top: 8px;\n        }\n\n        @media (max-width: 960px) {\n          :host {\n            max-width: 423px;\n            padding: 0 !important;\n            padding-top: 8px !important;\n            width: 100%;\n            margin-top: 8px;\n          }\n\n          #welcomeHTML {\n            width: 306px;\n            max-width: 306px;\n          }\n\n          .descriptionContainer {\n            width: 100%;\n            min-width: 100%;\n          }\n\n          .collectionDescription {\n            width: 100%;\n            height: 100%;\n            margin-left: 8px;\n            margin-right: 8px;\n            margin-top: 8px !important;\n          }\n\n          .top-card {\n            margin-bottom: 16px;\n          }\n\n          yp-image,\n          video,\n          .image {\n            width: 100%;\n            height: 230px;\n          }\n\n          .imageCard {\n            height: 230px;\n          }\n\n          .imageCard[is-video] {\n            background-color: transparent;\n          }\n\n          .collection-name {\n            font-size: 22px;\n            padding-bottom: 9px;\n            min-height: 28px;\n          }\n\n          .description {\n            padding-bottom: 42px;\n          }\n\n          .textBox {\n            margin-left: 8px;\n          }\n        }\n\n        @media (max-width: 375px) {\n          yp-image,\n          video,\n          .image {\n            height: 225px;\n          }\n\n          .imageCard {\n            height: 225px;\n          }\n        }\n\n        @media (max-width: 375px) {\n          yp-image,\n          video,\n          .image {\n            height: 207px;\n          }\n\n          .imageCard {\n            height: 205px;\n          }\n        }\n\n        @media (max-width: 360px) {\n          yp-image,\n          video,\n          .image {\n            height: 200px;\n          }\n\n          .imageCard {\n            height: 200px;\n          }\n        }\n\n        @media (max-width: 320px) {\n          yp-image,\n          video,\n          .image {\n            height: 180px;\n          }\n\n          .imageCard {\n            height: 180px;\n          }\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n\n        a {\n          text-decoration: none;\n          color: inherit;\n        }\n      `,\n    ];\n  }\n\n  renderMediaContent() {\n    if (this.collection?.configuration?.welcomeHTML) {\n      return html`<div id=\"welcomeHTML\">\n        ${unsafeHTML(this.collection.configuration.welcomeHTML)}\n      </div>`;\n    } else if (this.collectionVideoURL) {\n      return html`\n        <video\n          id=\"videoPlayer\"\n          data-id=\"${ifDefined(this.collectionVideoId)}\"\n          controls\n          preload=\"metadata\"\n          class=\"image\"\n          src=\"${this.collectionVideoURL}\"\n          playsinline\n          poster=\"${ifDefined(this.collectionVideoPosterURL)}\"\n        ></video>\n      `;\n    } else if (this.collection && !this.hideLogoImage) {\n      return html`\n        <yp-image\n          class=\"image\"\n          ?hidden=\"${this.hideImage}\"\n          .alt=\"${this.collection.name}\"\n          sizing=\"cover\"\n          .src=\"${YpCollectionHelpers.logoImagePath(\n            this.collectionType,\n            this.collection\n          )}\"\n        ></yp-image>\n      `;\n    } else {\n      return nothing;\n    }\n  }\n\n  renderFooter() {\n    return html``;\n  }\n\n  renderMenu() {\n    return html`\n      <div class=\"menuButton\">\n        <div class=\"layout horizontal\">\n          <md-filled-tonal-icon-button\n            ?hidden=\"${this.collectionType === \"group\"}\"\n            @click=\"${this._openCreateGroupFolder}\"\n            title=\"${this.openMenuLabel}\"\n            ><md-icon>create_new_folder</md-icon>\n          </md-filled-tonal-icon-button>\n          <md-filled-tonal-icon-button\n            @click=\"${this._openAnalyticsAndPromotions}\"\n            title=\"${this.openMenuLabel}\"\n            ><md-icon>monitoring</md-icon>\n          </md-filled-tonal-icon-button>\n          <md-filled-tonal-icon-button\n            @click=\"${this._openAdmin}\"\n            title=\"${this.openMenuLabel}\"\n            ><md-icon>settings</md-icon>\n          </md-filled-tonal-icon-button>\n        </div>\n      </div>\n    `;\n  }\n\n  renderStats() {\n    return html`\n      <div class=\"layout horizontal stats\">\n        <yp-collection-stats\n          .collectionType=\"${this.collectionType}\"\n          .collection=\"${this.collection}\"\n        ></yp-collection-stats>\n      </div>\n    `;\n  }\n\n  get hideLogoImage(): boolean {\n    if (\n      this.collectionType == \"group\" &&\n      (this.collection?.configuration as YpGroupConfiguration)\n        .alwaysHideLogoImage\n    ) {\n      return true;\n    } else if (\n      this.collectionType == \"community\" &&\n      (this.collection?.configuration as YpCommunityConfiguration)\n        .alwaysHideLogoImage\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  renderHeaderBanner() {\n    if (this.collectionHeaderImagePath) {\n      return html`\n        <yp-image\n          class=\"bannerImage\"\n          .alt=\"${this.t(\"bannerImage\")}\"\n          sizing=\"cover\"\n          .src=\"${this.collectionHeaderImagePath}\"\n        ></yp-image>\n      `;\n    } else {\n      return nothing;\n    }\n  }\n\n  renderName() {\n    return html`\n      <div class=\"nameText\">\n        <yp-magic-text\n          class=\"collection-name\"\n          role=\"heading\"\n          aria-level=\"1\"\n          aria-label=\"${this.collection!.name}\"\n          .textType=\"${YpCollectionHelpers.nameTextType(this.collectionType)}\"\n          .contentLanguage=\"${this.collection!.language}\"\n          ?disableTranslation=\"${this.collection!.configuration\n            ?.disableNameAutoTranslation}\"\n          textOnly\n          .content=\"${this.collection!.name}\"\n          .contentId=\"${this.collection!.id}\"\n        >\n        </yp-magic-text>\n      </div>\n    `;\n  }\n\n  renderDescription() {\n    return html`<yp-magic-text\n      id=\"description\"\n      ?hide-logo-image=\"${this.hideLogoImage}\"\n      class=\"description collectionDescription\"\n      .textType=\"${YpCollectionHelpers.descriptionTextType(\n        this.collectionType\n      )}\"\n      ?largeFont=\"${this.largeFont}\"\n      .contentLanguage=\"${this.collection!.language}\"\n      truncate=\"300\"\n      .content=\"${this.collection!.description || this.collection!.objectives}\"\n      .contentId=\"${this.collection!.id}\"\n    >\n    </yp-magic-text>`;\n  }\n\n  override render() {\n    return html`\n      ${this.collection\n        ? html`\n            <div class=\"layout vertical center-center\">\n              <div class=\"layout vertical topContainer\">\n                ${this.renderHeaderBanner()}\n                <div class=\"allContent\">\n                  <div class=\"layout horizontal nameAndActions wrap\">\n                    ${this.renderName()}\n                    <div class=\"flex\"></div>\n                    ${this.hasCollectionAccess ? this.renderMenu() : nothing}\n                  </div>\n                  <div class=\"layout horizontal ${!this.wide ? \"wrap\" : \"\"}\">\n                    <div\n                      is-video=\"${ifDefined(this.collectionVideoURL)}\"\n                      id=\"cardImage\"\n                      class=\"collectionDescriptionimageCard top-card\"\n                    >\n                      ${this.renderMediaContent()}\n                    </div>\n                    <div id=\"card\" class=\"layout vertical\">\n                      <div class=\"descriptionContainer\">\n                        ${this.renderDescription()} ${this.renderStats()}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              ${this.renderFooter()}\n            </div>\n          `\n        : html``}\n    `;\n  }\n}\n"]}