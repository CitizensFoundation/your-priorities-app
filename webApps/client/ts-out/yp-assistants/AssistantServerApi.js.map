{"version":3,"file":"AssistantServerApi.js","sourceRoot":"","sources":["../../src/yp-assistants/AssistantServerApi.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,WAAW,EAAE,MAAM,0BAA0B,CAAC;AAEvD,MAAM,OAAO,oBAAqB,SAAQ,WAAW;IACnD,YAAY,UAAkB,iBAAiB;QAC7C,KAAK,EAAE,CAAC;QACR,IAAI,CAAC,WAAW,GAAG,OAAO,CAAC;IAC7B,CAAC;IAEM,eAAe,CACpB,QAAgB,EAChB,UAAkB,EAClB,OAA0B,EAC1B,YAAoB,EACpB,cAAkC,SAAS;QAE3C,OAAO,IAAI,CAAC,YAAY,CACtB,IAAI,CAAC,WAAW,GAAG,IAAI,QAAQ,OAAO,EACtC;YACE,MAAM,EAAE,KAAK;YACb,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC;gBACnB,UAAU;gBACV,OAAO;gBACP,YAAY;gBACZ,WAAW;aACZ,CAAC;SACH,EACD,KAAK,CACN,CAAC;IACJ,CAAC;IAEM,iBAAiB,CACtB,QAAgB,EAChB,UAAkB,EAClB,OAA0B;QAE1B,OAAO,IAAI,CAAC,YAAY,CACtB,IAAI,CAAC,WAAW,GAAG,IAAI,QAAQ,QAAQ,EACvC,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,EAAE,UAAU,EAAE,OAAO,EAAE,CAAC,EAAE,EACjE,KAAK,CACN,CAAC;IACJ,CAAC;CACF","sourcesContent":["import { StringUnitLength } from \"luxon\";\nimport { YpServerApi } from \"../common/YpServerApi.js\";\n\nexport class YpAssistantServerApi extends YpServerApi {\n  constructor(urlPath: string = \"/api/assistants\") {\n    super();\n    this.baseUrlPath = urlPath;\n  }\n\n  public sendChatMessage(\n    domainId: number,\n    wsClientId: string,\n    chatLog: PsSimpleChatLog[],\n    languageName: string,\n    currentMode: string | undefined = undefined\n  ): Promise<void> {\n    return this.fetchWrapper(\n      this.baseUrlPath + `/${domainId}/chat`,\n      {\n        method: \"PUT\",\n        body: JSON.stringify({\n          wsClientId,\n          chatLog,\n          languageName,\n          currentMode\n        }),\n      },\n      false\n    );\n  }\n\n  public startVoiceSession(\n    domainId: number,\n    wsClientId: string,\n    chatLog: PsSimpleChatLog[]\n  ): Promise<void> {\n    return this.fetchWrapper(\n      this.baseUrlPath + `/${domainId}/voice`,\n      { method: \"POST\", body: JSON.stringify({ wsClientId, chatLog }) },\n      false\n    );\n  }\n}\n"]}