{"version":3,"file":"yp-posts-list.js","sourceRoot":"","sources":["../../src/yp-post/yp-posts-list.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css } from \"lit\";\nimport { customElement, property, state } from \"lit/decorators.js\";\nimport { YpBaseElement } from \"../common/yp-base-element.js\";\nimport { YpIronListHelpers } from \"../common/YpIronListHelpers.js\";\nimport { LitVirtualizer } from \"@lit-labs/virtualizer\";\nimport { flow, FlowLayout } from \"@lit-labs/virtualizer/layouts/flow.js\";\nimport { grid, GridLayout } from \"@lit-labs/virtualizer/layouts/grid.js\";\n\nimport \"@material/web/iconbutton/icon-button.js\";\nimport \"@material/web/textfield/outlined-text-field.js\";\n\nimport \"./yp-posts-filter.js\";\nimport \"./yp-post-card.js\";\n\nimport { ShadowStyles } from \"../common/ShadowStyles.js\";\nimport { YpPostCard } from \"./yp-post-card.js\";\nimport { YpPostsFilter } from \"./yp-posts-filter.js\";\nimport { nothing, TemplateResult } from \"lit\";\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nimport { TextField } from \"@material/web/textfield/internal/text-field.js\";\n\n@customElement(\"yp-posts-list\")\nexport class YpPostsList extends YpBaseElement {\n  @property({ type: String })\n  searchingFor: string | undefined;\n\n  @property({ type: String })\n  subTitle: string | undefined;\n\n  @property({ type: String })\n  filter = \"newest\";\n\n  @property({ type: String })\n  statusFilter = \"open\";\n\n  @property({ type: Array })\n  posts: Array<YpPostData> | undefined;\n\n  //TODO: Check if we still want to use this like that\n  @property({ type: Number })\n  userId: number | undefined;\n\n  @property({ type: Object })\n  group!: YpGroupData;\n\n  @property({ type: Number })\n  categoryId: number | undefined;\n\n  @property({ type: Number })\n  postsCount: number | undefined;\n\n  @property({ type: String })\n  selectedCategoryName: string | undefined;\n\n  @property({ type: Number })\n  selectedGroupTab: number | undefined;\n\n  @property({ type: Boolean })\n  noPosts = false;\n\n  @property({ type: Boolean })\n  showSearchIcon = false;\n\n  @property({ type: Boolean, reflect: true })\n  grid = true;\n\n  @state() randomSeed: number | undefined;\n\n  moreToLoad = false;\n\n  moreFromScrollTriggerActive = false;\n\n  // For YpIronListHelper\n  resetListSize: Function | undefined;\n  skipIronListWidth = false;\n\n  static override get styles() {\n    return [\n      super.styles,\n      ShadowStyles,\n      css`\n        .cardContainer {\n          width: 100%;\n          margin: 8px;\n        }\n\n        .postsFilter {\n          padding-left: 16px;\n          height: 36px;\n        }\n\n        .objectives {\n          padding-bottom: 40px;\n          max-width: 432px;\n        }\n\n        .description {\n          padding: 12px;\n        }\n\n        yp-post-card {\n        }\n\n        #outerRegion {\n          position: relative;\n        }\n\n        #scrollableRegion {\n        }\n\n        lit-virtualizer {\n          height: 100vh;\n          width: 100vw;\n          overflow: hidden;\n        }\n\n        yp-posts-filter {\n          margin-bottom: 8px;\n          margin-left: 8px;\n          margin-top: 16px;\n        }\n\n        #ironList {\n        }\n\n        .searchButton {\n          padding: 8px;\n          margin: 8px;\n        }\n\n        .searchContainer {\n          margin-top: 8px;\n        }\n\n        yp-posts-filter {\n          padding-right: 16px;\n        }\n\n        .half {\n          width: 50%;\n        }\n\n        .searchBox {\n          margin-bottom: 22px;\n          margin-right: 8px;\n        }\n\n        .card {\n          margin-left: 0;\n          margin-right: 0;\n          padding-left: 0;\n          padding-right: 0;\n          height: 435px !important;\n          width: 416px !important;\n          border-radius: 4px;\n        }\n\n        yp-post-card {\n          height: 435px !important;\n          width: 416px !important;\n        }\n\n        .card[mini] {\n          width: 210px;\n          height: 100%;\n        }\n\n        .card[wide-padding] {\n          padding: 16px !important;\n        }\n\n        .card[desktop-list] {\n          padding: 0 !important;\n          padding-top: 16px !important;\n        }\n\n        .card[is-last-item] {\n          padding-bottom: 128px;\n        }\n\n        @media (max-width: 800px) {\n          .searchBox {\n            margin-bottom: 8px;\n          }\n\n          .searchBox {\n            margin-top: 8px;\n          }\n\n          .half {\n            width: 100%;\n          }\n\n          .searchContainer {\n            margin-top: 0;\n          }\n\n          .postsFilter {\n            padding-left: 16px;\n            width: 215px !important;\n          }\n        }\n\n        .noIdeas {\n          background-color: var(--md-sys-color-secondary-container);\n          color: var(--md-sys-color-on-secondary-container);\n          max-width: 200px;\n          padding: 16px;\n          margin: 16px;\n          margin-top: 32px;\n        }\n\n        .noIdeasText {\n          font-weight: bold;\n        }\n\n        .card {\n          padding: 0;\n          padding-top: 8px;\n        }\n\n        yp-post-cover-media {\n          width: 100%;\n          height: 230px;\n        }\n\n        #searchInput {\n          margin-left: 8px;\n          margin-top: 14px;\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n\n        :focus {\n        }\n\n        .largeAjax {\n          position: absolute;\n          bottom: 32px;\n        }\n\n        a {\n          text-decoration: none;\n        }\n      `,\n    ];\n  }\n\n  _searchKey(event: KeyboardEvent) {\n    if (event.keyCode === 13) {\n      this._search();\n    }\n\n    this.showSearchIcon = true;\n  }\n\n  override render() {\n    return html`\n      <div class=\"layout vertical center-center topMost\">\n        ${\n          this.noPosts\n            ? html`\n                <div class=\"layout horiztonal center-center\">\n                  <div\n                    class=\"noIdeas layout horizontal center-center shadow-elevation-6dp shadow-transition\"\n                    ?hidden=\"${this.group.configuration\n                      .allPostsBlockedByDefault}\"\n                  >\n                    <div class=\"noIdeasText\">${this.t(\"noIdeasHere\")}</div>\n                  </div>\n                </div>\n              `\n            : nothing\n        }\n        <div\n          class=\"searchContainer layout horizontal center-center wrap\"\n          ?hidden=\"${\n            this.group.configuration.hidePostFilterAndSearch || this.noPosts\n          }\"\n        >\n          <div class=\"layout horizontal center-center\">\n            <yp-posts-filter\n              @click=\"${this._tapOnFilter}\"\n              .subTitle=\"${this.subTitle ? this.subTitle : \"\"}\"\n              class=\"filter\"\n              id=\"postsFilter\"\n              .tabName=\"${this.statusFilter}\"\n              @refresh-group=\"${this.refreshGroupFromFilter}\"\n              .group=\"${this.group}\"\n              .filter=\"${this.filter}\"\n              .statusFilter=\"${this.statusFilter}\"\n              .searchingFor=\"${this.searchingFor}\"\n              .categoryId=\"${this.categoryId}\"\n              .postsCount=\"${this.postsCount}\"\n            >\n            </yp-posts-filter>\n          </div>\n          <div class=\"layout horizontal center-center\">\n            <md-outlined-text-field\n              id=\"searchInput\"\n              @keydown=\"${this._searchKey}\"\n              .label=\"${this.t(\"searchFor\")}\"\n              .value=\"${this.searchingFor ? this.searchingFor : \"\"}\"\n              class=\"searchBox\"\n            >\n            </md-outlined-text-field>\n\n              ${\n                this.searchingFor\n                  ? html`\n                      <md-icon-button\n                        aria-label=\"${this.t(\"clearSearchInput\")}\"\n                        @click=\"${this._clearSearch}\"\n                        class=\"clear-search-trigger\"\n                        ><md-icon>clear</md-icon></md-icon-button\n                      >\n                    `\n                  : nothing\n              }\n\n           <md-icon-button\n              .label=\"${this.t(\"startSearch\")}\"\n\n              @click=\"${this._search}\"\n              ?hiddsen=\"${!this.showSearchIcon}\"\n            ><md-icon>search</md-icon></md-icon-button>\n          </div>\n        </div>\n        ${\n          this.posts\n            ? html`\n                <lit-virtualizer\n                  id=\"list\"\n                  .items=${this.posts}\n                  .layout=\"${this.grid\n                    ? grid({\n                        itemSize: { width: \"420px\", height: \"442px\" },\n                        gap: \"64px 32px\",\n                        justify: \"center\",\n                        padding: \"0\",\n                      })\n                    : flow()}\"\n                  .scrollTarget=\"${window}\"\n                  .renderItem=${this.renderPostItem.bind(this)}\n                  @rangeChanged=${this.scrollEvent}\n                ></lit-virtualizer>\n              `\n            : nothing\n        }\n      </div>\n    `;\n  }\n\n  renderPostItem(post: YpPostData, index?: number | undefined): TemplateResult {\n    const tabindex = index !== undefined ? index + 1 : 0;\n    if (false && this.desktopListFormat) {\n      return html`\n        <yp-post-list-item\n          aria-label=\"${post.name}\"\n          @keypress=\"${this._keypress.bind(this)}\"\n          @click=\"${this._selectedItemChanged.bind(this)}\"\n          tabindex=\"${tabindex}\"\n          id=\"postCard${post.id}\"\n          class=\"card\"\n          .post=\"${post}\"\n        >\n        </yp-post-list-item>\n      `;\n    } else {\n      return html`\n        <yp-post-card\n          aria-label=\"${post.name}\"\n          ?is-last-item=\"${this._isLastItem(index!)}\"\n          @keypress=\"${this._keypress.bind(this)}\"\n          @click=\"${this._selectedItemChanged.bind(this)}\"\n          tabindex=\"${tabindex}\"\n          id=\"postCard${post.id}\"\n          class=\"csard\"\n          .post=\"${post}\"\n        >\n        </yp-post-card>\n      `;\n    }\n  }\n\n  get desktopListFormat() {\n    return this.wide && this.group != undefined && this.posts != undefined;\n  }\n\n  get wideNotListFormat() {\n    return (\n      this.wide &&\n      !this.desktopListFormat &&\n      this.group != undefined &&\n      this.posts != undefined\n    );\n  }\n\n  _isLastItem(index: number) {\n    return this.posts && index >= this.posts.length - 1;\n  }\n\n  _keypress(event: KeyboardEvent) {\n    if (event.keyCode == 13) {\n      this._selectedItemChanged(event as unknown as CustomEvent);\n    }\n  }\n\n  _categoryChanged(event: CustomEvent) {\n    if (event.detail) {\n      this.categoryId = event.detail;\n    } else {\n      this.categoryId = undefined;\n    }\n  }\n\n  _filterChanged(event: CustomEvent) {\n    this.filter = event.detail;\n  }\n\n  override firstUpdated(\n    changedProperties: Map<string | number | symbol, unknown>\n  ) {\n    super.firstUpdated(changedProperties);\n  }\n\n  _clearSearch() {\n    this.searchingFor = undefined;\n    this.filter = \"newest\";\n    (this.$$(\"#postsFilter\") as YpPostsFilter)._updateAfterFiltering();\n  }\n\n  scrollEvent(event: { last: number }) {\n    //TODO: Check this logic\n    if (\n      this.posts &&\n      !this.moreFromScrollTriggerActive &&\n      event.last != -1 &&\n      event.last < this.posts.length &&\n      event.last + 5 >= this.posts.length\n    ) {\n      this.moreFromScrollTriggerActive = true;\n      this._loadMoreData();\n    }\n  }\n\n  override async connectedCallback() {\n    super.connectedCallback();\n    this.addListener(\"yp-filter-category-change\", this._categoryChanged);\n    this.addListener(\"yp-filter-changed\", this._filterChanged);\n    this.addListener(\"refresh\", this._refreshPost);\n\n    if (this.posts) {\n      if (window.appGlobals.cache.cachedPostItem !== undefined) {\n        this.scrollToPost(window.appGlobals.cache.cachedPostItem);\n        window.appGlobals.cache.cachedPostItem = undefined;\n      }\n\n      if (window.appGlobals.groupLoadNewPost) {\n        window.appGlobals.groupLoadNewPost = false;\n        this.refreshGroupFromFilter();\n      }\n    }\n  }\n\n  override disconnectedCallback() {\n    super.disconnectedCallback();\n    this.removeListener(\"yp-filter-category-change\", this._categoryChanged);\n    this.removeListener(\"yp-filter-changed\", this._filterChanged);\n    this.removeListener(\"refresh\", this._refreshPost);\n  }\n\n  _selectedItemChanged(event: CustomEvent) {\n    const postCard = event.target as YpPostCard;\n\n    postCard.clickOnA();\n  }\n\n  async _refreshPost(event: CustomEvent) {\n    const postId: number = event.detail.id as number;\n    if (postId) {\n      const post = (await window.serverApi.getPost(\n        postId\n      )) as YpPostData | void;\n      if (post && this.posts) {\n        for (let i = 0; i < this.posts.length; i++) {\n          if (this.posts[i].id == post.id) {\n            this.posts[i] = post;\n            window.appGlobals.cache.updatePostInCache(post);\n            this.requestUpdate;\n            await this.updateComplete;\n            setTimeout(() => {\n              //TODO: See if we still need to do something like this\n              //(this.$$('#ironList') as IronListInterface).fire('iron-resize');\n            });\n            break;\n          }\n        }\n      }\n    }\n  }\n\n  _getPostLink(post: YpPostData) {\n    if (post) {\n      if (\n        post.Group &&\n        post.Group.configuration &&\n        post.Group.configuration.disablePostPageLink\n      ) {\n        return \"#\";\n      } else if (\n        post.Group &&\n        post.Group.configuration &&\n        post.Group.configuration.resourceLibraryLinkMode\n      ) {\n        return post.description.trim();\n      } else {\n        return \"/post/\" + post.id;\n      }\n    } else {\n      console.warn(\"Trying to get empty post link\");\n      return undefined;\n    }\n  }\n\n  get scrollOffset() {\n    const list = this.$$(\"ironList\");\n    if (list) {\n      let offset = list.offsetTop;\n      offset -= 75;\n      if (list.offsetTop > 0 && offset > 0) {\n        console.info(\"Post list scroll offset: \" + offset);\n        return offset;\n      } else {\n        if (this.wide) offset = 550;\n        else offset = 700;\n\n        if (this.group && this.group.configuration) {\n          if (this.group.configuration.hideAllTabs) offset -= 60;\n          if (this.group.configuration.hideNewPost) offset -= 100;\n          if (this.group.configuration.hidePostFilterAndSearch) offset -= 100;\n        }\n\n        console.info(\"Post list (manual) scroll offset: \" + offset);\n        return offset;\n      }\n    } else {\n      console.warn(\"No list for scroll offset\");\n      return null;\n    }\n  }\n\n  _tapOnFilter() {\n    window.appGlobals.activity(\"click\", \"filter\");\n  }\n\n  _search() {\n    window.appGlobals.activity(\"click\", \"search\");\n    this.searchingFor = (this.$$(\"#searchInput\") as TextField).value;\n    if (this.searchingFor && this.searchingFor != \"\") {\n      this.refreshGroupFromFilter();\n    }\n  }\n\n  buildPostsUrlPath() {\n    return (this.$$(\"#postsFilter\") as YpPostsFilter).buildPostsUrlPath();\n  }\n\n  async scrollToPost(post: YpPostData) {\n    if (post && this.posts) {\n      console.info(\"Scrolling to post: \" + post.id);\n      for (let i = 0; i < this.posts.length; i++) {\n        if (this.posts[i] == post) {\n          (this.$$(\"#list\") as LitVirtualizer).scrollToIndex(i);\n          break;\n        }\n      }\n      this.fireGlobal(\"yp-refresh-activities-scroll-threshold\");\n    } else {\n      console.error(\"No post id on goToPostId\");\n    }\n  }\n\n  override updated(changedProperties: Map<string | number | symbol, unknown>) {\n    super.updated(changedProperties);\n    if (\n      changedProperties.has(\"statusFilter\") &&\n      this.group &&\n      this.statusFilter\n    ) {\n      const allowedForceByValues = [\n        \"oldest\",\n        \"newest\",\n        \"top\",\n        \"most_debated\",\n        \"random\",\n        \"alphabetical\",\n      ];\n\n      this.randomSeed = Math.random();\n\n      this.posts = undefined;\n      this.noPosts = false;\n      if (this.group) {\n        this.moreToLoad = true;\n\n        if (\n          window.appGlobals.originalQueryParameters &&\n          window.appGlobals.originalQueryParameters[\"categoryId\"]\n        ) {\n          this.categoryId = window.appGlobals.originalQueryParameters[\n            \"categoryId\"\n          ] as number;\n          window.appGlobals.originalQueryParameters[\"categoryId\"] = undefined;\n        } else {\n          this.categoryId = undefined;\n        }\n\n        if (\n          this.group.configuration &&\n          this.group.configuration.forcePostSortMethodAs &&\n          allowedForceByValues.indexOf(\n            this.group.configuration.forcePostSortMethodAs\n          ) > -1\n        ) {\n          this.filter = this.group.configuration.forcePostSortMethodAs;\n        } else {\n          if (\n            this.group.configuration &&\n            this.group.configuration.canAddNewPosts != undefined\n          ) {\n            if (this.group.configuration.canAddNewPosts === true) {\n              this.filter = \"newest\";\n            } else if (\n              this.group.configuration.canAddNewPosts === false &&\n              this.group.configuration.canVote === false\n            ) {\n              this.filter = \"top\";\n            } else {\n              this.filter = \"random\";\n            }\n          } else if (!this.filter) {\n            this.filter = \"newest\";\n          }\n        }\n        console.info(\"LOADMORE FOR CONTAINER\");\n        this._loadMoreData();\n      }\n    } else if (this.group && changedProperties.has(\"filter\") && this.filter) {\n      //this._loadMoreData();\n    } else if (\n      this.group &&\n      changedProperties.has(\"categoryId\") &&\n      this.categoryId\n    ) {\n      this._loadMoreData();\n    }\n\n    if (changedProperties.has(\"searchingFor\")) {\n      if (this.searchingFor && this.searchingFor != \"\") {\n        this.moreToLoad = true;\n        this.showSearchIcon = true;\n      } else {\n        this.showSearchIcon = false;\n      }\n    }\n  }\n\n  refreshGroupFromFilter() {\n    this.posts = undefined;\n    this.moreToLoad = true;\n    this._loadMoreData();\n  }\n\n  async _loadMoreData() {\n    if (this.moreToLoad && this.group) {\n      this.moreToLoad = false;\n      this.noPosts = false;\n      let objectIdString: string;\n      let objectType: string;\n      let url: string;\n\n      if (this.userId) {\n        objectIdString = this.userId + \"/posts\";\n        objectType = \"users\";\n      } else {\n        objectIdString = `${this.group.id}`;\n        objectType = \"groups\";\n      }\n\n      if (this.searchingFor) {\n        url =\n          \"/api/\" +\n          objectType +\n          \"/\" +\n          objectIdString +\n          \"/search/\" +\n          this.searchingFor;\n      } else {\n        url =\n          \"/api/\" + objectType + \"/\" + objectIdString + \"/posts/\" + this.filter;\n        if (this.categoryId) {\n          url += \"/\" + this.categoryId;\n        } else {\n          url += \"/null\";\n        }\n        url += \"/\" + this.statusFilter;\n      }\n\n      const offset = this.posts ? this.posts.length : 0;\n      url += \"?offset=\" + offset;\n\n      if (this.filter == \"random\" && this.randomSeed) {\n        url += \"&randomSeed=\" + this.randomSeed;\n      }\n\n      const postsInfo = (await window.serverApi.getGroupPosts(\n        url\n      )) as YpPostsInfoInterface | void;\n\n      if (postsInfo) {\n        this.postsCount = postsInfo.totalPostsCount;\n\n        this.fire(\"yp-post-count\", {\n          type: this.statusFilter,\n          count: this.postsCount,\n        });\n\n        if (!this.posts) {\n          this.posts = postsInfo.posts;\n        } else {\n          for (let i = 0; i < postsInfo.posts.length; i++) {\n            this.posts.push(postsInfo.posts[i]);\n          }\n        }\n\n        if (postsInfo.posts.length == 0 && this.posts.length == 0) {\n          this.noPosts = true;\n        }\n\n        if (postsInfo.posts.length > 0) {\n          this.noPosts = false;\n        } else {\n          if (this.searchingFor && this.searchingFor != \"\") {\n            this.noPosts = false;\n          }\n        }\n\n        setTimeout(() => {\n          const postFilter = this.$$(\"#postsFilter\") as YpPostsFilter;\n          if (postFilter) {\n            postFilter._updateTitle();\n          }\n        }, 20);\n\n        if (\n          postsInfo.posts.length > 0 &&\n          postsInfo.posts.length != this.postsCount\n        ) {\n          this.moreToLoad = true;\n        }\n\n        this.fireGlobal(\"yp-refresh-activities-scroll-threshold\");\n\n        this._processCategories();\n        this._checkForMultipleLanguages(postsInfo.posts);\n        window.appGlobals.cache.addPostsToCacheLater(postsInfo.posts);\n        this.requestUpdate();\n      }\n    }\n\n    this.moreFromScrollTriggerActive = false;\n  }\n\n  _checkForMultipleLanguages(posts: Array<YpPostData>) {\n    if (\n      !localStorage.getItem(\"dontPromptForAutoTranslation\") &&\n      !sessionStorage.getItem(\"dontPromptForAutoTranslation\")\n    ) {\n      let firstLanguage: string;\n      let firstContent: string;\n      let multipleLanguages = false;\n      posts.forEach(function (post) {\n        if (post.language && !multipleLanguages) {\n          if (!firstLanguage && post.language !== \"??\") {\n            firstLanguage = post.language;\n            firstContent = post.description;\n          } else if (\n            firstLanguage &&\n            firstLanguage !== post.language &&\n            post.language !== \"??\"\n          ) {\n            multipleLanguages = true;\n            console.info(\n              \"Multiple post languages: \" +\n                firstLanguage +\n                \" and \" +\n                post.language\n            );\n            //console.info(\"A: \"+firstContent+\" B: \"+post.description);\n          }\n        }\n      });\n\n      if (multipleLanguages) {\n        /* TODO: Fix explicit typedef\n        window.appDialogs.getDialogAsync('autoTranslateDialog', (dialog: { openLaterIfAutoTranslationEnabled: () => void }) => {\n          dialog.openLaterIfAutoTranslationEnabled();\n        }); */\n      }\n    }\n  }\n\n  _processCategories() {\n    if (this.categoryId && this.group.Categories) {\n      for (let i = 0; i < this.group.Categories.length; i++) {\n        if (this.group.Categories[i].id == this.categoryId) {\n          this.selectedCategoryName = this.group.Categories[i].name;\n          //this.$.layout.updateFilter();\n        }\n      }\n    } else {\n      this.selectedCategoryName = \"categories.all\";\n      //this.$.layout.updateFilter();\n    }\n  }\n}\n"]}