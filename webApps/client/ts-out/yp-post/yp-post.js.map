{"version":3,"file":"yp-post.js","sourceRoot":"","sources":["../../src/yp-post/yp-post.ts"],"names":[],"mappings":"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","sourcesContent":["import { YpAccessHelpers } from \"../common/YpAccessHelpers.js\";\nimport { YpMediaHelpers } from \"../common/YpMediaHelpers.js\";\n\nimport { YpCollection } from \"../yp-collection/yp-collection.js\";\nimport { nothing, html, TemplateResult, LitElement, css } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\n//import '@material/web/navigationbar/navigation-bar.js';\n//import { MdNavigationBar } from '@material/web/navigationbar/navigation-bar.js';\n\n//import '@material/web/navigationtab/navigation-tab.js';\n//import { MdNavigationTab } from '@material/web/navigationtab/navigation-tab.js';\n\nimport \"@material/web/fab/fab.js\";\n\n//import '../yp-post/yp-posts-list.js';\n//import '../yp-post/yp-post-card-add.js';\nimport { YpBaseElement } from \"../common/yp-base-element.js\";\nimport { YpFormattingHelpers } from \"../common/YpFormattingHelpers.js\";\nimport { YpNavHelpers } from \"../common/YpNavHelpers.js\";\nimport { YpPostCard } from \"./yp-post-card.js\";\nimport { ShadowStyles } from \"../common/ShadowStyles.js\";\nimport \"./yp-post-header.js\";\nimport \"./yp-post-points.js\";\nimport \"./yp-post-user-images.js\";\n\n// TODO: Remove\ninterface AcActivity extends LitElement {\n  scrollToItem(item: YpDatabaseItem): () => void;\n  loadNewData(): () => void;\n}\n\nexport const PostTabTypes: Record<string, number> = {\n  Debate: 0,\n  News: 1,\n  Location: 2,\n  Photos: 3,\n};\n\n@customElement(\"yp-post\")\nexport class YpPost extends YpCollection {\n  @property({ type: Boolean })\n  isAdmin = false;\n\n  @property({ type: Boolean })\n  disableNewPosts = false;\n\n  @property({ type: String })\n  currentPage: string | undefined;\n\n  @property({ type: Object })\n  post: YpPostData | undefined = undefined;\n\n  @property({ type: Number })\n  scrollToPointId: number | undefined = undefined;\n\n  @property({ type: String })\n  debateCount: string | undefined = undefined;\n\n  @property({ type: String })\n  photosCount: string | undefined = undefined;\n\n  constructor() {\n    super(\"post\", null, \"lightbulb_outline\", \"post.create\");\n  }\n\n  scrollToCollectionItemSubClass() {\n    //TODO: Do we need this\n  }\n\n  override setupTheme() {\n    try {\n      const group = this.post!.Group;\n      if (group.configuration && group.configuration.theme) {\n        if (group.configuration.inheritThemeFromCommunity && group.Community) {\n          window.appGlobals.theme.setTheme(\n            undefined,\n            group.Community.configuration\n          );\n        } else {\n          window.appGlobals.theme.setTheme(undefined, group.configuration);\n        }\n      } else if (\n        group.configuration &&\n        group.configuration.themeOverrideColorPrimary\n      ) {\n        window.appGlobals.theme.setTheme(undefined, group.configuration);\n      } else if (group.Community && group.Community.configuration.theme) {\n        window.appGlobals.theme.setTheme(\n          undefined,\n          group.Community.configuration\n        );\n      } else if (group.theme_id) {\n        window.appGlobals.theme.setTheme(group.theme_id, group.configuration);\n      } else if (\n        group.Community &&\n        group.Community.configuration.themeOverrideColorPrimary\n      ) {\n        window.appGlobals.theme.setTheme(\n          group.Community.theme_id,\n          group.Community.configuration\n        );\n      } else if (\n        group.Community &&\n        group.Community.Domain &&\n        group.Community.Domain.configuration.theme\n      ) {\n        window.appGlobals.theme.setTheme(group.Community.Domain.theme_id);\n      } else {\n        window.appGlobals.theme.setTheme(1);\n      }\n    } catch (error) {\n      console.error(\"Error setting group theme\", error);\n    }\n  }\n\n  static override get styles() {\n    return [\n      super.styles,\n      ShadowStyles,\n      css`\n        .frameContainer {\n          max-width: 970px;\n          margin: 32px;\n          margin-top: 0;\n          padding: 32px;\n          border-radius: 4px;\n          border: 1px solid var(--md-sys-color-outline);\n          position: relative;\n        }\n\n        .dividerLine {\n          opacity: 0.3;\n          max-width: 88%;\n        }\n\n        .postHeader {\n          padding: 16px;\n          background-color: var(--md-sys-color-primary);\n          color: var(--md-sys-color-on-primary);\n          width: 940px;\n        }\n\n        .postStaticHeader {\n          position: fixed;\n          top: 10%;\n          z-index: 1000;\n        }\n\n        .arrowNavigation {\n          --md-filled-tonal-icon-button-container-width: 64px;\n          --md-filled-tonal-icon-button-container-height: 64px;\n          --md-filled-tonal-icon-button-icon-size: 48px;\n          position: fixed;\n          top: 500px;\n          transform: translateY(-50%);\n          z-index: 20;\n        }\n\n        .leftArrowNavigationButton {\n          left: calc(50% - (940px / 2) - 80px);\n        }\n\n        .rightArrowNavigationButton {\n          right: calc(50% - (940px / 2) - 80px);\n        }\n\n        md-tabs {\n          margin-top: 64px;\n          min-width: 90%;\n        }\n\n        .dividerLine {\n          border-top: 1px solid var(--md-sys-color-outline);\n          margin-top: 64px;\n          margin-bottom: 16px;\n        }\n\n        ac-activities {\n          padding-top: 8px;\n        }\n\n        yp-post-user-images {\n          padding-top: 32px;\n        }\n\n        @media (max-width: 961px) {\n          .postHeader {\n            width: 600px;\n          }\n        }\n\n        @media (max-width: 600px) {\n          .postHeader {\n            width: 400px;\n          }\n        }\n\n        @media (max-width: 360px) {\n          .postHeader {\n            height: 100%;\n            width: 360px;\n            padding: 0;\n          }\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n      `,\n    ];\n  }\n\n  get leftArrowDisabled() {\n    if (window.appGlobals.cache.getPreviousPostInGroupList(this.post!.group_id, this.post!.id)) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  get rightArrowDisabled() {\n    if (window.appGlobals.cache.getNextPostInGroupList(this.post!.group_id, this.post!.id)) {\n      return false;\n    } else {\n      return true;\n    }\n  }\n\n  get bothArrowsDisabled() {\n    if (this.leftArrowDisabled && this.rightArrowDisabled) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  renderPostStaticHeader() {\n    return html`\n      <yp-post-header\n        class=\"postStaticccHeader\"\n        onlyRenderTopActionBar\n        .post=\"${this.post!}\"\n      ></yp-post-header>\n    `;\n  }\n\n  renderPostHeader() {\n    return html`\n      <yp-post-header\n        hideTopActionBar\n        id=\"postCard\"\n        .post=\"${this.post!}\"\n        @refresh=\"${this._getPost}\"\n      ></yp-post-header>\n    `;\n  }\n\n  renderPostTabs() {\n    if (this.post && !this.post.Group.configuration.hideAllTabs) {\n      return html`\n        <md-tabs\n          @change=\"${this._selectTab}\"\n          .activeTabIndex=\"${this.selectedTab}\"\n        >\n          <md-secondary-tab ?has-static-theme=\"${this.hasStaticTheme}\"\n            >${this.tabDebateCount}<md-icon slot=\"icon\"\n              >lightbulb_outline</md-icon\n            ></md-secondary-tab\n          >\n\n          ${this.renderNewsAndMapTabs()}\n          <md-secondary-tab ?has-static-theme=\"${this.hasStaticTheme}\"\n            >${this.tabPhotosCount}<md-icon slot=\"icon\"\n              >photo_camera</md-icon\n            ></md-secondary-tab\n          >\n        </md-tabs>\n      `;\n    } else {\n      return html`<md-divider class=\"dividerLine\"></md-divider>`;\n    }\n  }\n\n  renderCurrentPostTabPage(): TemplateResult | undefined {\n    let page: TemplateResult | undefined;\n\n    if (this.post) {\n      switch (this.selectedTab) {\n        case PostTabTypes.Debate:\n          page = html`<yp-post-points\n            id=\"pointsSection\"\n            role=\"main\"\n            aria-label=\"${this.t(\"debate\")}\"\n            ?isPostPage=\"${this.isPostPage}\"\n            ?isAdmin=\"${this.isAdmin}\"\n            .post=\"${this.post}\"\n            .scrollToId=\"${this.scrollToPointId}\"\n          ></yp-post-points>`;\n          break;\n        case PostTabTypes.News:\n          page = html`<ac-activities\n            id=\"postNews\"\n            .selectedTab=\"${this.selectedTab}\"\n            .disableNewPosts=\"${this.disableNewPosts}\"\n            .postGroupId=\"${this.post!.group_id}\"\n            .postId=\"${this.post!.id}\"\n          ></ac-activities>`;\n          break;\n        case PostTabTypes.Location:\n          page = this.post.location\n            ? html`<div\n                class=\"mapContainer shadow-elevation-4dp shadow-transition\"\n              >\n                <google-map\n                  additionalMapOptions=\"{'keyboardShortcuts':false}\"\n                  apiKey=\"XXXX\"\n                  id=\"map\"\n                  libraries=\"places\"\n                  class=\"map\"\n                  .mapType=\"${this.post.location.mapType}\"\n                  .zoom=\"${this.post.location.map_zoom}\"\n                  fitToMarkers=\"\"\n                >\n                  <google-map-marker\n                    slot=\"markers\"\n                    latitude=\"${this.post.location.latitude}\"\n                    longitude=\"${this.post.location.longitude}\"\n                    id=\"marker\"\n                  ></google-map-marker>\n                </google-map>\n              </div>`\n            : html` <h1 style=\"padding-top: 16px\">\n                ${this.t(\"post.noLocation\")}\n              </h1>`;\n          break;\n        case PostTabTypes.Photos:\n          page = html` <div class=\"layout horizontal center-center\">\n            <yp-post-user-images .post=\"${this.post}\"></yp-post-user-images>\n          </div>`;\n          break;\n      }\n    }\n\n    return page;\n  }\n\n  goToPreviousPost() {\n    if (this.post) {\n      const previousPost = window.appGlobals.cache.getPreviousPostInGroupList(\n        this.post.group_id,\n        this.post.id\n      );\n      if (previousPost) {\n        const path = `/post/${previousPost.id}`;\n        window.app.setKeepOpenForPostsOn(path);\n        YpNavHelpers.redirectTo(path);\n        this.fireGlobal(\"yp-scroll-to-post-for-group-id\", {\n          groupId: this.post.group_id,\n          postId: previousPost.id,\n        })\n      }\n    }\n  }\n\n  goToNextPost() {\n    if (this.post) {\n      const nextPost = window.appGlobals.cache.getNextPostInGroupList(\n        this.post.group_id,\n        this.post.id\n      );\n      if (nextPost) {\n        const path = `/post/${nextPost.id}`;\n        window.app.setKeepOpenForPostsOn(path);\n        YpNavHelpers.redirectTo(path);\n        this.fireGlobal(\"yp-scroll-to-post-for-group-id\", {\n          groupId: this.post.group_id,\n          postId: nextPost.id,\n        })\n        debugger;\n      }\n    }\n  }\n\n  renderNavigationButtons() {\n    return html`\n      <div style=\"position: relative;\" ?hidden=\"${this.bothArrowsDisabled}\">\n        <md-filled-tonal-icon-button\n          ?disabled=\"${this.leftArrowDisabled}\"\n          @click=\"${this.goToPreviousPost}\"\n          class=\"arrowNavigation leftArrowNavigationButton\"\n        >\n          <md-icon>keyboard_arrow_left</md-icon>\n        </md-filled-tonal-icon-button>\n        <md-filled-tonal-icon-button\n          ?disabled=\"${this.rightArrowDisabled}\"\n          @click=\"${this.goToNextPost}\"\n          class=\"arrowNavigation rightArrowNavigationButton\"\n        >\n          <md-icon>keyboard_arrow_right</md-icon>\n        </md-filled-tonal-icon-button>\n      </div>\n    `;\n  }\n\n  override render() {\n    return this.post\n      ? html`\n          <div class=\"layout vertical center-center\">\n            <div class=\"frameContainer\">\n              <div class=\"layout vertical\">\n                ${this.renderPostStaticHeader()} ${this.renderPostHeader()}\n              </div>\n              ${this.renderNavigationButtons()}\n              <div class=\"layout vertical center-center\">\n                ${this.renderPostTabs()}\n              </div>\n              ${this.renderCurrentPostTabPage()}\n              ${!this.disableNewPosts &&\n              this.post &&\n              !this.post.Group.configuration.hideNewPost &&\n              !this.post.Group.configuration.hideNewPostOnPostPage\n                ? html`<md-fab\n                    hidden\n                    .label=\"${this.t(\"post.new\")}\"\n                    @click=\"${this._newPost}\"\n                    ><md-icon>lightbuld</md-icon></md-fab\n                  >`\n                : nothing}\n            </div>\n          </div>\n        `\n      : html``;\n  }\n\n  get tabDebateCount(): string {\n    const labelTranslation = this.t(\"post.tabs.debate\");\n\n    return `${labelTranslation} (${\n      this.debateCount != undefined ? this.debateCount : \"...\"\n    })`;\n  }\n\n  get tabPhotosCount(): string {\n    const labelTranslation = this.t(\"post.tabs.photos\");\n\n    if (this.photosCount) {\n      return `${labelTranslation} (${this.photosCount})`;\n    } else {\n      return `${labelTranslation}`;\n    }\n  }\n\n  _selectedTabChanged() {\n    //TODO: Make sure to polyfill Object.keys IE11\n    if (this.selectedTab) {\n      const tabKeys = Object.keys(PostTabTypes);\n      const tabName = tabKeys[this.selectedTab]?.toLowerCase();\n\n      if (this.post) {\n        //YpNavHelpers.redirectTo('/post/' + this.post.id + '/' + tabName);\n      }\n\n      if (tabName) {\n        window.appGlobals.activity(\"open\", \"post_tab_\" + tabName, \"\", {\n          id: this.collectionId,\n          modelType: \"post\",\n        });\n      }\n    } else {\n      console.error(\"No selected tab\");\n    }\n  }\n\n  override updated(changedProperties: Map<string | number | symbol, unknown>) {\n    super.updated(changedProperties);\n\n    if (changedProperties.has(\"selectedTab\")) {\n      this._selectedTabChanged();\n    }\n  }\n\n  get isPostPage(): boolean {\n    return this.currentPage === \"post\";\n  }\n\n  _newPost() {\n    window.appGlobals.activity(\"open\", \"newPost\");\n    this.fire(\"yp-new-post\", { group: this.post!.Group });\n  }\n\n  override connectedCallback() {\n    super.connectedCallback();\n    this.addListener(\"yp-debate-info\", this._updateDebateInfo);\n    this.addListener(\"yp-post-image-count\", this._updatePostImageCount);\n  }\n\n  override disconnectedCallback() {\n    super.disconnectedCallback();\n    this.removeListener(\"yp-debate-info\", this._updateDebateInfo);\n    this.removeListener(\"yp-post-image-count\", this._updatePostImageCount);\n  }\n\n  _updatePostImageCount(event: CustomEvent) {\n    const imageCount = event.detail;\n    this.photosCount = YpFormattingHelpers.number(imageCount);\n  }\n\n  _updateDebateInfo(event: CustomEvent) {\n    const detail = event.detail;\n    this.debateCount = YpFormattingHelpers.number(detail.count);\n  }\n\n  _mainContainerClasses() {\n    if (!this.wide) {\n      return \"layout horizontal wrap\";\n    } else {\n      return \"layout horizontal center-center\";\n    }\n  }\n\n  _headerClasses() {\n    if (!this.wide) {\n      return \"layout vertical postHeader wrap\";\n    } else {\n      return \"layout horizontal postHeader\";\n    }\n  }\n\n  get postName() {\n    if (this.post && this.post.name) {\n      return YpFormattingHelpers.truncate(\n        YpFormattingHelpers.trim(this.post.name),\n        200\n      );\n    } else {\n      return \"\";\n    }\n  }\n\n  get postDescription() {\n    if (this.post && this.post.description) {\n      return YpFormattingHelpers.truncate(\n        YpFormattingHelpers.trim(this.post.description),\n        10000,\n        \"...\"\n      );\n    } else {\n      return \"\";\n    }\n  }\n\n  override async getCollection() {\n    console.warn(\"Trying to get collection in post\");\n  }\n\n  async _getPost() {\n    if (this.collectionId) {\n      this.post = undefined;\n      this.post = (await window.serverApi.getCollection(\n        this.collectionType,\n        this.collectionId\n      )) as YpPostData | undefined;\n      if (this.post) {\n        this.setupTheme();\n        this._processIncomingPost();\n        this._getHelpPages(\"group\", this.post.group_id);\n      }\n    } else {\n      console.error(\"No collection id for _getPost\");\n    }\n  }\n\n  override collectionIdChanged() {\n    if (this.collectionId) {\n      const cachedItem = window.appGlobals.cache.cachedPostItem;\n      if (cachedItem && cachedItem.id == this.collectionId) {\n        this.post = cachedItem;\n        this._processIncomingPost();\n        console.debug(\"Got post from single item cache\");\n      } else if (window.appGlobals.cache.getPostFromCache(this.collectionId)) {\n        this.post = window.appGlobals.cache.getPostFromCache(this.collectionId);\n        this._processIncomingPost(true);\n        console.debug(\n          \"Got post from post multi cache possibly from recommendations\"\n        );\n      } else {\n        console.debug(\"Got post from server not cache\");\n        this.post = undefined;\n        this._getPost();\n      }\n    }\n  }\n\n  _processIncomingPost(fromCache = false) {\n    if (this.post) {\n      this.refresh();\n\n      if (!fromCache) window.appGlobals.cache.addPostsToCacheLater([this.post]);\n      window.appGlobals.recommendations.getNextRecommendationForGroup(\n        this.post.group_id,\n        this.post.id,\n        this._processRecommendation.bind(this)\n      );\n\n      this.isAdmin = YpAccessHelpers.checkPostAdminOnlyAccess(this.post);\n    } else {\n      console.error(\"Trying to refresh without post\");\n    }\n  }\n\n  _processRecommendation(recommendedPost: YpPostData) {\n    if (recommendedPost && this.post) {\n      let postName = recommendedPost.name;\n      if (this.wide) {\n        postName = YpFormattingHelpers.truncate(postName, 60);\n      } else {\n        postName = YpFormattingHelpers.truncate(postName, 30);\n      }\n\n      this.fire(\"yp-set-next-post\", {\n        currentPostId: this.post.id,\n        goForwardToPostId: recommendedPost.id,\n        goForwardPostName: postName,\n      });\n    } else if (this.post) {\n      this.fire(\"yp-set-next-post\", {\n        currentPostId: this.post.id,\n        goForwardToPostId: null,\n        goForwardPostName: null,\n      });\n      console.log(\"Not recommended post\");\n    }\n  }\n\n  override refresh() {\n    if (this.post) {\n      if (\n        this.post.Group.configuration &&\n        this.post.Group.configuration.canAddNewPosts != undefined\n      ) {\n        if (this.post.Group.configuration.canAddNewPosts === true) {\n          this.disableNewPosts = false;\n        } else {\n          this.disableNewPosts = true;\n        }\n      } else {\n        this.disableNewPosts = false;\n      }\n\n      if (this.post.Group.Community) {\n        window.appGlobals.analytics.setCommunityAnalyticsTracker(\n          this.post.Group.Community.google_analytics_code\n        );\n\n        if (this.post.Group.Community.configuration) {\n          window.appGlobals.analytics.setCommunityPixelTracker(\n            this.post.Group.Community.configuration.facebookPixelId\n          );\n        }\n\n        if (\n          this.post.Group.Community.configuration &&\n          this.post.Group.Community.configuration.customSamlLoginMessage\n        ) {\n          window.appGlobals.currentSamlLoginMessage =\n            this.post.Group.Community.configuration.customSamlLoginMessage;\n        } else {\n          window.appGlobals.currentSamlLoginMessage = undefined;\n        }\n      } else {\n        console.error(\"No community!\");\n      }\n\n      window.appGlobals.setAnonymousGroupStatus(this.post.Group);\n      window.appGlobals.setRegistrationQuestionGroup(this.post.Group);\n\n      if (\n        this.post.Group.configuration &&\n        this.post.Group.configuration.defaultLocale != null\n      ) {\n        window.appGlobals.changeLocaleIfNeeded(\n          this.post.Group.configuration.defaultLocale\n        );\n      }\n\n      if (\n        this.post.Group.configuration &&\n        this.post.Group.configuration.locationHidden != undefined\n      ) {\n        this.locationHidden = this.post.Group.configuration.locationHidden;\n      } else {\n        this.locationHidden = false;\n      }\n\n      this.fire(\"yp-change-header\", {\n        headerTitle: YpFormattingHelpers.truncate(this.post.Group.name, 80),\n        documentTitle: this.post.name,\n        headerDescription: \"\", //this.truncate(this.post.Group.objectives,45),\n        backPath: \"/group/\" + this.post.group_id,\n        backListItem: this.post,\n        hideHelpIcon:\n          this.post.Group.configuration &&\n          this.post.Group.configuration.hideHelpIcon\n            ? true\n            : null,\n      });\n\n      if (\n        this.post.Group.configuration &&\n        this.post.Group.configuration.disableFacebookLoginForGroup === true\n      ) {\n        window.appGlobals.disableFacebookLoginForGroup = true;\n      } else {\n        window.appGlobals.disableFacebookLoginForGroup = false;\n      }\n\n      this.fire(\"yp-set-home-link\", {\n        type: \"group\",\n        id: this.post.Group.id,\n        name: this.post.Group.name,\n      } as YpHomeLinkData);\n\n      if (\n        this.post.Group &&\n        this.post.Group.Community &&\n        this.post.Group.Community.configuration &&\n        this.post.Group.Community.configuration.signupTermsPageId &&\n        this.post.Group.Community.configuration.signupTermsPageId != -1\n      ) {\n        window.appGlobals.signupTermsPageId =\n          this.post.Group.Community.configuration.signupTermsPageId;\n      } else {\n        window.appGlobals.signupTermsPageId = undefined;\n      }\n\n      window.appGlobals.currentGroup = this.post.Group;\n\n      if (\n        (this.post.Group.configuration &&\n          this.post.Group.configuration.forceSecureSamlLogin &&\n          !YpAccessHelpers.checkGroupAccess(this.post.Group)) ||\n        (this.post.Group.Community &&\n          this.post.Group.Community.configuration &&\n          this.post.Group.Community.configuration.forceSecureSamlLogin &&\n          !YpAccessHelpers.checkCommunityAccess(this.post.Group.Community))\n      ) {\n        window.appGlobals.currentForceSaml = true;\n      } else {\n        window.appGlobals.currentForceSaml = false;\n      }\n\n      if (\n        (this.post.Group.configuration &&\n          this.post.Group.configuration.forceSecureSamlLogin) ||\n        (this.post.Group.Community &&\n          this.post.Group.Community.configuration &&\n          this.post.Group.Community.configuration.forceSecureSamlLogin)\n      ) {\n        window.appGlobals.currentForceSaml = true;\n      } else {\n        window.appGlobals.currentForceSaml = false;\n      }\n\n      if (\n        this.post.Group.Community &&\n        this.post.Group.Community.configuration &&\n        this.post.Group.Community.configuration.customSamlDeniedMessage\n      ) {\n        window.appGlobals.currentSamlDeniedMessage =\n          this.post.Group.Community.configuration.customSamlDeniedMessage;\n      } else {\n        window.appGlobals.currentSamlDeniedMessage = undefined;\n      }\n\n      if (\n        this.post.Group.configuration &&\n        this.post.Group.configuration.maxNumberOfGroupVotes\n      ) {\n        window.appUser.calculateVotesLeftForGroup(this.post.Group);\n      }\n    }\n  }\n}\n"]}