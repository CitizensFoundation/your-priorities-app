{"version":3,"file":"yp-post-points.js","sourceRoot":"","sources":["../../src/yp-post/yp-post-points.ts"],"names":[],"mappings":"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","sourcesContent":["import { YpAccessHelpers } from \"../common/YpAccessHelpers.js\";\nimport { YpMediaHelpers } from \"../common/YpMediaHelpers.js\";\n\nimport { YpCollection } from \"../yp-collection/yp-collection.js\";\nimport { nothing, html, TemplateResult, LitElement, css } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\nimport \"@material/web/progress/linear-progress.js\";\n//import { Radio } from '@material/md-radio';\nimport \"@material/web/textfield/outlined-text-field.js\";\nimport \"@material/web/radio/radio.js\";\n\nimport \"../yp-file-upload/yp-file-upload.js\";\nimport \"../yp-file-upload/yp-file-upload-icon.js\";\nimport \"../common/yp-emoji-selector.js\";\n\nimport { YpFileUpload } from \"../yp-file-upload/yp-file-upload.js\";\nimport { YpEmojiSelector } from \"../common/yp-emoji-selector.js\";\nimport \"../yp-point/yp-point.js\";\nimport { YpFormattingHelpers } from \"../common/YpFormattingHelpers.js\";\nimport { YpBaseElementWithLogin } from \"../common/yp-base-element-with-login.js\";\n//import { RangeChangedEvent } from '@lit-labs/virtualizer/Virtualizer.js';\nimport { LitVirtualizer } from \"@lit-labs/virtualizer\";\nimport { FlowLayout } from \"@lit-labs/virtualizer/layouts/flow.js\";\nimport { YpMagicText } from \"../yp-magic-text/yp-magic-text.js\";\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nimport { MdOutlinedTextField } from \"@material/web/textfield/outlined-text-field.js\";\nimport { MdRadio } from \"@material/web/radio/radio.js\";\n\n//import { YpAutoTranslateDialog } from '../yp-dialog-container/yp-autotranslate-dialog.js';\n\n@customElement(\"yp-post-points\")\nexport class YpPostPoints extends YpBaseElementWithLogin {\n  @property({ type: Boolean })\n  fetchActive = false;\n\n  @property({ type: Boolean })\n  isAdmin = false;\n\n  @property({ type: Boolean })\n  disableDebate = false;\n\n  @property({ type: Array })\n  points: Array<YpPointData> | undefined;\n\n  @property({ type: Array })\n  downPoints: Array<YpPointData> | undefined;\n\n  @property({ type: Array })\n  upPoints: Array<YpPointData> | undefined;\n\n  @property({ type: String })\n  newPointTextCombined: string | undefined;\n\n  @property({ type: Object })\n  post!: YpPostData;\n\n  @property({ type: String })\n  labelMobileUpOrDown: string | undefined;\n\n  @property({ type: String })\n  labelUp: string | undefined;\n\n  @property({ type: String })\n  labelDown: string | undefined;\n\n  @property({ type: String })\n  pointUpOrDownSelected = \"pointFor\";\n\n  @property({ type: Object })\n  latestPointCreatedAt: Date | undefined;\n\n  @property({ type: Number })\n  scrollToId: number | undefined;\n\n  @property({ type: Boolean })\n  addPointDisabled = false;\n\n  @property({ type: Number })\n  uploadedVideoUpId: number | undefined;\n\n  @property({ type: Number })\n  uploadedVideoDownId: number | undefined;\n\n  @property({ type: Number })\n  uploadedVideoMobileId: number | undefined;\n\n  @property({ type: Number })\n  currentVideoId: number | undefined;\n\n  @property({ type: Boolean })\n  hideUpVideo = false;\n\n  @property({ type: Boolean })\n  hideDownVideo = false;\n\n  @property({ type: Boolean })\n  hideMobileVideo = false;\n\n  @property({ type: Number })\n  uploadedAudioUpId: number | undefined;\n\n  @property({ type: Number })\n  uploadedAudioDownId: number | undefined;\n\n  @property({ type: Number })\n  uploadedAudioMobileId: number | undefined;\n\n  @property({ type: Number })\n  currentAudioId: number | undefined;\n\n  @property({ type: Boolean })\n  hideUpAudio = false;\n\n  @property({ type: Boolean })\n  hideDownAudio = false;\n\n  @property({ type: Boolean })\n  hideMobileAudio = false;\n\n  @property({ type: Boolean })\n  hideUpText = false;\n\n  @property({ type: Boolean })\n  hideDownText = false;\n\n  @property({ type: Boolean })\n  hideMobileText = false;\n\n  @property({ type: Boolean })\n  selectedPointForMobile = false;\n\n  @property({ type: Boolean })\n  isAndroid = false;\n\n  @property({ type: String })\n  hasCurrentUpVideo: string | undefined;\n\n  @property({ type: String })\n  hasCurrentDownVideo: string | undefined;\n\n  @property({ type: String })\n  hasCurrentMobileVideo: string | undefined;\n\n  @property({ type: String })\n  hasCurrentUpAudio: string | undefined;\n\n  @property({ type: String })\n  hasCurrentDownAudio: string | undefined;\n\n  @property({ type: String })\n  hasCurrentMobileAudio: string | undefined;\n\n  @property({ type: Array })\n  storedPoints: Array<YpPointData> | undefined;\n\n  loadedPointIds: Record<number, boolean> = {};\n\n  loadMoreInProgress = false;\n\n  totalCount: number | undefined;\n\n  storedUpPointsCount = 0;\n\n  storedDownPointsCount = 0;\n\n  noMorePoints = false;\n\n  get textValueUp() {\n    if (this.$$(\"#up_point\"))\n      return (this.$$(\"#up_point\") as MdOutlinedTextField).value;\n    else return \"\";\n  }\n\n  _clearTextValueUp() {\n    if (this.$$(\"#up_point\"))\n      (this.$$(\"#up_point\") as MdOutlinedTextField).value = \"\";\n  }\n\n  get textValueDown() {\n    if (this.$$(\"#down_point\"))\n      return (this.$$(\"#down_point\") as MdOutlinedTextField).value;\n    else return \"\";\n  }\n\n  _clearTextValueDown() {\n    if (this.$$(\"#down_point\"))\n      (this.$$(\"#down_point\") as MdOutlinedTextField).value = \"\";\n  }\n\n  get textValueMobileUpOrDown() {\n    if (this.$$(\"#mobile_point\"))\n      return (this.$$(\"#mobile_point\") as MdOutlinedTextField).value;\n    else return \"\";\n  }\n\n  _clearTextValueMobileUpOrDown() {\n    if (this.$$(\"#up_point\"))\n      (this.$$(\"#up_point\") as MdOutlinedTextField).value = \"\";\n  }\n\n  override updated(changedProperties: Map<string | number | symbol, unknown>) {\n    super.updated(changedProperties);\n\n    if (changedProperties.has(\"wide\")) {\n      this._updateEmojiBindings();\n    }\n    if (changedProperties.has(\"points\")) {\n      this._pointsChanged();\n    }\n\n    if (changedProperties.has(\"post\")) {\n      this._postChanged();\n    }\n\n    if (changedProperties.has(\"isAdmin\")) {\n      this._isAdminChanged();\n    }\n\n    if (\n      changedProperties.has(\"pointUpOrDownSelected\") ||\n      changedProperties.has(\"post\")\n    ) {\n      this._pointUpOrDownSelectedChanged();\n    }\n\n    if (changedProperties.has(\"hasCurrentUpVideo\")) {\n      this._hasCurrentUpVideo();\n    }\n\n    if (changedProperties.has(\"hasCurrentDownVideo\")) {\n      this._hasCurrentDownVideo();\n    }\n\n    if (changedProperties.has(\"hasCurrentMobileVideo\")) {\n      this._hasCurrentMobileVideo();\n    }\n    if (changedProperties.has(\"hasCurrentUpAudio\")) {\n      this._hasCurrentUpAudio();\n    }\n\n    if (changedProperties.has(\"hasCurrentDownAudio\")) {\n      this._hasCurrentDownAudio();\n    }\n\n    if (changedProperties.has(\"hasCurrentMobileAudio\")) {\n      this._hasCurrentMobileAudio();\n    }\n  }\n\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        :host {\n          display: block;\n        }\n\n        md-linear-progress {\n          width: 95%;\n          margin-top: 64px;\n        }\n\n        md-filled-button[has-static-theme] {\n          --md-filled-button-container-color: var(--md-sys-color-primary-container);\n          --md-filled-button-label-text-color: var(--md-sys-color-on-primary-container);\n        }\n\n        .happyFace {\n          color: var(--yp-sys-color-up);\n          --md-icon-size: 48px;\n          margin-right: 16px;\n          margin-top: -6px;\n          margin-left: -4px;\n        }\n\n        .sadFace {\n          color: var(--yp-sys-color-down);\n          --md-icon-size: 48px;\n          margin-right: 16px;\n          margin-top: -6px;\n          margin-left: -4px;\n        }\n\n        yp-user-image {\n          margin-right: 16px;\n        }\n\n        .topContainer {\n        }\n\n        .main-container {\n        }\n\n        .processBar {\n          height: 4px;\n          margin: 0;\n          padding: 0;\n        }\n\n        .pointInfo {\n          opacity: 0.5;\n          font-size: 17px;\n          font-weight: 400;\n          margin-top: 48px;\n          margin-bottom: 32px;\n        }\n\n        .pointInfoIcon {\n          width: 24px;\n          height: 24px;\n          padding-left: 4px;\n          padding-right: 4px;\n        }\n\n        .point {\n          max-width: 420px;\n          margin-right: 32px;\n          margin-left: 32px;\n        }\n\n        .pointInputMaterial {\n        }\n\n        yp-point {\n        }\n\n        .pointMaterial {\n        }\n\n        .thumbIcon {\n        }\n\n        .editIcon {\n        }\n\n        .addPointFab {\n          width: 100%;\n          margin-top: 16px;\n          margin-bottom: 32px;\n          margin-left: 24px;\n        }\n\n        md-filled-text-field[is-up] {\n          --md-filled-text-field-container-color: var(--md-sys-color-surface-container);\n          --md-filled-text-field-active-indicator-color: var(--yp-sys-color-up);\n          --md-filled-text-field-caret-color: var(--yp-sys-color-on-container-up);\n          --md-filled-field-focus-label-text-color: var(--yp-sys-color-on-container-up);\n          --md-filled-field-focus-active-indicator-color: var(--yp-sys-color-up);\n        }\n\n        md-filled-text-field[is-down] {\n          --md-filled-text-field-container-color: var(--md-sys-color-surface-container);\n          --md-filled-text-field-active-indicator-color: var(--yp-sys-color-down);\n          --md-filled-text-field-caret-color: var(--yp-sys-color-on-container-down);\n          --md-filled-field-focus-label-text-color: var(--yp-sys-color-on-container-down);\n          --md-filled-field-focus-active-indicator-color: var(--yp-sys-color-down);\n        }\n\n        .submitButton[is-up] {\n          --md-filled-button-container-color: var(--yp-sys-color-up);\n          --md-filled-button-label-text-color: var(--yp-sys-color-on-up);\n        }\n\n        .submitButton[is-down] {\n          --md-filled-button-container-color: var(--yp-sys-color-down);\n          --md-filled-button-label-text-color: var(--yp-sys-color-on-down);\n        }\n\n        .howToWriteInfoText {\n          padding-top: 4px;\n        }\n\n        .penContainer {\n          margin-top: 42px;\n        }\n\n        .upOrDown {\n          margin-top: 72px;\n        }\n\n        #pointUpOrDownMaterial {\n        }\n\n        .mobileFab {\n          margin-top: 8px;\n        }\n\n        md-outlined-button {\n        }\n\n        lit-virtualizer {\n          width: 450px;\n          height: 80vh;\n          overflow: hidden;\n        }\n\n        @media (max-width: 985px) {\n          .pointInputMaterial {\n            width: 100%;\n            max-width: 568px;\n            font-size: 14px;\n            padding-top: 4px;\n            margin-top: 0;\n          }\n\n          .pointMaterial {\n            width: 100%;\n            max-width: 600px;\n            padding-left: 0;\n            padding-right: 0;\n          }\n\n          .pointMaterial[is-last-point] {\n            margin-bottom: 32px;\n          }\n\n          #pointUpOrDownMaterial {\n            margin-top: 16px;\n          }\n\n          .main-container {\n            width: 100%;\n          }\n\n          lit-virtualizer {\n            width: 100%;\n          }\n\n          .point {\n            padding-left: 0;\n            padding-right: 0;\n          }\n        }\n\n        .pointMainHeader {\n          font-size: 22px;\n          font-weight: 700;\n          font-family: var(--md-ref-typeface-brand);\n          margin-top: 32px;\n          margin-bottom: 32px;\n        }\n\n        @media (max-width: 420px) {\n          .pointInputMaterial {\n            width: 90%;\n            max-width: 90%;\n          }\n        }\n\n        #pointUpMaterialNotUsed {\n          border-top: solid 2px;\n          border-top-color: var(--master-point-up-color);\n        }\n\n        #pointDownMaterialNotUsed {\n          border-top: solid 2px;\n          border-top-color: var(--master-point-down-color);\n        }\n\n        .pointElement {\n          margin-bottom: 18px;\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n\n        lit-virtualizer {\n          height: 80vh;\n        }\n\n        #listMobile[debate-disabled] {\n          margin-top: 16px;\n        }\n\n        .mainSpinner {\n          margin: 32px;\n        }\n\n        .uploadNotLoggedIn {\n          min-width: 100px;\n          margin-bottom: 24px;\n        }\n\n        .uploadNotLoggedIn > .icon {\n          padding-right: 8px;\n        }\n\n        .pointButtons {\n          margin-bottom: 4px;\n        }\n\n        .bottomDiv {\n          margin-bottom: 32px;\n        }\n\n        .uploadSection {\n          justify-content: space-evenly;\n          width: 50%;\n          margin-left: 8px;\n          margin-right: 8px;\n          vertical-align: top;\n        }\n\n        .videoUploadDisclamer {\n          font-size: 12px;\n          padding: 8px;\n          margin-bottom: 4px;\n        }\n\n        div[rtl] {\n          direction: rtl;\n        }\n      `,\n    ];\n  }\n\n  renderAudioUpload(\n    type: string,\n    hideAudio: boolean,\n    hasCurrentAudio: string | undefined,\n    uploadAudioPointHeader: string\n  ) {\n    return this.post.Group.configuration.allowPointAudioUploads\n      ? html`\n          <div ?hidden=\"${hideAudio}\" class=\"uploadSection\">\n            <div\n              class=\"layout vertical center-center\"\n              ?hidden=\"${!this.isLoggedIn}\"\n            >\n              <yp-file-upload-icon\n                simple\n                id=\"audioFileUpload${type}\"\n                current-file=\"${ifDefined(hasCurrentAudio)}\"\n                container-type=\"points\"\n                .uploadlimitSeconds=\"${this.post.Group.configuration\n                  .audioPointUploadLimitSec}\"\n                .group=\"${this.post.Group}\"\n                raised\n                audioUpload\n                buttonIcon=\"keyboard_voice\"\n                .buttonText=\"${uploadAudioPointHeader}\"\n                method=\"POST\"\n                @success=\"${this._audioUpUploaded}\"\n              >\n              </yp-file-upload-icon>\n            </div>\n            <div class=\"layout horizontal center-center\">\n              <md-icon-button\n                class=\"uploadNotLoggedIn\"\n                ?hidden=\"${this.isLoggedIn}\"\n                @click=\"${this._openLogin}\"\n                .label=\"${uploadAudioPointHeader}\"\n                ><md-icon>keyboard_voice</md-icon>\n              </md-icon-button>\n            </div>\n          </div>\n        `\n      : nothing;\n  }\n\n  renderVideoUpload(\n    type: string,\n    hideVideo: boolean,\n    hasCurrentVideo: string | undefined,\n    uploadVideoHeader: string,\n    videoUploadedFunc: Function,\n    uploadedVideoId: number | undefined\n  ) {\n    return this.post.Group.configuration.allowPointVideoUploads\n      ? html`\n          <div ?hidden=\"${hideVideo}\" class=\"uploadSection\">\n            <div\n              class=\"layout vertical center-center self-start\"\n              ?hidden=\"${!this.isLoggedIn}\"\n            >\n              <yp-file-upload-icon\n                simple\n                id=\"videoFileUpload${type}\"\n                noDefaultCoverImage\n                .uploadLimitSeconds=\"${this.post.Group.configuration\n                  .videoPointUploadLimitSec}\"\n                .currentFile=\"${hasCurrentVideo as unknown as YpUploadFileData}\"\n                containerType=\"points\"\n                .group=\"${this.post.Group}\"\n                raised\n                videoUpload\n                method=\"POST\"\n                buttonIcon=\"videocam\"\n                .buttonText=\"${uploadVideoHeader}\"\n                @success=\"${videoUploadedFunc}\"\n              >\n              </yp-file-upload-icon>\n            </div>\n            <div\n              class=\"videoUploadDisclamer\"\n              ?hidden=\"${!this.post.Group.configuration\n                .showVideoUploadDisclaimer || !uploadedVideoId}\"\n            >\n              ${this.t(\"videoUploadDisclaimer\")}\n            </div>\n            <div class=\"layout horizontal center-center\">\n              <md-icon-button\n                class=\"uploadNotLoggedIn\"\n                ?hidden=\"${this.isLoggedIn}\"\n                @click=\"${this._openLogin}\"\n                .label=\"${uploadVideoHeader}\"\n                ><md-icon>videocam</md-icon>\n              </md-icon-button>\n            </div>\n          </div>\n        `\n      : nothing;\n  }\n\n  renderMobilePointSelection() {\n    html` <div class=\"layout vertical end-justified\">\n      <div\n        class=\"layout horizontal center-center pointButtons\"\n        ?hidden=\"${this.post.Group.configuration.hidePointAgainst}\"\n      >\n        <label\n          >${this.t(\"pointForShort\")}\n          <md-radio\n            @click=\"${this._chooseUpOrDownRadio}\"\n            ?selected=\"${this.pointUpOrDownSelected == \"pointFor\"}\"\n            id=\"upRadio\"\n            name=\"upOrDown\"\n          ></md-radio>\n        </label>\n\n        <label\n          >${this.t(\"pointAgainstShort\")}\n          <md-radio\n            @click=\"${this._chooseUpOrDownRadio}\"\n            ?selected=\"${this.pointUpOrDownSelected == \"pointAgainst\"}\"\n            id=\"downRadio\"\n            name=\"upOrDown\"\n          ></md-radio>\n        </label>\n      </div>\n    </div>`;\n  }\n\n  renderPointItem(point: YpPointData, index: number): TemplateResult {\n    return html`<div\n      class=\"item layout-horizontal\"\n      tabindex=\"${index}\"\n      role=\"listitem\"\n      aria-level=\"3\"\n    >\n      <div\n        id=\"point${point.id}\"\n        class=\"pointMaterial\"\n        ?is-last-point=\"${point.isLastPointInList}\"\n      >\n        <yp-point\n          .point=\"${point}\"\n          .group=\"${this.post.Group}\"\n          .post=\"${this.post}\"\n        ></yp-point>\n      </div>\n    </div>`;\n  }\n\n  renderHeaderIcon(headerTextType: string) {\n    if (headerTextType == \"alternativePointForHeader\") {\n      return html` <md-icon class=\"happyFace\">sentiment_satisfied</md-icon> `;\n    } else {\n      return html` <md-icon class=\"sadFace\">sentiment_dissatisfied</md-icon> `;\n    }\n  }\n\n  renderPointHeader(\n    header: string,\n    alternativeHeader: string | undefined,\n    headerTextType: string,\n    pointsLength: number\n  ) {\n    return !alternativeHeader\n      ? html`\n          <div\n            class=\"pointMainHeader layout horizontal\"\n            role=\"heading\"\n            aria-level=\"2\"\n          >\n            ${this.renderHeaderIcon(headerTextType)} ${header} (${pointsLength})\n          </div>\n        `\n      : html`\n          <div class=\"pointMainHeader layout horizontal\">\n            ${this.renderHeaderIcon(headerTextType)}\n            <yp-magic-text\n              .contentId=\"${this.post.Group.id}\"\n              textOnly\n              .content=\"${alternativeHeader}\"\n              .contentLanguage=\"${this.post.Group.language}\"\n              role=\"heading\"\n              aria-level=\"2\"\n              class=\"ratingName\"\n              .postfixText=\" (${pointsLength})\"\n              textType=\"${headerTextType}\"\n            >\n            </yp-magic-text>\n          </div>\n        `;\n  }\n\n  renderPointList(\n    type: string,\n    header: string,\n    alternativeHeader: string | undefined,\n    headerTextType: string,\n    label: string | undefined,\n    hideVideo: boolean,\n    hideText: boolean,\n    hasCurrentVideo: string | undefined,\n    videoUploadedFunc: Function,\n    uploadVideoHeader: string,\n    uploadedVideoId: number | undefined,\n    pointFocusFunction: Function,\n    hideAudio: boolean,\n    hasCurrentAudio: string | undefined,\n    uploadAudioPointHeader: string,\n    ifLengthIsRight: boolean,\n    addPointFunc: Function,\n    points: Array<YpPointData> | undefined,\n    mobile = false\n  ) {\n    if (false && points && points!.length == 0) {\n      return html`<div class=\"point\">\n        ${this.renderPointHeader(header, \"Engin rk til\", headerTextType, 0)}\n      </div> `;\n    } else {\n      return html`\n        <div class=\"point\">\n          ${this.renderPointHeader(\n            header,\n            alternativeHeader,\n            headerTextType,\n            points ? points.length : 0\n          )}\n\n          <div\n            id=\"point${type}Material\"\n            class=\"pointInputMaterial\n                    layout vertical\"\n            ?hidden=\"${this.post.Group.configuration.disableDebate}\"\n          >\n            <div class=\"layout horizontal\">\n              ${window.appUser.user\n                ? html`<yp-user-image\n                    medium\n                    .user=\"${window.appUser.user}\"\n                  ></yp-user-image>`\n                : nothing}\n\n              <md-filled-text-field\n                ?is-up=\"${type == \"Up\"}\"\n                ?is-down=\"${type == \"Down\"}\"\n                id=\"${type.toLowerCase()}_point\"\n                @focus=\"${pointFocusFunction}\"\n                @blur=\"${this.blurOutlinedTextField}\"\n                .label=\"${label ? label : \"\"}\"\n                charCounter\n                hasTrailingIcon\n                type=\"textarea\"\n                rows=\"4\"\n                @keyup=\"${() => {\n                  this.requestUpdate();\n                }}\"\n                ?hidden=\"${hideText}\"\n                maxrows=\"4\"\n                .maxLength=\"${this.pointMaxLength}\"\n                ><div class=\"layout vertical\" slot=\"trailing-icon\">\n                  <yp-emoji-selector\n                    id=\"point${type}EmojiSelector\"\n                    ?hidden=\"${hideText ||\n                    this.post.Group.configuration.hideEmoji}\"\n                  ></yp-emoji-selector>\n\n                  ${this.renderVideoUpload(\n                    type,\n                    hideVideo,\n                    hasCurrentVideo,\n                    uploadVideoHeader,\n                    videoUploadedFunc,\n                    uploadedVideoId\n                  )}\n                  ${this.renderAudioUpload(\n                    type,\n                    hideAudio,\n                    hasCurrentAudio,\n                    uploadAudioPointHeader\n                  )}\n                </div>\n              </md-filled-text-field>\n            </div>\n\n            ${mobile ? this.renderMobilePointSelection() : nothing}\n\n            <div class=\"addPointFab layout horizontal center-center\">\n                <md-filled-button\n                  ?has-static-theme=\"${this.hasStaticTheme}\"\n                  class=\"submitButton\"\n                   ?is-up=\"${type == \"Up\"}\"\n                   ?is-down=\"${type == \"Down\"}\"\n                   ?hidden=\"${!ifLengthIsRight}\"\n                  ?disabled=\"${this.addPointDisabled || !ifLengthIsRight}\"\n                  @click=\"${addPointFunc}\"\n                  >${this.t(\"postPoint\")}</md-filled-button\n                >\n              </div>\n          </div>\n\n          ${points\n            ? html`\n                <lit-virtualizer\n                  id=\"list${type}\"\n                  .items=${points}\n                  .layout=\"${FlowLayout}\"\n                  .scrollTarget=\"${window}\"\n                  .renderItem=${this.renderPointItem.bind(this)}\n                  @rangeChanged=${this.scrollEvent}\n                ></lit-virtualizer>\n              `\n            : nothing}\n        </div>\n      `;\n    }\n  }\n\n  scrollEvent(event: any /*RangeChangedEvent*/) {\n    //TODO\n  }\n\n  renderTranslationPlaceholders() {\n    return html`${!this.post.Group.configuration.alternativePointForLabel\n      ? html`\n          <yp-magic-text\n            id=\"alternativePointForLabelId\"\n            hidden\n            contentId=\"${this.post.Group.id}\"\n            textOnly\n            .content=\"${this.post.Group.configuration.alternativePointForLabel}\"\n            .contentLanguage=\"${this.post.Group.language}\"\n            @new-translation=\"${this._updatePointLabels}\"\n            role=\"heading\"\n            aria-level=\"2\"\n            textType=\"alternativePointForLabel\"\n          >\n          </yp-magic-text>\n        `\n      : nothing}\n    ${!this.post.Group.configuration.alternativePointAgainstLabel\n      ? html`\n          <yp-magic-text\n            id=\"alternativePointAgainstLabelId\"\n            hidden\n            contentId=\"${this.post.Group.id}\"\n            textOnly\n            .content=\"${this.post.Group.configuration\n              .alternativePointAgainstLabel}\"\n            .contentLanguage=\"${this.post.Group.language}\"\n            @new-translation=\"${this._updatePointLabels}\"\n            role=\"heading\"\n            aria-level=\"2\"\n            textType=\"alternativePointAgainstLabel\"\n          >\n          </yp-magic-text>\n        `\n      : nothing}`;\n  }\n\n  renderPointInfo() {\n    return html`\n      <div class=\"pointInfo layout vertical center-center\">\n        <div>\n          ${this.t(\"upvote\")}\n          <md-icon class=\"pointInfoIcon\">arrow_upward</md-icon> ${this.t(\n            \"orDownvote\"\n          )} <md-icon class=\"pointInfoIcon\">arrow_downward</md-icon> ${this.t(\n            \"pointsByPressingTheArrows\"\n          )}\n        </div>\n      </div>\n    `;\n  }\n\n  override render() {\n    return html`\n      <div class=\"processBar layout horizontal center-center\">\n        <md-linear-progress\n          indeterminate\n          ?hidden=\"${!this.fetchActive}\"\n        ></md-linear-progress>\n      </div>\n\n      ${this.wideReady\n        ? html`\n            <div ?rtl=\"${this.rtl}\" class=\"layout vertical topContainer\" ?hidden=\"${this.fetchActive}\">\n              ${this.renderPointInfo()}\n              <div class=\"main-container layout horizontal\">\n                ${this.renderPointList(\n                  \"Up\",\n                  this.t(\"pointsFor\"),\n                  this.post.Group.configuration.alternativePointForHeader,\n                  \"alternativePointForHeader\",\n                  this.labelUp,\n                  this.hideUpVideo,\n                  this.hideUpText,\n                  this.hasCurrentUpVideo,\n                  this._videoUpUploaded,\n                  this.t(\"uploadVideoPointFor\"),\n                  this.uploadedVideoUpId,\n                  this.focusUpPoint,\n                  this.hideUpAudio,\n                  this.hasCurrentUpAudio,\n                  this.t(\"uploadAudioPointFor\"),\n                  this.ifLengthUpIsRight,\n                  this.addPointUp,\n                  this.upPoints\n                )}\n                ${this.renderPointList(\n                  \"Down\",\n                  this.t(\"pointsAgainst\"),\n                  this.post.Group.configuration.alternativePointAgainstHeader,\n                  \"alternativePointAgainstHeader\",\n                  this.labelDown,\n                  this.hideDownVideo,\n                  this.hideDownText,\n                  this.hasCurrentDownVideo,\n                  this._videoDownUploaded,\n                  this.t(\"uploadVideoPointAgainst\"),\n                  this.uploadedVideoDownId,\n                  this.focusDownPoint,\n                  this.hideDownAudio,\n                  this.hasCurrentDownAudio,\n                  this.t(\"uploadAudioPointAgainst\"),\n                  this.ifLengthDownIsRight,\n                  this.addPointDown,\n                  this.downPoints\n                )}\n              </div>\n            </div>\n          `\n        : nothing}\n      ${this.smallReady\n        ? html`\n            <div ?rtl=\"${this.rtl}\" class=\"layout vertical center-center\">\n              ${this.renderPointList(\n                \"Mobile\",\n                this.t(\"pointsForAndAgainst\"),\n                this.post.Group.configuration.alternativePointAgainstHeader,\n                \"alternativePointAgainstHeader\",\n                this.labelMobileUpOrDown,\n                this.hideMobileVideo,\n                this.hideMobileText,\n                this.hasCurrentMobileVideo,\n                this._videoMobileUploaded,\n                this.t(\"uploadVideoPointAgainst\"),\n                this.uploadedVideoMobileId,\n                this.focusMobilePoint,\n                this.hideMobileAudio,\n                this.hasCurrentMobileAudio,\n                this.t(\"uploadAudioPointAgainst\"),\n                this.ifLengthMobileIsRight,\n                this.addMobilePointUpOrDown,\n                this.points,\n                true\n              )}\n            </div>\n          `\n        : nothing}\n      ${this.renderTranslationPlaceholders()}\n    `;\n  }\n\n  _chooseUpOrDownRadio() {\n    const up = this.$$(\"#upRadio\") as MdRadio;\n    const down = this.$$(\"#downRadio\") as MdRadio;\n    if (up.checked) this.pointUpOrDownSelected = \"pointFor\";\n    else if (down.checked) this.pointUpOrDownSelected = \"pointAgainst\";\n  }\n\n  get wideReady() {\n    return this.wide && this.post;\n  }\n\n  get smallReady() {\n    return !this.wide && this.post;\n  }\n\n  get pointMaxLength() {\n    if (\n      this.post &&\n      this.post.Group &&\n      this.post.Group.configuration &&\n      this.post.Group.configuration.pointCharLimit\n    ) {\n      return this.post.Group.configuration.pointCharLimit;\n    } else {\n      return 500;\n    }\n  }\n\n  _openLogin() {\n    this.fire(\"yp-open-login\");\n  }\n\n  _videoUpUploaded(event: CustomEvent) {\n    this.uploadedVideoUpId = event.detail.videoId;\n  }\n\n  _videoDownUploaded(event: CustomEvent) {\n    this.uploadedVideoDownId = event.detail.videoId;\n  }\n\n  _videoMobileUploaded(event: CustomEvent) {\n    this.uploadedVideoMobileId = event.detail.videoId;\n  }\n\n  _audioUpUploaded(event: CustomEvent) {\n    this.uploadedAudioUpId = event.detail.audioId;\n  }\n\n  _audioDownUploaded(event: CustomEvent) {\n    this.uploadedAudioDownId = event.detail.audioId;\n  }\n\n  _audioMobileUploaded(event: CustomEvent) {\n    this.uploadedAudioMobileId = event.detail.audioId;\n  }\n\n  get mobileScrollOffset() {\n    if (!this.wide && this.post) {\n      const element = this.$$(\"#listMobile\");\n      if (element) {\n        let top = element.getBoundingClientRect().top;\n        if (top <= 0) {\n          top = 800;\n        }\n        return top;\n      } else {\n        console.warn(\"Can't find mobile list element, returning 800\");\n        return 800;\n      }\n    } else {\n      return 0;\n    }\n  }\n\n  get listResizeScrollThreshold() {\n    if (!this.wide) {\n      return 300;\n    } else {\n      return 300;\n    }\n  }\n\n  get listPaddingTop() {\n    if (this.wide) {\n      return 600;\n    } else {\n      return 500;\n    }\n  }\n\n  override connectedCallback() {\n    super.connectedCallback();\n    const ua = navigator.userAgent.toLowerCase();\n    const isAndroid = ua.indexOf(\"android\") > -1;\n    if (isAndroid) {\n      this.isAndroid = true;\n    }\n    window.addEventListener(\"resize\", this._processStoredPoints.bind(this));\n    this.addListener(\"yp-point-deleted\", this._pointDeleted);\n    this.addListener(\"yp-update-point-in-list\", this._updatePointInLists);\n    this.addListener(\"yp-list-resize\", this._listResize);\n    this.addListener(\"yp-update-points-for-post\", this._loadNewPointsIfNeeded);\n  }\n\n  override disconnectedCallback() {\n    super.disconnectedCallback();\n    window.removeEventListener(\"resize\", this._processStoredPoints);\n    this.removeListener(\"yp-point-deleted\", this._pointDeleted);\n    this.removeListener(\"yp-update-point-in-list\", this._updatePointInLists);\n    this.removeListener(\"yp-list-resize\", this._listResize);\n    this.removeListener(\n      \"yp-update-points-for-post\",\n      this._loadNewPointsIfNeeded\n    );\n  }\n\n  _listResize() {\n    window.scrollBy(0, 200);\n  }\n\n  _loadNewPointsIfNeeded(event: CustomEvent) {\n    if (this.post && this.post.id == event.detail.postId) {\n      if (this.latestPointCreatedAt) {\n        this._getNewPoints();\n      } else {\n        console.error(\"Trying to send point without latestPointCreatedAt\");\n      }\n    }\n  }\n\n  _loadMorePoints() {\n    if (!this.loadMoreInProgress && !this.noMorePoints) {\n      this.loadMoreInProgress = true;\n      if (this.post && this.storedPoints && this.storedPoints.length > 0) {\n        this._getMorePoints();\n      } else {\n        console.warn(\"Trying to load more points early\");\n        this.loadMoreInProgress = false;\n      }\n    }\n  }\n\n  _interleaveMorePoints(points: Array<YpPointData>) {\n    const upPoints = [];\n    const downPoints = [];\n\n    for (let i = 0; i < points.length; i++) {\n      if (points[i].value > 0) {\n        upPoints.push(points[i]);\n      } else if (points[i].value < 0) {\n        downPoints.push(points[i]);\n      }\n    }\n\n    return this.interleaveArrays(upPoints, downPoints);\n  }\n\n  async _getMorePoints() {\n    this.loadMoreInProgress = false;\n    const pointsData = (await window.serverApi.getMorePoints(\n      this.post.id,\n      this.storedUpPointsCount ? this.storedUpPointsCount : 0,\n      this.storedDownPointsCount ? this.storedDownPointsCount : 0\n    )) as YpGetPointsResponse;\n\n    let points = this._preProcessPoints(pointsData.points);\n    if (points.length === 0) {\n      this.noMorePoints = true;\n    }\n\n    let haveAddedPoint = false;\n    points = this._interleaveMorePoints(points);\n    points.forEach((point) => {\n      if (this._addMorePoint(point)) {\n        haveAddedPoint = true;\n      }\n    });\n\n    await this.updateComplete;\n\n    this._listResize();\n\n    if (haveAddedPoint) {\n      this._clearScrollTrigger();\n    }\n  }\n\n  _clearScrollTrigger() {\n    //TODO: Get working if needed\n    /*\n    if (this.$$('#ironScrollThesholdUp'))\n      this.$$('#ironScrollThesholdUp').clearTriggers();\n    if (this.$$('#ironScrollThesholdDown'))\n      this.$$('#ironScrollThesholdDown').clearTriggers();\n    if (this.$$('#ironScrollThesholdMobile'))\n      this.$$('#ironScrollThesholdMobile').clearTriggers();\n      */\n  }\n\n  async _getNewPoints() {\n    if (this.latestPointCreatedAt) {\n      let points = (await window.serverApi.getNewPoints(\n        this.post.id,\n        this.latestPointCreatedAt\n      )) as Array<YpPointData>;\n      points = this._preProcessPoints(points);\n      points.forEach((point) => {\n        this._insertNewPoint(point);\n      });\n      await this.updateComplete;\n\n      this._listResize();\n      this._updateCounterInfo();\n      this.addPointDisabled = false;\n    }\n  }\n\n  _pointDeleted() {\n    this._getPoints();\n  }\n\n  _pointsChanged() {\n    if (this.points) {\n      this._updateEmojiBindings();\n    }\n  }\n\n  _updateEmojiBindings() {\n    setTimeout(() => {\n      if (this.wide) {\n        const upPoint = this.$$(\"#up_point\") as HTMLInputElement;\n        const downPoint = this.$$(\"#down_point\") as HTMLInputElement;\n        const upEmoji = this.$$(\"#pointUpEmojiSelector\") as YpEmojiSelector;\n        const downEmoji = this.$$(\"#pointDownEmojiSelector\") as YpEmojiSelector;\n        if (upPoint && downPoint && upEmoji && downEmoji) {\n          upEmoji.inputTarget = upPoint;\n          downEmoji.inputTarget = downPoint;\n        } else {\n          console.warn(\"Wide: Can't bind emojis :(\");\n        }\n      } else {\n        const upDownPoint = this.$$(\"#mobile_point\") as HTMLInputElement;\n        const upDownEmoji = this.$$(\n          \"#pointMobileEmojiSelector\"\n        ) as YpEmojiSelector;\n        if (upDownPoint && upDownEmoji) {\n          upDownEmoji.inputTarget = upDownPoint;\n        } else {\n          console.warn(\"Small: Can't bind emojis :(\");\n        }\n      }\n    }, 500);\n  }\n\n  _pointUpOrDownSelectedChanged() {\n    if (this.pointUpOrDownSelected == \"pointFor\") {\n      if (\n        this.post &&\n        this.post.Group &&\n        this.post.Group.configuration &&\n        this.post.Group.configuration.alternativePointForLabel\n      ) {\n        this.labelMobileUpOrDown =\n          this.post.Group.configuration.alternativePointForLabel;\n      } else {\n        this.labelMobileUpOrDown = this.t(\"point.for\");\n      }\n      this.selectedPointForMobile = true;\n    } else if (this.pointUpOrDownSelected == \"pointAgainst\") {\n      if (\n        this.post &&\n        this.post.Group &&\n        this.post.Group.configuration &&\n        this.post.Group.configuration.alternativePointAgainstLabel\n      ) {\n        this.labelMobileUpOrDown =\n          this.post.Group.configuration.alternativePointAgainstLabel;\n      } else {\n        this.labelMobileUpOrDown = this.t(\"point.against\");\n      }\n      this.selectedPointForMobile = false;\n    }\n  }\n\n  _clearVideo() {\n    this.uploadedVideoUpId = undefined;\n    this.uploadedVideoDownId = undefined;\n    this.uploadedVideoMobileId = undefined;\n    this.currentVideoId = undefined;\n    this.hideUpVideo = false;\n    this.hideDownVideo = false;\n    this.hideMobileVideo = false;\n    if (this.$$(\"#videoFileUploadUp\"))\n      (this.$$(\"#videoFileUploadUp\") as YpFileUpload).clear();\n    if (this.$$(\"#videoFileUploadDown\"))\n      (this.$$(\"#videoFileUploadDown\") as YpFileUpload).clear();\n    if (this.$$(\"#videoFileUploadMobile\"))\n      (this.$$(\"#videoFileUploadMobile\") as YpFileUpload).clear();\n  }\n\n  _clearAudio() {\n    this.uploadedAudioUpId = undefined;\n    this.uploadedAudioDownId = undefined;\n    this.uploadedAudioMobileId = undefined;\n    this.currentAudioId = undefined;\n    this.hideUpAudio = false;\n    this.hideDownAudio = false;\n    this.hideMobileAudio = false;\n    if (this.$$(\"#audioFileUploadUp\"))\n      (this.$$(\"#audioFileUploadUp\") as YpFileUpload).clear();\n    if (this.$$(\"#audioFileUploadDown\"))\n      (this.$$(\"#audioFileUploadDown\") as YpFileUpload).clear();\n    if (this.$$(\"#audioFileUploadMobile\"))\n      (this.$$(\"#audioFileUploadMobile\") as YpFileUpload).clear();\n  }\n\n  _isAdminChanged() {\n    if (\n      this.post &&\n      this.post.Group &&\n      this.post.Group.configuration &&\n      this.post.Group.configuration.disableDebate\n    ) {\n      if (this.isAdmin && this.post.Group.configuration.allowAdminsToDebate) {\n        this.disableDebate = false;\n      } else {\n        this.disableDebate = true;\n      }\n    } else {\n      this.disableDebate = false;\n    }\n  }\n\n  async _getPoints() {\n    this.fetchActive = true;\n    const pointsWithCount = (await window.serverApi.getPoints(\n      this.post.id\n    )) as YpGetPointsResponse;\n    this.fetchActive = false;\n\n    if (pointsWithCount) {\n      this.storedPoints = this._preProcessPoints(pointsWithCount.points);\n      this.totalCount = pointsWithCount.count;\n      this.storedUpPointsCount = 0;\n      this.storedDownPointsCount = 0;\n\n      if (this.storedPoints) {\n        for (let i = 0; i < this.storedPoints.length; i++) {\n          if (this.storedPoints[i].value > 0) {\n            this.storedUpPointsCount += 1;\n          } else if (this.storedPoints[i].value < 0) {\n            this.storedDownPointsCount += 1;\n          }\n          this.loadedPointIds[this.storedPoints[i].id] = true;\n        }\n        this._processStoredPoints();\n        this.removeElementsByClass(this, \"inserted-outside-list\");\n        this._updateCounterInfo();\n        this._scrollPointIntoView();\n        this._checkForMultipleLanguages();\n      }\n    }\n  }\n\n  _postChanged() {\n    // Remove any manually inserted points when the list is updated\n    this.points = undefined;\n    this.upPoints = undefined;\n    this.downPoints = undefined;\n    this.latestPointCreatedAt = undefined;\n    this.storedPoints = undefined;\n    this._clearVideo();\n    this._clearAudio();\n    this.loadedPointIds = {};\n\n    this.storedUpPointsCount = 0;\n    this.storedDownPointsCount = 0;\n\n    if (this.post) {\n      if (\n        this.post.Group &&\n        this.post.Group.configuration &&\n        this.post.Group.configuration.disableDebate\n      ) {\n        this.disableDebate = true;\n      } else {\n        this.disableDebate = false;\n      }\n\n      if (\n        this.post &&\n        this.post.Group &&\n        this.post.Group.configuration &&\n        this.post.Group.configuration.alternativePointForLabel\n      ) {\n        this.labelUp = this.post.Group.configuration.alternativePointForLabel;\n      } else {\n        this.labelUp = this.t(\"point.for\");\n      }\n      if (\n        this.post &&\n        this.post.Group &&\n        this.post.Group.configuration &&\n        this.post.Group.configuration.alternativePointAgainstLabel\n      ) {\n        this.labelDown =\n          this.post.Group.configuration.alternativePointAgainstLabel;\n      } else {\n        this.labelDown = this.t(\"point.against\");\n      }\n    }\n\n    setTimeout(() => {\n      this._updatePointLabels();\n    });\n\n    this._getPoints();\n  }\n\n  removeElementsByClass(rootElement: HTMLElement, className: string) {\n    const elements = rootElement.getElementsByClassName(className);\n    if (elements) {\n      while (elements.length > 0) {\n        elements![0].parentNode!.removeChild(elements[0]);\n      }\n    }\n  }\n\n  _updatePointLabels() {\n    setTimeout(() => {\n      const forLabel = this.$$(\"#alternativePointForLabelId\") as YpMagicText;\n      const againstLabel = this.$$(\n        \"#alternativePointAgainstLabelId\"\n      ) as YpMagicText;\n      if (forLabel && forLabel.finalContent) {\n        this.labelUp = forLabel.finalContent;\n      }\n      if (againstLabel && againstLabel.finalContent) {\n        this.labelDown = againstLabel.finalContent;\n      }\n    });\n  }\n\n  _processStoredPoints() {\n    console.info(\"_processStoredPoints\");\n    if (this.storedPoints && this.storedPoints.length > 0) {\n      const upPoints = [];\n      const downPoints = [];\n\n      for (let i = 0; i < this.storedPoints.length; i++) {\n        if (this.storedPoints[i].value > 0) {\n          upPoints.push(this.storedPoints[i]);\n        } else if (this.storedPoints[i].value < 0) {\n          downPoints.push(this.storedPoints[i]);\n        }\n      }\n      this.upPoints = upPoints;\n      this.downPoints = downPoints;\n    } else {\n      this.upPoints = [];\n      this.downPoints = [];\n      this.points = [];\n    }\n\n    if (!this.wide && this.upPoints && this.downPoints) {\n      this.points = this.interleaveArrays(this.upPoints, this.downPoints);\n    }\n    this._clearScrollTrigger();\n  }\n\n  _updatePointInLists(event: CustomEvent) {\n    const changedPoint = event.detail as YpPointData;\n    this.upPoints?.forEach((point, index) => {\n      if (point.id === changedPoint.id) {\n        this.upPoints![index] = changedPoint;\n      }\n    });\n\n    this.downPoints?.forEach((point, index) => {\n      if (point.id === changedPoint.id) {\n        this.downPoints![index] = changedPoint;\n      }\n    });\n\n    if (this.points && this.points.length > 0) {\n      this.points.forEach((point, index) => {\n        if (point.id === changedPoint.id) {\n          this.points![index] = changedPoint;\n        }\n      });\n    }\n  }\n\n  _checkForMultipleLanguages() {\n    if (\n      this.upPoints &&\n      !localStorage.getItem(\"dontPromptForAutoTranslation\") &&\n      !sessionStorage.getItem(\"dontPromptForAutoTranslation\")\n    ) {\n      let firstLanguage: string;\n      let multipleLanguages = false;\n      this.upPoints.forEach(function (point) {\n        if (point.language && !multipleLanguages) {\n          if (!firstLanguage && point.language !== \"??\") {\n            firstLanguage = point.language;\n          } else if (\n            firstLanguage &&\n            firstLanguage !== point.language &&\n            point.language !== \"??\"\n          ) {\n            multipleLanguages = true;\n            console.info(\n              \"Multiple point languages: \" +\n                firstLanguage +\n                \" and \" +\n                point.language\n            );\n          }\n        }\n      });\n\n      if (!multipleLanguages && this.downPoints) {\n        this.downPoints.forEach(function (point) {\n          if (point.language && !multipleLanguages) {\n            if (!firstLanguage && point.language !== \"??\") {\n              firstLanguage = point.language;\n            } else if (\n              firstLanguage &&\n              firstLanguage != point.language &&\n              point.language !== \"??\"\n            ) {\n              multipleLanguages = true;\n              console.info(\n                \"Multiple point languages: \" +\n                  firstLanguage +\n                  \" and \" +\n                  point.language\n              );\n            }\n          }\n        });\n      }\n\n      if (multipleLanguages) {\n        /*window.appDialogs.getDialogAsync(\n          'autoTranslateDialog',\n          (dialog: any  YpAutoTranslateDialog) => {\n            dialog.openLaterIfAutoTranslationEnabled();\n          }\n        );*/\n      }\n    }\n  }\n\n  interleaveArrays(arrayA: Array<YpPointData>, arrayB: Array<YpPointData>) {\n    const arrs = [arrayA, arrayB];\n    // eslint-disable-next-line prefer-spread\n    const maxLength = Math.max.apply(\n      Math,\n      arrs.map((arr) => {\n        return arr.length;\n      })\n    );\n\n    const result: Array<YpPointData> = [];\n\n    for (let i = 0; i < maxLength; ++i) {\n      arrs.forEach(function (arr) {\n        if (arr.length > i) {\n          result.push(arr[i]);\n        }\n      });\n    }\n\n    if (\n      result.length > 0 &&\n      (result.length === this.totalCount ||\n        (this.points && this.points.length + result.length === this.totalCount))\n    ) {\n      result[result.length - 1].isLastPointInList = true;\n    }\n\n    return result;\n  }\n\n  _scrollPointIntoView() {\n    if (this.scrollToId) {\n      setTimeout(() => {\n        let hasFoundIt = false;\n        if (!this.wide && this.points) {\n          this.points.forEach((point) => {\n            if (!hasFoundIt && point.id == this.scrollToId) {\n              //TODO: Fix below\n              //this.$$('#listMobile').scrollToItem(point);\n              hasFoundIt = true;\n            }\n          });\n        } else if (this.upPoints && this.downPoints) {\n          this.upPoints.forEach((point) => {\n            if (!hasFoundIt && point.id == this.scrollToId) {\n              //TODO: Make this work\n              //this.$$('#listUp').scrollToItem(point);\n              hasFoundIt = true;\n            }\n          });\n          if (!hasFoundIt) {\n            this.downPoints.forEach((point) => {\n              if (!hasFoundIt && point.id == this.scrollToId) {\n                //TODO: Make this work\n                //this.$$('#listDown').scrollToItem(point);\n                hasFoundIt = true;\n              }\n            });\n          }\n        }\n\n        if (hasFoundIt) {\n          setTimeout(() => {\n            // Change elevation\n            //TODO: Get to work again, use a method to change the shadow-xp class\n            /*const point = this.$$('#point' + this.scrollToId);\n            if (point) {\n              point.elevation = 5;\n              point.elevation = 1;\n              point.elevation = 5;\n              setTimeout(() => {\n                point.elevation = 1;\n              }, 7000);\n            } else {\n              console.warn(\"Can't find point to elevate\");\n            }*/\n            this.scrollToId = undefined;\n          }, 50);\n        }\n      }, 20);\n    }\n  }\n\n  _preProcessPoints(points: Array<YpPointData>): Array<YpPointData> {\n    for (let i = 0; i < points.length; i++) {\n      if (\n        !this.latestPointCreatedAt ||\n        !this.latestPointCreatedAt ||\n        points[i].created_at > this.latestPointCreatedAt\n      ) {\n        this.latestPointCreatedAt = points[i].created_at;\n      }\n      if (\n        points &&\n        points.length > 0 &&\n        points[i].PointRevisions &&\n        points![i].PointRevisions!.length > 0 &&\n        points![i].PointRevisions![points![i].PointRevisions!.length - 1] &&\n        points![i].PointRevisions![points![i].PointRevisions!.length - 1]\n          .content\n      ) {\n        points[i].latestContent =\n          points![i].PointRevisions![\n            points![i].PointRevisions!.length - 1\n          ].content;\n      } else {\n        console.warn(\"No content for point in _preProcessPoints\");\n      }\n    }\n    return points;\n  }\n\n  _updateCounterInfo() {\n    if (this.wide && this.upPoints) {\n      this.fire(\"yp-debate-info\", {\n        count: this.totalCount,\n        firstPoint: this.upPoints[0],\n      });\n    } else if (this.points) {\n      this.fire(\"yp-debate-info\", {\n        count: this.totalCount,\n        firstPoint: this.points[0],\n      });\n    }\n  }\n\n  async _insertNewPoint(point: YpPointData) {\n    if (!this.loadedPointIds[point.id]) {\n      this.loadedPointIds[point.id] = true;\n      if (this.wide) {\n        if (point.value > 0) {\n          this.upPoints?.unshift(point);\n        } else if (point.value < 0) {\n          this.downPoints?.unshift(point);\n        }\n      } else {\n        this.points?.unshift(point);\n      }\n      this.requestUpdate();\n      await this.updateComplete;\n      this.scrollToId = point.id;\n      this._scrollPointIntoView();\n      setTimeout(() => {\n        this._listResize();\n      }, 10);\n      this.storedPoints?.unshift(point);\n    }\n  }\n\n  _addMorePoint(point: YpPointData) {\n    let haveAddedPoints = false;\n    if (!this.loadedPointIds[point.id]) {\n      this.loadedPointIds[point.id] = true;\n      haveAddedPoints = true;\n      if (this.wide) {\n        if (point.value > 0) {\n          this.upPoints?.push(point);\n        } else if (point.value < 0) {\n          this.downPoints?.push(point);\n        }\n      } else {\n        this.points?.push(point);\n      }\n\n      this.storedPoints?.push(point);\n\n      if (point.value > 0) {\n        this.storedUpPointsCount += 1;\n      } else if (point.value < 0) {\n        this.storedDownPointsCount += 1;\n      }\n    }\n\n    return haveAddedPoints;\n  }\n\n  _completeNewPointResponse(point: YpPointData) {\n    this.addPointDisabled = false;\n    point = this._preProcessPoints([point])[0];\n    if (this.currentVideoId) {\n      point.checkTranscriptFor = \"video\";\n    } else if (this.currentAudioId) {\n      point.checkTranscriptFor = \"audio\";\n    }\n    if (point.value > 0) {\n      this.newPointTextCombined =\n        this.t(\"point.forAdded\") +\n        \" \" +\n        YpFormattingHelpers.truncate(point.content, 21);\n      this._clearTextValueUp();\n    } else {\n      this.newPointTextCombined =\n        this.t(\"point.againstAdded\") +\n        \" \" +\n        YpFormattingHelpers.truncate(point.content, 21);\n      this._clearTextValueDown();\n    }\n    this._clearTextValueMobileUpOrDown();\n    this._insertNewPoint(point);\n    this.post.counter_points = this.post.counter_points + 1;\n    //TODO: Get working with a global dialog with  this.newPointTextCombined\n    //this.$$('#newPointToast').show();\n    this._updateCounterInfo();\n    if (point.value > 0) {\n      window.appGlobals.activity(\"completed\", \"newPointFor\");\n    } else {\n      window.appGlobals.activity(\"completed\", \"newPointAgainst\");\n    }\n    this._clearVideo();\n    this._clearAudio();\n  }\n\n  addPointUp() {\n    this.addPoint(\n      this.textValueUp,\n      1,\n      this.uploadedVideoUpId,\n      this.uploadedAudioUpId\n    );\n    window.appGlobals.activity(\"add\", \"pointUp\");\n  }\n\n  addPointDown() {\n    this.addPoint(\n      this.textValueDown,\n      -1,\n      this.uploadedVideoDownId,\n      this.uploadedAudioDownId\n    );\n    window.appGlobals.activity(\"add\", \"pointDown\");\n  }\n\n  addMobilePointUpOrDown() {\n    if (this.pointUpOrDownSelected == \"pointFor\") {\n      this.addPoint(\n        this.textValueMobileUpOrDown,\n        1,\n        this.uploadedVideoMobileId,\n        this.uploadedAudioMobileId\n      );\n      window.appGlobals.activity(\"add\", \"pointUp\");\n    } else if (this.pointUpOrDownSelected == \"pointAgainst\") {\n      this.addPoint(\n        this.textValueMobileUpOrDown,\n        -1,\n        this.uploadedVideoMobileId,\n        this.uploadedAudioMobileId\n      );\n      window.appGlobals.activity(\"add\", \"pointDown\");\n    }\n  }\n\n  async addPoint(\n    content: string,\n    value: number,\n    videoId: number | undefined,\n    audioId: number | undefined\n  ) {\n    if (window.appUser.loggedIn() === true) {\n      if (videoId) this.currentVideoId = videoId;\n      else if (audioId) this.currentAudioId = audioId;\n      this.addPointDisabled = true;\n      let point;\n      try {\n        point = await window.serverApi.addPoint(this.post.group_id, {\n          postId: this.post.id,\n          content: content,\n          value: value,\n        });\n      } catch (error: unknown) {\n        if ((error as YpErrorData).offlineSendLater) {\n          this.addPointDisabled = false;\n          this._clearTextValueDown();\n          this._clearTextValueUp();\n          this._clearTextValueMobileUpOrDown();\n        } else {\n          console.error(error);\n        }\n      }\n      point = this._preProcessPoints([point])[0];\n      if (this.currentVideoId) {\n        await window.serverApi.completeMediaPoint(\"videos\", point.id, {\n          videoId: this.currentVideoId,\n          appLanguage: this.language,\n        });\n        window.appGlobals.showSpeechToTextInfoIfNeeded();\n      } else if (this.currentAudioId) {\n        await window.serverApi.completeMediaPoint(\"audios\", point.id, {\n          videoId: this.currentAudioId,\n          appLanguage: this.language,\n        });\n        window.appGlobals.showSpeechToTextInfoIfNeeded();\n      }\n      this._completeNewPointResponse(point);\n      this.requestUpdate();\n    } else {\n      window.appUser.loginForNewPoint(this, { content: content, value: value });\n    }\n  }\n\n  focusUpPoint() {\n    window.appGlobals.activity(\"focus\", \"pointUp\");\n  }\n\n  focusDownPoint() {\n    window.appGlobals.activity(\"focus\", \"pointDown\");\n  }\n\n  focusMobilePoint() {\n    window.appGlobals.activity(\"focus\", \"mobilePoint\");\n  }\n\n  focusOutlinedTextField(event: CustomEvent) {\n    if (window.innerWidth > 500) {\n      //TODO: Get working again\n      //event.currentTarget.parentElement.elevation = 2;\n    }\n  }\n\n  blurOutlinedTextField(event: CustomEvent) {\n    //TODO: Get working again\n    //event.currentTarget.parentElement.elevation = 1;\n  }\n\n  _hasCurrentUpVideo() {\n    if (this.hasCurrentUpVideo) {\n      this.hideUpAudio = true;\n      this.hideUpText = true;\n    } else {\n      this.hideUpAudio = false;\n      this.hideUpText = false;\n    }\n  }\n\n  _hasCurrentDownVideo() {\n    if (this.hasCurrentDownVideo) {\n      this.hideDownAudio = true;\n      this.hideDownText = true;\n    } else {\n      this.hideDownAudio = false;\n      this.hideDownText = false;\n    }\n  }\n\n  _hasCurrentUpAudio() {\n    if (this.hasCurrentUpAudio) {\n      this.hideUpVideo = true;\n      this.hideUpText = true;\n    } else {\n      this.hideUpVideo = false;\n      this.hideUpText = false;\n    }\n  }\n\n  _hasCurrentDownAudio() {\n    if (this.hasCurrentDownAudio) {\n      this.hideDownVideo = true;\n      this.hideDownText = true;\n    } else {\n      this.hideDownVideo = false;\n      this.hideDownText = false;\n    }\n  }\n\n  _hasCurrentMobileVideo() {\n    if (this.hasCurrentMobileVideo) {\n      this.hideMobileAudio = true;\n      this.hideMobileText = true;\n    } else {\n      this.hideMobileAudio = false;\n      this.hideMobileText = false;\n    }\n  }\n\n  _hasCurrentMobileAudio() {\n    if (this.hasCurrentMobileAudio) {\n      this.hideMobileVideo = true;\n      this.hideMobileText = true;\n    } else {\n      this.hideMobileVideo = false;\n      this.hideMobileText = false;\n    }\n  }\n\n  get ifLengthUpIsRight() {\n    return this.ifLengthIsRight(\n      \"up\",\n      this.textValueUp,\n      this.uploadedVideoUpId,\n      this.uploadedAudioUpId\n    );\n  }\n\n  get ifLengthDownIsRight() {\n    return this.ifLengthIsRight(\n      \"down\",\n      this.textValueDown,\n      this.uploadedVideoDownId,\n      this.uploadedAudioDownId\n    );\n  }\n\n  get ifLengthMobileIsRight() {\n    return this.ifLengthIsRight(\n      \"mobile\",\n      this.textValueMobileUpOrDown,\n      this.uploadedVideoMobileId,\n      this.uploadedAudioMobileId\n    );\n  }\n\n  ifLengthIsRight(\n    type: string,\n    textValue: string | undefined,\n    hasVideoId: number | undefined,\n    hasAudioId: number | undefined\n  ) {\n    if (hasVideoId != undefined) {\n      if (type === \"up\") {\n        this.hideUpVideo = false;\n        this.hideUpAudio = true;\n        this.hideUpText = true;\n      }\n      if (type === \"down\") {\n        this.hideDownVideo = false;\n        this.hideDownAudio = true;\n        this.hideDownText = true;\n      }\n      if (type === \"mobile\") {\n        this.hideMobileVideo = false;\n        this.hideMobileAudio = true;\n        this.hideMobileText = true;\n      }\n      return true;\n    } else if (hasAudioId != undefined) {\n      if (type === \"up\") {\n        this.hideUpAudio = false;\n        this.hideUpVideo = true;\n        this.hideUpText = true;\n      }\n      if (type === \"down\") {\n        this.hideDownAudio = false;\n        this.hideDownVideo = true;\n        this.hideDownText = true;\n      }\n      if (type === \"mobile\") {\n        this.hideMobileAudio = false;\n        this.hideMobileVideo = true;\n        this.hideMobileText = true;\n      }\n      return true;\n    } else if (textValue && textValue.length === 0) {\n      if (type === \"up\") {\n        this.hideUpVideo = false;\n        this.hideUpAudio = false;\n        this.hideUpText = false;\n      }\n      if (type === \"down\") {\n        this.hideDownVideo = false;\n        this.hideDownAudio = false;\n        this.hideDownText = false;\n      }\n      if (type === \"mobile\") {\n        this.hideMobileVideo = false;\n        this.hideMobileAudio = false;\n        this.hideMobileText = false;\n      }\n      return false;\n    } else if (\n      textValue != null &&\n      textValue.length > 0 &&\n      textValue.trim().length > 0\n    ) {\n      if (type === \"up\") {\n        this.hideUpVideo = true;\n        this.hideUpAudio = true;\n        this.hideUpText = false;\n      }\n      if (type === \"down\") {\n        this.hideDownVideo = true;\n        this.hideDownAudio = true;\n        this.hideDownText = false;\n      }\n      if (type === \"mobile\") {\n        this.hideMobileVideo = true;\n        this.hideMobileAudio = true;\n        this.hideMobileText = false;\n      }\n      return true;\n    } else if (\n      textValue != null &&\n      textValue.length > 1 &&\n      textValue.trim().length > 0\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n"]}