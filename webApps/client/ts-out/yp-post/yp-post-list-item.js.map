{"version":3,"file":"yp-post-list-item.js","sourceRoot":"","sources":["../../src/yp-post/yp-post-list-item.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css, nothing } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\n\nimport { YpBaseElement } from '../common/yp-base-element.js';\nimport { ShadowStyles } from '../common/ShadowStyles.js';\nimport { YpPostEdit } from './yp-post-edit.js';\nimport { YpApiActionDialog } from '../yp-api-action-dialog/yp-api-action-dialog.js';\nimport { YpPostBaseWithAnswers } from './yp-post-base-with-answers.js';\nimport { YpAccessHelpers } from '../common/YpAccessHelpers.js';\nimport { YpNavHelpers } from '../common/YpNavHelpers.js';\nimport { YpPostHelpers } from './YpPostHelpers.js';\n\n@customElement('yp-post-list-item')\nexport class YpPostListItem extends YpPostBaseWithAnswers(YpBaseElement) {\n  @property({ type: String })\n  selectedMenuItem: string | undefined;\n\n  @property({ type: Number })\n  elevation = 1;\n\n  @property({ type: Object })\n  override post!: YpPostData;\n\n  @property({ type: Boolean })\n  mini = false;\n\n  @property({ type: Boolean })\n  isAudioCover = false;\n\n  //TODO: Get this working\n  @property({ type: Boolean })\n  isEndorsed = false\n\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        .post-name {\n          margin: 0;\n          padding: 16px;\n          padding-top: 20px;\n          padding-bottom: 8px;\n          cursor: pointer;\n          vertical-align: middle !important;\n          font-size: 1.25rem;\n          background-color: var(--md-sys-color-secondary-container);\n          color: var(--md-sys-color-on-secondary-container);\n          letter-spacing: 0.0125em;\n          font-weight: var(--app-header-font-weight, 500);\n          font-family: var(--app-header-font-family, Roboto);\n        }\n\n        .postNameContainer {\n          width: 100%;\n        }\n\n        .postCardCursor {\n          cursor: pointer;\n        }\n\n        .postCard {\n        }\n\n        :host {\n          display: block;\n        }\n\n        .postCard {\n          height: 100px;\n          width: 895px;\n          border-radius: 4px;\n        }\n\n        .postCard[hide-post-cover] {\n          height: 190px;\n        }\n\n        .postCard[hide-post-cover][hide-actions] {\n          height: 165px;\n        }\n\n        .postCard[hide-post-cover][hide-description] {\n          height: 140px;\n        }\n\n        .postCard[hide-description] {\n          height: 372px;\n        }\n\n        .postCard[hide-description][hide-actions] {\n          height: 331px;\n        }\n\n        .postCard[hide-description][hide-post-cover][hide-actions] {\n          height: 110px;\n        }\n\n        .postCard[hide-actions] {\n          height: 402px;\n        }\n\n        .postCard[mini] {\n          width: 210px;\n          height: 100%;\n          margin: 0;\n          padding-top: 0;\n          padding-bottom: 0;\n        }\n\n        yp-post-cover-media {\n          width: 178px;\n          height: 100px;\n        }\n\n        yp-post-cover-media[mini] {\n          width: 210px;\n          height: 118px;\n          min-height: 118px;\n        }\n\n        .post-name[mini] {\n          padding: 16px;\n        }\n\n        .description {\n          font-size: 17px;\n          padding: 16px;\n          padding-top: 0;\n          cursor: pointer;\n        }\n\n        .postActions {\n          position: absolute;\n          right: 20px;\n          bottom: 0;\n          margin: 0;\n        }\n\n        .shareIcon {\n          position: absolute;\n          left: 8px;\n          bottom: 2px;\n          text-align: right;\n          width: 48px;\n          height: 48px;\n        }\n\n        .customRatings {\n          position: absolute;\n          bottom: 10px;\n          right: 6px;\n        }\n\n        @media (max-width: 960px) {\n          .customRatings {\n            bottom: 12px;\n          }\n\n          :host {\n            width: 100%;\n            max-width: 423px;\n          }\n\n          .description[has-custom-ratings] {\n            padding-bottom: 28px;\n          }\n\n          .postCard {\n            margin-left: 0;\n            margin-right: 0;\n            padding-left: 0;\n            padding-right: 0;\n            width: 100%;\n            height: 100%;\n          }\n\n          .postCard[mini] {\n            width: 210px;\n            height: 100%;\n          }\n\n          .card {\n            margin-left: 0;\n            margin-right: 0;\n            padding-left: 0;\n            padding-right: 0;\n            width: 100%;\n            height: 100%;\n          }\n\n          .card[mini] {\n            width: 210px;\n            height: 100%;\n          }\n\n          yp-post-cover-media {\n            width: 100%;\n            height: 230px;\n          }\n\n          yp-post-cover-media[mini] {\n            width: 210px;\n            height: 118px;\n            min-height: 118px;\n          }\n\n          .card {\n            height: 100%;\n            padding-bottom: 48px;\n          }\n\n          .postCard {\n            height: 100% !important;\n          }\n\n          yp-post-cover-media[audio-cover] {\n            width: 100%;\n            height: 100px;\n          }\n        }\n\n        @media (max-width: 420px) {\n          yp-post-cover-media {\n            height: 225px;\n          }\n          yp-post-cover-media[audio-cover] {\n            height: 100px;\n          }\n        }\n\n        @media (max-width: 375px) {\n          yp-post-cover-media {\n            height: 207px;\n          }\n          yp-post-cover-media[audio-cover] {\n            height: 100px;\n          }\n        }\n\n        @media (max-width: 360px) {\n          yp-post-cover-media {\n            height: 200px;\n          }\n          yp-post-cover-media[audio-cover] {\n            height: 90px;\n          }\n        }\n\n        @media (max-width: 320px) {\n          yp-post-cover-media {\n            height: 180px;\n          }\n          yp-post-cover-media[audio-cover] {\n            height: 90px;\n          }\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n\n        a {\n          text-decoration: none;\n        }\n\n        .share[mini] {\n          display: none;\n        }\n\n        .description {\n          max-width: 480px;\n          font-size: 14px;\n          margin-left: 8px;\n        }\n\n        .tagContainer {\n          color: var(--app-tags-text-color, #111) !important;\n          font-weight: var(--app-tags-font-weight, 500);\n        }\n\n        .middleDot {\n          padding-left: 2px;\n          padding-right: 2px;\n          color: var(--app-tags-color, #656565);\n        }\n      `,\n    ];\n  }\n\n  override render() {\n    return html`\n      <paper-material\n        ?mini=\"${this.mini}\"\n        ?hide-post-cover=\"${this.post.Group.configuration.hidePostCover}\"\n        ?hide-description=\"${this.post.Group.configuration.hidePostDescription}\"\n        ?hide-actions=\"${this.post.Group.configuration.hidePostActionsInGrid}\"\n        ?audio-cover=\"${this.isAudioCover}\"\n        class=\"card postCard layout vertical\"\n        elevation=\"${this.elevation}\"\n        animated\n      >\n        <div class=\"layout vertical\">\n          <a\n            href=\"${this._getPostLink(this.post)}\"\n            id=\"theMainA\"\n            @tap=\"${this._savePostToBackCache}\"\n          >\n            <div class=\"layout horizontal\">\n              <yp-post-cover-media\n                ?mini=\"${this.mini}\"\n                top-radius\n                ?audio-cover=\"${this.isAudioCover}\"\n                alt-tag=\"${this.post.name}\"\n                .post=\"${this.post}\"\n                ?hidden=\"${this.post.Group.configuration.hidePostCover}\"\n              ></yp-post-cover-media>\n              <div class=\"layout vertical\">\n                <div class=\"postNameContainer\">\n                  <div class=\"post-name\" mini$=\"${this.mini}\" id=\"postName\">\n                    <yp-magic-text\n                      id=\"postNameMagicText\"\n                      textType=\"postName\"\n                      .contentLanguage=\"${this.post.language}\"\n                      @click=\"${this.goToPostIfNotHeader}\"\n                      textOnly\n                      content=\"${this.post.name}\"\n                      .contentId=\"${this.post.id}\"\n                    >\n                    </yp-magic-text>\n                  </div>\n                </div>\n                ${!this.post.Group.configuration.usePostTagsForPostListItems\n                  ? html`\n                      ${!this.post.public_data?.structuredAnswersJson\n                        ? html`\n                            <yp-magic-text\n                              class=\"description layout horizontal\"\n                              ?has-custom-ratings=\"${this.post.Group\n                                .configuration.customRatings}\"\n                              ?hidden=\"${this.hideDescription}\"\n                              textType=\"postContent\"\n                              .contentLanguage=\"${this.post.language}\"\n                              @tap=\"${this.goToPostIfNotHeader}\"\n                              remove-urls\n                              textOnly\n                              content=\"${this.post.description}\"\n                              contentId=\"${this.post.id}\"\n                              truncate=\"200\"\n                            >\n                            </yp-magic-text>\n                          `\n                        : nothing}\n                      ${this.post.public_data?.structuredAnswersJson\n                        ? html`\n                            <yp-magic-text\n                              id=\"description\"\n                              textType=\"postContent\"\n                              .contentLanguage=\"${this.post.language}\"\n                              ?hidden=\"${this.hideDescription}\"\n                              content=\"${this.structuredAnswersFormatted}\"\n                              remove-urls\n                              disableTranslation\n                              skipSanitize\n                              .contentId=\"${this.post.id}\"\n                              class=\"description\"\n                              truncate=\"120\"\n                            >\n                            </yp-magic-text>\n                          `\n                        : nothing}\n                    `\n                  : nothing}\n                ${this.post.Group.configuration.usePostTagsForPostListItems\n                  ? html`\n                      <div class=\"description tagContainer wrap\">\n                        ${this.postTags.map(\n                          (index, item) => html`\n                            <span class=\"tagItem\">${item}</span>\n                            <span\n                              class=\"middleDot\"\n                              ?hidden=\"${this.computeSpanHidden(\n                                this.postTags,\n                                index\n                              )}\"\n                              >&#9679;\n                            </span>\n                          `\n                        )}\n                      </div>\n                    `\n                  : nothing}\n              </div>\n            </div>\n          </a>\n          <div\n            ?hidden=\"${this.post.Group.configuration.hidePostActionsInGrid}\"\n            @tap=\"${this._onBottomClick}\"\n          >\n            ${this.mini\n              ? html`\n                  <div\n                    class=\"share\"\n                    ?hidden=\"${this.post.Group.configuration.hideSharing}\"\n                  >\n                    <paper-share-button\n                      @share-tap=\"${this._shareTap}\"\n                      class=\"shareIcon\"\n                      ?less-margin=\"${this.post.Group.configuration\n                        .hideDownVoteForPost}\"\n                      ?endorsed=\"${this.isEndorsed}\"\n                      horizontal-align=\"right\"\n                      id=\"shareButton\"\n                      .whatsapp=\"${this.post.Group.configuration\n                        .allowWhatsAppSharing}\"\n                      title$=\"${this.t('post.shareInfo')}\"\n                      facebook=\"\"\n                      email=\"\"\n                      twitter=\"\"\n                      popup=\"\"\n                      url=\"${YpPostHelpers.fullPostUrl(this.post)}\"\n                    ></paper-share-button>\n                  </div>\n                  ${this.post.Group.configuration.customRatings\n                    ? html`\n                        <yp-post-ratings-info\n                          class=\"customRatings\"\n                          .post=\"${this.post}\"\n                        ></yp-post-ratings-info>\n                      `\n                    : nothing}\n                  ${!this.post.Group.configuration.customRatings\n                    ? html`\n                        <yp-post-actions\n                          floating\n                          class=\"postActions\"\n                          elevation=\"-1\"\n                          class=\"voting\"\n                          .post=\"${this.post}\"\n                          ?hidden=\"${this.mini}\"\n                        ></yp-post-actions>\n                      `\n                    : nothing}\n                `\n              : nothing}\n          </div>\n        </div>\n      </paper-material>\n    `;\n  }\n\n  /*\n      behaviors: [\n        Polymer.ypLanguageBehavior,\n        Polymer.YpPostBehavior,\n        Polymer.AccessHelpers,\n        Polymer.ypLoggedInUserBehavior,\n        Polymer.ypMediaFormatsBehavior,\n        Polymer.ypTruncateBehavior,\n        Polymer.ypGotoBehavior,\n        Polymer.YpPostSurveyTranslationBehavior\n      ],\n*/\n\n  computeSpanHidden(items: Array<string>, index: number | string) {\n    return items.length - 1 == index;\n  }\n\n  get postTags() {\n    if (this.post && this.post.public_data && this.post.public_data.tags) {\n      return this.post.public_data.tags.split(',');\n    } else {\n      return [];\n    }\n  }\n\n  _onBottomClick(event: CustomEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    event.stopImmediatePropagation();\n  }\n\n  clickOnA() {\n    if (this.$$('#theMainA')) {\n      (this.$$('#theMainA') as HTMLElement).click();\n    }\n  }\n\n  _savePostToBackCache() {\n    if (this.post) {\n      window.appGlobals.cache.cachedPostItem = this.post;\n    }\n  }\n\n  _getPostLink(post: YpPostData) {\n    if (post) {\n      if (\n        post.Group.configuration &&\n        post.Group.configuration.disablePostPageLink\n      ) {\n        return '#';\n      } else if (\n        post.Group.configuration &&\n        post.Group.configuration.resourceLibraryLinkMode\n      ) {\n        return post.description.trim();\n      } else {\n        return '/post/' + post.id;\n      }\n    } else {\n      console.warn('Trying to get empty post link');\n      return '#';\n    }\n  }\n\n  _shareTap(event: CustomEvent) {\n    window.appGlobals.activity(\n      'postShareCardOpen',\n      event.detail.brand,\n      this.post ? this.post.id : -1\n    );\n  }\n\n  get hideDescription() {\n    return (\n      this.mini ||\n      (this.post &&\n        this.post.Group.configuration &&\n        this.post.Group.configuration.hidePostDescription)\n    );\n  }\n\n  get hasPostAccess() {\n    if (this.post) {\n      return YpAccessHelpers.checkPostAccess(this.post);\n    } else {\n      return false;\n    }\n  }\n\n  goToPostIfNotHeader() {\n    if (\n      this.post.Group.configuration &&\n      this.post.Group.configuration.disablePostPageLink\n    ) {\n      console.log('goToPostDisabled');\n    } else if (\n      this.post.Group.configuration &&\n      this.post.Group.configuration.resourceLibraryLinkMode\n    ) {\n      // Do nothing\n    } else {\n      YpNavHelpers.goToPost(this.post.id, undefined, undefined, this.post);\n    }\n  }\n\n  override updated(changedProperties: Map<string | number | symbol, unknown>): void {\n    super.updated(changedProperties);\n\n    if (changedProperties.has('post')) {\n      this._postChanged();\n    }\n  }\n\n  _postChanged() {\n    if (this.post) {\n      if (this.post.cover_media_type === 'audio') {\n        this.isAudioCover = true;\n      } else {\n        this.isAudioCover = false;\n      }\n    }\n  }\n\n  updateDescriptionIfEmpty(description: string) {\n    if (!this.post.description || this.post.description == '') {\n      this.post.description = description;\n    }\n  }\n\n  _refresh() {\n    window.appDialogs.getDialogAsync(\n        'postEdit',\n       (dialog: YpPostEdit) => {\n          dialog.selected = 0;\n          this.fire('refresh');\n        }\n      );\n  }\n\n  _openReport() {\n    window.appGlobals.activity('open', 'post.report');\n    window.appDialogs\n      .getDialogAsync(\n        'apiActionDialog',\n       (dialog: YpApiActionDialog) => {\n          dialog.setup(\n            '/api/posts/' + this.post.id + '/report',\n            this.t('reportConfirmation'),\n            this._onReport.bind(this),\n            this.t('post.report'),\n            'PUT'\n          );\n          dialog.open();\n        }\n      );\n  }\n\n  _onReport() {\n    window.appGlobals.notifyUserViaToast(\n      this.t('post.report') + ': ' + this.post.name\n    );\n  }\n}\n"]}