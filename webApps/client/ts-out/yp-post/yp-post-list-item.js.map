{"version":3,"file":"yp-post-list-item.js","sourceRoot":"","sources":["../../src/yp-post/yp-post-list-item.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css, nothing } from \"lit\";\nimport { property, customElement } from \"lit/decorators.js\";\n\nimport { ifDefined } from \"lit/directives/if-defined.js\";\n\nimport \"@material/web/labs/card/filled-card.js\";\nimport \"@material/web/labs/card/elevated-card.js\";\n\nimport { YpBaseElement } from \"../common/yp-base-element.js\";\nimport { ShadowStyles } from \"../common/ShadowStyles.js\";\nimport { YpNavHelpers } from \"../common/YpNavHelpers.js\";\n\nimport \"../yp-magic-text/yp-magic-text.js\";\nimport \"./yp-post-cover-media.js\";\nimport \"./yp-post-actions.js\";\n\nimport \"./yp-post-tags.js\";\n\nimport \"@material/web/iconbutton/outlined-icon-button.js\";\n\n@customElement(\"yp-post-list-item\")\nexport class YpPostListItem extends YpBaseElement {\n  @property({ type: String })\n  selectedMenuItem: string | undefined;\n\n  @property({ type: Boolean })\n  mini = false;\n\n  @property({ type: Boolean })\n  isAudioCover = false;\n\n  @property({ type: Object })\n  post!: YpPostData;\n\n  //TODO: Make corners on posts card different\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        .post-name {\n          cursor: pointer;\n          font-size: 22px;\n          font-weight: 700;\n          text-align: left;\n          margin-bottom: 8px;\n          line-height: 33px;\n          font-family: var(\n            --md-ref-typeface-brand\n          );\n        }\n\n        .share {\n          margin-left: 16px;\n        }\n\n        .post-name[largefont] {\n          font-size: 19px;\n        }\n\n        .actionsBar {\n          margin-left: 372px;\n          margin-top: -12px;\n        }\n\n        .postCardCursor {\n          cursor: pointer;\n        }\n\n        .postCard {\n        }\n\n        :host {\n          display: block;\n        }\n\n        .postCard {\n          height: 100%;\n        }\n\n        .postCard[hide-post-cover] {\n          height: 190px;\n        }\n\n        a {\n          color: var(--md-sys-color-on-surface);\n        }\n\n        yp-post-cover-media {\n          width: 360px;\n          min-width: 360px;\n          height: 203px;\n          margin-right: 32px;\n        }\n\n        .post-name[mini] {\n          padding: 16px;\n        }\n\n        .description {\n          font-size: 17px;\n          font-weight: 400;\n          line-height: 26px;\n          cursor: pointer;\n          width: 558px;\n        }\n\n        .description[widetext] {\n          font-size: 16px;\n          line-height: 1.3;\n        }\n\n        .description[largefont] {\n          font-size: 15px;\n        }\n\n        .postActions {\n          margin-left: 12px;\n        }\n\n        .shareIcon {\n          position: absolute;\n          left: 8px;\n          bottom: 2px;\n          text-align: right;\n          width: 48px;\n          height: 48px;\n        }\n\n        .customRatings {\n          position: absolute;\n          bottom: 10px;\n          right: 6px;\n        }\n\n        :host {\n        }\n\n        @media (max-width: 960px) {\n          .customRatings {\n            bottom: 12px;\n          }\n\n          :host {\n            width: 100%;\n            max-width: 423px;\n          }\n\n          .description[has-custom-ratings] {\n            padding-bottom: 28px;\n          }\n\n          .postCard {\n            margin-left: 0;\n            margin-right: 0;\n            padding-left: 0;\n            padding-right: 0;\n            width: 100%;\n            height: 100%;\n          }\n\n          .postCard[mini] {\n            width: 210px;\n            height: 100%;\n          }\n\n          .card {\n            margin-left: 0;\n            margin-right: 0;\n            padding-left: 0;\n            padding-right: 0;\n            width: 100%;\n            height: 100%;\n          }\n\n          .card[mini] {\n            width: 210px;\n            height: 100%;\n          }\n\n          yp-post-cover-media {\n            width: 100%;\n            height: 230px;\n          }\n\n          yp-post-cover-media[mini] {\n            width: 210px;\n            height: 118px;\n            min-height: 118px;\n          }\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n\n        a {\n          text-decoration: none;\n        }\n\n        .share[mini] {\n          display: none;\n        }\n\n\n        @media (max-width: 960px) {\n          .description {\n            width: 100%;\n          }\n        }\n      `,\n    ];\n  }\n\n  renderDescription() {\n    return html`\n      ${!this.post.public_data?.structuredAnswersJson\n        ? html`\n            <yp-magic-text\n              class=\"description layout horizontal\"\n              ?hasCustomRatings=\"${this.post.Group.configuration?.customRatings}\"\n              ?hidden=\"${this.hideDescription}\"\n              textType=\"postContent\"\n              .contentLanguage=\"${this.post.language}\"\n              textOnly\n              .content=\"${this.post.description}\"\n              .contentId=\"${this.post.id}\"\n              truncate=\"220\"\n            >\n            </yp-magic-text>\n          `\n        : html`\n            <yp-magic-text\n              id=\"description\"\n              textType=\"postContent\"\n              .contentLanguage=\"${this.post.language}\"\n              ?hidden=\"${this.hideDescription}\"\n              .content=\"${this.structuredAnswersFormatted}\"\n              .contentId=\"${this.post.id}\"\n              class=\"description\"\n              truncate=\"120\"\n            >\n            </yp-magic-text>\n          `}\n    `;\n  }\n\n  renderTags() {\n    return html` <yp-post-tags .post=\"${this.post}\"></yp-post-tags> `;\n  }\n\n  //TODO: Write a server side script to make sure Group.configuration is always there\n  override render() {\n    return this.post\n      ? html`\n            <div\n              ?mini=\"${this.mini}\"\n              .hide-post-cover=\"${this.post.Group.configuration?.hidePostCover}\"\n              .hide-description=\"${\n                this.post.Group.configuration?.hidePostDescription\n              }\"\n              ?hide-actions=\"${\n                this.post.Group.configuration?.hidePostActionsInGrid\n              }\"\n              audio-cover=\"${this.isAudioCover}\"\n            >\n              <div class=\"layout vertical\">\n                <a\n                  href=\"${ifDefined(this._getPostLink(this.post))}\"\n                  @click=\"${this.goToPostIfNotHeader}\"\n                  id=\"mainArea\"\n                >\n                  <div class=\"layout horizontal\">\n                    <yp-post-cover-media\n                      ?mini=\"${this.mini}\"\n                      top-radius\n                      ?audioCover=\"${this.isAudioCover}\"\n                      .altTag=\"${this.post.name}\"\n                      .post=\"${this.post}\"\n                      ?hidden=\"${this.post.Group.configuration?.hidePostCover}\"\n                    ></yp-post-cover-media>\n                    <div class=\"postNameContainer\">\n                      <div\n                        class=\"post-name  layout horizontal\"\n                        ?mini=\"${this.mini}\"\n                        id=\"postName\"\n                        ?largeFont=\"${this.largeFont}\"\n                      >\n                        <yp-magic-text\n                          id=\"postNameMagicText\"\n                          textType=\"postName\"\n                          ?largeFont=\"${this.largeFont}\"\n                          .contentLanguage=\"${this.post.language}\"\n                          textOnly\n                          .content=\"${this.post.name}\"\n                          .contentId=\"${this.post.id}\"\n                        >\n                        </yp-magic-text>\n                        <div class=\"flex\"></div>\n                        ${this.renderDebate()}\n                        ${this.renderShare()}\n                      </div>\n                      ${\n                        this.post.Group.configuration?.usePostTagsForPostCards\n                          ? this.renderTags()\n                          : this.renderDescription()\n                      }\n                    </div>\n                  </div>\n                </a>\n                <div\n                  ?hidden=\"${\n                    this.post.Group.configuration?.hidePostActionsInGrid\n                  }\"\n                  @click=\"${this._onBottomClick}\"\n                >\n                  ${this.renderActions()}\n                </div>\n              </div>\n            </div>\n        </div>\n        `\n      : nothing;\n  }\n\n  renderShare() {\n    return html`\n      ${this.post.Group.configuration?.hideSharing\n        ? nothing\n        : html`\n            <div class=\"share\">\n              <md-filled-tonal-icon-button\n                .label=\"${this.t(\"post.shareInfo\")}\"\n                @click=\"${this._shareTap}\"\n                ><md-icon>share</md-icon></md-filled-tonal-icon-button\n              >\n            </div>\n          `}\n    `;\n  }\n\n  renderDebate() {\n    return html`\n      <yp-post-actions\n        class=\"postActions\"\n        .post=\"${this.post}\"\n        onlyShowDebate\n        ?hidden=\"${this.mini}\"\n      >\n      </yp-post-actions>\n    `;\n  }\n\n  renderActions() {\n    return html`<div class=\"layout horizontal actionsBar\">\n      ${this.post.Group.configuration?.customRatings\n        ? html`\n            <yp-post-ratings-info\n              class=\"customRatings\"\n              .post=\"${this.post}\"\n            ></yp-post-ratings-info>\n          `\n        : html`\n            <yp-post-actions\n              class=\"postActions\"\n              .post=\"${this.post}\"\n              forceHideDebate\n              .forceShowDebate=\"${this.post.Group.configuration?.forceShowDebateCountOnPost}\"\n              ?hidden=\"${this.mini}\"\n            >\n            </yp-post-actions>\n          `}\n    </div>`;\n  }\n\n  _sharedContent(event: CustomEvent) {\n    const shareData = event.detail;\n    window.appGlobals.activity(\n      \"postShared\",\n      shareData.social,\n      this.post ? this.post.id : -1\n    );\n  }\n\n  get _fullPostUrl() {\n    return encodeURIComponent(\n      \"https://\" + window.location.host + \"/post/\" + this.post.id\n    );\n  }\n\n  get structuredAnswersFormatted(): string {\n    if (\n      this.post &&\n      this.post.public_data &&\n      this.post.public_data.structuredAnswersJson &&\n      this.post.Group.configuration &&\n      this.post.Group.configuration.structuredQuestionsJson\n    ) {\n      const questionHash: Record<string, YpStructuredQuestionData> = {};\n      let outText = \"\";\n      this.post.Group.configuration.structuredQuestionsJson.forEach(\n        (question) => {\n          if (question.uniqueId) {\n            questionHash[question.uniqueId] = question;\n          }\n        }\n      );\n\n      for (\n        let i = 0;\n        i < this.post.public_data.structuredAnswersJson.length;\n        i++\n      ) {\n        const answer = this.post.public_data.structuredAnswersJson[i];\n        if (answer && answer.value) {\n          const question = questionHash[answer.uniqueId];\n          if (question) {\n            outText += question.text + \": \";\n            outText += answer.value + \" \";\n          }\n          if (outText.length > 120) {\n            break;\n          }\n        }\n      }\n\n      return outText;\n    } else {\n      return \"\";\n    }\n  }\n\n  _onBottomClick(event: CustomEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    event.stopImmediatePropagation();\n  }\n\n  clickOnA() {\n    this.$$(\"#mainArea\")?.click();\n  }\n\n  _getPostLink(post: YpPostData) {\n    if (post) {\n      if (\n        post.Group.configuration &&\n        post.Group.configuration.disablePostPageLink\n      ) {\n        return \"#\";\n      } else if (\n        post.Group.configuration &&\n        post.Group.configuration.resourceLibraryLinkMode\n      ) {\n        return post.description.trim();\n      } else {\n        return \"/post/\" + post.id;\n      }\n    } else {\n      console.warn(\"Trying to get empty post link\");\n      return \"#\";\n    }\n  }\n\n  _shareTap(event: CustomEvent) {\n    window.appGlobals.activity(\n      \"postShareCardOpen\",\n      event.detail.brand,\n      this.post ? this.post.id : -1\n    );\n\n    window.appDialogs.getDialogAsync(\n      \"shareDialog\",\n      (dialog: YpShareDialogData) => {\n        dialog.open(\n          this._fullPostUrl,\n          this.t(\"post.shareInfo\"),\n          this._sharedContent\n        );\n      }\n    );\n  }\n\n  get hideDescription(): boolean {\n    return (this.mini ||\n      (this.post &&\n        this.post.Group.configuration &&\n        this.post.Group.configuration.hidePostDescription)) as boolean;\n  }\n\n  goToPostIfNotHeader(event: CustomEvent) {\n    event.preventDefault();\n\n    if (\n      this.post.Group.configuration &&\n      this.post.Group.configuration.disablePostPageLink\n    ) {\n      console.log(\"goToPostDisabled\");\n    } else if (\n      this.post.Group.configuration &&\n      this.post.Group.configuration.resourceLibraryLinkMode\n    ) {\n      // Do nothing\n    } else {\n      YpNavHelpers.goToPost(this.post.id);\n    }\n\n    if (this.post && !this.mini) {\n      window.appGlobals.cache.cachedPostItem = this.post;\n    }\n  }\n\n  override updated(changedProperties: Map<string | number | symbol, unknown>) {\n    super.updated(changedProperties);\n    if (changedProperties.has(\"post\") && this.post) {\n      if (this.post.cover_media_type === \"audio\") {\n        this.isAudioCover = true;\n      } else {\n        this.isAudioCover = false;\n      }\n    }\n  }\n\n  updateDescriptionIfEmpty(description: string) {\n    if (!this.post.description || this.post.description == \"\") {\n      this.post.description = description;\n    }\n  }\n\n  _refresh() {\n    //TODO: Fix ts type\n    window.appDialogs.getDialogAsync(\n      \"postEdit\",\n      (dialog: { selected: number }) => {\n        dialog.selected = 0;\n        this.fire(\"refresh\");\n      }\n    );\n  }\n\n  _openReport() {\n    window.appGlobals.activity(\"open\", \"post.report\");\n    //TODO: Fix ts type\n    window.appDialogs.getDialogAsync(\n      \"apiActionDialog\",\n      (dialog: {\n        setup: (\n          arg0: string,\n          arg1: string,\n          arg2: () => void,\n          arg3: string,\n          arg4: string\n        ) => void;\n        open: () => void;\n      }) => {\n        dialog.setup(\n          \"/api/posts/\" + this.post.id + \"/report\",\n          this.t(\"reportConfirmation\"),\n          this._onReport.bind(this),\n          this.t(\"post.report\"),\n          \"PUT\"\n        );\n        dialog.open();\n      }\n    );\n  }\n\n  _onReport() {\n    window.appGlobals.notifyUserViaToast(\n      this.t(\"post.report\") + \": \" + this.post.name\n    );\n  }\n}\n"]}