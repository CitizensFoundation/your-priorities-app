{"version":3,"file":"yp-post-card-add.js","sourceRoot":"","sources":["../../src/yp-post/yp-post-card-add.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css, nothing } from 'lit';\nimport { customElement, property, state } from 'lit/decorators.js';\n\nimport { YpBaseElement } from '../common/yp-base-element.js';\nimport { ShadowStyles } from '../common/ShadowStyles.js';\n\nimport '../yp-magic-text/yp-magic-text.js';\nimport '@material/web/fab/fab.js';\nimport '@material/web/icon/icon.js';\n\n@customElement('yp-post-card-add')\nexport class YpPostCardAdd extends YpBaseElement {\n  @property({ type: Boolean })\n  disableNewPosts = false;\n\n  @property({ type: Object })\n  group: YpGroupData | undefined;\n\n  @property({ type: Number })\n  index: number | undefined;\n\n  @state()\n  private addNewText = '';\n\n  @state()\n  private closedText = '';\n\n  static override get styles() {\n    return [\n      super.styles,\n      ShadowStyles,\n      css`\n        :host {\n          margin-top: 8px;\n          margin-bottom: 8px;\n          width: 100%;\n        }\n\n        .topContainer {\n          background-color: var(--md-sys-color-surface);\n          display: flex;\n          justify-content: center;\n          padding: 16px;\n        }\n\n        md-fab {\n          --md-fab-container-shape: 4px;\n          --md-fab-label-text-size: 16px !important;\n          --md-fab-label-text-weight: 600 !important;\n          margin-bottom: 24px;\n          --md-fab-container-elevation: 0;\n          --md-fab-container-shadow-color: transparent;\n          width: 225px;\n        }\n\n        md-fab:not([has-static-theme]) {\n          --md-sys-color-primary-container: var(--md-sys-color-primary);\n          --md-sys-color-on-primary-container: var(--md-sys-color-on-primary);\n        }\n\n        md-fab[disabled] {\n          --md-sys-color-primary-container: var(--md-sys-color-secondary-container);\n          --md-sys-color-on-primary-container: var(--md-sys-color-on-secondary-container);\n        }\n\n        .createFab {\n          width: 310px;\n          margin-left: 0px;\n        }\n\n        .addNewIdeaText {\n          font-size: 18px;\n        }\n\n        .closed {\n          font-size: 16px;\n          text-align: center;\n          margin-top: 8px;\n        }\n\n        @media (max-width: 420px) {\n          :host {\n            margin-top: 0;\n          }\n\n          .closed {\n            font-size: 14px;\n          }\n\n          md-fab {\n            width: 100%;\n          }\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n      `,\n    ];\n  }\n\n  override connectedCallback(): void {\n    super.connectedCallback();\n    this.addNewText = this.group?.configuration?.alternativeTextForNewIdeaButton || '';\n    this.closedText = this.group?.configuration?.alternativeTextForNewIdeaButtonClosed || '';\n  }\n\n  override render() {\n    return this.group\n      ? html`\n          <div class=\"topContainer\">\n            <md-fab\n              ?disabled=\"${this.disableNewPosts}\"\n              aria-label=\"${this.t('post.add_new')}\"\n              ?has-static-theme=\"${this.hasStaticTheme}\"\n              lowered\n              ?hidden=${(this.group!.configuration as YpGroupConfiguration)\n                .hideNewPost}\n              size=\"large\"\n              .label=\"${this.disableNewPosts\n                  ? this.closedText || this._getClosedText()\n                  : this.addNewText || this._getAddNewText()}\"\n              ?extended=\"${this.wide}\"\n              class=\"createFab\"\n              variant=\"primary\"\n              @click=\"${this._newPost}\"\n              @keydown=\"${this._keyDown}\"\n            >\n              <md-icon slot=\"icon\">lightbulb_outline</md-icon>\n              <span slot=\"label\" class=\"addNewIdeaText\">\n              </span>\n            </md-fab>\n          </div>\n          ${this._renderHiddenMagicTexts()}\n        `\n      : nothing;\n  }\n\n  _renderHiddenMagicTexts() {\n    return html`\n      <yp-magic-text\n        id=\"addNewTextId\"\n        hidden\n        .contentId=\"${this.group?.id}\"\n        .extraId=\"${this.index}\"\n        textOnly\n        .content=\"${this.group?.configuration?.alternativeTextForNewIdeaButton}\"\n        .contentLanguage=\"${this.group?.language}\"\n        @new-translation=\"${this._handleAddNewTextTranslation}\"\n        textType=\"alternativeTextForNewIdeaButton\"\n      ></yp-magic-text>\n      <yp-magic-text\n        id=\"closedTextId\"\n        hidden\n        .contentId=\"${this.group?.id}\"\n        .extraId=\"${this.index}\"\n        textOnly\n        .content=\"${this.group?.configuration?.alternativeTextForNewIdeaButtonClosed}\"\n        .contentLanguage=\"${this.group?.language}\"\n        @new-translation=\"${this._handleClosedTextTranslation}\"\n        textType=\"alternativeTextForNewIdeaButtonClosed\"\n      ></yp-magic-text>\n    `;\n  }\n\n  _handleAddNewTextTranslation(e: CustomEvent) {\n    this.addNewText = e.detail.translation;\n  }\n\n  _handleClosedTextTranslation(e: CustomEvent) {\n    this.closedText = e.detail.translation;\n  }\n\n  _keyDown(event: KeyboardEvent) {\n    if (event.key === 'Enter' || event.key === ' ') {\n      this._newPost();\n    }\n  }\n\n  _newPost() {\n    if (!this.disableNewPosts) {\n      this.fire('new-post');\n    }\n  }\n\n  _getAddNewText() {\n    return this.group?.configuration?.alternativeTextForNewIdeaButton\n      ? ''\n      : this.t('post.add_new');\n  }\n\n  _getClosedText() {\n    return this.group?.configuration?.alternativeTextForNewIdeaButtonClosed\n      ? ''\n      : this.t('closedForNewPosts');\n  }\n}"]}