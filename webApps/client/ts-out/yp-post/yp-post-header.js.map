{"version":3,"file":"yp-post-header.js","sourceRoot":"","sources":["../../src/yp-post/yp-post-header.ts"],"names":[],"mappings":"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","sourcesContent":["import { YpAccessHelpers } from \"../common/YpAccessHelpers.js\";\nimport { YpMediaHelpers } from \"../common/YpMediaHelpers.js\";\n\nimport { YpCollection } from \"../yp-collection/yp-collection.js\";\nimport { nothing, html, TemplateResult, LitElement, css } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\nimport \"@material/web/iconbutton/outlined-icon-button.js\";\nimport \"@material/web/labs/card/outlined-card.js\";\n\n//import '../yp-post/yp-posts-list.js';\n//import '../yp-post/yp-post-card-add.js';\nimport \"./yp-post-actions.js\";\n\nimport { YpBaseElement } from \"../common/yp-base-element.js\";\nimport { YpFormattingHelpers } from \"../common/YpFormattingHelpers.js\";\nimport { YpNavHelpers } from \"../common/YpNavHelpers.js\";\nimport { YpPostCard } from \"./yp-post-card.js\";\nimport { ShadowStyles } from \"../common/ShadowStyles.js\";\nimport { YpBaseElementWithLogin } from \"../common/yp-base-element-with-login.js\";\n\nimport \"./yp-post-transcript.js\";\n//import { any /*YpApiActionDialog*/ } from '../yp-api-action-dialog/yp-api-action-dialog.js';\nimport { YpPostBaseWithAnswers } from \"./yp-post-base-with-answers.js\";\n\n@customElement(\"yp-post-header\")\nexport class YpPostHeader extends YpPostBaseWithAnswers(\n  YpBaseElementWithLogin\n) {\n  @property({ type: Boolean })\n  isAudioCover = false;\n\n  @property({ type: Boolean })\n  hideActions = false;\n\n  @property({ type: Boolean })\n  transcriptActive = false;\n\n  @property({ type: Object })\n  override post!: YpPostData;\n\n  //TODO: Make corners on posts card different\n  static override get styles() {\n    return [\n      super.styles,\n      ShadowStyles,\n      css`\n        :host {\n          display: block;\n        }\n\n        .userInfo {\n          margin: 16px;\n        }\n\n        .infoContainer {\n          line-height: var(--description-line-height, 1.3);\n          padding: 0px;\n          padding-bottom: 0;\n          padding-top: 16px;\n        }\n\n        .category-icon {\n          width: 100px;\n          height: 100px;\n        }\n\n        yp-post-cover-media {\n          position: relative;\n          width: 600px;\n          height: 338px;\n          margin-right: auto;\n          margin-left: auto;\n        }\n\n        yp-post-cover-media[audio-cover] {\n          height: 90px;\n        }\n\n        .postCard {\n          position: relative;\n          border-radius: 4px;\n          text-align: left;\n        }\n\n        .topCard {\n          max-width: 600px;\n        }\n\n        .mediaAndInfoContainer {\n          margin-bottom: 16px;\n        }\n\n        .description {\n          padding-bottom: 2px;\n          padding-left: 16px;\n          padding-right: 16px;\n          line-height: 1.75;\n          max-width: 600px;\n        }\n\n\n        .postName {\n          max-width: 600px;\n          margin: 16px;\n          font-weight: bold;\n          text-align: left;\n          font-size: 20px;\n          opacity: 1.0;\n        }\n\n        .share {\n          margin-bottom: 16px;\n        }\n\n        .mobileName {\n          display: none;\n        }\n\n        .shareIcon {\n          position: absolute;\n          text-align: right;\n          width: 44px;\n          height: 44px;\n          right: 42px;\n          bottom: 3px;\n        }\n\n        .postActions {\n          align-self: flex-end;\n          align-items: flex-end;\n          margin-top: 16px;\n          width: 100%;\n        }\n\n        .moreVert {\n        }\n\n        .moreVertButton {\n          width: 46px;\n          height: 46px;\n        }\n\n        .customRatings {\n          position: absolute;\n          bottom: 12px;\n          right: 85px;\n        }\n\n        @media (max-width: 960px) {\n          .moreVert {\n            position: absolute;\n            top: 4px;\n            bottom: initial;\n            right: 2px;\n          }\n\n          .description[has-custom-ratings] {\n            padding-bottom: 18px;\n          }\n\n          .customRatings {\n            right: 46px;\n          }\n\n          .mobileName {\n            margin-right: 38px;\n          }\n\n          .shareIcon {\n            right: 8px;\n            bottom: 2px;\n          }\n\n          .postActions {\n            right: 55px;\n            bottom: 2px;\n          }\n\n          .infoContainer {\n            padding-bottom: 16px;\n            padding-top: 16px;\n          }\n\n          .mobileName {\n            display: block;\n          }\n\n          .desktopName {\n            display: none;\n          }\n\n          :host {\n            max-width: 600px;\n          }\n\n          .postCard {\n            width: 100%;\n          }\n\n          yp-post-cover-media {\n            width: 100% !important;\n          }\n\n          .coverContainer {\n            width: 100%;\n          }\n\n          .infoContainer {\n            width: 100%;\n            margin-bottom: 32px;\n          }\n\n          .description {\n            margin-bottom: 8px;\n            margin-top: 8px;\n          }\n        }\n\n        @media (max-width: 800px) {\n          :host {\n            max-width: 423px;\n            width: 100%;\n          }\n\n          yp-post-cover-media {\n            height: 230px;\n          }\n        }\n\n        @media (max-width: 430px) {\n          :host {\n            width: 100%;\n          }\n\n          .postCard {\n            width: 100% !important;\n            margin: 8px;\n            margin-top: 4px;\n          }\n\n          yp-post-cover-media {\n            height: 225px;\n          }\n\n          .headerTopLevel {\n            width: 100%;\n          }\n\n          .description {\n            padding-bottom: 8px;\n          }\n        }\n\n        @media (max-width: 375px) {\n          yp-post-cover-media[header-mode] {\n            height: 207px;\n          }\n          yp-post-cover-media[audio-cover] {\n            height: 80px;\n          }\n        }\n\n        @media (max-width: 360px) {\n          yp-post-cover-media[header-mode] {\n            height: 200px;\n          }\n          yp-post-cover-media[audio-cover] {\n            height: 90px;\n          }\n        }\n\n        @media (max-width: 320px) {\n          yp-post-cover-media[header-mode] {\n            height: 180px;\n          }\n          yp-post-cover-media[audio-cover] {\n            height: 90px;\n          }\n        }\n\n        @media (min-width: 960px) {\n          yp-post-cover-media[has-transcript][audio-cover] {\n            margin-bottom: 16px;\n          }\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n      `,\n    ];\n  }\n\n  renderPostInformation() {\n    return html`\n      <div class=\"infoContainer\">\n        ${!this.post.public_data?.structuredAnswersJson\n          ? html`\n              <yp-magic-text\n                id=\"description\"\n                textType=\"postContent\"\n                .contentLanguage=\"${this.post.language}\"\n                content=\"${this.post.description}\"\n                ?noUserInfo=\"${!this.post.Group.configuration\n                  .showWhoPostedPosts}\"\n                disableTranslation\n                .structuredQuestionsConfig=\"${this.post.Group.configuration\n                  .structuredQuestions}\"\n                ?hasCustomRatings=\"${this.post.Group.configuration\n                  .customRatings}\"\n                ?simpleFormat=\"${this.post.Group.configuration\n                  .descriptionSimpleFormat}\"\n                .contentId=\"${this.post.id}\"\n                class=\"description\"\n                .truncate=\"${this.post.Group.configuration\n                  .descriptionTruncateAmount}\"\n                .moreText=\"${this.t(\"readMore\")}\"\n                .closeDialogText=\"${this.t(\"close\")}\"\n              >\n              </yp-magic-text>\n            `\n          : html`\n              <yp-magic-text\n                id=\"description\"\n                textType=\"postContent\"\n                .contentLanguage=\"${this.post.language}\"\n                .content=\"${this.structuredAnswersFormatted}\"\n                ?noUserInfo=\"${!this.post.Group.configuration\n                  .showWhoPostedPosts}\"\n                simpleFormat\n                skipSanitize\n                .contentId=\"${this.post.id}\"\n                class=\"description\"\n                .truncate=\"${5000 ||\n                this.post.Group.configuration.descriptionTruncateAmount}\"\n                .moreText=\"${this.t(\"readMore\")}\"\n                .closeDialogText=\"${this.t(\"close\")}\"\n              >\n              </yp-magic-text>\n            `}\n      </div>\n    `;\n  }\n\n  renderMenu() {\n    return html`\n      <div style=\"position: relative;\" class=\"moreVert\">\n        <md-icon-button\n          @click=\"${this._openPostMenu}\"\n          title=\"${this.t(\"openPostMenu\")}\"\n          ><md-icon>more_vert</md-icon>\n        </md-icon-button>\n        <md-menu id=\"postMenu\" menuCorner=\"END\" corner=\"TOP_RIGHT\">\n          ${this.hasPostAccess\n            ? html`\n                <md-menu-item @click=\"${this._openEdit}\">\n                  ${this.t(\"post.edit\")}\n                </md-menu-item>\n                <md-menu-item\n                  @click=\"${this._openMovePost}\"\n                  ?hidden=\"${!YpAccessHelpers.checkPostAdminOnlyAccess(\n                    this.post\n                  )}\"\n                >\n                  ${this.t(\"post.move\")}\n                </md-menu-item>\n                <md-menu-item\n                  @click=\"${this._openPostStatusChange}\"\n                  ?hidden=\"${!YpAccessHelpers.checkPostAdminOnlyAccess(\n                    this.post\n                  )}\"\n                >\n                  ${this.t(\"post.statusChange\")}\n                </md-menu-item>\n                <md-menu-item\n                  @click=\"${this._openPostStatusChangeNoEmails}\"\n                  ?hidden=\"${!YpAccessHelpers.checkPostAdminOnlyAccess(\n                    this.post\n                  )}\"\n                >\n                  ${this.t(\"post.statusChangeNoEmails\")}\n                </md-menu-item>\n                <md-menu-item @click=\"${this._openDelete}\">\n                  ${this.t(\"post.delete\")}\n                </md-menu-item>\n                <md-menu-item\n                  @click=\"${this._openAnonymizeContent}\"\n                  ?hidden=\"${!YpAccessHelpers.checkPostAdminOnlyAccess(\n                    this.post\n                  )}\"\n                >\n                  ${this.t(\"anonymizePostAndContent\")}\n                </md-menu-item>\n                <md-menu-item\n                  @click=\"${this._openDeleteContent}\"\n                  ?hidden=\"${!YpAccessHelpers.checkPostAdminOnlyAccess(\n                    this.post\n                  )}\"\n                >\n                  ${this.t(\"deletePostContent\")}\n                </md-menu-item>\n              `\n            : nothing}\n          <md-menu-item hidden @click=\"${this._openReport}\">\n            ${this.t(\"post.report\")}\n          </md-menu-item>\n        </md-menu>\n      </div>\n    `;\n  }\n\n  renderActions() {\n    return html`${this.post.Group.configuration.customRatings\n      ? html`\n          <yp-post-ratings-info\n            class=\"customRatings\"\n            .post=\"${this.post}\"\n          ></yp-post-ratings-info>\n        `\n      : html`\n          <yp-post-actions\n            ?hidden=\"${this.hideActions}\"\n            hideDebate\n            headerMode\n            elevation=\"-1\"\n            ?forceShowDebate=\"${this.post.Group.configuration\n              .forceShowDebateCountOnPost}\"\n            floating\n            class=\"postActions\"\n            .post=\"${this.post}\"\n          ></yp-post-actions>\n        `} `;\n  }\n\n  override render() {\n    return html`\n      <div class=\"layout vertical center-center\">\n        <md-outlined-card\n          class=\"topCard layout-wrap layout horizontal shsadow-elevation-4dp shasdow-transition\"\n        >\n          <div\n            class=\"layout vertical headerTopLevel center-center\"\n            role=\"heading\"\n            aria-level=\"1\"\n            aria-label=\"${this.post.name}\"\n          >\n            ${this.post.Group.configuration.showWhoPostedPosts\n              ? html`\n                  <div class=\"layout horizontal userInfo\">\n                    <yp-user-with-organization\n                      class=\"userWithOrg\"\n                      hide-image\n                      .user=\"${this.post.User}\"\n                    ></yp-user-with-organization>\n                  </div>\n                `\n              : nothing}\n\n            <div class=\"layout vertical wrap mediaAndInfoContainer\">\n              <div class=\"layout vertical center-center coverContainer\">\n                <yp-post-cover-media\n                  top-left-radius\n                  show-video\n                  show-audio\n                  ?hasTranscript=\"${this.post.public_data?.transcript?.text}\"\n                  .altTag=\"${this.post.name}\"\n                  ?audio-cover=\"${this.isAudioCover}\"\n                  header-mode\n                  .post=\"${this.post}\"\n                >\n                </yp-post-cover-media>\n                ${this.transcriptActive\n                  ? html`\n                      <yp-post-transcript\n                        .post=\"${this.post}\"\n                      ></yp-post-transcript>\n                    `\n                  : nothing}\n              </div>\n              <yp-magic-text\n                  class=\"postName\"\n                  textType=\"postName\"\n                  .contentLanguage=\"${this.post.language}\"\n                  .content=\"${this.post.name}\"\n                  .contentId=\"${this.post.id}\"\n                >\n                </yp-magic-text>\n              <div class=\"layout vertical center-center postDescription\">\n                ${this.renderPostInformation()}\n              </div>\n              <div class=\"layout horizontal center-center\">\n                ${this.renderActions()} ${this.renderMenu()}\n              </div>\n            </div>\n          </div> </md-outlined-card\n        >\n      </div>\n    `;\n  }\n\n  _openPostMenu() {\n    (this.$$(\"#postMenu\") as any) /*Menu*/.open = true;\n  }\n\n  _sharedContent(event: CustomEvent) {\n    const shareData = event.detail;\n    window.appGlobals.activity(\n      \"postShared\",\n      shareData.social,\n      this.post ? this.post.id : -1\n    );\n  }\n\n  _shareTap(event: CustomEvent) {\n    const detail = event.detail;\n    window.appGlobals.activity(\n      \"postShareHeaderOpen\",\n      detail.brand,\n      this.post ? this.post.id : -1\n    );\n\n    window.appDialogs.getDialogAsync(\n      \"shareDialog\",\n      (dialog: YpShareDialogData) => {\n        const url = \"https://\" + window.location.host + \"/post/\" + this.post.id;\n        dialog.open(url, this.t(\"post.shareInfo\"), this._sharedContent);\n      }\n    );\n  }\n\n  get hasPostAccess() {\n    if (this.post) {\n      return YpAccessHelpers.checkPostAccess(this.post);\n    } else {\n      return false;\n    }\n  }\n\n  override updated(changedProperties: Map<string | number | symbol, unknown>) {\n    super.updated(changedProperties);\n\n    if (changedProperties.has(\"post\")) {\n      this._postChanged();\n    }\n  }\n\n  _postChanged() {\n    if (this.post && this.post.description) {\n      setTimeout(() => {\n        const description = this.$$(\"#description\");\n        if (description) {\n          // Special case for law Issue from a parliement\n          if (\n            this.post.public_data &&\n            this.post.public_data.law_issue &&\n            this.post.public_data.law_issue.issueStatus\n          ) {\n            description.innerHTML +=\n              \" - \" + this.post.public_data.law_issue.issueStatus;\n          }\n        } else {\n          console.error(\"Can't find description element\");\n        }\n      });\n\n      if (\n        this.hasPostAccess &&\n        window.appGlobals.hasTranscriptSupport === true\n      ) {\n        if (this.post.public_data && this.post.public_data.transcript) {\n          this.transcriptActive = true;\n        }\n      }\n    }\n\n    if (this.post) {\n      if (this.post.cover_media_type === \"audio\") {\n        this.isAudioCover = true;\n      } else {\n        this.isAudioCover = false;\n      }\n    }\n  }\n\n  updateDescriptionIfEmpty(description: string) {\n    if (this.post && (!this.post.description || this.post.description == \"\")) {\n      this.post.description = description;\n    }\n  }\n\n  _refresh() {\n    window.appDialogs.getDialogAsync(\n      \"postEdit\",\n      (dialog: any /*YpPostEdit*/) => {\n        dialog.selected = 0;\n        this.fire(\"refresh\");\n      }\n    );\n  }\n\n  _openMovePost() {\n    (this.$$(\"#helpMenu\") as any) /*Menu*/\n      .select(-1);\n    window.appGlobals.activity(\"open\", \"movePost\");\n    //TODO: movePost\n    /*window.appDialogs.getDialogAsync('postMove', dialog => {\n      dialog.setupAndOpen(this.post, this._refresh.bind(this));\n    });*/\n  }\n\n  _openPostStatusChangeNoEmails() {\n    (this.$$(\"#helpMenu\") as any) /*Menu*/\n      .select(-1);\n    window.appGlobals.activity(\"open\", \"statusChangeNoEmails\");\n    //TODO: Finish\n    /*window.appDialogs.getDialogAsync('postStatusChangeEdit', dialog => {\n      dialog.setup(this.post, null, this._refresh.bind(this), true);\n      dialog.open('new', { postId: this.post.id, statusChange: true });\n    });*/\n  }\n\n  _openPostStatusChange() {\n    (this.$$(\"#helpMenu\") as any) /*Menu*/\n      .select(-1);\n    window.appGlobals.activity(\"open\", \"post.statusChangeEdit\");\n    //TODO: Finish\n    /*window.appDialogs.getDialogAsync('postStatusChangeEdit', dialog => {\n      dialog.setup(this.post, null, this._refresh.bind(this));\n      dialog.open('new', { postId: this.post.id, statusChange: true });\n    });*/\n  }\n\n  _openEdit() {\n    (this.$$(\"#helpMenu\") as any) /*Menu*/\n      .select(-1);\n    window.appGlobals.activity(\"open\", \"post.edit\");\n    window.appDialogs.getDialogAsync(\n      \"postEdit\",\n      (dialog: any /*YpApiActionDialog*/) => {\n        dialog.setup(\n          this.post,\n          false,\n          this._refresh.bind(this),\n          this.post.Group\n        );\n        dialog.open(false, { postId: this.post.id });\n      }\n    );\n  }\n\n  _openReport() {\n    window.appGlobals.activity(\"open\", \"post.report\");\n    window.appDialogs.getDialogAsync(\n      \"apiActionDialog\",\n      (dialog: any /*YpApiActionDialog*/) => {\n        dialog.setup(\n          \"/api/posts/\" + this.post.id + \"/report\",\n          this.t(\"reportConfirmation\"),\n          this._onReport.bind(this),\n          this.t(\"post.report\"),\n          \"PUT\"\n        );\n        dialog.open();\n      }\n    );\n  }\n\n  _openDelete() {\n    (this.$$(\"#helpMenu\") as any) /*Menu*/\n      .select(-1);\n    window.appGlobals.activity(\"open\", \"post.delete\");\n    window.appDialogs.getDialogAsync(\n      \"apiActionDialog\",\n      (dialog: any /*YpApiActionDialog*/) => {\n        dialog.setup(\n          \"/api/posts/\" + this.post.id,\n          this.t(\"post.deleteConfirmation\"),\n          this._onDeleted.bind(this)\n        );\n        dialog.open();\n      }\n    );\n  }\n\n  _openDeleteContent() {\n    (this.$$(\"#helpMenu\") as any) /*Menu*/\n      .select(-1);\n    window.appGlobals.activity(\"open\", \"postDeleteContent\");\n    window.appDialogs.getDialogAsync(\n      \"apiActionDialog\",\n      (dialog: any /*YpApiActionDialog*/) => {\n        dialog.setup(\n          \"/api/posts/\" + this.post.id + \"/delete_content\",\n          this.t(\"postDeleteContentConfirmation\")\n        );\n        dialog.open();\n      }\n    );\n  }\n\n  _openAnonymizeContent() {\n    (this.$$(\"#helpMenu\") as any) /*Menu*/\n      .select(-1);\n    window.appGlobals.activity(\"open\", \"postAnonymizeContent\");\n    window.appDialogs.getDialogAsync(\n      \"apiActionDialog\",\n      (dialog: any /*YpApiActionDialog*/) => {\n        dialog.setup(\n          \"/api/posts/\" + this.post.id + \"/anonymize_content\",\n          this.t(\"postAnonymizeContentConfirmation\")\n        );\n        dialog.open();\n      }\n    );\n  }\n\n  _onReport() {\n    window.appGlobals.notifyUserViaToast(\n      this.t(\"post.report\") + \": \" + this.post.name\n    );\n  }\n\n  _onDeleted() {\n    this.dispatchEvent(\n      new CustomEvent(\"yp-refresh-group\", { bubbles: true, composed: true })\n    );\n\n    YpNavHelpers.redirectTo(\"/group/\" + this.post.group_id);\n  }\n}\n"]}