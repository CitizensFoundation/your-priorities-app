{"version":3,"file":"yp-post-header.js","sourceRoot":"","sources":["../../src/yp-post/yp-post-header.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,eAAe,EAAE,MAAM,8BAA8B,CAAC;AAI/D,OAAO,EAAE,OAAO,EAAE,IAAI,EAA8B,GAAG,EAAE,MAAM,KAAK,CAAC;AACrE,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAE5D,OAAO,kDAAkD,CAAC;AAC1D,OAAO,sDAAsD,CAAC;AAC9D,OAAO,0CAA0C,CAAC;AAElD,uCAAuC;AACvC,0CAA0C;AAC1C,OAAO,sBAAsB,CAAC;AAI9B,OAAO,EAAE,YAAY,EAAE,MAAM,2BAA2B,CAAC;AAEzD,OAAO,EAAE,YAAY,EAAE,MAAM,2BAA2B,CAAC;AACzD,OAAO,EAAE,sBAAsB,EAAE,MAAM,yCAAyC,CAAC;AAEjF,OAAO,yBAAyB,CAAC;AACjC,8FAA8F;AAC9F,OAAO,EAAE,qBAAqB,EAAE,MAAM,gCAAgC,CAAC;AACvE,OAAO,EAAE,MAAM,EAAU,MAAM,4BAA4B,CAAC;AAGrD,IAAM,YAAY,GAAlB,MAAM,YAAa,SAAQ,qBAAqB,CACrD,sBAAsB,CACvB;IAFM;;QAIL,iBAAY,GAAG,KAAK,CAAC;QAGrB,gBAAW,GAAG,KAAK,CAAC;QAGpB,qBAAgB,GAAG,KAAK,CAAC;QAEzB,kEAAkE;QAElE,2BAAsB,GAAG,KAAK,CAAC;QAG/B,qBAAgB,GAAG,KAAK,CAAC;QAGzB,0BAAqB,GAAG,KAAK,CAAC;IAsnBhC,CAAC;IAjnBC,4CAA4C;IAC5C,MAAM,KAAc,MAAM;QACxB,OAAO;YACL,KAAK,CAAC,MAAM;YACZ,YAAY;YACZ,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAkKF;SACF,CAAC;IACJ,CAAC;IAED,qBAAqB;QACnB,OAAO,IAAI,CAAA;;UAEL,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,qBAAqB;YAC7C,CAAC,CAAC,IAAI,CAAA;;;;oCAIoB,IAAI,CAAC,IAAI,CAAC,QAAQ;2BAC3B,IAAI,CAAC,IAAI,CAAC,WAAW;+BACjB,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,kBAAkB;;8CAEnC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,mBAAmB;qCAC3D,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,aAAa;iCAChD,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,uBAAuB;8BACzD,IAAI,CAAC,IAAI,CAAC,EAAE;;6BAEb,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,yBAAyB;6BACxD,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC;oCACX,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC;;;aAGtC;YACH,CAAC,CAAC,IAAI,CAAA;;;;oCAIoB,IAAI,CAAC,IAAI,CAAC,QAAQ;4BAC1B,IAAI,CAAC,0BAA0B;+BAC5B,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,kBAAkB;;;8BAGnD,IAAI,CAAC,IAAI,CAAC,EAAE;;6BAEb,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa;iBACvC,yBAAyB,IAAI,GAAG;6BACtB,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC;oCACX,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC;;;aAGtC;;KAER,CAAC;IACJ,CAAC;IAED,UAAU;QACR,IAAI,IAAI,CAAC,aAAa,EAAE,CAAC;YACvB,OAAO,IAAI,CAAA;;;;;;sBAMK,IAAI,CAAC,aAAa;qBACnB,IAAI,CAAC,CAAC,CAAC,cAAc,CAAC;;;;;;2BAMhB,MAAM,CAAC,WAAW;;;oCAGT,IAAI,CAAC,SAAS;gBAClC,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC;;;wBAGX,IAAI,CAAC,aAAa;yBACjB,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC;;gBAErE,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC;;;wBAGX,IAAI,CAAC,qBAAqB;yBACzB,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC;;gBAErE,IAAI,CAAC,CAAC,CAAC,mBAAmB,CAAC;;;wBAGnB,IAAI,CAAC,6BAA6B;yBACjC,IAAI,IAAI,CAAC,eAAe,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC;;gBAErE,IAAI,CAAC,CAAC,CAAC,2BAA2B,CAAC;;oCAEf,IAAI,CAAC,WAAW;gBACpC,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC;;;wBAGb,IAAI,CAAC,qBAAqB;yBACzB,CAAC,eAAe,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC;;gBAE7D,IAAI,CAAC,CAAC,CAAC,yBAAyB,CAAC;;;wBAGzB,IAAI,CAAC,kBAAkB;yBACtB,CAAC,eAAe,CAAC,wBAAwB,CAAC,IAAI,CAAC,IAAI,CAAC;;gBAE7D,IAAI,CAAC,CAAC,CAAC,mBAAmB,CAAC;;;2CAGA,IAAI,CAAC,WAAW;gBAC3C,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC;;;;OAI9B,CAAC;QACJ,CAAC;aAAM,CAAC;YACN,OAAO,OAAO,CAAC;QACjB,CAAC;IACH,CAAC;IAED,aAAa;QACX,OAAO,IAAI,CAAA,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,aAAa;YACxD,CAAC,CAAC,IAAI,CAAA;;;qBAGS,IAAI,CAAC,IAAI;;SAErB;YACH,CAAC,CAAC,IAAI,CAAA;;uBAEW,IAAI,CAAC,WAAW;;;;gCAIP,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,0BAA0B;;;qBAGpE,IAAI,CAAC,IAAI;;SAErB,GAAG,CAAC;IACX,CAAC;IAED,UAAU;QACR,OAAO,IAAI,CAAA;;;0BAGW,IAAI,CAAC,IAAI,CAAC,QAAQ;kBAC1B,IAAI,CAAC,IAAI,CAAC,IAAI;oBACZ,IAAI,CAAC,IAAI,CAAC,EAAE;;qBAEX,CAAC;IACpB,CAAC;IAED,UAAU;QACR,OAAO,IAAI,CAAA;;;;iBAIE,IAAI,CAAC,IAAI,CAAC,IAAI;;WAEpB,CAAC;IACV,CAAC;IAED,gBAAgB;QACd,OAAO,IAAI,CAAA;;;;;0BAKW,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,UAAU,EAAE,IAAI;mBAC9C,IAAI,CAAC,IAAI,CAAC,IAAI;wBACT,IAAI,CAAC,YAAY;;iBAExB,IAAI,CAAC,IAAI;;;QAGlB,IAAI,CAAC,gBAAgB;YACrB,CAAC,CAAC,IAAI,CAAA,+BAA+B,IAAI,CAAC,IAAI,0BAA0B;YACxE,CAAC,CAAC,OAAO;WACN,CAAC;IACV,CAAC;IAED,WAAW;QACT,OAAO,IAAI,CAAA;gBACC,GAAG,EAAE,CAAC,YAAY,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC;eAC9D,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC;;WAEnB,IAAI,CAAC,qBAAqB,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,OAAO;;mCAE7B,CAAC;IAClC,CAAC;IAED,sBAAsB;QACpB,OAAO,IAAI,CAAA;QACP,IAAI,CAAC,YAAY;YACjB,CAAC,CAAC,IAAI,CAAA;;;;wBAIU,IAAI,CAAC,SAAS;uBACf,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC;;;WAG9B;YACH,CAAC,CAAC,IAAI,CAAA;;;;wBAIU,IAAI,CAAC,WAAW;uBACjB,IAAI,CAAC,CAAC,CAAC,gBAAgB,CAAC;;;WAGpC;;;;kBAIO,IAAI,CAAC,SAAS;iBACf,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC;;;KAG/B,CAAC;IACJ,CAAC;IAEQ,MAAM;QACb,OAAO,IAAI,CAAA;;;;;sBAKO,IAAI,CAAC,IAAI,CAAC,IAAI;;UAE1B,CAAC,IAAI,CAAC,gBAAgB;YACtB,CAAC,CAAC,IAAI,CAAA;;kBAEE,IAAI,CAAC,WAAW,EAAE;;kBAElB,IAAI,CAAC,sBAAsB,EAAE,IAAI,IAAI,CAAC,UAAU,EAAE;;aAEvD;YACH,CAAC,CAAC,OAAO;UACT,CAAC,IAAI,CAAC,sBAAsB;YAC5B,CAAC,CAAC,OAAO;YACT,CAAC,CAAC,IAAI,CAAA;gBACA,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,kBAAkB;gBACjD,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE;gBACnB,CAAC,CAAC,OAAO;8CACqB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE;;oBAElD,IAAI,CAAC,gBAAgB,EAAE,IAAI,IAAI,CAAC,aAAa,EAAE;;;oBAG/C,IAAI,CAAC,UAAU,EAAE,IAAI,IAAI,CAAC,qBAAqB,EAAE;;;aAGxD;;KAER,CAAC;IACJ,CAAC;IAED,aAAa;QACV,IAAI,CAAC,EAAE,CAAC,aAAa,CAAY,CAAC,IAAI,GAAG,IAAI,CAAC;IACjD,CAAC;IAED,cAAc,CAAC,KAAkB;QAC/B,MAAM,SAAS,GAAG,KAAK,CAAC,MAAM,CAAC;QAC/B,MAAM,CAAC,UAAU,CAAC,QAAQ,CACxB,YAAY,EACZ,SAAS,CAAC,MAAM,EAChB,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAC9B,CAAC;IACJ,CAAC;IAED,SAAS,CAAC,KAAkB;QAC1B,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;QAC5B,MAAM,CAAC,UAAU,CAAC,QAAQ,CACxB,qBAAqB,EACrB,MAAM,CAAC,KAAK,EACZ,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAC9B,CAAC;QAEF,MAAM,CAAC,UAAU,CAAC,cAAc,CAC9B,aAAa,EACb,CAAC,MAAyB,EAAE,EAAE;YAC5B,MAAM,GAAG,GAAG,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,GAAG,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;YACxE,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,gBAAgB,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QAClE,CAAC,CACF,CAAC;IACJ,CAAC;IAED,IAAI,aAAa;QACf,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;YACd,OAAO,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACpD,CAAC;aAAM,CAAC;YACN,OAAO,KAAK,CAAC;QACf,CAAC;IACH,CAAC;IAEQ,OAAO,CAAC,iBAAyD;QACxE,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QAEjC,IAAI,iBAAiB,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC;YAClC,IAAI,CAAC,YAAY,EAAE,CAAC;QACtB,CAAC;IACH,CAAC;IAED,YAAY;QACV,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YACvC,UAAU,CAAC,GAAG,EAAE;gBACd,MAAM,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC;gBAC5C,IAAI,WAAW,EAAE,CAAC;oBAChB,+CAA+C;oBAC/C,IACE,IAAI,CAAC,IAAI,CAAC,WAAW;wBACrB,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS;wBAC/B,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,WAAW,EAC3C,CAAC;wBACD,WAAW,CAAC,SAAS;4BACnB,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,WAAW,CAAC;oBACxD,CAAC;gBACH,CAAC;qBAAM,CAAC;oBACN,OAAO,CAAC,KAAK,CAAC,gCAAgC,CAAC,CAAC;gBAClD,CAAC;YACH,CAAC,CAAC,CAAC;YAEH,IACE,IAAI,CAAC,aAAa;gBAClB,MAAM,CAAC,UAAU,CAAC,oBAAoB,KAAK,IAAI,EAC/C,CAAC;gBACD,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;oBAC9D,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;gBAC/B,CAAC;YACH,CAAC;QACH,CAAC;QAED,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;YACd,IAAI,IAAI,CAAC,IAAI,CAAC,gBAAgB,KAAK,OAAO,EAAE,CAAC;gBAC3C,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;YAC3B,CAAC;iBAAM,CAAC;gBACN,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;YAC5B,CAAC;QACH,CAAC;IACH,CAAC;IAED,wBAAwB,CAAC,WAAmB;QAC1C,IAAI,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW,IAAI,EAAE,CAAC,EAAE,CAAC;YACzE,IAAI,CAAC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;QACtC,CAAC;IACH,CAAC;IAED,QAAQ;QACN,MAAM,CAAC,UAAU,CAAC,cAAc,CAC9B,UAAU,EACV,CAAC,MAAW,CAAC,cAAc,EAAE,EAAE;YAC7B,MAAM,CAAC,QAAQ,GAAG,CAAC,CAAC;YACpB,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QACvB,CAAC,CACF,CAAC;IACJ,CAAC;IAED,aAAa;QACX,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;QAC/C,gBAAgB;QAChB;;aAEK;IACP,CAAC;IAED,6BAA6B;QAC3B,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAC;QAC3D,cAAc;QACd;;;aAGK;IACP,CAAC;IAED,qBAAqB;QACnB,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE,uBAAuB,CAAC,CAAC;QAC5D,cAAc;QACd;;;aAGK;IACP,CAAC;IAED,SAAS;QACP,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE,WAAW,CAAC,CAAC;QAChD,YAAY,CAAC,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,OAAO,CAAC,CAAC;IAC7D,CAAC;IAED,WAAW;QACT,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;QAClD,MAAM,CAAC,UAAU,CAAC,cAAc,CAC9B,iBAAiB,EACjB,CAAC,MAAW,CAAC,qBAAqB,EAAE,EAAE;YACpC,MAAM,CAAC,KAAK,CACV,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,SAAS,EACxC,IAAI,CAAC,CAAC,CAAC,oBAAoB,CAAC,EAC5B,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,EACzB,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC,EACrB,KAAK,CACN,CAAC;YACF,MAAM,CAAC,IAAI,EAAE,CAAC;QAChB,CAAC,CACF,CAAC;IACJ,CAAC;IAED,WAAW;QACT,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;QAClD,MAAM,CAAC,UAAU,CAAC,cAAc,CAC9B,iBAAiB,EACjB,CAAC,MAAW,CAAC,qBAAqB,EAAE,EAAE;YACpC,MAAM,CAAC,KAAK,CACV,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,EAC5B,IAAI,CAAC,CAAC,CAAC,yBAAyB,CAAC,EACjC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAC3B,CAAC;YACF,MAAM,CAAC,IAAI,EAAE,CAAC;QAChB,CAAC,CACF,CAAC;IACJ,CAAC;IAED,kBAAkB;QAChB,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE,mBAAmB,CAAC,CAAC;QACxD,MAAM,CAAC,UAAU,CAAC,cAAc,CAC9B,iBAAiB,EACjB,CAAC,MAAW,CAAC,qBAAqB,EAAE,EAAE;YACpC,MAAM,CAAC,KAAK,CACV,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,iBAAiB,EAChD,IAAI,CAAC,CAAC,CAAC,+BAA+B,CAAC,CACxC,CAAC;YACF,MAAM,CAAC,IAAI,EAAE,CAAC;QAChB,CAAC,CACF,CAAC;IACJ,CAAC;IAED,qBAAqB;QACnB,MAAM,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,EAAE,sBAAsB,CAAC,CAAC;QAC3D,MAAM,CAAC,UAAU,CAAC,cAAc,CAC9B,iBAAiB,EACjB,CAAC,MAAW,CAAC,qBAAqB,EAAE,EAAE;YACpC,MAAM,CAAC,KAAK,CACV,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,oBAAoB,EACnD,IAAI,CAAC,CAAC,CAAC,kCAAkC,CAAC,CAC3C,CAAC;YACF,MAAM,CAAC,IAAI,EAAE,CAAC;QAChB,CAAC,CACF,CAAC;IACJ,CAAC;IAED,SAAS;QACP,MAAM,CAAC,UAAU,CAAC,kBAAkB,CAClC,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC,GAAG,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAC9C,CAAC;IACJ,CAAC;IAED,UAAU;QACR,IAAI,CAAC,aAAa,CAChB,IAAI,WAAW,CAAC,kBAAkB,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC,CACvE,CAAC;QAEF,YAAY,CAAC,UAAU,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;IAC1D,CAAC;CACF,CAAA;AAtoBC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;kDACP;AAGrB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;iDACR;AAGpB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;sDACH;AAIzB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;4DACG;AAG/B;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;sDACH;AAGzB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;2DACE;AAGrB;IADR,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;0CACA;AAvBhB,YAAY;IADxB,aAAa,CAAC,gBAAgB,CAAC;GACnB,YAAY,CA0oBxB","sourcesContent":["import { YpAccessHelpers } from \"../common/YpAccessHelpers.js\";\nimport { YpMediaHelpers } from \"../common/YpMediaHelpers.js\";\n\nimport { YpCollection } from \"../yp-collection/yp-collection.js\";\nimport { nothing, html, TemplateResult, LitElement, css } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\nimport \"@material/web/iconbutton/outlined-icon-button.js\";\nimport \"@material/web/iconbutton/filled-tonal-icon-button.js\";\nimport \"@material/web/labs/card/outlined-card.js\";\n\n//import '../yp-post/yp-posts-list.js';\n//import '../yp-post/yp-post-card-add.js';\nimport \"./yp-post-actions.js\";\n\nimport { YpBaseElement } from \"../common/yp-base-element.js\";\nimport { YpFormattingHelpers } from \"../common/YpFormattingHelpers.js\";\nimport { YpNavHelpers } from \"../common/YpNavHelpers.js\";\nimport { YpPostCard } from \"./yp-post-card.js\";\nimport { ShadowStyles } from \"../common/ShadowStyles.js\";\nimport { YpBaseElementWithLogin } from \"../common/yp-base-element-with-login.js\";\n\nimport \"./yp-post-transcript.js\";\n//import { any /*YpApiActionDialog*/ } from '../yp-api-action-dialog/yp-api-action-dialog.js';\nimport { YpPostBaseWithAnswers } from \"./yp-post-base-with-answers.js\";\nimport { Corner, MdMenu } from \"@material/web/menu/menu.js\";\n\n@customElement(\"yp-post-header\")\nexport class YpPostHeader extends YpPostBaseWithAnswers(\n  YpBaseElementWithLogin\n) {\n  @property({ type: Boolean })\n  isAudioCover = false;\n\n  @property({ type: Boolean })\n  hideActions = false;\n\n  @property({ type: Boolean })\n  transcriptActive = false;\n\n  //TODO: Maybe refactor this if post header is never used with both\n  @property({ type: Boolean })\n  onlyRenderTopActionBar = false;\n\n  @property({ type: Boolean })\n  hideTopActionBar = false;\n\n  @property({ type: Boolean })\n  hasNoLeftRightButtons = false;\n\n  @property({ type: Object })\n  override post!: YpPostData;\n\n  //TODO: Make corners on posts card different\n  static override get styles() {\n    return [\n      super.styles,\n      ShadowStyles,\n      css`\n        :host {\n          display: block;\n        }\n\n        .category-icon {\n          width: 100px;\n          height: 100px;\n        }\n\n        .topActionButton {\n          margin-left: 32px;\n        }\n\n        yp-post-cover-media {\n          width: 420px;\n          height: 236px;\n        }\n\n        .description {\n          font-size: 18px;\n          font-weight: 400;\n          line-height: 25px;\n        }\n\n        .postName {\n          font-family: var(\n            --md-ref-typeface-brand\n          ); /*var(--md-sys-typescale-title-medium-font);*/\n          font-size: var(--md-sys-typescale-title-medium-size, 36px);\n          font-weight: var(--md-sys-typescale-title-medium-weight, 700);\n          line-height: var(--md-sys-typescale-title-medium-line-height, 48px);\n          text-align: left;\n          margin-bottom: 16px;\n        }\n\n        .actionBar {\n          margin-bottom: 48px;\n        }\n\n        .moreVert {\n        }\n\n        .userInfo {\n          margin-bottom: 16px;\n        }\n\n        .mediaContainer {\n          align-self: flex-start;\n        }\n\n        .customRatings {\n          position: absolute;\n          bottom: 12px;\n          right: 85px;\n        }\n\n        .coverContainer {\n          margin-right: 24px;\n          margin-bottom: 40px;\n        }\n\n        @media (max-width: 960px) {\n          .description[has-custom-ratings] {\n            padding-bottom: 18px;\n          }\n\n          .customRatings {\n            right: 46px;\n          }\n\n          .postCard {\n            width: 100%;\n          }\n\n          yp-post-cover-media {\n            width: 100% !important;\n          }\n\n          .coverContainer {\n            width: 100%;\n          }\n\n          .infoContainer {\n          }\n\n          .description {\n          }\n        }\n\n        @media (max-width: 800px) {\n          :host {\n            width: 100%;\n          }\n\n          yp-post-cover-media {\n            height: 230px;\n          }\n        }\n\n        @media (max-width: 430px) {\n          :host {\n            width: 100%;\n          }\n\n          .coverContainer {\n            margin-right: 0;\n          }\n\n          .postCard {\n            width: 100% !important;\n          }\n\n          yp-post-cover-media {\n            height: 225px;\n          }\n\n          .headerTopLevel {\n            width: 100%;\n          }\n\n          .description {\n            padding-bottom: 8px;\n          }\n        }\n\n        @media (max-width: 375px) {\n          yp-post-cover-media[header-mode] {\n            height: 207px;\n          }\n          yp-post-cover-media[audio-cover] {\n            height: 80px;\n          }\n        }\n\n        @media (max-width: 360px) {\n          yp-post-cover-media[header-mode] {\n            height: 200px;\n          }\n          yp-post-cover-media[audio-cover] {\n            height: 90px;\n          }\n        }\n\n        @media (max-width: 320px) {\n          yp-post-cover-media[header-mode] {\n            height: 180px;\n          }\n          yp-post-cover-media[audio-cover] {\n            height: 90px;\n          }\n        }\n\n        @media (min-width: 960px) {\n          yp-post-cover-media[has-transcript][audio-cover] {\n            margin-bottom: 16px;\n          }\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n      `,\n    ];\n  }\n\n  renderPostInformation() {\n    return html`\n      <div class=\"infoContainer\">\n        ${!this.post.public_data?.structuredAnswersJson\n          ? html`\n              <yp-magic-text\n                id=\"description\"\n                textType=\"postContent\"\n                .contentLanguage=\"${this.post.language}\"\n                content=\"${this.post.description}\"\n                ?noUserInfo=\"${!this.post.Group.configuration?.showWhoPostedPosts}\"\n                disableTranslation\n                .structuredQuestionsConfig=\"${this.post.Group.configuration?.structuredQuestions}\"\n                ?hasCustomRatings=\"${this.post.Group.configuration?.customRatings}\"\n                ?simpleFormat=\"${this.post.Group.configuration?.descriptionSimpleFormat}\"\n                .contentId=\"${this.post.id}\"\n                class=\"description\"\n                .truncate=\"${this.post.Group.configuration?.descriptionTruncateAmount}\"\n                .moreText=\"${this.t(\"readMore\")}\"\n                .closeDialogText=\"${this.t(\"close\")}\"\n              >\n              </yp-magic-text>\n            `\n          : html`\n              <yp-magic-text\n                id=\"description\"\n                textType=\"postContent\"\n                .contentLanguage=\"${this.post.language}\"\n                .content=\"${this.structuredAnswersFormatted}\"\n                ?noUserInfo=\"${!this.post.Group.configuration?.showWhoPostedPosts}\"\n                simpleFormat\n                skipSanitize\n                .contentId=\"${this.post.id}\"\n                class=\"description\"\n                .truncate=\"${this.post.Group.configuration\n                  .descriptionTruncateAmount || 500}\"\n                .moreText=\"${this.t(\"readMore\")}\"\n                .closeDialogText=\"${this.t(\"close\")}\"\n              >\n              </yp-magic-text>\n            `}\n      </div>\n    `;\n  }\n\n  renderMenu() {\n    if (this.hasPostAccess) {\n      return html`\n        <div style=\"position: relative;\" class=\"moreVert\">\n          <md-filled-tonal-icon-button\n            id=\"menuAnchor\"\n            type=\"button\"\n            class=\"topActionButton\"\n            @click=\"${this._openPostMenu}\"\n            title=\"${this.t(\"openPostMenu\")}\"\n            ><md-icon>more_vert</md-icon>\n          </md-filled-tonal-icon-button>\n          <md-menu\n            id=\"actionMenu\"\n            positioning=\"popover\"\n            .menuCorner=\"${Corner.START_START}\"\n            anchor=\"menuAnchor\"\n          >\n            <md-menu-item @click=\"${this._openEdit}\">\n              ${this.t(\"post.edit\")}\n            </md-menu-item>\n            <md-menu-item\n              @click=\"${this._openMovePost}\"\n              ?hidden=\"${true || !YpAccessHelpers.checkPostAdminOnlyAccess(this.post)}\"\n            >\n              ${this.t(\"post.move\")}\n            </md-menu-item>\n            <md-menu-item\n              @click=\"${this._openPostStatusChange}\"\n              ?hidden=\"${true || !YpAccessHelpers.checkPostAdminOnlyAccess(this.post)}\"\n            >\n              ${this.t(\"post.statusChange\")}\n            </md-menu-item>\n            <md-menu-item\n              @click=\"${this._openPostStatusChangeNoEmails}\"\n              ?hidden=\"${true || !YpAccessHelpers.checkPostAdminOnlyAccess(this.post)}\"\n            >\n              ${this.t(\"post.statusChangeNoEmails\")}\n            </md-menu-item>\n            <md-menu-item @click=\"${this._openDelete}\">\n              ${this.t(\"post.delete\")}\n            </md-menu-item>\n            <md-menu-item\n              @click=\"${this._openAnonymizeContent}\"\n              ?hidden=\"${!YpAccessHelpers.checkPostAdminOnlyAccess(this.post)}\"\n            >\n              ${this.t(\"anonymizePostAndContent\")}\n            </md-menu-item>\n            <md-menu-item\n              @click=\"${this._openDeleteContent}\"\n              ?hidden=\"${!YpAccessHelpers.checkPostAdminOnlyAccess(this.post)}\"\n            >\n              ${this.t(\"deletePostContent\")}\n            </md-menu-item>\n\n            <md-menu-item hidden @click=\"${this._openReport}\">\n              ${this.t(\"post.report\")}\n            </md-menu-item>\n          </md-menu>\n        </div>\n      `;\n    } else {\n      return nothing;\n    }\n  }\n\n  renderActions() {\n    return html`${this.post.Group.configuration?.customRatings\n      ? html`\n          <yp-post-ratings-info\n            class=\"customRatings\"\n            .post=\"${this.post}\"\n          ></yp-post-ratings-info>\n        `\n      : html`\n          <yp-post-actions\n            ?hidden=\"${this.hideActions}\"\n            hideDebate\n            headerMode\n            elevation=\"-1\"\n            ?forceShowDebate=\"${this.post.Group.configuration?.forceShowDebateCountOnPost}\"\n            floating\n            class=\"postActions\"\n            .post=\"${this.post}\"\n          ></yp-post-actions>\n        `} `;\n  }\n\n  renderName() {\n    return html`<yp-magic-text\n      class=\"postName\"\n      textType=\"postName\"\n      .contentLanguage=\"${this.post.language}\"\n      .content=\"${this.post.name}\"\n      .contentId=\"${this.post.id}\"\n    >\n    </yp-magic-text>`;\n  }\n\n  renderUser() {\n    return html`<div class=\"layout horizontal userInfo\">\n      <yp-user-with-organization\n        class=\"userWithOrg\"\n        mediumImage\n        .user=\"${this.post.User}\"\n      ></yp-user-with-organization>\n    </div>`;\n  }\n\n  renderCoverMedia() {\n    return html` <div class=\"layout vertical center-center coverContainer\">\n      <yp-post-cover-media\n        top-left-radius\n        show-video\n        show-audio\n        ?hasTranscript=\"${this.post.public_data?.transcript?.text}\"\n        .altTag=\"${this.post.name}\"\n        ?audio-cover=\"${this.isAudioCover}\"\n        header-mode\n        .post=\"${this.post}\"\n      >\n      </yp-post-cover-media>\n      ${this.transcriptActive\n        ? html` <yp-post-transcript .post=\"${this.post}\"></yp-post-transcript> `\n        : nothing}\n    </div>`;\n  }\n\n  renderClose() {\n    return html`<md-filled-tonal-icon-button\n      @click=\"${() => YpNavHelpers.redirectTo(\"/group/\" + this.post.group_id)}\"\n      title=\"${this.t(\"close\")}\"\n      ><md-icon\n        >${this.hasNoLeftRightButtons ? \"arrow_upward\" : \"close\"}</md-icon\n      >\n    </md-filled-tonal-icon-button>`;\n  }\n\n  renderTopActionButtons() {\n    return html`\n      ${this.loggedInUser\n        ? html`\n            <md-filled-tonal-icon-button\n              type=\"button\"\n              class=\"topActionButton\"\n              @click=\"${this._openEdit}\"\n              title=\"${this.t(\"openEdit\")}\"\n              ><md-icon>edit</md-icon>\n            </md-filled-tonal-icon-button>\n          `\n        : html`\n            <md-filled-tonal-icon-button\n              type=\"button\"\n              class=\"topActionButton\"\n              @click=\"${this._openReport}\"\n              title=\"${this.t(\"openReportPost\")}\"\n              ><md-icon>report</md-icon>\n            </md-filled-tonal-icon-button>\n          `}\n      <md-filled-tonal-icon-button\n        type=\"button\"\n        class=\"topActionButton\"\n        @click=\"${this._shareTap}\"\n        title=\"${this.t(\"openShare\")}\"\n        ><md-icon>share</md-icon>\n      </md-filled-tonal-icon-button>\n    `;\n  }\n\n  override render() {\n    return html`\n      <div\n        class=\"layout vertical\"\n        role=\"heading\"\n        aria-level=\"1\"\n        aria-label=\"${this.post.name}\"\n      >\n        ${!this.hideTopActionBar\n          ? html`\n              <div class=\"layout horizontal actionBar\">\n                ${this.renderClose()}\n                <div class=\"flex\"></div>\n                ${this.renderTopActionButtons()} ${this.renderMenu()}\n              </div>\n            `\n          : nothing}\n        ${!this.onlyRenderTopActionBar\n          ? nothing\n          : html`\n              ${this.post.Group.configuration?.showWhoPostedPosts\n                ? this.renderUser()\n                : nothing}\n              <div class=\"layout horizontal ${!this.wide ? 'wrap' : ''}\">\n                <div class=\"layout vertical center-center mediaContainer\">\n                  ${this.renderCoverMedia()} ${this.renderActions()}\n                </div>\n                <div class=\"layout vertical\">\n                  ${this.renderName()} ${this.renderPostInformation()}\n                </div>\n              </div>\n            `}\n      </div>\n    `;\n  }\n\n  _openPostMenu() {\n    (this.$$(\"#actionMenu\") as MdMenu).open = true;\n  }\n\n  _sharedContent(event: CustomEvent) {\n    const shareData = event.detail;\n    window.appGlobals.activity(\n      \"postShared\",\n      shareData.social,\n      this.post ? this.post.id : -1\n    );\n  }\n\n  _shareTap(event: CustomEvent) {\n    const detail = event.detail;\n    window.appGlobals.activity(\n      \"postShareHeaderOpen\",\n      detail.brand,\n      this.post ? this.post.id : -1\n    );\n\n    window.appDialogs.getDialogAsync(\n      \"shareDialog\",\n      (dialog: YpShareDialogData) => {\n        const url = \"https://\" + window.location.host + \"/post/\" + this.post.id;\n        dialog.open(url, this.t(\"post.shareInfo\"), this._sharedContent);\n      }\n    );\n  }\n\n  get hasPostAccess() {\n    if (this.post) {\n      return YpAccessHelpers.checkPostAccess(this.post);\n    } else {\n      return false;\n    }\n  }\n\n  override updated(changedProperties: Map<string | number | symbol, unknown>) {\n    super.updated(changedProperties);\n\n    if (changedProperties.has(\"post\")) {\n      this._postChanged();\n    }\n  }\n\n  _postChanged() {\n    if (this.post && this.post.description) {\n      setTimeout(() => {\n        const description = this.$$(\"#description\");\n        if (description) {\n          // Special case for law Issue from a parliement\n          if (\n            this.post.public_data &&\n            this.post.public_data.law_issue &&\n            this.post.public_data.law_issue.issueStatus\n          ) {\n            description.innerHTML +=\n              \" - \" + this.post.public_data.law_issue.issueStatus;\n          }\n        } else {\n          console.error(\"Can't find description element\");\n        }\n      });\n\n      if (\n        this.hasPostAccess &&\n        window.appGlobals.hasTranscriptSupport === true\n      ) {\n        if (this.post.public_data && this.post.public_data.transcript) {\n          this.transcriptActive = true;\n        }\n      }\n    }\n\n    if (this.post) {\n      if (this.post.cover_media_type === \"audio\") {\n        this.isAudioCover = true;\n      } else {\n        this.isAudioCover = false;\n      }\n    }\n  }\n\n  updateDescriptionIfEmpty(description: string) {\n    if (this.post && (!this.post.description || this.post.description == \"\")) {\n      this.post.description = description;\n    }\n  }\n\n  _refresh() {\n    window.appDialogs.getDialogAsync(\n      \"postEdit\",\n      (dialog: any /*YpPostEdit*/) => {\n        dialog.selected = 0;\n        this.fire(\"refresh\");\n      }\n    );\n  }\n\n  _openMovePost() {\n    window.appGlobals.activity(\"open\", \"movePost\");\n    //TODO: movePost\n    /*window.appDialogs.getDialogAsync('postMove', dialog => {\n      dialog.setupAndOpen(this.post, this._refresh.bind(this));\n    });*/\n  }\n\n  _openPostStatusChangeNoEmails() {\n    window.appGlobals.activity(\"open\", \"statusChangeNoEmails\");\n    //TODO: Finish\n    /*window.appDialogs.getDialogAsync('postStatusChangeEdit', dialog => {\n      dialog.setup(this.post, null, this._refresh.bind(this), true);\n      dialog.open('new', { postId: this.post.id, statusChange: true });\n    });*/\n  }\n\n  _openPostStatusChange() {\n    window.appGlobals.activity(\"open\", \"post.statusChangeEdit\");\n    //TODO: Finish\n    /*window.appDialogs.getDialogAsync('postStatusChangeEdit', dialog => {\n      dialog.setup(this.post, null, this._refresh.bind(this));\n      dialog.open('new', { postId: this.post.id, statusChange: true });\n    });*/\n  }\n\n  _openEdit() {\n    window.appGlobals.activity(\"open\", \"post.edit\");\n    YpNavHelpers.redirectTo(\"/post/\" + this.post.id + \"/edit\");\n  }\n\n  _openReport() {\n    window.appGlobals.activity(\"open\", \"post.report\");\n    window.appDialogs.getDialogAsync(\n      \"apiActionDialog\",\n      (dialog: any /*YpApiActionDialog*/) => {\n        dialog.setup(\n          \"/api/posts/\" + this.post.id + \"/report\",\n          this.t(\"reportConfirmation\"),\n          this._onReport.bind(this),\n          this.t(\"post.report\"),\n          \"PUT\"\n        );\n        dialog.open();\n      }\n    );\n  }\n\n  _openDelete() {\n    window.appGlobals.activity(\"open\", \"post.delete\");\n    window.appDialogs.getDialogAsync(\n      \"apiActionDialog\",\n      (dialog: any /*YpApiActionDialog*/) => {\n        dialog.setup(\n          \"/api/posts/\" + this.post.id,\n          this.t(\"post.deleteConfirmation\"),\n          this._onDeleted.bind(this)\n        );\n        dialog.open();\n      }\n    );\n  }\n\n  _openDeleteContent() {\n    window.appGlobals.activity(\"open\", \"postDeleteContent\");\n    window.appDialogs.getDialogAsync(\n      \"apiActionDialog\",\n      (dialog: any /*YpApiActionDialog*/) => {\n        dialog.setup(\n          \"/api/posts/\" + this.post.id + \"/delete_content\",\n          this.t(\"postDeleteContentConfirmation\")\n        );\n        dialog.open();\n      }\n    );\n  }\n\n  _openAnonymizeContent() {\n    window.appGlobals.activity(\"open\", \"postAnonymizeContent\");\n    window.appDialogs.getDialogAsync(\n      \"apiActionDialog\",\n      (dialog: any /*YpApiActionDialog*/) => {\n        dialog.setup(\n          \"/api/posts/\" + this.post.id + \"/anonymize_content\",\n          this.t(\"postAnonymizeContentConfirmation\")\n        );\n        dialog.open();\n      }\n    );\n  }\n\n  _onReport() {\n    window.appGlobals.notifyUserViaToast(\n      this.t(\"post.report\") + \": \" + this.post.name\n    );\n  }\n\n  _onDeleted() {\n    this.dispatchEvent(\n      new CustomEvent(\"yp-refresh-group\", { bubbles: true, composed: true })\n    );\n\n    YpNavHelpers.redirectTo(\"/group/\" + this.post.group_id);\n  }\n}\n"]}