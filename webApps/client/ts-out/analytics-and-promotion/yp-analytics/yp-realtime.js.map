{"version":3,"file":"yp-realtime.js","sourceRoot":"","sources":["../../../src/analytics-and-promotion/yp-analytics/yp-realtime.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, css, html, nothing } from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\n\nimport { PlausibleRealtime } from '../pl-components/pl-realtime.js';\nimport '../pl-components/stats/graph/pl-goal-graph.js';\nimport { highlightedGoals } from './ypHighlightedGoals.js';\n\n@customElement('yp-realtime')\nexport class YpRealtime extends PlausibleRealtime {\n  @property({ type: Object })\n  collection!: YpCollectionData;\n\n  @property({ type: String })\n  collectionType!: string;\n\n  @property({ type: Number })\n  collectionId!: number;\n\n  static override get styles() {\n    return [...super.styles, css``];\n  }\n\n  constructor() {\n    super();\n    this.highlightedGoals = highlightedGoals;\n  }\n\n  override render() {\n    const navClass = this.site.embedded ? 'relative' : 'sticky';\n    return html`\n      <div class=\"mb-12\">\n        <div id=\"stats-container-top\"></div>\n        <div\n          class=${`${navClass} top-0 sm:py-3 py-2 z-10 ${\n            this.stuck && !this.site.embedded\n              ? 'fullwidth-shadow bg-gray-50 dark:bg-gray-850'\n              : ''\n          }`}\n        >\n          <div class=\"items-center w-full flex\">\n            <div class=\"flex w-full\"></div>\n            <div class=\"flex\">\n              <pl-filters\n                class=\"flex\"\n                .site=${this.site}\n                .query=\"${this.query}\"\n                .history=\"${this.history}\"\n              ></pl-filters>\n            </div>\n            <pl-date-picker\n              .site=\"${this.site}\"\n              .query=\"${this.query}\"\n              .history=\"${this.history}\"\n            ></pl-date-picker>\n          </div>\n        </div>\n        ${!this.wide\n          ? html`\n              <md-icon-button\n                icon=\"close\"\n                @click=\"${() => this.fire('exit-to-app')}\"\n              ></md-icon-button>\n            `\n          : nothing}\n\n        <pl-visitors-graph\n          .site=\"${this.site}\"\n          .query=\"${this.query}\"\n          .timer=\"${this.timer}\"\n          useTopStatsForCurrentVisitors\n          .proxyUrl=\"${this.proxyUrl}\"\n        ></pl-visitors-graph>\n        <yp-campaigns-analytics\n          .site=\"${this.site}\"\n          .query=\"${this.query}\"\n          .proxyUrl=\"${this.proxyUrl}\"\n          .timer=\"${this.timer}\"\n          .collectionType=\"${this.collectionType}\"\n          .collectionId=\"${this.collectionId}\"\n        ></yp-campaigns-analytics>\n        <pl-goal-graph\n          .events=\"${[\n            'newPost - completed',\n            'newPointAgainst - completed',\n            'newPointFor - completed',\n          ]}\"\n          .chartTitle=\"${this.t('Users who added content')}\"\n          .query=\"${this.query}\"\n          .proxyUrl=\"${this.proxyUrl}\"\n          .timer=\"${this.timer}\"\n          .site=\"${this.site}\"\n          gradientColorStop1=\"rgba(205,116,101, 0.2)\"\n          gradientColorStop2=\"rgba(205,116,101, 0.2)\"\n          prevGradientColorStop1=\"rgba(205,116,101, 0.075)\"\n          prevGradientColorStop2=\"rgba(205,116,101, 0)\"\n          borderColor=\"rgba(205,116,101)\"\n          pointBackgroundColor=\"rgba(205,116,101)\"\n          pointHoverBackgroundColor=\"rgba(193, 87, 71)\"\n          prevPointHoverBackgroundColor=\"rgba(166,187,210,0.8)\"\n          prevBorderColor=\"rgba(210,187,166,0.5)\"\n          .chartHeigh=\"${this.wide ? 200 : 300}\"\n        >\n        </pl-goal-graph>\n        <pl-goal-graph\n          .events=\"${[\n            'endorse_up - completed',\n            'endorse_down - completed',\n            'pointHelpful - completed',\n            'pointNotHelpful - completed',\n            'post.ratings - add',\n          ]}\"\n          .chartTitle=\"${this.t('Users who rated content')}\"\n          .query=\"${this.query}\"\n          .proxyUrl=\"${this.proxyUrl}\"\n          .timer=\"${this.timer}\"\n          .site=\"${this.site}\"\n          .chartHeigh=\"${this.wide ? 200 : 300}\"\n        >\n        </pl-goal-graph>\n        <div\n          class=\"items-start justify-between block w-full md:flex flex flex-wrap\"\n        >\n          <pl-sources-list\n            class=\"flex-col\"\n            .site=\"${this.site}\"\n            .query=\"${this.query}\"\n            .timer=\"${this.timer}\"\n            .proxyUrl=\"${this.proxyUrl}\"\n            .proxyFaviconBaseUrl=\"${this.proxyFaviconBaseUrl}\"\n          ></pl-sources-list>\n          <pl-pages\n            class=\"flex-col\"\n            ?hidden=\"${this.collectionType==\"post\" && !this.wide}\"\n            .site=\"${this.site}\"\n            .query=\"${this.query}\"\n            .timer=\"${this.timer}\"\n            .proxyUrl=\"${this.proxyUrl}\"\n          ></pl-pages>\n        </div>\n        <div\n          class=\"items-start justify-between block w-full md:flex flex flex-wrap\"\n        >\n          <pl-locations\n            .site=\"${this.site}\"\n            .query=\"${this.query}\"\n            .timer=\"${this.timer}\"\n            .proxyUrl=\"${this.proxyUrl}\"\n          ></pl-locations>\n          <pl-devices\n            .site=\"${this.site}\"\n            .query=\"${this.query}\"\n            .timer=\"${this.timer}\"\n            .proxyUrl=\"${this.proxyUrl}\"\n          ></pl-devices>\n        </div>\n        ${this.renderConversions()}\n      </div>\n    `;\n  }\n}\n"]}