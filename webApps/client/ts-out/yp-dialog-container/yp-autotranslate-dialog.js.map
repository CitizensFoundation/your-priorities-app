{"version":3,"file":"yp-autotranslate-dialog.js","sourceRoot":"","sources":["../../src/yp-dialog-container/yp-autotranslate-dialog.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,IAAI,EAAE,GAAG,EAAW,MAAM,KAAK,CAAC;AACzC,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,MAAM,mBAAmB,CAAC;AAG5D,OAAO,EAAE,aAAa,EAAE,MAAM,8BAA8B,CAAC;AAE7D,OAAO,gCAAgC,CAAC;AACxC,OAAO,qCAAqC,CAAC;AAE7C,OAAO,6CAA6C,CAAC;AAK9C,IAAM,qBAAqB,GAA3B,MAAM,qBAAsB,SAAQ,aAAa;IAItD,MAAM,KAAc,MAAM;QACxB,OAAO;YACL,KAAK,CAAC,MAAM;YACZ,GAAG,CAAA;;;;;;;;;;;;;;;OAeF;SACF,CAAC;IACJ,CAAC;IAEQ,MAAM;QACb,OAAO,IAAI,CAAA;;;;;;kCAMmB,IAAI,CAAC,CAAC,CAAC,yBAAyB,CAAC;;;;sBAI7C,IAAI,CAAC,aAAa;;sBAElB,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC;;;sBAGf,IAAI,CAAC,GAAG;sBACR,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;;;sBAGZ,IAAI,CAAC,mBAAmB;sBACxB,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC;;;sBAGb,IAAI,CAAC,gCAAgC;sBACrC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC;;;KAGjC,CAAC;IACJ,CAAC;IAED,GAAG;QACD,cAAc,CAAC,OAAO,CAAC,8BAA8B,EAAE,MAAM,CAAC,CAAC;IACjE,CAAC;IAED,aAAa;QACX,YAAY,CAAC,OAAO,CAAC,8BAA8B,EAAE,MAAM,CAAC,CAAC;IAC/D,CAAC;IAED,gCAAgC;QAC9B,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,YAAY,CAAC,OAAO,CAAC,4BAA4B,EAAE,MAAM,CAAC,CAAC;IAC7D,CAAC;IAED,mBAAmB;QAChB,IAAI,CAAC,EAAE,CAAC,mBAAmB,CAAwB,CAAC,gBAAgB,EAAE,CAAC;IAC1E,CAAC;IAED,iCAAiC;QAC/B,UAAU,CAAC,GAAG,EAAE;YACd,IAAK,IAAI,CAAC,EAAE,CAAC,SAAS,CAAY,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC;gBAClD,IACG,IAAI,CAAC,EAAE,CAAC,mBAAmB,CAAwB;qBACjD,mBAAmB,KAAK,IAAI;oBAC/B,MAAM,CAAC,UAAU,CAAC,aAAa,KAAK,IAAI,EACxC,CAAC;oBACD,IAAI,YAAY,CAAC,OAAO,CAAC,4BAA4B,CAAC,IAAI,IAAI,EAAE,CAAC;wBAC/D,IAAI,CAAC,mBAAmB,EAAE,CAAC;oBAC7B,CAAC;yBAAM,CAAC;wBACL,IAAI,CAAC,EAAE,CAAC,SAAS,CAAY,CAAC,IAAI,GAAG,IAAI,CAAC;oBAC7C,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;CACF,CAAA;AAzFC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;+DACU;AAF1B,qBAAqB;IADjC,aAAa,CAAC,yBAAyB,CAAC;GAC5B,qBAAqB,CA2FjC","sourcesContent":["import { html, css, nothing } from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\n\n\nimport { YpBaseElement } from '../common/yp-base-element.js';\n\nimport '@material/web/dialog/dialog.js';\nimport '@material/web/button/text-button.js';\n\nimport '../common/languages/yp-language-selector.js';\nimport { YpLanguageSelector } from '../common/languages/yp-language-selector.js';\nimport { Dialog } from '@material/web/dialog/internal/dialog.js';\n\n@customElement('yp-autotranslate-dialog')\nexport class YpAutoTranslateDialog extends YpBaseElement {\n  @property({ type: String })\n  confirmationText: string | undefined;\n\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        md-dialog {\n          max-width: 400px;\n        }\n\n        md-icon {\n          width: 48px;\n          height: 48px;\n          margin-bottom: 16px;\n        }\n\n        .infoText {\n          font-size: 18px;\n          margin-bottom: 8px;\n        }\n      `,\n    ];\n  }\n\n  override render() {\n    return html`\n      <yp-language-selector hidden id=\"languageSelector\"></yp-language-selector>\n\n      <md-dialog id=\"dialog\">\n        <div class=\"layout vertical center-center\" slot=\"headline\">\n          <div><md-icon>translate</md-icon></div>\n          <div class=\"infoText\">${this.t('shouldAutoTranslateInfo')}</div>\n        </div>\n        <div class=\"buttons\" slot=\"actions\">\n          <md-text-button\n            @click=\"${this._dontAskAgain}\"\n            slot=\"secondaryAction\"\n            .label=\"${this.t('never')}\"></md-text-button>\n          <md-text-button\n            slot=\"secondaryAction\"\n            @click=\"${this._no}\"\n            .label=\"${this.t('no')}\"></md-text-button>\n          <md-text-button\n            slot=\"primaryAction\"\n            @click=\"${this._startAutoTranslate}\"\n            .label=\"${this.t('yes')}\"></md-text-button>\n          <md-text-button\n            slot=\"primaryAction\"\n            @click=\"${this._startAutoTranslateAndDoSoAlways}\"\n            .label=\"${this.t('always')}\"></md-text-button>\n        </div>\n      </md-dialog>\n    `;\n  }\n\n  _no() {\n    sessionStorage.setItem('dontPromptForAutoTranslation', 'true');\n  }\n\n  _dontAskAgain() {\n    localStorage.setItem('dontPromptForAutoTranslation', 'true');\n  }\n\n  _startAutoTranslateAndDoSoAlways() {\n    this._startAutoTranslate();\n    localStorage.setItem('alwaysStartAutoTranslation', 'true');\n  }\n\n  _startAutoTranslate() {\n    (this.$$('#languageSelector') as YpLanguageSelector).startTranslation();\n  }\n\n  openLaterIfAutoTranslationEnabled() {\n    setTimeout(() => {\n      if ((this.$$('#dialog') as Dialog).open === false) {\n        if (\n          (this.$$('#languageSelector') as YpLanguageSelector)\n            .canUseAutoTranslate === true &&\n          window.appGlobals.autoTranslate !== true\n        ) {\n          if (localStorage.getItem('alwaysStartAutoTranslation') != null) {\n            this._startAutoTranslate();\n          } else {\n            (this.$$('#dialog') as Dialog).open = true;\n          }\n        }\n      }\n    }, 750);\n  }\n}\n"]}