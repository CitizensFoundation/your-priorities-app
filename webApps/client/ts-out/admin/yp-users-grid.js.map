{"version":3,"file":"yp-users-grid.js","sourceRoot":"","sources":["../../src/admin/yp-users-grid.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, TemplateResult, css, html, nothing, render } from \"lit\";\nimport { property, customElement, query } from \"lit/decorators.js\";\n\nimport { YpBaseElement } from \"../common/yp-base-element.js\";\nimport { YpFormattingHelpers } from \"../common/YpFormattingHelpers.js\";\nimport \"@vaadin/vaadin-grid/vaadin-grid.js\";\nimport { GridElement } from \"@vaadin/vaadin-grid/vaadin-grid.js\";\nimport \"@material/web/dialog/dialog.js\";\nimport \"@material/web/list/list-item.js\";\nimport \"@material/web/list/list.js\";\nimport \"@material/web/button/filled-button.js\";\nimport \"@material/web/menu/menu.js\";\n\nimport \"@material/web/menu/menu-item.js\";\n\nimport \"@material/web/iconbutton/icon-button.js\";\n\nimport \"@material/web/progress/circular-progress.js\";\nimport \"@material/web/textfield/outlined-text-field.js\";\nimport \"@material/web/radio/radio.js\";\nimport \"@vaadin/grid/vaadin-grid.js\";\nimport \"@vaadin/grid/vaadin-grid-selection-column.js\";\nimport \"@vaadin/grid/vaadin-grid-filter-column.js\";\nimport \"@vaadin/grid/vaadin-grid-sort-column.js\";\nimport { MdDialog } from \"@material/web/dialog/dialog.js\";\n\nimport { YpConfirmationDialog } from \"../yp-dialog-container/yp-confirmation-dialog.js\";\n//import { ItemCache } from '@vaadin/vaadin-grid/src/vaadin-grid-data-provider-mixin';\nimport { GridColumn } from \"@vaadin/vaadin-grid/src/vaadin-grid-column\";\nimport { Corner, MdMenu } from \"@material/web/menu/menu.js\";\n\ninterface RowData {\n  item: YpUserData;\n}\n\n@customElement(\"yp-users-grid\")\nexport class YpUsersGrid extends YpBaseElement {\n  @query(\"#addAdminEmail\")\n  addAdminEmail: HTMLInputElement | undefined;\n\n  @query(\"#inviteUserEmail\")\n  inviteUserEmail: HTMLInputElement | undefined;\n\n  @property({ type: String })\n  headerText: string | undefined;\n\n  @property({ type: Array })\n  users: Array<YpUserData> | undefined;\n\n  @property({ type: Number })\n  groupId: number | undefined;\n\n  @property({ type: Number })\n  communityId: number | undefined;\n\n  @property({ type: Number })\n  domainId: number | undefined;\n\n  @property({ type: Boolean })\n  adminUsers = false;\n\n  @property({ type: Object })\n  selected: YpUserData | undefined;\n\n  @property({ type: String })\n  modelType: string | undefined;\n\n  @property({ type: Array })\n  availableOrganizations: Array<YpOrganizationData> | undefined;\n\n  @property({ type: Number })\n  userIdForSelectingOrganization: number | undefined;\n\n  @property({ type: Array })\n  selectedUsers: Array<YpUserData> | undefined;\n\n  @property({ type: Number })\n  selectedUsersCount = 0;\n\n  @property({ type: Boolean })\n  selectedUsersEmpty = true;\n\n  @property({ type: Array })\n  selectedUserIds: Array<number> | undefined;\n\n  @property({ type: Number })\n  selectedUserId: number | undefined;\n\n  @property({ type: String })\n  collectionName: string;\n\n  @property({ type: String })\n  usersCountText: string | undefined;\n\n  @property({ type: Boolean })\n  showReload = false;\n\n  @property({ type: Boolean })\n  forceSpinner = false;\n\n  @property({ type: Number })\n  lastFethedId: number | undefined;\n\n  @query(\"#grid\") private gridElement?: HTMLElement;\n\n  @property({ type: String })\n  inviteType = \"sendInviteByEmail\";\n\n  resizeTimeout: any | undefined;\n\n  override updated(changedProperties: Map<string | number | symbol, unknown>) {\n    super.updated(changedProperties);\n\n    if (changedProperties.has(\"groupId\")) {\n      this._groupIdChanged();\n    }\n    if (changedProperties.has(\"communityId\")) {\n      this._communityIdChanged();\n    }\n    if (changedProperties.has(\"domainId\")) {\n      this._domainIdChanged();\n    }\n\n    if (changedProperties.has(\"adminUsers\") && this.users) {\n      this.showReload = false;\n      this._reload();\n    }\n\n    this._setupHeaderText();\n  }\n\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        .userItem {\n          padding-right: 16px;\n        }\n\n        .id {\n          width: 40px;\n        }\n\n        .name {\n          width: 200px;\n        }\n\n        md-circular-progress {\n          margin-top: 8px;\n          margin-left: 16px;\n        }\n\n        .email {\n          width: 190px;\n          overflow-wrap: break-word;\n        }\n\n        .organization {\n          width: 150px;\n        }\n\n        .addRemoveButtons {\n          width: 150px;\n        }\n\n        md-menu-item {\n          z-index: 500;\n        }\n\n        vaadin-grid {\n          --lumo-base-color: var(--md-sys-color-surface);\n          --lumo-body-text-color: var(--md-sys-color-on-surface);\n          --lumo-primary-color: var(--md-sys-color-primary);\n          --lumo-primary-color-10pct: var(--md-sys-color-surface-variant);\n          --lumo-primary-color-50pct: var(--md-sys-color-primary);\n          --lumo-primary-contrast-color: var(--md-sys-color-on-tertiary);\n          --lumo-tint: var(--md-sys-color-on-surface);\n          --lumo-tint-10pct: var(--md-sys-color-on-surface);\n          --lumo-tint-20pct: var(--md-sys-color-on-surface);\n          --lumo-tint-30pct: var(--md-sys-color-on-surface);\n          --lumo-tint-40pct: var(--md-sys-color-on-surface);\n          --lumo-tint-50pct: var(--md-sys-color-on-surface);\n          --lumo-tint-60pct: var(--md-sys-color-on-surface);\n          --lumo-tint-70pct: var(--md-sys-color-on-surface);\n          --lumo-tint-80pct: var(--md-sys-color-on-surface);\n          --lumo-tint-90pct: var(--md-sys-color-on-surface);\n          --lumo-header-text-color: var(--md-sys-color-on-surface);\n          --lumo-body-text-color: var(--md-sys-color-on-surface);\n          --lumo-secondary-text-color: var(--md-sys-color-on-surface);\n          --lumo-tertiary-text-color: var(--md-sys-color-on-surface);\n          --lumo-disabled-text-color: var(--md-sys-color-on-surface);\n          --lumo-primary-text-color: var(--md-sys-color-on-surface);\n          --lumo-error-text-color: var(--md-sys-color-error);\n          --lumo-success-text-color: var(--md-sys-color-on-surface);\n          --lumo-link-color: var(--md-sys-color-on-surface);\n        }\n\n        #selectOrganizationDialog {\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n\n        paper-listbox {\n          margin-right: 8px !important;\n        }\n\n        .headerBox {\n          background-color: var(--md-sys-primary-container);\n          color: var(--md-sys-on-primary-container);\n          margin: 0;\n          padding: 0 0;\n          padding-top: 12px;\n          padding-bottom: 10px;\n        }\n\n        paper-button {\n          margin-left: 24px;\n        }\n\n        .inputBox {\n          margin-left: 16px;\n          padding-left: 8px;\n          padding-right: 8px;\n          padding-bottom: 4px;\n          margin-bottom: 4px;\n          align-self: flex-start;\n          margin-top: 2px;\n          margin-right: 12px;\n        }\n\n        #grid {\n          margin-top: 0;\n          margin-bottom: 0;\n        }\n\n        .headerText {\n          padding: 0 0 !important;\n        }\n\n        .collectionName {\n          font-size: 22px;\n          margin-bottom: 1px;\n          margin-top: 4px;\n        }\n\n        .innerHeader {\n          font-size: 17px;\n        }\n\n        .closeButton {\n          width: 50px;\n          height: 50px;\n          margin-left: 4px;\n          margin-right: 4px;\n        }\n\n        vaadin-grid {\n          width: 100%;\n          max-width: 1024px;\n        }\n\n        .topContainer {\n          width: 100%;\n          max-width: 1024px;\n        }\n\n        md-radio {\n          margin-right: 8px;\n          margin-bottom: 8px;\n        }\n\n        @media (max-width: 600px) {\n          .closeButton {\n            width: 45px;\n            height: 45px;\n          }\n\n          .inputBox {\n            margin-top: 6px;\n          }\n\n          paper-listbox {\n            margin-right: 8px;\n          }\n\n          #dialog {\n            width: 100%;\n            height: 100%;\n            margin: 0;\n          }\n\n          .headerText {\n            font-size: 20px;\n            line-height: 1.2em;\n            text-align: center;\n          }\n        }\n\n        paper-spinner {\n          margin-left: 16px;\n          margin-top: 8px;\n        }\n\n        .inviteButton {\n          margin: 16px;\n        }\n\n        #inviteUserEmail {\n          margin-right: 16px;\n        }\n\n        @media (max-width: 600px) {\n          .inviteButton {\n            margin-top: 4px;\n            margin-bottom: 12px;\n            height: 48px;\n            margin-right: 8px;\n          }\n        }\n\n        .typeOfInvite {\n          margin-left: 4px;\n          margin-top: 6px;\n          margin-bottom: 6px;\n        }\n\n        .emailClass {\n          margin-left: 6px;\n          margin-right: 6px;\n        }\n      `,\n    ];\n  }\n\n  renderSelectionHeader(root: HTMLElement, column?: GridColumn | undefined) {\n    render(\n      html`\n        <div style=\"position: relative;\">\n          <md-icon-button\n            id=\"user-all-anchor\"\n            .ariaLabel=\"${this.t(\"openSelectedItemsMenu\")}\"\n            @click=\"${this._openAllMenu.bind(this)}\"\n            ><md-icon>more_vert</md-icon></md-icon-button\n          >\n          <md-menu\n            .menuCorner=\"${Corner.START_END}\"\n            class=\"helpButton\"\n            id=\"allUsersMenu\"\n            positioning=\"popover\"\n            anchor=\"user-all-anchor\"\n            @selected=\"${this._menuSelection}\"\n            ?disabled=\"${this.selectedUsersEmpty}\"\n          >\n            ${!this.selectedUsersEmpty\n              ? html`\n                  <md-menu-item\n                    ?hidden=\"${this.adminUsers}\"\n                    @click=\"${this._removeAndDeleteContentSelectedUsers.bind(\n                      this\n                    )}\"\n                  >\n                    ${this.t(\"removeSelectedAndDeleteContent\")}\n                    ${this.selectedUsersCount}\n                  </md-menu-item>\n                  <md-menu-item\n                    ?hidden=\"${this.adminUsers}\"\n                    @click=\"${this._removeSelectedUsersFromCollection.bind(\n                      this\n                    )}\"\n                  >\n                    <div ?hidden=\"${!this.groupId}\">\n                      ${this.t(\"removeSelectedFromGroup\")}\n                      ${this.selectedUsersCount}\n                    </div>\n                    <div ?hidden=\"${!this.communityId}\">\n                      ${this.t(\"removeSelectedFromCommunity\")}\n                      ${this.selectedUsersCount}\n                    </div>\n                    <div ?hidden=\"${!this.domainId}\">\n                      ${this.t(\"removeSelectedFromDomain\")}\n                      ${this.selectedUsersCount}\n                    </div>\n                  </md-menu-item>\n                  <md-menu-item\n                    ?hidden=\"${!this.adminUsers}\"\n                    @click=\"${this._removeSelectedAdmins.bind(this)}\"\n                  >\n                    ${this.t(\"removeSelectedAdmins\")} ${this.selectedUsersCount}\n                  </md-menu-item>\n                `\n              : html``}\n          </md-menu>\n        </div>\n      `,\n      root\n    );\n  }\n\n  selectionRenderer(root: HTMLElement, column: any, rowData: any) {\n    render(\n      html`\n        <div style=\"position: relative;\">\n          <md-icon-button\n            .ariaLabel=\"${this.t(\"openOneItemMenu\")}\"\n            data-args=\"${rowData.item.id}\"\n            id=\"user-item-${rowData.item.id}-anchor\"\n            @click=\"${this._setSelected.bind(this)}\"\n            ><md-icon>more_vert</md-icon></md-icon-button\n          >\n        </div>\n        <md-menu\n          .menuCorner=\"${Corner.START_END}\"\n          positioning=\"popover\"\n          id=\"userItemMenu${rowData.item.id}\"\n          anchor=\"user-item-${rowData.item.id}-anchor\"\n          class=\"helpButton\"\n        >\n          <md-menu-item\n            data-args=\"${rowData.item.id}\"\n            ?hidden=\"${this.adminUsers}\"\n            @click=\"${this._removeUserFromCollection.bind(this)}\"\n          >\n            <div ?hidden=\"${!this.groupId}\">${this.t(\"removeFromGroup\")}</div>\n            <div ?hidden=\"${!this.communityId}\">\n              ${this.t(\"removeFromCommunity\")}\n            </div>\n            <div ?hidden=\"${!this.domainId}\">${this.t(\"removeFromDomain\")}</div>\n          </md-menu-item>\n          <md-menu-item\n            data-args=\"${rowData.item.id}\"\n            ?hidden=\"${this.adminUsers}\"\n            @click=\"${this._removeAndDeleteUserContent.bind(this)}\"\n          >\n            <div ?hidden=\"${!this.groupId}\">\n              ${this.t(\"removeFromGroupDeleteContent\")}\n            </div>\n            <div ?hidden=\"${!this.communityId}\">\n              ${this.t(\"removeFromCommunityDeleteContent\")}\n            </div>\n            <div ?hidden=\"${!this.domainId}\">\n              ${this.t(\"removeFromDomainDeleteContent\")}\n            </div>\n          </md-menu-item>\n          <md-menu-item\n            data-args=\"${rowData.item.id}\"\n            ?hidden=\"${!this.adminUsers}\"\n            @click=\"${this._removeAdmin.bind(this)}\"\n          >\n            ${this.t(\"users.removeAdmin\")}\n          </md-menu-item>\n\n          <md-menu-item\n            data-args=\"${rowData.item.id}\"\n            ?hidden=\"${this._userOrganizationName(rowData.item)}\"\n            @click=\"${this._addToOrganization.bind(this)}\"\n          >\n            ${this.t(\"users.addToOrganization\")}\n          </md-menu-item>\n          <md-menu-item\n            data-args=\"${rowData.item.id}\"\n            ?hidden=\"${!this._userOrganizationName(rowData.item)}\"\n            data-args-org=\"${this._userOrganizationId(rowData.item)}\"\n            @click=\"${this._removeFromOrganization.bind(this)}\"\n          >\n            ${this.t(\"users.removeFromOrganization\")}\n          </md-menu-item>\n        </md-menu>\n      `,\n      root\n    );\n  }\n\n  _reloadFromButton() {\n    this.showReload = false;\n    this._reload();\n  }\n\n  override render() {\n    return html`\n      <div class=\"layout horizontal topContainer\">\n        <div class=\"headerText layout vertical\">\n          <div class=\"layout horizontal\">\n            <div class=\"collectionName\">${this.collectionName}</div>\n          </div>\n          <div class=\"innerHeader\">\n            ${this.headerText}\n            <span ?hidden=\"${!this.totalUserCount}\"\n              >(${this.totalUserCount})</span\n            >\n          </div>\n        </div>\n        <div ?hidden=\"${!this.spinnerActive}\">\n          <md-circular-progress indeterminate></md-circular-progress>\n        </div>\n\n        <div class=\"flex\"></div>\n        <div ?hidden=\"${!this.showReload}\">\n          <md-icon-button\n            aria-label=\"${this.t(\"reload\")}\"\n            class=\"closeButton\"\n            @click=\"${this._reloadFromButton}\"\n            ><md-icon>autorenew</md-icon></md-icon-button\n          >\n        </div>\n        <div ?hidden=\"${this.domainId != null}\">\n          <div\n            ?hidden=\"${this.adminUsers}\"\n            class=\"layout horizontal wrap inputBox\"\n          >\n            <md-outlined-text-field\n              id=\"inviteUserEmail\"\n              label=\"${this.t(\"email\")}\"\n              class=\"emailClass\"\n              .value=\"${\"\"}\"\n            ></md-outlined-text-field>\n            <div\n              id=\"typeOfInvite\"\n              name=\"typeOfInvite\"\n              class=\"typeOfInvite layout vertical\"\n              selected=\"${this.inviteType}\"\n            >\n              <label>\n                <md-radio\n                  id=\"sendInviteByEmail\"\n                  name=\"inviteSelection\"\n                  @click=\"${() => (this.inviteType = \"sendInviteByEmail\")}\"\n                  checked\n                ></md-radio>\n                ${this.t(\"sendInviteByEmail\")}</label\n              ><label>\n                <md-radio\n                  id=\"addUserDirectly\"\n                  name=\"inviteSelection\"\n                  @click=\"${() => (this.inviteType = \"addUserDirectly\")}\"\n                ></md-radio\n                >${this.t(\"addUserDirectlyIfExist\")}</label\n              >\n            </div>\n            <md-filled-button class=\"inviteButton\" @click=\"${this._inviteUser}\"\n              >${this.t(\"users.inviteUser\")}</md-filled-button\n            >\n          </div>\n        </div>\n\n        <div\n          ?hidden=\"${!this.adminUsers}\"\n          class=\"layout horizontal wrap inputBox\"\n        >\n          <md-outlined-text-field\n            label=\"${this.t(\"email\")}\"\n            class=\"emailClass\"\n            id=\"addAdminEmail\"\n          ></md-outlined-text-field>\n          <md-filled-button class=\"inviteButton\" @click=\"${this._addAdmin}\"\n            >${this.t(\"users.addAdmin\")}</md-filled-button\n          >\n        </div>\n      </div>\n\n      <vaadin-grid\n        id=\"grid\"\n        aria-label=\"${this.headerText}\"\n        .items=\"${this.users}\"\n        .selectedItems=\"${this.selectedUsers as Array<unknown>}\"\n        @selected-items-changed=\"${this._selectedUsersChanged.bind(this)}\"\n        multi-sort\n        multi-sort-priority=\"append\"\n      >\n        <vaadin-grid-selection-column\n          auto-select\n        ></vaadin-grid-selection-column>\n        <vaadin-grid-sort-column path=\"id\"></vaadin-grid-sort-column>\n        <vaadin-grid-filter-column\n          flex-grow=\"2\"\n          width=\"140px\"\n          path=\"name\"\n          header=\"${this.t(\"name\")}\"\n        ></vaadin-grid-filter-column>\n        <vaadin-grid-filter-column\n          path=\"email\"\n          flex-grow=\"1\"\n          width=\"150px\"\n          header=\"${this.t(\"email\")}\"\n        ></vaadin-grid-filter-column>\n        <vaadin-grid-column\n          flex-grow=\"1\"\n          width=\"150px\"\n          header=\"${this.t(\"organization\")}\"\n          .renderer=\"${(root: HTMLElement, column: any, rowData: RowData) => {\n            root.innerHTML = `\n              <div\n                class=\"organization\"\n                ?hidden=\"${!this._userOrganizationName(rowData.item)}\"\n              >\n                <div class=\"organizationName\">\n                  ${this._userOrganizationName(rowData.item) || \"\"}\n                </div>\n              </div>\n            `;\n          }}\"\n        ></vaadin-grid-column>\n        <vaadin-grid-column\n          width=\"70px\"\n          .renderer=${this.selectionRenderer.bind(this)}\n          flex-grow=\"1\"\n          .headerRenderer=${this.renderSelectionHeader.bind(this)}\n        ></vaadin-grid-column>\n      </vaadin-grid>\n\n      <md-dialog id=\"selectOrganizationDialog\">\n        <div slot=\"headline\">${this.t(\"users.selectOrganization\")}</div>\n        ${this.availableOrganizations\n          ? html`\n              <div slot=\"content\">\n                <md-list>\n                  ${this.availableOrganizations.map(\n                    (item) => html`\n                      <md-list-item\n                        interactive\n                        @click=\"${this._selectOrganization.bind(this)}\"\n                        id=\"${item.id}\"\n                        >${item.name}</md-list-item\n                      >\n                    `\n                  )}\n                </md-list>\n              </div>\n            `\n          : nothing}\n        <div slot=\"actions\">\n          <md-filled-button @click=\"${this.closeOrganizationDialog}\"\n            >${this.t(\"Close\")}</md-filled-button\n          >\n        </div>\n      </md-dialog>\n    `;\n  }\n\n  get spinnerActive() {\n    return !this.totalUserCount || this.forceSpinner;\n  }\n\n  async _generateRequest(id: number | undefined = undefined) {\n    if (!id) {\n      id = this.lastFethedId;\n    } else {\n      this.lastFethedId = id;\n    }\n    const adminsOrUsers = this.adminUsers ? \"admin_users\" : \"users\";\n    const response = await window.adminServerApi.adminMethod(\n      `/api/${this.modelType}/${id}/${adminsOrUsers}`,\n      \"GET\"\n    );\n    this._usersResponse({ detail: response } as CustomEvent);\n  }\n\n  private async _ajaxError(error: any | undefined = undefined) {\n    this.forceSpinner = false;\n\n    //TODO: Generate error\n  }\n\n  constructor(collectionName: string) {\n    super();\n    this.collectionName = collectionName;\n  }\n\n  override connectedCallback() {\n    super.connectedCallback();\n    this._setGridSize();\n    window.addEventListener(\"resize\", this._resizeThrottler.bind(this), false);\n  }\n\n  private async _reload() {\n    try {\n      await this._generateRequest();\n      this.forceSpinner = true;\n    } catch (error) {\n      this._ajaxError();\n    } finally {\n      this.forceSpinner = false;\n    }\n  }\n\n  private _resizeThrottler(): void {\n    if (!this.resizeTimeout) {\n      this.resizeTimeout = window.setTimeout(() => {\n        this.resizeTimeout = undefined;\n        this._setGridSize();\n      }, 66);\n    }\n  }\n\n  private _setGridSize(): void {\n    if (this.gridElement) {\n      if (window.innerWidth <= 600) {\n        this.gridElement.style.height = `${window.innerHeight}px`;\n      } else {\n        this.gridElement.style.height = `${window.innerHeight * 0.8}px`;\n      }\n    }\n  }\n\n  private _menuSelection(event: CustomEvent): void {\n    const allMenus = this.shadowRoot?.querySelectorAll(\"md-menu\");\n    allMenus?.forEach((item) => {\n      (item as any).select(\"\"); // Replace with the correct method if md-menu has one\n    });\n  }\n\n  get totalUserCount(): string | null {\n    return this.users ? YpFormattingHelpers.number(this.users.length) : null;\n  }\n\n  private _selectedUsersChanged(event: CustomEvent): void {\n    if (event.detail && event.detail.value) {\n      this.selectedUsers = event.detail.value as Array<YpUserData>;\n    }\n    if (this.selectedUsers && this.selectedUsers.length > 0) {\n      this.selectedUsersEmpty = false;\n      this.selectedUsersCount = this.selectedUsers.length;\n      this.selectedUserIds = this.selectedUsers.map((user) => user.id);\n    } else {\n      this.selectedUsersEmpty = true;\n      this.selectedUsersCount = 0;\n      this.selectedUserIds = [];\n    }\n  }\n\n  private _userOrganizationId(user: YpUserData): number | null {\n    return user && user.OrganizationUsers && user.OrganizationUsers.length > 0\n      ? user.OrganizationUsers[0].id\n      : null;\n  }\n\n  private _userOrganizationName(user: YpUserData): string | null {\n    return user && user.OrganizationUsers && user.OrganizationUsers.length > 0\n      ? user.OrganizationUsers[0].name\n      : null;\n  }\n\n  private _availableOrganizations(): YpOrganizationData[] {\n    return window.appUser.adminRights?.OrganizationAdmins || [];\n  }\n\n  private async _addToOrganization(event: CustomEvent) {\n    this.userIdForSelectingOrganization = parseInt(\n      (event.target as HTMLElement).getAttribute(\"data-args\")!\n    );\n    this.availableOrganizations = this._availableOrganizations();\n    (\n      this.shadowRoot!.getElementById(\"selectOrganizationDialog\") as MdDialog\n    ).show();\n  }\n\n  closeOrganizationDialog() {\n    (\n      this.shadowRoot!.getElementById(\"selectOrganizationDialog\") as MdDialog\n    ).close();\n  }\n\n  private async _removeFromOrganization(event: CustomEvent) {\n    const target = event.target as HTMLElement;\n    const userId = target.getAttribute(\"data-args\");\n    const organizationId = target.getAttribute(\"data-args-org\");\n    try {\n      await window.adminServerApi.removeUserFromOrganization(\n        parseInt(organizationId!),\n        parseInt(userId!)\n      );\n      this._reload();\n    } catch (error) {\n      this._ajaxError(error);\n    }\n  }\n\n  private async _selectOrganization(event: CustomEvent) {\n    const organizationId = (event.target as HTMLElement).id;\n    try {\n      await window.adminServerApi.addUserToOrganization(\n        parseInt(organizationId!),\n        this.userIdForSelectingOrganization!\n      );\n      (\n        this.shadowRoot!.getElementById(\"selectOrganizationDialog\") as MdDialog\n      ).close();\n      this._reload();\n    } catch (error) {\n      this._ajaxError(error);\n    }\n  }\n\n  private async _removeAdmin(event: CustomEvent) {\n    const userId = parseInt(\n      (event.target as HTMLElement).getAttribute(\"data-args\")!\n    );\n    try {\n      if (this.modelType === \"groups\" && this.groupId) {\n        await window.adminServerApi.removeAdmin(\"groups\", this.groupId, userId);\n      } else if (this.modelType === \"communities\" && this.communityId) {\n        await window.adminServerApi.removeAdmin(\n          \"communities\",\n          this.communityId,\n          userId\n        );\n      } else if (this.modelType === \"domains\" && this.domainId) {\n        await window.adminServerApi.removeAdmin(\n          \"domains\",\n          this.domainId,\n          userId\n        );\n      } else {\n        console.warn(\"Can't find model type or ids\");\n      }\n      this._reload();\n    } catch (error) {\n      this._ajaxError(error);\n    }\n  }\n\n  _removeSelectedAdmins(event: CustomEvent) {\n    this._setupUserIdFromEvent(event);\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(\n          this.t(\"areYouSureYouWantToRemoveAdmins\"),\n          this._reallyRemoveSelectedAdmins.bind(this),\n          true,\n          false\n        );\n      }\n    );\n  }\n\n  _removeAndDeleteContentSelectedUsers(event: CustomEvent) {\n    this._setupUserIdFromEvent(event);\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(\n          this.t(\"areYouSureRemoveAndDeleteSelectedUserContent\"),\n          this._reallyRemoveAndDeleteContentSelectedUsers.bind(this),\n          true,\n          true\n        );\n      }\n    );\n  }\n\n  _removeSelectedUsersFromCollection(event: CustomEvent) {\n    this._setupUserIdFromEvent(event);\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(\n          this.t(\"areYouSureRemoveSelectedUsers\"),\n          this._reallyRemoveSelectedUsersFromCollection.bind(this),\n          true,\n          true\n        );\n      }\n    );\n  }\n\n  _removeUserFromCollection(event: CustomEvent) {\n    this._setupUserIdFromEvent(event);\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(\n          this.t(\"areYouSureRemoveUser\"),\n          this._reallyRemoveUserFromCollection.bind(this),\n          true,\n          false\n        );\n      }\n    );\n  }\n\n  _removeAndDeleteUserContent(event: CustomEvent) {\n    this._setupUserIdFromEvent(event);\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(\n          this.t(\"areYouSureRemoveAndDeleteUser\"),\n          this._reallyRemoveAndDeleteUserContent.bind(this),\n          true,\n          true\n        );\n      }\n    );\n  }\n\n  private async _removeMaster(\n    type: string,\n    userIds: Array<number> | undefined = undefined\n  ) {\n    let url: string;\n    let collectionId: number | undefined;\n\n    if (this.modelType === \"groups\" && this.groupId) {\n      collectionId = this.groupId;\n    } else if (this.modelType === \"communities\" && this.communityId) {\n      collectionId = this.communityId;\n    } else if (this.modelType === \"domains\" && this.domainId) {\n      collectionId = this.domainId;\n    } else {\n      console.error(\"Can't find model type or ids\");\n      return;\n    }\n\n    if (userIds && userIds.length > 0) {\n      url = `/api/${this.modelType}/${collectionId}/${type}`;\n    } else if (this.selectedUserId) {\n      url = `/api/${this.modelType}/${collectionId}/${this.selectedUserId}/${type}`;\n    } else {\n      console.error(\"No user ids to remove\");\n      return;\n    }\n\n    const body = userIds ? { userIds: userIds } : {};\n\n    try {\n      this.forceSpinner = true;\n      await window.adminServerApi.adminMethod(url, \"DELETE\", body);\n      this._manyItemsResponse(true);\n    } catch (error) {\n      console.error(error);\n      this._ajaxError(error);\n    } finally {\n      this.forceSpinner = false;\n    }\n\n    if (this.selectedUserId) {\n      const user = this._findUserFromId(this.selectedUserId);\n      if (user && this.gridElement instanceof GridElement) {\n        this.gridElement.deselectItem(user);\n      }\n    }\n  }\n\n  private async _reallyRemoveSelectedAdmins() {\n    await this._removeMaster(\"remove_many_admins\", this.selectedUserIds);\n  }\n\n  private async _reallyRemoveAndDeleteContentSelectedUsers() {\n    await this._removeMaster(\n      \"remove_many_users_and_delete_content\",\n      this.selectedUserIds\n    );\n  }\n\n  private async _reallyRemoveSelectedUsersFromCollection() {\n    await this._removeMaster(\"remove_many_users\", this.selectedUserIds);\n  }\n\n  private async _reallyRemoveUserFromCollection() {\n    await this._removeMaster(\"remove_user\");\n  }\n\n  private async _reallyRemoveAndDeleteUserContent() {\n    await this._removeMaster(\"remove_and_delete_user_content\");\n  }\n\n  _setupUserIdFromEvent(event: CustomEvent) {\n    const target = event.target as HTMLElement;\n    let userId = target!.parentElement!.getAttribute(\"data-args\");\n    if (!userId) userId = target.getAttribute(\"data-args\");\n    if (userId) this.selectedUserId = parseInt(userId);\n  }\n\n  _openAllMenu(event: CustomEvent) {\n    (this.$$(`#allUsersMenu`) as MdMenu).open = true;\n  }\n\n  _setSelected(event: CustomEvent) {\n    const userId = (event.target as HTMLElement).getAttribute(\"data-args\");\n    if (userId) {\n      const user = this._findUserFromId(parseInt(userId));\n      if (user) (this.$$(\"#grid\") as GridElement).selectItem(user);\n    }\n    setTimeout(() => {\n      (this.$$(`#userItemMenu${userId}`) as MdMenu).open = true;\n    });\n  }\n\n  _findUserFromId(id: Number) {\n    let foundUser;\n    this.users!.forEach((user) => {\n      if (user.id == id) {\n        foundUser = user;\n      }\n    });\n    return foundUser;\n  }\n\n  async _addAdmin(event: CustomEvent) {\n    try {\n      let response;\n      if (this.modelType === \"groups\" && this.groupId && this.addAdminEmail) {\n        response = await window.adminServerApi.addAdmin(\n          \"groups\",\n          this.groupId,\n          this.addAdminEmail.value\n        );\n      } else if (\n        this.modelType === \"communities\" &&\n        this.communityId &&\n        this.addAdminEmail &&\n        this.addAdminEmail.value\n      ) {\n        response = await window.adminServerApi.addAdmin(\n          \"communities\",\n          this.communityId,\n          this.addAdminEmail.value\n        );\n      } else if (\n        this.modelType === \"domains\" &&\n        this.domainId &&\n        this.addAdminEmail &&\n        this.addAdminEmail.value\n      ) {\n        response = await window.adminServerApi.addAdmin(\n          \"domains\",\n          this.domainId,\n          this.addAdminEmail.value\n        );\n      } else {\n        console.warn(\"Can't find model type or ids\");\n        return;\n      }\n      this._addAdminResponse();\n    } catch (error) {\n      this._ajaxError(error);\n    }\n  }\n\n  async _inviteUser(event: CustomEvent) {\n    try {\n      let response;\n      if (\n        this.modelType === \"groups\" &&\n        this.groupId &&\n        this.inviteUserEmail &&\n        this.inviteUserEmail!.value\n      ) {\n        response = await window.adminServerApi.inviteUser(\n          \"groups\",\n          this.groupId,\n          this.inviteUserEmail.value,\n          this.inviteType\n        );\n      } else if (\n        this.modelType === \"communities\" &&\n        this.communityId &&\n        this.inviteUserEmail!.value\n      ) {\n        response = await window.adminServerApi.inviteUser(\n          \"communities\",\n          this.communityId,\n          this.inviteUserEmail!.value,\n          this.inviteType\n        );\n      } else {\n        console.warn(\"Can't find model type or ids\");\n        return;\n      }\n      this._inviteUserResponse();\n    } catch (error) {\n      this._ajaxError(error);\n    }\n  }\n\n  _manyItemsResponse(showToast = false) {\n    this.forceSpinner = false;\n    this.showReload = true;\n    if (showToast)\n      window.appGlobals.notifyUserViaToast(\n        this.t(\"operationInProgressTryReloading\")\n      );\n\n    setTimeout(() => {\n      this._reload();\n    }, 500);\n  }\n\n  _removeAdminResponse() {\n    window.appGlobals.notifyUserViaToast(this.t(\"adminRemoved\"));\n    this._reload();\n  }\n\n  _removeManyAdminResponse() {\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(this.t(\"removalsInProgress\"), undefined, true, false, true);\n      }\n    );\n    this._manyItemsResponse();\n  }\n\n  _removeManyUsersResponse() {\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(this.t(\"removalsInProgress\"), undefined, true, false, true);\n      }\n    );\n    this._manyItemsResponse();\n  }\n\n  _removeAndDeleteCompleted() {\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(\n          this.t(\"removalAndDeletionInProgress\"),\n          undefined,\n          true,\n          false,\n          true\n        );\n      }\n    );\n    this._removeUserResponse();\n  }\n\n  _removeAndDeleteManyCompleted() {\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(\n          this.t(\"removalsAndDeletionsInProgress\"),\n          undefined,\n          true,\n          false,\n          true\n        );\n      }\n    );\n    this._manyItemsResponse();\n  }\n\n  _removeUserResponse() {\n    window.appGlobals.notifyUserViaToast(this.t(\"userRemoved\"));\n    this._reload();\n  }\n\n  _addAdminResponse() {\n    window.appGlobals.notifyUserViaToast(\n      this.t(\"adminAdded\") + \" \" + this.addAdminEmail!.value\n    );\n    this.addAdminEmail!.value = \"\";\n    this._reload();\n  }\n\n  _addOrganizationResponse(event: CustomEvent) {\n    window.appGlobals.notifyUserViaToast(\n      this.t(\"organizationUserAdded\") + \" \" + event.detail.response.email\n    );\n    this._reload();\n  }\n\n  _removeOrganizationResponse(event: CustomEvent) {\n    window.appGlobals.notifyUserViaToast(\n      this.t(\"organizationUserRemoved\") + \" \" + event.detail.response.email\n    );\n    this._reload();\n  }\n\n  _inviteUserResponse() {\n    window.appGlobals.notifyUserViaToast(\n      this.t(\"users.userInvited\") + \" \" + this.inviteUserEmail!.value\n    );\n    (this.$$(\"#inviteUserEmail\") as HTMLInputElement).value = \"\";\n    this._reload();\n  }\n\n  _domainIdChanged() {\n    if (this.domainId) {\n      this._reset();\n      this.modelType = \"domains\";\n      this._generateRequest(this.domainId);\n    }\n  }\n\n  _groupIdChanged() {\n    if (this.groupId) {\n      this._reset();\n      this.modelType = \"groups\";\n      this._generateRequest(this.groupId);\n    }\n  }\n\n  _communityIdChanged() {\n    if (this.communityId) {\n      this._reset();\n      this.modelType = \"communities\";\n      this._generateRequest(this.communityId);\n    }\n  }\n\n  _usersResponse(event: CustomEvent) {\n    this.forceSpinner = false;\n    this.users = event.detail as Array<YpUserData>;\n    this._resetSelectedAndClearCache();\n  }\n\n  setup(\n    groupId: number | undefined,\n    communityId: number | undefined,\n    domainId: number | undefined,\n    adminUsers: boolean\n  ) {\n    this.groupId = undefined;\n    this.communityId = undefined;\n    this.domainId = undefined;\n    this.users = undefined;\n    this.adminUsers = adminUsers;\n\n    if (groupId) this.groupId = groupId;\n\n    if (communityId) this.communityId = communityId;\n\n    if (domainId) this.domainId = domainId;\n\n    this._setupHeaderText();\n  }\n\n  _reset() {\n    this.users = undefined;\n    this._resetSelectedAndClearCache();\n  }\n\n  _resetSelectedAndClearCache() {\n    this.selectedUsers = [];\n    this.selectedUsersCount = 0;\n    this.selectedUsersEmpty = true;\n    (this.$$(\"#grid\") as GridElement).clearCache();\n  }\n\n  _setupHeaderText() {\n    if (this.adminUsers) {\n      this.usersCountText = this.t(\"adminsCount\");\n    } else {\n      this.usersCountText = this.t(\"usersCount\");\n    }\n    if (this.groupId) {\n      if (this.adminUsers) {\n        this.headerText = this.t(\"group.admins\");\n      } else {\n        this.headerText = this.t(\"group.users\");\n      }\n    } else if (this.communityId) {\n      if (this.adminUsers) {\n        this.headerText = this.t(\"community.admins\");\n      } else {\n        this.headerText = this.t(\"community.users\");\n      }\n    } else if (this.domainId) {\n      if (this.adminUsers) {\n        this.headerText = this.t(\"domainAdmins\");\n      } else {\n        this.headerText = this.t(\"domainUsers\");\n      }\n    }\n  }\n}\n"]}