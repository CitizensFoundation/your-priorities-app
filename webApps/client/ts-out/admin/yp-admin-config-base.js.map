{"version":3,"file":"yp-admin-config-base.js","sourceRoot":"","sources":["../../src/admin/yp-admin-config-base.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  LitElement,\n  css,\n  html,\n  nothing,\n  TemplateResult,\n  PropertyValueMap,\n} from \"lit\";\nimport { property, customElement, query } from \"lit/decorators.js\";\nimport \"@material/web/button/filled-button.js\";\nimport \"@material/web/progress/circular-progress.js\";\nimport \"@material/web/tabs/tabs.js\";\nimport \"@material/web/tabs/primary-tab.js\";\nimport \"@material/web/tabs/secondary-tab.js\";\nimport \"@material/web/checkbox/checkbox.js\";\nimport \"@material/web/textfield/outlined-text-field.js\";\n\n//import { YpBaseWithLogin } from './@yrpri/common/yp-base-element-with-login.js';\nimport { YpAdminPage } from \"./yp-admin-page.js\";\n\nimport \"../yp-survey/yp-structured-question-edit.js\";\nimport \"../yp-file-upload/yp-file-upload.js\";\nimport \"../common/yp-generate-ai-image.js\";\n\nimport { YpForm } from \"../common/yp-form.js\";\nimport \"../common/yp-form.js\";\n//import { YpEmojiSelector } from './@yrpri/common/yp-emoji-selector.js';\nimport { YpFileUpload } from \"../yp-file-upload/yp-file-upload.js\";\nimport { MdCircularProgress } from \"@material/web/progress/circular-progress.js\";\nimport { MdTabs } from \"@material/web/tabs/tabs.js\";\nimport { YpMediaHelpers } from \"../common/YpMediaHelpers.js\";\nimport { unsafeHTML } from \"lit/directives/unsafe-html.js\";\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nimport { YpCollectionHelpers } from \"../common/YpCollectionHelpers.js\";\nimport { YpGenerateAiImage } from \"../common/yp-generate-ai-image.js\";\nimport { YpImage } from \"../common/yp-image.js\";\nimport { YpAdminConfigGroup } from \"./yp-admin-config-group.js\";\nimport { MdOutlinedSelect } from \"@material/web/select/outlined-select.js\";\nimport { YpEmojiSelector } from \"../common/yp-emoji-selector.js\";\nimport { MdCheckbox } from \"@material/web/checkbox/checkbox.js\";\nimport { YpConfirmationDialog } from \"../yp-dialog-container/yp-confirmation-dialog.js\";\n\nexport const defaultLtpPromptsConfiguration = () => {\n  return Object.fromEntries(Array.from({ length: 10 }, (_, i) => [i + 1, \"\"]));\n};\n\nexport const defaultLtpConfiguration = {\n  crt: {\n    prompts: defaultLtpPromptsConfiguration(),\n    promptsTests: defaultLtpPromptsConfiguration(),\n  },\n};\n\nexport abstract class YpAdminConfigBase extends YpAdminPage {\n  @property({ type: Array })\n  configTabs: Array<YpConfigTabData> | undefined;\n\n  @property({ type: Number })\n  selectedTab = 0;\n\n  @property({ type: Boolean })\n  configChanged = false;\n\n  @property({ type: String })\n  method = \"POST\";\n\n  @property({ type: Array })\n  currentLogoImages: YpImageData[] | undefined;\n\n  @property({ type: Array })\n  currentHeaderImages: YpImageData[] | undefined;\n\n  @property({ type: Number })\n  collectionVideoId: number | undefined;\n\n  @property({ type: Boolean })\n  generatingAiImageInBackground = false;\n\n  @property({ type: String })\n  action: string | undefined;\n\n  @property({ type: String })\n  subRoute: string | undefined;\n\n  @property({ type: Boolean })\n  hasVideoUpload = false;\n\n  @property({ type: String })\n  status: string | undefined;\n\n  @property({ type: Boolean })\n  hasAudioUpload = false;\n\n  @property({ type: Number })\n  uploadedLogoImageId: number | undefined;\n\n  @property({ type: Number })\n  uploadedHeaderImageId: number | undefined;\n\n  @property({ type: Number })\n  uploadedVideoId: number | undefined;\n\n  @property({ type: Boolean })\n  connectedVideoToCollection = false;\n\n  @property({ type: String })\n  editHeaderText: string | undefined;\n\n  @property({ type: String })\n  toastText: string | undefined;\n\n  @property({ type: String })\n  saveText: string | undefined;\n\n  @property({ type: String })\n  imagePreviewUrl: string | undefined;\n\n  @property({ type: String })\n  videoPreviewUrl: string | undefined;\n\n  @property({ type: Number })\n  themeId: number | undefined;\n\n  @property({ type: Array })\n  translatedPages: Array<YpHelpPageData> | undefined;\n\n  @property({ type: Number })\n  descriptionMaxLength = 300;\n\n  @property({ type: Boolean })\n  tabsHidden = false;\n\n  @property({ type: Number })\n  parentCollectionId: number | undefined;\n\n  @property({ type: Object })\n  parentCollection: YpCollectionData | undefined;\n\n  @query(\"#name\")\n  nameInput!: HTMLInputElement;\n\n  @query(\"#description\")\n  descriptionInput!: HTMLInputElement;\n\n  @property({ type: Boolean })\n  gettingImageColor = false;\n\n  @property({ type: Array })\n  imageIdsUploadedByUser: number[] = [];\n\n  @property({ type: Array })\n  videoIdsUploadedByUser: number[] = [];\n\n  @property({ type: String })\n  detectedThemeColor: string | undefined;\n\n  constructor() {\n    super();\n  }\n\n  abstract setupConfigTabs(): Array<YpConfigTabData>;\n\n  abstract renderHeader(): TemplateResult | {};\n\n  abstract renderHiddenInputs(): TemplateResult | {};\n\n  async _formResponse(event: CustomEvent) {\n    this.configChanged = false;\n  }\n\n  _selectTab(event: CustomEvent) {\n    this.selectedTab = (event.target as MdTabs).activeTabIndex;\n  }\n\n  async getColorFromLogo() {\n    try {\n      this.gettingImageColor = true;\n\n      let ypImageUrl =\n        this.imagePreviewUrl ||\n        YpMediaHelpers.getImageFormatUrl(this.currentLogoImages);\n\n      const imgObj = new Image();\n      imgObj.src = ypImageUrl + \"?\" + new Date().getTime();\n      imgObj.setAttribute(\"crossOrigin\", \"\");\n      await imgObj.decode();\n\n      let newThemeColor = await YpImage.getThemeColorsFromImage(imgObj);\n      this.gettingImageColor = false;\n      console.error(\"New theme color\", newThemeColor);\n\n      if (newThemeColor) {\n        newThemeColor = newThemeColor.replace(\"#\", \"\");\n        this.fireGlobal(\"yp-theme-color-detected\", newThemeColor);\n        this.detectedThemeColor = newThemeColor;\n        this._configChanged();\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  _updateCollection(event: CustomEvent) {\n    this.collection = event.detail;\n  }\n\n  override connectedCallback() {\n    super.connectedCallback();\n    this.setupBootListener();\n    this.addGlobalListener(\"yp-has-video-upload\", () => {\n      this.hasVideoUpload = true;\n    });\n    this.addGlobalListener(\"yp-has-audio-upload\", () => {\n      this.hasAudioUpload = true;\n    });\n    if (window.appGlobals.hasVideoUpload) this.hasVideoUpload = true;\n    if (window.appGlobals.hasAudioUpload) this.hasAudioUpload = true;\n    this.addListener(\"yp-form-response\", this._formResponse);\n    this.addListener(\"yp-updated-collection\", this._updateCollection);\n  }\n\n  override disconnectedCallback() {\n    super.disconnectedCallback();\n    this.removeGlobalListener(\"yp-has-video-upload\", () => {\n      this.hasVideoUpload = true;\n    });\n    this.removeGlobalListener(\"yp-has-audio-upload\", () => {\n      this.hasAudioUpload = true;\n    });\n    this.removeListener(\"yp-form-response\", this._formResponse);\n    this.removeListener(\"yp-updated-collection\", this._updateCollection);\n  }\n\n  _logoImageUploaded(event: CustomEvent) {\n    var image = JSON.parse(event.detail.xhr.response);\n    this.uploadedLogoImageId = image.id;\n    this.imageIdsUploadedByUser.push(image.id);\n    this.imagePreviewUrl = JSON.parse(image.formats)[0];\n    const formats = JSON.parse(image.formats);\n    this._configChanged();\n  }\n\n  _headerImageUploaded(event: CustomEvent) {\n    var image = JSON.parse(event.detail.xhr.response);\n    this.uploadedHeaderImageId = image.id;\n    this.configChanged = true;\n  }\n\n  _statusSelected(event: CustomEvent) {\n    const index = (event.target as MdOutlinedSelect).selectedIndex;\n    this.status = this.collectionStatusOptions[index].name;\n    this._configChanged();\n  }\n\n  get statusIndex() {\n    if (this.status) {\n      for (let i = 0; i < this.collectionStatusOptions.length; i++) {\n        if (this.collectionStatusOptions[i].name == this.status) return i;\n      }\n      return -1;\n    } else {\n      return -1;\n    }\n  }\n\n  get collectionStatusOptions() {\n    if (this.language) {\n      return [\n        { name: \"active\", translatedName: this.t(\"status.active\") },\n        { name: \"featured\", translatedName: this.t(\"status.featured\") },\n        { name: \"archived\", translatedName: this.t(\"status.archived\") },\n        { name: \"hidden\", translatedName: this.t(\"status.hidden\") },\n      ];\n    } else {\n      return [];\n    }\n  }\n\n  _ltpConfigChanged(event: CustomEvent) {\n    setTimeout(() => {\n      const jsonEditor = this.$$(\"#jsoneditor\") as any;\n      const currentJson = jsonEditor.json;\n      (this.collection!.configuration as YpGroupConfiguration).ltp =\n        currentJson;\n      this._configChanged();\n      this.requestUpdate();\n    }, 25);\n  }\n\n  tabsPostSetup(tabs: Array<YpConfigTabData>) {\n    // To overide in child class\n  }\n\n  get disableSaveButtonForCollection() {\n    if (\n      this.collectionType == \"group\" &&\n      this.collection &&\n      this.collection.configuration\n    ) {\n      // Check if All Our Ideas Group Tyep\n      if ((this.collection as YpGroupData).configuration.groupType === 1) {\n        const hasQuestionId = (this.collection as YpGroupData).configuration\n          ?.allOurIdeas?.earl?.question_id;\n        return hasQuestionId === undefined;\n      } else {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  _themeChanged(event: CustomEvent) {\n    this.collection!.configuration.theme = {\n      ...this.collection!.configuration.theme,\n      ...(event.detail as YpThemeConfiguration),\n    };\n    this.requestUpdate();\n  }\n\n  renderSaveButton(): TemplateResult {\n    return html`\n      <div class=\"layout horizontal\">\n        <md-filled-button\n          raised\n          class=\"saveButton\"\n          ?disabled=\"${!this.configChanged ||\n          this.disableSaveButtonForCollection}\"\n          @click=\"${this._save}\"\n          >${this.saveText || \"\"}</md-filled-button\n        >\n      </div>\n      <div>\n        <md-circular-progress\n          id=\"spinner\"\n          hidden\n          indeterminate\n          closed=\"${!this.configChanged}\"\n        ></md-circular-progress>\n      </div>\n    `;\n  }\n\n  renderTabs(): TemplateResult | typeof nothing {\n    return !this.tabsHidden && this.configTabs\n      ? html`\n          <div class=\"layout vertical center-center\">\n            <md-tabs @change=\"${this._selectTab}\">\n              ${this.configTabs.map(\n                (item) => html`\n                  <md-secondary-tab\n                    >${this.t(item.name)}<md-icon\n                      >${item.icon}</md-icon\n                    ></md-secondary-tab\n                  >\n                `\n              )}\n            </md-tabs>\n          </div>\n        `\n      : nothing;\n  }\n\n  renderTabPages() {\n    if (this.tabsHidden) return nothing;\n\n    let allPages: Array<TemplateResult> = [];\n\n    this.configTabs?.forEach((tab, index) => {\n      allPages.push(this.renderTabPage(tab.items, index));\n    });\n\n    return html`${allPages}`;\n  }\n\n  _generateLogo(event: CustomEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.requestUpdate();\n    const generator = this.$$(\"#aiImageGenerator\") as YpGenerateAiImage;\n    generator.open();\n  }\n\n  renderTabPage(configItems: Array<YpStructuredConfigData>, itemIndex: number) {\n    return html`<div\n      ?hidden=\"${this.selectedTab != itemIndex}\"\n      class=\"layout vertical center-center\"\n    >\n      <div class=\"innerTabContainer\">\n        ${configItems.map(\n          (question, index) => html`\n            ${question.type == \"html\"\n              ? html`<div class=\"adminItem\">${question.templateData}</div>`\n              : html`\n                  <div class=\"layout vertical center-center\">\n                    <yp-structured-question-edit\n                      index=\"${index}\"\n                      id=\"configQuestion_${index}\"\n                      @yp-answer-content-changed=\"${question.onChange ||\n                      this._configChanged}\"\n                      debounceTimeMs=\"10\"\n                      .name=\"${question.name || question.text || \"\"}\"\n                      ?disabled=\"${question.disabled ? true : false}\"\n                      .value=\"${question.value !== undefined\n                        ? question.value\n                        : this._getCurrentValue(question) !== undefined\n                        ? this._getCurrentValue(question)\n                        : question.defaultValue || \"\"}\"\n                      .question=\"${{\n                        ...question,\n                        text: question.translationToken\n                          ? this.t(question.translationToken)\n                          : this.t(question.text),\n                        uniqueId: `u${index}`,\n                      }}\"\n                    >\n                    </yp-structured-question-edit>\n                  </div>\n                `}\n          `\n        )}\n      </div>\n    </div>`;\n  }\n\n  get collectionVideoURL(): string | undefined {\n    if (this.collection && this.collection.configuration) {\n      const collectionVideos = this.collectionVideos;\n      if (collectionVideos) {\n        const videoURL = YpMediaHelpers.getVideoURL(collectionVideos);\n        if (videoURL) {\n          this.collectionVideoId = collectionVideos[0].id;\n          return videoURL;\n        }\n      }\n      return undefined;\n    } else {\n      return undefined;\n    }\n  }\n\n  get collectionVideoPosterURL(): string | undefined {\n    if (\n      this.collection &&\n      this.collection.configuration &&\n      this.collection.configuration.useVideoCover\n    ) {\n      const videoPosterURL = YpMediaHelpers.getVideoPosterURL(\n        this.collectionVideos,\n        YpCollectionHelpers.logoImages(this.collectionType, this.collection)\n      );\n      if (videoPosterURL) {\n        return videoPosterURL;\n      } else {\n        return undefined;\n      }\n    } else {\n      return undefined;\n    }\n  }\n\n  get collectionVideos(): Array<YpVideoData> | undefined {\n    switch (this.collectionType) {\n      case \"domain\":\n        return (this.collection as YpDomainData).DomainLogoVideos;\n      case \"community\":\n        return (this.collection as YpCommunityData).CommunityLogoVideos;\n      case \"group\":\n        return (this.collection as YpGroupData).GroupLogoVideos;\n      default:\n        return undefined;\n    }\n  }\n\n  clearVideos() {\n    this.collectionVideoId = undefined;\n    this.videoPreviewUrl = undefined;\n    switch (this.collectionType) {\n      case \"domain\":\n        (this.collection as YpDomainData).DomainLogoVideos = [];\n        break;\n      case \"community\":\n        (this.collection as YpCommunityData).CommunityLogoVideos = [];\n        break;\n      case \"group\":\n        (this.collection as YpGroupData).GroupLogoVideos = [];\n        break;\n    }\n\n    this.requestUpdate();\n  }\n\n  clearHeaderImage() {\n    this.uploadedHeaderImageId = undefined;\n    switch (this.collectionType) {\n      case \"domain\":\n        (this.collection as YpDomainData).DomainHeaderImages = [];\n        break;\n      case \"community\":\n        (this.collection as YpCommunityData).CommunityHeaderImages = [];\n        break;\n      case \"group\":\n        (this.collection as YpGroupData).GroupHeaderImages = [];\n        break;\n    }\n\n    this.currentHeaderImages = undefined;\n\n    this.requestUpdate();\n  }\n\n  clearImages() {\n    this.uploadedLogoImageId = undefined;\n    this.imagePreviewUrl = undefined;\n\n    switch (this.collectionType) {\n      case \"domain\":\n        (this.collection as YpDomainData).DomainLogoImages = [];\n        break;\n      case \"community\":\n        (this.collection as YpCommunityData).CommunityLogoImages = [];\n        break;\n      case \"group\":\n        (this.collection as YpGroupData).GroupLogoImages = [];\n        break;\n    }\n\n    this.currentLogoImages = undefined;\n\n    this.requestUpdate();\n  }\n\n  renderCoverMediaContent() {\n    if (this.collection?.configuration?.welcomeHTML) {\n      return html`<div id=\"welcomeHTML\">\n        ${unsafeHTML(this.collection.configuration.welcomeHTML)}\n      </div>`;\n    } else if (\n      this.collectionVideoURL &&\n      this.collection?.configuration.useVideoCover\n    ) {\n      return html`\n        <video\n          id=\"videoPlayer\"\n          data-id=\"${ifDefined(this.collectionVideoId)}\"\n          controls\n          preload=\"metadata\"\n          class=\"mainImage\"\n          src=\"${this.collectionVideoURL}\"\n          playsinline\n          poster=\"${ifDefined(this.collectionVideoPosterURL)}\"\n        ></video>\n      `;\n    } else if (\n      this.videoPreviewUrl &&\n      this.collection?.configuration.useVideoCover\n    ) {\n      return html`\n        <video\n          id=\"videoPlayer\"\n          data-id=\"${ifDefined(this.collectionVideoId)}\"\n          controls\n          preload=\"metadata\"\n          class=\"mainImage\"\n          src=\"${this.videoPreviewUrl}\"\n          playsinline\n        ></video>\n      `;\n    } else if (this.imagePreviewUrl) {\n      return html`\n        <div style=\"position: relative;\">\n          <yp-image\n            class=\"mainImage\"\n            @loaded=\"${this.getColorFromLogo}\"\n            sizing=\"contain\"\n            .skipCloudFlare=\"${true}\"\n            src=\"${this.imagePreviewUrl}\"\n          ></yp-image>\n          ${this.gettingImageColor\n            ? html`\n                <md-linear-progress\n                  class=\"imagePicker\"\n                  indeterminate\n                ></md-linear-progress>\n              `\n            : nothing}\n        </div>\n      `;\n    } else if (this.currentLogoImages && this.currentLogoImages.length > 0) {\n      return html`\n        <div style=\"position: relative;\">\n          <yp-image\n            class=\"image\"\n            sizing=\"contain\"\n            src=\"${YpMediaHelpers.getImageFormatUrl(this.currentLogoImages)}\"\n          ></yp-image>\n          ${this.gettingImageColor\n            ? html`\n                <md-linear-progress\n                  class=\"imagePicker\"\n                  indeterminate\n                ></md-linear-progress>\n              `\n            : nothing}\n        </div>\n      `;\n    } else {\n      return html`\n        <yp-image\n          class=\"image\"\n          sizing=\"contain\"\n          src=\"https://yrpri-eu-direct-assets.s3.eu-west-1.amazonaws.com/ypPlaceHolder2.jpg\"\n        ></yp-image>\n      `;\n    }\n  }\n\n  async reallyDeleteCurrentLogoImage() {\n    if (!this.imagePreviewUrl && this.currentLogoImages) {\n      this.currentLogoImages.forEach(async (image) => {\n        await window.adminServerApi.deleteImage(\n          image.id,\n          this.collectionType,\n          this.collectionId as number,\n          this.imageIdsUploadedByUser.includes(image.id)\n        );\n      });\n    } else if (this.imagePreviewUrl && this.uploadedLogoImageId) {\n      await window.adminServerApi.deleteImage(\n        this.uploadedLogoImageId!,\n        this.collectionType,\n        this.collectionId as number,\n        this.imageIdsUploadedByUser.includes(this.uploadedLogoImageId)\n      );\n    } else {\n      console.warn(\"No image to delete\");\n    }\n\n    this.clearImages();\n  }\n\n  async reallyDeleteCurrentHeaderImage() {\n    if (this.currentHeaderImages) {\n      this.currentHeaderImages.forEach(async (image) => {\n        await window.adminServerApi.deleteImage(\n          image.id,\n          this.collectionType,\n          this.collectionId as number,\n          this.imageIdsUploadedByUser.includes(image.id)\n        );\n      });\n    } else {\n      console.warn(\"No image to delete\");\n    }\n\n    this.clearHeaderImage();\n  }\n\n  async reallyDeleteCurrentVideo() {\n    if (!this.videoPreviewUrl && this.collectionVideoId) {\n      await window.adminServerApi.deleteVideo(\n        this.collectionVideoId,\n        this.collectionType,\n        this.collectionId as number,\n        this.videoIdsUploadedByUser.includes(this.collectionVideoId)\n      );\n    } else if (this.videoPreviewUrl && this.uploadedVideoId) {\n      await window.adminServerApi.deleteVideo(\n        this.uploadedVideoId!,\n        this.collectionType,\n        this.collectionId as number,\n        this.videoIdsUploadedByUser.includes(this.uploadedVideoId)\n      );\n    } else {\n      console.warn(\"No video to delete\");\n    }\n\n    this.clearVideos();\n  }\n\n  deleteCurrentLogoImage(event: CustomEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(\n          this.t(\"confirmDeleteLogoImage\"),\n          this.reallyDeleteCurrentLogoImage.bind(this)\n        );\n      }\n    );\n  }\n\n  deleteCurrentHeaderImage(event: CustomEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(\n          this.t(\"confirmDeleteLogoImage\"),\n          this.reallyDeleteCurrentHeaderImage.bind(this)\n        );\n      }\n    );\n  }\n\n  deleteCurrentVideo(event: CustomEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(\n          this.t(\"confirmDeleteVideo\"),\n          this.reallyDeleteCurrentVideo.bind(this)\n        );\n      }\n    );\n  }\n\n  renderLogoMedia() {\n    return html`\n      <div class=\"layout vertical logoImagePlaceholder\">\n        ${this.renderCoverMediaContent()}\n        ${(this.currentLogoImages && this.currentLogoImages.length > 0) ||\n        this.imagePreviewUrl\n          ? html`<md-filled-tonal-icon-button\n              class=\"deleteImageButton\"\n              @click=\"${this.deleteCurrentLogoImage}\"\n              ><md-icon>delete</md-icon></md-filled-tonal-icon-button\n            >`\n          : nothing}\n        <div class=\"layout horizontal center-center logoUploadButtons\">\n          <yp-file-upload\n            id=\"logoImageUpload\"\n            raised\n            hideStatus\n            useIconButton\n            target=\"/api/images?itemType=domain-logo\"\n            method=\"POST\"\n            buttonIcon=\"photo_camera\"\n            .buttonText=\"${this.t(\"image.logo.upload\")}\"\n            @success=\"${this._logoImageUploaded}\"\n          >\n          </yp-file-upload>\n          <div\n            class=\"aiGenerationIconContainer\"\n            ?background-not-active=\"${!this.generatingAiImageInBackground}\"\n          >\n            <md-filled-icon-button\n              ?hidden=\"${!this.hasLlm}\"\n              id=\"generateButton\"\n              @click=\"${this._generateLogo}\"\n              ><md-icon>smart_toy</md-icon></md-filled-icon-button\n            >\n            ${this.generatingAiImageInBackground\n              ? html`<md-linear-progress\n                  class=\"aiGenerationSpinnerInBackground\"\n                  indeterminate\n                ></md-linear-progress>`\n              : nothing}\n          </div>\n\n          <div\n            class=\"layout vertical center-center\"\n            class=\"videoUploadContainer\"\n            ?has-video=\"${this.videoPreviewUrl || this.collectionVideoURL}\"\n          >\n            ${this.collectionVideoURL || this.videoPreviewUrl\n              ? html`<md-filled-icon-button\n                  style=\"margin-bottom: 8px;\"\n                  @click=\"${this.deleteCurrentVideo}\"\n                  ><md-icon>delete</md-icon></md-filled-icon-button\n                >`\n              : nothing}\n            <yp-file-upload\n              ?hidden=\"${!this.hasVideoUpload}\"\n              id=\"videoFileUpload\"\n              raised\n              style=\"position: static;\"\n              useIconButton\n              videoUpload\n              autoChooseFirstVideoFrameAsPost\n              method=\"POST\"\n              buttonIcon=\"videocam\"\n              .buttonText=\"${this.t(\"uploadVideo\")}\"\n              @success=\"${this._videoUploaded}\"\n            >\n            </yp-file-upload>\n            <label\n              ?hidden=\"${!this.videoPreviewUrl && !this.collectionVideoURL}\"\n              class=\"layout vertical center-center videoCoverCheckbox\"\n            >\n              <md-checkbox\n                id=\"videoCoverCheckbox\"\n                name=\"useVideoCover\"\n                @click=\"${this._setVideoCover}\"\n                ?checked=\"${this.collection!.configuration.useVideoCover}\"\n              >\n              </md-checkbox>\n              ${this.t(\"useVideoCover\")}\n            </label>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  renderHeaderImageUploads() {\n    return html`\n      <div class=\"layout horizontal\">\n        <yp-file-upload\n          id=\"headerImageUpload\"\n          raised\n          target=\"/api/images?itemType=domain-header\"\n          method=\"POST\"\n          buttonIcon=\"photo_camera\"\n          .buttonText=\"${this.t(\"image.header.upload\")}\"\n          @success=\"${this._headerImageUploaded}\"\n        >\n        </yp-file-upload>\n        ${this.currentHeaderImages && this.currentHeaderImages.length > 0\n          ? html`\n              <md-icon-button @click=\"${this.deleteCurrentHeaderImage}\">\n                <md-icon>delete</md-icon>\n              </md-icon-button>\n            `\n          : nothing}\n      </div>\n    `;\n  }\n\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        .saveButton {\n          margin-left: 16px;\n        }\n\n        .deleteImageButton {\n          position: absolute;\n          top: 8px;\n          left: 8px;\n        }\n\n        .videoCoverCheckbox {\n          padding: 8px;\n          border-radius: 20px;\n          background-color: var(--md-sys-color-surface);\n        }\n\n        md-checkbox {\n          padding: 4px;\n        }\n\n        md-outlined-text-field {\n          width: 400px;\n        }\n\n        .videoUploadContainer {\n          background-color: var(--md-sys-color-surface);\n          color: var(--md-sys-color-on-surface);\n        }\n\n        .imagePicker {\n          width: 100%;\n          position: absolute;\n          bottom: 0;\n        }\n\n        md-tabs {\n          margin-top: 16px;\n          margin-bottom: 24px;\n          width: 1024px;\n          max-width: 100%;\n        }\n\n        .topInputContainer {\n          margin-top: 16px;\n          max-width: 1024px;\n          padding: 24px;\n          background-color: var(--md-sys-color-surface-container-high);\n          color: var(--md-sys-color-on-surface);\n          border-radius: 16px;\n        }\n\n        .adminItem {\n          margin: 0px;\n          width: 1024px;\n          max-width: 100%;\n          margin-bottom: 32px;\n        }\n\n        .innerTabContainer {\n          background-color: var(--md-sys-color-surface-container);\n          color: var(--md-sys-color-on-surface);\n          border-radius: 16px;\n          width: 900px;\n          max-width: 100%;\n          padding: 32px;\n          margin-bottom: 128px;\n        }\n\n        @media (max-width: 600px) {\n          .innerTabContainer {\n            width: 100%;\n          }\n        }\n\n        yp-structured-question-edit {\n          width: 600px;\n          max-width:100%;\n        }\n\n        .additionalSettings {\n          margin-top: 16px;\n        }\n\n        yp-image {\n          width: 432px;\n          height: 243px;\n        }\n\n        .logoImagePlaceholder {\n          width: 432px;\n          height: 243px;\n          position: relative;\n          display: flex;\n          align-items: center; /* Centers children vertically */\n          justify-content: center;\n          margin-right: 16px;\n        }\n\n        .logoUploadButtons {\n          position: absolute;\n          height: 48px;\n          display: flex;\n          justify-content: center;\n        }\n\n        .aiGenerationIconContainer {\n          margin-left: 16px;\n          margin-right: 16px;\n          max-width: 42px;\n          margin-bottom: 4px;\n        }\n\n        .aiGenerationIconContainer[background-not-active] {\n          margin-bottom: 16px;\n        }\n\n        #generateButton {\n\n        }\n\n        .aiGenerationSpinnerInBackground {\n          margin-top: 8px;\n          margin-left: -24px;\n        }\n\n        #logoImageUpload {\n          margin-bottom: 16px;\n      `,\n    ];\n  }\n\n  _setVideoCover(event: CustomEvent) {\n    this.collection!.configuration.useVideoCover = !(event.target as MdCheckbox)\n      .checked;\n    this._configChanged();\n    this.configTabs = this.setupConfigTabs();\n  }\n\n  renderNameAndDescription(hideDescription = false): TemplateResult {\n    return html`\n      <div class=\"layout vertical\">\n        <md-outlined-text-field\n          id=\"name\"\n          name=\"name\"\n          type=\"text\"\n          @change=\"${this._configChanged}\"\n          .label=\"${this.t(\"Name\")}\"\n          .value=\"${this.collection!.name}\"\n          maxlength=\"50\"\n          charCounter\n          class=\"mainInput\"\n        ></md-outlined-text-field>\n        ${!hideDescription\n          ? html`\n              <md-outlined-text-field\n                id=\"description\"\n                name=\"description\"\n                type=\"textarea\"\n                .value=\"${this.collection!.description! || \"\"}\"\n                .label=\"${this.t(\"Description\")}\"\n                @change=\"${this._configChanged}\"\n                rows=\"3\"\n                @keyup=\"${this._descriptionChanged}\"\n                maxlength=\"${this.descriptionMaxLength}\"\n                class=\"mainInput\"\n              ></md-outlined-text-field>\n            `\n          : nothing}\n        <div class=\"horizontal end-justified layout pointEmoji\">\n          <div class=\"flex\"></div>\n          <yp-emoji-selector id=\"emojiSelectorDescription\"></yp-emoji-selector>\n        </div>\n      </div>\n    `;\n  }\n\n  //TODO: Make sure this works\n  _descriptionChanged(event: CustomEvent) {\n    const description = (event.target as any).value;\n    const urlRegex = new RegExp(/(?:https?|http?):\\/\\/[\\n\\S]+/g);\n    const urlArray = description.match(urlRegex);\n\n    if (urlArray && urlArray.length > 0) {\n      let urlsLength = 0;\n      for (var i = 0; i < Math.min(urlArray.length, 10); i++) {\n        urlsLength += urlArray[i].length;\n      }\n      let maxLength = 300;\n      maxLength += urlsLength;\n      maxLength -= Math.min(urlsLength, urlArray.length * 30);\n      this.descriptionMaxLength = maxLength;\n    }\n  }\n\n  override render() {\n    let collectionType, collectionId, name, description;\n\n    if (this.collectionId === \"new\") {\n      if (this.collectionType === \"community\") {\n        collectionType = \"domain\";\n      } else if (this.collectionType === \"group\") {\n        collectionType = \"community\";\n      }\n      collectionId = this.parentCollectionId;\n    } else if (this.collection) {\n      collectionType = this.collectionType;\n      collectionId = this.collectionId;\n    }\n\n    name = this.nameInput?.value;\n    description = this.descriptionInput?.value;\n\n    return this.configTabs\n      ? html`\n          <yp-form id=\"form\" method=\"POST\" customRedirect>\n            <form\n              name=\"ypForm\"\n              .method=\"${this.method}\"\n              .action=\"${this.action ? this.action : \"\"}\"\n            >\n              <div class=\"layout horizontal center-center\">\n                ${this.renderHeader()}\n              </div>\n              ${this.renderTabs()} ${this.renderTabPages()}\n              ${this.renderHiddenInputs()}\n\n              <input\n                type=\"hidden\"\n                name=\"themeId\"\n                .value=\"${this.themeId?.toString() || \"\"}\"\n              />\n              <input\n                type=\"hidden\"\n                name=\"uploadedLogoImageId\"\n                .value=\"${this.uploadedLogoImageId?.toString() || \"\"}\"\n              />\n              <input\n                type=\"hidden\"\n                name=\"uploadedHeaderImageId\"\n                .value=\"${this.uploadedHeaderImageId?.toString() || \"\"}\"\n              />\n            </form>\n          </yp-form>\n          <yp-generate-ai-image\n            id=\"aiImageGenerator\"\n            .collectionType=\"${collectionType}\"\n            .collectionId=\"${collectionId}\"\n            .name=\"${name}\"\n            .description=\"${description}\"\n            @yp-generate-ai-image-background=\"${this\n              ._logoGeneratingInBackground}\"\n            @got-image=\"${this._gotAiImage}\"\n          >\n          </yp-generate-ai-image>\n        `\n      : nothing;\n  }\n\n  _logoGeneratingInBackground(event: CustomEvent) {\n    this.generatingAiImageInBackground = true;\n  }\n\n  _gotAiImage(event: CustomEvent) {\n    this.generatingAiImageInBackground = false;\n    this.imagePreviewUrl = event.detail.imageUrl;\n    this.uploadedLogoImageId = event.detail.imageId;\n    this.imageIdsUploadedByUser.push(event.detail.imageId);\n    this.configChanged = true;\n  }\n\n  override updated(\n    changedProperties: Map<string | number | symbol, unknown>\n  ): void {\n    super.updated(changedProperties);\n\n    if (changedProperties.has(\"collection\") && this.collection) {\n      this.configTabs = this.setupConfigTabs();\n      //console.error(\"Collection\", this.collection);\n    }\n\n    if (changedProperties.has(\"collectionId\") && this.collectionId) {\n      if (this.collectionId == \"new\") {\n        this.method = \"POST\";\n      } else {\n        this.method = \"PUT\";\n      }\n    }\n  }\n\n  async _getHelpPages(\n    collectionTypeOverride: string | undefined = undefined,\n    collectionIdOverride: number | undefined = undefined\n  ) {\n    if (this.collectionId && this.collectionId != \"new\") {\n      this.translatedPages = (await window.serverApi.getHelpPages(\n        collectionTypeOverride ? collectionTypeOverride : this.collectionType,\n        collectionIdOverride\n          ? collectionIdOverride\n          : (this.collectionId as number)\n      )) as Array<YpHelpPageData> | undefined;\n    } else {\n      console.error(\"Collection id setup for get help pages\");\n    }\n  }\n\n  protected override firstUpdated(\n    _changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>\n  ): void {\n    super.firstUpdated(_changedProperties);\n    this._updateEmojiBindings();\n  }\n\n  _getLocalizePageTitle(page: YpHelpPageData) {\n    let pageLocale = \"en\";\n    if (window.appGlobals.locale && page.title[window.appGlobals.locale]) {\n      pageLocale = window.appGlobals.locale;\n    }\n    return page.title[pageLocale];\n  }\n\n  beforeSave() {}\n  afterSave() {}\n\n  sendUpdateCollectionEvents() {\n    if (this.collectionType == \"domain\") {\n      this.fireGlobal(\"yp-refresh-domain\");\n    } else if (this.collectionType == \"community\") {\n      this.fireGlobal(\"yp-refresh-community\");\n    } else if (this.collectionType == \"group\") {\n      this.fireGlobal(\"yp-refresh-group\");\n    }\n  }\n\n  async _save(event: CustomEvent) {\n    event.preventDefault();\n    event.stopPropagation();\n    this.beforeSave();\n    console.error(\"Saving collection\", this.collection);\n    const form = this.$$(\"#form\") as YpForm;\n\n    if (form.validate()) {\n      (this.$$(\"#spinner\") as MdCircularProgress).hidden = false;\n      await form.submit();\n      (this.$$(\"#spinner\") as MdCircularProgress).hidden = true;\n      this.sendUpdateCollectionEvents();\n      this.afterSave();\n    } else {\n      this.fire(\"yp-form-invalid\");\n      const error = this.t(\"form.invalid\");\n      this._showErrorDialog(error);\n    }\n  }\n\n  _showErrorDialog(errorText: string) {\n    this.fire(\"yp-error\", errorText);\n  }\n\n  _configChanged() {\n    this.configChanged = true;\n    this.requestUpdate();\n  }\n\n  _videoUploaded(event: CustomEvent) {\n    this.uploadedVideoId = event.detail.videoId;\n    this.videoIdsUploadedByUser.push(event.detail.videoId);\n    this.collection!.configuration.useVideoCover = true;\n    this.videoPreviewUrl = event.detail.detail.videoUrl;\n    this.connectedVideoToCollection = true;\n    this._configChanged();\n    this.requestUpdate();\n  }\n\n  _getSaveCollectionPath(path: string) {\n    try {\n      return eval(`this.collection.${path}`);\n    } catch (e) {\n      return undefined;\n    }\n  }\n\n  _clear() {\n    this.collection = undefined;\n    this.uploadedLogoImageId = undefined;\n    this.uploadedHeaderImageId = undefined;\n    this.imagePreviewUrl = undefined;\n    this.collectionVideoId = undefined;\n    this.uploadedVideoId = undefined;\n    this.videoPreviewUrl = undefined;\n    this.connectedVideoToCollection = false;\n    this.imageIdsUploadedByUser = [];\n    this.videoIdsUploadedByUser = [];\n\n    (this.$$(\"#headerImageUpload\") as YpFileUpload).clear();\n    (this.$$(\"#logoImageUpload\") as YpFileUpload).clear();\n    if (this.$$(\"#videoFileUpload\"))\n      (this.$$(\"#videoFileUpload\") as YpFileUpload).clear();\n  }\n\n  _updateEmojiBindings() {\n    setTimeout(() => {\n      const description = this.$$(\"#description\") as HTMLInputElement;\n      const emojiSelector = this.$$(\n        \"#emojiSelectorDescription\"\n      ) as YpEmojiSelector;\n      if (description && emojiSelector) {\n        emojiSelector.inputTarget = description;\n      } else {\n        console.error(\"Could not find emoji selector or description input\");\n      }\n    }, 500);\n  }\n\n  _getCurrentValue(question: YpStructuredQuestionData) {\n    if (this.collection && this.collection.configuration) {\n      if ([\"textheader\", \"textdescription\"].indexOf(question.type!) == -1) {\n        const looseConfig = this.collection.configuration as LooseObject;\n        if (question.text.indexOf(\".\") > -1) {\n          try {\n            return eval(`this.collection.configuration.${question.text}`);\n          } catch (e) {\n            console.error(e);\n          }\n        } else {\n          const config = looseConfig[question.text];\n          if (config !== undefined) return config;\n        }\n      }\n    }\n  }\n}\n"]}