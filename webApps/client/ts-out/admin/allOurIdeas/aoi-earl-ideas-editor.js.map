{"version":3,"file":"aoi-earl-ideas-editor.js","sourceRoot":"","sources":["../../../src/admin/allOurIdeas/aoi-earl-ideas-editor.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,GAAG,EAAE,IAAI,EAAE,MAAM,KAAK,CAAC;AAChC,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AACnE,OAAO,EAAE,kBAAkB,EAAE,MAAM,wCAAwC,CAAC;AAE5E,OAAO,EAAE,iBAAiB,EAAE,MAAM,wBAAwB,CAAC;AAE3D,OAAO,4BAA4B,CAAC;AACpC,OAAO,iCAAiC,CAAC;AACzC,OAAO,kDAAkD,CAAC;AAC1D,OAAO,uCAAuC,CAAC;AAC/C,OAAO,6CAA6C,CAAC;AACrD,OAAO,oCAAoC,CAAC;AAC5C,OAAO,iCAAiC,CAAC;AAGlC,IAAM,kBAAkB,GAAxB,MAAM,kBAAmB,SAAQ,kBAAkB;IAyCxD;QACE,KAAK,EAAE,CAAC;QAtBV,sBAAiB,GAAG,KAAK,CAAC;QAG1B,sBAAiB,GAAG,KAAK,CAAC;QAG1B,yBAAoB,GAAG,KAAK,CAAC;QAG7B,sBAAiB,GAAG,KAAK,CAAC;QAG1B,uBAAkB,GAAgD,QAAQ,CAAC;QAKlE,0BAAqB,GAAG,QAAQ,CAAC;QAMxC,IAAI,CAAC,SAAS,GAAG,IAAI,iBAAiB,EAAE,CAAC;IAC3C,CAAC;IAEQ,iBAAiB;QACxB,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC;YACnE,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;YAC9B,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC7B,IAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC;aAAM,CAAC;YACN,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC9B,CAAC;QACD,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC1B,IAAI,CAAC,gBAAgB,CAAC,cAAc,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;QACzD,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;IACzD,CAAC;IAED,YAAY;QACV,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;IACjC,CAAC;IAED,WAAW;QACT,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;IACjC,CAAC;IAED,KAAK,CAAC,UAAU;QACd,IAAI,CAAC,OAAO,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,UAAU,CAC5C,IAAI,CAAC,WAAY,EACjB,IAAI,CAAC,aAAa,CAAC,IAAK,CAAC,WAAY,CACtC,CAAC;IACJ,CAAC;IAED,KAAK,CAAC,iBAAiB,CAAC,SAA4B;QAClD,QAAQ,SAAS,CAAC,IAAI,EAAE,CAAC;YACvB,KAAK,OAAO;gBACV,MAAM;YACR,KAAK,kBAAkB;gBACrB,MAAM;gBACN,MAAM;YACR,KAAK,OAAO;gBACV,MAAM;gBACN,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;gBAC/B,MAAM;YACR,KAAK,KAAK;gBACR,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;gBAC/B,MAAM;YACR,KAAK,QAAQ;gBACX,IAAI,SAAS,CAAC,OAAO,IAAI,SAAS,CAAC,OAAO,IAAI,WAAW,EAAE,CAAC;oBAC1D,IAAI,CAAC,YAAY,CAAC,KAAK,IAAI,SAAS,CAAC,OAAO,CAAC;oBAC7C,MAAM;gBACR,CAAC;qBAAM,CAAC;oBACN,OAAO,CAAC,IAAI,CAAC,6BAA6B,CAAC,CAAC;oBAC5C,MAAM;gBACR,CAAC;QACL,CAAC;QACD,IAAI,CAAC,UAAU,EAAE,CAAC;IACpB,CAAC;IAED,IAAI,KAAK;QACP,OAAQ,IAAI,CAAC,EAAE,CAAC,QAAQ,CAAuB,EAAE,KAAK;aACnD,KAAK,CAAC,IAAI,CAAC;aACX,MAAM,CAAC,CAAC,IAAY,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;IAC/C,CAAC;IAED,kBAAkB;QAChB,OAAO;IACT,CAAC;IAED,WAAW,CAAC,IAAmB;QAC7B,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,IAAI,CAAC,CAAC;IACnC,CAAC;IAED,aAAa;QACX,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC;YACH,IAAI,CAAC,SAAS,CAAC,kBAAkB,CAC/B,IAAI,CAAC,YAAa,EAClB,IAAI,CAAC,WAAY,EACjB,IAAI,CAAC,UAAU,EACf,IAAI,CAAC,KAAK,CACX,CAAC;QACJ,CAAC;QAAC,OAAO,CAAC,EAAE,CAAC;YACX,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC;IACH,CAAC;IAED,KAAK,CAAC,sBAAsB;QAC1B,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;QAC9B,IAAI,CAAC;YACH,MAAM,EAAE,WAAW,EAAE,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI;gBAC9C,MAAM,IAAI,CAAC,SAAS,CAAC,sBAAsB,CACzC,IAAI,CAAC,WAAY,EACjB,IAAI,CAAC,KAAK,EACV,IAAI,CAAC,YAAa,CACnB,CAAC,CAAC;YACL,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;YAClD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YACtC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,GAAG,EAAS,CAAC;YAClD,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,QAAQ,GAAG;gBACjC,IAAI,EAAE,IAAI,CAAC,YAAa;gBACxB,EAAE,EAAE,WAAY;aACV,CAAC;YACT,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YACvD,IAAI,CAAC,aAAa,EAAE,CAAC;YACrB,IAAI,CAAC,UAAU,EAAE,CAAC;QACpB,CAAC;QAAC,OAAO,CAAC,EAAE,CAAC;YACX,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QACnB,CAAC;gBAAS,CAAC;YACT,IAAI,CAAC,iBAAiB,GAAG,KAAK,CAAC;QACjC,CAAC;IACH,CAAC;IAED,kBAAkB,CAAC,IAAmB;QACpC,OAAO,KAAK,IAAI,EAAE;YAChB,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;YACjC,IAAI,CAAC;gBACH,MAAM,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE,IAAI,CAAC,EAAE,CAAC,CAAC;gBAC7D,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;YAC7B,CAAC;YAAC,OAAO,CAAC,EAAE,CAAC;gBACX,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;YACnB,CAAC;oBAAS,CAAC;gBACT,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;YACpC,CAAC;QACH,CAAC,CAAC;IACJ,CAAC;IAED,WAAW,CAAC,UAAkB;QAC5B,IAAI,CAAC,kBAAkB,GAAG,UAAiB,CAAC;IAC9C,CAAC;IAED,IAAI,aAAa;QACf,IAAI,IAAI,CAAC,OAAO,EAAE,CAAC;YACjB,QAAQ,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBAChC,KAAK,QAAQ;oBACX,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;gBAClD,KAAK,cAAc;oBACjB,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC;gBACxD,KAAK,eAAe;oBAClB,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;wBAChC,IAAI,CAAC,CAAC,gBAAgB,GAAG,CAAC,CAAC,gBAAgB,EAAE,CAAC;4BAC5C,OAAO,CAAC,CAAC,CAAC;wBACZ,CAAC;wBACD,IAAI,CAAC,CAAC,gBAAgB,GAAG,CAAC,CAAC,gBAAgB,EAAE,CAAC;4BAC5C,OAAO,CAAC,CAAC;wBACX,CAAC;wBACD,OAAO,CAAC,CAAC;oBACX,CAAC,CAAC,CAAC;YACP,CAAC;QACH,CAAC;aAAM,CAAC;YACN,OAAO,SAAS,CAAC;QACnB,CAAC;IACH,CAAC;IAED,MAAM,KAAc,MAAM;QACxB,OAAO;YACL,KAAK,CAAC,MAAM;YACZ,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAmDF;SACF,CAAC;IACJ,CAAC;IAED,iBAAiB;QACf,OAAO,IAAI,CAAA;;;;;;oBAMK,IAAI,CAAC,CAAC,CAAC,kBAAkB,CAAC;;;;;qBAKzB,CAAC,IAAI,CAAC,iBAAiB;;;;YAIhC,IAAI,CAAC,iBAAiB;YACtB,CAAC,CAAC,IAAI,CAAA;;+DAE6C,IAAI,CAAC,KAAK;uBAClD,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC;;;eAGtB;YACH,CAAC,CAAC,IAAI,CAAA;;;4BAGU,IAAI,CAAC,aAAa;+BACf,IAAI,CAAC,iBAAiB;qBAChC,IAAI,CAAC,KAAK,EAAE,MAAM,GAAG,CAAC;gBACvB,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,yBAAyB,CAAC;gBACnC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,qBAAqB,CAAC;;eAEpC;;;sBAGO,IAAI,CAAC,sBAAsB;yBACxB,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,KAAK,EAAE,MAAM,GAAG,CAAC;eAC1D,IAAI,CAAC,CAAC,CAAC,wBAAwB,CAAC;;;;KAI1C,CAAC;IACJ,CAAC;IAED,uBAAuB;QACrB,OAAO,IAAI,CAAA;;;;;;;;;oBASK,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,eAAe,CAAC;;;;;oBAKvC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC;;;;;oBAKhC,GAAG,EAAE,CAAC,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC;;;KAGrD,CAAC;IACJ,CAAC;IAED,eAAe;QACb,OAAO,IAAI,CAAA;;UAEL,IAAI,CAAC,uBAAuB,EAAE;;;;uBAIjB,CAAC,IAAI,CAAC,iBAAiB;;YAElC,IAAI,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC,IAAmB,EAAE,EAAE;YAChD,OAAO,IAAI,CAAA;kCACW,IAAI,CAAC,IAAI;kCACT,IAAI,CAAC,IAAI;oCACP,IAAI,CAAC,MAAM;mCACZ,IAAI,CAAC,KAAK;;8CAEC,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC;oBACvD,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC;;;;6BAI9C,CAAC,IAAI,CAAC,oBAAoB;;;mBAGpC,CAAC;QACV,CAAC,CAAC;;;KAGP,CAAC;IACJ,CAAC;IAEQ,MAAM;QACb,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YAClB,OAAO,IAAI,CAAC,iBAAiB,EAAE,CAAC;QAClC,CAAC;aAAM,CAAC;YACN,OAAO,IAAI,CAAC,eAAe,EAAE,CAAC;QAChC,CAAC;IACH,CAAC;CACF,CAAA;AAxWC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;mDACV;AAGjB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;wDACM;AAGjC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;uDACK;AAGhC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;yDACU;AAGrC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;2DACF;AAG1B;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;mDACW;AAGrC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;6DACF;AAG1B;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;6DACF;AAG1B;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;gEACC;AAG7B;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;6DACF;AAG1B;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;8DACgD;AAG3E;IADC,KAAK,CAAC,QAAQ,CAAC;wDACiB;AAnCtB,kBAAkB;IAD9B,aAAa,CAAC,uBAAuB,CAAC;GAC1B,kBAAkB,CA0W9B","sourcesContent":["import { css, html } from \"lit\";\nimport { customElement, property, query } from \"lit/decorators.js\";\nimport { YpStreamingLlmBase } from \"../../yp-llms/yp-streaming-llm-base.js\";\nimport { MdFilledTextField } from \"@material/web/textfield/filled-text-field.js\";\nimport { AoiAdminServerApi } from \"./AoiAdminServerApi.js\";\n\nimport \"@material/web/list/list.js\";\nimport \"@material/web/list/list-item.js\";\nimport \"@material/web/iconbutton/outlined-icon-button.js\";\nimport \"@material/web/button/filled-button.js\";\nimport \"@material/web/button/filled-tonal-button.js\";\nimport \"@material/web/chips/filter-chip.js\";\nimport \"@material/web/chips/chip-set.js\";\n\n@customElement(\"aoi-earl-ideas-editor\")\nexport class AoiEarlIdeasEditor extends YpStreamingLlmBase {\n  @property({ type: Number })\n  groupId!: number;\n\n  @property({ type: String })\n  questionName: string | undefined;\n\n  @property({ type: Number })\n  communityId: number | undefined;\n\n  @property({ type: Object })\n  configuration!: AoiConfigurationData;\n\n  @property({ type: Boolean })\n  isCreatingIdeas!: boolean;\n\n  @property({ type: Array })\n  choices: AoiChoiceData[] | undefined;\n\n  @property({ type: Boolean })\n  isGeneratingIdeas = false;\n\n  @property({ type: Boolean })\n  isSubmittingIdeas = false;\n\n  @property({ type: Boolean })\n  isTogglingIdeaActive = false;\n\n  @property({ type: Boolean })\n  isFetchingChoices = false;\n\n  @property({ type: String })\n  currentIdeasFilter: \"latest\" | \"highestScore\" | \"userSubmitted\" = \"latest\";\n\n  @query(\"#ideas\")\n  ideasElement!: MdFilledTextField;\n\n  override scrollElementSelector = \"#ideas\";\n\n  serverApi: AoiAdminServerApi;\n\n  constructor() {\n    super();\n    this.serverApi = new AoiAdminServerApi();\n  }\n\n  override connectedCallback(): void {\n    if (this.configuration.earl && this.configuration.earl.question_id) {\n      this.disableWebsockets = true;\n      this.isCreatingIdeas = false;\n      this.getChoices();\n    } else {\n      this.isCreatingIdeas = true;\n    }\n    super.connectedCallback();\n    this.addEventListener(\"yp-ws-closed\", this.socketClosed);\n    this.addEventListener(\"yp-ws-error\", this.socketError);\n  }\n\n  socketClosed() {\n    this.isGeneratingIdeas = false;\n  }\n\n  socketError() {\n    this.isGeneratingIdeas = false;\n  }\n\n  async getChoices() {\n    this.choices = await this.serverApi.getChoices(\n      this.communityId!,\n      this.configuration.earl!.question_id!\n    );\n  }\n\n  async addChatBotElement(wsMessage: YpAiChatWsMessage): Promise<void> {\n    switch (wsMessage.type) {\n      case \"start\":\n        break;\n      case \"moderation_error\":\n        //TODO\n        break;\n      case \"error\":\n        //TODO\n        this.isGeneratingIdeas = false;\n        break;\n      case \"end\":\n        this.isGeneratingIdeas = false;\n        break;\n      case \"stream\":\n        if (wsMessage.message && wsMessage.message != \"undefined\") {\n          this.ideasElement.value += wsMessage.message;\n          break;\n        } else {\n          console.warn(\"stream message is undefined\");\n          break;\n        }\n    }\n    this.scrollDown();\n  }\n\n  get ideas() {\n    return (this.$$(\"#ideas\") as MdFilledTextField)?.value\n      .split(\"\\n\")\n      .filter((idea: string) => idea.length > 0);\n  }\n\n  hasMoreThanOneIdea() {\n    return;\n  }\n\n  openMenuFor(idea: AoiChoiceData) {\n    console.log(\"openMenuFor\", idea);\n  }\n\n  generateIdeas() {\n    this.isGeneratingIdeas = true;\n    try {\n      this.serverApi.startGenerateIdeas(\n        this.questionName!,\n        this.communityId!,\n        this.wsClientId,\n        this.ideas\n      );\n    } catch (e) {\n      console.error(e);\n    }\n  }\n\n  async submitIdeasForCreation() {\n    this.isSubmittingIdeas = true;\n    try {\n      const { question_id } = (this.configuration.earl =\n        await this.serverApi.submitIdeasForCreation(\n          this.communityId!,\n          this.ideas,\n          this.questionName!\n        ));\n      this.configuration.earl.question_id = question_id;\n      this.configuration.earl.active = true;\n      this.configuration.earl.configuration = {} as any;\n      this.configuration.earl.question = {\n        name: this.questionName!,\n        id: question_id!,\n      } as any;\n      this.fire(\"configuration-changed\", this.configuration);\n      this.requestUpdate();\n      this.getChoices();\n    } catch (e) {\n      console.error(e);\n    } finally {\n      this.isSubmittingIdeas = false;\n    }\n  }\n\n  toggleIdeaActivity(idea: AoiChoiceData) {\n    return async () => {\n      this.isTogglingIdeaActive = true;\n      try {\n        await this.serverApi.toggleIdeaActive(this.groupId, idea.id);\n        idea.active = !idea.active;\n      } catch (e) {\n        console.error(e);\n      } finally {\n        this.isTogglingIdeaActive = false;\n      }\n    };\n  }\n\n  applyFilter(filterType: string) {\n    this.currentIdeasFilter = filterType as any;\n  }\n\n  get sortedChoices() {\n    if (this.choices) {\n      switch (this.currentIdeasFilter) {\n        case \"latest\":\n          return this.choices.sort((a, b) => b.id - a.id);\n        case \"highestScore\":\n          return this.choices.sort((a, b) => b.score - a.score);\n        case \"userSubmitted\":\n          return this.choices.sort((a, b) => {\n            if (b.local_identifier < a.local_identifier) {\n              return -1;\n            }\n            if (b.local_identifier > a.local_identifier) {\n              return 1;\n            }\n            return 0;\n          });\n      }\n    } else {\n      return undefined;\n    }\n  }\n\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        .ideasList {\n          padding: 10px;\n        }\n\n        .ideaContainer {\n          padding: 10px;\n          margin: 5px 0;\n          border-radius: 8px;\n          background-color: var(--md-sys-color-surface-variant);\n          color: var(--md-sys-color-on-surface-variant);\n        }\n\n        .idea {\n          padding: 5px;\n          border-radius: 16px;\n          background-color: var(--md-sys-color-primary-container);\n          color: var(--md-sys-color-on-primary-container);\n          flex-grow: 1;\n        }\n\n        .wins,\n        .losses,\n        .score {\n          padding: 5px;\n          text-align: center;\n          min-width: 50px;\n        }\n\n        .buttons {\n          padding: 5px;\n          display: flex;\n          align-items: center;\n          justify-content: space-around;\n        }\n\n        md-outlined-text-field {\n          width: 100%;\n          margin-bottom: 32px;\n        }\n\n        .button {\n          margin-left: 16px;\n          margin-right: 16px;\n        }\n\n        .generationProgress {\n          width: 100%;\n          margin-bottom: 24px;\n          margin-top: -24px;\n        }\n      `,\n    ];\n  }\n\n  renderCreateIdeas() {\n    return html`\n      <div class=\"layout vertical center-center\">\n        <md-outlined-text-field\n          type=\"textarea\"\n          id=\"ideas\"\n          rows=\"14\"\n          .label=\"${this.t(\"ideasForVotingOn\")}\"\n        >\n        </md-outlined-text-field>\n        <md-linear-progress\n          class=\"generationProgress\"\n          ?hidden=\"${!this.isGeneratingIdeas}\"\n          indeterminate\n        ></md-linear-progress>\n        <div class=\"layout horizontal\">\n          ${this.isGeneratingIdeas\n            ? html`\n                <div class=\"layout vertical center-center\">\n                  <md-outlined-button class=\"button\" @click=\"${this.reset}\"\n                    >${this.t(\"stop\")}</md-outlined-button\n                  >\n                </div>\n              `\n            : html`\n                <md-outlined-button\n                  class=\"button\"\n                  @click=\"${this.generateIdeas}\"\n                  ?disabled=\"${this.isGeneratingIdeas}\"\n                  >${this.ideas?.length > 1\n                    ? this.t(\"generateMoreIdeasWithAi\")\n                    : this.t(\"generateIdeasWithAi\")}</md-outlined-button\n                >\n              `}\n          <md-filled-button\n            class=\"button\"\n            @click=\"${this.submitIdeasForCreation}\"\n            ?disabled=\"${this.isSubmittingIdeas || this.ideas?.length < 1}\"\n            >${this.t(\"submitIdeasForCreation\")}</md-filled-button\n          >\n        </div>\n      </div>\n    `;\n  }\n\n  renderIdeasSortingChips() {\n    return html`\n      <md-chip-set\n        class=\"ideaFilters layout horizontal wrap\"\n        type=\"filter\"\n        single-select\n      >\n        <md-filter-chip\n          class=\"layout horizontal center-center\"\n          label=\"User submitted\"\n          @click=\"${() => this.applyFilter(\"userSubmitted\")}\"\n        ></md-filter-chip>\n        <md-filter-chip\n          class=\"layout horizontal center-center\"\n          label=\"Latest\"\n          @click=\"${() => this.applyFilter(\"latest\")}\"\n        ></md-filter-chip>\n        <md-filter-chip\n          class=\"layout horizontal center-center\"\n          label=\"Highest Score\"\n          @click=\"${() => this.applyFilter(\"highestScore\")}\"\n        ></md-filter-chip>\n      </md-chip-set>\n    `;\n  }\n\n  renderEditIdeas() {\n    return html`\n      <div class=\"layout vertical\">\n        ${this.renderIdeasSortingChips()}\n        <div class=\"ideasList\">\n          <md-linear-progress\n            indeterminate\n            ?hidden=\"${!this.isFetchingChoices}\"\n          ></md-linear-progress>\n          ${this.sortedChoices?.map((idea: AoiChoiceData) => {\n            return html`<div class=\"layout horizontal ideaContainer\">\n              <div class=\"idea\">${idea.data}</div>\n              <div class=\"wins\">${idea.wins}</div>\n              <div class=\"losses\">${idea.losses}</div>\n              <div class=\"score\">${idea.score}</div>\n              <div class=\"buttons\">\n                <md-outlined-button @click=\"${this.toggleIdeaActivity(idea)}\">\n                  ${idea.active ? this.t(\"deactivate\") : this.t(\"activate\")}\n                </md-outlined-button>\n                <md-linear-progress\n                  indeterminate\n                  ?hidden=\"${!this.isTogglingIdeaActive}\"\n                ></md-linear-progress>\n              </div>\n            </div>`;\n          })}\n        </div>\n      </div>\n    `;\n  }\n\n  override render() {\n    if (!this.choices) {\n      return this.renderCreateIdeas();\n    } else {\n      return this.renderEditIdeas();\n    }\n  }\n}\n"]}