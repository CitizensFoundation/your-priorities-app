{"version":3,"file":"yp-content-moderation.js","sourceRoot":"","sources":["../../src/admin/yp-content-moderation.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, PropertyValueMap, css, html, nothing, render } from \"lit\";\nimport { property, customElement } from \"lit/decorators.js\";\n\nimport \"@material/web/menu/menu.js\";\nimport \"@material/web/menu/menu-item.js\";\nimport \"@material/web/iconbutton/icon-button.js\";\nimport \"@material/web/checkbox/checkbox.js\";\nimport \"@material/web/progress/circular-progress.js\";\n\nimport \"@vaadin/vaadin-grid/vaadin-grid.js\";\nimport type { GridElement } from \"@vaadin/vaadin-grid/vaadin-grid.js\";\n\nimport { GridColumnElement } from \"@vaadin/vaadin-grid/src/vaadin-grid-column\";\n\nimport \"@vaadin/grid/vaadin-grid.js\";\nimport \"@vaadin/grid/vaadin-grid-selection-column.js\";\nimport \"@vaadin/grid/vaadin-grid-filter-column.js\";\nimport \"@vaadin/grid/vaadin-grid-sort-column.js\";\n\nimport { YpBaseElement } from \"../common/yp-base-element.js\";\nimport { YpFormattingHelpers } from \"../common/YpFormattingHelpers.js\";\nimport { YpConfirmationDialog } from \"../yp-dialog-container/yp-confirmation-dialog\";\nimport \"../yp-magic-text/yp-magic-text.js\";\nimport \"../yp-point/yp-point.js\";\nimport \"../yp-post/yp-post.js\";\n\ninterface RowData {\n  item: YpModerationItem;\n}\n\ninterface SelectedItemIdsAndType {\n  id: number;\n  modelType: string;\n}\n\n@customElement(\"yp-content-moderation\")\nexport class YpContentModeration extends YpBaseElement {\n  @property({ type: Boolean })\n  multiSortEnabled = false;\n\n  @property({ type: Boolean })\n  opened = false;\n\n  @property({ type: Boolean })\n  showReload = false;\n\n  @property({ type: Boolean })\n  forceSpinner = false;\n\n  @property({ type: Boolean })\n  selectedItemsEmpty = true;\n\n  @property({ type: Array })\n  items: Array<YpModerationItem> | undefined;\n\n  @property({ type: Array })\n  selectedItems: Array<YpModerationItem> | undefined;\n\n  @property({ type: String })\n  headerText: string | undefined;\n\n  @property({ type: Number })\n  groupId: number | undefined;\n\n  @property({ type: Number })\n  communityId: number | undefined;\n\n  @property({ type: Number })\n  domainId: number | undefined;\n\n  @property({ type: Number })\n  userId: number | undefined;\n\n  @property({ type: Object })\n  selected: YpDatabaseItem | undefined;\n\n  @property({ type: String })\n  modelType: string | undefined;\n\n  @property({ type: Number })\n  selectedItemsCount = 0;\n\n  @property({ type: Array })\n  selectedItemIdsAndType: Array<SelectedItemIdsAndType> | undefined;\n\n  @property({ type: Number })\n  selectedItemId: number | undefined;\n\n  @property({ type: String })\n  selectedModelClass: string | undefined | null;\n\n  @property({ type: String })\n  collectionName: string | undefined;\n\n  @property({ type: String })\n  itemsCountText: string | undefined;\n\n  @property({ type: Object })\n  resizeTimeout: any | undefined;\n\n  @property({ type: String })\n  typeOfModeration: \"moderate_all_content\" | \"flagged_content\" =\n    \"moderate_all_content\";\n\n  @property({ type: Object })\n  activeItem: YpDatabaseItem | undefined;\n\n  allowGridEventsAfterMenuOpen = false;\n\n  override updated(\n    changedProperties: Map<string | number | symbol, unknown>\n  ): void {\n    super.updated(changedProperties);\n    if (\n      changedProperties.has(\"groupId\") ||\n      changedProperties.has(\"communityId\") ||\n      changedProperties.has(\"domainId\") ||\n      changedProperties.has(\"userId\")\n    ) {\n      this._refreshAfterChange();\n    }\n    if (changedProperties.has(\"activeItem\")) {\n      this._activeItemChanged(\n        this.activeItem,\n        changedProperties.get(\"activeItem\") as YpDatabaseItem | undefined\n      );\n    }\n  }\n\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        :host {\n          width: 100%;\n          height: 100%;\n          margin: 0;\n          top: unset !important;\n          left: unset !important;\n        }\n\n        .itemItem {\n          padding-right: 16px;\n        }\n\n        .id {\n          width: 40px;\n        }\n\n        .name {\n          width: 200px;\n        }\n\n        .email {\n          width: 190px;\n          overflow-wrap: break-word;\n        }\n\n        .addDeletedButtons {\n          width: 150px;\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n\n        vaadin-grid {\n          background-color: var(--md-sys-color-surface);\n          color: var(--md-sys-color-on-surface);\n          font-family: var(--md-sys-typescale-body-medium-font-family-name);\n          font-size: var(--md-sys-typescale-body-medium-font-size);\n          font-weight: var(--md-sys-typescale-body-medium-font-weight);\n          line-height: var(--md-sys-typescale-body-medium-line-height);\n        }\n\n        vaadin-grid::part(header-cell) {\n          background-color: var(--md-sys-color-surface-container);\n          color: var(--md-sys-color-on-surface-variant);\n          font-weight: var(--md-sys-typescale-title-small-font-weight);\n        }\n\n        vaadin-grid::part(cell) {\n          color: var(--md-sys-color-on-surface-container);\n        }\n\n        vaadin-grid::part(body-cell) {\n          background-color: var(--md-sys-color-surface-container-lowest);\n          border-bottom: 1px solid var(--md-sys-color-outline-variant);\n        }\n\n        vaadin-grid::part(row) {\n          background-color: var(--md-sys-color-surface-container-lowest);\n          color: var(--md-sys-color-on-surface);\n        }\n\n        vaadin-grid::part(row):nth-child(even) {\n          background-color: var(--md-sys-color-surface-variant);\n        }\n\n        vaadin-grid::part(row:hover) {\n          background-color: var(--md-sys-color-surface-container-highest);\n        }\n\n        vaadin-grid::part(selected-row) {\n          background-color: var(--md-sys-color-secondary-container);\n          color: var(--md-sys-color-on-secondary-container);\n        }\n\n        /* Ensure proper spacing and alignment */\n        vaadin-grid-cell-content {\n          padding: 12px 16px;\n        }\n\n        /* Style for the sort indicators */\n        vaadin-grid-sorter {\n          color: var(--md-sys-color-on-surface-variant);\n        }\n\n        vaadin-grid-sorter[direction] {\n          color: var(--md-sys-color-primary);\n        }\n\n        .headerBox {\n          background-color: var(--md-sys-primary-container);\n          color: var(--md-sys-on-primary-container);\n          margin: 0;\n          padding: 0 0;\n          padding-top: 12px;\n          padding-bottom: 10px;\n        }\n\n        md-text-button {\n          margin-left: 8px;\n        }\n\n        #grid {\n          margin-top: 0;\n        }\n\n        .headerText {\n          padding: 0 0 !important;\n        }\n\n        .collectionName {\n          font-size: 22px;\n          margin-bottom: 1px;\n          margin-top: 4px;\n        }\n\n        .innerHeader {\n          font-size: 17px;\n        }\n\n        .closeButton {\n          width: 50px;\n          height: 50px;\n          margin-left: 4px;\n          margin-right: 4px;\n        }\n\n        md-checkbox {\n          margin-top: 16px;\n          margin-right: 24px;\n        }\n\n        @media (max-width: 600px) {\n          .closeButton {\n            width: 45px;\n            height: 45px;\n          }\n\n          paper-listbox {\n            margin-right: 8px;\n          }\n\n          #dialog {\n            width: 100%;\n            height: 100%;\n            margin: 0;\n            padding: 0;\n          }\n\n          .headerText {\n            font-size: 20px;\n            line-height: 1.2em;\n            text-align: center;\n          }\n        }\n\n        .details {\n          display: flex;\n          margin: 8px;\n        }\n\n        yp-point {\n          min-height: 100px;\n          max-width: 500px;\n          margin-bottom: 8px;\n        }\n\n        yp-header {\n          margin-bottom: 8px;\n        }\n\n        md-text-button {\n          font-size: 18px;\n          margin-top: 16px;\n        }\n\n        .analysis {\n          margin-top: 12px;\n        }\n\n        .leftColumn {\n          padding-right: 16px;\n        }\n\n        .mainScore {\n        }\n\n        .linkIcon {\n        }\n\n        vaadin-grid {\n          font-size: 14px;\n        }\n      `,\n    ];\n  }\n\n  renderContent(root: HTMLElement, column: any, rowData: RowData) {\n    const item = rowData.item;\n    return render(html`\n      <div class=\"layout horizontal\">\n        <yp-magic-text\n          .contentId=\"${item.id}\"\n          .content=\"${item.pointTextContent}\"\n          textType=\"pointContent\"\n        ></yp-magic-text>\n        <yp-magic-text\n          .contentId=\"${item.id}\"\n          .content=\"${item.postNameContent}\"\n          textType=\"postName\"\n        ></yp-magic-text>\n        &nbsp;\n        <yp-magic-text\n          .contentId=\"${item.id}\"\n          .content=\"${item.postTextContent}\"\n          textType=\"postContent\"\n        ></yp-magic-text>\n        &nbsp;\n        <yp-magic-text\n          .contentId=\"${item.id}\"\n          .content=\"${item.postTranscriptContent}\"\n          textType=\"postTranscriptContent\"\n        ></yp-magic-text>\n      </div>\n    `, root);\n  }\n\n  renderItemDetail(root: HTMLElement, column: any, rowData: RowData) {\n    const item = rowData.item;\n    return render(html`\n      <div class=\"details layout vertical center-center detailArea\">\n        <div class=\"layout horizontal\">\n          ${item.is_post\n            ? html`\n                <div class=\"layout vertical center-center\">\n                  <yp-header\n                    hideActions\n                    .post=\"${item as unknown as YpPostData}\"\n                    .postName=\"${item.name}\"\n                    headerMode\n                  ></yp-header>\n                  <a href=\"/yp/${item.id}\" target=\"_blank\"\n                    ><paper-icon-button\n                      .ariaLabel=\"${this.t(\"linkToContentItem\")}\"\n                      class=\"linkIcon\"\n                      icon=\"link\"\n                    ></paper-icon-button\n                  ></a>\n                </div>\n              `\n            : nothing}\n          ${item.is_point\n            ? html`\n                <div class=\"layout vertical center-center\">\n                  <yp-point\n                    hideActions\n                    .point=\"${item as unknown as YpPointData}\"\n                  ></yp-point>\n                  <a\n                    ?hidden=\"${!item.post_id}\"\n                    href=\"/yp/[[item.post_id]]/${item.id}\"\n                    target=\"_blank\"\n                    ><md-icon-button\n                      .ariaLabel=\"${this.t(\"linkToContentItem\")}\"\n                      class=\"linkIcon\"\n                      ><md-icon>link</md-icon></md-icon-button\n                    ></a\n                  >\n                </div>\n              `\n            : nothing}\n        </div>\n\n        ${item.moderation_data\n          ? html`\n              <div class=\"layout horizontal analysis\">\n                <div\n                  class=\"layout vertical leftColumn\"\n                  ?hidden=\"${this.userId != undefined}\"\n                >\n                  <div\n                    class=\"mainScore\"\n                    ?hidden=\"${!item.moderation_data.moderation.toxicityScore}\"\n                  >\n                    Toxicity Score:\n                    ${this._toPercent(\n                      item.moderation_data.moderation.toxicityScore\n                    )}\n                  </div>\n                  <div\n                    ?hidden=\"${!item.moderation_data.moderation\n                      .identityAttackScore}\"\n                  >\n                    Identity Attack Score:\n                    ${this._toPercent(\n                      item.moderation_data.moderation.identityAttackScore\n                    )}\n                  </div>\n                  <div\n                    ?hidden=\"${!item.moderation_data.moderation.threatScore}\"\n                  >\n                    Threat Score:\n                    ${this._toPercent(\n                      item.moderation_data.moderation.threatScore\n                    )}\n                  </div>\n                  <div\n                    ?hidden=\"${!item.moderation_data.moderation.insultScore}\"\n                  >\n                    Insult Score:\n                    ${this._toPercent(\n                      item.moderation_data.moderation.insultScore\n                    )}\n                  </div>\n                </div>\n                <div\n                  class=\"layout vertical\"\n                  ?hidden=\"${this.userId != undefined}\"\n                >\n                  <div\n                    class=\"mainScore\"\n                    ?hidden=\"${!item.moderation_data.moderation\n                      .severeToxicityScore}\"\n                  >\n                    Severe Toxicity Score:\n                    ${this._toPercent(\n                      item.moderation_data.moderation.severeToxicityScore\n                    )}\n                  </div>\n                  <div\n                    ?hidden=\"${!item.moderation_data.moderation.profanityScore}\"\n                  >\n                    Profanity Score:\n                    ${this._toPercent(\n                      item.moderation_data.moderation.profanityScore\n                    )}\n                  </div>\n                  <div\n                    ?hidden=\"${!item.moderation_data.moderation\n                      .sexuallyExplicitScore}\"\n                  >\n                    Sexually Excplicit Score:\n                    ${this._toPercent(\n                      item.moderation_data.moderation.sexuallyExplicitScore\n                    )}\n                  </div>\n                  <div\n                    ?hidden=\"${!item.moderation_data.moderation\n                      .flirtationScore}\"\n                  >\n                    Flirtation Score:\n                    ${this._toPercent(\n                      item.moderation_data.moderation.flirtationScore\n                    )}\n                  </div>\n                </div>\n              </div>\n            `\n          : nothing}\n      </div>\n    `, root);\n  }\n\n  renderActionHeader(\n    root: HTMLElement,\n    column?: GridColumnElement | undefined\n  ) {\n    return render(html`\n      <md-menu\n        class=\"helpButton\"\n        ?disabled=\"${this.selectedItemsEmpty}\"\n        @opened=\"${this._refreshGridAsyncDelay}\"\n      >\n        <md-icon-button\n          .ariaLabel=\"${this.t(\"openSelectedItemsMenu\")}\"\n          icon=\"more_vert\"\n          slot=\"trigger\"\n          @click=\"${this._menuOpened}\"\n        ></md-icon-button>\n        <md-menu-item\n          ?hidden=\"${this.userId != undefined}\"\n          @click=\"${this._approveSelected}\"\n        >\n          ${this.t(\"approveSelectedContent\")} ${this.selectedItemsCount}\n        </md-menu-item>\n        <md-menu-item\n          ?hidden=\"${!this.onlyFlaggedItems}\"\n          @click=\"${this._clearSelectedFlags}\"\n        >\n          ${this.t(\"clearSelectedFlags\")} ${this.selectedItemsCount}\n        </md-menu-item>\n        <md-menu-item\n          ?hidden=\"${this.userId != undefined}\"\n          @click=\"${this._blockSelected}\"\n        >\n          ${this.t(\"blockSelectedContent\")} ${this.selectedItemsCount}\n        </md-menu-item>\n        <md-menu-item\n          ?hidden=\"${!this.userId}\"\n          @click=\"${this._anonymizeSelected}\"\n        >\n          ${this.t(\"anonymizeSelectedContent\")} ${this.selectedItemsCount}\n        </md-menu-item>\n        <md-menu-item @click=\"${this._deleteSelected}\">\n          ${this.t(\"deleteSelectedContent\")} ${this.selectedItemsCount}\n        </md-menu-item>\n      </md-menu>\n    `,root);\n  }\n\n  renderAction(root: HTMLElement, column: any, rowData: RowData) {\n    const item = rowData.item;\n    return render(html`\n      <md-menu class=\"helpButton\" @opened=\"${this._refreshGridAsyncDelay}\">\n        <md-icon-button\n          .ariaLabel=\"${this.t(\"openOneItemMenu\")}\"\n          icon=\"more_vert\"\n          data-args=\"${item.id}\"\n          @click=\"${this._setSelected}\"\n          slot=\"trigger\"\n        ></md-icon-button>\n        <md-menu-item\n          data-args=\"${item.id}\"\n          data-model-class=\"${item.type}\"\n          ?hidden=\"${this.userId != undefined}\"\n          @click=\"${this._approve}\"\n        >\n          ${this.t(\"approveContent\")}\n        </md-menu-item>\n        <md-menu-item\n          data-args=\"${item.id}\"\n          data-model-class=\"${item.type}\"\n          ?hidden=\"${!this.onlyFlaggedItems}\"\n          @click=\"${this._clearFlags}\"\n        >\n          ${this.t(\"clearFlags\")}\n        </md-menu-item>\n        <md-menu-item\n          data-args=\"${item.id}\"\n          data-model-class=\"${item.type}\"\n          ?hidden=\"${this.userId != undefined}\"\n          @click=\"${this._block}\"\n        >\n          ${this.t(\"blockContent\")}\n        </md-menu-item>\n        <md-menu-item\n          data-args=\"${item.id}\"\n          data-model-class=\"${item.type}\"\n          ?hidden=\"${!this.userId}\"\n          @click=\"${this._anonymize}\"\n        >\n          ${this.t(\"anonymizeContent\")}\n        </md-menu-item>\n        <md-menu-item\n          data-args=\"${item.id}\"\n          data-model-class=\"${item.type}\"\n          @click=\"${this._delete}\"\n        >\n          ${this.t(\"deleteContent\")}\n        </md-menu-item>\n      </md-menu>\n    `, root);\n  }\n\n  override render() {\n    return html`\n      <div class=\"layout horizontal headerBox wrap\">\n        <div>\n          <md-icon-button\n            .ariaLabel=\"${this.t(\"close\")}\"\n            id=\"dismissBtn\"\n            icon=\"close\"\n            class=\"closeButton\"\n            dialogDismiss\n          ></md-icon-button>\n        </div>\n\n        <div class=\"headerText layout vertical\">\n          <div class=\"layout horizontal\">\n            <div class=\"collectionName\">${this.collectionName}</div>\n          </div>\n          <div class=\"innerHeader\">\n            ${this.headerText}\n            <span ?hidden=\"${!this.totalItemsCount}\"\n              >(${this.totalItemsCount} ${this.itemsCountText})</span\n            >\n          </div>\n        </div>\n        <div ?hidden=\"${!this.spinnerActive}\">\n          <md-circular-progress indeterminate></md-circular-progress>\n        </div>\n        <div class=\"flex\"></div>\n        <div class=\"checkBox\" ?hidden=\"${!this.wide}\">\n          <md-checkbox ?checked=\"${this.multiSortEnabled}\"\n            >${this.t(\"multiSortEnabled\")}</md-checkbox\n          >\n        </div>\n        <div ?hidden=\"${!this.showReload}\">\n          <md-icon-button\n            .ariaLabel=\"${this.t(\"reload\")}\"\n            icon=\"autorenew\"\n            class=\"closeButton\"\n            @click=\"${this._reload}\"\n          ><md-icon>autorenew</md-icon></md-icon-button>\n        </div>\n      </div>\n\n      <vaadin-grid\n        id=\"grid\"\n        theme=\"row-dividers\"\n        column-reordering-allowed\n        multi-sort=\"${this.multiSortEnabled}\"\n        .activeItem=\"${this.activeItem}\"\n        .ariaLabel=\"${this.headerText}\"\n        .rowDetailsRenderer=\"${this.renderItemDetail}\"\n        .items=\"${this.items}\"\n        .selectedItems=\"${this.selectedItems as Array<unknown>}\"\n      >\n\n      <vaadin-grid-selection-column> </vaadin-grid-selection-column>\n\n      <vaadin-grid-sort-column\n        width=\"130px\"\n        flexGrow=\"0\"\n        path=\"firstReportedDateFormatted\"\n        .header=\"${this.t(\"firstReported\")}\"\n        ?hidden=\"${this.onlyFlaggedItems}\"\n      >\n      </vaadin-grid-sort-column>\n\n      <vaadin-grid-sort-column\n        width=\"130px\"\n        flexGrow=\"0\"\n        path=\"lastReportedAtDateFormatted\"\n        .header=\"${this.t(\"lastReported\")}\"\n        ?hidden=\"${this.userId != undefined}\"\n      >\n      </vaadin-grid-sort-column>\n\n      <vaadin-grid-sort-column\n        width=\"100px\"\n        textAlign=\"start\"\n        flexGrow=\"0\"\n        path=\"type\"\n        .renderer=\"${(\n            root: HTMLElement,\n            _column: unknown,\n            rowData: { item: YpModerationItem }\n          ) => {\n            root.textContent = this._getType(rowData.item.type);\n          }}\"\n        .header=\"${this.t(\"type\")}\"\n      >\n      </vaadin-grid-sort-column>\n\n      <vaadin-grid-sort-column\n        width=\"100px\"\n        textAlign=\"start\"\n        flexGrow=\"0\"\n        .renderer=\"${(\n            root: HTMLElement,\n            _column: unknown,\n            rowData: { item: YpModerationItem }\n          ) => {\n            root.textContent = rowData.item.status || \"unknown\";\n          }}\"\n        path=\"status\"\n        .header=\"${this.t(\"publishStatus\")}\"\n      >\n      </vaadin-grid-sort-column>\n\n      <vaadin-grid-sort-column\n        width=\"100px\"\n        textAlign=\"center\"\n        flexGrow=\"0\"\n        path=\"counter_flags\"\n        .renderer=\"${(\n            root: HTMLElement,\n            _column: unknown,\n            rowData: { item: YpModerationItem }\n          ) => {\n            root.textContent = `${rowData.item.counter_flags}`;\n          }}\"\n        .header=\"${this.t(\"flags\")}\"\n        ?hidden=\"${this.userId != undefined}\"\n      >\n      </vaadin-grid-sort-column>\n\n      <vaadin-grid-sort-column\n        width=\"130px\"\n        textAlign=\"start\"\n        flexGrow=\"0\"\n        path=\"source\"\n        .renderer=\"${(\n            root: HTMLElement,\n            _column: unknown,\n            rowData: { item: YpModerationItem }\n          ) => {\n            root.textContent = rowData.item.source || \"n/a\";\n          }}\"\n        .header=\"${this.t(\"source\")}\"\n        ?hidden=\"${!this.onlyFlaggedItems}\"\n      >\n      </vaadin-grid-sort-column>\n\n      <vaadin-grid-sort-column\n        width=\"105px\"\n        textAlign=\"center\"\n        flexGrow=\"0\"\n        path=\"toxicityScoreRaw\"\n        .renderer=\"${(\n            root: HTMLElement,\n            _column: unknown,\n            rowData: { item: YpModerationItem }\n          ) => {\n            root.textContent = `${rowData.item.toxicityScore || \"n/a\"}`;\n          }}\"\n        .header=\"${this.t(\"toxicityScore\")}?\"\n        ?hidden=\"${this.userId != undefined}\"\n      >\n      </vaadin-grid-sort-column>\n\n      <vaadin-grid-sort-column\n        width=\"150px\"\n        textAlign=\"start\"\n        flexGrow=\"1\"\n        path=\"groupName\"\n        .renderer=\"${(\n            root: HTMLElement,\n            _column: unknown,\n            rowData: { item: YpModerationItem }\n          ) => {\n            root.textContent = `${rowData.item.groupName}`;\n          }}\"\n        .header=\"${this.t(\"groupName\")}\"\n        ?hidden=\"${!this.userId}\"\n      >\n      </vaadin-grid-sort-column>\n\n      <vaadin-grid-filter-column\n        width=\"200px\"\n        flexGrow=\"4\"\n        path=\"content\"\n        .renderer=\"${this.renderContent.bind(this)}\"\n        .header=\"${this.t(\"content\")}\"\n        ?hidden=\"${!this.wide}\"\n      >\n      </vaadin-grid-filter-column>\n\n      <vaadin-grid-filter-column\n        flexGrow=\"1\"\n        path=\"user_email\"\n        width=\"150px\"\n        .renderer=\"${(\n            root: HTMLElement,\n            _column: unknown,\n            rowData: { item: YpModerationItem }\n          ) => {\n            root.textContent = `${rowData.item.user_email || \"n/a\"}`;\n          }}\"\n        .header=\"${this.t(\"creator\")}\"\n        ?hidden=\"${this.userId != undefined}\"\n      >\n      </vaadin-grid-filter-column>\n\n      <vaadin-grid-filter-column\n        flexGrow=\"0\"\n        path=\"lastReportedByEmail\"\n        width=\"150px\"\n        .header=\"${this.t(\"flaggedBy\")}\"\n        ?hidden=\"${!this.onlyFlaggedItems}\"\n      >\n      </vaadin-grid-filter-column>\n\n      <vaadin-grid-column\n        width=\"70px\"\n        flexGrow=\"0\"\n        .headerRenderer=\"${this.renderActionHeader.bind(this)}\"\n        .renderer=\"${this.renderAction.bind(this)}\"\n      >\n      </vaadin-grid>\n    `;\n  }\n\n  /*\n    behaviors: [\n      ypNumberFormatBehavior\n    ],\n\n    observers: [\n      '_selectedItemsChanged(selectedItems.splices)'\n    ],\n\n  */\n\n  get spinnerActive() {\n    return !this.totalItemsCount || this.forceSpinner;\n  }\n\n  _ajaxError(error: any | undefined = undefined) {\n    this.forceSpinner = false;\n    //TODO: Show error\n  }\n\n  async _reload() {\n    this.forceSpinner = true;\n    await this._refreshAfterChange();\n    this.forceSpinner = false;\n  }\n\n  async _masterRequest(\n    action: string,\n    itemIdsAndType: Array<SelectedItemIdsAndType> | undefined = undefined\n  ) {\n    let url, collectionId;\n    if (this.modelType === \"groups\" && this.groupId) {\n      collectionId = this.groupId;\n    } else if (this.modelType === \"communities\" && this.communityId) {\n      collectionId = this.communityId;\n    } else if (this.modelType === \"domains\" && this.domainId) {\n      collectionId = this.domainId;\n    } else if (this.modelType === \"users\" && this.userId) {\n      collectionId = this.userId;\n    } else {\n      console.error(\"Can't find model type or ids\");\n      return;\n    }\n\n    try {\n      if (itemIdsAndType && itemIdsAndType.length > 0) {\n        url = `/api/${this.modelType}/${collectionId}/${action}/process_many_moderation_item`;\n        await window.adminServerApi.adminMethod(\n          url,\n          \"PUT\",\n          itemIdsAndType as any\n        );\n      } else if (this.selectedItemId && this.selectedModelClass) {\n        url = `/api/${this.modelType}/${collectionId}/${this.selectedItemId}/${this.selectedModelClass}/${action}/process_one_moderation_item`;\n        await window.adminServerApi.adminMethod(url, \"PUT\");\n      } else {\n        console.error(\"No item ids to process\");\n        return;\n      }\n      this.forceSpinner = true;\n      this._resetSelectedAndClearCache();\n    } catch (error) {\n      this._ajaxError(error);\n    }\n  }\n\n  async _generateRequest(id: number) {\n    try {\n      const response = await window.adminServerApi.adminMethod(\n        `/api/${this.modelType}/${id}/${this.typeOfModeration}`,\n        \"GET\"\n      );\n      this.items = response;\n    } catch (error) {\n      this._ajaxError(error);\n    }\n  }\n\n  _itemsResponse(items: Array<YpModerationItem>) {\n    this.forceSpinner = false;\n    this.items = items;\n    debugger;\n    this._resetSelectedAndClearCache();\n  }\n\n  get onlyFlaggedItems() {\n    return this.typeOfModeration === \"flagged_content\";\n  }\n\n  _manyItemsResponse() {\n    this.forceSpinner = false;\n    this.showReload = true;\n    window.appGlobals.notifyUserViaToast(\n      this.t(\"operationInProgressTryReloading\")\n    );\n  }\n\n  _singleItemResponse() {\n    this._reload();\n  }\n\n  _menuSelection() {\n    const allMenus = this.renderRoot.querySelectorAll(\"md-menu\");\n    allMenus.forEach((menu) => {\n      // Close all menus\n      menu.open = false;\n    });\n    this._refreshGridAsync();\n  }\n\n  async _reallyAnonymize() {\n    await this._masterRequest(\"anonymize\");\n  }\n\n  async _reallyAnonymizeSelected() {\n    await this._masterRequest(\"anonymize\", this.selectedItemIdsAndType);\n  }\n\n  async _reallyDelete() {\n    await this._masterRequest(\"delete\");\n  }\n\n  async _reallyDeleteSelected() {\n    await this._masterRequest(\"delete\", this.selectedItemIdsAndType);\n  }\n\n  async _approve(event: CustomEvent) {\n    this._setupItemIdFromEvent(event);\n    await this._masterRequest(\"approve\");\n  }\n\n  async _approveSelected(event: CustomEvent) {\n    this._setupItemIdFromEvent(event);\n    await this._masterRequest(\"approve\", this.selectedItemIdsAndType);\n  }\n\n  async _block(event: CustomEvent) {\n    this._setupItemIdFromEvent(event);\n    await this._masterRequest(\"block\");\n  }\n\n  async _blockSelected(event: CustomEvent) {\n    this._setupItemIdFromEvent(event);\n    await this._masterRequest(\"block\", this.selectedItemIdsAndType);\n  }\n\n  async _clearFlags(event: CustomEvent) {\n    this._setupItemIdFromEvent(event);\n    await this._masterRequest(\"clearFlags\");\n  }\n\n  async _clearSelectedFlags(event: CustomEvent) {\n    this._setupItemIdFromEvent(event);\n    await this._masterRequest(\"clearFlags\", this.selectedItemIdsAndType);\n  }\n\n  async _refreshAfterChange() {\n    if (this.domainId) {\n      this._reset();\n      this.modelType = \"domains\";\n      await this._generateRequest(this.domainId);\n    }\n    if (this.groupId) {\n      this._reset();\n      this.modelType = \"groups\";\n      await this._generateRequest(this.groupId);\n    }\n    if (this.communityId) {\n      this._reset();\n      this.modelType = \"communities\";\n      await this._generateRequest(this.communityId);\n    }\n    if (this.userId) {\n      this._reset();\n      this.modelType = \"users\";\n      await this._generateRequest(this.userId);\n    }\n\n    this._setupHeaderText();\n  }\n\n  _domainIdChanged() {}\n\n  _groupIdChanged() {}\n\n  _communityIdChanged() {}\n\n  _userIdChanged() {}\n\n  _getType(type: string) {\n    if (type === \"post\") return this.t(\"posts.posts\");\n    else if (type === \"point\") return this.t(\"point.point\");\n    else return this.t(\"unknown\");\n  }\n\n  _activeItemChanged(\n    item: YpDatabaseItem | undefined,\n    oldItem: YpDatabaseItem | undefined\n  ) {\n    if (item) {\n      (this.$$(\"#grid\") as GridElement).openItemDetails(item);\n    }\n\n    if (oldItem) {\n      (this.$$(\"#grid\") as GridElement).closeItemDetails(oldItem);\n    }\n\n    this._refreshGridAsync();\n  }\n\n  _refreshGridAsync() {\n    this._refreshGridAsyncBase(10);\n  }\n\n  _refreshGridAsyncDelay() {\n    if (this.allowGridEventsAfterMenuOpen) {\n      this._refreshGridAsyncBase(250);\n    }\n  }\n\n  _refreshGridAsyncBase(ms: number) {\n    setTimeout(() => {\n      //      (this.$$('#grid') as GridElement).fire('iron-resize');\n      (this.$$(\"#grid\") as GridElement).notifyResize();\n    }, ms);\n  }\n\n  override connectedCallback() {\n    super.connectedCallback();\n    window.addEventListener(\"resize\", this._resizeThrottler.bind(this), false);\n  }\n\n  protected override firstUpdated(\n    _changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>\n  ): void {\n    super.firstUpdated(_changedProperties);\n    this._setGridSize();\n  }\n\n  _toPercent(number: number | undefined) {\n    if (number) {\n      return Math.round(number * 100) + \"%\";\n    } else {\n      return null;\n    }\n  }\n\n  _resizeThrottler() {\n    if (!this.resizeTimeout) {\n      this.resizeTimeout = setTimeout(() => {\n        this.resizeTimeout = null;\n        this._setGridSize();\n      }, 66);\n    }\n  }\n\n  _setGridSize() {\n    if (window.innerWidth <= 600) {\n      (this.$$(\"#grid\") as HTMLElement).style.width =\n        window.innerWidth.toFixed() + \"px\";\n      (this.$$(\"#grid\") as HTMLElement).style.height =\n        window.innerHeight.toFixed() + \"px\";\n    } else {\n      (this.$$(\"#grid\") as HTMLElement).style.width =\n        (window.innerWidth - 16).toFixed() + \"px\";\n      (this.$$(\"#grid\") as HTMLElement).style.height =\n        window.innerHeight.toFixed() + \"px\";\n    }\n  }\n\n  get totalItemsCount() {\n    if (this.items) {\n      return YpFormattingHelpers.number(this.items.length);\n    } else {\n      return null;\n    }\n  }\n\n  _selectedItemsChanged() {\n    if (this.selectedItems && this.selectedItems.length > 0) {\n      this.selectedItemsEmpty = false;\n      this.selectedItemsCount = this.selectedItems.length;\n    } else {\n      this.selectedItemsEmpty = true;\n      this.selectedItemsCount = 0;\n    }\n    this.selectedItemIdsAndType = this.selectedItems!.map((item) => {\n      return { id: item.id, modelType: item.type } as SelectedItemIdsAndType;\n    });\n    this._refreshGridAsyncDelay();\n  }\n\n  _setupItemIdFromEvent(event: CustomEvent) {\n    const target = event.target as HTMLElement;\n    if (target != null) {\n      let itemId = target.parentElement!.getAttribute(\"data-args\") as string;\n      if (!itemId) itemId = target.getAttribute(\"data-args\") as string;\n      if (itemId) this.selectedItemId = parseInt(itemId);\n      let modelClass = target.parentElement!.getAttribute(\"data-model-class\");\n      if (!modelClass) modelClass = target.getAttribute(\"data-model-class\");\n      this.selectedModelClass = modelClass;\n      this._refreshGridAsync();\n    }\n  }\n\n  _deleteSelected(event: CustomEvent) {\n    this._setupItemIdFromEvent(event);\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(\n          this.t(\"areYouSureDeleteSelectedContent\"),\n          this._reallyDeleteSelected.bind(this),\n          true,\n          true\n        );\n      }\n    );\n  }\n\n  _delete(event: CustomEvent) {\n    this._setupItemIdFromEvent(event);\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(\n          this.t(\"areYouSureDeleteContent\"),\n          this._reallyDelete.bind(this),\n          true,\n          false\n        );\n      }\n    );\n  }\n\n  _anonymizeSelected(event: CustomEvent) {\n    this._setupItemIdFromEvent(event);\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(\n          this.t(\"areYouSureAnonymizeSelectedContent\"),\n          this._reallyAnonymizeSelected.bind(this),\n          true,\n          true\n        );\n      }\n    );\n  }\n\n  _anonymize(event: CustomEvent) {\n    this._setupItemIdFromEvent(event);\n    window.appDialogs.getDialogAsync(\n      \"confirmationDialog\",\n      (dialog: YpConfirmationDialog) => {\n        dialog.open(\n          this.t(\"areYouSureAnonymizeContent\"),\n          this._reallyAnonymize.bind(this),\n          true,\n          false\n        );\n      }\n    );\n  }\n\n  _menuOpened() {\n    this.allowGridEventsAfterMenuOpen = true;\n  }\n\n  _setSelected(event: CustomEvent) {\n    const itemFromEvent = (event.target as HTMLInputElement).getAttribute(\n      \"data-args\"\n    );\n    if (itemFromEvent) {\n      const item = this._findItemFromId(parseInt(itemFromEvent));\n      if (item) {\n        (this.$$(\"#grid\") as GridElement).selectItem(item);\n      }\n      this.allowGridEventsAfterMenuOpen = true;\n      this._refreshGridAsync();\n    }\n  }\n\n  _findItemFromId(id: number) {\n    let foundItem;\n    if (this.items) {\n      this.items.forEach((item) => {\n        if (item.id == id) {\n          foundItem = item;\n        }\n      });\n    } else {\n      console.warn(\"No item for _findItemFromId\");\n    }\n    return foundItem;\n  }\n\n  setup(\n    groupId: number | undefined,\n    communityId: number | undefined,\n    domainId: number | undefined,\n    typeOfModeration: \"flagged_content\" | \"moderate_all_content\" | undefined,\n    userId: number | undefined\n  ) {\n    if (typeOfModeration) {\n      this.typeOfModeration = typeOfModeration;\n    } else {\n      this.typeOfModeration = \"flagged_content\";\n    }\n\n    this.groupId = undefined;\n    this.communityId = undefined;\n    this.domainId = undefined;\n    this.userId = undefined;\n    this.items = undefined;\n\n    if (groupId) this.groupId = groupId;\n\n    if (communityId) this.communityId = communityId;\n\n    if (domainId) this.domainId = domainId;\n\n    if (userId) this.userId = userId;\n\n    this._setupHeaderText();\n  }\n\n  open(name: string) {\n    this.collectionName = name;\n  }\n\n  _reset() {\n    this.items = undefined;\n    this._resetSelectedAndClearCache();\n  }\n\n  _resetSelectedAndClearCache() {\n    this.selectedItemsCount = 0;\n    this.selectedItemsEmpty = true;\n    this.selectedItemIdsAndType = [];\n    this.selectedItems = [];\n    (this.$$(\"#grid\") as GridElement).clearCache();\n  }\n\n  _setupHeaderText() {\n    if (this.onlyFlaggedItems) {\n      this.itemsCountText = this.t(\"contentItemsFlagged\");\n    } else {\n      this.itemsCountText = this.t(\"items\");\n    }\n    if (this.groupId) {\n      this.headerText = this.t(\"groupContentModeration\");\n    } else if (this.communityId) {\n      this.headerText = this.t(\"communityContentModeration\");\n    } else if (this.domainId) {\n      this.headerText = this.t(\"domainContentModeration\");\n    } else if (this.userId) {\n      this.headerText = this.t(\"userContentModeration\");\n    }\n  }\n}\n"]}