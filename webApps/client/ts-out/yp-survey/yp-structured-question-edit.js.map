{"version":3,"file":"yp-structured-question-edit.js","sourceRoot":"","sources":["../../src/yp-survey/yp-structured-question-edit.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAE,IAAI,EAAE,GAAG,EAAE,OAAO,EAAkB,MAAM,KAAK,CAAC;AACzD,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,MAAM,mBAAmB,CAAC;AAG5D,OAAO,WAAW,MAAM,cAAc,CAAC;AAEvC,OAAO,yCAAyC,CAAC;AACjD,OAAO,uCAAuC,CAAC;AAE/C,OAAO,oCAAoC,CAAC;AAC5C,OAAO,8CAA8C,CAAC;AACtD,OAAO,8BAA8B,CAAC;AAEtC,OAAO,EAAE,SAAS,EAAE,MAAM,8BAA8B,CAAC;AACzD,OAAO,EAAE,UAAU,EAAE,MAAM,+BAA+B,CAAC;AAE3D,OAAO,4BAA4B,CAAC;AAGpC,OAAO,EAAE,aAAa,EAAE,MAAM,8BAA8B,CAAC;AAOtD,IAAM,wBAAwB,GAA9B,MAAM,wBAAyB,SAAQ,aAAa;IAApD;;QAQL,sBAAiB,GAAG,KAAK,CAAC;QAM1B,2BAAsB,GAAG,KAAK,CAAC;QAG/B,iBAAY,GAAG,KAAK,CAAC;QAGrB,cAAS,GAAG,KAAK,CAAC;QAGlB,iBAAY,GAAG,KAAK,CAAC;QAGrB,kBAAa,GAAG,KAAK,CAAC;QAGtB,kBAAa,GAAG,KAAK,CAAC;QAMtB,mBAAc,GAAG,IAAI,CAAC;QAGtB,aAAQ,GAAG,KAAK,CAAC;QAEjB,kBAAa,GAAG,KAAK,CAAC;IAmlCxB,CAAC;IA/kCU,OAAO,CACd,iBAAyD;QAEzD,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QAEjC,IAAI,iBAAiB,CAAC,GAAG,CAAC,mBAAmB,CAAC,EAAE,CAAC;YAC/C,IAAI,CAAC,0BAA0B,EAAE,CAAC;QACpC,CAAC;IACH,CAAC;IAED,MAAM,KAAc,MAAM;QACxB,OAAO;YACL,KAAK,CAAC,MAAM;YACZ,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAuNF;SACF,CAAC;IACJ,CAAC;IAED,IAAI,KAAK;QACP,MAAM,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QACpC,IAAI,MAAM,EAAE,CAAC;YACX,OAAO,MAAM,CAAC,KAAK,CAAC;QACtB,CAAC;aAAM,CAAC;YACN,OAAO,IAAI,CAAC;QACd,CAAC;IACH,CAAC;IAED,IAAI,KAAK,CAAC,KAAU;QAClB,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC;IAED,KAAK,CAAC,oBAAoB,CAAC,KAAU;QACnC,MAAM,IAAI,CAAC,cAAc,CAAC;QAC1B,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;IACxB,CAAC;IAED,eAAe,CAAC,SAAS,GAAG,KAAK;QAC/B,OAAO,IAAI,CAAA;;iCAEkB,IAAI,CAAC,KAAK;kBACxB,IAAI,CAAC,QAAQ,CAAC,KAAgB,IAAI,EAAE;kBACrC,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE;gBACtC,IAAI,CAAC,QAAQ,IAAI,EAAE;2BACR,IAAI,CAAC,YAAY;kBAC1B,IAAI,CAAC,QAAQ,CAAC,IAAI;qBACf,IAAI,CAAC,WAAW;oBACjB,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,EAAE;;2BAEpB,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;+BAC/B,IAAI,CAAC,QAAQ,CAAC,gBAAgB;mBAC1C,CAAC,CAAM,EAAE,EAAE;YACpB,CAAC,CAAC,MAAM,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;YAC5C,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;QAC/B,CAAC;qBACY,IAAI,CAAC,QAAQ,CAAC,QAAQ;qBACtB,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,SAAS,CAAC;;;KAG/D,CAAC;IACJ,CAAC;IAED,mBAAmB;QACjB,OAAO,IAAI,CAAA;;;6BAGc,IAAI,CAAC,aAAa;sBACzB,IAAI,CAAC,SAAS;sCACE,IAAI,CAAC,KAAK;;UAEtC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC;;QAEhC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC;KAC7B,CAAC;IACJ,CAAC;IAED,cAAc,CAAC,SAAS,GAAG,KAAK;QAC9B,IAAI,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,CAAC;YAClC,OAAO,IAAI,CAAA;iCACgB,IAAI,CAAC,KAAK;qBACtB,IAAI,CAAC,QAAQ;kBAChB,IAAI,CAAC,YAAY;iBAClB,IAAI,CAAC,cAAc;;+BAEL,CAAC;QAC5B,CAAC;aAAM,CAAC;YACN,OAAO,IAAI,CAAA;;mCAEkB,IAAI,CAAC,KAAK;;;oBAGzB,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE;oBACnC,IAAI,CAAC,QAAQ,CAAC,KAAgB,IAAI,EAAE;;0BAE/B,IAAI,CAAC,QAAQ,CAAC,WAAW,IAAI,SAAS;gBACpD,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,WAAW;gBAC3B,CAAC,CAAC,IAAI;sBACI,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,EAAE;oBAC7B,IAAI,CAAC,YAAY;mBAClB,IAAI,CAAC,cAAc;6BACT,IAAI,CAAC,YAAY;qBACzB,CAAC,CAAM,EAAE,EAAE;gBACpB,CAAC,CAAC,MAAM,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;gBAC5C,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,CAAC;YAC/B,CAAC;kBACO,IAAI,CAAC,QAAQ,IAAI,EAAE;kBACnB,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,IAAI,CAAC,CAAC;;;uBAG7B,IAAI,CAAC,QAAQ,CAAC,QAAQ;uBACtB,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,SAAS,CAAC;;;OAG/D,CAAC;QACJ,CAAC;IACH,CAAC;IAED,kBAAkB;QAChB,OAAO,IAAI,CAAA;;;6BAGc,IAAI,CAAC,aAAa;sBACzB,IAAI,CAAC,SAAS;6BACP,IAAI,CAAC,aAAa;wBACvB,IAAI,CAAC,QAAQ,CAAC,KAAK;2BAChB,IAAI,CAAC,YAAY;sCACN,IAAI,CAAC,KAAK;;UAEtC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC;;QAEhC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;KAC5B,CAAC;IACJ,CAAC;IAED,gBAAgB;QACd,OAAO,IAAI,CAAA;;;yBAGU,IAAI,CAAC,KAAK;qBACd,CAAC,IAAI,CAAC,KAAK;;UAEtB,IAAI,CAAC,QAAQ,CAAC,IAAI;;KAEvB,CAAC;IACJ,CAAC;IAED,qBAAqB;QACnB,OAAO,IAAI,CAAA;;;yCAG0B,IAAI,CAAC,KAAK;6BACtB,IAAI,CAAC,aAAa;2BACpB,IAAI,CAAC,YAAY;6BACf,IAAI,CAAC,QAAQ,CAAC,cAAc;+BAC1B,IAAI,CAAC,QAAQ,CAAC,gBAAgB;;UAEnD,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC;;KAEnC,CAAC;IACJ,CAAC;IAED,eAAe;QACb,OAAO,IAAI,CAAA,UAAU,CAAC;IACxB,CAAC;IAED,iBAAiB,CAAC,WAA8B,EAAE,WAAmB;QACnE,OAAO,IAAI,CAAA;;;6BAGc,IAAI,CAAC,YAAY;uBACvB,IAAI,CAAC,iBAAiB;qBACxB,IAAI,CAAC,aAAa;oBACnB,WAAW,CAAC,IAAI;6CACS,IAAI,CAAC,KAAK,IAAI,WAAW;+BACvC,IAAI,CAAC,KAAK;;;kCAGP,WAAW,CAAC,IAAI;;KAE7C,CAAC;IACJ,CAAC;IAED,YAAY;QACV,OAAO,IAAI,CAAC,QAAQ,CAAC,YAAY;YAC/B,CAAC,CAAC,IAAI,CAAA;;;+BAGmB,IAAI,CAAC,YAAY;iCACf,IAAI,CAAC,aAAa;gCACnB,IAAI,CAAC,aAAa;0CACR,IAAI,CAAC,KAAK;;cAEtC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC;;;yBAGnB,IAAI,CAAC,QAAQ,CAAC,QAAQ;qCACV,IAAI,CAAC,KAAK;kDACG,IAAI,CAAC,KAAK;qBACvC,IAAI,CAAC,cAAc,EAAE;;cAE5B,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,GAAG,CAC9B,CAAC,WAAW,EAAE,WAAW,EAAE,EAAE,CAAC,IAAI,CAAA;kBAC9B,CAAC,WAAW,CAAC,SAAS;gBACtB,CAAC,CAAC,IAAI,CAAA,IAAI,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,WAAW,CAAC,GAAG;gBAC7D,CAAC,CAAC,IAAI,CAAA;wBACA,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,WAAW,CAAC;;;;mCAIrC,IAAI,CAAC,oBAAoB;sCACtB,IAAI,CAAC,QAAQ,CAAC,SAAS,IAAI,IAAI;oCACjC,WAAW,CAAC,OAAO,KAAK,QAAQ;oBAC1C,CAAC,CAAC,OAAO;oBACT,CAAC,CAAC,EAAE;;iDAEmB,IAAI;qBAC1B,KAAK,IAAI,WAAW;;qBAE1B;eACN,CACF;;SAEJ;YACH,CAAC,CAAC,OAAO,CAAC;IACd,CAAC;IAED,cAAc,CAAC,IAAY,EAAE,WAAmB,EAAE,aAAa,GAAG,KAAK;QACrE,MAAM,EAAE,GAAG,aAAa;YACtB,CAAC,CAAC,sBAAsB,IAAI,CAAC,KAAK,EAAE;YACpC,CAAC,CAAC,8BAA8B,IAAI,CAAC,KAAK,IAAI,WAAW,EAAE,CAAC;QAC9D,OAAO,IAAI,CAAA;;;gBAGC,EAAE;mBACC,IAAI,CAAC,QAAQ,IAAI,EAAE;uBACf,IAAI,CAAC,QAAQ;sBACb,IAAI,CAAC,QAAQ,CAAC,KAAiB,IAAI,KAAK;qBAC1C,IAAI,CAAC,gBAAgB;;;qCAGL,IAAI;;KAEpC,CAAC;IACJ,CAAC;IAED,gBAAgB;QACd,OAAO,IAAI,CAAC,QAAQ,CAAC,UAAU;YAC7B,CAAC,CAAC,IAAI,CAAA;;0CAE8B,IAAI,CAAC,KAAK;;iCAEnB,IAAI,CAAC,aAAa;+BACpB,IAAI,CAAC,YAAY;;cAElC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC;;;qCAGP,IAAI,CAAC,KAAK;;;;cAIjC,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAC5B,CAAC,QAAQ,EAAE,WAAW,EAAE,EAAE,CAAC,IAAI,CAAA;kBAC3B,CAAC,QAAQ,CAAC,SAAS;gBACnB,CAAC,CAAC,IAAI,CAAA,IAAI,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,EAAE,WAAW,CAAC,GAAG;gBAC5D,CAAC,CAAC,IAAI,CAAA;wBACA,IAAI,CAAC,cAAc,CAAC,QAAQ,CAAC,IAAI,EAAE,WAAW,CAAC;;;;mCAIpC,IAAI,CAAC,oBAAoB;iCAC3B,QAAQ,CAAC,OAAO,IAAI,MAAM;iDACV,IAAI;qBAC1B,KAAK,IAAI,WAAW;;qBAE1B;eACN,CACF;;SAEJ;YACH,CAAC,CAAC,OAAO,CAAC;IACd,CAAC;IAED,wBAAwB;IACxB,cAAc;QACZ,OAAO,IAAI,CAAA;;kBAEG,IAAI,CAAC,aAAa;mBACjB,IAAI,CAAC,gBAAgB;;UAE9B,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,GAAG,CAClC,CAAC,eAAe,EAAE,EAAE,CAAC,IAAI,CAAA;sCACG,eAAe,CAAC,IAAI;iBACzC,eAAe,CAAC,IAAI;;WAE1B,CACF;;KAEJ,CAAC;IACJ,CAAC;IAED,gBAAgB,KAAI,CAAC;IAEZ,MAAM;QACb,IAAI,QAAyC,CAAC;QAE9C,IAAI,YAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;QACtC,IAAI,CAAC,YAAY;YAAE,YAAY,GAAG,UAAU,CAAC;QAE7C,YAAY,GAAG,YAAY,CAAC,WAAW,EAAE,CAAC;QAE1C,QAAQ,YAAY,EAAE,CAAC;YACrB,KAAK,UAAU;gBACb,QAAQ,GAAG,IAAI,CAAC,cAAc,EAAE,CAAC;gBACjC,MAAM;YACR,KAAK,cAAc;gBACjB,QAAQ,GAAG,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBACrC,MAAM;YACR,KAAK,WAAW;gBACd,QAAQ,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;gBAClC,MAAM;YACR,KAAK,eAAe;gBAClB,QAAQ,GAAG,IAAI,CAAC,mBAAmB,EAAE,CAAC;gBACtC,MAAM;YACR,KAAK,YAAY;gBACf,QAAQ,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACnC,MAAM;YACR,KAAK,iBAAiB;gBACpB,QAAQ,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;gBACxC,MAAM;YACR,KAAK,YAAY;gBACf,QAAQ,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBACnC,MAAM;YACR,KAAK,UAAU;gBACb,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,CAAC,CAAC;gBAC5D,MAAM;YACR,KAAK,QAAQ;gBACX,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,CAAC;gBAC/B,MAAM;YACR,KAAK,WAAW;gBACd,QAAQ,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;gBAClC,MAAM;YACR;;qBAES;QACX,CAAC;QAED,OAAO,IAAI,CAAA,eAAe,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,EAAE;QACrE,QAAQ;WACL,CAAC;IACV,CAAC;IAED,cAAc;QACZ,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACzB,CAAC;IAED,YAAY;QACV,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IACxB,CAAC;IAED,IAAI,eAAe;QACjB,OAAO,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,KAAK,QAAQ,CAAC;IAC7D,CAAC;IAED,WAAW,CAAC,KAAoB;QAC9B,IAAI,KAAK,CAAC,KAAK,IAAI,EAAE,IAAI,KAAK,CAAC,OAAO,IAAI,EAAE,EAAE,CAAC;YAC7C,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE,EAAE,YAAY,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;QAChE,CAAC;IACH,CAAC;IAED,iBAAiB;QACf,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC5B,CAAC;IAED,oBAAoB,CAAC,KAAkB;QACrC,IAAI,CAAC,IAAI,CAAC,2BAA2B,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;QACrD,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC;YAClC,IAAI,CAAC,uBAAuB,GAAG,UAAU,CAAC,GAAG,EAAE;gBAC7C,IAAI,CAAC,uBAAuB,GAAG,SAAS,CAAC;gBACzC,IAAI,CAAC,IAAI,CAAC,qCAAqC,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC;gBAC/D,IAAI,CAAC,uBAAuB,EAAE,CAAC;YACjC,CAAC,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;QAC1B,CAAC;IACH,CAAC;IAED,oBAAoB,CAAC,KAAU;QAC7B,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,IAAI,CAAC,oBAAoB,CAAC,KAAK,CAAC,CAAC;IACnC,CAAC;IAED,IAAI,aAAa;QACf,OAAO,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC;QAC1B,mCAAmC;QACnC;;;;WAIG;IACL,CAAC;IAED,cAAc;QACZ,IACE,IAAI,CAAC,QAAQ,CAAC,OAAO;YACrB,IAAI,CAAC,QAAQ,CAAC,OAAO,KAAK,QAAQ;YAClC,CAAC,IAAI,CAAC,YAAY,EAClB,CAAC;YACD,OAAO,uCAAuC,CAAC;QACjD,CAAC;aAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,KAAK,QAAQ,EAAE,CAAC;YACvE,OAAO,sBAAsB,CAAC;QAChC,CAAC;aAAM,CAAC;YACN,OAAO,iBAAiB,CAAC;QAC3B,CAAC;IACH,CAAC;IAED,IAAI,aAAa;QACf,IAAI,IAAI,GAAG,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QAC3C,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;QACnC,OAAO,IAAI,CAAC;IACd,CAAC;IAED,uBAAuB;QACrB,IAAI,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;IAC/B,CAAC;IAED,mBAAmB;IACnB,aAAa;QACX,MAAM,YAAY,GAAG,IAAI,CAAC,EAAE,CAAC,sBAAsB,GAAG,IAAI,CAAC,KAAK,CAEnD,CAAC;QACd,OAAO,CAAC,GAAG,CAAC,iBAAiB,YAAY,EAAE,CAAC,CAAC;QAC7C,IAAI,YAAY,EAAE,CAAC;YACjB,IAAI,YAAY,CAAC,OAAO,CAAC,IAAI,KAAK,UAAU,EAAE,CAAC;gBAC7C,OAAO,IAAI,CAAC,CAAC,2BAA2B;YAC1C,CAAC;iBAAM,IACL,YAAY,CAAC,IAAI;gBACjB,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAC5C,CAAC;gBACD,OAAO,IAAI,CAAC,wBAAwB,EAAE,CAAC;YACzC,CAAC;iBAAM,IAAI,YAAY,CAAC,OAAO,CAAC,IAAI,KAAK,YAAY,EAAE,CAAC;gBACtD,OAAO,IAAI,CAAC,CAAC,2BAA2B;YAC1C,CAAC;iBAAM,CAAC;gBACN,IACG,YAA0B,CAAC,KAAK;oBAChC,YAA0B,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAC5C,CAAC;oBACD,OAAO,CAAC,GAAG,CAAC,oCAAoC,CAAC,CAAC;oBAClD,OAAO,IAAI,CAAC;gBACd,CAAC;qBAAM,CAAC;oBACN,OAAO,CAAC,GAAG,CAAC,uCAAuC,CAAC,CAAC;oBACrD,OAAO,KAAK,CAAC;gBACf,CAAC;YACH,CAAC;QACH,CAAC;aAAM,CAAC;YACN,OAAO,IAAI,CAAC;QACd,CAAC;IACH,CAAC;IAED,IAAI,YAAY;QACd,OAAO,CACL,IAAI,CAAC,QAAQ,CAAC,IAAI;YAClB,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,WAAW;gBAC/C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,eAAe;gBACpD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,UAAU;gBAC/C,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,cAAc;gBACnD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,aAAa,CAAC,CACtD,CAAC;IACJ,CAAC;IAEQ,KAAK;QACZ,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;YACtB,MAAM,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,sBAAsB,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;YAC1D,IAAI,IAAI,EAAE,CAAC;gBACT,UAAU,CAAC,GAAG,EAAE;oBACd,IAAI,CAAC,KAAK,EAAE,CAAC;gBACf,CAAC,EAAE,GAAG,CAAC,CAAC;YACV,CAAC;QACH,CAAC;IACH,CAAC;IAED,UAAU,CAAC,KAAa;QACtB,IAAI,KAAK,EAAE,CAAC;YACV,OAAO,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;QACnD,CAAC;aAAM,CAAC;YACN,OAAO,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;YACxC,OAAO,EAAE,CAAC;QACZ,CAAC;IACH,CAAC;IAED,wBAAwB;QACtB,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ;YAAE,OAAO,IAAI,CAAC;QACzC,MAAM,KAAK,GAAG,IAAI,CAAC,EAAE,CAAC,sBAAsB,GAAG,IAAI,CAAC,KAAK,CAAU,CAAC;QAEpE,IAAI,KAAK,CAAC,OAAO;YAAE,OAAO,IAAI,CAAC;QAE/B,IAAI,KAAK,GAAG,KAAK,CAAC;QAElB,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC,MAAM,EAAE,WAAW,EAAE,EAAE;YAC1D,MAAM,kBAAkB,GAAG,IAAI,CAAC,EAAE,CAChC,gCAAgC,GAAG,IAAI,CAAC,KAAK,GAAG,GAAG,GAAG,WAAW,CACzD,CAAC;YACX,IAAI,kBAAkB,IAAI,kBAAkB,CAAC,OAAO,EAAE,CAAC;gBACrD,KAAK,GAAG,IAAI,CAAC;YACf,CAAC;QACH,CAAC,CAAC,CAAC;QAEH,OAAO,KAAK,CAAC;IACf,CAAC;IAED,SAAS,CAAC,qBAAqB,GAAG,KAAK;QACrC,MAAM,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,sBAAsB,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;QAE1D,IAAI,IAAI,EAAE,CAAC;YACT,IAAI,KAAK,CAAC;YAEV,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;gBACtB,KAAK,GAAI,IAAyB,CAAC,KAAK,CAAC;YAC3C,CAAC;iBAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAK,CAAC,WAAW,EAAE,KAAK,QAAQ,EAAE,CAAC;gBAC1D,IAAI,aAAa,CAAC;gBAClB,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC,MAAM,EAAE,WAAW,EAAE,EAAE;oBAC1D,MAAM,kBAAkB,GAAG,IAAI,CAAC,EAAE,CAChC,gCAAgC,GAAG,IAAI,CAAC,KAAK,GAAG,GAAG,GAAG,WAAW,CACzD,CAAC;oBACX,IACE,kBAAkB;wBAClB,MAAM,CAAC,IAAI,KAAK,kBAAkB,CAAC,KAAK;wBACxC,kBAAkB,CAAC,OAAO,EAC1B,CAAC;wBACD,aAAa,GAAG,kBAAkB,CAAC;wBACnC,IAAI,MAAM,CAAC,SAAS,EAAE,CAAC;4BACrB,MAAM,UAAU,GAAG,IAAI,CAAC,EAAE,CACxB,sBAAsB;gCACpB,IAAI,CAAC,KAAK;gCACV,GAAG;gCACH,WAAW;gCACX,cAAc,CACJ,CAAC;4BACf,IAAI,UAAU,EAAE,CAAC;gCACf,KAAK;oCACH,aAAa,CAAC,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;4BAClE,CAAC;iCAAM,CAAC;gCACN,KAAK,GAAG,aAAa,CAAC,KAAK,CAAC;4BAC9B,CAAC;wBACH,CAAC;6BAAM,CAAC;4BACN,KAAK,GAAG,aAAa,CAAC,KAAK,CAAC;wBAC9B,CAAC;oBACH,CAAC;gBACH,CAAC,CAAC,CAAC;YACL,CAAC;iBAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAK,CAAC,WAAW,EAAE,KAAK,YAAY,EAAE,CAAC;gBAC9D,IAAI,kBAAkB,GAAG,EAAE,CAAC;gBAC5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC9C,MAAM,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAa,CAAC;oBAC1D,IAAI,QAAQ,IAAI,QAAQ,CAAC,OAAO,EAAE,CAAC;wBACjC,MAAM,aAAa,GAAW,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;wBACxD,MAAM,gBAAgB,GACpB,IAAI,CAAC,QAAQ,CAAC,UAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC;wBACrD,IAAI,gBAAgB,CAAC,SAAS,EAAE,CAAC;4BAC/B,MAAM,aAAa,GAAG,IAAI,CAAC,EAAE,CAC3B,sBAAsB;gCACpB,IAAI,CAAC,KAAK;gCACV,GAAG;gCACH,aAAa;gCACb,gBAAgB,CACnB,CAAC;4BACF,IAAI,aAAa,IAAK,aAA2B,CAAC,KAAK,KAAK,EAAE,EAAE,CAAC;gCAC/D,kBAAkB;oCAChB,gBAAgB,CAAC,IAAI;wCACrB,GAAG;wCACH,IAAI,CAAC,UAAU,CAAE,aAA2B,CAAC,KAAK,CAAC;wCACnD,GAAG,CAAC;4BACR,CAAC;iCAAM,CAAC;gCACN,kBAAkB,IAAI,gBAAgB,CAAC,IAAI,GAAG,GAAG,CAAC;4BACpD,CAAC;wBACH,CAAC;6BAAM,CAAC;4BACN,kBAAkB,IAAI,gBAAgB,CAAC,IAAI,GAAG,GAAG,CAAC;wBACpD,CAAC;oBACH,CAAC;gBACH,CAAC;gBACD,IAAI,kBAAkB,KAAK,EAAE,EAAE,CAAC;oBAC9B,KAAK,GAAG,kBAAkB,CAAC,SAAS,CAClC,CAAC,EACD,kBAAkB,CAAC,MAAM,GAAG,CAAC,CAC9B,CAAC;gBACJ,CAAC;YACH,CAAC;iBAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAK,CAAC,WAAW,EAAE,KAAK,UAAU,EAAE,CAAC;gBAC5D,KAAK,GAAI,IAAiB,CAAC,OAAO,CAAC;YACrC,CAAC;YAED,IAAI,KAAK,IAAI,SAAS,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;gBACjD,OAAO,EAAE,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,KAAK,EAAE,KAAK,EAAE,CAAC;YAC5D,CAAC;iBAAM,CAAC;gBACN,OAAO,CAAC,KAAK,CAAC,mCAAmC,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,CAAC;gBACvE,OAAO,SAAS,CAAC;YACnB,CAAC;QACH,CAAC;aAAM,IAAI,CAAC,qBAAqB,EAAE,CAAC;YAClC,OAAO,CAAC,KAAK,CAAC,+BAA+B,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;QACtE,CAAC;QAED,OAAO,SAAS,CAAC;IACnB,CAAC;IAED,SAAS,CAAC,KAAa;QACrB,IAAI,KAAK,IAAI,IAAI,EAAE,CAAC;YAClB,MAAM,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,sBAAsB,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;YAE1D,IAAI,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC;gBAC/B,IAAI,IAAI,CAAC,YAAY,EAAE,CAAC;oBACtB,IAAI,IAAI,CAAC,QAAQ,CAAC,eAAe,EAAE,CAAC;wBACjC,IAA2B,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;oBACnD,CAAC;yBAAM,CAAC;wBACL,IAAyB,CAAC,KAAK,GAAG,KAAK,CAAC;oBAC3C,CAAC;gBACH,CAAC;qBAAM,IACL,IAAI,CAAC,QAAQ,CAAC,IAAI;oBAClB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,QAAQ,EAC7C,CAAC;oBACD,IAAI,YAAoB,CAAC;oBACzB,IAAI,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;wBAC5B,MAAM,SAAS,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBACnC,KAAK,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;wBACrB,YAAY,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;oBAC9B,CAAC;oBAED,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC,MAAM,EAAE,WAAW,EAAE,EAAE;wBAC1D,IAAI,MAAM,CAAC,IAAI,KAAK,KAAK,EAAE,CAAC;4BAC1B,MAAM,kBAAkB,GAAG,IAAI,CAAC,EAAE,CAChC,gCAAgC;gCAC9B,IAAI,CAAC,KAAK;gCACV,GAAG;gCACH,WAAW,CACL,CAAC;4BACX,IAAI,kBAAkB,EAAE,CAAC;gCACvB,kBAAkB,CAAC,OAAO,GAAG,IAAI,CAAC;gCAClC,IAAI,YAAY,EAAE,CAAC;oCACjB,MAAM,KAAK,GAAG,IAAI,CAAC,EAAE,CACnB,sBAAsB;wCACpB,IAAI,CAAC,KAAK;wCACV,GAAG;wCACH,WAAW;wCACX,cAAc,CACjB,CAAC;oCACF,IAAI,KAAK,EAAE,CAAC;wCACV,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;wCACpB,KAA0B,CAAC,KAAK,GAAG,YAAY,CAAC;oCACnD,CAAC;yCAAM,CAAC;wCACN,OAAO,CAAC,KAAK,CAAC,mCAAmC,CAAC,CAAC;oCACrD,CAAC;gCACH,CAAC;4BACH,CAAC;wBACH,CAAC;oBACH,CAAC,CAAC,CAAC;gBACL,CAAC;qBAAM,IACL,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,YAAY;oBACjD,IAAI,CAAC,QAAQ,CAAC,UAAU,EACxB,CAAC;oBACD,MAAM,cAAc,GAAG,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;oBACxC,MAAM,aAAa,GAA2B,EAAE,CAAC;oBACjD,IAAI,gBAAgB,GAAG,KAAK,CAAC;oBAC7B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC/C,IAAI,cAAc,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;4BACxC,MAAM,SAAS,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;4BAC/C,cAAc,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;4BACjC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;4BAC3C,gBAAgB,GAAG,IAAI,CAAC;wBAC1B,CAAC;oBACH,CAAC;oBACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;wBAC9C,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC;4BACrB,MAAM,aAAa,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;4BACxD,MAAM,gBAAgB,GACpB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC;4BACpD,IAAI,gBAAgB,EAAE,CAAC;gCACrB,IAAI,cAAc,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;oCACtD,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAc,CAAC,OAAO,GAAG,IAAI,CAAC;oCAC9C,IAAI,gBAAgB,EAAE,CAAC;wCACrB,MAAM,KAAK,GAAG,IAAI,CAAC,EAAE,CACnB,sBAAsB;4CACpB,IAAI,CAAC,KAAK;4CACV,GAAG;4CACH,aAAa;4CACb,gBAAgB,CACN,CAAC;wCACf,IAAI,KAAK,IAAI,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,EAAE,CAAC;4CAClD,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;4CACrB,KAAK,CAAC,KAAK,GAAG,aAAa,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;wCACrD,CAAC;6CAAM,CAAC;4CACN,OAAO,CAAC,KAAK,CAAC,mCAAmC,CAAC,CAAC;wCACrD,CAAC;oCACH,CAAC;gCACH,CAAC;4BACH,CAAC;iCAAM,CAAC;gCACN,OAAO,CAAC,KAAK,CAAC,qBAAqB,CAAC,CAAC;4BACvC,CAAC;wBACH,CAAC;oBACH,CAAC;gBACH,CAAC;qBAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,WAAW,EAAE,KAAK,UAAU,EAAE,CAAC;oBAC3D,IAAI,KAAK,EAAE,CAAC;wBACT,IAAiB,CAAC,OAAO,GAAG,IAAI,CAAC;oBACpC,CAAC;gBACH,CAAC;YACH,CAAC;iBAAM,CAAC;gBACN,OAAO,CAAC,KAAK,CAAC,kCAAkC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;YACjE,CAAC;QACH,CAAC;IACH,CAAC;IAED,IAAI;QACF,MAAM,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,sBAAsB,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1D,IAAI,IAAI,EAAE,CAAC;YACT,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;YAEnB,MAAM,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,2BAA2B,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;YACpE,IAAI,SAAS,EAAE,CAAC;gBACd,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC;YAC1B,CAAC;QACH,CAAC;aAAM,CAAC;YACN,OAAO,CAAC,KAAK,CAAC,6BAA6B,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5D,CAAC;IACH,CAAC;IAED,IAAI;QACF,MAAM,IAAI,GAAG,IAAI,CAAC,EAAE,CAAC,sBAAsB,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;QAC1D,IAAI,IAAI,EAAE,CAAC;YACT,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;YACpB,MAAM,SAAS,GAAG,IAAI,CAAC,EAAE,CAAC,2BAA2B,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;YACpE,IAAI,SAAS,EAAE,CAAC;gBACd,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC;YAC3B,CAAC;QACH,CAAC;aAAM,CAAC;YACN,OAAO,CAAC,KAAK,CAAC,6BAA6B,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;QAC5D,CAAC;IACH,CAAC;IAED,gBAAgB,CAAC,KAAkB;QACjC,IAAI,IAAI,CAAC,QAAQ,CAAC,UAAU,IAAK,KAAK,CAAC,MAAmB,CAAC,OAAO,EAAE,CAAC;YACnE,MAAM,aAAa,GAAY,KAAK,CAAC,MAAmB,CAAC,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAE1E,MAAM,gBAAgB,GACpB,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,aAAa,CAAC,CAAC,CAAC;YACpD,IAAI,gBAAgB,CAAC,SAAS,EAAE,CAAC;gBAC/B,MAAM,aAAa,GAAG,IAAI,CAAC,EAAE,CAC3B,sBAAsB;oBACpB,IAAI,CAAC,KAAK;oBACV,GAAG;oBACH,aAAa;oBACb,gBAAgB,CACC,CAAC;gBACtB,IAAI,aAAa,EAAE,CAAC;oBAClB,aAAa,CAAC,MAAM,GAAG,KAAK,CAAC;oBAC7B,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,CAAC;wBACzB,aAAa,CAAC,KAAK,GAAG,EAAE,CAAC;oBAC3B,CAAC;oBACD,aAAa,CAAC,KAAK,EAAE,CAAC;gBACxB,CAAC;qBAAM,CAAC;oBACN,OAAO,CAAC,KAAK,CAAC,2BAA2B,CAAC,CAAC;gBAC7C,CAAC;YACH,CAAC;QACH,CAAC;QAED,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;YAC5B,IAAI,YAAY,GAAG,CAAC,CAAC;YACrB,MAAM,IAAI,GAAG,IAAI,CAAC,EAAE,CAClB,sBAAsB,GAAG,IAAI,CAAC,KAAK,CAChB,CAAC;YACtB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;gBAC9C,IACE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,aAAa;oBACvD,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAc,CAAC,OAAO,EACtC,CAAC;oBACD,YAAY,IAAI,CAAC,CAAC;gBACpB,CAAC;YACH,CAAC;YAED,IAAI,YAAY,IAAI,IAAI,CAAC,QAAQ,CAAC,SAAS,EAAE,CAAC;gBAC5C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC9C,IACE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,aAAa;wBACxD,CAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAc,CAAC,OAAO,EACvC,CAAC;wBACA,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAsB,CAAC,QAAQ,GAAG,IAAI,CAAC;oBACzD,CAAC;gBACH,CAAC;YACH,CAAC;iBAAM,CAAC;gBACN,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,CAAC;oBAC9C,IACE,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,WAAW,EAAE,KAAK,aAAa;wBACvD,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAsB,CAAC,QAAQ,EAC/C,CAAC;wBACA,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAsB,CAAC,QAAQ,GAAG,KAAK,CAAC;oBAC1D,CAAC;gBACH,CAAC;YACH,CAAC;QACH,CAAC;QAED,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,IAAI,CAAC,oBAAoB,CAAC;YACxB,MAAM,EAAE,EAAE,KAAK,EAAG,KAAK,CAAC,MAAmB,CAAC,OAAO,EAAE;SACvC,CAAC,CAAC;IACpB,CAAC;IAED,aAAa,CAAC,KAAkB;QAC9B,KAAK,CAAC,eAAe,EAAE,CAAC;QACxB,IAAI,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,CAAC;YAC/B,IAAI,aAAa,CAAC;YAElB,IAAI,CAAC,QAAQ,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,WAAW,EAAE,EAAE;gBACzD,IAAI,MAAM,CAAC,IAAI,KAAM,KAAK,CAAC,MAAgB,CAAC,KAAK,EAAE,CAAC;oBAClD,aAAa,GAAG,MAAM,CAAC;oBACvB,IAAI,CAAC,oBAAoB,CAAC;wBACxB,MAAM,EAAE,EAAE,KAAK,EAAE,MAAM,CAAC,IAAI,EAAE;qBAChB,CAAC,CAAC;oBAClB,IAAI,aAAa,CAAC,MAAM,EAAE,CAAC;wBACzB,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE;4BAChC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ;4BAC9B,IAAI,EAAE,aAAa,CAAC,MAAM;yBAC3B,CAAC,CAAC;oBACL,CAAC;yBAAM,IAAI,aAAa,CAAC,SAAS,EAAE,CAAC;wBACnC,MAAM,KAAK,GAAG,IAAI,CAAC,EAAE,CACnB,sBAAsB;4BACpB,IAAI,CAAC,KAAK;4BACV,GAAG;4BACH,WAAW;4BACX,cAAc,CACjB,CAAC;wBACF,IAAI,KAAK,EAAE,CAAC;4BACV,KAAK,CAAC,MAAM,GAAG,KAAK,CAAC;4BACrB,KAAK,CAAC,KAAK,EAAE,CAAC;wBAChB,CAAC;6BAAM,CAAC;4BACN,OAAO,CAAC,KAAK,CAAC,gCAAgC,CAAC,CAAC;wBAClD,CAAC;oBACH,CAAC;yBAAM,CAAC;wBACN,UAAU,CAAC,GAAG,EAAE;4BACd,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC;gCACxB,IAAI,CAAC,IAAI,CAAC,oBAAoB,EAAE,EAAE,YAAY,EAAE,IAAI,CAAC,KAAK,EAAE,CAAC,CAAC;4BAChE,CAAC;wBACH,CAAC,CAAC,CAAC;wBAEH,IAAI,WAAW,CAAC;wBAEhB,IAAI,CAAC,QAAQ,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;4BAC7C,IAAI,MAAM,CAAC,MAAM,EAAE,CAAC;gCAClB,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC;4BAC9B,CAAC;wBACH,CAAC,CAAC,CAAC;wBAEH,IAAI,WAAW,EAAE,CAAC;4BAChB,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE;gCAChC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,QAAQ;gCAC9B,IAAI,EAAE,WAAW;6BAClB,CAAC,CAAC;wBACL,CAAC;oBACH,CAAC;gBACH,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;IACH,CAAC;IAED,0BAA0B;QACxB,IAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,EAAE,CAAC;YACrD,MAAM,cAAc,GAAG,EAAE,CAAC;YAC1B,IAAI,CAAC;gBACH,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,CAAC,MAAM,EAAE,EAAE;oBACxC,IAAI,IAAI,CAAC,QAAQ,CAAC,QAAQ,KAAK,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,KAAK,EAAE,CAAC;wBAC/D,UAAU,CAAC,GAAG,EAAE;4BACd,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,KAAe,CAAC,CAAC;wBACzC,CAAC,EAAE,GAAG,CAAC,CAAC;wBACR,MAAM,cAAc,CAAC;oBACvB,CAAC;gBACH,CAAC,CAAC,CAAC;YACL,CAAC;YAAC,OAAO,CAAC,EAAE,CAAC;gBACX,IAAI,CAAC,KAAK,cAAc;oBAAE,MAAM,CAAC,CAAC;YACpC,CAAC;QACH,CAAC;IACH,CAAC;IAEQ,iBAAiB;QACxB,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAE1B,IAAI,IAAI,CAAC,QAAQ,EAAE,CAAC;YAClB,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,KAAK,aAAa,EAAE,CAAC;gBACzC,IAAI,CAAC,QAAQ,CAAC,IAAI,GAAG,WAAW,CAAC;gBACjC,IAAI,CAAC,QAAQ,CAAC,OAAO,GAAG,QAAQ,CAAC;YACnC,CAAC;QACH,CAAC;QAED,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,IAAI,CAAC,QAAQ,CAAC,aAAa,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,sBAAsB,EAAE,CAAC;gBACtE,IAAI,CAAC,KAAK,EAAE,CAAC;YACf,CAAC;QACH,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;CACF,CAAA;AAznCC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;0DACS;AAGpC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;uDACD;AAG1B;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;mEACF;AAG1B;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;0DACE;AAG7B;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;wEACG;AAG/B;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;8DACP;AAGrB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;2DACV;AAGlB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;8DACP;AAGrB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;+DACN;AAGtB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;+DACN;AAGtB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;mEAC+B;AAGzD;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;gEACL;AAGtB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;0DACX;AAtCN,wBAAwB;IADpC,aAAa,CAAC,6BAA6B,CAAC;GAChC,wBAAwB,CA2nCpC","sourcesContent":["import { html, css, nothing, TemplateResult } from \"lit\";\nimport { property, customElement } from \"lit/decorators.js\";\n\nimport * as linkify from \"linkifyjs\";\nimport linkifyHtml from \"linkify-html\";\n\nimport \"@material/web/select/outlined-select.js\";\nimport \"@material/web/select/select-option.js\";\n\nimport \"@material/web/checkbox/checkbox.js\";\nimport \"@material/web/textfield/filled-text-field.js\";\nimport \"@material/web/radio/radio.js\";\n\nimport { ifDefined } from \"lit/directives/if-defined.js\";\nimport { unsafeHTML } from \"lit/directives/unsafe-html.js\";\n\nimport \"./yp-simple-html-editor.js\";\n\nimport { YpSimpleHtmlEditor } from \"./yp-simple-html-editor.js\";\nimport { YpBaseElement } from \"../common/yp-base-element.js\";\n\nimport { TextField } from \"@material/web/textfield/internal/text-field.js\";\nimport { Checkbox } from \"@material/web/checkbox/internal/checkbox.js\";\nimport { Radio } from \"@material/web/radio/internal/radio.js\";\n\n@customElement(\"yp-structured-question-edit\")\nexport class YpStructuredQuestionEdit extends YpBaseElement {\n  @property({ type: Object })\n  question!: YpStructuredQuestionData;\n\n  @property({ type: Number })\n  index: number | undefined;\n\n  @property({ type: Boolean })\n  hideQuestionIndex = false;\n\n  @property({ type: String })\n  formName: string | undefined;\n\n  @property({ type: Boolean })\n  dontFocusFirstQuestion = false;\n\n  @property({ type: Boolean })\n  useSmallFont = false;\n\n  @property({ type: Boolean })\n  longFocus = false;\n\n  @property({ type: Boolean })\n  isLastRating = false;\n\n  @property({ type: Boolean })\n  isFirstRating = false;\n\n  @property({ type: Boolean })\n  isFromNewPost = false;\n\n  @property({ type: Array })\n  structuredAnswers: Array<YpStructuredAnswer> | undefined;\n\n  @property({ type: Number })\n  debounceTimeMs = 2000;\n\n  @property({ type: Boolean })\n  disabled = false;\n\n  radioKeypress = false;\n\n  debunceChangeEventTimer: ReturnType<typeof setTimeout> | undefined;\n\n  override updated(\n    changedProperties: Map<string | number | symbol, unknown>\n  ): void {\n    super.updated(changedProperties);\n\n    if (changedProperties.has(\"structuredAnswers\")) {\n      this._structuredAnsweredChanged();\n    }\n  }\n\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        :host {\n          display: block;\n          font-size: 16px;\n        }\n\n        md-filled-text-field {\n          --md-filled-field-container-color: var(\n            --md-sys-color-surface\n          ) !important;\n        }\n\n        a {\n        }\n\n        .question {\n          margin-top: 32px;\n          margin-bottom: 8px;\n          font-size: 18px;\n          line-height: 1.5;\n        }\n\n        .question[use-small-font] {\n          font-size: 16px;\n        }\n\n        hr {\n          border-top: 2px dashed var(--accent-color);\n          margin-top: 48px;\n          margin-bottom: 32px;\n        }\n\n        .general {\n        }\n\n        .noBottomMargin {\n          margin-bottom: 0;\n        }\n\n        .header[is-not-first] {\n          margin-top: 54px;\n        }\n\n        md-menu {\n          margin-top: 16px;\n        }\n\n        .numberInput {\n        }\n\n        md-checkbox {\n          margin-bottom: 16px;\n        }\n\n        md-filled-text-field {\n          width: 100%;\n        }\n\n        md-filled-text-field[use-small-font],\n        md-filled-text-field[use-small-font] {\n          --md-filled-text-field-container-label: {\n            font-size: 16px;\n          }\n        }\n\n        md-filled-text-field {\n          margin-bottom: 32px;\n        }\n\n        .radioGroup {\n          margin-top: 16px;\n          margin-bottom: 16px;\n          font-size: 16px;\n        }\n\n        .radioLabel {\n          width: 100%;\n          margin: 16px;\n          margin-bottom: 8px;\n        }\n\n        md-checkbox {\n          margin-left: 8px;\n        }\n\n        .checkboxLabel {\n          width: 100%;\n          align-self: start;\n          margin-left: 12px;\n        }\n\n        md-radio {\n          width: 40px;\n        }\n\n        .checkBoxesLabel {\n          margin-bottom: 36px;\n        }\n\n        .radiosLabel {\n          margin-bottom: 0px;\n          margin-top: 42px;\n        }\n\n        .radiosLabel[is-first-rating] {\n          margin-top: 42px;\n        }\n\n        md-filled-text-field.textAreaLong {\n          --md-filled-text-field-container: {\n            margin: 0;\n            padding: 0;\n          }\n        }\n\n        md-filled-text-field.textAreaLong {\n          --md-filled-text-field-container: {\n            margin: 0;\n            padding: 0;\n          }\n        }\n\n        .longQuestion {\n          font-size: 18px;\n          padding-bottom: 0;\n          margin-bottom: 0;\n        }\n\n        .longQuestion[use-small-font] {\n          font-size: 16px;\n        }\n\n        .longQuestion[is-from-new-post] {\n        }\n\n        .question[is-from-new-post] {\n        }\n\n        .longQuestion[has-content] {\n          font-size: 12px;\n        }\n\n        .longQuestion[has-focus] {\n        }\n\n        md-checkbox {\n        }\n\n        .general[less-bottom-margin] {\n        }\n\n        .general[extra-top-margin] {\n        }\n\n        .lessBottomMargin {\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n\n        .header {\n          font-size: 26px;\n          font-weight: bold;\n          line-height: 1.5;\n        }\n\n        .header[is-first] {\n          background-color: var(--md-sys-color-primary-container);\n          color: var(--md-sys-color-on-primary-container);\n          font-size: 32px;\n          padding: 24px;\n        }\n\n        @media (min-width: 800px) {\n          md-filled-text-field[half-width-desktop] {\n            width: 50%;\n          }\n\n          :host {\n            padding: 0;\n            margin: 0;\n          }\n        }\n\n        md-radio {\n        }\n\n        .specifyInput {\n          max-width: 220px;\n          margin-left: 48px;\n          margin-top: 0px;\n          margin-bottom: 0;\n        }\n\n        .specifyCheckBox {\n          margin-left: 42px;\n          margin-bottom: 12px;\n        }\n\n        .error {\n          border: 2px solid var(--md-sys-color-error);\n          padding: 6px;\n          margin: 6px;\n        }\n\n        @media (max-width: 600px) {\n          .header {\n            font-size: 22px;\n          }\n\n          .header[is-first] {\n            font-size: 24px;\n          }\n        }\n      `,\n    ];\n  }\n\n  get value() {\n    const answer = this.getAnswer(true);\n    if (answer) {\n      return answer.value;\n    } else {\n      return null;\n    }\n  }\n\n  set value(value: any) {\n    this.setAnswerAfterUpdate(value);\n  }\n\n  async setAnswerAfterUpdate(value: any) {\n    await this.updateComplete;\n    this.setAnswer(value);\n  }\n\n  renderTextField(skipLabel = false) {\n    return html`\n      <md-filled-text-field\n        id=\"structuredQuestion_${this.index}\"\n        .value=\"${(this.question.value as string) || \"\"}\"\n        .label=\"${!skipLabel ? this.textWithIndex : \"\"}\"\n        name=\"${this.formName || \"\"}\"\n        ?use-small-font=\"${this.useSmallFont}\"\n        .title=\"${this.question.text}\"\n        @keypress=\"${this._keyPressed}\"\n        .pattern=\"${this.question.pattern || \"\"}\"\n        type=\"text\"\n        .allowedPattern=\"${this.isNumberSubType ? \"[0-9]\" : \"\"}\"\n        ?half-width-desktop=\"${this.question.halfWidthDesktop}\"\n        @change=\"${(e: any) => {\n          e.detail = { value: e.currentTarget.value };\n          this._debounceChangeEvent(e);\n        }}\"\n        ?required=\"${this.question.required}\"\n        maxlength=\"${ifDefined(this.question.maxLength || undefined)}\"\n      >\n      </md-filled-text-field>\n    `;\n  }\n\n  renderTextFieldLong() {\n    return html`\n      <div\n        class=\"question general longQuestion\"\n        ?is-from-new-post=\"${this.isFromNewPost}\"\n        ?has-focus=\"${this.longFocus}\"\n        id=\"structuredQuestionIntro_${this.index}\"\n      >\n        ${unsafeHTML(this.textWithIndex)}\n      </div>\n      ${this.renderTextField(true)}\n    `;\n  }\n\n  renderTextArea(skipLabel = false) {\n    if (this.question.richTextAllowed) {\n      return html` <yp-simple-html-editor\n        id=\"structuredQuestion_${this.index}\"\n        .question=\"${this.question}\"\n        @focus=\"${this.setLongFocus}\"\n        @blur=\"${this.setLongUnFocus}\"\n      >\n      </yp-simple-html-editor>`;\n    } else {\n      return html`\n        <md-filled-text-field\n          id=\"structuredQuestion_${this.index}\"\n          data-type=\"text\"\n          type=\"textarea\"\n          .label=\"${!skipLabel ? this.textWithIndex : \"\"}\"\n          .value=\"${(this.question.value as string) || \"\"}\"\n          minlength=\"2\"\n          ?charCounter=\"${this.question.charCounter != undefined\n            ? this.question.charCounter\n            : true}\"\n          .pattern=\"${this.question.pattern || \"\"}\"\n          @focus=\"${this.setLongFocus}\"\n          @blur=\"${this.setLongUnFocus}\"\n          ?use-small-font=\"${this.useSmallFont}\"\n          @change=\"${(e: any) => {\n            e.detail = { value: e.currentTarget.value };\n            this._debounceChangeEvent(e);\n          }}\"\n          name=\"${this.formName || \"\"}\"\n          rows=\"${ifDefined(this.question.rows || 3)}\"\n          max-rows=\"5\"\n          maxrows=\"5\"\n          ?required=\"${this.question.required}\"\n          maxlength=\"${ifDefined(this.question.maxLength || undefined)}\"\n        >\n        </md-filled-text-field>\n      `;\n    }\n  }\n\n  renderTextAreaLong() {\n    return html`\n      <div\n        class=\"question general longQuestion\"\n        ?is-from-new-post=\"${this.isFromNewPost}\"\n        ?has-focus=\"${this.longFocus}\"\n        ?is-from-new-post=\"${this.isFromNewPost}\"\n        ?has-content=\"${this.question.value}\"\n        ?use-small-font=\"${this.useSmallFont}\"\n        id=\"structuredQuestionIntro_${this.index}\"\n      >\n        ${unsafeHTML(this.textWithLinks)}\n      </div>\n      ${this.renderTextArea(true)}\n    `;\n  }\n\n  renderTextHeader() {\n    return html`\n      <div\n        class=\"header\"\n        ?is-not-first=\"${this.index}\"\n        ?is-first=\"${!this.index}\"\n      >\n        ${this.question.text}\n      </div>\n    `;\n  }\n\n  renderTextDescription() {\n    return html`\n      <div\n        class=\"question general\"\n        id=\"structuredQuestionQuestion_${this.index}\"\n        ?is-from-new-post=\"${this.isFromNewPost}\"\n        ?use-small-font=\"${this.useSmallFont}\"\n        ?extra-top-margin=\"${this.question.extraTopMargin}\"\n        ?less-bottom-margin=\"${this.question.lessBottomMargin}\"\n      >\n        ${unsafeHTML(this.textWithLinks)}\n      </div>\n    `;\n  }\n\n  renderSeperator() {\n    return html` <hr /> `;\n  }\n\n  renderRadioButton(radioButton: YpRadioButtonData, buttonIndex: number) {\n    return html`\n      <label class=\"layout horizontal center-center\">\n        <md-radio\n          ?use-small-font=\"${this.useSmallFont}\"\n          @keypress=\"${this.setRadioEventType}\"\n          @change=\"${this._radioChanged}\"\n          .value=\"${radioButton.text}\"\n          id=\"structuredQuestionRadioGroup_${this.index}_${buttonIndex}\"\n          .name=\"radioButtons${this.index}\"\n        >\n        </md-radio>\n        <div class=\"radioLabel\">${radioButton.text}</div>\n      </label>\n    `;\n  }\n\n  renderRadios() {\n    return this.question.radioButtons\n      ? html`\n          <div\n            class=\"question general radiosLabel\"\n            ?use-small-font=\"${this.useSmallFont}\"\n            ?is-from-new-post=\"${this.isFromNewPost}\"\n            ?is-first-rating=\"${this.isFirstRating}\"\n            id=\"structuredQuestionIntro_${this.index}\"\n          >\n            ${unsafeHTML(this.textWithLinks)}\n          </div>\n          <div\n            ?required=\"${this.question.required}\"\n            id=\"structuredQuestion_${this.index}\"\n            .name=\"structuredQuestionRadioGroup_${this.index}\"\n            class=\"${this._getRadioClass()} radioGroup\"\n          >\n            ${this.question.radioButtons.map(\n              (radioButton, buttonIndex) => html`\n                ${!radioButton.isSpecify\n                  ? html` ${this.renderRadioButton(radioButton, buttonIndex)} `\n                  : html`\n                      ${this.renderRadioButton(radioButton, buttonIndex)}\n                      <md-filled-text-field\n                        class=\"specifyInput\"\n                        hidden\n                        @change=\"${this._debounceChangeEvent}\"\n                        .maxlength=\"${this.question.maxLength || 5000}\"\n                        .pattern=\"${radioButton.subType === \"number\"\n                          ? \"[0-9]\"\n                          : \"\"}\"\n                        type=\"text\"\n                        id=\"structuredQuestion_${this\n                          .index}_${buttonIndex}__radioOther\"\n                      ></md-filled-text-field>\n                    `}\n              `\n            )}\n          </div>\n        `\n      : nothing;\n  }\n\n  renderCheckbox(text: string, buttonIndex: number, useTopLevelId = false) {\n    const id = useTopLevelId\n      ? `structuredQuestion_${this.index}`\n      : `structuredQuestionCheckbox_${this.index}_${buttonIndex}`;\n    return html`\n      <label class=\"layout horizontal center-center\">\n        <md-checkbox\n          id=\"${id}\"\n          .name=\"${this.formName || \"\"}\"\n          ?disabled=\"${this.disabled}\"\n          ?checked=\"${(this.question.value as boolean) || false}\"\n          @change=\"${this._checkboxChanged}\"\n        >\n        </md-checkbox>\n        <div class=\"checkboxLabel\">${text}</div>\n      </label>\n    `;\n  }\n\n  renderCheckboxes() {\n    return this.question.checkboxes\n      ? html`\n          <div\n            id=\"structuredQuestionIntro_${this.index}\"\n            class=\"question general checkBoxesLabel\"\n            ?is-from-new-post=\"${this.isFromNewPost}\"\n            ?use-small-font=\"${this.useSmallFont}\"\n          >\n            ${unsafeHTML(this.textWithLinks)}\n          </div>\n          <div\n            id=\"structuredQuestion_${this.index}\"\n            data-type=\"checkboxes\"\n            class=\"layout vertical\"\n          >\n            ${this.question.checkboxes.map(\n              (checkbox, buttonIndex) => html`\n                ${!checkbox.isSpecify\n                  ? html` ${this.renderCheckbox(checkbox.text, buttonIndex)} `\n                  : html`\n                      ${this.renderCheckbox(checkbox.text, buttonIndex)}\n                      <md-filled-text-field\n                        class=\"specifyInput specifyCheckBox\"\n                        hidden\n                        @change=\"${this._debounceChangeEvent}\"\n                        .type=\"${checkbox.subType || \"text\"}\"\n                        id=\"structuredQuestion_${this\n                          .index}_${buttonIndex}_checkboxOther\"\n                      ></md-filled-text-field>\n                    `}\n              `\n            )}\n          </div>\n        `\n      : nothing;\n  }\n\n  //TODO: Get this working\n  renderDropdown() {\n    return html`\n      <md-outlined-select\n        .label=\"${this.textWithIndex}\"\n        @change=\"${this._dropDownChanged}\"\n      >\n        ${this.question.dropdownOptions?.map(\n          (dropDownOptions) => html`\n            <md-select-option name=\"${dropDownOptions.text}\"\n              >${dropDownOptions.text}</md-select-option\n            >\n          `\n        )}\n      </md-outlined-select>\n    `;\n  }\n\n  _dropDownChanged() {}\n\n  override render(): TemplateResult | undefined | {} {\n    let question: TemplateResult | undefined | {};\n\n    let questionType = this.question.type;\n    if (!questionType) questionType = \"textarea\";\n\n    questionType = questionType.toLowerCase();\n\n    switch (questionType) {\n      case \"textarea\":\n        question = this.renderTextArea();\n        break;\n      case \"textarealong\":\n        question = this.renderTextAreaLong();\n        break;\n      case \"textfield\":\n        question = this.renderTextField();\n        break;\n      case \"textfieldlong\":\n        question = this.renderTextFieldLong();\n        break;\n      case \"textheader\":\n        question = this.renderTextHeader();\n        break;\n      case \"textdescription\":\n        question = this.renderTextDescription();\n        break;\n      case \"checkboxes\":\n        question = this.renderCheckboxes();\n        break;\n      case \"checkbox\":\n        question = this.renderCheckbox(this.question.text, 0, true);\n        break;\n      case \"radios\":\n        question = this.renderRadios();\n        break;\n      case \"seperator\":\n        question = this.renderSeperator();\n        break;\n      /*case 'dropdown':\n        page = this.renderSeperator()\n        break*/\n    }\n\n    return html`<div class=\"${this.classList.contains(\"error\") ? \"error\" : \"\"}\">\n      ${question}\n    </div>`;\n  }\n\n  setLongUnFocus() {\n    this.longFocus = false;\n  }\n\n  setLongFocus() {\n    this.longFocus = true;\n  }\n\n  get isNumberSubType() {\n    return this.question && this.question.subType === \"number\";\n  }\n\n  _keyPressed(event: KeyboardEvent) {\n    if (event.which == 13 || event.keyCode == 13) {\n      this.fire(\"yp-goto-next-index\", { currentIndex: this.index });\n    }\n  }\n\n  setRadioEventType() {\n    this.radioKeypress = true;\n  }\n\n  _sendDebouncedChange(event: CustomEvent) {\n    this.fire(\"yp-answer-content-changed\", event.detail);\n    if (!this.debunceChangeEventTimer) {\n      this.debunceChangeEventTimer = setTimeout(() => {\n        this.debunceChangeEventTimer = undefined;\n        this.fire(\"yp-answer-content-changed-debounced\", event.detail);\n        this._resizeScrollerIfNeeded();\n      }, this.debounceTimeMs);\n    }\n  }\n\n  _debounceChangeEvent(event: any) {\n    event.stopPropagation();\n    this._sendDebouncedChange(event);\n  }\n\n  get textWithIndex() {\n    return this.question.text;\n    //TODO: Think about if we need that\n    /*if (question.questionIndex && !this.hideQuestionIndex) {\n      return question.questionIndex + \". \" + question.text\n    } else {\n      return question.text\n    }*/\n  }\n\n  _getRadioClass() {\n    if (\n      this.question.subType &&\n      this.question.subType === \"rating\" &&\n      !this.isLastRating\n    ) {\n      return \"layout vertical wrap lessBottomMargin\";\n    } else if (this.question.subType && this.question.subType === \"rating\") {\n      return \"layout vertical wrap\";\n    } else {\n      return \"layout vertical\";\n    }\n  }\n\n  get textWithLinks() {\n    let text = linkifyHtml(this.question.text);\n    text = text.replace(/\\n/g, \"<br>\");\n    return text;\n  }\n\n  _resizeScrollerIfNeeded() {\n    this.fire(\"resize-scroller\");\n  }\n\n  //TODO: Finish this\n  checkValidity() {\n    const liveQuestion = this.$$(\"#structuredQuestion_\" + this.index) as\n      | HTMLInputElement\n      | TextField;\n    console.log(`liveQuestion: ${liveQuestion}`);\n    if (liveQuestion) {\n      if (liveQuestion.dataset.type === \"dropdown\") {\n        return true; // DO something if required\n      } else if (\n        liveQuestion.name &&\n        liveQuestion.name.indexOf(\"RadioGroup\") > -1\n      ) {\n        return this.checkRadioButtonValidity();\n      } else if (liveQuestion.dataset.type === \"checkboxes\") {\n        return true; // DO something if required\n      } else {\n        if (\n          (liveQuestion as TextField).value &&\n          (liveQuestion as TextField).value.length > 0\n        ) {\n          console.log(`liveQuestion: textfield has length`);\n          return true;\n        } else {\n          console.log(`liveQuestion: textfield has no length`);\n          return false;\n        }\n      }\n    } else {\n      return true;\n    }\n  }\n\n  get isInputField() {\n    return (\n      this.question.type &&\n      (this.question.type.toLowerCase() === \"textfield\" ||\n        this.question.type.toLowerCase() === \"textfieldlong\" ||\n        this.question.type.toLowerCase() === \"textarea\" ||\n        this.question.type.toLowerCase() === \"textarealong\" ||\n        this.question.type.toLowerCase() === \"numberfield\")\n    );\n  }\n\n  override focus() {\n    if (this.isInputField) {\n      const item = this.$$(\"#structuredQuestion_\" + this.index);\n      if (item) {\n        setTimeout(() => {\n          item.focus();\n        }, 250);\n      }\n    }\n  }\n\n  cleanValue(value: string) {\n    if (value) {\n      return value.replace(/,/g, \"\").replace(/:/g, \"\");\n    } else {\n      console.warn(\"No value for cleanValue\");\n      return \"\";\n    }\n  }\n\n  checkRadioButtonValidity() {\n    if (!this.question.required) return true;\n    const radio = this.$$(\"#structuredQuestion_\" + this.index) as Radio;\n\n    if (radio.checked) return true;\n\n    let valid = false;\n\n    this.question.radioButtons?.forEach((button, buttonIndex) => {\n      const radioButtonElement = this.$$(\n        \"#structuredQuestionRadioGroup_\" + this.index + \"_\" + buttonIndex\n      ) as Radio;\n      if (radioButtonElement && radioButtonElement.checked) {\n        valid = true;\n      }\n    });\n\n    return valid;\n  }\n\n  getAnswer(suppressNotFoundError = false): YpStructuredAnswer | undefined {\n    const item = this.$$(\"#structuredQuestion_\" + this.index);\n\n    if (item) {\n      let value;\n\n      if (this.isInputField) {\n        value = (item as HTMLInputElement).value;\n      } else if (this.question.type!.toLowerCase() === \"radios\") {\n        let selectedRadio;\n        this.question.radioButtons?.forEach((button, buttonIndex) => {\n          const radioButtonElement = this.$$(\n            \"#structuredQuestionRadioGroup_\" + this.index + \"_\" + buttonIndex\n          ) as Radio;\n          if (\n            radioButtonElement &&\n            button.text === radioButtonElement.value &&\n            radioButtonElement.checked\n          ) {\n            selectedRadio = radioButtonElement;\n            if (button.isSpecify) {\n              const radioInput = this.$$(\n                \"#structuredQuestion_\" +\n                  this.index +\n                  \"_\" +\n                  buttonIndex +\n                  \"__radioOther\"\n              ) as TextField;\n              if (radioInput) {\n                value =\n                  selectedRadio.value + \":\" + this.cleanValue(radioInput.value);\n              } else {\n                value = selectedRadio.value;\n              }\n            } else {\n              value = selectedRadio.value;\n            }\n          }\n        });\n      } else if (this.question.type!.toLowerCase() === \"checkboxes\") {\n        let selectedCheckboxes = \"\";\n        for (let i = 0; i < item.children.length; i++) {\n          const checkbox = item.children[i].children[0] as Checkbox;\n          if (checkbox && checkbox.checked) {\n            const checkboxSubId: string = checkbox.id.split(\"_\")[2];\n            const selectedCheckbox =\n              this.question.checkboxes![parseInt(checkboxSubId)];\n            if (selectedCheckbox.isSpecify) {\n              const checkboxInput = this.$$(\n                \"#structuredQuestion_\" +\n                  this.index +\n                  \"_\" +\n                  checkboxSubId +\n                  \"_checkboxOther\"\n              );\n              if (checkboxInput && (checkboxInput as TextField).value !== \"\") {\n                selectedCheckboxes +=\n                  selectedCheckbox.text +\n                  \":\" +\n                  this.cleanValue((checkboxInput as TextField).value) +\n                  \",\";\n              } else {\n                selectedCheckboxes += selectedCheckbox.text + \",\";\n              }\n            } else {\n              selectedCheckboxes += selectedCheckbox.text + \",\";\n            }\n          }\n        }\n        if (selectedCheckboxes !== \"\") {\n          value = selectedCheckboxes.substring(\n            0,\n            selectedCheckboxes.length - 1\n          );\n        }\n      } else if (this.question.type!.toLowerCase() === \"checkbox\") {\n        value = (item as Checkbox).checked;\n      }\n\n      if (value != undefined && this.question.uniqueId) {\n        return { uniqueId: this.question.uniqueId, value: value };\n      } else {\n        console.error(`Can't find answer for question: ${this.question.text}`);\n        return undefined;\n      }\n    } else if (!suppressNotFoundError) {\n      console.error(\"Can't find question item for \" + this.question.text);\n    }\n\n    return undefined;\n  }\n\n  setAnswer(value: string) {\n    if (value != null) {\n      const item = this.$$(\"#structuredQuestion_\" + this.index);\n\n      if (item && this.question.type) {\n        if (this.isInputField) {\n          if (this.question.richTextAllowed) {\n            (item as YpSimpleHtmlEditor).setRichValue(value);\n          } else {\n            (item as HTMLInputElement).value = value;\n          }\n        } else if (\n          this.question.type &&\n          this.question.type.toLowerCase() === \"radios\"\n        ) {\n          let specifyInput: string;\n          if (value.indexOf(\":\") > -1) {\n            const splitText = value.split(\":\");\n            value = splitText[0];\n            specifyInput = splitText[1];\n          }\n\n          this.question.radioButtons?.forEach((button, buttonIndex) => {\n            if (button.text === value) {\n              const radioButtonElement = this.$$(\n                \"#structuredQuestionRadioGroup_\" +\n                  this.index +\n                  \"_\" +\n                  buttonIndex\n              ) as Radio;\n              if (radioButtonElement) {\n                radioButtonElement.checked = true;\n                if (specifyInput) {\n                  const input = this.$$(\n                    \"#structuredQuestion_\" +\n                      this.index +\n                      \"_\" +\n                      buttonIndex +\n                      \"__radioOther\"\n                  );\n                  if (input) {\n                    input.hidden = false;\n                    (input as HTMLInputElement).value = specifyInput;\n                  } else {\n                    console.error(\"Can't find checkbox specify value\");\n                  }\n                }\n              }\n            }\n          });\n        } else if (\n          this.question.type.toLowerCase() === \"checkboxes\" &&\n          this.question.checkboxes\n        ) {\n          const checkboxValues = value.split(\",\");\n          const specifyInputs: Record<string, string> = {};\n          let hasSpecifyInputs = false;\n          for (let i = 0; i < checkboxValues.length; i++) {\n            if (checkboxValues[i].indexOf(\":\") > -1) {\n              const splitText = checkboxValues[i].split(\":\");\n              checkboxValues[i] = splitText[0];\n              specifyInputs[splitText[0]] = splitText[1];\n              hasSpecifyInputs = true;\n            }\n          }\n          for (let i = 0; i < item.children.length; i++) {\n            if (item.children[i]) {\n              const checkboxSubId = item.children[i].id.split(\"_\")[2];\n              const selectedCheckbox =\n                this.question.checkboxes[parseInt(checkboxSubId)];\n              if (selectedCheckbox) {\n                if (checkboxValues.indexOf(selectedCheckbox.text) > -1) {\n                  (item.children[i] as Checkbox).checked = true;\n                  if (hasSpecifyInputs) {\n                    const input = this.$$(\n                      \"#structuredQuestion_\" +\n                        this.index +\n                        \"_\" +\n                        checkboxSubId +\n                        \"_checkboxOther\"\n                    ) as TextField;\n                    if (input && specifyInputs[selectedCheckbox.text]) {\n                      input.hidden = false;\n                      input.value = specifyInputs[selectedCheckbox.text];\n                    } else {\n                      console.error(\"Can't find checkbox specify value\");\n                    }\n                  }\n                }\n              } else {\n                console.debug(\"No selectedCheckbox\");\n              }\n            }\n          }\n        } else if (this.question.type.toLowerCase() === \"checkbox\") {\n          if (value) {\n            (item as Checkbox).checked = true;\n          }\n        }\n      } else {\n        console.error(\"cant find answer for item index \" + this.index);\n      }\n    }\n  }\n\n  hide() {\n    const item = this.$$(\"#structuredQuestion_\" + this.index);\n    if (item) {\n      item.hidden = true;\n\n      const introItem = this.$$(\"#structuredQuestionIntro_\" + this.index);\n      if (introItem) {\n        introItem.hidden = true;\n      }\n    } else {\n      console.error(\"Can't find question index: \" + this.index);\n    }\n  }\n\n  show() {\n    const item = this.$$(\"#structuredQuestion_\" + this.index);\n    if (item) {\n      item.hidden = false;\n      const introItem = this.$$(\"#structuredQuestionIntro_\" + this.index);\n      if (introItem) {\n        introItem.hidden = false;\n      }\n    } else {\n      console.error(\"Can't find question index: \" + this.index);\n    }\n  }\n\n  _checkboxChanged(event: CustomEvent) {\n    if (this.question.checkboxes && (event.target as Checkbox).checked) {\n      const checkboxSubId: string = (event.target as Checkbox).id.split(\"_\")[2];\n\n      const selectedCheckbox =\n        this.question.checkboxes[parseInt(checkboxSubId)];\n      if (selectedCheckbox.isSpecify) {\n        const checkboxInput = this.$$(\n          \"#structuredQuestion_\" +\n            this.index +\n            \"_\" +\n            checkboxSubId +\n            \"_checkboxOther\"\n        ) as HTMLInputElement;\n        if (checkboxInput) {\n          checkboxInput.hidden = false;\n          if (!checkboxInput.value) {\n            checkboxInput.value = \"\";\n          }\n          checkboxInput.focus();\n        } else {\n          console.error(\"Can't find checkbox input\");\n        }\n      }\n    }\n\n    if (this.question.maxLength) {\n      let checkedCount = 0;\n      const item = this.$$(\n        \"#structuredQuestion_\" + this.index\n      ) as HTMLInputElement;\n      for (let i = 0; i < item.children.length; i++) {\n        if (\n          item.children[i].tagName.toLowerCase() === \"md-checkbox\" &&\n          (item.children[i] as Checkbox).checked\n        ) {\n          checkedCount += 1;\n        }\n      }\n\n      if (checkedCount >= this.question.maxLength) {\n        for (let x = 0; x < item.children.length; x++) {\n          if (\n            item.children[x].tagName.toLowerCase() === \"md-checkbox\" &&\n            !(item.children[x] as Checkbox).checked\n          ) {\n            (item.children[x] as HTMLInputElement).disabled = true;\n          }\n        }\n      } else {\n        for (let n = 0; n < item.children.length; n++) {\n          if (\n            item.children[n].tagName.toLowerCase() === \"md-checkbox\" &&\n            (item.children[n] as HTMLInputElement).disabled\n          ) {\n            (item.children[n] as HTMLInputElement).disabled = false;\n          }\n        }\n      }\n    }\n\n    event.stopPropagation();\n    this._sendDebouncedChange({\n      detail: { value: (event.target as Checkbox).checked },\n    } as CustomEvent);\n  }\n\n  _radioChanged(event: CustomEvent) {\n    event.stopPropagation();\n    if (this.question.radioButtons) {\n      let selectedRadio;\n\n      this.question.radioButtons.forEach((button, buttonIndex) => {\n        if (button.text === (event.target as Radio).value) {\n          selectedRadio = button;\n          this._sendDebouncedChange({\n            detail: { value: button.text },\n          } as CustomEvent);\n          if (selectedRadio.skipTo) {\n            this.fire(\"yp-skip-to-unique-id\", {\n              fromId: this.question.uniqueId,\n              toId: selectedRadio.skipTo,\n            });\n          } else if (selectedRadio.isSpecify) {\n            const input = this.$$(\n              \"#structuredQuestion_\" +\n                this.index +\n                \"_\" +\n                buttonIndex +\n                \"__radioOther\"\n            );\n            if (input) {\n              input.hidden = false;\n              input.focus();\n            } else {\n              console.error(\"Can't find radio specify value\");\n            }\n          } else {\n            setTimeout(() => {\n              if (!this.radioKeypress) {\n                this.fire(\"yp-goto-next-index\", { currentIndex: this.index });\n              }\n            });\n\n            let hasSkipToId;\n\n            this.question.radioButtons?.forEach((button) => {\n              if (button.skipTo) {\n                hasSkipToId = button.skipTo;\n              }\n            });\n\n            if (hasSkipToId) {\n              this.fire(\"yp-open-to-unique-id\", {\n                fromId: this.question.uniqueId,\n                toId: hasSkipToId,\n              });\n            }\n          }\n        }\n      });\n    }\n  }\n\n  _structuredAnsweredChanged() {\n    if (this.structuredAnswers && this.question.uniqueId) {\n      const BreakException = {};\n      try {\n        this.structuredAnswers.forEach((answer) => {\n          if (this.question.uniqueId === answer.uniqueId && answer.value) {\n            setTimeout(() => {\n              this.setAnswer(answer.value as string);\n            }, 100);\n            throw BreakException;\n          }\n        });\n      } catch (e) {\n        if (e !== BreakException) throw e;\n      }\n    }\n  }\n\n  override connectedCallback() {\n    super.connectedCallback();\n\n    if (this.question) {\n      if (this.question.type === \"numberField\") {\n        this.question.type = \"textField\";\n        this.question.subType = \"number\";\n      }\n    }\n\n    setTimeout(() => {\n      if (this.question.questionIndex === 1 && !this.dontFocusFirstQuestion) {\n        this.focus();\n      }\n    }, 500);\n  }\n}\n"]}