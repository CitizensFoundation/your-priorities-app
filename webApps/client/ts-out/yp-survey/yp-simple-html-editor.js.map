{"version":3,"file":"yp-simple-html-editor.js","sourceRoot":"","sources":["../../src/yp-survey/yp-simple-html-editor.ts"],"names":[],"mappings":"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","sourcesContent":["/* eslint-disable @typescript-eslint/ban-ts-ignore */\nimport { html, css, PropertyValueMap, nothing } from \"lit\";\nimport { customElement, property } from \"lit/decorators.js\";\n\nimport { YpBaseElement } from \"../common/yp-base-element.js\";\nimport { ShadowStyles } from \"../common/ShadowStyles.js\";\n\nimport \"@material/web/iconbutton/icon-button.js\";\nimport \"@material/web/iconbutton/icon-button.js\";\nimport { MdDialog } from \"@material/web/dialog/dialog.js\";\nimport { MdFilledTextField } from \"@material/web/textfield/filled-text-field.js\";\n\n@customElement(\"yp-simple-html-editor\")\nexport class YpSimpleHtmlEditor extends YpBaseElement {\n  @property({ type: Object })\n  question: YpStructuredQuestionData = { maxLength: 0, text: \"\", type: \"html\" };\n\n  @property({ type: Number })\n  index: number | undefined;\n\n  @property({ type: Boolean })\n  useSmallFont = false;\n\n  @property({ type: String })\n  value = \"\";\n\n  @property({ type: Number })\n  characterCount = 0;\n\n  @property({ type: Boolean })\n  hasFocus = false;\n\n  @property({ type: Boolean })\n  allowFirefoxFocusHack = true;\n\n  @property({ type: Boolean })\n  showErrorLine = false;\n\n  @property({ type: Object })\n  selectedImage: HTMLImageElement | undefined;\n\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        :host {\n          display: inline-block;\n          margin-top: 8px;\n          width: 100%;\n          height: 300px;\n        }\n\n        md-filled-text-field {\n          margin-top: 8px;\n        }\n\n        #htmlEditor {\n          background-color: var(--md-sys-color-surface);\n          color: var(--md-sys-color-on-surface);\n          width: 100%;\n          border-top: 1px solid var(--md-sys-color-primary);\n          border-bottom: 1px solid var(--md-sys-color-primary);\n          outline: none;\n          overflow: auto;\n          padding-top: 8px;\n          padding-bottom: 8px;\n          transition: border-bottom-color 0.1s;\n        }\n\n        #htmlEditor:focus {\n          border-bottom: 2px solid var(--md-sys-color-primary);\n        }\n\n        #htmlEditor[has-error] {\n          border-bottom: 2px solid #dd2c00 !important;\n        }\n\n        .characterCounter {\n          font-size: 12px;\n          text-align: right;\n          width: 100%;\n          transition: color 0.1s;\n          margin-top: 1px;\n        }\n\n        .characterCounter[has-focus] {\n          margin-top: 0px;\n        }\n\n        .characterCounter[has-error] {\n          color: var(--md-sys-color-error);\n        }\n\n        md-icon-button {\n          margin-left: 4px;\n          margin-right: 4px;\n          margin-bottom: 4px;\n        }\n\n        .mainContainer {\n          max-width: 920px;\n        }\n\n        @media (max-width: 800px) {\n          #htmlEditor {\n            height: 220px;\n          }\n        }\n      `,\n    ];\n  }\n  _onWidthInput(event: CustomEvent) {\n    const valid = /^(\\d+px|\\d+%|auto)$/.test(\n      (event.target as MdFilledTextField).value\n    );\n    (event.target as MdFilledTextField).setCustomValidity(\n      valid ? \"\" : this.t(\"Enter a valid width (e.g., 100px or 100%)\")\n    );\n  }\n\n  _onHeightInput(event: CustomEvent) {\n    const valid = /^(\\d+px|\\d+%|auto)$/.test(\n      (event.target as MdFilledTextField).value\n    );\n    (event.target as MdFilledTextField).setCustomValidity(\n      valid ? \"\" : this.t(\"Enter a valid height (e.g., 100px or 100%)\")\n    );\n  }\n\n  _onMarginInput(event: CustomEvent) {\n    const valid = /^\\d*px$/.test((event.target as MdFilledTextField).value);\n    (event.target as MdFilledTextField).setCustomValidity(\n      valid ? \"\" : this.t(\"Enter a valid pixel value (e.g., 20px)\")\n    );\n  }\n\n  closeImageDialog() {\n    const dialog = this.$$(\"#resizeDialog\") as MdDialog;\n    if (dialog) {\n      dialog.open = false;\n    }\n  }\n\n  applyImageSize() {\n    const widthInput = (this.$$(\"#widthInput\") as MdFilledTextField).value;\n    const heightInput = (this.$$(\"#heightInput\") as MdFilledTextField).value;\n    const margin = (this.$$(\"#marginInput\") as MdFilledTextField).value;\n    if (this.selectedImage) {\n      this.selectedImage.style.width = widthInput;\n      this.selectedImage.style.height = heightInput;\n      this.selectedImage.style.margin = margin;\n    }\n    const dialog = this.$$(\"#resizeDialog\") as MdDialog;\n    if (dialog) {\n      dialog.open = false;\n    }\n  }\n\n  selectImage(image: HTMLImageElement) {\n    this.selectedImage = image; // Store reference to the selected image\n    const dialog = this.$$(\"#resizeDialog\") as MdDialog;\n    if (dialog) {\n      dialog.open = true; // Open the dialog\n    }\n  }\n\n  renderImageEditDialog() {\n    if (this.selectedImage) {\n      return html`<md-dialog\n        id=\"resizeDialog\"\n        aria-label=\"${this.t(\"resizeImage\")}\"\n      >\n        <form class=\"layout vertical\" slot=\"content\">\n          <md-filled-text-field\n            id=\"widthInput\"\n            label=\"${this.t(\"Width (e.g., 100px or 100%)\")}\"\n            .value=\"${this.selectedImage.style.width}\"\n            @input=\"${this._onWidthInput}\"\n          ></md-filled-text-field>\n          <md-filled-text-field\n            id=\"heightInput\"\n            label=\"${this.t(\"Height (e.g., 100px or 100%)\")}\"\n            .value=\"${this.selectedImage.style.height}\"\n            @input=\"${this._onHeightInput}\"\n          ></md-filled-text-field>\n          <md-filled-text-field\n            id=\"marginInput\"\n            .value=\"${this.selectedImage.style.margin}\"\n            label=\"${this.t(\"Margin (px)\")}\"\n            @input=\"${this._onMarginInput}\"\n          ></md-filled-text-field>\n        </form>\n        <div slot=\"actions\">\n          <md-outlined-button slot=\"actions\" @click=\"${this.closeImageDialog}\">\n            ${this.t(\"Close\")}\n          </md-outlined-button>\n          <md-outlined-button\n            dialogAction=\"apply\"\n            @click=\"${this.applyImageSize}\"\n          >\n            ${this.t(\"apply\")}\n          </md-outlined-button>\n        </div>\n      </md-dialog>`;\n    } else {\n      return nothing;\n    }\n  }\n\n  override render() {\n    return html`\n      <div class=\"layout horizontal wrap mainContainer\">\n        <div class=\"layout horizontal\">\n          <md-icon-button\n            aria-label=\"${this.t(\"formatBold\")}\"\n            @mousedown=\"${this._toggleBold}\"\n            ><md-icon>format_bold</md-icon></md-icon-button\n          >\n          <md-icon-button\n            aria-label=\"${this.t(\"formatItalic\")}\"\n            @mousedown=\"${this._toggleItalic}\"\n            ><md-icon>format_italic</md-icon></md-icon-button\n          >\n          <md-icon-button\n            aria-label=\"${this.t(\"formatUnderline\")}\"\n            @mousedown=\"${this._toggleUnderline}\"\n            ><md-icon>format_underlined</md-icon></md-icon-button\n          >\n          <md-icon-button\n            aria-label=\"${this.t(\"formatListBullets\")}\"\n            @mousedown=\"${this._toggleListBullets}\"\n            ><md-icon>format_list_bulleted</md-icon></md-icon-button\n          >\n          <md-icon-button\n            aria-label=\"${this.t(\"formatListNumbered\")}\"\n            @mousedown=\"${this._toggleListNumbers}\"\n            ><md-icon>format_list_numbered</md-icon></md-icon-button\n          >\n        </div>\n        <div class=\"layout horizontal\">\n          <md-icon-button\n            aria-label=\"${this.t(\"formatLeft\")}\"\n            @mousedown=\"${this._toggleAlignLeft}\"\n            ><md-icon>format_align_left</md-icon></md-icon-button\n          >\n          <md-icon-button\n            aria-label=\"${this.t(\"formatCenter\")}\"\n            @mousedown=\"${this._toggleAlignCenter}\"\n            ><md-icon>format_align_center</md-icon></md-icon-button\n          >\n          <md-icon-button\n            aria-label=\"${this.t(\"formatRight\")}\"\n            @mousedown=\"${this._toggleAlignRight}\"\n            ><md-icon>format_align_right</md-icon></md-icon-button\n          >\n        </div>\n\n        <div class=\"layout horizontal\">\n          <md-icon-button\n            aria-label=\"${this.t(\"formatH1\")}\"\n            @mousedown=\"${this._toggleH1}\"\n            ><md-icon>format_h1</md-icon></md-icon-button\n          >\n          <md-icon-button\n            aria-label=\"${this.t(\"formatH2\")}\"\n            @mousedown=\"${this._toggleH2}\"\n            ><md-icon>format_h2</md-icon></md-icon-button\n          >\n          <md-icon-button\n            aria-label=\"${this.t(\"formatH3\")}\"\n            @mousedown=\"${this._toggleH3}\"\n            ><md-icon>format_h3</md-icon></md-icon-button\n          >\n          <md-icon-button\n            aria-label=\"${this.t(\"formatH4\")}\"\n            @mousedown=\"${this._toggleH4}\"\n            ><md-icon>format_h4</md-icon></md-icon-button\n          >\n          <md-icon-button\n            aria-label=\"${this.t(\"formatH5\")}\"\n            @mousedown=\"${this._toggleH5}\"\n            ><md-icon>format_h5</md-icon></md-icon-button\n          >\n          <md-icon-button\n            aria-label=\"${this.t(\"formatH6\")}\"\n            @mousedown=\"${this._toggleH6}\"\n            ><md-icon>format_h6</md-icon></md-icon-button\n          >\n          <md-icon-button\n            aria-label=\"${this.t(\"formatP\")}\"\n            @mousedown=\"${this._toggleP}\"\n            ><md-icon>format_paragraph</md-icon></md-icon-button\n          >\n          <md-icon-button\n            aria-label=\"${this.t(\"formatClear\")}\"\n            @mousedown=\"${this._clearFormat}\"\n            ><md-icon>format_clear</md-icon></md-icon-button\n          >\n        </div>\n      </div>\n      <div\n        id=\"htmlEditor\"\n        ?has-error=\"${this.showErrorLine}\"\n        @focus=\"${this._setFocus}\"\n        @blur=\"${this._setBlur}\"\n        contenteditable=\"true\"\n        spellcheck=\"false\"\n        @keydown=\"${this._keydown}\"\n        @paste=\"${this._paste}\"\n        @click=\"${this._changed}\"\n        @keyup=\"${this._changed}\"\n        @changed=\"${this._changed}\"\n      ></div>\n      <div\n        ?has-focus=\"${this.hasFocus}\"\n        ?has-error=\"${this.showErrorLine}\"\n        class=\"layout end characterCounter\"\n      >\n        ${this.characterCount}<span ?hidden=\"${!this.question.maxLength}\"\n          >/${this.question.maxLength}</span\n        >\n      </div>\n      ${this.renderImageEditDialog()}\n    `;\n  }\n\n  deselectImage() {\n    this.selectedImage = undefined;\n    const dialog = this.$$(\"#resizeDialog\") as MdDialog;\n    if (dialog) {\n      dialog.open = false;\n    }\n  }\n\n  _setFocus() {\n    this.hasFocus = true;\n\n    if (this._isFirefox() && this.allowFirefoxFocusHack) {\n      setTimeout(() => {\n        this.allowFirefoxFocusHack = false;\n        (this.shadowRoot!.querySelector(\n          \"#htmlEditor\"\n        ) as HTMLInputElement)!.blur();\n        (this.shadowRoot!.querySelector(\n          \"#htmlEditor\"\n        ) as HTMLInputElement)!.focus();\n        setTimeout(() => {\n          this.allowFirefoxFocusHack = true;\n        }, 150);\n      });\n    }\n  }\n\n  override connectedCallback(): void {\n    super.connectedCallback();\n  }\n\n  override update(\n    changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>\n  ): void {\n    super.update(changedProperties);\n    if (changedProperties.has(\"value\")) {\n      this.setRichValue(this.value);\n    }\n  }\n\n  protected override firstUpdated(\n    _changedProperties: PropertyValueMap<any> | Map<PropertyKey, unknown>\n  ): void {\n    super.firstUpdated(_changedProperties);\n    this.setRichValue(this.value);\n    this.shadowRoot!.querySelector(\"#htmlEditor\")!.addEventListener(\n      \"click\",\n      (e) => {\n        if (e.target && (e.target as HTMLElement).tagName === \"IMG\") {\n          this.selectImage(e.target as HTMLImageElement);\n        } else {\n          this.deselectImage();\n        }\n      }\n    );\n  }\n\n  _setBlur(event: CustomEvent) {\n    //TODO: Fix blinking on using the icon buttons\n    this.hasFocus = false;\n  }\n\n  setRichValue(value: string) {\n    this.value = value;\n    this.shadowRoot!.querySelector(\"#htmlEditor\")!.innerHTML = this.value;\n  }\n\n  _updateCharacterCounter() {\n    const textContent =\n      this.shadowRoot!.querySelector(\"#htmlEditor\")!.textContent;\n\n    if (textContent) {\n      this.characterCount = textContent.length;\n    } else {\n      this.characterCount = 0;\n    }\n  }\n\n  _keydown(event: KeyboardEvent) {\n    this._updateCharacterCounter();\n    this.showErrorLine = false;\n\n    if (this.question.maxLength) {\n      const allowedKeyCodes = [8, 37, 38, 39, 40];\n      const allowedKeyCodesWithCtrlKey = [65, 90, 86, 67, 88, 8];\n      const isAllowedKey = allowedKeyCodes.includes(event.keyCode);\n      const isShortcut =\n        event.ctrlKey && allowedKeyCodesWithCtrlKey.includes(event.keyCode);\n      const isAllowedAction = isAllowedKey || isShortcut;\n\n      if (isAllowedAction) {\n        return;\n      }\n\n      if (this.characterCount >= this.question.maxLength) {\n        event.preventDefault();\n      }\n    }\n  }\n\n  _paste(event: ClipboardEvent | CustomEvent) {\n    if (this.question.maxLength) {\n      //@ts-ignore\n      const clipboardData = event.clipboardData || window.clipboardData;\n      const pastedText = clipboardData.getData(\"text/plain\");\n      //@ts-ignore\n      const content = event.target.textContent;\n      const contentLength = content.length;\n      //@ts-ignore\n      const selectedText = window.getSelection().toString();\n      const allowedPasteLength =\n        this.question.maxLength - contentLength + selectedText.length;\n      const slicedPasteText = pastedText.substring(0, allowedPasteLength);\n\n      event.preventDefault();\n\n      this._masterCommand(\"insertHTML\", false, slicedPasteText);\n    }\n\n    setTimeout(() => {\n      this._updateCharacterCounter();\n    });\n  }\n\n  _changed() {\n    this.value = this.shadowRoot!.querySelector(\"#htmlEditor\")!.innerHTML;\n    this._updateCharacterCounter();\n    this.fire(\"change\", { value: this.value, index: this.index });\n  }\n\n  validate() {\n    if (this.question.required) {\n      if (this.value && this.value.length > 0) {\n        this.showErrorLine = false;\n        return true;\n      } else {\n        this.showErrorLine = true;\n        return false;\n      }\n    } else {\n      this.showErrorLine = false;\n      return true;\n    }\n  }\n\n  _isSafariOrIe11() {\n    return (\n      (navigator.userAgent.indexOf(\"Safari\") > -1 &&\n        navigator.userAgent.indexOf(\"Chrome\") === -1 &&\n        navigator.userAgent.indexOf(\"iPhone\") === -1 &&\n        navigator.userAgent.indexOf(\"iPad\") === -1) ||\n      /Trident.*rv[ :]*11\\./.test(navigator.userAgent)\n    );\n  }\n\n  _isFirefox() {\n    return navigator.userAgent.indexOf(\"Firefox\") > -1;\n  }\n\n  _clearFormat() {\n    this._masterCommand(\"removeFormat\");\n    this._masterCommand(\"formatBlock\", false, \"p\");\n  }\n\n  _clearFormatM() {\n    if (this._isSafariOrIe11()) this._clearFormat();\n  }\n\n  _toggleH1() {\n    this._masterCommand(\"formatBlock\", false, \"h1\");\n  }\n\n  _toggleH1M() {\n    if (this._isSafariOrIe11()) this._toggleH1();\n  }\n\n  _toggleH2() {\n    this._masterCommand(\"formatBlock\", false, \"h2\");\n  }\n\n  _toggleH2M() {\n    if (this._isSafariOrIe11()) this._toggleH2();\n  }\n\n  _toggleH3() {\n    this._masterCommand(\"formatBlock\", false, \"h3\");\n  }\n\n  _toggleH3M() {\n    if (this._isSafariOrIe11()) this._toggleH3();\n  }\n\n  _toggleH4() {\n    this._masterCommand(\"formatBlock\", false, \"h4\");\n  }\n\n  _toggleH4M() {\n    if (this._isSafariOrIe11()) this._toggleH4();\n  }\n\n  _toggleH5() {\n    this._masterCommand(\"formatBlock\", false, \"h5\");\n  }\n\n  _toggleH5M() {\n    if (this._isSafariOrIe11()) this._toggleH5();\n  }\n\n  _toggleH6() {\n    this._masterCommand(\"formatBlock\", false, \"h6\");\n  }\n\n  _toggleH6M() {\n    if (this._isSafariOrIe11()) this._toggleH6();\n  }\n\n  _toggleP() {\n    this._masterCommand(\"formatBlock\", false, \"p\");\n  }\n\n  _togglePM() {\n    if (this._isSafariOrIe11()) this._toggleP();\n  }\n\n  _toggleAlignLeft() {\n    this._masterCommand(\"JustifyLeft\", false, \"\");\n  }\n\n  _toggleAlignLeftM() {\n    if (this._isSafariOrIe11()) this._toggleAlignLeft();\n  }\n\n  _toggleAlignRight() {\n    this._masterCommand(\"JustifyRight\", false, \"\");\n  }\n\n  _toggleAlignRightM() {\n    if (this._isSafariOrIe11()) this._toggleAlignRight();\n  }\n\n  _toggleAlignCenter() {\n    this._masterCommand(\"JustifyCenter\", false, \"\");\n  }\n\n  _toggleAlignCenterM() {\n    if (this._isSafariOrIe11()) this._toggleAlignCenter();\n  }\n\n  _toggleAlignJustify() {\n    this._masterCommand(\"JustifyFull\", false, \"\");\n  }\n\n  _toggleAlignJustifyM() {\n    if (this._isSafariOrIe11()) this._toggleAlignJustify();\n  }\n\n  _toggleBold() {\n    this._masterCommand(\"bold\");\n  }\n\n  _toggleBoldM() {\n    if (this._isSafariOrIe11()) this._toggleBold();\n  }\n\n  _toggleItalic() {\n    this._masterCommand(\"italic\");\n  }\n\n  _toggleItalicM() {\n    if (this._isSafariOrIe11()) this._toggleItalic();\n  }\n\n  _toggleUnderline() {\n    this._masterCommand(\"underline\");\n  }\n\n  _toggleUnderlineM() {\n    if (this._isSafariOrIe11()) this._toggleUnderline();\n  }\n\n  _toggleListBullets() {\n    this._masterCommand(\"insertUnorderedList\");\n  }\n\n  _toggleListBulletsM() {\n    if (this._isSafariOrIe11()) this._toggleListBullets();\n  }\n\n  _toggleListNumbers() {\n    this._masterCommand(\"insertOrderedList\");\n  }\n\n  _toggleListNumbersM() {\n    if (this._isSafariOrIe11()) this._toggleListNumbers();\n  }\n\n  _masterCommand(commandName: string, showDefaultUI = false, value = \"\") {\n    document.execCommand(commandName, showDefaultUI, value);\n    this._changed();\n  }\n  /*\n  ready() {\n    if (window.i18nTranslation) {\n      this.language = window.locale;\n    }\n\n    super.ready();\n  }\n  */\n}\n"]}