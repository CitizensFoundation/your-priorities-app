{"version":3,"file":"yp-top-app-bar.js","sourceRoot":"","sources":["../../src/yp-app/yp-top-app-bar.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  LitElement,\n  html,\n  css,\n  CSSResult,\n  TemplateResult,\n  PropertyValues,\n  nothing,\n} from \"lit\";\nimport { customElement, property, state } from \"lit/decorators.js\";\n\nimport \"@material/web/iconbutton/icon-button.js\";\nimport \"@material/web/icon/icon.js\";\nimport \"@material/web/menu/menu.js\";\nimport \"@material/web/menu/menu-item.js\";\n\nimport { YpBaseElement } from \"../common/yp-base-element\";\nimport { Corner } from \"@material/web/menu/menu.js\";\nimport { YpNavHelpers } from \"../common/YpNavHelpers\";\n\n@customElement(\"yp-top-app-bar\")\nexport class YpTopAppBar extends YpBaseElement {\n  @state()\n  private isTitleLong: boolean = false;\n\n  @state()\n  private isMenuOpen: boolean = false;\n\n  @state()\n  private domain: YpDomainData | undefined;\n\n  @property({ type: Boolean })\n  hideBreadcrumbs = false;\n\n  @property({ type: Boolean })\n  hideTitle = false;\n  @property({ type: Boolean })\n  restrictWidth = false;\n\n  @property({ type: Boolean })\n  disableArrowBasedNavigation = false;\n\n  @property({ type: Array })\n  breadcrumbs: Array<{ name: string; url: string }> = [];\n\n  @property({ type: Boolean })\n  fixed = false;\n\n  @property({ type: Boolean })\n  useLowestContainerColor = false;\n\n  @property({ type: String })\n  backUrl: string | undefined;\n\n  @property({ type: String })\n  titleString: string = \"\";\n\n  @property({ type: Array })\n  myDomains: Array<YpShortDomainList> | undefined;\n\n  get computedBreadcrumbs() {\n    const domain = this.domain;\n    if (!domain) {\n      return this.breadcrumbs;\n    }\n    const domainUrl = `/domain/${domain.id}`;\n    const domainName = domain.name;\n    // Remove any existing domain entries from breadcrumbs\n    const breadcrumbsWithoutDomain = this.breadcrumbs.filter(\n      (crumb) => !(crumb.url === domainUrl || crumb.name === domainName)\n    );\n    // Return breadcrumbs with domain prepended\n    return [{ name: domainName, url: domainUrl }, ...breadcrumbsWithoutDomain];\n  }\n\n  renderBreadcrumbsDropdown() {\n    if (this.computedBreadcrumbs.length > 1 && !this.hideBreadcrumbs) {\n      return html`\n        <md-icon-button id=\"breadCrumbTrigger\" @click=\"${this._toggleMenu}\">\n          <md-icon>unfold_more</md-icon>\n        </md-icon-button>\n        <md-menu\n          id=\"breadcrumbMenu\"\n          anchor=\"breadCrumbTrigger\"\n          positioning=\"popover\"\n          .open=\"${this.isMenuOpen}\"\n          @closed=\"${this._onMenuClosed}\"\n          .menuCorner=\"${Corner.START_END}\"\n        >\n          ${this.computedBreadcrumbs.map(\n            (crumb, index) => html`\n              <md-menu-item @click=${() => this.redirectTo(crumb.url)}>\n                ${crumb.name}\n              </md-menu-item>\n              ${index < this.computedBreadcrumbs.length - 1\n                ? html`<md-divider></md-divider>`\n                : \"\"}\n            `\n          )}\n        </md-menu>\n      `;\n    } else {\n      return nothing;\n    }\n  }\n\n  redirectTo(url: string) {\n    YpNavHelpers.redirectTo(url);\n    this.fireGlobal(\"yp-close-all-drawers\");\n    this.isMenuOpen = false;\n  }\n\n  renderMyDomainsDropdown() {\n    if (this.myDomains && this.myDomains.length > 1) {\n      return html`\n        <md-icon-button id=\"domainTrigger\" @click=\"${this._toggleMenu}\" ?hidden=\"${this.hideTitle}\">\n          <md-icon>unfold_more</md-icon>\n        </md-icon-button>\n        <md-menu\n          id=\"domainMenu\"\n          anchor=\"domainTrigger\"\n          positioning=\"popover\"\n          .open=\"${this.isMenuOpen}\"\n          @closed=\"${this._onMenuClosed}\"\n          .menuCorner=\"${Corner.START_END}\"\n        >\n          ${this.myDomains.map(\n            (domain, index) => html`\n              <md-menu-item\n                @click=${() => this.redirectTo(`/domain/${domain.id}`)}\n              >\n                ${domain.name}\n              </md-menu-item>\n              ${this.myDomains && index < this.myDomains.length - 1\n                ? html`<md-divider></md-divider>`\n                : \"\"}\n            `\n          )}\n        </md-menu>\n      `;\n    } else {\n      return nothing;\n    }\n  }\n\n  private _toggleMenu(e: Event) {\n    e.stopPropagation();\n    this.isMenuOpen = !this.isMenuOpen;\n  }\n\n  private _onMenuClosed() {\n    this.isMenuOpen = false;\n  }\n\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        :host {\n          --top-app-bar-height: 60px;\n          --top-app-bar-expanded-height: 80px;\n        }\n\n        a {\n          color: var(--md-sys-color-on-surface);\n          text-decoration: none;\n          margin: 0;\n          padding: 0;\n        }\n\n        .top-app-bar {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          height: var(--top-app-bar-height);\n          padding: 0 16px;\n          background-color: var(--md-sys-color-surface-container-low);\n          color: var(--md-sys-color-on-surface);\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          transition: top 0.3s;\n          z-index: 1;\n          max-width: 100vw;\n        }\n\n        .top-app-bar[useLowestContainerColor] {\n          background-color: var(--md-sys-color-surface-container-lowest);\n        }\n\n        .top-app-bar[restrict-width] {\n        }\n\n        .middleContainer {\n          width: 100%;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding-left: 12px;\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        }\n\n        .middleContainer[restrict-width] {\n          /*width: 982px;*/\n        }\n\n        .title {\n          display: flex;\n          justify-content: center;\n          align-items: center;\n        }\n\n        .titleText {\n          margin-right: 4px;\n          margin-left: 8px;\n          cursor: pointer;\n        }\n\n        .chevronIcon {\n        }\n\n        .title md-icon-button {\n        }\n\n        slot[name=\"action\"]::slotted(*) {\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n        }\n\n        @media (max-width: 480px) {\n          .title {\n            margin-bottom: 4px;\n          }\n\n          .middleContainer {\n            padding-left: 4px;\n          }\n\n          .top-app-bar {\n            padding-top: 0;\n            padding-bottom: 0;\n            padding-left: 0;\n            padding-right: 0;\n            background: var(--md-sys-color-surface);\n          }\n\n          .top-app-bar.expanded {\n            height: var(--top-app-bar-expanded-height);\n            flex-direction: column;\n            justify-content: center;\n          }\n          .top-app-bar {\n            height: var(--top-app-bar-height);\n            flex-direction: row;\n            justify-content: space-between;\n            align-items: center;\n          }\n          .top-app-bar.expanded {\n            height: var(--top-app-bar-expanded-height);\n            flex-direction: column;\n            justify-content: center;\n            align-items: start;\n          }\n\n          .title.expanded {\n            order: 2;\n            margin-left: 12px;\n            margin-bottom: 0;\n            margin-top: 6px;\n          }\n\n          .pathTitles {\n          }\n\n          slot[name=\"action\"] {\n            position: absolute;\n            right: 0;\n            top: 4px;\n            display: flex;\n            align-items: center;\n          }\n        }\n      `,\n    ];\n  }\n\n  lastScrollY: number = 0;\n\n  constructor() {\n    super();\n  }\n\n  override updated(changedProperties: PropertyValues) {\n    super.updated(changedProperties);\n    if (changedProperties.has(\"titleString\")) {\n      this.isTitleLong = this.titleString.trim().length > 16;\n    }\n  }\n\n  override connectedCallback(): void {\n    super.connectedCallback();\n    window.addEventListener(\"scroll\", this.handleScroll.bind(this));\n    this.addGlobalListener(\n      \"yp-domain-changed\",\n      this._onDomainChanged.bind(this)\n    );\n    this.addGlobalListener(\n      \"yp-my-domains-loaded\",\n      this._onMyDomainsLoaded.bind(this)\n    );\n  }\n\n  override disconnectedCallback(): void {\n    window.removeEventListener(\"scroll\", this.handleScroll.bind(this));\n    this.removeGlobalListener(\n      \"yp-domain-changed\",\n      this._onDomainChanged.bind(this)\n    );\n    this.removeGlobalListener(\n      \"yp-my-domains-loaded\",\n      this._onMyDomainsLoaded.bind(this)\n    );\n    super.disconnectedCallback();\n  }\n\n  private _onDomainChanged(event: CustomEvent) {\n    if (\n      event.detail &&\n      event.detail.domain &&\n      event.detail.domain.id &&\n      event.detail.domain.id !== this.domain?.id\n    ) {\n      this.domain = event.detail.domain;\n    }\n  }\n\n  private _onMyDomainsLoaded(event: CustomEvent) {\n    this.myDomains = event.detail.domains;\n  }\n\n  handleScroll(): void {\n    if (!this.fixed) {\n      const currentScrollY: number = window.scrollY;\n      const appBar: HTMLElement | null | undefined =\n        this.shadowRoot?.querySelector(\".top-app-bar\");\n\n      if (appBar) {\n        if (currentScrollY > this.lastScrollY) {\n          appBar.style.top = `-${getComputedStyle(this).getPropertyValue(\n            \"--top-app-bar-height\"\n          )}`;\n        } else {\n          appBar.style.top = \"0\";\n        }\n      }\n\n      this.lastScrollY = currentScrollY;\n    }\n  }\n\n  override render(): TemplateResult {\n    const appBarClass = this.isTitleLong\n      ? \"top-app-bar expanded\"\n      : \"top-app-bar\";\n\n    const computedBreadcrumbs = this.computedBreadcrumbs.map((crumb) => ({\n      ...crumb,\n      isLink: true,\n    }));\n    let breadcrumbsWithTitle = [...computedBreadcrumbs];\n\n    const lastBreadcrumbName =\n      computedBreadcrumbs.length > 0\n        ? computedBreadcrumbs[computedBreadcrumbs.length - 1].name\n        : null;\n\n    if (this.titleString && this.titleString !== lastBreadcrumbName) {\n      breadcrumbsWithTitle.push({\n        name: this.titleString,\n        url: \"\",\n        isLink: false,\n      });\n    }\n\n    return html`\n      <div ?useLowestContainerColor=\"${this.useLowestContainerColor}\"\n        class=\"${appBarClass} layout\"\n        ?restrict-width=\"${this.restrictWidth}\"\n      >\n        <div class=\"middleContainer\" ?restrict-width=\"${this.restrictWidth}\" >\n          <slot name=\"navigation\"></slot>\n          ${this.renderMyDomainsDropdown()}\n          <div class=\"title ${this.isTitleLong ? \"expanded\" : \"\"}\" ?hidden=\"${this.hideTitle}\">\n            ${breadcrumbsWithTitle.map(\n              (crumb, index) => html`\n                ${crumb.isLink\n                  ? html`\n                      <div\n                        class=\"titleText\"\n                        @click=\"${() => this.redirectTo(crumb.url)}\"\n                      >\n                        ${crumb.name}\n                      </div>\n                    `\n                  : html` <span class=\"titleText\">${crumb.name}</span> `}\n                ${index < breadcrumbsWithTitle.length - 1\n                  ? html`<md-icon class=\"chevronIcon\">chevron_right</md-icon>`\n                  : \"\"}\n              `\n            )}\n          </div>\n          <div class=\"flex\"></div>\n          <slot name=\"action\"></slot>\n        </div>\n      </div>\n    `;\n  }\n}\n"]}