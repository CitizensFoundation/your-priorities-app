{"version":3,"file":"yp-top-app-bar.js","sourceRoot":"","sources":["../../src/yp-app/yp-top-app-bar.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EACL,UAAU,EACV,IAAI,EACJ,GAAG,GAIJ,MAAM,KAAK,CAAC;AACb,OAAO,EAAE,aAAa,EAAE,QAAQ,EAAE,KAAK,EAAE,MAAM,mBAAmB,CAAC;AAG5D,IAAM,WAAW,GAAjB,MAAM,WAAY,SAAQ,UAAU;IA4FzC;QACE,KAAK,EAAE,CAAC;QA3FF,gBAAW,GAAY,KAAK,CAAC;QAGrC,gBAAW,GAAW,EAAE,CAAC;QAqFjB,gBAAW,GAAW,CAAC,CAAC;IAIhC,CAAC;IAEkB,OAAO,CAAC,iBAAiC;QAC1D,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;QACjC,IAAI,iBAAiB,CAAC,GAAG,CAAC,aAAa,CAAC,EAAE,CAAC;YACzC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC,MAAM,GAAG,EAAE,CAAC;QACzD,CAAC;IACH,CAAC;IAEQ,iBAAiB;QACxB,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAC1B,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAClE,CAAC;IAEQ,oBAAoB;QAC3B,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACnE,KAAK,CAAC,oBAAoB,EAAE,CAAC;IAC/B,CAAC;IAEO,YAAY;QAClB,MAAM,cAAc,GAAW,MAAM,CAAC,OAAO,CAAC;QAC9C,MAAM,MAAM,GACV,IAAI,CAAC,UAAU,EAAE,aAAa,CAAC,cAAc,CAAC,CAAC;QAEjD,IAAI,MAAM,EAAE,CAAC;YACX,IAAI,cAAc,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC;gBACtC,mCAAmC;gBACnC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,IAAI,gBAAgB,CAAC,IAAI,CAAC,CAAC,gBAAgB,CAC5D,sBAAsB,CACvB,EAAE,CAAC;YACN,CAAC;iBAAM,CAAC;gBACN,iCAAiC;gBACjC,MAAM,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC;YACzB,CAAC;QACH,CAAC;QAED,IAAI,CAAC,WAAW,GAAG,cAAc,CAAC;IACpC,CAAC;IAEQ,MAAM;QACb,MAAM,WAAW,GAAG,IAAI,CAAC,WAAW;YAClC,CAAC,CAAC,sBAAsB;YACxB,CAAC,CAAC,aAAa,CAAC;QAElB,OAAO,IAAI,CAAA;oBACK,WAAW;;6BAEF,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE;aAClD,IAAI,CAAC,WAAW;;;;KAIxB,CAAC;IACJ,CAAC;;AA5Ie,kBAAM,GAAc,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAiFtC,AAjFqB,CAiFpB;AAtFM;IADP,KAAK,EAAE;gDAC6B;AAGrC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;gDACF;AALd,WAAW;IADvB,aAAa,CAAC,gBAAgB,CAAC;GACnB,WAAW,CAoJvB","sourcesContent":["import {\n  LitElement,\n  html,\n  css,\n  CSSResult,\n  TemplateResult,\n  PropertyValues,\n} from \"lit\";\nimport { customElement, property, state } from \"lit/decorators.js\";\n\n@customElement(\"yp-top-app-bar\")\nexport class YpTopAppBar extends LitElement {\n  @state()\n  private isTitleLong: boolean = false;\n\n  @property({ type: String })\n  titleString: string = \"\";\n\n  static override styles: CSSResult = css`\n    :host {\n      --top-app-bar-height: 48px;\n      --top-app-bar-expanded-height: 80px;\n    }\n    .top-app-bar {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      height: var(--top-app-bar-height);\n      padding: 0 16px;\n      background-color: var(--md-sys-color-surface);\n      color: var(--md-sys-color-on-surface);\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      transition: top 0.3s;\n      z-index: 1;\n    }\n\n    .title {\n      flex-grow: 1; /* This will push the title to the left and actions to the right */\n      text-align: left;\n      margin-left: 4px;\n      margin-bottom: 1px;\n    }\n\n    slot[name=\"action\"]::slotted(*) {\n      display: flex;\n      flex-direction: row; /* This ensures that slotted action items are laid out in a row */\n      align-items: center;\n    }\n\n    /* Media query for mobile devices */\n    @media (max-width: 480px) {\n      .title {\n        margin-bottom: 4px;\n      }\n\n      .top-app-bar {\n        /* Reset the padding here to avoid affecting the absolute positioning of the action slot */\n        padding-top: 0;\n        padding-bottom: 0;\n        padding-left: 8px;\n        padding-right: 0;\n      }\n\n      .top-app-bar.expanded {\n        height: var(--top-app-bar-expanded-height);\n        flex-direction: column;\n        justify-content: center;\n      }\n      .top-app-bar {\n        height: var(--top-app-bar-height);\n        flex-direction: row;\n        justify-content: space-between;\n        align-items: center;\n      }\n      .top-app-bar.expanded {\n        height: var(--top-app-bar-expanded-height);\n        flex-direction: column;\n        justify-content: center;\n        align-items: start;\n      }\n\n      .title.expanded {\n        order: 2;\n        margin-left: 12px;\n        margin-bottom: 0;\n        margin-top: 6px;\n      }\n\n      slot[name=\"action\"] {\n        position: absolute;\n        right: 0; /* Adjust this value to match the desired spacing from the right edge */\n        top: 4px;\n        display: flex;\n        align-items: center;\n      }\n    }\n  `;\n\n  private lastScrollY: number = 0;\n\n  constructor() {\n    super();\n  }\n\n  protected override updated(changedProperties: PropertyValues) {\n    super.updated(changedProperties);\n    if (changedProperties.has(\"titleString\")) {\n      this.isTitleLong = this.titleString.trim().length > 16;\n    }\n  }\n\n  override connectedCallback(): void {\n    super.connectedCallback();\n    window.addEventListener(\"scroll\", this.handleScroll.bind(this));\n  }\n\n  override disconnectedCallback(): void {\n    window.removeEventListener(\"scroll\", this.handleScroll.bind(this));\n    super.disconnectedCallback();\n  }\n\n  private handleScroll(): void {\n    const currentScrollY: number = window.scrollY;\n    const appBar: HTMLElement | null | undefined =\n      this.shadowRoot?.querySelector(\".top-app-bar\");\n\n    if (appBar) {\n      if (currentScrollY > this.lastScrollY) {\n        // Scrolling down, hide the app bar\n        appBar.style.top = `-${getComputedStyle(this).getPropertyValue(\n          \"--top-app-bar-height\"\n        )}`;\n      } else {\n        // Scrolling up, show the app bar\n        appBar.style.top = \"0\";\n      }\n    }\n\n    this.lastScrollY = currentScrollY;\n  }\n\n  override render(): TemplateResult {\n    const appBarClass = this.isTitleLong\n      ? \"top-app-bar expanded\"\n      : \"top-app-bar\";\n\n    return html`\n      <div class=\"${appBarClass}\">\n        <slot name=\"navigation\"></slot>\n        <span class=\"title ${this.isTitleLong ? \"expanded\" : \"\"}\"\n          >${this.titleString}</span\n        >\n        <slot name=\"action\"></slot>\n      </div>\n    `;\n  }\n}\n"]}