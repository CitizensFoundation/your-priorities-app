# PsServerApi

A server API client for managing agents, agent models, connectors, and workflows in the PolicySynth system. Extends `YpServerApiBase` and provides methods for CRUD operations and workflow control for agents and related entities.

## Properties

| Name            | Type     | Description                                      |
|-----------------|----------|--------------------------------------------------|
| baseAgentsPath  | string   | The base path for agent-related API endpoints.   |
| baseUrlPath     | string   | The base URL path for all API requests (inherited from `YpServerApiBase`). |

## Methods

| Name                                | Parameters                                                                                                                                                                                                                      | Return Type                                                                                                                        | Description                                                                                                 |
|------------------------------------- |--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------|
| constructor                         | urlPath?: string                                                                                                                                                                                                               | PsServerApi                                                                                                                        | Constructs a new PsServerApi instance. Sets the base URL path for API requests.                             |
| getAgent                            | groupId: number                                                                                                                                                                                                                | Promise&lt;PsAgentAttributes&gt;                                                                                                   | Fetches the attributes of an agent by group ID.                                                             |
| getAgentMemory                      | groupId: number, agentId: number                                                                                                                                                                                               | Promise&lt;object&gt;                                                                                                              | Retrieves the memory object for a specific agent.                                                           |
| replaceAgentMemory                  | groupId: number, agentId: number, memory: object                                                                                                                                                                               | Promise&lt;void&gt;                                                                                                                | Replaces the memory object for a specific agent.                                                            |
| removeAgentAiModel                  | groupId: number, agentId: number, modelId: number                                                                                                                                                                              | Promise&lt;void&gt;                                                                                                                | Removes an AI model from an agent.                                                                          |
| getDetailedAgentCosts               | groupId: number, agentId: number                                                                                                                                                                                               | Promise&lt;PsDetailedAgentCostResults[]&gt;                                                                                        | Retrieves detailed cost results for a specific agent.                                                       |
| addAgentAiModel                     | groupId: number, agentId: number, modelId: number, size: PsAiModelSize                                                                                                                                                         | Promise&lt;void&gt;                                                                                                                | Adds an AI model to an agent with a specified size.                                                         |
| updateAgentConfiguration            | groupId: number, agentId: number, updatedConfig: Partial&lt;PsAgentAttributes["configuration"]&gt;                                                                                       | Promise&lt;void&gt;                                                                                                                | Updates the configuration of an agent.                                                                      |
| addExistingConnector                | groupId: number, agentId: number, connectorId: number, type: "input" \| "output"                                                                                                                                               | Promise&lt;void&gt;                                                                                                                | Adds an existing connector to an agent as input or output.                                                  |
| createAgent                         | name: string, agentClassId: number, aiModels: { [key: string]: number }, parentAgentId: number, groupId?: number                                                                         | Promise&lt;PsAgentAttributes&gt;                                                                                                   | Creates a new agent with the specified parameters.                                                          |
| getAgentAiModels                    | groupId: number, agentId: number                                                                                                                                                                                               | Promise&lt;PsAiModelAttributes[]&gt;                                                                                               | Retrieves the list of AI models associated with an agent.                                                   |
| getActiveAiModels                   | groupId: number                                                                                                                                                                                                                | Promise&lt;PsAiModelAttributes[]&gt;                                                                                               | Retrieves the list of active AI models for a group.                                                         |
| getActiveAgentClasses               | groupId: number                                                                                                                                                                                                                | Promise&lt;PsAgentClassAttributes[]&gt;                                                                                            | Retrieves the list of active agent classes for a group.                                                     |
| getActiveConnectorClasses           | groupId: number                                                                                                                                                                                                                | Promise&lt;PsAgentConnectorClassAttributes[]&gt;                                                                                   | Retrieves the list of active connector classes for a group.                                                 |
| getAgentCosts                       | groupId: number, agentId: number                                                                                                                                                                                               | Promise&lt;number&gt;                                                                                                              | Retrieves the total cost for a specific agent.                                                              |
| createConnector                     | groupId: number, agentId: number, connectorClassId: number, name: string, type: "input" \| "output"                                                                                      | Promise&lt;PsAgentConnectorAttributes&gt;                                                                                          | Creates a new connector (input or output) for an agent.                                                     |
| updateNode                          | groupId: number, agentId: number, updatedNode: PsAgentAttributes                                                                                                                         | Promise&lt;void&gt;                                                                                                                | Updates the entire node (agent) with new attributes.                                                        |
| updateNodeConfiguration             | groupId: number, nodeType: "agent" \| "connector", nodeId: number, updatedConfig: Partial&lt;PsAgentAttributes["configuration"] \| PsAgentConnectorAttributes["configuration"]&gt;        | Promise&lt;void&gt;                                                                                                                | Updates the configuration for a node (agent or connector).                                                  |
| getAgentStatus                      | groupId: number, agentId: number                                                                                                                                                                                               | Promise&lt;PsAgentStatus&gt;                                                                                                       | Retrieves the status of a specific agent.                                                                   |
| advanceOrStopCurrentAgentRun        | groupId: number, agentId: number, runId: number, status: string, wsClientId: string                                                                                                      | Promise&lt;any&gt;                                                                                                                 | Advances or stops the current agent run workflow.                                                           |
| getUpdatedWorkflow                  | groupId: number, runId: number                                                                                                                                                                                                 | Promise&lt;{ workflow: YpAgentRunWorkflowConfiguration; status: YpAgentProductRunStatus } \| null&gt;                               | Retrieves the updated workflow and status for a given run.                                                  |
| startWorkflowAgent                  | groupId: number, agentId: number, wsClientId: string                                                                                                                                      | Promise&lt;any&gt;                                                                                                                 | Starts a workflow agent for a given agent and group.                                                        |
| controlAgent                        | groupId: number, agentId: number, action: "start" \| "pause" \| "stop"                                                                                                                   | Promise&lt;any&gt;                                                                                                                 | Controls the agent (start, pause, or stop).                                                                 |
| startAgent                          | groupId: number, agentId: number                                                                                                                                                                                               | Promise&lt;any&gt;                                                                                                                 | Starts the agent.                                                                                           |
| pauseAgent                          | groupId: number, agentId: number                                                                                                                                                                                               | Promise&lt;any&gt;                                                                                                                 | Pauses the agent.                                                                                           |
| stopAgent                           | groupId: number, agentId: number                                                                                                                                                                                               | Promise&lt;any&gt;                                                                                                                 | Stops the agent.                                                                                            |

## Examples

```typescript
const api = new PsServerApi("/api");

// Fetch agent attributes
const agent = await api.getAgent(1);

// Replace agent memory
await api.replaceAgentMemory(1, 2, { key: "value" });

// Add an AI model to an agent
await api.addAgentAiModel(1, 2, 3, "large");

// Create a new agent
const newAgent = await api.createAgent("Agent Name", 1, { "gpt-4": 2 }, 0, 1);

// Start an agent
await api.startAgent(1, 2);

// Get agent status
const status = await api.getAgentStatus(1, 2);
```
