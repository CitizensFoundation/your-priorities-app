{"version":3,"file":"yp-admin-translations.js","sourceRoot":"","sources":["../../src/admin/yp-admin-translations.ts"],"names":[],"mappings":"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","sourcesContent":["//import 'chart.js';\nimport { LitElement, css, html, nothing } from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\nimport '@material/web/textfield/outlined-text-field.js';\nimport '@material/web/button/filled-button.js';\nimport '@material/web/select/outlined-select.js';\nimport '@material/web/select/select-option.js';\nimport '@material/web/progress/linear-progress.js';\n\nimport { ShadowStyles } from '../common/ShadowStyles.js';\n\nimport { YpAdminPage } from './yp-admin-page.js';\nimport { YpLanguageSelector } from '../yp-app/yp-language-selector.js';\n\n@customElement('yp-admin-translations')\nexport class YpAdminTranslations extends YpAdminPage {\n  @property({ type: Array })\n  items: Array<YpTranslationTextData> | undefined;\n\n  @property({ type: Boolean })\n  waitingOnData = false;\n\n  @property({ type: Object })\n  editActive: Record<string, boolean> = {};\n\n  @property({ type: Object })\n  override collection: YpCollectionData | undefined;\n\n  @property({ type: String })\n  targetLocale: string | undefined;\n\n  @property({ type: Number })\n  baseMaxLength: number | undefined;\n\n  supportedLanguages: Record<string, string>;\n\n  static override get styles() {\n    return [\n      super.styles,\n      ShadowStyles,\n      css`\n        #mainSelect {\n          text-align: right;\n          margin-right: 22px;\n          margin-top: 8px;\n        }\n\n        .wordCloudContainer {\n          margin-top: 16px;\n          margin-bottom: 64px;\n        }\n\n        md-linear-progress {\n          margin-bottom: 8px;\n        }\n\n        .timeButtons {\n          margin-top: 8px;\n        }\n\n        .item {\n          max-width: 1008px;\n          width: 1008px;\n          margin-bottom: 16px;\n          padding: 8px;\n        }\n\n        .originalText {\n          width: 400px;\n          flex: 1;\n          padding: 8px;\n        }\n\n        .textType {\n          width: 120px;\n          padding: 8px;\n        }\n\n        .translatedText {\n          flex: 2;\n        }\n\n        .innerTranslatedText {\n          padding: 8px;\n        }\n\n        .dont-break-out {\n          /* These are technically the same, but use both */\n          overflow-wrap: break-word;\n          word-wrap: break-word;\n\n          -ms-word-break: break-all;\n          /* This is the dangerous one in WebKit, as it breaks things wherever */\n          word-break: break-all;\n          /* Instead use this non-standard one: */\n          word-break: break-word;\n\n          /* Adds a hyphen where the word breaks, if supported (No Blink) */\n          -ms-hyphens: auto;\n          -moz-hyphens: auto;\n          -webkit-hyphens: auto;\n          hyphens: auto;\n        }\n\n        md-linear-progress {\n          width: 800px;\n          margin-top: -4px;\n          padding-top: 0;\n          margin-bottom: 12px;\n        }\n\n        .progressPlaceHolder {\n          margin-top: -4px;\n          padding-top: 0;\n          height: 4px;\n          margin-bottom: 12px;\n        }\n\n        md-outlined-select {\n          margin-bottom: 32px;\n        }\n\n        .contentId {\n          margin-top: 4px;\n        }\n      `,\n    ];\n  }\n\n  async getTranslationText() {\n    this.waitingOnData = true;\n    this.items = (await window.adminServerApi.getTextForTranslations(\n      this.collectionType,\n      this.collectionId as number,\n      this.targetLocale!\n    )).items as Array<YpTranslationTextData>;\n\n    this.waitingOnData = false;\n  }\n\n  constructor() {\n    super();\n    this.waitingOnData = false;\n    this.baseMaxLength = 300;\n\n    this.supportedLanguages = YpLanguageSelector.supportedLanguages;\n  }\n\n  override connectedCallback() {\n    super.connectedCallback();\n  }\n\n  selectLanguage(event: CustomEvent) {\n    if (event.target && (event.target as HTMLInputElement).value) {\n      this.targetLocale = (event.target as HTMLInputElement).value;\n      this.getTranslationText();\n    }\n  }\n\n  openEdit(item: YpTranslationTextData) {\n    this.editActive[item.indexKey!] = true;\n    this.requestUpdate();\n  }\n\n  cancelEdit(item: YpTranslationTextData) {\n    delete this.editActive[item.indexKey!];\n    this.requestUpdate();\n  }\n\n  saveItem(\n    item: YpTranslationTextData,\n    options: { saveDirectly: boolean } | undefined = undefined\n  ) {\n    if (item && !options) {\n      // eslint-disable-next-line no-param-reassign\n      item.translatedText = (this.$$(\n        `#editFor${item.indexKey}`\n      ) as HTMLInputElement).value;\n    }\n\n    const updatedItem: YpTranslationTextData = {\n      contentId: item.contentId,\n      content: item.originalText!,\n      textType: item.textType,\n      translatedText: item.translatedText,\n      extraId: item.extraId,\n      targetLocale: this.targetLocale!,\n    };\n\n    window.adminServerApi.updateTranslation(\n      this.collectionType,\n      this.collectionId as number,\n      updatedItem\n    );\n\n    this.cancelEdit(item);\n  }\n\n  async autoTranslate(item: YpTranslationTextData) {\n    const updateUrl = `${this.getUrlFromTextType(item)}?contentId=${\n      item.contentId\n    }&textType=${item.textType}&targetLanguage=${this.targetLocale}`;\n    const translation = (await window.serverApi.getTranslation(\n      updateUrl\n    )) as YpTranslationTextData;\n    if (translation) {\n      item.translatedText = translation.content;\n      this.saveItem(item, { saveDirectly: true });\n      this.requestUpdate();\n    }\n  }\n\n  // eslint-disable-next-line class-methods-use-this\n  getUrlFromTextType(item: YpTranslationTextData) {\n    let url;\n    switch (item.textType) {\n      case 'postName':\n      case 'postContent':\n      case 'postTranscriptContent':\n        url = `/api/posts/${item.contentId}/translatedText`;\n        break;\n      case 'pointContent':\n      case 'pointAdminPointContent':\n        url = `/api/points/${item.contentId}/translatedText`;\n        break;\n      case 'domainName':\n      case 'domainContent':\n        url = `/api/domains/${item.contentId}/translatedText`;\n        break;\n      case 'customRatingName':\n        url = `/api/ratings/${item.contentId}/${item.extraId}/translatedText`;\n        break;\n      case 'communityName':\n      case 'communityContent':\n        url = `/api/communities/${item.contentId}/translatedText`;\n        break;\n      case 'alternativeTextForNewIdeaButtonClosed':\n      case 'alternativeTextForNewIdeaButtonHeader':\n      case 'customThankYouTextNewYps':\n      case 'alternativePointForHeader':\n      case 'customTitleQuestionText':\n      case 'customAdminPointsTitle':\n      case 'urlToReviewActionText':\n      case 'alternativePointAgainstHeader':\n      case 'customThankYouTextNewPoints':\n      case 'alternativePointForLabel':\n      case 'alternativePointAgainstLabel':\n      case 'groupName':\n      case 'groupContent':\n        url = `/api/groups/${item.contentId}/translatedText`;\n        break;\n      case 'categoryName':\n        url = `/api/categories/${item.contentId}/translatedText`;\n        break;\n      case 'statusChangeContent':\n        url = `/api/posts/${item.extraId}/${item.contentId}/translatedStatusText`;\n        break;\n      default:\n        return null;\n    }\n    return url;\n  }\n\n  get languages() {\n    let arr = [];\n    const highlighted = [];\n    let highlightedLocales = ['en', 'en_GB', 'is', 'fr', 'de', 'es', 'ar'];\n    if (\n      this.collection &&\n      this.collection.configuration &&\n      this.collection.configuration.highlightedLanguages\n    ) {\n      highlightedLocales = this.collection.configuration.highlightedLanguages.split(\n        ','\n      );\n    }\n\n    for (const key in this.supportedLanguages) {\n      if (this.supportedLanguages.hasOwnProperty(key)) {\n        if (highlightedLocales.indexOf(key) > -1) {\n          highlighted.push({ locale: key, name: this.supportedLanguages[key] });\n        } else {\n          arr.push({ locale: key, name: this.supportedLanguages[key] });\n        }\n      }\n    }\n\n    arr = arr.sort(function (a, b) {\n      if (a.name < b.name) {\n        return -1;\n      }\n      if (a.name > b.name) {\n        return 1;\n      }\n      return 0;\n    });\n\n    return highlighted.concat(arr);\n  }\n\n  getMaxLength(item: YpTranslationTextData, baseLength: number) {\n    if (\n      item.textType === 'groupName' ||\n      item.textType === 'postName' ||\n      item.textType === 'communityName'\n    ) {\n      return 60;\n    } else if (\n      item.textType == 'groupContent' ||\n      item.textType == 'communityContent'\n    ) {\n      return baseLength;\n    } else {\n      return 2500;\n    }\n  }\n\n  textChanged(event: CustomEvent) {\n    const description = (event.target as HTMLInputElement).value;\n    const urlRegex = new RegExp(/(?:https?|http?):\\/\\/[\\n\\S]+/g);\n    const urlArray = description.match(urlRegex);\n\n    if (urlArray && urlArray.length > 0) {\n      let urlsLength = 0;\n      for (let i = 0; i < Math.min(urlArray.length, 10); i += 1) {\n        urlsLength += urlArray[i].length;\n      }\n      let maxLength = 300;\n      maxLength += urlsLength;\n      maxLength -= Math.min(urlsLength, urlArray.length * 30);\n      this.baseMaxLength = maxLength;\n    }\n  }\n\n  renderItem(item: YpTranslationTextData) {\n    return html`\n      <div class=\"layout horizontal shadow-animation shadow-elevation-3dp item\">\n        <div class=\"textType layout vertical\">\n          <div>${this.t(item.textType)}</div>\n          <div class=\"contentId\">id: ${item.contentId}</div>\n        </div>\n        <div class=\"originalText dont-break-out\">\n          ${item.originalText}\n        </div>\n\n        <div class=\"layout vertical translatedText dont-break-out\">\n          ${this.editActive && this.editActive[item.indexKey!]\n            ? html`\n                <md-outlined-text-field\n                  type=\"textarea\"\n                  rows=\"5\"\n                  id=\"editFor${item.indexKey}\"\n                  .maxLength=\"${this.getMaxLength(item, this.baseMaxLength!)}\"\n                  charCounter\n                  @input=\"${this.textChanged}\"\n                  label=\"${this.t('editTranslation')}\"\n                  .value=\"${item.translatedText ? item.translatedText : ''}\"\n                >\n                </md-outlined-text-field>\n                <div class=\"layout horizontal endAligned\">\n                  <md-filled-button\n\n                    @click=\"${() => this.cancelEdit(item)}\"\n                  >${this.t('cancel')}</md-filled-button>\n                  <md-filled-button\n\n                    @click=\"${() => this.saveItem(item)}\"\n                  >${this.t('save')}</md-filled-button>\n                </div>\n              `\n            : html`\n                <div class=\"innerTranslatedText\">\n                  ${item.translatedText\n                    ? item.translatedText\n                    : this.t('noTranslation')}\n                </div>\n                <div class=\"layout horizontal endAligned\">\n                  <md-filled-button\n\n                    @click=\"${() => this.openEdit(item)}\"\n                  >${this.t('edit')}</md-filled-button>\n                  <md-filled-button\n\n                    ?hidden=\"${item.translatedText != null}\"\n                    @click=\"${() => this.autoTranslate(item)}\"\n                  >${this.t('autoTranslate')}</md-filled-button>\n                </div>\n              `}\n        </div>\n      </div>\n    `;\n  }\n\n  override render() {\n    return html`\n      <div class=\"container layout vertical center-center\">\n        ${this.waitingOnData\n          ? html`\n              <md-linear-progress\n                indeterminate\n                ?hidden=\"${!this.waitingOnData}\"\n              ></md-linear-progress>\n            `\n          : html` <div class=\"progressPlaceHolder\"></div> `}\n        <div class=\"layout vertical\">\n          <div class=\"layout horizontal center-center\">\n            <md-outlined-select\n              .label=\"${this.t('selectLanguage')}\"\n              id=\"mainSelect\"\n              class=\"layout selfEnd\"\n              @change=\"${this.selectLanguage}\"\n            >\n              ${this.languages.map(\n                language => html`\n                  <md-select-option .value=\"${language.locale}\"\n                    >${language.name}</md-select-option\n                  >\n                `\n              )}\n            </md-outlined-select>\n          </div>\n          ${this.items\n            ? this.items.map(item => this.renderItem(item))\n            : nothing}\n        </div>\n      </div>\n    `;\n  }\n}\n"]}