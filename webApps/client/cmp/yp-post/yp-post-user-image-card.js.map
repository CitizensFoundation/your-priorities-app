{"version":3,"file":"yp-post-user-image-card.js","sourceRoot":"","sources":["../../src/yp-post/yp-post-user-image-card.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css } from 'lit';\nimport { customElement, property } from 'lit/decorators.js';\n\nimport { YpBaseElement } from '../common/yp-base-element.js';\n\nimport '@material/web/iconbutton/outlined-icon-button.js';\nimport '../common/yp-image.js';\nimport '../yp-point/yp-point-comment-list.js';\n\nimport { ShadowStyles } from '../common/ShadowStyles.js';\nimport { YpMediaHelpers } from '../common/YpMediaHelpers.js';\nimport { YpApiActionDialog } from '../yp-api-action-dialog/yp-api-action-dialog.js';\nimport { YpAccessHelpers } from '../common/YpAccessHelpers.js';\nimport { YpPostUserImageEdit } from './yp-post-user-image-edit.js';\n\n@customElement('yp-post-user-image-card')\nexport class YpPostUserImageCard extends YpBaseElement {\n  @property({ type: Object })\n  image!: YpImageData;\n\n  @property({ type: Object })\n  post!: YpPostData;\n\n  static override get styles() {\n    return [\n      super.styles,\n      ShadowStyles,\n      css`\n        .description {\n          padding-left: 16px;\n          padding-right: 16px;\n          padding-top: 16px;\n        }\n\n        .photographer {\n          padding-left: 16px;\n          padding-right: 16px;\n          padding-top: 8px;\n        }\n\n        .material {\n          width: 800px;\n          height: 100%;\n          background-color: var(--md-sys-color-surface-variant);\n          color: var(--md-sys-color-on-surface-variant);\n          padding: 0;\n        }\n\n        yp-image {\n          width: 800px;\n          height: 600px;\n        }\n\n        @media (max-width: 800px) {\n          yp-image {\n            width: 600px;\n            height: 450px;\n          }\n\n          .material {\n            width: 600px;\n          }\n        }\n\n        @media (max-width: 620px) {\n          yp-image {\n            width: 400px;\n            height: 300px;\n          }\n          .material {\n            width: 400px;\n          }\n        }\n\n        @media (max-width: 420px) {\n          yp-image {\n            width: 320px;\n            height: 240px;\n          }\n          .material {\n            width: 320px;\n          }\n\n          .commentsList {\n            margin-left: 16px;\n          }\n        }\n\n        .commentsList {\n          margin-left: 32px;\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n      `,\n    ];\n  }\n\n  override render() {\n    return html`\n      <div\n        class=\"material layout vertical shadow-elevation-2dp shadow-transition\">\n        <yp-image\n          .alt=\"${this.image.description}\"\n          sizing=\"cover\"\n          src=\"${this.imageUrl}\"></yp-image>\n        <div class=\"description\">\n          ${this.image.description}\n        </div>\n        <div class=\"layout horizontal\" style=\"width: 100%;\">\n          <div class=\"photographer\">\n            ${this.image.photographer_name}\n          </div>\n          <div\n            class=\"editMenu layout horizontal flex end-justified\"\n            ?hidden=\"${!YpAccessHelpers.hasImageAccess(this.image, this.post)}\">\n            <md-outlined-icon-button\n              .abel=\"${this.t('edit')}\"\n              icon=\"create\"\n              @click=\"${this._openEdit}\"></md-outlined-icon-button>\n            <md-outlined-icon-button\n              .label=\"${this.t('delete')}\"\n              icon=\"clear\"\n              @click=\"${this._openDelete}\"></md-outlined-icon-button>\n          </div>\n        </div>\n        <yp-point-comment-list\n          class=\"commentsList\"\n          .image=\"${this.image}\"></yp-point-comment-list>\n      </div>\n    `;\n  }\n\n  _openEdit() {\n    window.appGlobals.activity('open', 'userImage.edit');\n    window.appDialogs.getDialogAsync(\"userImageEdit\",  (dialog: YpPostUserImageEdit) => {\n      dialog.setup(this.post, this.image, false, this._refresh.bind(this));\n      dialog.open(false, { postId: this.post.id, userImages: true });\n    });\n  }\n\n  _openDelete() {\n    window.appGlobals.activity('open', 'userImage.delete');\n    window.appDialogs.getDialogAsync(\n      'apiActionDialog',\n      (dialog: YpApiActionDialog) => {\n        dialog.setup(\n          '/api/images/' + this.post.id + '/' + this.image.id + '/user_images',\n          this.t('userImage.deleteConfirmation'),\n          this._refresh.bind(this)\n        );\n        dialog.open();\n      }\n    );\n  }\n\n  _refresh() {\n    this.fire('refresh');\n  }\n\n  get imageUrl() {\n    return YpMediaHelpers.getImageFormatUrl([this.image], 0);\n  }\n}\n"]}