<link rel="import" href="../polymer/polymer.html"><link rel="import" href="../neon-animation/neon-animation-runner-behavior.html"><link rel="import" href="../paper-dialog-behavior/paper-dialog-behavior.html"><link rel="import" href="../paper-styles/paper-styles.html"><dom-module id="paper-dialog"><link rel="import" type="css" href="../paper-dialog-behavior/paper-dialog-common.css"><template><content></content></template></dom-module><script>

(function() {

  Polymer({

    is: 'paper-dialog',

    behaviors: [
      Polymer.PaperDialogBehavior,
      Polymer.NeonAnimationRunnerBehavior
    ],

    listeners: {
      'neon-animation-finish': '_onNeonAnimationFinish'
    },

    _renderOpened: function() {
      if (this.withBackdrop) {
        this.backdropElement.open();
      }
      this.playAnimation('entry');
    },

    _renderClosed: function() {
      if (this.withBackdrop) {
        this.backdropElement.close();
      }
      this.playAnimation('exit');
    },

    _onNeonAnimationFinish: function() {
      if (this.opened) {
        this._finishRenderOpened();
      } else {
        this._finishRenderClosed();
      }
    }

  });

})();

</script>