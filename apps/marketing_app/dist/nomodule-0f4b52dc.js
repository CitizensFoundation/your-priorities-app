System.register(["./nomodule-1afcfdd8.js","./nomodule-a20d78f8.js"],(function(t,e){var n,r,o,i,a,s,l,c,u,d,p,h,f,v,m,y,g,b,x,w,k,C,T,O,A,E,R,P,L,F,D,_,M,W,N,H,I,S,z,j,U,B,K,q,V,X,Y,G,J,Q,Z,$,tt,et,nt,rt,ot,it,at,st;function lt(t){return t.split("-")[0]}function ct(t){return t.split("-")[1]}function ut(t){return["top","bottom"].includes(lt(t))?"x":"y"}function dt(t){return"y"===t?"height":"width"}function pt(t,e,n){var r,o=t.reference,i=t.floating,a=o.x+o.width/2-i.width/2,s=o.y+o.height/2-i.height/2,l=ut(e),c=dt(l),u=o[c]/2-i[c]/2,d="x"===l;switch(lt(e)){case"top":r={x:a,y:o.y-i.height};break;case"bottom":r={x:a,y:o.y+o.height};break;case"right":r={x:o.x+o.width,y:s};break;case"left":r={x:o.x-i.width,y:s};break;default:r={x:o.x,y:o.y}}switch(ct(e)){case"start":r[l]-=u*(n&&d?-1:1);break;case"end":r[l]+=u*(n&&d?-1:1)}return r}function ht(t){return"number"!=typeof t?function(t){return a({top:0,right:0,bottom:0,left:0},t)}(t):{top:t,right:t,bottom:t,left:t}}function ft(t){return a(a({},t),{},{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}function vt(t,e){return mt.apply(this,arguments)}function mt(){return(mt=i(c.mark((function t(e,n){var r,o,i,s,l,u,d,p,h,f,v,m,y,g,b,x,w,k,C,T,O,A;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n={}),o=e.x,i=e.y,s=e.platform,l=e.rects,u=e.elements,d=e.strategy,h=(p=n).boundary,f=void 0===h?"clippingAncestors":h,v=p.rootBoundary,m=void 0===v?"viewport":v,y=p.elementContext,g=void 0===y?"floating":y,b=p.altBoundary,x=void 0!==b&&b,w=p.padding,k=ht(void 0===w?0:w),C="floating"===g?"reference":"floating",T=u[x?C:g],t.t0=ft,t.t1=s,t.next=10,null==s.isElement?void 0:s.isElement(T);case 10:if(t.t2=r=t.sent,null==t.t2){t.next=15;break}t.t3=r,t.next=16;break;case 15:t.t3=!0;case 16:if(!t.t3){t.next=20;break}t.t4=T,t.next=26;break;case 20:if(t.t5=T.contextElement,t.t5){t.next=25;break}return t.next=24,null==s.getDocumentElement?void 0:s.getDocumentElement(u.floating);case 24:t.t5=t.sent;case 25:t.t4=t.t5;case 26:return t.t6=t.t4,t.t7=f,t.t8=m,t.t9=d,t.t10={element:t.t6,boundary:t.t7,rootBoundary:t.t8,strategy:t.t9},t.next=33,t.t1.getClippingRect.call(t.t1,t.t10);case 33:if(t.t11=t.sent,O=(0,t.t0)(t.t11),t.t12=ft,!s.convertOffsetParentRelativeRectToViewportRelativeRect){t.next=49;break}return t.t14=s,t.t15="floating"===g?a(a({},l.floating),{},{x:o,y:i}):l.reference,t.next=41,null==s.getOffsetParent?void 0:s.getOffsetParent(u.floating);case 41:return t.t16=t.sent,t.t17=d,t.t18={rect:t.t15,offsetParent:t.t16,strategy:t.t17},t.next=46,t.t14.convertOffsetParentRelativeRectToViewportRelativeRect.call(t.t14,t.t18);case 46:t.t13=t.sent,t.next=50;break;case 49:t.t13=l[g];case 50:return t.t19=t.t13,A=(0,t.t12)(t.t19),t.abrupt("return",{top:O.top-A.top+k.top,bottom:A.bottom-O.bottom+k.bottom,left:O.left-A.left+k.left,right:A.right-O.right+k.right});case 53:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function yt(t,e,n){return I(t,H(e,n))}function gt(t){return t.replace(/left|right|bottom|top/g,(function(t){return z[t]}))}function bt(t,e,n){void 0===n&&(n=!1);var r=ct(t),o=ut(t),i=dt(o),a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=gt(a)),{main:a,cross:gt(a)}}function xt(t){return t.replace(/start|end/g,(function(t){return j[t]}))}function wt(t){var e=gt(t);return[xt(t),e,xt(e)]}function kt(t,e){return Ct.apply(this,arguments)}function Ct(){return(Ct=i(c.mark((function t(e,n){var r,o,i,s,l,u,d,p,h,f,v,m,y,g;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.placement,o=e.platform,i=e.elements,t.next=3,null==o.isRTL?void 0:o.isRTL(i.floating);case 3:return s=t.sent,l=lt(r),u=ct(r),d="x"===ut(r),p=["left","top"].includes(l)?-1:1,h=s&&d?-1:1,f="function"==typeof n?n(e):n,v="number"==typeof f?{mainAxis:f,crossAxis:0,alignmentAxis:null}:a({mainAxis:0,crossAxis:0,alignmentAxis:null},f),m=v.mainAxis,y=v.crossAxis,g=v.alignmentAxis,u&&"number"==typeof g&&(y="end"===u?-1*g:g),t.abrupt("return",d?{x:y*h,y:m*p}:{x:m*p,y:y*h});case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Tt(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function Ot(t){if(null==t)return window;if(!Tt(t)){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function At(t){return Ot(t).getComputedStyle(t)}function Et(t){return Tt(t)?"":t?(t.nodeName||"").toLowerCase():""}function Rt(){var t=navigator.userAgentData;return null!=t&&t.brands?t.brands.map((function(t){return t.brand+"/"+t.version})).join(" "):navigator.userAgent}function Pt(t){return t instanceof Ot(t).HTMLElement}function Lt(t){return t instanceof Ot(t).Element}function Ft(t){return"undefined"!=typeof ShadowRoot&&(t instanceof Ot(t).ShadowRoot||t instanceof ShadowRoot)}function Dt(t){var e=At(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function _t(t){return["table","td","th"].includes(Et(t))}function Mt(t){var e=/firefox/i.test(Rt()),n=At(t);return"none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||["transform","perspective"].includes(n.willChange)||e&&"filter"===n.willChange||e&&!!n.filter&&"none"!==n.filter}function Wt(){return!/^((?!chrome|android).)*safari/i.test(Rt())}function Nt(t,e,n){var r,o,i,a;void 0===e&&(e=!1),void 0===n&&(n=!1);var s=t.getBoundingClientRect(),l=1,c=1;e&&Pt(t)&&(l=t.offsetWidth>0&&Y(s.width)/t.offsetWidth||1,c=t.offsetHeight>0&&Y(s.height)/t.offsetHeight||1);var u=Lt(t)?Ot(t):window,d=!Wt()&&n,p=(s.left+(d&&null!=(r=null==(o=u.visualViewport)?void 0:o.offsetLeft)?r:0))/l,h=(s.top+(d&&null!=(i=null==(a=u.visualViewport)?void 0:a.offsetTop)?i:0))/c,f=s.width/l,v=s.height/c;return{width:f,height:v,top:h,right:p+f,bottom:h+v,left:p,x:p,y:h}}function Ht(t){return(e=t,(e instanceof Ot(e).Node?t.ownerDocument:t.document)||window.document).documentElement;var e}function It(t){return Lt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function St(t){return Nt(Ht(t)).left+It(t).scrollLeft}function zt(t,e,n){var r=Pt(e),o=Ht(e),i=Nt(t,r&&function(t){var e=Nt(t);return Y(e.width)!==t.offsetWidth||Y(e.height)!==t.offsetHeight}(e),"fixed"===n),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};if(r||!r&&"fixed"!==n)if(("body"!==Et(e)||Dt(o))&&(a=It(e)),Pt(e)){var l=Nt(e,!0);s.x=l.x+e.clientLeft,s.y=l.y+e.clientTop}else o&&(s.x=St(o));return{x:i.left+a.scrollLeft-s.x,y:i.top+a.scrollTop-s.y,width:i.width,height:i.height}}function jt(t){return"html"===Et(t)?t:t.assignedSlot||t.parentNode||(Ft(t)?t.host:null)||Ht(t)}function Ut(t){return Pt(t)&&"fixed"!==getComputedStyle(t).position?t.offsetParent:null}function Bt(t){for(var e=Ot(t),n=Ut(t);n&&_t(n)&&"static"===getComputedStyle(n).position;)n=Ut(n);return n&&("html"===Et(n)||"body"===Et(n)&&"static"===getComputedStyle(n).position&&!Mt(n))?e:n||function(t){var e=jt(t);for(Ft(e)&&(e=e.host);Pt(e)&&!["html","body"].includes(Et(e));){if(Mt(e))return e;e=e.parentNode}return null}(t)||e}function Kt(t){if(Pt(t))return{width:t.offsetWidth,height:t.offsetHeight};var e=Nt(t);return{width:e.width,height:e.height}}function qt(t){var e=t.rect,n=t.offsetParent,r=t.strategy,o=Pt(n),i=Ht(n);if(n===i)return e;var s={scrollLeft:0,scrollTop:0},l={x:0,y:0};if((o||!o&&"fixed"!==r)&&(("body"!==Et(n)||Dt(i))&&(s=It(n)),Pt(n))){var c=Nt(n,!0);l.x=c.x+n.clientLeft,l.y=c.y+n.clientTop}return a(a({},e),{},{x:e.x-s.scrollLeft+l.x,y:e.y-s.scrollTop+l.y})}function Vt(t){var e=jt(t);return["html","body","#document"].includes(Et(e))?t.ownerDocument.body:Pt(e)&&Dt(e)?e:Vt(e)}function Xt(t,e){var n;void 0===e&&(e=[]);var r=Vt(t),o=r===(null==(n=t.ownerDocument)?void 0:n.body),i=Ot(r),a=o?[i].concat(i.visualViewport||[],Dt(r)?r:[]):r,s=e.concat(a);return o?s:s.concat(Xt(a))}function Yt(t,e,n){return"viewport"===e?ft(function(t,e){var n=Ot(t),r=Ht(t),o=n.visualViewport,i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;var c=Wt();(c||!c&&"fixed"===e)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s,y:l}}(t,n)):Lt(e)?function(t,e){var n=Nt(t,!1,"fixed"===e),r=n.top+t.clientTop,o=n.left+t.clientLeft;return{top:r,left:o,x:o,y:r,right:o+t.clientWidth,bottom:r+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}(e,n):ft(function(t){var e,n=Ht(t),r=It(t),o=null==(e=t.ownerDocument)?void 0:e.body,i=X(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),a=X(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),s=-r.scrollLeft+St(t),l=-r.scrollTop;return"rtl"===At(o||n).direction&&(s+=X(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:a,x:s,y:l}}(Ht(t)))}function Gt(t){var e=Xt(t),n=["absolute","fixed"].includes(At(t).position)&&Pt(t)?Bt(t):t;return Lt(n)?e.filter((function(t){return Lt(t)&&function(t,e){var n=null==e.getRootNode?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&Ft(n)){var r=e;do{if(r&&t===r)return!0;r=r.parentNode||r.host}while(r)}return!1}(t,n)&&"body"!==Et(t)})):[]}function Jt(t){var e=t.element,n=t.boundary,r=t.rootBoundary,i=t.strategy,a="clippingAncestors"===n?Gt(e):[].concat(n),s=[].concat(o(a),[r]),l=s[0],c=s.reduce((function(t,n){var r=Yt(e,n,i);return t.top=X(r.top,t.top),t.right=V(r.right,t.right),t.bottom=V(r.bottom,t.bottom),t.left=X(r.left,t.left),t}),Yt(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}return{setters:[function(t){n=t.taggedTemplateLiteral,r=t.createForOfIteratorHelper,o=t.toConsumableArray,i=t.asyncToGenerator,a=t.objectSpread2,s=t.defineProperty,l=t.typeof,c=t.regeneratorRuntime,u=t.objectWithoutProperties,d=t.createSuper,p=t.inherits,h=t.getPrototypeOf,f=t.get,v=t.assertThisInitialized,m=t.createClass,y=t.classCallCheck,g=t.slicedToArray},function(t){b=t.J,x=t.K,w=t.L,k=t.M,C=t.N,T=t.O}],execute:function(){O=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"],A=["mainAxis","crossAxis","limiter"],E=["apply"],'button:not([tabindex="-1"]), [href]:not([tabindex="-1"]), input:not([tabindex="-1"]), select:not([tabindex="-1"]), textarea:not([tabindex="-1"]), [tabindex]:not([tabindex="-1"]), [focusable]:not([tabindex="-1"])',F=function(t){return t.querySelector('button:not([tabindex="-1"]), [href]:not([tabindex="-1"]), input:not([tabindex="-1"]), select:not([tabindex="-1"]), textarea:not([tabindex="-1"]), [tabindex]:not([tabindex="-1"]), [focusable]:not([tabindex="-1"])')},D=b(R||(R=n(["\n@keyframes sp-overlay-fade-in{0%{opacity:0;transform:var(--sp-overlay-from)}to{opacity:1;transform:translate(0)}}@keyframes sp-overlay-fade-out{0%{opacity:1;transform:translate(0)}to{opacity:0;transform:var(--sp-overlay-from)}}:host{display:inline-block;left:-9999em;pointer-events:none;position:absolute;top:-9999em;z-index:1000}:host(:focus){outline:none}:host([placement=none]){height:100vh;height:-webkit-fill-available;height:fill-available;left:0;max-height:var(--swc-visual-viewport-height);position:fixed;top:0}#contents,sp-theme{height:100%}#contents{--swc-overlay-animation-distance:var(\n--spectrum-picker-m-texticon-popover-offset-y,var(--spectrum-global-dimension-size-75)\n);animation-duration:var(\n--swc-test-duration,var(--spectrum-global-animation-duration-200,.16s)\n);animation-timing-function:var(\n--spectrum-global-animation-ease-out,ease-out\n);box-sizing:border-box;display:inline-block;opacity:1;pointer-events:none;visibility:visible}:host([actual-placement*=top]) #contents{--sp-overlay-from:translateY(var(--spectrum-global-dimension-size-75));align-items:flex-end;display:inline-flex;padding-top:var(--swc-overlay-animation-distance)}:host([actual-placement*=right]) #contents{--sp-overlay-from:translateX(calc(var(--spectrum-global-dimension-size-75)*-1));padding-right:var(--swc-overlay-animation-distance)}:host([actual-placement*=bottom]) #contents{--sp-overlay-from:translateY(calc(var(--spectrum-global-dimension-size-75)*-1));padding-bottom:var(--swc-overlay-animation-distance)}:host([actual-placement*=left]) #contents{--sp-overlay-from:translateX(var(--spectrum-global-dimension-size-75));padding-left:var(--swc-overlay-animation-distance)}:host([animating]) ::slotted(*){pointer-events:none}:host(:not([animating])) ::slotted(*){pointer-events:auto}#contents ::slotted(*){position:relative}\n"]))),_=D,M=function t(e){if(!e)return null;var n=e.closest("active-overlay");if(n)return n;var r=e.getRootNode();return r.host?t(r.host):null},W=function t(e,n){var i=[];if(!e)return[];var a,s=r(n);try{for(s.s();!(a=s.n()).done;){var l=a.value;!l.root||M(l.root)===e&&(i.push(l),i.push.apply(i,o(t(l,n))))}}catch(t){s.e(t)}finally{s.f()}return i},N=function(){var t=i(c.mark((function t(e,n,r){var o,i,u,d,p,h,f,v,m,y,g,b,x,w,k,C,T,O,A,E,R,P,L,F,D;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.placement,i=void 0===o?"bottom":o,u=r.strategy,d=void 0===u?"absolute":u,p=r.middleware,h=void 0===p?[]:p,f=r.platform,t.next=3,null==f.isRTL?void 0:f.isRTL(n);case 3:if(v=t.sent,"production"===process.env.NODE_ENV){t.next=8;break}if(null==f&&console.error(["Floating UI: `platform` property was not passed to config. If you","want to use Floating UI on the web, install @floating-ui/dom","instead of the /core package. Otherwise, you can create your own","`platform`: https://floating-ui.com/docs/platform"].join(" ")),!(h.filter((function(t){var e=t.name;return"autoPlacement"===e||"flip"===e})).length>1)){t.next=8;break}throw new Error(["Floating UI: duplicate `flip` and/or `autoPlacement`","middleware detected. This will lead to an infinite loop. Ensure only","one of either has been passed to the `middleware` array."].join(" "));case 8:return t.next=10,f.getElementRects({reference:e,floating:n,strategy:d});case 10:m=t.sent,y=pt(m,i,v),g=y.x,b=y.y,x=i,w={},k=0,C=0;case 16:if(!(C<h.length)){t.next=50;break}return T=h[C],O=T.name,A=T.fn,t.next=20,A({x:g,y:b,initialPlacement:i,placement:x,strategy:d,middlewareData:w,rects:m,platform:f,elements:{reference:e,floating:n}});case 20:if(E=t.sent,R=E.x,P=E.y,L=E.data,F=E.reset,g=null!=R?R:g,b=null!=P?P:b,w=a(a({},w),{},s({},O,a(a({},w[O]),L))),"production"!==process.env.NODE_ENV&&k>50&&console.warn(["Floating UI: The middleware lifecycle appears to be running in an","infinite loop. This is usually caused by a `reset` continually","being returned without a break condition."].join(" ")),!(F&&k<=50)){t.next=47;break}if(k++,"object"!==l(F)){t.next=45;break}if(F.placement&&(x=F.placement),!F.rects){t.next=42;break}if(!0!==F.rects){t.next=40;break}return t.next=37,f.getElementRects({reference:e,floating:n,strategy:d});case 37:t.t0=t.sent,t.next=41;break;case 40:t.t0=F.rects;case 41:m=t.t0;case 42:D=pt(m,x,v),g=D.x,b=D.y;case 45:return C=-1,t.abrupt("continue",47);case 47:C++,t.next=16;break;case 50:return t.abrupt("return",{x:g,y:b,placement:x,strategy:d,middlewareData:w});case 51:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),H=Math.min,I=Math.max,S=function(t){return{name:"arrow",options:t,fn:function(e){return i(c.mark((function n(){var r,o,i,a,l,u,d,p,h,f,v,m,y,g,b,x,w,k,C,T,O,A,E,R,P,L,F,D,_,M,W;return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=(i=null!=t?t:{}).element,l=i.padding,u=void 0===l?0:l,d=e.x,p=e.y,h=e.placement,f=e.rects,v=e.platform,null!=a){n.next=5;break}return"production"!==process.env.NODE_ENV&&console.warn("Floating UI: No `element` was passed to the `arrow` middleware."),n.abrupt("return",{});case 5:return m=ht(u),y={x:d,y:p},g=ut(h),b=ct(h),x=dt(g),n.next=12,v.getDimensions(a);case 12:return w=n.sent,k="y"===g?"top":"left",C="y"===g?"bottom":"right",T=f.reference[x]+f.reference[g]-y[g]-f.floating[x],O=y[g]-f.reference[g],n.next=19,null==v.getOffsetParent?void 0:v.getOffsetParent(a);case 19:return A=n.sent,0===(E=A?"y"===g?A.clientHeight||0:A.clientWidth||0:0)&&(E=f.floating[x]),R=T/2-O/2,P=m[k],L=E-w[x]-m[C],F=E/2-w[x]/2+R,D=yt(P,F,L),_="start"===b?m[k]:m[C],M=_>0&&F!==D&&f.reference[x]<=f.floating[x],W=M?F<P?P-F:L-F:0,n.abrupt("return",(s(o={},g,y[g]-W),s(o,"data",(s(r={},g,D),s(r,"centerOffset",F-D),r)),o));case 31:case"end":return n.stop()}}),n)})))()}}},z={left:"right",right:"left",bottom:"top",top:"bottom"},j={start:"end",end:"start"},U=function(t){return void 0===t&&(t={}),{name:"flip",options:t,fn:function(e){return i(c.mark((function n(){var r,i,a,s,l,d,p,h,f,v,m,y,g,b,x,w,k,C,T,A,E,R,P,L,F,D,_,M,W,N,H,I,S,z,j;return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.placement,a=e.middlewareData,s=e.rects,l=e.initialPlacement,d=e.platform,p=e.elements,f=(h=t).mainAxis,v=void 0===f||f,m=h.crossAxis,y=void 0===m||m,g=h.fallbackPlacements,b=h.fallbackStrategy,x=void 0===b?"bestFit":b,w=h.flipAlignment,k=void 0===w||w,C=u(h,O),T=lt(i),A=T===l,E=g||(A||!k?[gt(l)]:wt(l)),R=[l].concat(o(E)),n.next=8,vt(e,C);case 8:if(P=n.sent,L=[],F=(null==(r=a.flip)?void 0:r.overflows)||[],v&&L.push(P[T]),!y){n.next=23;break}return n.t0=bt,n.t1=i,n.t2=s,n.next=18,null==d.isRTL?void 0:d.isRTL(p.floating);case 18:n.t3=n.sent,D=(0,n.t0)(n.t1,n.t2,n.t3),_=D.main,M=D.cross,L.push(P[_],P[M]);case 23:if(F=[].concat(o(F),[{placement:i,overflows:L}]),L.every((function(t){return t<=0}))){n.next=40;break}if(H=(null!=(W=null==(N=a.flip)?void 0:N.index)?W:0)+1,!(I=R[H])){n.next=29;break}return n.abrupt("return",{data:{index:H,overflows:F},reset:{placement:I}});case 29:S="bottom",n.t4=x,n.next="bestFit"===n.t4?33:"initialPlacement"===n.t4?36:38;break;case 33:return(j=null==(z=F.map((function(t){return[t,t.overflows.filter((function(t){return t>0})).reduce((function(t,e){return t+e}),0)]})).sort((function(t,e){return t[1]-e[1]}))[0])?void 0:z[0].placement)&&(S=j),n.abrupt("break",38);case 36:return S=l,n.abrupt("break",38);case 38:if(i===S){n.next=40;break}return n.abrupt("return",{reset:{placement:S}});case 40:return n.abrupt("return",{});case 41:case"end":return n.stop()}}),n)})))()}}},B=function(t){return void 0===t&&(t=0),{name:"offset",options:t,fn:function(e){return i(c.mark((function n(){var r,o,i;return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.x,o=e.y,n.next=3,kt(e,t);case 3:return i=n.sent,n.abrupt("return",{x:r+i.x,y:o+i.y,data:i});case 5:case"end":return n.stop()}}),n)})))()}}},K=function(t){return void 0===t&&(t={}),{name:"shift",options:t,fn:function(e){return i(c.mark((function n(){var r,o,i,l,d,p,h,f,v,m,y,g,b,x,w,k,C,T,O,E,R,P,L,F,D;return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=e.x,i=e.y,l=e.placement,p=(d=t).mainAxis,h=void 0===p||p,f=d.crossAxis,v=void 0!==f&&f,m=d.limiter,y=void 0===m?{fn:function(t){return{x:t.x,y:t.y}}}:m,g=u(d,A),b={x:o,y:i},n.next=5,vt(e,g);case 5:return x=n.sent,w=ut(lt(l)),k="x"===w?"y":"x",C=b[w],T=b[k],h&&(O="y"===w?"bottom":"right",E=C+x["y"===w?"top":"left"],R=C-x[O],C=yt(E,C,R)),v&&(P="y"===k?"bottom":"right",L=T+x["y"===k?"top":"left"],F=T-x[P],T=yt(L,T,F)),D=y.fn(a(a({},e),{},(s(r={},w,C),s(r,k,T),r))),n.abrupt("return",a(a({},D),{},{data:{x:D.x-o,y:D.y-i}}));case 14:case"end":return n.stop()}}),n)})))()}}},q=function(t){return void 0===t&&(t={}),{name:"size",options:t,fn:function(e){return i(c.mark((function n(){var r,o,i,s,l,d,p,h,f,v,m,y,g,b,x,w,k,C,T;return c.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.placement,o=e.rects,i=e.platform,s=e.elements,d=(l=t).apply,p=u(l,E),n.next=4,vt(e,p);case 4:if(h=n.sent,f=lt(r),v=ct(r),"top"!==f&&"bottom"!==f){n.next=26;break}return m=f,n.t0=v,n.next=12,null==i.isRTL?void 0:i.isRTL(s.floating);case 12:if(!n.sent){n.next=16;break}n.t1="start",n.next=17;break;case 16:n.t1="end";case 17:if(n.t2=n.t1,n.t0!==n.t2){n.next=22;break}n.t3="left",n.next=23;break;case 22:n.t3="right";case 23:y=n.t3,n.next=28;break;case 26:y=f,m="end"===v?"top":"bottom";case 28:return g=I(h.left,0),b=I(h.right,0),x=I(h.top,0),w=I(h.bottom,0),k={availableHeight:o.floating.height-(["left","right"].includes(r)?2*(0!==x||0!==w?x+w:I(h.top,h.bottom)):h[m]),availableWidth:o.floating.width-(["top","bottom"].includes(r)?2*(0!==g||0!==b?g+b:I(h.left,h.right)):h[y])},n.next=35,i.getDimensions(s.floating);case 35:return C=n.sent,null==d||d(a(a({},e),k)),n.next=39,i.getDimensions(s.floating);case 39:if(T=n.sent,C.width===T.width&&C.height===T.height){n.next=42;break}return n.abrupt("return",{reset:{rects:!0}});case 42:return n.abrupt("return",{});case 43:case"end":return n.stop()}}),n)})))()}}},V=Math.min,X=Math.max,Y=Math.round,G={getClippingRect:Jt,convertOffsetParentRelativeRectToViewportRelativeRect:qt,isElement:Lt,getDimensions:Kt,getOffsetParent:Bt,getDocumentElement:Ht,getElementRects:function(t){var e=t.reference,n=t.floating,r=t.strategy;return{reference:zt(e,Bt(n),r),floating:a(a({},Kt(n)),{},{x:0,y:0})}},getClientRects:function(t){return Array.from(t.getClientRects())},isRTL:function(t){return"rtl"===At(t).direction}},J=function(t,e,n){return N(t,e,a({platform:G},n))},Q=Object.defineProperty,Z=Object.getOwnPropertyDescriptor,$=function(t,e,n,r){for(var o,i=r>1?void 0:r?Z(e,n):e,a=t.length-1;a>=0;a--)(o=t[a])&&(i=(r?o(e,n,i):o(i))||i);return r&&i&&Q(e,n,i),i},tt={initial:"idle",states:{idle:{on:{active:"active"}},active:{on:{hiding:"hiding",idle:"idle"}},hiding:{on:{dispose:"dispose"}},dispose:{on:{disposed:"disposed"}},disposed:{on:{}}}},et=function(t,e){return t?e&&tt.states[t].on[e]||t:tt.initial},nt=function(t){var e;return null!=(e={left:["right","bottom","top"],"left-start":["right-start","bottom","top"],"left-end":["right-end","bottom","top"],right:["left","bottom","top"],"right-start":["left-start","bottom","top"],"right-end":["left-end","bottom","top"],top:["bottom","left","right"],"top-start":["bottom-start","left","right"],"top-end":["bottom-end","left","right"],bottom:["top","left","right"],"bottom-start":["top-start","left","right"],"bottom-end":["top-end","left","right"]}[t])?e:[t]},rt=function(t){p(u,t);var e,r,o,a,s,l=d(u);function u(){var t;return y(this,u),(t=l.call(this))._state=et(),t.animating=!1,t.theme={},t.tabbingAway=!1,t.offset=6,t.skidding=0,t.interaction="hover",t.positionAnimationFrame=0,t.willNotifyClosed=!1,t.isConstrained=!1,t.updateOverlayPosition=i(c.mark((function e(){var n,r,o,i,a,s,l,u,d,p,h;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=function(t){var e=window.devicePixelRatio||1;return Math.round(t*e)/e||-1e4},t.placement&&"none"!==t.placement){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,document.fonts?document.fonts.ready:Promise.resolve();case 5:return 8,100,r=t.virtualTrigger?U({padding:8,fallbackPlacements:nt(t.placement)}):U({padding:8}),o=[B({mainAxis:t.offset,crossAxis:t.skidding}),K({padding:8}),r,q({padding:8,apply:function(e){var n=e.availableWidth,r=e.availableHeight,o=e.rects.floating,i=Math.max(100,Math.floor(r)),a=o.height;t.initialHeight=(t.isConstrained||t.virtualTrigger)&&t.initialHeight||a,t.isConstrained=a<t.initialHeight||i<=a;var s=t.isConstrained?"".concat(i,"px"):"";Object.assign(t.style,{maxWidth:"".concat(Math.floor(n),"px"),maxHeight:s,height:s})}})],t.overlayContentTip&&o.push(S({element:t.overlayContentTip})),e.next=9,J(t.virtualTrigger||t.trigger,v(t),{placement:t.placement,middleware:o});case 9:i=e.sent,a=i.x,s=i.y,l=i.placement,u=i.middlewareData,Object.assign(t.style,{top:"0px",left:"0px",transform:"translate(".concat(n(a),"px, ").concat(n(s),"px)")}),l!==t.getAttribute("actual-placement")&&(t.setAttribute("actual-placement",l),t.overlayContent.setAttribute("placement",l)),t.overlayContentTip&&u.arrow&&(d=u.arrow,p=d.x,h=d.y,Object.assign(t.overlayContentTip.style,{left:null!=p?"".concat(n(p),"px"):"",top:null!=h?"".concat(n(h),"px"):"",right:"",bottom:""}));case 15:case"end":return e.stop()}}),e)}))),t.handleInlineTriggerKeydown=function(e){var n=e.code,r=e.shiftKey;if("Tab"===n){if(r)return t.tabbingAway=!0,void t.dispatchEvent(new Event("close"));e.stopPropagation(),e.preventDefault(),t.focus()}},t.stealOverlayContentPromise=Promise.resolve(),t.stealOverlayContentPromise=new Promise((function(e){return t.stealOverlayContentResolver=e})),t}return m(u,[{key:"state",get:function(){return this._state},set:function(t){var e=et(this.state,t);e!==this.state&&(this._state=e,"active"===this.state||"hiding"===this.state?this.setAttribute("state",this.state):this.removeAttribute("state"))}},{key:"focus",value:(s=i(c.mark((function t(){var e,n;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=F(this))){t.next=10;break}if(t.t0=e.updateComplete,!t.t0){t.next=6;break}return t.next=6,e.updateComplete;case 6:((n=this.getRootNode().activeElement)===this||!this.contains(n))&&e.focus(),t.next=11;break;case 10:f(h(u.prototype),"focus",this).call(this);case 11:this.removeAttribute("tabindex");case 12:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"hasTheme",get:function(){return!!this.theme.color||!!this.theme.scale||!!this.theme.lang}},{key:"hasModalRoot",get:function(){return!!this._modalRoot}},{key:"feature",value:function(){this.tabIndex=-1;var t=M(this.trigger);t&&"open"===t.slot&&(this._modalRoot=t._modalRoot||t),("modal"===this.interaction||this._modalRoot)&&(this.slot="open","modal"===this.interaction&&this.setAttribute("aria-modal","true"),this._modalRoot&&(null==t||t.feature()))}},{key:"obscure",value:function(t){if(this.slot&&"modal"===t){if(this.removeAttribute("slot"),this.removeAttribute("aria-modal"),"modal"!==this.interaction){var e=M(this.trigger);return this._modalRoot=null==e?void 0:e.obscure(t),this._modalRoot}return this}}},{key:"willUpdate",value:(a=i(c.mark((function t(){var e;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hasUpdated&&this.overlayContent&&this.trigger){t.next=2;break}return t.abrupt("return");case 2:if(this.stealOverlayContent(this.overlayContent),this.state="active",this.feature(),"none"!==this.placement){t.next=9;break}this.style.setProperty("--swc-visual-viewport-height","".concat(window.innerHeight,"px")),t.next=15;break;case 9:if(t.t0=this.placement,!t.t0){t.next=15;break}return t.next=13,this.updateOverlayPosition();case 13:document.addEventListener("sp-update-overlays",this.updateOverlayPosition),window.addEventListener("scroll",this.updateOverlayPosition);case 15:e=[],this.placement&&"none"!==this.placement&&e.push(this.applyContentAnimation("sp-overlay-fade-in")),void 0!==this.overlayContent.updateComplete&&e.push(this.overlayContent.updateComplete),this.childrenReady=Promise.all(e);case 17:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"openCallback",value:(o=i(c.mark((function t(e){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.updateComplete;case 2:if(t.t0=this.receivesFocus,!t.t0){t.next=6;break}return t.next=6,this.focus();case 6:return t.next=8,e();case 8:this.trigger.dispatchEvent(new CustomEvent("sp-opened",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:this.interaction}}));case 9:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"open",value:function(t){this.extractDetail(t)}},{key:"extractDetail",value:function(t){this.overlayContent=t.content,this.overlayContentTip=t.contentTip,this.trigger=t.trigger,this.virtualTrigger=t.virtualTrigger,this.placement=t.placement,this.offset=t.offset,this.skidding=t.skidding||0,this.interaction=t.interaction,this.theme=t.theme,this.receivesFocus=t.receivesFocus,this.root=t.root}},{key:"dispose",value:function(){"dispose"===this.state&&(this.timeout&&(clearTimeout(this.timeout),delete this.timeout),this.trigger.removeEventListener("keydown",this.handleInlineTriggerKeydown),this.returnOverlayContent(),this.state="disposed",this.willNotifyClosed&&(this.overlayContent.dispatchEvent(new Event("sp-overlay-closed")),this.willNotifyClosed=!1))}},{key:"stealOverlayContent",value:function(t){this.originalPlacement=t.getAttribute("placement"),this.restoreContent=k([t],this,{position:"beforeend",prepareCallback:function(t){var e=t.slot,n=t.placement;return t.removeAttribute("slot"),function(t){t.slot=e,t.placement=n}}}),this.stealOverlayContentResolver()}},{key:"returnOverlayContent",value:function(){if(this.restoreContent){var t=this.restoreContent(),e=g(t,1)[0];this.restoreContent=void 0,this.willNotifyClosed=!0,this.originalPlacement&&(e.setAttribute("placement",this.originalPlacement),delete this.originalPlacement)}}},{key:"hide",value:(r=i(c.mark((function t(){var e,n=arguments;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=!(n.length>0&&void 0!==n[0])||n[0],this.state="hiding",t.t0=e,!t.t0){t.next=6;break}return t.next=6,this.applyContentAnimation("sp-overlay-fade-out");case 6:this.state="dispose";case 7:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"schedulePositionUpdate",value:function(){var t=this;cancelAnimationFrame(this.positionAnimationFrame),this.positionAnimationFrame=requestAnimationFrame((function(){return t.updateOverlayPosition()}))}},{key:"onSlotChange",value:function(){this.schedulePositionUpdate()}},{key:"applyContentAnimation",value:function(t){var e=this;return"none"===this.placement?Promise.resolve(!0):new Promise((function(n){var r=e.shadowRoot.querySelector("#contents"),o=function o(i){t===i.animationName&&(r.removeEventListener("animationend",o),r.removeEventListener("animationcancel",o),e.animating=!1,n("animationcancel"===i.type))};r.addEventListener("animationend",o),r.addEventListener("animationcancel",o),r.style.animationName=t,e.animating=!0}))}},{key:"renderTheme",value:function(t){var e=this.theme,r=e.color,o=e.scale,i=e.lang,a=e.theme;return C(P||(P=n(["\n            <sp-theme\n                theme=","\n                color=","\n                scale=","\n                lang=",'\n                part="theme"\n            >\n                ',"\n            </sp-theme>\n        "])),T(a),T(r),T(o),T(i),t)}},{key:"render",value:function(){var t=C(L||(L=n(['\n            <div id="contents">\n                <slot @slotchange=',"></slot>\n            </div>\n        "])),this.onSlotChange);return this.hasTheme?this.renderTheme(t):t}},{key:"getUpdateComplete",value:(e=i(c.mark((function t(){var e,n,r,o;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=[f(h(u.prototype),"getUpdateComplete",this).call(this),this.stealOverlayContentPromise],this.childrenReady&&e.push(this.childrenReady),t.next=4,Promise.all(e);case 4:return n=t.sent,r=g(n,1),o=r[0],t.abrupt("return",o);case 8:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"disconnectedCallback",value:function(){document.removeEventListener("sp-update-overlays",this.updateOverlayPosition),window.removeEventListener("scroll",this.updateOverlayPosition),f(h(u.prototype),"disconnectedCallback",this).call(this)}}],[{key:"styles",get:function(){return[_]}},{key:"create",value:function(t){var e=new u;return t.content&&e.open(t),e}}]),u}(w),$([x()],rt.prototype,"_state",2),$([x({reflect:!0,type:Boolean})],rt.prototype,"animating",2),$([x({reflect:!0})],rt.prototype,"placement",2),$([x({attribute:!1})],rt.prototype,"theme",2),$([x({attribute:!1})],rt.prototype,"receivesFocus",2),ot=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y(this,t),this.warmUpDelay=1e3,this.coolDownDelay=1e3,this.isWarm=!1,this.timeout=0,Object.assign(this,e)}var e;return m(t,[{key:"openTimer",value:(e=i(c.mark((function t(e){var n=this;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.cancelCooldownTimer(),this.component&&e===this.component){t.next=2;break}return t.abrupt("return",(this.component&&(this.close(this.component),this.cancelCooldownTimer()),this.component=e,!this.isWarm&&(this.promise=new Promise((function(t){n.resolve=t,n.timeout=window.setTimeout((function(){n.resolve&&(n.resolve(!1),n.isWarm=!0)}),n.warmUpDelay)})),this.promise)));case 2:if(!this.promise){t.next=4;break}return t.abrupt("return",this.promise);case 4:throw new Error("Inconsistent state");case 5:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"close",value:function(t){this.component&&this.component===t&&(this.resetCooldownTimer(),this.timeout>0&&(clearTimeout(this.timeout),this.timeout=0),this.resolve&&(this.resolve(!0),delete this.resolve),delete this.promise,delete this.component)}},{key:"resetCooldownTimer",value:function(){var t=this;this.isWarm&&(this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),this.cooldownTimeout=window.setTimeout((function(){t.isWarm=!1,delete t.cooldownTimeout}),this.coolDownDelay))}},{key:"cancelCooldownTimer",value:function(){this.cooldownTimeout&&window.clearTimeout(this.cooldownTimeout),delete this.cooldownTimeout}}]),t}(),customElements.define("active-overlay",rt),it=function(t,e){for(var n=document.elementFromPoint(t,e);null!=n&&n.shadowRoot;){var r=n.shadowRoot.elementFromPoint(t,e);if(!r||r===n)break;n=r}return n},at=function(){function t(){var e=this;y(this,t),this.overlays=[],this.preventMouseRootClose=!1,this.root=document.body,this.handlingResize=!1,this.overlayTimer=new ot,this.canTabTrap=!0,this.trappingInited=!1,this._eventsAreBound=!1,this._bodyMarginsApplied=!1,this.forwardContextmenuEvent=function(){var t=i(c.mark((function t(n){var r,o;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=e.overlays[e.overlays.length-1],t.t0=!e.trappingInited||"modal"!==o.interaction||n.target!==e.overlayHolder,t.t0){t.next=8;break}return n.stopPropagation(),n.preventDefault(),t.next=7,e.closeTopOverlay();case 7:null==(r=it(n.clientX,n.clientY))||r.dispatchEvent(new MouseEvent("contextmenu",n));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.handleOverlayClose=function(t){var n=t.root;!n||e.closeOverlaysForRoot(n)},this.handleMouseCapture=function(t){var n,r=e.topOverlay;if(t.target&&r&&r.overlayContent&&!((n=t).metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&function(t){return 0===t.button}(t)){if(t.target instanceof Node){if(t.composedPath().indexOf(r.overlayContent)>=0)return void(e.preventMouseRootClose=!0);e.preventMouseRootClose=!1}}else e.preventMouseRootClose=!0},this._doesNotCloseOnFirstClick=!1,this.handleMouse=function(t){var n;if(e._doesNotCloseOnFirstClick)e._doesNotCloseOnFirstClick=!1;else if(!e.preventMouseRootClose&&!t.defaultPrevented){e.closeTopOverlay();for(var r=[],o=null==(n=e.topOverlay)?void 0:n.root,i=M(o);o&&i;)r.push(i),o=null==(i=M(o))?void 0:i.root;i&&r.push(i),r.forEach((function(t){return e.hideAndCloseOverlay(t)}))}},this.handleKeyUp=function(t){"Escape"===t.code&&e.closeTopOverlay()},this.handleResize=function(){e.handlingResize||(e.handlingResize=!0,requestAnimationFrame(i(c.mark((function t(){var n;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.overlays.map((function(t){return t.updateOverlayPosition()})),t.next=3,Promise.all(n);case 3:e.handlingResize=!1;case 4:case"end":return t.stop()}}),t)})))))}}var e,n,a;return m(t,[{key:"initTabTrapping",value:function(){var t=this;if(!this.trappingInited)if(this.trappingInited=!0,this.document.body.shadowRoot)this.canTabTrap=!1;else if(this.document.body.attachShadow({mode:"open"}),this.document.body.shadowRoot){var e=this.document.body.shadowRoot;e.innerHTML='\n            <style>\n            :host {\n                position: relative;\n            }\n            #actual {\n                position: relative;\n                height: calc(100% - var(--swc-body-margins-block, 0px));\n                z-index: 0;\n                min-height: calc(100vh - var(--swc-body-margins-block, 0px));\n            }\n            #holder {\n                display: none;\n                align-items: center;\n                justify-content: center;\n                flex-flow: column;\n                width: 100%;\n                height: 100%;\n                position: absolute;\n                top: 0;\n                left: 0;\n            }\n            [name="open"]::slotted(*) {\n                pointer-events: all;\n            }\n            #actual[aria-hidden] + #holder {\n                display: flex;\n            }\n            </style>\n            <div id="actual"><slot></slot></div>\n            <div id="holder"><slot name="open"></slot></div>\n        ',this.tabTrapper=e.querySelector("#actual"),this.overlayHolder=e.querySelector("#holder"),this.tabTrapper.attachShadow({mode:"open"}),this.tabTrapper.shadowRoot&&(this.tabTrapper.shadowRoot.innerHTML="<slot></slot>"),this.overlayHolder.addEventListener("contextmenu",this.forwardContextmenuEvent,!0),requestAnimationFrame((function(){t.applyBodyMargins(),new ResizeObserver((function(){t.applyBodyMargins()})).observe(document.body)}))}}},{key:"applyBodyMargins",value:function(){var t=getComputedStyle(document.body),e=t.marginLeft,n=t.marginRight,r=t.marginTop,o=t.marginBottom,i=0===parseFloat(e)&&0===parseFloat(n)&&0===parseFloat(r)&&0===parseFloat(o);i&&!this._bodyMarginsApplied||(this.tabTrapper.style.setProperty("--swc-body-margins-inline","calc(".concat(e," + ").concat(n,")")),this.tabTrapper.style.setProperty("--swc-body-margins-block","calc(".concat(r," + ").concat(o,")")),this._bodyMarginsApplied=!i)}},{key:"startTabTrapping",value:function(){this.initTabTrapping(),this.canTabTrap&&(this.tabTrapper.tabIndex=-1,this.tabTrapper.setAttribute("aria-hidden","true"))}},{key:"stopTabTrapping",value:function(){!this.canTabTrap||!this.trappingInited||(this.tabTrapper.removeAttribute("tabindex"),this.tabTrapper.removeAttribute("aria-hidden"))}},{key:"document",get:function(){return this.root.ownerDocument||document}},{key:"topOverlay",get:function(){return this.overlays.slice(-1)[0]}},{key:"findOverlayForContent",value:function(t){var e,n=r(this.overlays);try{for(n.s();!(e=n.n()).done;){var o=e.value;if(t===o.overlayContent)return o}}catch(t){n.e(t)}finally{n.f()}}},{key:"addEventListeners",value:function(){this._eventsAreBound||(this._eventsAreBound=!0,this.document.addEventListener("click",this.handleMouseCapture,!0),this.document.addEventListener("click",this.handleMouse),this.document.addEventListener("keyup",this.handleKeyUp),this.document.addEventListener("sp-overlay-close",this.handleOverlayClose),window.addEventListener("resize",this.handleResize))}},{key:"isClickOverlayActiveForTrigger",value:function(t){return this.overlays.some((function(e){return t===e.trigger&&"click"===e.interaction}))}},{key:"openOverlay",value:(a=i(c.mark((function t(e){var n,r,o,a,s,l,u=this;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.addEventListeners(),!this.findOverlayForContent(e.content)){t.next=2;break}return t.abrupt("return",!1);case 2:if(e.notImmediatelyClosable&&(this._doesNotCloseOnFirstClick=!0),"modal"===e.interaction&&this.startTabTrapping(),(n=e.content).overlayWillOpenCallback&&(r=e.trigger,n.overlayWillOpenCallback({trigger:r})),!e.delayed){t.next=14;break}return o=[this.overlayTimer.openTimer(e.content)],e.abortPromise&&o.push(e.abortPromise),t.next=10,Promise.race(o);case 10:if(!(a=t.sent)){t.next=14;break}return n.overlayOpenCancelledCallback&&(s=e.trigger,n.overlayOpenCancelledCallback({trigger:s})),t.abrupt("return",a);case 14:if(e.root&&this.closeOverlaysForRoot(e.root),"click"!==e.interaction){t.next=18;break}this.closeAllHoverOverlays(),t.next=20;break;case 18:if("hover"!==e.interaction||!this.isClickOverlayActiveForTrigger(e.trigger)){t.next=20;break}return t.abrupt("return",!0);case 20:return l=rt.create(e),t.abrupt("return",(this.overlays.length&&this.overlays[this.overlays.length-1].obscure(l.interaction),document.body.appendChild(l),new Promise((function(t){return requestAnimationFrame(t)})).then(i(c.mark((function t(){var e,r,o;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u.overlays.push(l),t.next=3,l.updateComplete;case 3:return u.addOverlayEventListeners(l),void 0!==n.open&&(n.open=!0),e=function(){},n.overlayOpenCallback&&(r=l.trigger,o=n.overlayOpenCallback,e=function(){var t=i(c.mark((function t(){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o({trigger:r});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()),t.next=9,l.openCallback(e);case 9:return t.abrupt("return",!1);case 10:case"end":return t.stop()}}),t)}))))));case 22:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"addOverlayEventListeners",value:function(t){var e=this;switch(t.addEventListener("close",(function(){e.hideAndCloseOverlay(t,!0)})),t.interaction){case"replace":this.addReplaceOverlayEventListeners(t);break;case"inline":this.addInlineOverlayEventListeners(t)}}},{key:"addReplaceOverlayEventListeners",value:function(t){var e=this;t.addEventListener("keydown",(function(n){"Tab"===n.code&&(n.stopPropagation(),e.closeOverlay(t.overlayContent),t.tabbingAway=!0,t.trigger.focus(),t.trigger.dispatchEvent(new KeyboardEvent("keydown",n)))}))}},{key:"addInlineOverlayEventListeners",value:function(t){var e=this;t.trigger.addEventListener("keydown",t.handleInlineTriggerKeydown),t.addEventListener("keydown",(function(n){var r=n.code,o=n.shiftKey;if("Tab"===r){if(t.tabbingAway=!0,o){var i=document.createElement("span");return i.tabIndex=-1,t.trigger.hasAttribute("slot")&&(i.slot=t.trigger.slot),t.trigger.insertAdjacentElement("afterend",i),i.focus(),void i.remove()}n.stopPropagation();var a=t.trigger;void 0!==a.open&&(a.open=!1),e.closeOverlay(t.overlayContent),t.trigger.focus()}}))}},{key:"closeOverlay",value:function(t){var e=this;this.overlayTimer.close(t),requestAnimationFrame((function(){var n=e.findOverlayForContent(t),r=[n];r.push.apply(r,o(W(n,e.overlays))),r.forEach((function(t){return e.hideAndCloseOverlay(t)}))}))}},{key:"closeAllHoverOverlays",value:function(){var t,e=r(this.overlays);try{for(e.s();!(t=e.n()).done;){var n=t.value;"hover"===n.interaction&&this.hideAndCloseOverlay(n,!1)}}catch(t){e.e(t)}finally{e.f()}}},{key:"closeOverlaysForRoot",value:function(t){var e,n=this,i=[],a=r(this.overlays);try{for(a.s();!(e=a.n()).done;){var s=e.value;s.root&&s.root===t&&(i.push(s),i.push.apply(i,o(W(s,this.overlays))))}}catch(t){a.e(t)}finally{a.f()}i.forEach((function(t){return n.hideAndCloseOverlay(t,!0,!0)}))}},{key:"manageFocusAfterCloseWhenOverlaysRemain",value:(n=i(c.mark((function t(e){var n;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((n=this.overlays[this.overlays.length-1]).feature(),"modal"!==n.interaction&&!n.hasModalRoot){t.next=8;break}if(!e){t.next=4;break}return t.abrupt("return");case 4:return t.next=6,n.focus();case 6:t.next=9;break;case 8:this.stopTabTrapping();case 9:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"manageFocusAfterCloseWhenLastOverlay",value:function(t){this.stopTabTrapping();var e="modal"===t.interaction,n="auto"===t.receivesFocus,r="replace"===t.interaction,o="inline"===t.interaction,i=(r||o)&&!t.tabbingAway;if(t.tabbingAway=!1,e||n||i){var a,s,l=t.overlayContent.getRootNode().activeElement;(e||t.overlayContent.contains(l)||(a=t.trigger.getRootNode(),s=a.activeElement,a.contains(s))||a.host&&a.host===s)&&t.trigger.focus()}}},{key:"hideAndCloseOverlay",value:(e=i(c.mark((function t(e,n,r){var o,i,a,s;return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:if(void 0===(o=e.overlayContent).overlayWillCloseCallback){t.next=7;break}if(i=e.trigger,!o.overlayWillCloseCallback({trigger:i})){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,e.hide(n);case 9:if(void 0!==o.open&&(o.open=!1),!o.overlayCloseCallback){t.next=14;break}return a=e.trigger,t.next=14,o.overlayCloseCallback({trigger:a});case 14:if("dispose"==e.state){t.next=16;break}return t.abrupt("return");case 16:if((s=this.overlays.indexOf(e))>=0&&this.overlays.splice(s,1),!this.overlays.length){t.next=23;break}return t.next=21,this.manageFocusAfterCloseWhenOverlaysRemain(r);case 21:t.next=24;break;case 23:this.manageFocusAfterCloseWhenLastOverlay(e);case 24:e.remove(),e.dispose(),e.trigger.dispatchEvent(new CustomEvent("sp-closed",{bubbles:!0,composed:!0,cancelable:!0,detail:{interaction:e.interaction}}));case 27:case"end":return t.stop()}}),t,this)}))),function(t,n,r){return e.apply(this,arguments)})},{key:"closeTopOverlay",value:function(){return this.hideAndCloseOverlay(this.topOverlay,!0)}}]),t}(),t("Overlay",st=function(){function t(e,n,r){y(this,t),this.isOpen=!1,this.owner=e,this.overlayElement=r,this.interaction=n}var e,n;return m(t,[{key:"open",value:(n=i(c.mark((function e(n){var r,o,i,s,l,u,d,p,h,f,v,m,y,g;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.abortPromise,o=n.delayed,i=n.offset,s=void 0===i?0:i,l=n.placement,u=void 0===l?"top":l,d=n.receivesFocus,p=n.notImmediatelyClosable,h=n.virtualTrigger,f=n.root,!this.isOpen){e.next=3;break}return e.abrupt("return",!0);case 3:return void 0===o&&(o=this.overlayElement.hasAttribute("delayed")),v={color:void 0,scale:void 0,lang:void 0,theme:void 0},m=new CustomEvent("sp-query-theme",{bubbles:!0,composed:!0,detail:v,cancelable:!0}),this.owner.dispatchEvent(m),y={},g=new CustomEvent("sp-overlay-query",{bubbles:!0,composed:!0,detail:y,cancelable:!0}),this.overlayElement.dispatchEvent(g),e.next=10,t.overlayStack.openOverlay(a({abortPromise:r,content:this.overlayElement,contentTip:y.overlayContentTipElement,delayed:o,offset:s,placement:u,trigger:this.owner,interaction:this.interaction,theme:v,receivesFocus:d,root:f,notImmediatelyClosable:p,virtualTrigger:h},y));case 10:return this.isOpen=!0,e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e,this)}))),function(t){return n.apply(this,arguments)})},{key:"close",value:function(){t.overlayStack.closeOverlay(this.overlayElement)}}],[{key:"open",value:(e=i(c.mark((function e(n,r,o,i){var a;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new t(n,r,o),e.next=3,a.open(i);case 3:return e.abrupt("return",(function(){a.close()}));case 4:case"end":return e.stop()}}),e)}))),function(t,n,r,o){return e.apply(this,arguments)})},{key:"update",value:function(){var t=new CustomEvent("sp-update-overlays",{bubbles:!0,composed:!0,cancelable:!0});document.dispatchEvent(t)}}]),t}()),st.overlayStack=new at}}}));
