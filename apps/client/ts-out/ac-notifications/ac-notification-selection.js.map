{"version":3,"file":"ac-notification-selection.js","sourceRoot":"","sources":["../../src/ac-notifications/ac-notification-selection.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css, nothing } from \"lit\";\nimport { property, customElement } from \"lit/decorators.js\";\n\nimport \"@material/web/radio/radio.js\";\n\nimport { YpBaseElement } from \"../common/yp-base-element.js\";\n\n@customElement(\"ac-notification-selection\")\nexport class AcNotificationSelection extends YpBaseElement {\n  @property({ type: String })\n  name: string | undefined;\n\n  @property({ type: Object })\n  setting!: AcNotificationSettingsDataItem;\n\n  @property({ type: Number })\n  frequency: number | undefined;\n\n  @property({ type: Number })\n  method: number | undefined;\n\n  static get prssoperties() {\n    return {\n      setting: {\n        type: Object,\n        notify: true,\n        observer: \"_settingChanged\",\n      },\n\n      frequency: {\n        type: Number,\n        notify: true,\n        observer: \"_frequencyChanged\",\n      },\n\n      method: {\n        type: Number,\n        notify: true,\n        observer: \"_methodChanged\",\n      },\n    };\n  }\n\n  override updated(changedProperties: Map<string | number | symbol, unknown>) {\n    super.updated(changedProperties);\n\n    if (changedProperties.has(\"setting\")) {\n      this._settingChanged();\n    }\n  }\n\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        .half {\n          width: 50%;\n        }\n\n        .notificationName {\n          padding-top: 16px;\n          font-size: 16px;\n          font-weight: bold;\n          margin-bottom: 8px;\n          padding-bottom: 4px;\n          border-bottom: solid 1px #ddd;\n        }\n\n        .notificationSub {\n        }\n\n        md-radio {\n          padding-top: 8px;\n          padding-bottom: 8px;\n        }\n\n        label {\n          padding: 8px;\n        }\n      `,\n    ];\n  }\n\n  override render() {\n    return html`\n      <div class=\"layout vertical\">\n        <div class=\"notificationName\">${this.name}</div>\n        <div class=\"layout horizontal wrap\">\n          <div class=\"layout vertical half\">\n            <div class=\"notificationSub\">${this.t(\"notification.method\")}</div>\n            <div class=\"layout horizontal\">\n              <div id=\"notificationMethodGroup\" name=\"method\" class=\"method\">\n                ${this.availableMethods.map(\n                  (item) => html`\n                    <label\n                      >${item.name}\n                      <md-radio\n                        name=\"method\"\n                        @change=\"${this._methodChanged}\"\n                        .value=\"${item.enumValue.toString()}\"\n                        ?checked=\"${item.enumValue == this.method}\"\n                      >\n                      </md-radio>\n                    </label>\n                  `\n                )}\n              </div>\n            </div>\n          </div>\n          <div class=\"layout vertical half\">\n            <div class=\"notificationSub\">\n              ${this.t(\"notification.frequency\")}\n            </div>\n            <div class=\"layout horizontal\">\n              <div id=\"notificationFrequencyGroup\" class=\"frequency\">\n                ${this.availableFrequencies.map(\n                  (item) => html`\n                    <label\n                      >${item.name}\n                      <md-radio\n                        name=\"frequency\"\n                        ?disabled=\"${this._isDelayed(item)}\"\n                        @change=\"${this._frequencyChanged}\"\n                        .value=\"${item.enumValue.toString()}\"\n                        ?checked=\"${item.enumValue == this.frequency}\"\n                      >\n                      </md-radio>\n                    </label>\n                  `\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  get availableMethods(): Array<AcNotificationSettingMethod> {\n    if (this.language) {\n      return [\n        {\n          name: this.t(\"notification.muted\"),\n          enumValue: 0,\n        },\n        {\n          name: this.t(\"notification.browser\"),\n          enumValue: 1,\n        },\n        {\n          name: this.t(\"notification.email\"),\n          enumValue: 2,\n        },\n      ];\n    } else {\n      return [];\n    }\n  }\n\n  _methodChanged(event: CustomEvent) {\n    let methodValue: number | string = (event.target as HTMLInputElement).value;\n    methodValue = parseInt(methodValue);\n    if (methodValue && this.method != methodValue) {\n      this.method = methodValue;\n      this.fire(\"yp-notification-changed\");\n    }\n\n    if (this.method) {\n      this.setting.method = this.method;\n    }\n  }\n\n  _frequencyChanged(event: CustomEvent) {\n    let frequencyValue: number | string = (event.target as HTMLInputElement)\n      .value;\n    frequencyValue = parseInt(frequencyValue);\n    if (frequencyValue && this.frequency != frequencyValue) {\n      this.frequency = frequencyValue;\n      this.fire(\"yp-notification-changed\");\n    }\n\n    if (this.frequency) {\n      this.setting.frequency = this.frequency;\n    }\n  }\n\n  _settingChanged() {\n    if (this.setting) {\n      this.method = this.setting.method;\n      this.frequency = this.setting.frequency;\n    }\n  }\n\n  _isDelayed(item: AcNotificationSettingMethod) {\n    return item.enumValue > 0;\n  }\n\n  get availableFrequencies() {\n    let frequencyArray: Array<AcNotificationSettingFrequency> = [];\n    if (this.language) {\n      if (!this.method || this.method == 0) {\n        //TODO: Nothing here?\n      } else if (this.method == 1) {\n        this.frequency = 0;\n        frequencyArray = [\n          {\n            name: this.t(\"notification.asItHappens\"),\n            enumValue: 0,\n          },\n        ];\n      } else if (this.method == 2) {\n        frequencyArray = [\n          {\n            name: this.t(\"notification.asItHappens\"),\n            enumValue: 0,\n          },\n          {\n            name: this.t(\"notification.hourly\"),\n            enumValue: 1,\n          },\n          {\n            name: this.t(\"notification.daily\"),\n            enumValue: 2,\n          },\n          {\n            name: this.t(\"notification.weekly\"),\n            enumValue: 3,\n          },\n          {\n            name: this.t(\"notification.monthly\"),\n            enumValue: 5,\n          },\n        ];\n      }\n    }\n    return frequencyArray;\n  }\n}\n"]}