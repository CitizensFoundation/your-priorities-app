{"version":3,"file":"yp-pages-grid.js","sourceRoot":"","sources":["../../src/admin/yp-pages-grid.ts"],"names":[],"mappings":"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","sourcesContent":["import { LitElement, css, html, nothing } from \"lit\";\nimport { property, customElement, query } from \"lit/decorators.js\";\n\nimport { YpBaseElement } from \"../common/yp-base-element.js\";\n\nimport \"@material/web/button/text-button.js\";\nimport \"@material/web/button/filled-button.js\";\nimport \"@material/web/textfield/outlined-text-field.js\";\n\nimport \"@material/web/dialog/dialog.js\";\n\nimport { MdDialog } from \"@material/web/dialog/dialog.js\";\nimport { MdFilledButton } from \"@material/web/button/filled-button.js\";\nimport { MdOutlinedTextField } from \"@material/web/textfield/outlined-text-field.js\";\n\n@customElement(\"yp-pages-grid\")\nexport class YpPagesGrid extends YpBaseElement {\n  @property({ type: Array })\n  pages: Array<YpHelpPageData> | undefined;\n\n  @property({ type: String })\n  headerText: string | undefined;\n\n  @property({ type: Number })\n  domainId: number | undefined;\n\n  @property({ type: Number })\n  communityId: number | undefined;\n\n  @property({ type: Number })\n  groupId: number | undefined;\n\n  @property({ type: Object })\n  currentlyEditingPage: YpHelpPageData | undefined;\n\n  @property({ type: String })\n  modelType: string | undefined;\n\n  @query(\"#localeInput\")\n  newLocaleInput!: HTMLInputElement;\n\n  @property({ type: String })\n  currentlyEditingLocale: string | undefined;\n\n  @property({ type: String })\n  currentlyEditingTitle: string | undefined;\n\n  @property({ type: String })\n  currentlyEditingContent: string | undefined;\n\n  override updated(\n    changedProperties: Map<string | number | symbol, unknown>\n  ): void {\n    super.updated(changedProperties);\n    if (\n      changedProperties.has(\"groupId\") ||\n      changedProperties.has(\"communityId\") ||\n      changedProperties.has(\"domainId\")\n    ) {\n      this._updateCollection();\n    }\n  }\n\n  static override get styles() {\n    return [\n      css`\n        #dialog {\n          width: 90%;\n          max-height: 90%;\n        }\n\n        iron-list {\n          height: 500px;\n          width: 100%;\n        }\n\n        .pageItem {\n          padding-right: 16px;\n        }\n\n        .id {\n          width: 60px;\n        }\n\n        .title {\n          width: 200px;\n        }\n\n        .email {\n          width: 240px;\n        }\n\n        #editPageLocale {\n          width: 80%;\n          max-height: 80%;\n        }\n\n        #editPageLocale[rtl] {\n          direction: rtl;\n        }\n\n        .locale {\n          width: 30px;\n          cursor: pointer;\n        }\n\n        paper-textarea {\n          height: 60%;\n        }\n\n        .localeInput {\n          width: 52px;\n        }\n\n        .pageItem {\n          padding-top: 8px;\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n\n        .localeInputContasiner {\n          padding: 2px;\n          margin-bottom: 8px;\n          border: solid 1px #999;\n        }\n\n        .buttons {\n          margin-right: 16px;\n        }\n      `,\n    ];\n  }\n\n  titleChanged() {\n    this.currentlyEditingTitle = (this.$$(\"#title\") as MdOutlinedTextField).value;\n  }\n\n  contentChanged() {\n    this.currentlyEditingContent = (this.$$(\"#content\") as MdOutlinedTextField).value;\n  }\n\n  override render() {\n    if (this.pages) {\n      return html`\n      <h2>${this.headerText}</h2>\n      <div class=\"flex\"></div>\n        <div class=\"layout horizontal\">\n          <md-filled-button id=\"addPageButton\" @click=\"${\n            this._addPage\n          }\">${this.t(\"pages.addPage\")}</md-filled-button>\n        </div>\n      </div>\n      <div id=\"scrollable\">\n      ${this.pages?.map((page) => {\n        return html`\n          <div class=\"layout horizontal\">\n            <div class=\"pageItem id\">${page.id}</div>\n            <div class=\"pageItem title\">${page.title.en}</div>\n\n            ${this._toLocaleArray(page.title).map(\n              (item) => html`\n                <div class=\"layout vertical center-center\">\n                  <md-text-button\n                    class=\"locale\"\n                    data-args-page=\"${JSON.stringify(page)}\"\n                    data-args-locale=\"${item.locale}\"\n                    @click=\"${this._editPageLocale}\"\n                    >${item.locale}</md-text-button\n                  >\n                </div>\n              `\n            )}\n\n            <md-outlined-text-field\n              class=\"localeInput\"\n              id=\"localeInput\"\n              length=\"2\"\n              maxlength=\"2\"\n            ></md-outlined-text-field>\n\n            <md-text-button data-args=\"${page.id}\" @click=\"${this._addLocale}\"\n              >${this.t(\"pages.addLocale\")}</md-text-button\n            >\n            <div ?hidden=\"${page.published}\">\n              <md-text-button\n                data-args=\"${page.id}\"\n                @click=\"${this._publishPage}\"\n                >${this.t(\"pages.publish\")}</md-text-button\n              >\n            </div>\n            <div ?hidden=\"${!page.published}\">\n              <md-text-button\n                data-args=\"${page.id}\"\n                @click=\"${this._unPublishPage}\"\n                >${this.t(\"pages.unPublish\")}</md-text-button\n              >\n            </div>\n            <md-text-button data-args=\"${page.id}\" @click=\"${this._deletePage}\"\n              >${this.t(\"pages.deletePage\")}</md-text-button\n            >\n          </div>\n        `;\n      })}\n      </div>\n\n      <div class=\"buttons\">\n        <md-text-button dialogDismiss >${this.t(\n          \"close\"\n        )}</md-text-button>\n      </div>\n\n    <md-dialog id=\"editPageLocale\" modal class=\"layout vertical\" ?rtl=\"${\n      this.rtl\n    }\">\n      <h2 slot=\"headline\">${this.t(\"pages.editPageLocale\")}</h2>\n      <div slot=\"content\">\n      <md-outlined-text-field @change=\"${this.titleChanged}\" id=\"title\" name=\"title\" type=\"text\" .label=\"${this.t(\n        \"pages.title\"\n      )}\" .value=\"${\n        this.currentlyEditingTitle || \"\"\n      }\" maxlength=\"60\" charCounter class=\"mainInput\">\n      </md-outlined-text-field>\n\n      <md-outlined-text-field @change=\"${this.contentChanged}\" id=\"content\" name=\"content\" type=\"textarea\" .value=\"${\n        this.currentlyEditingContent || \"\"\n      }\" .label=\"${this.t(\"pages.content\")}\" rows=\"7\" maxRows=\"10\">\n      </md-outlined-text-field>\n\n      </div>\n\n      <div class=\"buttons\" slot=\"actions\">d\n        <md-text-button @click=\"${\n          this._closePageLocale\n        }\" dialogDismiss >${this.t(\"close\")}</md-text-button>\n        <md-text-button @click=\"${\n          this._updatePageLocale\n        }\" dialogDismiss >${this.t(\"save\")}</md-text-button>\n      </div>\n    </md-dialog>\n    `;\n    } else {\n      return nothing;\n    }\n  }\n\n  /*\n  behaviors: [\n    WordWrap\n  ],\n*/\n\n  _toLocaleArray(obj: Record<string, string>): Array<YpHelpPageData> {\n    const array = Object.keys(obj).map((key) => ({\n      locale: key,\n      value: obj[key],\n    }));\n\n    return array.sort((a, b) => a.value.localeCompare(b.value)) as any;;\n  }\n\n  async _editPageLocale(event: Event) {\n    const target = event.target as HTMLElement;\n    const currentlyEditingPageTxt = target.getAttribute(\"data-args-page\");\n    this.currentlyEditingPage = JSON.parse(currentlyEditingPageTxt!);\n    this.currentlyEditingLocale = target.getAttribute(\"data-args-locale\")!;\n\n    this.currentlyEditingContent =\n    this.currentlyEditingPage![\"content\"][this.currentlyEditingLocale];\n    this.currentlyEditingTitle =\n    this.currentlyEditingPage![\"title\"][this.currentlyEditingLocale];\n\n    debugger;\n\n    const dialog = this.shadowRoot!.querySelector<MdDialog>(\"#editPageLocale\");\n\n    if (dialog) {\n      dialog.open = true;\n    }\n  }\n\n  _closePageLocale() {\n    this.currentlyEditingPage = undefined;\n    this.currentlyEditingLocale = undefined;\n    this.currentlyEditingContent = undefined;\n    this.currentlyEditingTitle = undefined;\n  }\n\n  async _dispatchAdminServerApiRequest(\n    pageId: number | undefined,\n    path: string,\n    method: string,\n    body?: any\n  ) {\n    let pageIdPath = pageId ? `/${pageId}/${path}` : `/${path}`;\n    let url = \"\";\n    if (this.modelType === \"groups\" && this.groupId) {\n      url = `/api/${this.modelType}/${this.groupId}${pageIdPath}`;\n    } else if (this.modelType === \"communities\" && this.communityId) {\n      url = `/api/${this.modelType}/${this.communityId}${pageIdPath}`;\n    } else if (this.modelType === \"domains\" && this.domainId) {\n      url = `/api/${this.modelType}/${this.domainId}${pageIdPath}`;\n    } else {\n      console.warn(\"Can't find model type or ids\");\n      return;\n    }\n\n    try {\n      return await window.adminServerApi.adminMethod(url, method, body);\n    } catch (error) {\n      console.error(\"Error dispatching admin server API request:\", error);\n    }\n  }\n\n  async _updatePageLocale() {\n    await this._dispatchAdminServerApiRequest(\n      this.currentlyEditingPage!.id,\n      \"update_page_locale\",\n      \"PUT\",\n      {\n        locale: this.currentlyEditingLocale,\n        content: this.currentlyEditingContent,\n        title: this.currentlyEditingTitle,\n      }\n    );\n    this._closePageLocale();\n  }\n\n  async _publishPage(event: Event) {\n    const pageId = (event.target as HTMLElement).getAttribute(\"data-args\");\n    await this._dispatchAdminServerApiRequest(\n      parseInt(pageId!),\n      \"publish_page\",\n      \"PUT\"\n    );\n  }\n\n  async _publishPageResponse() {\n    window.appGlobals.notifyUserViaToast(this.t(\"pages.pagePublished\"));\n    await this._refreshPages();\n  }\n\n  async _unPublishPage(event: Event) {\n    const pageId = (event.target as HTMLElement).getAttribute(\"data-args\");\n    await this._dispatchAdminServerApiRequest(\n      parseInt(pageId!),\n      \"un_publish_page\",\n      \"PUT\"\n    );\n  }\n\n  async _unPublishPageResponse() {\n    window.appGlobals.notifyUserViaToast(this.t(\"pages.pageUnPublished\"));\n    await this._refreshPages();\n  }\n\n  async _refreshPages() {\n    await this._dispatchAdminServerApiRequest(undefined, \"pages\", \"GET\");\n  }\n\n  async _deletePage(event: Event) {\n    const pageId = (event.target as HTMLElement).getAttribute(\"data-args\");\n    await this._dispatchAdminServerApiRequest(\n      parseInt(pageId!),\n      \"delete_page\",\n      \"DELETE\"\n    );\n  }\n\n  async _deletePageResponse() {\n    window.appGlobals.notifyUserViaToast(this.t(\"pages.pageDeleted\"));\n    await this._refreshPages();\n  }\n\n  async _addLocale(event: Event) {\n    if (this.newLocaleInput && this.newLocaleInput.value.length > 1) {\n      const pageId = (event.target as HTMLElement).getAttribute(\"data-args\");\n      await this._dispatchAdminServerApiRequest(\n        parseInt(pageId!),\n        \"update_page_locale\",\n        \"PUT\",\n        {\n          locale: this.newLocaleInput.value.toLowerCase(),\n          content: \"\",\n          title: \"\",\n        }\n      );\n    }\n  }\n\n  async _addPage() {\n    const addButton =\n      this.shadowRoot!.querySelector<MdFilledButton>(\"#addPageButton\");\n    if (addButton) {\n      addButton.disabled = true;\n    }\n    await this._dispatchAdminServerApiRequest(undefined, \"add_page\", \"POST\");\n    this._generateRequest();\n    if (addButton) {\n      addButton.disabled = false;\n    }\n  }\n\n  async _newPageResponse() {\n    window.appGlobals.notifyUserViaToast(this.t(\"pages.newPageCreated\"));\n    await this._refreshPages();\n  }\n\n  async _updatePageResponse() {\n    window.appGlobals.notifyUserViaToast(this.t(\"posts.updated\"));\n    await this._refreshPages();\n  }\n\n  _updateCollection() {\n    if (this.domainId) {\n      this.modelType = \"domains\";\n      this._generateRequest(this.domainId);\n    }\n\n    if (this.groupId) {\n      this.modelType = \"groups\";\n      this._generateRequest(this.groupId);\n    }\n\n    if (this.communityId) {\n      this.modelType = \"communities\";\n      this._generateRequest(this.communityId);\n    }\n  }\n\n  async _generateRequest(id: number | undefined = undefined) {\n    this.pages = await this._dispatchAdminServerApiRequest(\n      undefined,\n      \"pages_for_admin\",\n      \"GET\"\n    );\n  }\n\n  _pagesResponse(event: CustomEvent) {\n    this.pages = event.detail.response;\n  }\n\n  setup(\n    groupId: number,\n    communityId: number,\n    domainId: number,\n    adminUsers: boolean\n  ) {\n    this.groupId = undefined;\n    this.communityId = undefined;\n    this.domainId = undefined;\n    this.pages = undefined;\n\n    if (groupId) this.groupId = groupId;\n    if (communityId) this.communityId = communityId;\n    if (domainId) this.domainId = domainId;\n\n    this._setupHeaderText();\n  }\n\n  open() {\n    const dialog = this.shadowRoot!.querySelector<MdDialog>(\"#dialog\");\n    if (dialog) {\n      dialog.open = true;\n    }\n  }\n\n  _setupHeaderText() {\n    if (this.groupId) {\n      this.headerText = this.t(\"group.pages\");\n    } else if (this.communityId) {\n      this.headerText = this.t(\"community.pages\");\n    } else if (this.domainId) {\n      this.headerText = this.t(\"domain.pages\");\n    }\n  }\n}\n"]}