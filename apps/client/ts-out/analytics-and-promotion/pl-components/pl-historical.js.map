{"version":3,"file":"pl-historical.js","sourceRoot":"","sources":["../../../src/analytics-and-promotion/pl-components/pl-historical.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAc,GAAG,EAAE,IAAI,EAAE,OAAO,EAAE,MAAM,KAAK,CAAC;AACrD,OAAO,EAAE,QAAQ,EAAE,aAAa,EAAE,MAAM,mBAAmB,CAAC;AAK5D,OAAO,oCAAoC,CAAC;AAC5C,OAAO,uCAAuC,CAAC;AAC/C,OAAO,2BAA2B,CAAC;AACnC,OAAO,oCAAoC,CAAC;AAC5C,OAAO,+BAA+B,CAAC;AACvC,OAAO,mCAAmC,CAAC;AAE3C,OAAO,qBAAqB,CAAC;AAC7B,OAAO,iBAAiB,CAAC;AAEzB,OAAO,gCAAgC,CAAC;AAGxC,OAAO,EAAE,6BAA6B,EAAE,MAAM,iCAAiC,CAAC;AAGzE,IAAM,mBAAmB,GAAzB,MAAM,mBAAoB,SAAQ,6BAA6B;IAA/D;;QAKL,UAAK,GAAG,KAAK,CAAC;IA8GhB,CAAC;IAzGC,MAAM,KAAc,MAAM;QACxB,OAAO;YACL,GAAG,KAAK,CAAC,MAAM;YACf,GAAG,CAAA;;;;;;OAMF;SACF,CAAC;IACJ,CAAC;IAEQ,MAAM;QACb,MAAM,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,QAAQ,CAAC;QAC5D,OAAO,IAAI,CAAA;;;;kBAIG,GAAG,QAAQ,4BACjB,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ;YAC/B,CAAC,CAAC,8CAA8C;YAChD,CAAC,CAAC,EACN,EAAE;;;;;yBAKa,IAAI,CAAC,IAAI;oCACE,IAAI,CAAC,eAAe;;;yBAG/B,IAAI,CAAC,KAAK;wBACX,IAAI,CAAC,IAAI;yBACR,IAAI,CAAC,KAAK;6BACN,IAAI,CAAC,QAAQ;;;;;wBAKlB,IAAI,CAAC,IAAI;0BACP,IAAI,CAAC,KAAK;4BACR,IAAI,CAAC,OAAO;;;;uBAIjB,IAAI,CAAC,IAAI;wBACR,IAAI,CAAC,KAAK;0BACR,IAAI,CAAC,OAAO;;;;;mBAKnB,IAAI,CAAC,IAAI;oBACR,IAAI,CAAC,KAAK;uBACP,IAAI,CAAC,QAAQ;;;;;qBAKf,IAAI,CAAC,IAAI;sBACR,IAAI,CAAC,KAAK;yBACP,IAAI,CAAC,QAAQ;oCACF,IAAI,CAAC,mBAAmB;;;;qBAIvC,IAAI,CAAC,IAAI;sBACR,IAAI,CAAC,KAAK;yBACP,IAAI,CAAC,QAAQ;;;;;qBAKjB,IAAI,CAAC,IAAI;sBACR,IAAI,CAAC,KAAK;yBACP,IAAI,CAAC,QAAQ;;;qBAGjB,IAAI,CAAC,IAAI;sBACR,IAAI,CAAC,KAAK;yBACP,IAAI,CAAC,QAAQ;;;UAG5B,IAAI,CAAC,iBAAiB,EAAE;;KAE7B,CAAC;IACJ,CAAC;IAED,iBAAiB;QACf,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;YACvB,OAAO,IAAI,CAAA;;;oBAGG,IAAI,CAAC,IAAI;qBACR,IAAI,CAAC,KAAK;wBACP,IAAI,CAAC,QAAQ;gCACL,IAAI,CAAC,gBAAgB;;;OAG9C,CAAC;QACJ,CAAC;aAAM,CAAC;YACN,OAAO,OAAO,CAAC;QACjB,CAAC;IACH,CAAC;CACF,CAAA;AAjHC;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC;oDACF;AAGzB;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,CAAC;kDACd;AAGd;IADC,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;6DACE;AARjB,mBAAmB;IAD/B,aAAa,CAAC,eAAe,CAAC;GAClB,mBAAmB,CAmH/B","sourcesContent":["import { LitElement, css, html, nothing } from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\n\nimport { PlausibleStyles } from './plausibleStyles.js';\nimport { PlausibleBaseElement } from './pl-base-element.js';\n\nimport './stats/graph/pl-visitors-graph.js';\nimport './stats/conversions/pl-conversions.js';\nimport './stats/pages/pl-pages.js';\nimport './stats/sources/pl-sources-list.js';\nimport './stats/devices/pl-devices.js';\nimport './stats/locations/pl-locations.js';\n\nimport './pl-date-picker.js';\nimport './pl-filters.js';\n\nimport './stats/pl-current-visitors.js';\n\nimport { BrowserHistory } from './util/history.js';\nimport { PlausibleBaseElementWithState } from './pl-base-element-with-state.js';\n\n@customElement('pl-historical')\nexport class PlausibleHistorical extends PlausibleBaseElementWithState {\n  @property({ type: Object })\n  history!: BrowserHistory;\n\n  @property({ type: Boolean })\n  stuck = false;\n\n  @property({ type: Array })\n  highlightedGoals?: string[];\n\n  static override get styles() {\n    return [\n      ...super.styles,\n      css`\n        @media (max-width: 768px) {\n          .mb-12 {\n            max-width: calc(100vw - 32px);\n          }\n        }\n      `,\n    ];\n  }\n\n  override render() {\n    const navClass = this.site.embedded ? 'relative' : 'sticky';\n    return html`\n      <div class=\"mb-12\">\n        <div id=\"stats-container-top\"></div>\n        <div\n          class=${`${navClass} top-0 sm:py-3 py-2 z-10 ${\n            this.stuck && !this.site.embedded\n              ? 'fullwidth-shadow bg-gray-50 dark:bg-gray-850'\n              : ''\n          }`}\n        >\n          <div class=\"items-center w-full flex\">\n            <div class=\"flex items-center w-full\">\n              <pl-siteswitcher\n                .site=\"${this.site}\"\n                .currentUserRole=\"${this.currentUserRole}\"\n              ></pl-siteswitcher>\n              <pl-current-visitors\n                .timer=${this.timer}\n                .site=${this.site}\n                .query=${this.query}\n                .proxyUrl=\"${this.proxyUrl}\"\n              ></pl-current-visitors>\n              <div class=\"flex w-full\"></div>\n              <pl-filters\n                class=\"flex\"\n                .site=${this.site}\n                .query=\"${this.query}\"\n                .history=\"${this.history}\"\n              ></pl-filters>\n            </div>\n            <pl-date-picker\n              .site=\"${this.site}\"\n              .query=\"${this.query}\"\n              .history=\"${this.history}\"\n            ></pl-date-picker>\n          </div>\n        </div>\n        <pl-visitors-graph\n          .site=\"${this.site}\"\n          .query=\"${this.query}\"\n          .proxyUrl=\"${this.proxyUrl}\"\n        ></pl-visitors-graph>\n        <div class=\"items-start justify-between block w-full md:flex flex\">\n          <pl-sources-list\n            class=\"flex-col\"\n            .site=\"${this.site}\"\n            .query=\"${this.query}\"\n            .proxyUrl=\"${this.proxyUrl}\"\n            .proxyFaviconBaseUrl=\"${this.proxyFaviconBaseUrl}\"\n          ></pl-sources-list>\n          <pl-pages\n            class=\"flex-col\"\n            .site=\"${this.site}\"\n            .query=\"${this.query}\"\n            .proxyUrl=\"${this.proxyUrl}\"\n          ></pl-pages>\n        </div>\n        <div class=\"items-start justify-between block w-full md:flex flex flex-wrap\">\n          <pl-locations\n            .site=\"${this.site}\"\n            .query=\"${this.query}\"\n            .proxyUrl=\"${this.proxyUrl}\"\n          ></pl-locations>\n          <pl-devices\n            .site=\"${this.site}\"\n            .query=\"${this.query}\"\n            .proxyUrl=\"${this.proxyUrl}\"\n          ></pl-devices>\n        </div>\n        ${this.renderConversions()}\n      </div>\n    `;\n  }\n\n  renderConversions() {\n    if (this.site.hasGoals) {\n      return html`\n        <div class=\"items-start justify-between block w-full mt-6 md:flex flex-wrap\">\n          <pl-conversions\n            .site=${this.site}\n            .query=${this.query}\n            .proxyUrl=${this.proxyUrl}\n            .highlightedGoals=${this.highlightedGoals}\n          ></pl-conversions>\n        </div>\n      `;\n    } else {\n      return nothing;\n    }\n  }\n}\n"]}