{"version":3,"file":"yp-campaign-analysis.js","sourceRoot":"","sources":["../../../src/analytics-and-promotion/yp-analytics/yp-campaign-analysis.ts"],"names":[],"mappings":";;;;;;AAAA,OAAO,EAAc,GAAG,EAAE,IAAI,EAAW,MAAM,KAAK,CAAC;AACrD,OAAO,EAEL,aAAa,GAGd,MAAM,mBAAmB,CAAC;AAG3B,OAAO,8BAA8B,CAAC;AACtC,OAAO,yCAAyC,CAAC;AACjD,OAAO,qCAAqC,CAAC;AAC7C,OAAO,yCAAyC,CAAC;AACjD,OAAO,uCAAuC,CAAC;AAE/C,OAAO,oCAAoC,CAAC;AAE5C,OAAO,yCAAyC,CAAC;AAIjD,OAAO,0BAA0B,CAAC;AAGlC,OAAO,EAAE,UAAU,EAAE,MAAM,6BAA6B,CAAC;AAGlD,IAAM,kBAAkB,GAAxB,MAAM,kBAAmB,SAAQ,UAAU;IAChD,MAAM,KAAc,MAAM;QACxB,OAAO;YACL,KAAK,CAAC,MAAM;YACZ,GAAG,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;OAiDF;SACF,CAAC;IACJ,CAAC;IAED,oBAAoB,CAAC,MAAqC;QACxD,OAAO,IAAI,CAAA;;UAEL,MAAM,CAAC,QAAQ,CAAC,GAAG,CACnB,IAAI,CAAC,EAAE,CAAC,IAAI,CAAA;;;yCAGmB,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;;;;yCAIjB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,KAAG,aAAa,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE;;;WAG/E,CACF;;KAEJ,CAAC;IACJ,CAAC;IAEQ,YAAY,CAAC,MAAqC;QACzD,OAAO,IAAI,CAAA;+BACgB,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,cAAc;;iBAEjD,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,UAAU,CAAC;;;;oBAItB,IAAI,CAAC,iBAAiB,CAAC,MAAM,CAAC,UAAU,CAAC;;;;YAIjD,IAAI,CAAC,oBAAoB,CAAC,MAAM,CAAC;;;KAGxC,CAAC;IACJ,CAAC;IAED,IAAI,aAAa;QACf,OAAO,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;YACvD,OAAO,CACJ,CAAmC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK;gBACrD,CAAmC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,KAAK,CACvD,CAAC;QACJ,CAAC,CAAC,CAAC;IACL,CAAC;IAEQ,MAAM;QACb,OAAO,IAAI,CAAA;;;;cAID,IAAI,CAAC,QAAQ,CAAC,aAAa,CAAC,YAAY;;;;YAI1C,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAChC,IAAI,CAAC,YAAY,CAAC,MAAuC,CAAC,CAC3D;;;KAGN,CAAC;IACJ,CAAC;CACF,CAAA;AAxHY,kBAAkB;IAD9B,aAAa,CAAC,sBAAsB,CAAC;GACzB,kBAAkB,CAwH9B","sourcesContent":["import { LitElement, css, html, nothing } from 'lit';\nimport {\n  property,\n  customElement,\n  queryAll,\n  queryAsync,\n} from 'lit/decorators.js';\nimport { YpBaseElementWithLogin } from '../../common/yp-base-element-with-login';\n\nimport '@material/web/radio/radio.js';\nimport '@material/web/button/elevated-button.js';\nimport '@material/web/button/text-button.js';\nimport '@material/web/button/outlined-button.js';\nimport '@material/web/button/filled-button.js';\n\nimport '@material/web/checkbox/checkbox.js';\n\nimport '@material/web/iconbutton/icon-button.js';\n\nimport { YpCollectionHelpers } from '../../common/YpCollectionHelpers';\n\nimport '../../common/yp-image.js';\nimport { YpFormattingHelpers } from '../../common/YpFormattingHelpers';\nimport { YpCampaignApi } from '../yp-promotion/YpCampaignApi.js';\nimport { YpCampaign } from '../yp-promotion/yp-campaign';\n\n@customElement('yp-campaign-analysis')\nexport class YpCampaignAnalysis extends YpCampaign {\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        .mediumImage {\n          width: 42px;\n          height: 42px;\n          margin-top: 12px;\n          margin-bottom: 16px;\n        }\n\n        .mainContainer {\n          width: 1050px;\n          height: 200px;\n        }\n\n        @media (max-width: 1100px) {\n          .mainContainer {\n            width: 100%;\n            max-width: calc(100vw - 80px);\n          }\n        }\n\n        .mediumTopStats {\n          font-size: 14px;\n          text-align: left;\n          width: 150px;\n        }\n\n        .mediumCard {\n          width: 150px;\n        }\n\n        .mediumInnerCard {\n          width: 150px;\n        }\n\n        .statValue {\n          text-align: right;\n          margin-bottom: 2px;\n          color: var(--md-sys-color-on-secondary-container);\n        }\n\n        .statLabel {\n          text-align: left;\n          margin-bottom: 2px;\n          color: var(--md-sys-color-on-secondary-container);\n        }\n\n        .mediumsContainer {\n          height: 220px;\n        }\n      `,\n    ];\n  }\n\n  renderMediumTopStats(medium: YpCampaignAnalyticsMediumData) {\n    return html`\n      <div class=\"layout vertical mediumTopStats\">\n        ${medium.topStats.map(\n          stat => html`\n            <div class=\"layout horizontal\">\n              <div class=\"column self-start\">\n                <div class=\"statLabel\">${this.t(stat.name)}</div>\n              </div>\n              <div class=\"flex\"></div>\n              <div class=\"column self-end\">\n                <div class=\"statValue\">${stat.value}${stat.name===\"Bounce rate\" ? \"%\" : \"\"}</div>\n              </div>\n            </div>\n          `\n        )}\n      </div>\n    `;\n  }\n\n  override renderMedium(medium: YpCampaignAnalyticsMediumData) {\n    return html`\n      <div class=\"mediumCard ${medium.active ? '' : 'disabledCard'}\">\n        <div class=\"layout vertical center-center mediumInnerCard\">\n          <div>${this.t(medium.utm_medium)}</div>\n          <yp-image\n            class=\"mediumImage\"\n            sizing=\"contain\"\n            .src=\"${this.getMediumImageUrl(medium.utm_medium)}\"\n          >\n          </yp-image>\n\n          ${this.renderMediumTopStats(medium)}\n        </div>\n      </div>\n    `;\n  }\n\n  get orderedMedium() {\n    return this.campaign.configuration.mediums.sort((a, b) => {\n      return (\n        (b as YpCampaignAnalyticsMediumData).topStats[0].value -\n        (a as YpCampaignAnalyticsMediumData).topStats[0].value\n      );\n    });\n  }\n\n  override render() {\n    return html`\n      <div class=\"layout vertical mainContainer\">\n        <div class=\"layout horizontal\">\n          <div class=\"campaignName\">\n            ${this.campaign.configuration.utm_campaign}\n          </div>\n        </div>\n        <div class=\"layout horizontal mediumsContainer\">\n          ${this.orderedMedium.map(medium =>\n            this.renderMedium(medium as YpCampaignAnalyticsMediumData)\n          )}\n        </div>\n      </div>\n    `;\n  }\n}\n"]}