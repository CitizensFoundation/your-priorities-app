{"version":3,"file":"YpMaterialThemeHelper.js","sourceRoot":"","sources":["../../src/common/YpMaterialThemeHelper.ts"],"names":[],"mappings":"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","sourcesContent":["\nimport {\n  MaterialDynamicColors,\n  argbFromHex,\n  hexFromArgb,\n  Hct,\n  SchemeTonalSpot,\n  DynamicColor,\n  DynamicScheme,\n  SchemeFidelity,\n  SchemeVibrant,\n  SchemeExpressive,\n  SchemeNeutral,\n  SchemeMonochrome,\n  SchemeContent,\n  Scheme as MatScheme,\n  TonalPalette,\n} from '@material/material-color-utilities';\n\nexport type Scheme = 'tonal'|'vibrant'|'expressive'|'content'|'neutral'|'monochrome'|'fidelity'|'dynamic';\n\nfunction generateMaterialColors(scheme: DynamicScheme): {\n  [key: string]: DynamicColor;\n} {\n  return {\n    'highest-surface': MaterialDynamicColors.highestSurface(scheme),\n    background: MaterialDynamicColors.background,\n    'on-background': MaterialDynamicColors.onBackground,\n    surface: MaterialDynamicColors.surface,\n    'surface-dim': MaterialDynamicColors.surfaceDim,\n    'surface-bright': MaterialDynamicColors.surfaceBright,\n    'surface-container-lowest': MaterialDynamicColors.surfaceContainerLowest,\n    'surface-container-low': MaterialDynamicColors.surfaceContainerLow,\n    'surface-container': MaterialDynamicColors.surfaceContainer,\n    'surface-container-high': MaterialDynamicColors.surfaceContainerHigh,\n    'surface-container-highest': MaterialDynamicColors.surfaceContainerHighest,\n    'on-surface': MaterialDynamicColors.onSurface,\n    'surface-variant': MaterialDynamicColors.surfaceVariant,\n    'on-surface-variant': MaterialDynamicColors.onSurfaceVariant,\n    'inverse-surface': MaterialDynamicColors.inverseSurface,\n    'inverse-on-surface': MaterialDynamicColors.inverseOnSurface,\n    outline: MaterialDynamicColors.outline,\n    'outline-variant': MaterialDynamicColors.outlineVariant,\n    shadow: MaterialDynamicColors.shadow,\n    scrim: MaterialDynamicColors.scrim,\n    'surface-tint': MaterialDynamicColors.surfaceTint,\n    primary: MaterialDynamicColors.primary,\n    'on-primary': MaterialDynamicColors.onPrimary,\n    'primary-container': MaterialDynamicColors.primaryContainer,\n    'on-primary-container': MaterialDynamicColors.onPrimaryContainer,\n    'inverse-primary': MaterialDynamicColors.inversePrimary,\n    'inverse-on-primary': MaterialDynamicColors.primary,\n    secondary: MaterialDynamicColors.secondary,\n    'on-secondary': MaterialDynamicColors.onSecondary,\n    'secondary-container': MaterialDynamicColors.secondaryContainer,\n    'on-secondary-container': MaterialDynamicColors.onSecondaryContainer,\n    tertiary: MaterialDynamicColors.tertiary,\n    'on-tertiary': MaterialDynamicColors.onTertiary,\n    'tertiary-container': MaterialDynamicColors.tertiaryContainer,\n    'on-tertiary-container': MaterialDynamicColors.onTertiaryContainer,\n    error: MaterialDynamicColors.error,\n    'on-error': MaterialDynamicColors.onError,\n    'error-container': MaterialDynamicColors.errorContainer,\n    'on-error-container': MaterialDynamicColors.onErrorContainer,\n  };\n}\n\n/**\n * Convert a hex value to a hct truple\n */\nexport function hctFromHex(value: string) {\n  const hct = Hct.fromInt(argbFromHex(value));\n  return hct;\n}\n\n/**\n * Convert a hct truple to a hex value\n */\nexport function hexFromHct(hue: number, chroma: number, tone: number) {\n  const hct = Hct.from(hue, chroma, tone);\n  const value = hct.toInt();\n  return hexFromArgb(value);\n}\n\nexport function themeFromSourceColorWithContrast(\n    color: string|{primary: string, secondary: string, tertiary: string, neutral: string},\n    isDark: boolean,\n    scheme: Scheme,\n    contrast: number\n) {\n  if (typeof color !== 'string' && scheme !== 'dynamic' || typeof color !== 'object' && scheme === 'dynamic') {\n    throw new Error('color / scheme type mismatch');\n  }\n  /* import and use other schemas from m-c-u for the scheme you want, but this is the \"default\"\n     https://github.com/material-foundation/material-color-utilities/tree/main/typescript/scheme\n   */\n  let colorScheme: MatScheme;\n  if (scheme === 'tonal') {\n    //@ts-ignore\n    colorScheme = new SchemeTonalSpot(\n      //@ts-ignore\n      Hct.fromInt(argbFromHex(color)),\n      isDark,\n      contrast\n    );\n  }\n  else if (scheme === 'fidelity') {\n    //@ts-ignore\n    colorScheme = new SchemeFidelity(\n      //@ts-ignore\n      Hct.fromInt(argbFromHex(color)),\n      isDark,\n      contrast\n    );\n  } else if (scheme === 'vibrant') {\n    //@ts-ignore\n    colorScheme = new SchemeVibrant(\n      //@ts-ignore\n      Hct.fromInt(argbFromHex(color)),\n      isDark,\n      contrast\n    );\n  } else if (scheme === 'expressive') {\n    //@ts-ignore\n    colorScheme = new SchemeExpressive(\n      //@ts-ignore\n      Hct.fromInt(argbFromHex(color)),\n      isDark,\n      contrast\n    );\n  } else if (scheme === 'content') {\n    //@ts-ignore\n    colorScheme = new SchemeContent(\n      //@ts-ignore\n      Hct.fromInt(argbFromHex(color)),\n      isDark,\n      contrast\n    );\n  } else if (scheme === 'neutral') {\n    //@ts-ignore\n    colorScheme = new SchemeNeutral(\n      //@ts-ignore\n      Hct.fromInt(argbFromHex(color)),\n      isDark,\n      contrast\n    );\n  } else if (scheme === 'monochrome') {\n    //@ts-ignore\n    colorScheme = new SchemeMonochrome(\n      //@ts-ignore\n      Hct.fromInt(argbFromHex(color)),\n      isDark,\n      contrast\n    );\n  } else if (scheme === 'dynamic' && typeof color === 'object') {\n    console.log(color);\n    const primary = Hct.fromInt(argbFromHex(color.primary));\n    const secondary = Hct.fromInt(argbFromHex(color.secondary));\n    const tertiary = Hct.fromInt(argbFromHex(color.tertiary));\n    const neutral = Hct.fromInt(argbFromHex(color.neutral));\n    console.log(color.primary);\n    //@ts-ignore\n    colorScheme = new DynamicScheme({\n      sourceColorArgb: argbFromHex(color.primary),\n      variant: 5, // Variant.FIDELITY https://github.com/material-foundation/material-color-utilities/blob/main/typescript/scheme/variant.ts\n      contrastLevel: contrast,\n      isDark,\n      primaryPalette: TonalPalette.fromHueAndChroma(\n          primary.hue, primary.chroma),\n      secondaryPalette: TonalPalette.fromHueAndChroma(\n          secondary.hue, secondary.chroma),\n      tertiaryPalette: TonalPalette.fromHueAndChroma(\n          tertiary.hue, tertiary.chroma),\n      neutralPalette: TonalPalette.fromHueAndChroma(\n          neutral.hue, neutral.chroma),\n      neutralVariantPalette: TonalPalette.fromHueAndChroma(\n          neutral.hue, neutral.chroma / 8.0 + 4.0),\n    });\n  }\n\n  return themeFromScheme(colorScheme!);\n}\n\nexport function themeFromScheme(colorScheme: MatScheme) {\n  //@ts-ignore\n  const colors = generateMaterialColors(colorScheme);\n  const theme: { [key: string]: string } = {};\n\n  for (const [key, value] of Object.entries(colors)) {\n    //@ts-ignore\n    theme[key] = hexFromArgb(value.getArgb(colorScheme));\n  }\n\n  return theme;\n}\n\nexport function applyThemeWithContrast(\n  doc: DocumentOrShadowRoot,\n  theme: {[name: string]: string},\n  ssName = 'material-theme'\n) {\n  let styleString = ':root{';\n  for (const [key, value] of Object.entries(theme)) {\n    styleString += `--md-sys-color-${key}:${value};`;\n  }\n  styleString += '}';\n\n  applyThemeString(doc, styleString, ssName);\n}\n\nexport function applyThemeString(doc: DocumentOrShadowRoot, themeString: string, ssName: string) {\n    //@ts-ignore\n    let ss = window[ssName] as CSSStyleSheet|undefined;\n\n  if (!ss) {\n    ss = new CSSStyleSheet();\n    doc.adoptedStyleSheets.push(ss);\n    //@ts-ignore\n    window[ssName] = ss;\n  }\n\n  ss.replace(themeString);\n}\n"]}