{"version":3,"file":"ac-notification-list-general-item.js","sourceRoot":"","sources":["../../src/ac-notifications/ac-notification-list-general-item.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css, nothing } from 'lit';\nimport { property, customElement } from 'lit/decorators.js';\n\n\nimport { YpBaseElement } from '../common/yp-base-element.js';\nimport { YpNavHelpers } from '../common/YpNavHelpers.js';\n\nimport { truncateNameList } from './TruncateNameList.js';\nimport { YpFormattingHelpers } from '../common/YpFormattingHelpers.js';\n\n@customElement('ac-notification-list-general-item')\nexport class AcNotificationListGenaralItem extends YpBaseElement {\n  @property({ type: Object })\n  notification: AcNotificationData | undefined;\n\n  @property({ type: Object })\n  user: YpUserData | undefined;\n\n  @property({ type: Object })\n  post: YpPostData | undefined;\n\n  @property({ type: String })\n  icon: string | undefined;\n\n  @property({ type: String })\n  shortText: string | undefined;\n\n  override updated(changedProperties: Map<string | number | symbol, unknown>) {\n    super.updated(changedProperties);\n\n    if (changedProperties.has('notification')) {\n      this._notificationChanged();\n    }\n  }\n\n  static override get styles() {\n    return [\n      super.styles,\n      css`\n        .pointerCursor {\n          cursor: pointer;\n        }\n\n        .icon {\n          min-width: 24px;\n          min-height: 24px;\n          max-width: 24px;\n          max-height: 24px;\n          margin: 6px;\n          margin-bottom: 0;\n          padding-bottom: 0;\n        }\n\n        .name {\n          padding-top: 4px;\n          padding-bottom: 0;\n          font-style: italic;\n        }\n\n        .shortText {\n          padding-right: 8px;\n          padding-bottom: 4px;\n        }\n\n        .leftContainer {\n          margin-right: 8px;\n        }\n\n        [hidden] {\n          display: none !important;\n        }\n      `,\n    ];\n  }\n\n  override render() {\n    return html`\n      <div class=\"layout vertical pointerCursor\" @click=\"${this._goTo}\">\n        <div class=\"layout horizontal\">\n          <div class=\"layout vertical center-center self-start leftContainer\">\n            <yp-user-image small .user=\"${this.user!}\"></yp-user-image>\n            <md-icon class=\"icon\">${this.icon}</md-icon>\n          </div>\n          <div class=\"layout vertical\">\n            <div class=\"name\">${this.nameTruncated}</div>\n            <div ?hidden=\"${!this.shortText}\" class=\"shortText\">\n              ${this.shortTextTruncated}\n            </div>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  _goTo() {\n    let gotoLocation;\n    if (this.post) {\n      this.goToPost();\n    } else if (this.notification) {\n      if (\n        this.notification.AcActivities[0].Group &&\n        this.notification.AcActivities[0].Group.name !=\n          'hidden_public_group_for_domain_level_points'\n      ) {\n        gotoLocation =\n          '/group/' +\n          this.notification.AcActivities[0].Group.id +\n          '/news/' +\n          this.notification.AcActivities[0].id;\n      } else if (this.notification.AcActivities[0].Community) {\n        gotoLocation =\n          '/community/' +\n          this.notification.AcActivities[0].Community.id +\n          '/news/' +\n          this.notification.AcActivities[0].id;\n      } else if (this.notification.AcActivities[0].Domain) {\n        gotoLocation =\n          '/domain/' +\n          this.notification.AcActivities[0].Domain.id +\n          '/news/' +\n          this.notification.AcActivities[0].id;\n      }\n      if (gotoLocation) {\n        YpNavHelpers.redirectTo(gotoLocation);\n      }\n    }\n  }\n\n  get nameTruncated() {\n    const notification = this.notification!;\n    if (notification.AcActivities[0].Post) {\n      return YpFormattingHelpers.truncate(\n        notification.AcActivities[0].Post.name,\n        42\n      );\n    } else if (\n      notification.AcActivities[0].Group &&\n      notification.AcActivities[0].Group.name !=\n        'hidden_public_group_for_domain_level_points'\n    ) {\n      return YpFormattingHelpers.truncate(\n        notification.AcActivities[0].Group.name,\n        42\n      );\n    } else if (notification.AcActivities[0].Community) {\n      return YpFormattingHelpers.truncate(\n        notification.AcActivities[0].Community.name,\n        42\n      );\n    } else if (notification.AcActivities[0].Domain) {\n      return YpFormattingHelpers.truncate(\n        notification.AcActivities[0].Domain.name,\n        42\n      );\n    } else {\n      return '';\n    }\n  }\n\n  get shortTextTruncated() {\n    if (this.shortText) {\n      return YpFormattingHelpers.truncate(this.shortText, 60);\n    } else {\n      return '';\n    }\n  }\n\n  goToPost() {\n    if (this.post) {\n      const postUrl = '/post/' + this.post.id + '/news';\n      window.appGlobals.activity('open', 'post', postUrl);\n      setTimeout(() => {\n        YpNavHelpers.redirectTo(postUrl);\n        this.fire('yp-close-right-drawer');\n      });\n    }\n  }\n\n  _notificationChanged() {\n    if (this.notification) {\n      this.post = this.notification.AcActivities[0].Post;\n      this.user = this.notification.AcActivities[0].User;\n    }\n  }\n\n  _addWithComma(text: string, toAdd: string) {\n    let returnText = '';\n    if (text != '') {\n      returnText += text + ',';\n    }\n    return returnText + toAdd;\n  }\n}\n"]}