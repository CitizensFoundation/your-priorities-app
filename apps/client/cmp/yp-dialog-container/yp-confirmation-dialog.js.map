{"version":3,"file":"yp-confirmation-dialog.js","sourceRoot":"","sources":["../../src/yp-dialog-container/yp-confirmation-dialog.ts"],"names":[],"mappings":"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","sourcesContent":["import { html, css } from \"lit\";\nimport { property, customElement } from \"lit/decorators.js\";\n\nimport { YpBaseElement } from \"../common/yp-base-element.js\";\n\nimport \"@material/web/dialog/dialog.js\";\nimport \"@material/web/button/text-button.js\";\nimport { Dialog } from \"@material/web/dialog/internal/dialog.js\";\n\n@customElement(\"yp-confirmation-dialog\")\nexport class YpConfirmationDialog extends YpBaseElement {\n  @property({ type: String })\n  confirmationText: string | undefined;\n\n  @property({ type: Object })\n  onConfirmedFunction: Function | undefined;\n\n  @property({ type: Boolean })\n  useFinalWarning = false;\n\n  @property({ type: Boolean })\n  haveIssuedFinalWarning = false;\n\n  @property({ type: Boolean })\n  hideCancel = false;\n\n  static override get styles() {\n    return [\n      css`\n        md-dialog[open][is-safari] {\n          height: 100%;\n        }\n      `,\n    ];\n  }\n\n  override render() {\n    return html`\n      <md-dialog\n        id=\"confirmationDialog\"\n        ?is-safari=\"${this.isSafari}\"\n        @cancel=\"${this.scrimDisableAction}\"\n      >\n        <div slot=\"content\">${this.confirmationText}</div>\n        <div slot=\"actions\">\n          <md-text-button\n            ?hidden=\"${this.hideCancel}\"\n            @click=\"${this._reset}\"\n            dialogAction=\"close\"\n            >${this.t(\"cancel\")}</md-text-button\n          >\n          <md-text-button @click=\"${this._confirm}\" dialogAction=\"save\"\n            >${this.t(\"confirm\")}</md-text-button\n          >\n        </div>\n      </md-dialog>\n    `;\n  }\n\n  _reset() {\n    this.confirmationText = undefined;\n    this.onConfirmedFunction = undefined;\n    this.haveIssuedFinalWarning = false;\n    this.useFinalWarning = false;\n    this.hideCancel = false;\n    (this.$$(\"#confirmationDialog\") as Dialog).close();\n  }\n\n  async open(\n    confirmationText: string,\n    onConfirmedFunction: Function | undefined,\n    useModal = false,\n    useFinalWarning = false,\n    hideCancel = false\n  ) {\n    this.confirmationText = confirmationText;\n    this.onConfirmedFunction = onConfirmedFunction;\n    if (useModal) {\n      //TODO: Implrement when ready\n      //(this.$$('#confirmationDialog') as Dialog).modal = true;\n    } else {\n      //TODO: Implrement when ready\n      //(this.$$('#confirmationDialog') as Dialog).modal = false;\n    }\n    await this.updateComplete;\n    (this.$$(\"#confirmationDialog\") as Dialog).show();\n    if (useFinalWarning) {\n      this.useFinalWarning = true;\n    } else {\n      this.useFinalWarning = false;\n    }\n    this.haveIssuedFinalWarning = false;\n    if (hideCancel) {\n      this.hideCancel = true;\n    } else {\n      this.hideCancel = false;\n    }\n  }\n\n  _confirm() {\n    if (this.useFinalWarning && !this.haveIssuedFinalWarning) {\n      this.haveIssuedFinalWarning = true;\n      (this.$$(\"#confirmationDialog\") as Dialog).close();\n      this.confirmationText = this.t(\"finalDeleteWarning\");\n      setTimeout(() => {\n        (this.$$(\"#confirmationDialog\") as Dialog).show();\n      }, 350);\n    } else {\n      if (this.onConfirmedFunction) {\n        this.onConfirmedFunction();\n        this._reset();\n      }\n    }\n    (this.$$(\"#confirmationDialog\") as Dialog).close();\n  }\n}\n"]}