{"version":3,"file":"YpMediaHelpers.js","sourceRoot":"","sources":["../../src/common/YpMediaHelpers.ts"],"names":[],"mappings":"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","sourcesContent":["import { YpBaseElement } from './yp-base-element.js';\n\nexport class YpMediaHelpers {\n  static _checkVideoLongPlayTimeAndReset(\n    playbackElement: YpElementWithPlayback,\n    videoPlayer: HTMLElement\n  ) {\n    const videoId = videoPlayer.getAttribute('data-id');\n    if (playbackElement.playStartedAt && videoId) {\n      const seconds =\n        (new Date().getTime() - playbackElement.playStartedAt.getTime()) / 1000;\n      if (seconds > 5) {\n        window.appGlobals.sendLongVideoView(videoId);\n      }\n      window.appGlobals.activity('completed', 'video', seconds);\n      playbackElement.playStartedAt = undefined;\n    } else if (playbackElement.playStartedAt) {\n      console.error('Got long view check without id');\n      playbackElement.playStartedAt = undefined;\n    }\n  }\n\n  static _checkAudioLongPlayTimeAndReset(\n    playbackElement: YpElementWithPlayback,\n    audioPlayer: HTMLElement\n  ) {\n    const audioId = audioPlayer.getAttribute('data-id');\n    if (playbackElement.playStartedAt && audioId) {\n      const seconds =\n        (new Date().getTime() - playbackElement.playStartedAt.getTime()) / 1000;\n      if (seconds > 5) {\n        window.appGlobals.sendLongAudioListen(audioId);\n      }\n      window.appGlobals.activity('completed', 'audio', seconds);\n      playbackElement.playStartedAt = undefined;\n    } else if (playbackElement.playStartedAt) {\n      console.error('Got long view check without audio id');\n      playbackElement.playStartedAt = undefined;\n    }\n  }\n\n  static getImageFormatUrl(\n    images: Array<YpImageData> | undefined,\n    formatId = 0\n  ) {\n    if (images && images.length > 0) {\n      const formats = JSON.parse(images[images.length - 1].formats);\n      if (formats && formats.length > 0) return formats[formatId];\n    } else {\n      return '';\n    }\n  }\n\n  static setupTopHeaderImage(\n    element: YpBaseElement,\n    images: Array<YpImageData> | null\n  ) {\n    if (element.wide) {\n      let path;\n      if (images) {\n        path = 'url(' + this.getImageFormatUrl(images, 0) + ')';\n      } else {\n        path = 'none';\n      }\n      window.appGlobals.theme.updateStyles({\n        '--top-area-background-image': path,\n      });\n    }\n  }\n\n  // TODO: Test this well\n  static attachMediaListeners(targetElement: YpElementWithPlayback) {\n    setTimeout(() => {\n      const videoPlayer = targetElement.$$('#videoPlayer');\n      const audioPlayer = targetElement.$$('#audioPlayer');\n      if (videoPlayer) {\n        const videoId = videoPlayer.getAttribute('data-id');\n        if (videoId) {\n          targetElement.videoPlayListener = () => {\n            targetElement.playStartedAt = new Date();\n            window.appGlobals.sendVideoView(parseInt(videoId));\n          };\n          targetElement.videoPauseListener = () => {\n            this._checkVideoLongPlayTimeAndReset(targetElement, videoPlayer);\n          };\n          targetElement.videoEndedListener = () => {\n            this._checkVideoLongPlayTimeAndReset(targetElement, videoPlayer);\n          };\n          videoPlayer.addEventListener(\n            'play',\n            targetElement.videoPlayListener.bind(targetElement)\n          );\n          videoPlayer.addEventListener(\n            'pause',\n            targetElement.videoPauseListener.bind(targetElement)\n          );\n          videoPlayer.addEventListener(\n            'ended',\n            targetElement.videoEndedListener.bind(targetElement)\n          );\n        }\n      }\n\n      if (audioPlayer) {\n        const audioId = audioPlayer.getAttribute('data-id');\n        if (audioId) {\n          targetElement.audioPlayListener = () => {\n            targetElement.playStartedAt = new Date();\n            window.appGlobals.sendAudioListen(audioId);\n          };\n          targetElement.audioPauseListener = () => {\n            this._checkAudioLongPlayTimeAndReset(targetElement, audioPlayer);\n          };\n          targetElement.audioEndedListener = () => {\n            this._checkAudioLongPlayTimeAndReset(targetElement, audioPlayer);\n          };\n          audioPlayer.addEventListener(\n            'play',\n            targetElement.audioPlayListener.bind(targetElement)\n          );\n          audioPlayer.addEventListener(\n            'pause',\n            targetElement.audioPauseListener.bind(targetElement)\n          );\n          audioPlayer.addEventListener(\n            'ended',\n            targetElement.audioEndedListener.bind(targetElement)\n          );\n        }\n      }\n    }, 200);\n  }\n\n  static detachMediaListeners(targetElement: YpElementWithPlayback) {\n    const videoPlayer = targetElement.$$('#videoPlayer');\n    const audioPlayer = targetElement.$$('#audioPlayer');\n    if (videoPlayer) {\n      if (targetElement.videoPlayListener) {\n        videoPlayer.removeEventListener(\n          'play',\n          targetElement.videoPlayListener\n        );\n        targetElement.videoPlayListener = undefined;\n      }\n      if (targetElement.videoPauseListener) {\n        videoPlayer.removeEventListener(\n          'pause',\n          targetElement.videoPauseListener\n        );\n        targetElement.videoPauseListener = undefined;\n      }\n      if (targetElement.videoEndedListener) {\n        videoPlayer.removeEventListener(\n          'ended',\n          targetElement.videoEndedListener\n        );\n        targetElement.videoEndedListener = undefined;\n      }\n      this._checkVideoLongPlayTimeAndReset(targetElement, videoPlayer);\n    }\n\n    if (audioPlayer) {\n      if (targetElement.audioPlayListener) {\n        audioPlayer.removeEventListener(\n          'play',\n          targetElement.audioPlayListener\n        );\n        targetElement.audioPlayListener = undefined;\n      }\n      if (targetElement.audioPauseListener) {\n        audioPlayer.removeEventListener(\n          'pause',\n          targetElement.audioPauseListener\n        );\n        targetElement.audioPauseListener = undefined;\n      }\n      if (targetElement.audioEndedListener) {\n        audioPlayer.removeEventListener(\n          'ended',\n          targetElement.audioEndedListener\n        );\n        targetElement.audioEndedListener = undefined;\n      }\n      this._checkVideoLongPlayTimeAndReset(targetElement, audioPlayer);\n    }\n  }\n\n  static pauseMediaPlayback(targetElement: YpElementWithPlayback) {\n    const videoPlayer = targetElement.$$('#videoPlayer') as HTMLAudioElement;\n    const audioPlayer = targetElement.$$('#audioPlayer') as HTMLVideoElement;\n    if (videoPlayer) {\n      videoPlayer.pause();\n    }\n    if (audioPlayer) {\n      audioPlayer.pause();\n    }\n  }\n\n  static getVideoURL(videos: Array<YpVideoData> | undefined) {\n    if (\n      videos &&\n      videos.length > 0 &&\n      videos[0].formats &&\n      videos[0].formats.length > 0\n    ) {\n      return videos[0].formats[0];\n    } else {\n      return null;\n    }\n  }\n\n  static isPortraitVideo(videos: Array<YpVideoData> | undefined) {\n    if (\n      videos &&\n      videos.length > 0 &&\n      videos[0].formats &&\n      videos[0].formats.length > 0\n    ) {\n      if (\n        videos[0].public_meta &&\n        videos[0].public_meta.aspect &&\n        videos[0].public_meta.aspect === 'portrait'\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  }\n\n  static getAudioURL(audios: Array<YpAudioData> | undefined) {\n    if (\n      audios &&\n      audios.length > 0 &&\n      audios[0].formats &&\n      audios[0].formats.length > 0\n    ) {\n      return audios[0].formats[0];\n    } else {\n      return null;\n    }\n  }\n\n  static getVideoPosterURL(\n    videos: Array<YpVideoData> | undefined,\n    images: Array<YpImageData> | undefined,\n    selectedImageIndex = 0\n  ) {\n    if (\n      videos &&\n      videos.length > 0 &&\n      videos[0].VideoImages &&\n      videos[0].VideoImages.length > 0\n    ) {\n      if (\n        videos[0].public_meta &&\n        videos[0].public_meta.selectedVideoFrameIndex\n      ) {\n        selectedImageIndex = videos[0].public_meta.selectedVideoFrameIndex;\n      }\n      if (selectedImageIndex > videos[0].VideoImages.length - 1) {\n        selectedImageIndex = 0;\n      }\n      if (selectedImageIndex === -2 && images) {\n        return this.getImageFormatUrl(images, 0);\n      } else {\n        if (selectedImageIndex < 0) selectedImageIndex = 0;\n        return JSON.parse(videos[0].VideoImages[selectedImageIndex].formats)[0];\n      }\n    } else {\n      return null;\n    }\n  }\n}\n"]}