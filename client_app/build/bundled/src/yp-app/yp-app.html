<script>!function(t,e){"object"==("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.i18next=e()}(this,function(){"use strict";function u(t){return null==t?"":""+t}function f(t,e,n){function o(t){return t&&-1<t.indexOf("###")?t.replace(/###/g,"."):t}function r(){return!t||"string"==typeof t}for(var i="string"!=typeof e?[].concat(e):e.split(".");1<i.length;){if(r())return{};var s=o(i.shift());!t[s]&&n&&(t[s]=new n),t=t[s]}return r()?{}:{obj:t,k:o(i.shift())}}function l(t,e,n){var o=f(t,e,Object);o.obj[o.k]=n}function c(t,e){var n=f(t,e),o=n.obj,r=n.k;if(o)return o[r]}function n(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function o(t){return"string"==typeof t?t.replace(/[&<>"'\/]/g,function(t){return k[t]}):t}function r(t){return t.charAt(0).toUpperCase()+t.slice(1)}function a(t){return"string"==typeof t.ns&&(t.ns=[t.ns]),"string"==typeof t.fallbackLng&&(t.fallbackLng=[t.fallbackLng]),"string"==typeof t.fallbackNS&&(t.fallbackNS=[t.fallbackNS]),t.whitelist&&t.whitelist.indexOf("cimode")<0&&(t.whitelist=t.whitelist.concat(["cimode"])),t}function p(){}function i(t,e){if(!babelHelpers.instanceof(t,e))throw new TypeError("Cannot call a class as a function")}function t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+babelHelpers.typeof(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=babelHelpers.typeof(e)&&"function"!=typeof e?t:e}var g,h,d,v,y,R="function"==typeof Symbol&&"symbol"==babelHelpers.typeof(Symbol.iterator)?function(t){return babelHelpers.typeof(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":babelHelpers.typeof(t)},j=Object.assign||function(t){for(var e,n=1;n<arguments.length;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},m=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,r=!1,i=void 0;try{for(var s,a=t[Symbol.iterator]();!(o=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);o=!0);}catch(t){r=!0,i=t}finally{try{!o&&a.return&&a.return()}finally{if(r)throw i}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},b={type:"logger",log:function(t){this.output("log",t)},warn:function(t){this.output("warn",t)},error:function(t){this.output("error",t)},output:function(t,e){var n;console&&console[t]&&(n=console)[t].apply(n,function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e))}},x=new(q.prototype.init=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.prefix=e.prefix||"i18next:",this.logger=t||b,this.options=e,this.debug=e.debug},q.prototype.setDebug=function(t){this.debug=t},q.prototype.log=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"log","",!0)},q.prototype.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","",!0)},q.prototype.error=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"error","")},q.prototype.deprecate=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.forward(e,"warn","WARNING DEPRECATED: ",!0)},q.prototype.forward=function(t,e,n,o){return o&&!this.debug?null:("string"==typeof t[0]&&(t[0]=""+n+this.prefix+" "+t[0]),this.logger[e](t))},q.prototype.create=function(t){return new q(this.logger,j({prefix:this.prefix+":"+t+":"},this.options))},q),e=(B.prototype.on=function(t,e){var n=this;t.split(" ").forEach(function(t){n.observers[t]=n.observers[t]||[],n.observers[t].push(e)})},B.prototype.off=function(e,n){var o=this;this.observers[e]&&this.observers[e].forEach(function(){if(n){var t=o.observers[e].indexOf(n);-1<t&&o.observers[e].splice(t,1)}else delete o.observers[e]})},B.prototype.emit=function(n){for(var t=arguments.length,o=Array(1<t?t-1:0),e=1;e<t;e++)o[e-1]=arguments[e];this.observers[n]&&[].concat(this.observers[n]).forEach(function(t){t.apply(void 0,o)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(function(t){var e;t.apply(t,(e=[n]).concat.apply(e,o))})},B),k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},S=(t(K,y=e),K.prototype.addNamespaces=function(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)},K.prototype.removeNamespaces=function(t){var e=this.options.ns.indexOf(t);-1<e&&this.options.ns.splice(e,1)},K.prototype.getResource=function(t,e,n){var o=(3<arguments.length&&void 0!==arguments[3]?arguments[3]:{}).keySeparator||this.options.keySeparator;void 0===o&&(o=".");var r=[t,e];return n&&"string"!=typeof n&&(r=r.concat(n)),n&&"string"==typeof n&&(r=r.concat(o?n.split(o):n)),-1<t.indexOf(".")&&(r=t.split(".")),c(this.data,r)},K.prototype.addResource=function(t,e,n,o){var r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{silent:!1},i=this.options.keySeparator;void 0===i&&(i=".");var s=[t,e];n&&(s=s.concat(i?n.split(i):n)),-1<t.indexOf(".")&&(o=e,e=(s=t.split("."))[1]),this.addNamespaces(e),l(this.data,s,o),r.silent||this.emit("added",t,e,n,o)},K.prototype.addResources=function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var r in n)"string"==typeof n[r]&&this.addResource(t,e,r,n[r],{silent:!0});o.silent||this.emit("added",t,e,n)},K.prototype.addResourceBundle=function(t,e,n,o,r){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{silent:!1},s=[t,e];-1<t.indexOf(".")&&(o=n,n=e,e=(s=t.split("."))[1]),this.addNamespaces(e);var a=c(this.data,s)||{};o?function t(e,n,o){for(var r in n)r in e?"string"==typeof e[r]||babelHelpers.instanceof(e[r],String)||"string"==typeof n[r]||babelHelpers.instanceof(n[r],String)?o&&(e[r]=n[r]):t(e[r],n[r],o):e[r]=n[r];return e}(a,n,r):a=j({},a,n),l(this.data,s,a),i.silent||this.emit("added",t,e,n)},K.prototype.removeResourceBundle=function(t,e){this.hasResourceBundle(t,e)&&delete this.data[t][e],this.removeNamespaces(e),this.emit("removed",t,e)},K.prototype.hasResourceBundle=function(t,e){return void 0!==this.getResource(t,e)},K.prototype.getResourceBundle=function(t,e){return e=e||this.options.defaultNS,"v1"===this.options.compatibilityAPI?j({},this.getResource(t,e)):this.getResource(t,e)},K.prototype.toJSON=function(){return this.data},K),w={processors:{},addPostProcessor:function(t){this.processors[t.name]=t},handle:function(t,e,n,o,r){var i=this;return t.forEach(function(t){i.processors[t]&&(e=i.processors[t].process(e,n,o,r))}),e}},O=(t(I,v=e),I.prototype.changeLanguage=function(t){t&&(this.language=t)},I.prototype.exists=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=this.resolve(t,e);return n&&void 0!==n.res},I.prototype.extractFromKey=function(t,e){var n=e.nsSeparator||this.options.nsSeparator;void 0===n&&(n=":");var o=e.keySeparator||this.options.keySeparator||".",r=e.ns||this.options.defaultNS;if(n&&-1<t.indexOf(n)){var i=t.split(n);(n!==o||n===o&&-1<this.options.ns.indexOf(i[0]))&&(r=i.shift()),t=i.join(o)}return"string"==typeof r&&(r=[r]),{key:t,namespaces:r}},I.prototype.translate=function(t,n){var o=this;if("object"!==(void 0===n?"undefined":R(n))&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),n=n||{},null==t||""===t)return"";"number"==typeof t&&(t+=""),"string"==typeof t&&(t=[t]);var e=n.keySeparator||this.options.keySeparator||".",r=this.extractFromKey(t[t.length-1],n),i=r.key,s=r.namespaces,a=s[s.length-1],l=n.lng||this.language,u=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(u){var c=n.nsSeparator||this.options.nsSeparator;return a+c+i}return i}var p=this.resolve(t,n),f=p&&p.res,g=p&&p.usedKey||i,h=Object.prototype.toString.apply(f),d=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays;if(f&&"string"!=typeof f&&"boolean"!=typeof f&&"number"!=typeof f&&["[object Number]","[object Function]","[object RegExp]"].indexOf(h)<0&&(!d||"[object Array]"!==h)){if(!n.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,f,n):"key '"+i+" ("+this.language+")' returned an object instead of string.";if(n.keySeparator||this.options.keySeparator){var v="[object Array]"===h?[]:{};for(var y in f)if(Object.prototype.hasOwnProperty.call(f,y)){var m=""+g+e+y;v[y]=this.translate(m,j({},n,{joinArrays:!1,ns:s})),v[y]===m&&(v[y]=f[y])}f=v}}else if(d&&"[object Array]"===h)f=(f=f.join(d))&&this.extendTranslation(f,t,n);else{var b=!1,x=!1;this.isValidLookup(f)||void 0===n.defaultValue||(b=!0,f=n.defaultValue),this.isValidLookup(f)||(x=!0,f=i);var k=n.defaultValue&&n.defaultValue!==f&&this.options.updateMissing;if(x||b||k){this.logger.log(k?"updateKey":"missingKey",l,a,i,k?n.defaultValue:f);var S=[],w=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&w&&w[0])for(var O=0;O<w.length;O++)S.push(w[O]);else"all"===this.options.saveMissingTo?S=this.languageUtils.toResolveHierarchy(n.lng||this.language):S.push(n.lng||this.language);var L=function(t,e){o.options.missingKeyHandler?o.options.missingKeyHandler(t,a,e,k?n.defaultValue:f,k,n):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(t,a,e,k?n.defaultValue:f,k,n),o.emit("missingKey",t,a,e,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&n.count?S.forEach(function(e){o.pluralResolver.getPluralFormsOfKey(e,i).forEach(function(t){return L([e],t)})}):L(S,i))}f=this.extendTranslation(f,t,n),x&&f===i&&this.options.appendNamespaceToMissingKey&&(f=a+":"+i),x&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(f))}return f},I.prototype.extendTranslation=function(t,e,n){var o=this;n.interpolation&&this.interpolator.init(j({},n,{interpolation:j({},this.options.interpolation,n.interpolation)}));var r=n.replace&&"string"!=typeof n.replace?n.replace:n;this.options.interpolation.defaultVariables&&(r=j({},this.options.interpolation.defaultVariables,r)),t=this.interpolator.interpolate(t,r,n.lng||this.language),!1!==n.nest&&(t=this.interpolator.nest(t,function(){return o.translate.apply(o,arguments)},n)),n.interpolation&&this.interpolator.reset();var i=n.postProcess||this.options.postProcess,s="string"==typeof i?[i]:i;return null!=t&&s&&s.length&&!1!==n.applyPostProcessor&&(t=w.handle(s,t,e,n,this)),t},I.prototype.resolve=function(t){var u=this,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},p=void 0,r=void 0;return"string"==typeof t&&(t=[t]),t.forEach(function(t){if(!u.isValidLookup(p)){var e=u.extractFromKey(t,c),s=e.key;r=s;var n=e.namespaces;u.options.fallbackNS&&(n=n.concat(u.options.fallbackNS));var a=void 0!==c.count&&"string"!=typeof c.count,l=void 0!==c.context&&"string"==typeof c.context&&""!==c.context,o=c.lngs?c.lngs:u.languageUtils.toResolveHierarchy(c.lng||u.language);n.forEach(function(i){u.isValidLookup(p)||o.forEach(function(t){if(!u.isValidLookup(p)){var e=s,n=[e],o=void 0;a&&(o=u.pluralResolver.getSuffix(t,c.count)),a&&l&&n.push(e+o),l&&n.push(e+=""+u.options.contextSeparator+c.context),a&&n.push(e+=o);for(var r=void 0;r=n.pop();)u.isValidLookup(p)||(p=u.getResource(t,i,r,c))}})})}}),{res:p,usedKey:r}},I.prototype.isValidLookup=function(t){return!(void 0===t||!this.options.returnNull&&null===t||!this.options.returnEmptyString&&""===t)},I.prototype.getResource=function(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};return this.resourceStore.getResource(t,e,n,o)},I),L=(D.prototype.getScriptPartFromCode=function(t){if(!t||t.indexOf("-")<0)return null;var e=t.split("-");return 2===e.length?null:(e.pop(),this.formatLanguageCode(e.join("-")))},D.prototype.getLanguagePartFromCode=function(t){if(!t||t.indexOf("-")<0)return t;var e=t.split("-");return this.formatLanguageCode(e[0])},D.prototype.formatLanguageCode=function(t){if("string"==typeof t&&-1<t.indexOf("-")){var e=["hans","hant","latn","cyrl","cans","mong","arab"],n=t.split("-");return this.options.lowerCaseLng?n=n.map(function(t){return t.toLowerCase()}):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),-1<e.indexOf(n[1].toLowerCase())&&(n[1]=r(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),-1<e.indexOf(n[1].toLowerCase())&&(n[1]=r(n[1].toLowerCase())),-1<e.indexOf(n[2].toLowerCase())&&(n[2]=r(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t},D.prototype.isWhitelisted=function(t){return"languageOnly"!==this.options.load&&!this.options.nonExplicitWhitelist||(t=this.getLanguagePartFromCode(t)),!this.whitelist||!this.whitelist.length||-1<this.whitelist.indexOf(t)},D.prototype.getFallbackCodes=function(t,e){if(!t)return[];if("string"==typeof t&&(t=[t]),"[object Array]"===Object.prototype.toString.apply(t))return t;if(!e)return t.default||[];var n=t[e];return(n=(n=(n=n||t[this.getScriptPartFromCode(e)])||t[this.formatLanguageCode(e)])||t.default)||[]},D.prototype.toResolveHierarchy=function(t,e){function n(t){t&&(o.isWhitelisted(t)?i.push(t):o.logger.warn("rejecting non-whitelisted language code: "+t))}var o=this,r=this.getFallbackCodes(e||this.options.fallbackLng||[],t),i=[];return"string"==typeof t&&-1<t.indexOf("-")?("languageOnly"!==this.options.load&&n(this.formatLanguageCode(t)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&n(this.getScriptPartFromCode(t)),"currentOnly"!==this.options.load&&n(this.getLanguagePartFromCode(t))):"string"==typeof t&&n(this.formatLanguageCode(t)),r.forEach(function(t){i.indexOf(t)<0&&n(o.formatLanguageCode(t))}),i},D),C=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","he","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21}],E={1:function(t){return+(1<t)},2:function(t){return+(1!=t)},3:function(){return 0},4:function(t){return+(1==t%10&&11!=t%100?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2)},5:function(t){return+(0===t?0:1==t?1:2==t?2:3<=t%100&&t%100<=10?3:11<=t%100?4:5)},6:function(t){return+(1==t?0:2<=t&&t<=4?1:2)},7:function(t){return+(1==t?0:2<=t%10&&t%10<=4&&(t%100<10||20<=t%100)?1:2)},8:function(t){return+(1==t?0:2==t?1:8!=t&&11!=t?2:3)},9:function(t){return+(2<=t)},10:function(t){return+(1==t?0:2==t?1:t<7?2:t<11?3:4)},11:function(t){return+(1==t||11==t?0:2==t||12==t?1:2<t&&t<20?2:3)},12:function(t){return+(1!=t%10||11==t%100)},13:function(t){return+(0!==t)},14:function(t){return+(1==t?0:2==t?1:3==t?2:3)},15:function(t){return+(1==t%10&&11!=t%100?0:2<=t%10&&(t%100<10||20<=t%100)?1:2)},16:function(t){return+(1==t%10&&11!=t%100?0:0!==t?1:2)},17:function(t){return+(1==t||1==t%10?0:1)},18:function(t){return+(0==t?0:1==t?1:2)},19:function(t){return+(1==t?0:0===t||1<t%100&&t%100<11?1:10<t%100&&t%100<20?2:3)},20:function(t){return+(1==t?0:0===t||0<t%100&&t%100<20?1:2)},21:function(t){return+(1==t%100?1:2==t%100?2:3==t%100||4==t%100?3:0)}},P=(F.prototype.addRule=function(t,e){this.rules[t]=e},F.prototype.getRule=function(t){return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]},F.prototype.needsPlural=function(t){var e=this.getRule(t);return e&&1<e.numbers.length},F.prototype.getPluralFormsOfKey=function(n,o){var r=this,i=[],t=this.getRule(n);return t&&t.numbers.forEach(function(t){var e=r.getSuffix(n,t);i.push(""+o+e)}),i},F.prototype.getSuffix=function(t,e){var n=this,o=this.getRule(t);if(o){var r=o.noAbs?o.plurals(e):o.plurals(Math.abs(e)),i=o.numbers[r];this.options.simplifyPluralSuffix&&2===o.numbers.length&&1===o.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var s=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"==typeof i?"_plural_"+i.toString():s():"v2"===this.options.compatibilityJSON||2===o.numbers.length&&1===o.numbers[0]?s():2===o.numbers.length&&1===o.numbers[0]?s():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}return this.logger.warn("no plural rule found for: "+t),""},F),N=(V.prototype.init=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};arguments[1]&&(this.options=t,this.format=t.interpolation&&t.interpolation.format||function(t){return t},this.escape=t.interpolation&&t.interpolation.escape||o),t.interpolation||(t.interpolation={escapeValue:!0});var e=t.interpolation;this.escapeValue=void 0===e.escapeValue||e.escapeValue,this.prefix=e.prefix?n(e.prefix):e.prefixEscaped||"{{",this.suffix=e.suffix?n(e.suffix):e.suffixEscaped||"}}",this.formatSeparator=e.formatSeparator?e.formatSeparator:e.formatSeparator||",",this.unescapePrefix=e.unescapeSuffix?"":e.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":e.unescapeSuffix||"",this.nestingPrefix=e.nestingPrefix?n(e.nestingPrefix):e.nestingPrefixEscaped||n("$t("),this.nestingSuffix=e.nestingSuffix?n(e.nestingSuffix):e.nestingSuffixEscaped||n(")"),this.maxReplaces=e.maxReplaces?e.maxReplaces:1e3,this.resetRegExp()},V.prototype.reset=function(){this.options&&this.init(this.options)},V.prototype.resetRegExp=function(){var t=this.prefix+"(.+?)"+this.suffix;this.regexp=new RegExp(t,"g");var e=""+this.prefix+this.unescapePrefix+"(.+?)"+this.unescapeSuffix+this.suffix;this.regexpUnescape=new RegExp(e,"g");var n=this.nestingPrefix+"(.+?)"+this.nestingSuffix;this.nestingRegexp=new RegExp(n,"g")},V.prototype.interpolate=function(t,r,i){function e(t){if(t.indexOf(s.formatSeparator)<0)return c(r,t);var e=t.split(s.formatSeparator),n=e.shift().trim(),o=e.join(s.formatSeparator).trim();return s.format(c(r,n),o,i)}var s=this,n=void 0,o=void 0,a=void 0;for(this.resetRegExp(),a=0;(n=this.regexpUnescape.exec(t))&&(o=e(n[1].trim()),t=t.replace(n[0],o),this.regexpUnescape.lastIndex=0,!(++a>=this.maxReplaces)););for(a=0;n=this.regexp.exec(t);){if("string"!=typeof(o=e(n[1].trim()))&&(o=u(o)),!o)if("function"==typeof this.options.missingInterpolationHandler){var l=this.options.missingInterpolationHandler(t,n);o="string"==typeof l?l:""}else this.logger.warn("missed to pass in variable "+n[1]+" for interpolating "+t),o="";if(o=(this.escapeValue?this.escape(o):o).replace(/\$/g,"$$$$"),t=t.replace(n[0],o),this.regexp.lastIndex=0,++a>=this.maxReplaces)break}return t},V.prototype.nest=function(t,e){function n(t,e){if(t.indexOf(",")<0)return t;var n=t.split(",");t=n.shift();var o=n.join(",");o=(o=this.interpolate(o,i)).replace(/'/g,'"');try{i=JSON.parse(o),e&&(i=j({},e,i))}catch(e){this.logger.error("failed parsing options string in nesting for key "+t,e)}return t}var o=void 0,r=void 0,i=j({},2<arguments.length&&void 0!==arguments[2]?arguments[2]:{});for(i.applyPostProcessor=!1;o=this.nestingRegexp.exec(t);){if((r=e(n.call(this,o[1].trim(),i),i))&&o[0]===t&&"string"!=typeof r)return r;"string"!=typeof r&&(r=u(r)),r||(this.logger.warn("missed to resolve "+o[1]+" for nesting "+t),r=""),t=t.replace(o[0],r),this.regexp.lastIndex=0}return t},V),H=(t(T,d=e),T.prototype.queueLoad=function(t,e,n){var r=this,i=[],s=[],a=[],l=[];return t.forEach(function(n){var o=!0;e.forEach(function(t){var e=n+"|"+t;r.store.hasResourceBundle(n,t)?r.state[e]=2:r.state[e]<0||(1===r.state[e]?s.indexOf(e)<0&&s.push(e):(r.state[e]=1,o=!1,s.indexOf(e)<0&&s.push(e),i.indexOf(e)<0&&i.push(e),l.indexOf(t)<0&&l.push(t)))}),o||a.push(n)}),(i.length||s.length)&&this.queue.push({pending:s,loaded:{},errors:[],callback:n}),{toLoad:i,pending:s,toLoadLanguages:a,toLoadNamespaces:l}},T.prototype.loaded=function(a,l,t){var u=this,e=a.split("|"),n=m(e,2),c=n[0],p=n[1];l&&this.emit("failedLoading",c,p,l),t&&this.store.addResourceBundle(c,p,t),this.state[a]=l?-1:2,this.queue.forEach(function(t){var e,n,o,r,i,s;e=t.loaded,n=p,r=f(e,[c],Object),i=r.obj,s=r.k,i[s]=i[s]||[],o&&(i[s]=i[s].concat(n)),o||i[s].push(n),function(t,e){for(var n=t.indexOf(e);-1!==n;)t.splice(n,1),n=t.indexOf(e)}(t.pending,a),l&&t.errors.push(l),0!==t.pending.length||t.done||(u.emit("loaded",t.loaded),t.done=!0,t.errors.length?t.callback(t.errors):t.callback())}),this.queue=this.queue.filter(function(t){return!t.done})},T.prototype.read=function(n,o,r){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,s=this,a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:250,l=arguments[5];return n.length?this.backend[r](n,o,function(t,e){return t&&e&&i<5?void setTimeout(function(){s.read.call(s,n,o,r,i+1,2*a,l)},a):void l(t,e)}):l(null,{})},T.prototype.load=function(t,e,n){var u=this;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();var o=j({},this.backend.options,this.options.backend);"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof e&&(e=[e]);var r=this.queueLoad(t,e,n);return r.toLoad.length?void(o.allowMultiLoading&&this.backend.readMulti?this.read(r.toLoadLanguages,r.toLoadNamespaces,"readMulti",null,null,function(a,l){a&&u.logger.warn("loading namespaces "+r.toLoadNamespaces.join(", ")+" for languages "+r.toLoadLanguages.join(", ")+" via multiloading failed",a),!a&&l&&u.logger.log("successfully loaded namespaces "+r.toLoadNamespaces.join(", ")+" for languages "+r.toLoadLanguages.join(", ")+" via multiloading",l),r.toLoad.forEach(function(t){var e=t.split("|"),n=m(e,2),o=n[0],r=n[1],i=c(l,[o,r]);if(i)u.loaded(t,a,i);else{var s="loading namespace "+r+" for language "+o+" via multiloading failed";u.loaded(t,s),u.logger.error(s)}})}):r.toLoad.forEach(function(t){u.loadOne(t)})):(r.pending.length||n(),null)},T.prototype.reload=function(t,n){var s=this;this.backend||this.logger.warn("No backend was added via i18next.use. Will not load resources.");var e=j({},this.backend.options,this.options.backend);"string"==typeof t&&(t=this.languageUtils.toResolveHierarchy(t)),"string"==typeof n&&(n=[n]),e.allowMultiLoading&&this.backend.readMulti?this.read(t,n,"readMulti",null,null,function(r,i){r&&s.logger.warn("reloading namespaces "+n.join(", ")+" for languages "+t.join(", ")+" via multiloading failed",r),!r&&i&&s.logger.log("successfully reloaded namespaces "+n.join(", ")+" for languages "+t.join(", ")+" via multiloading",i),t.forEach(function(o){n.forEach(function(t){var e=c(i,[o,t]);if(e)s.loaded(o+"|"+t,r,e);else{var n="reloading namespace "+t+" for language "+o+" via multiloading failed";s.loaded(o+"|"+t,n),s.logger.error(n)}})})}):t.forEach(function(e){n.forEach(function(t){s.loadOne(e+"|"+t,"re")})})},T.prototype.loadOne=function(n){var o=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",t=n.split("|"),e=m(t,2),i=e[0],s=e[1];this.read(i,s,"read",null,null,function(t,e){t&&o.logger.warn(r+"loading namespace "+s+" for language "+i+" failed",t),!t&&e&&o.logger.log(r+"loaded namespace "+s+" for language "+i,e),o.loaded(n,t,e)})},T.prototype.saveMissing=function(t,e,n,o,r){var i=5<arguments.length&&void 0!==arguments[5]?arguments[5]:{};this.backend&&this.backend.create&&this.backend.create(t,e,n,o,null,j({},i,{isUpdate:r})),t&&t[0]&&this.store.addResource(t[0],e,n,o)},T),A=(t(U,h=e),U.prototype.load=function(t,e,i){var s=this;if(!this.cache)return i&&i();var n=j({},this.cache.options,this.options.cache),a="string"==typeof t?this.services.languageUtils.toResolveHierarchy(t):t;n.enabled?this.cache.load(a,function(t,e){if(t&&s.logger.error("loading languages "+a.join(", ")+" from cache failed",t),e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))for(var o in e[n])if(Object.prototype.hasOwnProperty.call(e[n],o)&&"i18nStamp"!==o){var r=e[n][o];r&&s.store.addResourceBundle(n,o,r)}i&&i()}):i&&i()},U.prototype.save=function(){this.cache&&this.options.cache&&this.options.cache.enabled&&this.cache.save(this.store.data)},U);function M(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];i(this,M);var n=s(this,g.call(this));if(n.options=a(t),n.services={},n.logger=x,n.modules={external:[]},e&&!n.isInitialized&&!t.isClone){var o;if(!n.options.initImmediate)return o=n.init(t,e),s(n,o);setTimeout(function(){n.init(t,e)},0)}return n}function U(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};i(this,U);var r=s(this,h.call(this));return r.cache=t,r.store=e,r.services=n,r.options=o,r.logger=x.create("cacheConnector"),r.cache&&r.cache.init&&r.cache.init(n,o.cache,o),r}function T(t,e,n){var o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};i(this,T);var r=s(this,d.call(this));return r.backend=t,r.store=e,r.languageUtils=n.languageUtils,r.options=o,r.logger=x.create("backendConnector"),r.state={},r.queue=[],r.backend&&r.backend.init&&r.backend.init(n,o.backend,o),r}function V(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};i(this,V),this.logger=x.create("interpolator"),this.init(t,!0)}function F(t){var n,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,F),this.languageUtils=t,this.options=e,this.logger=x.create("pluralResolver"),this.rules=(n={},C.forEach(function(e){e.lngs.forEach(function(t){n[t]={numbers:e.nr,plurals:E[e.fc]}})}),n)}function D(t){i(this,D),this.options=t,this.whitelist=this.options.whitelist||!1,this.logger=x.create("languageUtils")}function I(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,I);var n,o,r=s(this,v.call(this));return n=t,o=r,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector"].forEach(function(t){n[t]&&(o[t]=n[t])}),r.options=e,r.logger=x.create("translator"),r}function K(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};i(this,K);var n=s(this,y.call(this));return n.data=t||{},n.options=e,n}function B(){i(this,B),this.observers={}}function q(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};i(this,q),this.init(t,e)}return new(t(M,g=e),M.prototype.init=function(){function t(t){return t?"function"==typeof t?new t:t:null}var r=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];if("function"==typeof e&&(n=e,e={}),this.options=j({},{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:function(){},parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(t){var e={};return t[1]&&(e.defaultValue=t[1]),t[2]&&(e.tDescription=t[2]),e},interpolation:{escapeValue:!0,format:function(t){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",maxReplaces:1e3}},this.options,a(e)),this.format=this.options.interpolation.format,n=n||p,!this.options.isClone){this.modules.logger?x.init(t(this.modules.logger),this.options):x.init(null,this.options);var o=new L(this.options);this.store=new S(this.options.resources,this.options);var i=this.services;i.logger=x,i.resourceStore=this.store,i.resourceStore.on("added removed",function(t,e){i.cacheConnector.save()}),i.languageUtils=o,i.pluralResolver=new P(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),i.interpolator=new N(this.options),i.backendConnector=new H(t(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];r.emit.apply(r,[t].concat(n))}),i.backendConnector.on("loaded",function(t){i.cacheConnector.save()}),i.cacheConnector=new A(t(this.modules.cache),i.resourceStore,i,this.options),i.cacheConnector.on("*",function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];r.emit.apply(r,[t].concat(n))}),this.modules.languageDetector&&(i.languageDetector=t(this.modules.languageDetector),i.languageDetector.init(i,this.options.detection,this.options)),this.translator=new O(this.services,this.options),this.translator.on("*",function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];r.emit.apply(r,[t].concat(n))}),this.modules.external.forEach(function(t){t.init&&t.init(r)})}function s(){r.changeLanguage(r.options.lng,function(t,e){r.isInitialized=!0,r.logger.log("initialized",r.options),r.emit("initialized",r.options),n(t,e)})}return["getResource","addResource","addResources","addResourceBundle","removeResourceBundle","hasResourceBundle","getResourceBundle"].forEach(function(e){r[e]=function(){var t;return(t=r.store)[e].apply(t,arguments)}}),this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),this},M.prototype.loadResources=function(){var n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:p;if(this.options.resources)t(null);else{if(this.language&&"cimode"===this.language.toLowerCase())return t();var o=[],e=function(t){if(t){var e=n.services.languageUtils.toResolveHierarchy(t);e.forEach(function(t){o.indexOf(t)<0&&o.push(t)})}};this.language?e(this.language):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(function(t){return e(t)}),this.options.preload&&this.options.preload.forEach(function(t){return e(t)}),this.services.cacheConnector.load(o,this.options.ns,function(){n.services.backendConnector.load(o,n.options.ns,t)})}},M.prototype.reloadResources=function(t,e){t=t||this.languages,e=e||this.options.ns,this.services.backendConnector.reload(t,e)},M.prototype.use=function(t){return"backend"===t.type&&(this.modules.backend=t),"cache"===t.type&&(this.modules.cache=t),("logger"===t.type||t.log&&t.warn&&t.error)&&(this.modules.logger=t),"languageDetector"===t.type&&(this.modules.languageDetector=t),"postProcessor"===t.type&&w.addPostProcessor(t),"3rdParty"===t.type&&this.modules.external.push(t),this},M.prototype.changeLanguage=function(t,r){function e(o){o&&(i.language=o,i.languages=i.services.languageUtils.toResolveHierarchy(o),i.translator.language||i.translator.changeLanguage(o),i.services.languageDetector&&i.services.languageDetector.cacheUserLanguage(o)),i.loadResources(function(t){var e,n;e=t,n=o,i.translator.changeLanguage(n),n&&(i.emit("languageChanged",n),i.logger.log("languageChanged",n)),r&&r(e,function(){return i.t.apply(i,arguments)})})}var i=this;t||!this.services.languageDetector||this.services.languageDetector.async?!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(e):e(t):e(this.services.languageDetector.detect())},M.prototype.getFixedT=function(t,e){function s(t,e){for(var n=arguments.length,o=Array(2<n?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];var i=j({},e);return"object"!==(void 0===e?"undefined":R(e))&&(i=a.options.overloadTranslationOptionHandler([t,e].concat(o))),i.lng=i.lng||s.lng,i.lngs=i.lngs||s.lngs,i.ns=i.ns||s.ns,a.t(t,i)}var a=this;return"string"==typeof t?s.lng=t:s.lngs=t,s.ns=e,s},M.prototype.t=function(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)},M.prototype.exists=function(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)},M.prototype.setDefaultNamespace=function(t){this.options.defaultNS=t},M.prototype.loadNamespaces=function(t,e){var n=this;return this.options.ns?("string"==typeof t&&(t=[t]),t.forEach(function(t){n.options.ns.indexOf(t)<0&&n.options.ns.push(t)}),void this.loadResources(e)):e&&e()},M.prototype.loadLanguages=function(t,e){"string"==typeof t&&(t=[t]);var n=this.options.preload||[],o=t.filter(function(t){return n.indexOf(t)<0});return o.length?(this.options.preload=n.concat(o),void this.loadResources(e)):e()},M.prototype.dir=function(t){return(t=t||(this.languages&&0<this.languages.length?this.languages[0]:this.language))?0<=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(t))?"rtl":"ltr":"rtl"},M.prototype.createInstance=function(){return new M(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},arguments[1])},M.prototype.cloneInstance=function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:p,o=j({},this.options,t,{isClone:!0}),r=new M(o);return["store","services","language"].forEach(function(t){r[t]=e[t]}),r.translator=new O(r.services,r.options),r.translator.on("*",function(t){for(var e=arguments.length,n=Array(1<e?e-1:0),o=1;o<e;o++)n[o-1]=arguments[o];r.emit.apply(r,[t].concat(n))}),r.init(o,n),r.translator.options=r.options,r},M)})</script><script>!function(e,t){"object"==("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.i18nextXHRBackend=t()}(this,function(){"use strict";function l(e,t){if(t&&"object"===(void 0===t?"undefined":u(t))){var n="",o=encodeURIComponent;for(var i in t)n+="&"+o(i)+"="+o(t[i]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e}function o(e,t,n,o,i){o&&"object"===(void 0===o?"undefined":u(o))&&(i||(o._t=new Date),o=l("",o).slice(1)),t.queryStringParams&&(e=l(e,t.queryStringParams));try{var a;(a=XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("MSXML2.XMLHTTP.3.0")).open(o?"POST":"GET",e,1),t.crossDomain||a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.withCredentials=!!t.withCredentials,o&&a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.overrideMimeType&&a.overrideMimeType("application/json");var r=t.customHeaders;if(r)for(var s in r)a.setRequestHeader(s,r[s]);a.onreadystatechange=function(){3<a.readyState&&n&&n(a.responseText,a)},a.send(o)}catch(e){console&&console.log(e)}}var e=[],i=e.forEach,a=e.slice,u="function"==typeof Symbol&&"symbol"==babelHelpers.typeof(Symbol.iterator)?function(e){return babelHelpers.typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":babelHelpers.typeof(e)},t=(function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}(n,[{key:"init",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:{};this.services=e,this.options=function(n){return i.call(a.call(arguments,1),function(e){if(e)for(var t in e)void 0===n[t]&&(n[t]=e[t])}),n}(n,this.options||{},{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:JSON.parse,crossDomain:!1,ajax:o})}},{key:"readMulti",value:function(e,t,n){var o=this.options.loadPath;"function"==typeof this.options.loadPath&&(o=this.options.loadPath(e,t));var i=this.services.interpolator.interpolate(o,{lng:e.join("+"),ns:t.join("+")});this.loadUrl(i,n)}},{key:"read",value:function(e,t,n){var o=this.options.loadPath;"function"==typeof this.options.loadPath&&(o=this.options.loadPath([e],[t]));var i=this.services.interpolator.interpolate(o,{lng:e,ns:t});this.loadUrl(i,n)}},{key:"loadUrl",value:function(i,a){var r=this;this.options.ajax(i,this.options,function(e,t){if(500<=t.status&&t.status<600)return a("failed loading "+i,!0);if(400<=t.status&&t.status<500)return a("failed loading "+i,!1);var n=void 0,o=void 0;try{n=r.options.parse(e,i)}catch(e){o="failed parsing "+i+" to json"}if(o)return a(o,!1);a(null,n)})}},{key:"create",value:function(e,n,t,o){var i=this;"string"==typeof e&&(e=[e]);var a={};a[t]=o||"",e.forEach(function(e){var t=i.services.interpolator.interpolate(i.options.addPath,{lng:e,ns:n});i.options.ajax(t,i.options,function(e,t){},a)})}}]),n);function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};(function(e,t){if(!babelHelpers.instanceof(e,t))throw new TypeError("Cannot call a class as a function")})(this,n),this.init(e,t),this.type="backend"}function r(e,t){for(var n,o=0;o<t.length;o++)(n=t[o]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return t.type="backend",t})</script><script>!function(e,t){"object"==("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e,i;function p(){return e.apply(null,arguments)}function o(e){return babelHelpers.instanceof(e,Array)||"[object Array]"===Object.prototype.toString.call(e)}function u(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function l(e){return void 0===e}function h(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function d(e){return babelHelpers.instanceof(e,Date)||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function w(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function f(e,t){for(var n in t)w(t,n)&&(e[n]=t[n]);return w(t,"toString")&&(e.toString=t.toString),w(t,"valueOf")&&(e.valueOf=t.valueOf),e}function m(e,t,n,s){return Yt(e,t,n,s,!0).utc()}function v(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function _(e){if(null==e._isValid){var t=v(e),n=i.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function y(e){var t=m(NaN);return null!=e?f(v(t),e):v(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var r=p.momentProperties=[];function g(e,t){var n,s,i;if(l(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),l(t._i)||(e._i=t._i),l(t._f)||(e._f=t._f),l(t._l)||(e._l=t._l),l(t._strict)||(e._strict=t._strict),l(t._tzm)||(e._tzm=t._tzm),l(t._isUTC)||(e._isUTC=t._isUTC),l(t._offset)||(e._offset=t._offset),l(t._pf)||(e._pf=v(t)),l(t._locale)||(e._locale=t._locale),0<r.length)for(n=0;n<r.length;n++)l(i=t[s=r[n]])||(e[s]=i);return e}var t=!1;function M(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,p.updateOffset(this),t=!1)}function k(e){return babelHelpers.instanceof(e,M)||null!=e&&null!=e._isAMomentObject}function S(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function D(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=S(t)),n}function a(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&D(e[s])!==D(t[s]))&&a++;return a+r}function Y(e){!1===p.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function n(i,r){var a=!0;return f(function(){if(null!=p.deprecationHandler&&p.deprecationHandler(null,i),a){for(var e,t=[],n=0;n<arguments.length;n++){if(e="","object"==babelHelpers.typeof(arguments[n])){for(var s in e+="\n["+n+"] ",arguments[0])e+=s+": "+arguments[0][s]+", ";e=e.slice(0,-2)}else e=arguments[n];t.push(e)}Y(i+"\nArguments: "+Array.prototype.slice.call(t).join("")+"\n"+(new Error).stack),a=!1}return r.apply(this,arguments)},r)}var s,O={};function T(e,t){null!=p.deprecationHandler&&p.deprecationHandler(e,t),O[e]||(Y(t),O[e]=!0)}function b(e){return babelHelpers.instanceof(e,Function)||"[object Function]"===Object.prototype.toString.call(e)}function x(e,t){var n,s=f({},e);for(n in t)w(t,n)&&(u(e[n])&&u(t[n])?(s[n]={},f(s[n],e[n]),f(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)w(e,n)&&!w(t,n)&&u(e[n])&&(s[n]=f({},s[n]));return s}function P(e){null!=e&&this.set(e)}p.suppressDeprecationWarnings=!1,p.deprecationHandler=null,s=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)w(e,t)&&n.push(t);return n};var W={};function H(e,t){var n=e.toLowerCase();W[n]=W[n+"s"]=W[t]=e}function C(e){return"string"==typeof e?W[e]||W[e.toLowerCase()]:void 0}function R(e){var t,n,s={};for(n in e)w(e,n)&&(t=C(n))&&(s[t]=e[n]);return s}var U={};function F(e,t){U[e]=t}function L(e,t,n){var s=""+Math.abs(e),i=t-s.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,G=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,V={},E={};function I(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(E[e]=i),t&&(E[t[0]]=function(){return L(i.apply(this,arguments),t[1],t[2])}),n&&(E[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function A(e,t){return e.isValid()?(t=j(t,e.localeData()),V[t]=V[t]||function(s){var e,i,t,r=s.match(N);for(e=0,i=r.length;e<i;e++)E[r[e]]?r[e]=E[r[e]]:r[e]=(t=r[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(e){var t,n="";for(t=0;t<i;t++)n+=b(r[t])?r[t].call(e,s):r[t];return n}}(t),V[t](e)):e.localeData().invalidDate()}function j(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(G.lastIndex=0;0<=n&&G.test(e);)e=e.replace(G,s),G.lastIndex=0,n-=1;return e}var Z=/\d/,z=/\d\d/,$=/\d{3}/,q=/\d{4}/,J=/[+-]?\d{6}/,B=/\d\d?/,Q=/\d\d\d\d?/,X=/\d\d\d\d\d\d?/,K=/\d{1,3}/,ee=/\d{1,4}/,te=/[+-]?\d{1,6}/,ne=/\d+/,se=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,re=/Z|[+-]\d\d(?::?\d\d)?/gi,ae=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,oe={};function ue(e,n,s){oe[e]=b(n)?n:function(e,t){return e&&s?s:n}}function le(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var he={};function de(e,n){var t,s=n;for("string"==typeof e&&(e=[e]),h(n)&&(s=function(e,t){t[n]=D(e)}),t=0;t<e.length;t++)he[e[t]]=s}function ce(e,i){de(e,function(e,t,n,s){n._w=n._w||{},i(e,n._w,n,s)})}var fe=0,me=1,_e=2,ye=3,ge=4,pe=5,we=6,ve=7,Me=8;function ke(e){return Se(e)?366:365}function Se(e){return 0==e%4&&0!=e%100||0==e%400}I("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),I(0,["YY",2],0,function(){return this.year()%100}),I(0,["YYYY",4],0,"year"),I(0,["YYYYY",5],0,"year"),I(0,["YYYYYY",6,!0],0,"year"),H("year","y"),F("year",1),ue("Y",se),ue("YY",B,z),ue("YYYY",ee,q),ue("YYYYY",te,J),ue("YYYYYY",te,J),de(["YYYYY","YYYYYY"],fe),de("YYYY",function(e,t){t[fe]=2===e.length?p.parseTwoDigitYear(e):D(e)}),de("YY",function(e,t){t[fe]=p.parseTwoDigitYear(e)}),de("Y",function(e,t){t[fe]=parseInt(e,10)}),p.parseTwoDigitYear=function(e){return D(e)+(68<D(e)?1900:2e3)};var De,Ye=Oe("FullYear",!0);function Oe(t,n){return function(e){return null!=e?(be(this,t,e),p.updateOffset(this,n),this):Te(this,t)}}function Te(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function be(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Se(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),xe(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function xe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=(t%12+12)%12;return e+=(t-n)/12,1==n?Se(e)?29:28:31-n%7%2}De=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},I("M",["MM",2],"Mo",function(){return this.month()+1}),I("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),I("MMMM",0,0,function(e){return this.localeData().months(this,e)}),H("month","M"),F("month",8),ue("M",B),ue("MM",B,z),ue("MMM",function(e,t){return t.monthsShortRegex(e)}),ue("MMMM",function(e,t){return t.monthsRegex(e)}),de(["M","MM"],function(e,t){t[me]=D(e)-1}),de(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[me]=i:v(n).invalidMonth=e});var Pe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,We="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),He="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ce(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=D(t);else if(!h(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),xe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Re(e){return null!=e?(Ce(this,e),p.updateOffset(this,!0),this):Te(this,"Month")}var Ue=ae,Fe=ae;function Le(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=m([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=le(s[t]),i[t]=le(i[t]);for(t=0;t<24;t++)r[t]=le(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function Ne(e){var t;if(e<100&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Ge(e,t,n){var s=7+t-n;return-(7+Ne(e,0,s).getUTCDay()-t)%7+s-1}function Ve(e,t,n,s,i){var r,a,o=1+7*(t-1)+(7+n-s)%7+Ge(e,s,i);return a=o<=0?ke(r=e-1)+o:o>ke(e)?(r=e+1,o-ke(e)):(r=e,o),{year:r,dayOfYear:a}}function Ee(e,t,n){var s,i,r=Ge(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?s=a+Ie(i=e.year()-1,t,n):a>Ie(e.year(),t,n)?(s=a-Ie(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function Ie(e,t,n){var s=Ge(e,t,n),i=Ge(e+1,t,n);return(ke(e)-s+i)/7}function Ae(e,t){return e.slice(t,7).concat(e.slice(0,t))}I("w",["ww",2],"wo","week"),I("W",["WW",2],"Wo","isoWeek"),H("week","w"),H("isoWeek","W"),F("week",5),F("isoWeek",5),ue("w",B),ue("ww",B,z),ue("W",B),ue("WW",B,z),ce(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=D(e)}),I("d",0,"do","day"),I("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),I("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),I("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),I("e",0,0,"weekday"),I("E",0,0,"isoWeekday"),H("day","d"),H("weekday","e"),H("isoWeekday","E"),F("day",11),F("weekday",11),F("isoWeekday",11),ue("d",B),ue("e",B),ue("E",B),ue("dd",function(e,t){return t.weekdaysMinRegex(e)}),ue("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ue("dddd",function(e,t){return t.weekdaysRegex(e)}),ce(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:v(n).invalidWeekday=e}),ce(["d","e","E"],function(e,t,n,s){t[s]=D(e)});var je="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ze="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),$e=ae,qe=ae,Je=ae;function Be(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=m([2e3,1]).day(t),s=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r);for(a.sort(e),o.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)o[t]=le(o[t]),u[t]=le(u[t]),l[t]=le(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Qe(){return this.hours()%12||12}function Xe(e,t){I(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ke(e,t){return t._meridiemParse}I("H",["HH",2],0,"hour"),I("h",["hh",2],0,Qe),I("k",["kk",2],0,function(){return this.hours()||24}),I("hmm",0,0,function(){return""+Qe.apply(this)+L(this.minutes(),2)}),I("hmmss",0,0,function(){return""+Qe.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)}),I("Hmm",0,0,function(){return""+this.hours()+L(this.minutes(),2)}),I("Hmmss",0,0,function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)}),Xe("a",!0),Xe("A",!1),H("hour","h"),F("hour",13),ue("a",Ke),ue("A",Ke),ue("H",B),ue("h",B),ue("k",B),ue("HH",B,z),ue("hh",B,z),ue("kk",B,z),ue("hmm",Q),ue("hmmss",X),ue("Hmm",Q),ue("Hmmss",X),de(["H","HH"],ye),de(["k","kk"],function(e,t,n){var s=D(e);t[ye]=24===s?0:s}),de(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),de(["h","hh"],function(e,t,n){t[ye]=D(e),v(n).bigHour=!0}),de("hmm",function(e,t,n){var s=e.length-2;t[ye]=D(e.substr(0,s)),t[ge]=D(e.substr(s)),v(n).bigHour=!0}),de("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[ye]=D(e.substr(0,s)),t[ge]=D(e.substr(s,2)),t[pe]=D(e.substr(i)),v(n).bigHour=!0}),de("Hmm",function(e,t,n){var s=e.length-2;t[ye]=D(e.substr(0,s)),t[ge]=D(e.substr(s))}),de("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[ye]=D(e.substr(0,s)),t[ge]=D(e.substr(s,2)),t[pe]=D(e.substr(i))});var et,tt=Oe("Hours",!0),nt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:We,monthsShort:He,week:{dow:0,doy:6},weekdays:je,weekdaysMin:ze,weekdaysShort:Ze,meridiemParse:/[ap]\.?m?\.?/i},st={},it={};function rt(e){return e?e.toLowerCase().replace("_","-"):e}function at(e){var t=null;if(!st[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=et._abbr,require("./locale/"+e),ot(t)}catch(e){}return st[e]}function ot(e,t){var n;return e&&((n=l(t)?lt(e):ut(e,t))?et=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),et._abbr}function ut(e,t){if(null===t)return delete st[e],null;var n,s=nt;if(t.abbr=e,null!=st[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=st[e]._config;else if(null!=t.parentLocale)if(null!=st[t.parentLocale])s=st[t.parentLocale]._config;else{if(null==(n=at(t.parentLocale)))return it[t.parentLocale]||(it[t.parentLocale]=[]),it[t.parentLocale].push({name:e,config:t}),null;s=n._config}return st[e]=new P(x(s,t)),it[e]&&it[e].forEach(function(e){ut(e.name,e.config)}),ot(e),st[e]}function lt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return et;if(!o(e)){if(t=at(e))return t;e=[e]}return function(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=rt(e[r]).split("-")).length,n=(n=rt(e[r+1]))?n.split("-"):null;0<t;){if(s=at(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&a(i,n,!0)>=t-1)break;t--}r++}return et}(e)}function ht(e){var t,n=e._a;return n&&-2===v(e).overflow&&(t=n[me]<0||11<n[me]?me:n[_e]<1||n[_e]>xe(n[fe],n[me])?_e:n[ye]<0||24<n[ye]||24===n[ye]&&(0!==n[ge]||0!==n[pe]||0!==n[we])?ye:n[ge]<0||59<n[ge]?ge:n[pe]<0||59<n[pe]?pe:n[we]<0||999<n[we]?we:-1,v(e)._overflowDayOfYear&&(t<fe||_e<t)&&(t=_e),v(e)._overflowWeeks&&-1===t&&(t=ve),v(e)._overflowWeekday&&-1===t&&(t=Me),v(e).overflow=t),e}function dt(e,t,n){return null!=e?e:null!=t?t:n}function ct(e){var t,n,s,i,r,a=[];if(!e._d){var o,u;for(o=e,u=new Date(p.now()),s=o._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()],e._w&&null==e._a[_e]&&null==e._a[me]&&function(e){var t,n,s,i,r,a,o,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)r=1,a=4,n=dt(t.GG,e._a[fe],Ee(Ot(),1,4).year),s=dt(t.W,1),((i=dt(t.E,1))<1||7<i)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=Ee(Ot(),r,a);n=dt(t.gg,e._a[fe],l.year),s=dt(t.w,l.week),null!=t.d?((i=t.d)<0||6<i)&&(u=!0):null!=t.e?(i=t.e+r,(t.e<0||6<t.e)&&(u=!0)):i=r}s<1||s>Ie(n,r,a)?v(e)._overflowWeeks=!0:null!=u?v(e)._overflowWeekday=!0:(o=Ve(n,s,i,r,a),e._a[fe]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(r=dt(e._a[fe],s[fe]),(e._dayOfYear>ke(r)||0===e._dayOfYear)&&(v(e)._overflowDayOfYear=!0),n=Ne(r,0,e._dayOfYear),e._a[me]=n.getUTCMonth(),e._a[_e]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=s[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ye]&&0===e._a[ge]&&0===e._a[pe]&&0===e._a[we]&&(e._nextDay=!0,e._a[ye]=0),e._d=(e._useUTC?Ne:function(e,t,n,s,i,r,a){var o;return e<100&&0<=e?(o=new Date(e+400,t,n,s,i,r,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,s,i,r,a),o}).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ye]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(v(e).weekdayMismatch=!0)}}var ft=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_t=/Z|[+-]\d\d(?::?\d\d)?/,yt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],gt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],pt=/^\/?Date\((\-?\d+)/i;function wt(e){var t,n,s,i,r,a,o=e._i,u=ft.exec(o)||mt.exec(o);if(u){for(v(e).iso=!0,t=0,n=yt.length;t<n;t++)if(yt[t][1].exec(u[1])){i=yt[t][0],s=!1!==yt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=gt.length;t<n;t++)if(gt[t][1].exec(u[3])){r=(u[2]||" ")+gt[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!_t.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),St(e)}else e._isValid=!1}var vt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;var Mt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function kt(e){var t,n,s,i,r,a,o,u,l,h,d,c=vt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){var f=(i=c[4],r=c[3],a=c[2],o=c[5],u=c[6],l=c[7],d=[(h=parseInt(i,10),h<=49?2e3+h:h<=999?1900+h:h),He.indexOf(r),parseInt(a,10),parseInt(o,10),parseInt(u,10)],l&&d.push(parseInt(l,10)),d);if(n=f,s=e,(t=c[1])&&Ze.indexOf(t)!==new Date(n[0],n[1],n[2]).getDay()&&(v(s).weekdayMismatch=!0,!(s._isValid=!1)))return;e._a=f,e._tzm=function(e,t,n){if(e)return Mt[e];if(t)return 0;var s=parseInt(n,10),i=s%100;return(s-i)/100*60+i}(c[8],c[9],c[10]),e._d=Ne.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),v(e).rfc2822=!0}else e._isValid=!1}function St(e){if(e._f!==p.ISO_8601)if(e._f!==p.RFC_2822){e._a=[],v(e).empty=!0;var t,n,s,i,r,a,o,u,l=""+e._i,h=l.length,d=0;for(s=j(e._f,e._locale).match(N)||[],t=0;t<s.length;t++)i=s[t],(n=(l.match((g=e,w(oe,y=i)?oe[y](g._strict,g._locale):new RegExp(le(y.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i})))))||[])[0])&&(0<(r=l.substr(0,l.indexOf(n))).length&&v(e).unusedInput.push(r),l=l.slice(l.indexOf(n)+n.length),d+=n.length),E[i]?(n?v(e).empty=!1:v(e).unusedTokens.push(i),a=i,u=e,null!=(o=n)&&w(he,a)&&he[a](o,u._a,u,a)):e._strict&&!n&&v(e).unusedTokens.push(i);v(e).charsLeftOver=h-d,0<l.length&&v(e).unusedInput.push(l),e._a[ye]<=12&&!0===v(e).bigHour&&0<e._a[ye]&&(v(e).bigHour=void 0),v(e).parsedDateParts=e._a.slice(0),v(e).meridiem=e._meridiem,e._a[ye]=(c=e._locale,f=e._a[ye],null==(m=e._meridiem)?f:null!=c.meridiemHour?c.meridiemHour(f,m):(null!=c.isPM&&((_=c.isPM(m))&&f<12&&(f+=12),_||12!==f||(f=0)),f)),ct(e),ht(e)}else kt(e);else wt(e);var c,f,m,_,y,g}function Dt(e){var t,n,s,i,r=e._i,a=e._f;return e._locale=e._locale||lt(e._l),null===r||void 0===a&&""===r?y({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),k(r)?new M(ht(r)):(d(r)?e._d=r:o(a)?function(e){var t,n,s,i,r;if(0===e._f.length)return v(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)r=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],St(t),_(t)&&(r+=v(t).charsLeftOver,r+=10*v(t).unusedTokens.length,v(t).score=r,(null==s||r<s)&&(s=r,n=t));f(e,n||t)}(e):a?St(e):l(n=(t=e)._i)?t._d=new Date(p.now()):d(n)?t._d=new Date(n.valueOf()):"string"==typeof n?(s=t,null===(i=pt.exec(s._i))?(wt(s),!1===s._isValid&&(delete s._isValid,kt(s),!1===s._isValid&&(delete s._isValid,p.createFromInputFallback(s)))):s._d=new Date(+i[1])):o(n)?(t._a=c(n.slice(0),function(e){return parseInt(e,10)}),ct(t)):u(n)?function(e){if(!e._d){var t=R(e._i);e._a=c([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ct(e)}}(t):h(n)?t._d=new Date(n):p.createFromInputFallback(t),_(e)||(e._d=null),e))}function Yt(e,t,n,s,i){var r,a={};return!0!==n&&!1!==n||(s=n,n=void 0),(u(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||o(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=s,(r=new M(ht(Dt(a))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function Ot(e,t,n,s){return Yt(e,t,n,s,!1)}p.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),p.ISO_8601=function(){},p.RFC_2822=function(){};var Tt=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:y()}),bt=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:y()});function xt(e,t){var n,s;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Ot();for(n=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](n)||(n=t[s]);return n}var Pt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Wt(e){var t=R(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,h=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===De.call(Pt,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<Pt.length;++s)if(e[Pt[s]]){if(n)return!1;parseFloat(e[Pt[s]])!==D(e[Pt[s]])&&(n=!0)}return!0}(t),this._milliseconds=+h+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=lt(),this._bubble()}function Ht(e){return babelHelpers.instanceof(e,Wt)}function Ct(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Rt(e,n){I(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+L(~~(e/60),2)+n+L(~~e%60,2)})}Rt("Z",":"),Rt("ZZ",""),ue("Z",re),ue("ZZ",re),de(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ft(re,e)});var Ut=/([\+\-]|\d\d)/gi;function Ft(e,t){var n=(t||"").match(e);if(null===n)return null;var s=((n[n.length-1]||[])+"").match(Ut)||["-",0,0],i=60*s[1]+D(s[2]);return 0===i?0:"+"===s[0]?i:-i}function Lt(e,t){var n,s;return t._isUTC?(n=t.clone(),s=(k(e)||d(e)?e.valueOf():Ot(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),p.updateOffset(n,!1),n):Ot(e).local()}function Nt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Gt(){return!!this.isValid()&&this._isUTC&&0===this._offset}p.updateOffset=function(){};var Vt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Et=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function It(e,t){var n,s,i,r,a,o,u=e,l=null;return Ht(e)?u={ms:e._milliseconds,d:e._days,M:e._months}:h(e)?(u={},t?u[t]=e:u.milliseconds=e):(l=Vt.exec(e))?(n="-"===l[1]?-1:1,u={y:0,d:D(l[_e])*n,h:D(l[ye])*n,m:D(l[ge])*n,s:D(l[pe])*n,ms:D(Ct(1e3*l[we]))*n}):(l=Et.exec(e))?(n="-"===l[1]?-1:1,u={y:At(l[2],n),M:At(l[3],n),w:At(l[4],n),d:At(l[5],n),h:At(l[6],n),m:At(l[7],n),s:At(l[8],n)}):null==u?u={}:"object"==babelHelpers.typeof(u)&&("from"in u||"to"in u)&&(r=Ot(u.from),a=Ot(u.to),i=r.isValid()&&a.isValid()?(a=Lt(a,r),r.isBefore(a)?o=jt(r,a):((o=jt(a,r)).milliseconds=-o.milliseconds,o.months=-o.months),o):{milliseconds:0,months:0},(u={}).ms=i.milliseconds,u.M=i.months),s=new Wt(u),Ht(e)&&w(e,"_locale")&&(s._locale=e._locale),s}function At(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function jt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=t-e.clone().add(n.months,"M"),n}function Zt(s,i){return function(e,t){var n;return null===t||isNaN(+t)||(T(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),zt(this,It(e="string"==typeof e?+e:e,t),s),this}}function zt(e,t,n,s){var i=t._milliseconds,r=Ct(t._days),a=Ct(t._months);e.isValid()&&(s=null==s||s,a&&Ce(e,Te(e,"Month")+a*n),r&&be(e,"Date",Te(e,"Date")+r*n),i&&e._d.setTime(e._d.valueOf()+i*n),s&&p.updateOffset(e,r||a))}It.fn=Wt.prototype,It.invalid=function(){return It(NaN)};var $t=Zt(1,"add"),qt=Zt(-1,"subtract");function Jt(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(n,"months");return-(n+(t-s<0?(t-s)/(s-e.clone().add(n-1,"months")):(t-s)/(e.clone().add(1+n,"months")-s)))||0}function Bt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=lt(e))&&(this._locale=t),this)}p.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",p.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qt=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Xt(){return this._locale}var Kt=126227808e5;function en(e,t){return(e%t+t)%t}function tn(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-Kt:new Date(e,t,n).valueOf()}function nn(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-Kt:Date.UTC(e,t,n)}function sn(e,t){I(0,[e,e.length],0,t)}function rn(e,t,n,s,i){var r;return null==e?Ee(this,s,i).year:((r=Ie(e,s,i))<t&&(t=r),function(e,t,n,s,i){var r=Ve(e,t,n,s,i),a=Ne(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,s,i))}I(0,["gg",2],0,function(){return this.weekYear()%100}),I(0,["GG",2],0,function(){return this.isoWeekYear()%100}),sn("gggg","weekYear"),sn("ggggg","weekYear"),sn("GGGG","isoWeekYear"),sn("GGGGG","isoWeekYear"),H("weekYear","gg"),H("isoWeekYear","GG"),F("weekYear",1),F("isoWeekYear",1),ue("G",se),ue("g",se),ue("GG",B,z),ue("gg",B,z),ue("GGGG",ee,q),ue("gggg",ee,q),ue("GGGGG",te,J),ue("ggggg",te,J),ce(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=D(e)}),ce(["gg","GG"],function(e,t,n,s){t[s]=p.parseTwoDigitYear(e)}),I("Q",0,"Qo","quarter"),H("quarter","Q"),F("quarter",7),ue("Q",Z),de("Q",function(e,t){t[me]=3*(D(e)-1)}),I("D",["DD",2],"Do","date"),H("date","D"),F("date",9),ue("D",B),ue("DD",B,z),ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),de(["D","DD"],_e),de("Do",function(e,t){t[_e]=D(e.match(B)[0])});var an=Oe("Date",!0);I("DDD",["DDDD",3],"DDDo","dayOfYear"),H("dayOfYear","DDD"),F("dayOfYear",4),ue("DDD",K),ue("DDDD",$),de(["DDD","DDDD"],function(e,t,n){n._dayOfYear=D(e)}),I("m",["mm",2],0,"minute"),H("minute","m"),F("minute",14),ue("m",B),ue("mm",B,z),de(["m","mm"],ge);var on=Oe("Minutes",!1);I("s",["ss",2],0,"second"),H("second","s"),F("second",15),ue("s",B),ue("ss",B,z),de(["s","ss"],pe);var un,ln=Oe("Seconds",!1);for(I("S",0,0,function(){return~~(this.millisecond()/100)}),I(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),I(0,["SSS",3],0,"millisecond"),I(0,["SSSS",4],0,function(){return 10*this.millisecond()}),I(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),I(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),I(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),I(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),I(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),H("millisecond","ms"),F("millisecond",16),ue("S",K,Z),ue("SS",K,z),ue("SSS",K,$),un="SSSS";un.length<=9;un+="S")ue(un,ne);function hn(e,t){t[we]=D(1e3*("0."+e))}for(un="S";un.length<=9;un+="S")de(un,hn);var dn=Oe("Milliseconds",!1);I("z",0,0,"zoneAbbr"),I("zz",0,0,"zoneName");var cn=M.prototype;function fn(e){return e}cn.add=$t,cn.calendar=function(e,t){var n=e||Ot(),s=Lt(n,this).startOf("day"),i=p.calendarFormat(this,s)||"sameElse",r=t&&(b(t[i])?t[i].call(this,n):t[i]);return this.format(r||this.localeData().calendar(i,this,Ot(n)))},cn.clone=function(){return new M(this)},cn.diff=function(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(!(s=Lt(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=C(t)){case"year":r=Jt(this,s)/12;break;case"month":r=Jt(this,s);break;case"quarter":r=Jt(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:S(r)},cn.endOf=function(e){var t;if(void 0===(e=C(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?nn:tn;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-en(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-en(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-en(t,1e3)-1}return this._d.setTime(t),p.updateOffset(this,!0),this},cn.format=function(e){e=e||(this.isUtc()?p.defaultFormatUtc:p.defaultFormat);var t=A(this,e);return this.localeData().postformat(t)},cn.from=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Ot(e).isValid())?It({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},cn.fromNow=function(e){return this.from(Ot(),e)},cn.to=function(e,t){return this.isValid()&&(k(e)&&e.isValid()||Ot(e).isValid())?It({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},cn.toNow=function(e){return this.to(Ot(),e)},cn.get=function(e){return b(this[e=C(e)])?this[e]():this},cn.invalidAt=function(){return v(this).overflow},cn.isAfter=function(e,t){var n=k(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=C(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},cn.isBefore=function(e,t){var n=k(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=C(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},cn.isBetween=function(e,t,n,s){var i=k(e)?e:Ot(e),r=k(t)?t:Ot(t);return!!(this.isValid()&&i.isValid()&&r.isValid())&&("("===(s=s||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===s[1]?this.isBefore(r,n):!this.isAfter(r,n))},cn.isSame=function(e,t){var n,s=k(e)?e:Ot(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=C(t)||"millisecond")?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},cn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},cn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},cn.isValid=function(){return _(this)},cn.lang=Qt,cn.locale=Bt,cn.localeData=Xt,cn.max=bt,cn.min=Tt,cn.parsingFlags=function(){return f({},v(this))},cn.set=function(e,t){if("object"==babelHelpers.typeof(e))for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:U[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=R(e)),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit]);else if(b(this[e=C(e)]))return this[e](t);return this},cn.startOf=function(e){var t;if(void 0===(e=C(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?nn:tn;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=en(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=en(t,6e4);break;case"second":t=this._d.valueOf(),t-=en(t,1e3)}return this._d.setTime(t),p.updateOffset(this,!0),this},cn.subtract=qt,cn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},cn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},cn.toDate=function(){return new Date(this.valueOf())},cn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?A(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):b(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",A(n,"Z")):A(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},cn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+s+"-MM-DD[T]HH:mm:ss.SSS"+i)},cn.toJSON=function(){return this.isValid()?this.toISOString():null},cn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},cn.unix=function(){return Math.floor(this.valueOf()/1e3)},cn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},cn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},cn.year=Ye,cn.isLeapYear=function(){return Se(this.year())},cn.weekYear=function(e){return rn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},cn.isoWeekYear=function(e){return rn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},cn.quarter=cn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},cn.month=Re,cn.daysInMonth=function(){return xe(this.year(),this.month())},cn.week=cn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},cn.isoWeek=cn.isoWeeks=function(e){var t=Ee(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},cn.weeksInYear=function(){var e=this.localeData()._week;return Ie(this.year(),e.dow,e.doy)},cn.isoWeeksInYear=function(){return Ie(this.year(),1,4)},cn.date=an,cn.day=cn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-s,"d")):s},cn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},cn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n,s=(t=e,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?s:s-7)},cn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},cn.hour=cn.hours=tt,cn.minute=cn.minutes=on,cn.second=cn.seconds=ln,cn.millisecond=cn.milliseconds=dn,cn.utcOffset=function(e,t,n){var s,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Nt(this);if("string"==typeof e){if(null===(e=Ft(re,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(s=Nt(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==e&&(!t||this._changeInProgress?zt(this,It(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,p.updateOffset(this,!0),this._changeInProgress=null)),this},cn.utc=function(e){return this.utcOffset(0,e)},cn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Nt(this),"m")),this},cn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ft(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},cn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Ot(e).utcOffset():0,0==(this.utcOffset()-e)%60)},cn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},cn.isLocal=function(){return!!this.isValid()&&!this._isUTC},cn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},cn.isUtc=Gt,cn.isUTC=Gt,cn.zoneAbbr=function(){return this._isUTC?"UTC":""},cn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},cn.dates=n("dates accessor is deprecated. Use date instead.",an),cn.months=n("months accessor is deprecated. Use month instead",Re),cn.years=n("years accessor is deprecated. Use year instead",Ye),cn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),cn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),(e=Dt(e))._a){var t=e._isUTC?m(e._a):Ot(e._a);this._isDSTShifted=this.isValid()&&0<a(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var mn=P.prototype;function _n(e,t,n,s){var i=lt(),r=m().set(s,t);return i[n](r,e)}function yn(e,t,n){if(h(e)&&(t=e,e=void 0),e=e||"",null!=t)return _n(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=_n(e,s,n,"month");return i}function gn(e,t,n,s){"boolean"==typeof e?h(t)&&(n=t,t=void 0):(t=e,e=!1,h(n=t)&&(n=t,t=void 0)),t=t||"";var i,r=lt(),a=e?r._week.dow:0;if(null!=n)return _n(t,(n+a)%7,s,"day");var o=[];for(i=0;i<7;i++)o[i]=_n(t,(i+a)%7,s,"day");return o}mn.calendar=function(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return b(s)?s.call(t,n):s},mn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},mn.invalidDate=function(){return this._invalidDate},mn.ordinal=function(e){return this._ordinal.replace("%d",e)},mn.preparse=fn,mn.postformat=fn,mn.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return b(i)?i(e,t,n,s):i.replace(/%d/i,e)},mn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return b(n)?n(t):n.replace(/%s/i,t)},mn.set=function(e){var t,n;for(n in e)b(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},mn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Pe).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},mn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Pe.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},mn.monthsParse=function(e,t,n){var s,i,r;if(this._monthsParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=m([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=De.call(this._shortMonthsParse,a))?i:null:-1!==(i=De.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=De.call(this._shortMonthsParse,a))?i:-1!==(i=De.call(this._longMonthsParse,a))?i:null:-1!==(i=De.call(this._longMonthsParse,a))?i:-1!==(i=De.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=m([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},mn.monthsRegex=function(e){return this._monthsParseExact?(w(this,"_monthsRegex")||Le.call(this),e?this._monthsStrictRegex:this._monthsRegex):(w(this,"_monthsRegex")||(this._monthsRegex=Fe),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},mn.monthsShortRegex=function(e){return this._monthsParseExact?(w(this,"_monthsRegex")||Le.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(w(this,"_monthsShortRegex")||(this._monthsShortRegex=Ue),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},mn.week=function(e){return Ee(e,this._week.dow,this._week.doy).week},mn.firstDayOfYear=function(){return this._week.doy},mn.firstDayOfWeek=function(){return this._week.dow},mn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ae(n,this._week.dow):e?n[e.day()]:n},mn.weekdaysMin=function(e){return!0===e?Ae(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},mn.weekdaysShort=function(e){return!0===e?Ae(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},mn.weekdaysParse=function(e,t,n){var s,i,r;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=m([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=De.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=De.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=De.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=De.call(this._weekdaysParse,a))?i:-1!==(i=De.call(this._shortWeekdaysParse,a))?i:-1!==(i=De.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=De.call(this._shortWeekdaysParse,a))?i:-1!==(i=De.call(this._weekdaysParse,a))?i:-1!==(i=De.call(this._minWeekdaysParse,a))?i:null:-1!==(i=De.call(this._minWeekdaysParse,a))?i:-1!==(i=De.call(this._weekdaysParse,a))?i:-1!==(i=De.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=m([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},mn.weekdaysRegex=function(e){return this._weekdaysParseExact?(w(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(w(this,"_weekdaysRegex")||(this._weekdaysRegex=$e),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},mn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(w(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(w(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},mn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(w(this,"_weekdaysRegex")||Be.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(w(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Je),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},mn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},mn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ot("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===D(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),p.lang=n("moment.lang is deprecated. Use moment.locale instead.",ot),p.langData=n("moment.langData is deprecated. Use moment.localeData instead.",lt);var pn=Math.abs;function wn(e,t,n,s){var i=It(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function vn(e){return e<0?Math.floor(e):Math.ceil(e)}function Mn(e){return 4800*e/146097}function kn(e){return 146097*e/4800}function Sn(e){return function(){return this.as(e)}}var Dn=Sn("ms"),Yn=Sn("s"),On=Sn("m"),Tn=Sn("h"),bn=Sn("d"),xn=Sn("w"),Pn=Sn("M"),Wn=Sn("Q"),Hn=Sn("y");function Cn(e){return function(){return this.isValid()?this._data[e]:NaN}}var Rn=Cn("milliseconds"),Un=Cn("seconds"),Fn=Cn("minutes"),Ln=Cn("hours"),Nn=Cn("days"),Gn=Cn("months"),Vn=Cn("years"),En=Math.round,In={ss:44,s:45,m:45,h:22,d:26,M:11},An=Math.abs;function jn(e){return(0<e)-(e<0)||+e}function Zn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=An(this._milliseconds)/1e3,s=An(this._days),i=An(this._months);t=S((e=S(n/60))/60),n%=60,e%=60;var r=S(i/12),a=i%=12,o=s,u=t,l=e,h=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var c=d<0?"-":"",f=jn(this._months)!==jn(d)?"-":"",m=jn(this._days)!==jn(d)?"-":"",_=jn(this._milliseconds)!==jn(d)?"-":"";return c+"P"+(r?f+r+"Y":"")+(a?f+a+"M":"")+(o?m+o+"D":"")+(u||l||h?"T":"")+(u?_+u+"H":"")+(l?_+l+"M":"")+(h?_+h+"S":"")}var zn=Wt.prototype;return zn.isValid=function(){return this._isValid},zn.abs=function(){var e=this._data;return this._milliseconds=pn(this._milliseconds),this._days=pn(this._days),this._months=pn(this._months),e.milliseconds=pn(e.milliseconds),e.seconds=pn(e.seconds),e.minutes=pn(e.minutes),e.hours=pn(e.hours),e.months=pn(e.months),e.years=pn(e.years),this},zn.add=function(e,t){return wn(this,e,t,1)},zn.subtract=function(e,t){return wn(this,e,t,-1)},zn.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=C(e))||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,n=this._months+Mn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(kn(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},zn.asMilliseconds=Dn,zn.asSeconds=Yn,zn.asMinutes=On,zn.asHours=Tn,zn.asDays=bn,zn.asWeeks=xn,zn.asMonths=Pn,zn.asQuarters=Wn,zn.asYears=Hn,zn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*D(this._months/12):NaN},zn._bubble=function(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return 0<=r&&0<=a&&0<=o||r<=0&&a<=0&&o<=0||(r+=864e5*vn(kn(o)+a),o=a=0),u.milliseconds=r%1e3,e=S(r/1e3),u.seconds=e%60,t=S(e/60),u.minutes=t%60,n=S(t/60),u.hours=n%24,o+=i=S(Mn(a+=S(n/24))),a-=vn(kn(i)),s=S(o/12),o%=12,u.days=a,u.months=o,u.years=s,this},zn.clone=function(){return It(this)},zn.get=function(e){return e=C(e),this.isValid()?this[e+"s"]():NaN},zn.milliseconds=Rn,zn.seconds=Un,zn.minutes=Fn,zn.hours=Ln,zn.days=Nn,zn.weeks=function(){return S(this.days()/7)},zn.months=Gn,zn.years=Vn,zn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,s,i,r,a,o,u,l,h,d=this.localeData(),c=(t=!e,n=d,s=It(this).abs(),i=En(s.as("s")),r=En(s.as("m")),a=En(s.as("h")),o=En(s.as("d")),u=En(s.as("M")),l=En(s.as("y")),(h=i<=In.ss&&["s",i]||i<In.s&&["ss",i]||r<=1&&["m"]||r<In.m&&["mm",r]||a<=1&&["h"]||a<In.h&&["hh",a]||o<=1&&["d"]||o<In.d&&["dd",o]||u<=1&&["M"]||u<In.M&&["MM",u]||l<=1&&["y"]||["yy",l])[2]=t,h[3]=0<+this,h[4]=n,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}.apply(null,h));return e&&(c=d.pastFuture(+this,c)),d.postformat(c)},zn.toISOString=Zn,zn.toString=Zn,zn.toJSON=Zn,zn.locale=Bt,zn.localeData=Xt,zn.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Zn),zn.lang=Qt,I("X",0,0,"unix"),I("x",0,0,"valueOf"),ue("x",se),ue("X",/[+-]?\d+(\.\d{1,3})?/),de("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),de("x",function(e,t,n){n._d=new Date(D(e))}),p.version="2.24.0",e=Ot,p.fn=cn,p.min=function(){return xt("isBefore",[].slice.call(arguments,0))},p.max=function(){return xt("isAfter",[].slice.call(arguments,0))},p.now=function(){return Date.now?Date.now():+new Date},p.utc=m,p.unix=function(e){return Ot(1e3*e)},p.months=function(e,t){return yn(e,t,"months")},p.isDate=d,p.locale=ot,p.invalid=y,p.duration=It,p.isMoment=k,p.weekdays=function(e,t,n){return gn(e,t,n,"weekdays")},p.parseZone=function(){return Ot.apply(null,arguments).parseZone()},p.localeData=lt,p.isDuration=Ht,p.monthsShort=function(e,t){return yn(e,t,"monthsShort")},p.weekdaysMin=function(e,t,n){return gn(e,t,n,"weekdaysMin")},p.defineLocale=ut,p.updateLocale=function(e,t){if(null!=t){var n,s,i=nt;null!=(s=at(e))&&(i=s._config),(n=new P(t=x(i,t))).parentLocale=st[e],st[e]=n,ot(e)}else null!=st[e]&&(null!=st[e].parentLocale?st[e]=st[e].parentLocale:null!=st[e]&&delete st[e]);return st[e]},p.locales=function(){return s(st)},p.weekdaysShort=function(e,t,n){return gn(e,t,n,"weekdaysShort")},p.normalizeUnits=C,p.relativeTimeRounding=function(e){return void 0===e?En:"function"==typeof e&&(En=e,!0)},p.relativeTimeThreshold=function(e,t){return void 0!==In[e]&&(void 0===t?In[e]:(In[e]=t,"s"===e&&(In.ss=t-1),!0))},p.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},p.prototype=cn,p.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},p})</script><script>!function(e,r){"object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?r(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],r):r(e.moment)}(this,function(e){"use strict";function t(e){return 11==e%100||1!=e%10}function r(e,r,n,u){var a=e+" ";switch(n){case"s":return r||u?"nokkrar sekndur":"nokkrum sekndum";case"ss":return t(e)?a+(r||u?"sekndur":"sekndum"):a+"seknda";case"m":return r?"mnta":"mntu";case"mm":return t(e)?a+(r||u?"mntur":"mntum"):r?a+"mnta":a+"mntu";case"hh":return t(e)?a+(r||u?"klukkustundir":"klukkustundum"):a+"klukkustund";case"d":return r?"dagur":u?"dag":"degi";case"dd":return t(e)?r?a+"dagar":a+(u?"daga":"dgum"):r?a+"dagur":a+(u?"dag":"degi");case"M":return r?"mnuur":u?"mnu":"mnui";case"MM":return t(e)?r?a+"mnuir":a+(u?"mnui":"mnuum"):r?a+"mnuur":a+(u?"mnu":"mnui");case"y":return r||u?"r":"ri";case"yy":return t(e)?a+(r||u?"r":"rum"):a+(r||u?"r":"ri")}}return e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:r,ss:r,m:r,mm:r,h:"klukkustund",hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})</script><script>!function(e,d){"object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?d(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],d):d(e.moment)}(this,function(e){"use strict";return e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})</script><script>!function(e,n){"object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?n(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],n):n(e.moment)}(this,function(e){"use strict";var a="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),t="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),n=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,n){return e?/-MMM-/.test(n)?t[e.month()]:a[e.month()]:a},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||20<=e?"ste":"de")},week:{dow:1,doy:4}})})</script><script>!function(e,r){"object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?r(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],r):r(e.moment)}(this,function(e){"use strict";var r="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(e,r,n,t){var s=e;switch(n){case"s":return t||r?"nhny msodperc":"nhny msodperce";case"ss":return s+(t||r)?" msodperc":" msodperce";case"m":return"egy"+(t||r?" perc":" perce");case"mm":return s+(t||r?" perc":" perce");case"h":return"egy"+(t||r?" ra":" rja");case"hh":return s+(t||r?" ra":" rja");case"d":return"egy"+(t||r?" nap":" napja");case"dd":return s+(t||r?" nap":" napja");case"M":return"egy"+(t||r?" hnap":" hnapja");case"MM":return s+(t||r?" hnap":" hnapja");case"y":return"egy"+(t||r?" v":" ve");case"yy":return s+(t||r?" v":" ve")}return""}function t(e){return(e?"":"[mlt] ")+"["+r[this.day()]+"] LT[-kor]"}return e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(e){return"u"===e.charAt(1).toLowerCase()},meridiem:function(e,r,n){return e<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return t.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return t.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})</script><script>!function(e,d){"object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?d(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],d):d(e.moment)}(this,function(e){"use strict";return e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(e,d){return 12===e&&(e=0),""===d||""===d||""===d?e:""===d?11<=e?e:e+12:""===d||""===d?e+12:void 0},meridiem:function(e,d){var t=100*e+d;return t<600?"":t<900?"":t<1130?"":t<1230?"":t<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(e,d){switch(d){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})})</script><script>!function(e,a){"object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?a(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],a):a(e.moment)}(this,function(e){"use strict";var s={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(e,a){return 1===e?a[0]:2<=e&&e<=4?a[1]:a[2]},translate:function(e,a,t){var n=s.words[t];return 1===t.length?a?n[0]:n[1]:e+" "+s.correctGrammaticalCase(e,n)}};return e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:s.translate,m:s.translate,mm:s.translate,h:s.translate,hh:s.translate,d:"dan",dd:s.translate,M:"mesec",MM:s.translate,y:"godinu",yy:s.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})</script><script>!function(e,a){"object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?a(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],a):a(e.moment)}(this,function(e){"use strict";function a(e,a,s){var n=e+" ";switch(s){case"ss":return n+=1===e?"sekunda":2===e||3===e||4===e?"sekunde":"sekundi";case"m":return a?"jedna minuta":"jedne minute";case"mm":return n+=1===e?"minuta":2===e||3===e||4===e?"minute":"minuta";case"h":return a?"jedan sat":"jednog sata";case"hh":return n+=1===e?"sat":2===e||3===e||4===e?"sata":"sati";case"dd":return n+=1===e?"dan":"dana";case"MM":return n+=1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci";case"yy":return n+=1===e?"godina":2===e||3===e||4===e?"godine":"godina"}}return e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:a,m:a,mm:a,h:a,hh:a,d:"dan",dd:a,M:"mjesec",MM:a,y:"godinu",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})</script><script>!function(e,a){"object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?a(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],a):a(e.moment)}(this,function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};return e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e,a){switch(a){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'nc";var n=e%10;return e+(t[n]||t[e%100-n]||t[100<=e?100:null])}},week:{dow:1,doy:7}})})</script><script>!function(e,n){"object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?n(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],n):n(e.moment)}(this,function(e){"use strict";function n(e,n,t,s){var a=e+" ";switch(t){case"s":return n||s?"nekaj sekund":"nekaj sekundami";case"ss":return a+=1===e?n?"sekundo":"sekundi":2===e?n||s?"sekundi":"sekundah":e<5?n||s?"sekunde":"sekundah":"sekund";case"m":return n?"ena minuta":"eno minuto";case"mm":return a+=1===e?n?"minuta":"minuto":2===e?n||s?"minuti":"minutama":e<5?n||s?"minute":"minutami":n||s?"minut":"minutami";case"h":return n?"ena ura":"eno uro";case"hh":return a+=1===e?n?"ura":"uro":2===e?n||s?"uri":"urama":e<5?n||s?"ure":"urami":n||s?"ur":"urami";case"d":return n||s?"en dan":"enim dnem";case"dd":return a+=1===e?n||s?"dan":"dnem":2===e?n||s?"dni":"dnevoma":n||s?"dni":"dnevi";case"M":return n||s?"en mesec":"enim mesecem";case"MM":return a+=1===e?n||s?"mesec":"mesecem":2===e?n||s?"meseca":"mesecema":e<5?n||s?"mesece":"meseci":n||s?"mesecev":"meseci";case"y":return n||s?"eno leto":"enim letom";case"yy":return a+=1===e?n||s?"leto":"letom":2===e?n||s?"leti":"letoma":e<5?n||s?"leta":"leti":n||s?"let":"leti"}}return e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})})</script><script>!function(e,d){"object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?d(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],d):d(e.moment)}(this,function(e){"use strict";return e.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})})</script><script>!function(e,t){"object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],t):t(e.moment)}(this,function(e){"use strict";var i="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function r(e){return e%10<5&&1<e%10&&1!=~~(e/10)%10}function t(e,t,i){var n=e+" ";switch(i){case"ss":return n+(r(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return n+(r(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return n+(r(e)?"godziny":"godzin");case"MM":return n+(r(e)?"miesice":"miesicy");case"yy":return n+(r(e)?"lata":"lat")}}return e.defineLocale("pl",{months:function(e,t){return e?""===t?"("+n[e.month()]+"|"+i[e.month()]+")":/D MMMM/.test(t)?n[e.month()]:i[e.month()]:i},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:t,m:t,mm:t,h:t,hh:t,d:"1 dzie",dd:"%d dni",M:"miesic",MM:t,y:"rok",yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})</script><script>!function(e,n){"object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?n(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],n):n(e.moment)}(this,function(e){"use strict";function n(e,n,t,a){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return n?i[t][0]:i[t][1]}return e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:n,mm:"%d Minuten",h:n,hh:"%d Stunden",d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})</script><script>!function(e,d){"object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?d(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],d):d(e.moment)}(this,function(e){"use strict";return e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,d){switch(d){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})})</script><script>!function(e,d){"object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?d(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],d):d(e.moment)}(this,function(e){"use strict";return e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})</script><script>!function(e,d){"object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module&&"function"==typeof require?d(require("../moment")):"function"==typeof define&&define.amd?define(["../moment"],d):d(e.moment)}(this,function(e){"use strict";return e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})})</script><div hidden=""by-polymer-bundler=""><script>(function(){"use strict";var e,t,a=!(window.ShadyDOM&&window.ShadyDOM.inUse);function n(t){e=(!t||!t.shimcssproperties)&&(a||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(t=window.ShadyCSS.cssBuild);var i=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?e=window.ShadyCSS.nativeCss:window.ShadyCSS?(n(window.ShadyCSS),window.ShadyCSS=void 0):n(window.WebComponents&&window.WebComponents.flags);var r=e,s=t;function u(){this.end=this.start=0,this.rules=this.parent=this.previous=null,this.cssText=this.parsedCssText="",this.atRule=!1,this.type=0,this.parsedSelector=this.selector=this.keyframesName=""}function o(t){var e=p,n=t=t.replace(f,"").replace(y,""),i=new u;i.start=0,i.end=n.length;for(var r=i,s=0,o=n.length;s<o;s++)if("{"===n[s]){r.rules||(r.rules=[]);var a=r,l=a.rules[a.rules.length-1]||null;(r=new u).start=s+1,r.parent=a,r.previous=l,a.rules.push(r)}else"}"===n[s]&&(r.end=s+1,r=r.parent||i);return e(i,t)}function p(t,e){var n=e.substring(t.start,t.end-1);if(t.parsedCssText=t.cssText=n.trim(),t.parent&&(n=e.substring(t.previous?t.previous.end:t.parent.start,t.start-1),n=(n=(n=n.replace(/\\([0-9a-f]{1,6})\s/gi,function(t,e){for(e=6-(t=e).length;e--;)t="0"+t;return"\\"+t})).replace(w," ")).substring(n.lastIndexOf(";")+1),n=t.parsedSelector=t.selector=n.trim(),t.atRule=0===n.indexOf("@"),t.atRule?0===n.indexOf("@media")?t.type=c:n.match(g)&&(t.type=d,t.keyframesName=t.selector.split(w).pop()):t.type=0===n.indexOf("--")?h:l),n=t.rules)for(var i=0,r=n.length,s=void 0;i<r&&(s=n[i]);i++)p(s,e);return t}var l=1,d=7,c=4,h=1e3,f=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//gim,y=/@import[^;]*;/gim,S=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\n]|$)/gim,m=/(?:^[^;\-\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\n]|$)?/gim,v=/@apply\s*\(?[^);]*\)?\s*(?:[;\n]|$)?/gim,C=/[^;:]*?:[^;]*?var\([^;]*\)(?:[;\n]|$)?/gim,g=/^@[^\s]*keyframes/,w=/\s+/g,b=/(?:^|[;\s{]\s*)(--[\w-]*?)\s*:\s*(?:((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};{])+)|\{([^}]*)\}(?:(?=[;\s}])|$))/gi,_=/(?:^|\W+)@apply\s*\(?([^);\n]*)\)?/gi,x=/@media\s(.*)/,V=new Set;function T(t){return t?("string"==typeof t&&(t=o(t)),function t(e,n,i){i=void 0===i?"":i;var r="";if(e.cssText||e.rules){var s,o=e.rules;if((s=o)&&(s=!((s=o[0])&&s.selector&&0===s.selector.indexOf("--"))),s){s=0;for(var a=o.length,l=void 0;s<a&&(l=o[s]);s++)r=t(l,n,r)}else(r=(n=n?e.cssText:(n=(n=e.cssText).replace(S,"").replace(m,"")).replace(v,"").replace(C,"")).trim())&&(r="  "+r+"\n")}return r&&(e.selector&&(i+=e.selector+" {\n"),i+=r,e.selector&&(i+="}\n\n")),i}(t,r)):""}function N(t){return!t.__cssRules&&t.textContent&&(t.__cssRules=o(t.textContent)),t.__cssRules||null}function O(t,e,n,i){if(t){var r=!1,s=t.type;if(i&&s===c){var o=t.selector.match(x);o&&(window.matchMedia(o[1]).matches||(r=!0))}if(s===l?e(t):n&&s===d?n(t):s===h&&(r=!0),(t=t.rules)&&!r)for(r=0,s=t.length,o=void 0;r<s&&(o=t[r]);r++)O(o,e,n,i)}}function R(t){if(void 0!==s)return s;if(void 0===t.__cssBuild){var e=t.getAttribute("css-build");if(e)t.__cssBuild=e;else{if(e="template"===t.localName?t.content.firstChild:t.firstChild,""!==(e=babelHelpers.instanceof(e,Comment)&&"css-build"===(e=e.textContent.trim().split(":"))[0]?e[1]:"")){var n="template"===t.localName?t.content.firstChild:t.firstChild;n.parentNode.removeChild(n)}t.__cssBuild=e}}return t.__cssBuild||""}var j=/;\s*/m,A=/^\s*(initial)|(inherit)\s*$/,k=/\s*!important/;function B(){this.a={}}B.prototype.set=function(t,e){t=t.trim(),this.a[t]={h:e,i:{}}},B.prototype.get=function(t){return t=t.trim(),this.a[t]||null};var I=null;function E(){this.b=this.c=null,this.a=new B}function q(e,n){for(var t=n;t.parent;)t=t.parent;var i={},r=!1;return O(t,function(t){(r=r||t===n)||t.selector===n.selector&&Object.assign(i,P(e,t.parsedCssText))}),i}function D(t,e,n){for(var i;i=_.exec(e);){var r=i[0],s=i[1];i=i.index;var o=e.slice(0,i+r.indexOf("@apply"));e=e.slice(i+r.length);var a=n?q(t,n):{};Object.assign(a,P(t,o)),r=void 0;var l=t;s=s.replace(j,"");var u=[],p=l.a.get(s);if(p||(l.a.set(s,{}),p=l.a.get(s)),p){l.c&&(p.i[l.c]=!0);var d=p.h;for(r in d)p=[r,": var(",s,"_-_",r],(l=a&&a[r])&&p.push(",",l.replace(k,"")),p.push(")"),k.test(d[r])&&p.push(" !important"),u.push(p.join(""))}e=o+(r=u.join("; "))+e,_.lastIndex=i+r.length}return e}function P(t,e,n){n=void 0!==n&&n,e=e.split(";");for(var i,r,s,o={},a=0;a<e.length;a++)if((i=e[a])&&1<(s=i.split(":")).length){if(i=s[0].trim(),r=s.slice(1).join(":"),n){var l=t;s=i;var u=A.exec(r);u&&(r=s=u[1]?(l.b||(l.b=document.createElement("meta"),l.b.setAttribute("apply-shim-measure",""),l.b.style.all="initial",document.head.appendChild(l.b)),window.getComputedStyle(l.b).getPropertyValue(s)):"apply-shim-inherit")}o[i]=r}return o}E.prototype.o=function(t){return t=_.test(t)||b.test(t),_.lastIndex=0,b.lastIndex=0,t},E.prototype.m=function(t,e){if(void 0===t._gatheredStyle){for(var n,i=[],r=t.content.querySelectorAll("style"),s=0;s<r.length;s++)if((n=r[s]).hasAttribute("shady-unscoped")){if(!a){var o=n.textContent;V.has(o)||(V.add(o),o=n.cloneNode(!0),document.head.appendChild(o)),n.parentNode.removeChild(n)}}else i.push(n.textContent),n.parentNode.removeChild(n);i=(i=i.join("").trim())?((r=document.createElement("style")).textContent=i,t.content.insertBefore(r,t.content.firstChild),r):null,t._gatheredStyle=i}return(t=t._gatheredStyle)?this.j(t,e):null},E.prototype.j=function(t,e){e=void 0===e?"":e;var n=N(t);return this.l(n,e),t.textContent=T(n),n},E.prototype.f=function(t){var e=this,n=N(t);return O(n,function(t){":root"===t.selector&&(t.selector="html"),e.g(t)}),t.textContent=T(n),n},E.prototype.l=function(t,e){var n=this;this.c=e,O(t,function(t){n.g(t)}),this.c=null},E.prototype.g=function(t){var r,e,s;t.cssText=(r=this,e=t.parsedCssText,s=t,e=e.replace(b,function(t,e,n,i){return function(n,t,e,i,r,s){if(i&&function t(e,n){var i=e.indexOf("var(");if(-1===i)return n(e,"","","");t:{for(var r=0,s=i+3,o=e.length;s<o;s++)if("("===e[s])r++;else if(")"===e[s]&&0==--r)break t;s=-1}return r=e.substring(i+4,s),i=e.substring(0,i),e=t(e.substring(s+1),n),-1===(s=r.indexOf(","))?n(i,r.trim(),"",e):n(i,r.substring(0,s).trim(),r.substring(s+1).trim(),e)}(i,function(t,e){e&&n.a.get(e)&&(r="@apply "+e+";")}),!r)return t;var o=D(n,""+r,s);s=t.slice(0,t.indexOf("--"));var a=o=P(n,o,!0),l=n.a.get(e),u=l&&l.h;u?a=Object.assign(Object.create(u),o):n.a.set(e,a);var p,d=[],c=!1;for(p in a){var h=o[p];void 0===h&&(h="initial"),!u||p in u||(c=!0),d.push(e+"_-_"+p+": "+h)}return c&&function(t,e){if(I)for(var n in e.i)n!==t.c&&I(n)}(n,l),l&&(l.h=a),i&&(s=t+";"+s),s+d.join("; ")+";"}(r,t,e,n,i,s)}),D(r,e,s)),":root"===t.selector&&(t.selector=":host > *")},E.prototype.detectMixin=E.prototype.o,E.prototype.transformStyle=E.prototype.j,E.prototype.transformCustomStyle=E.prototype.f,E.prototype.transformRules=E.prototype.l,E.prototype.transformRule=E.prototype.g,E.prototype.transformTemplate=E.prototype.m,E.prototype._separator="_-_",Object.defineProperty(E.prototype,"invalidCallback",{get:function(){return I},set:function(t){I=t}});var $={},M=Promise.resolve();function W(t){(t=$[t])&&(t._applyShimCurrentVersion=t._applyShimCurrentVersion||0,t._applyShimValidatingVersion=t._applyShimValidatingVersion||0,t._applyShimNextVersion=(t._applyShimNextVersion||0)+1)}function F(t){return t._applyShimCurrentVersion===t._applyShimNextVersion}var H=new E;function K(){this.a=null,H.invalidCallback=W}function U(t){!t.a&&window.ShadyCSS.CustomStyleInterface&&(t.a=window.ShadyCSS.CustomStyleInterface,t.a.transformCallback=function(t){H.f(t)},t.a.validateCallback=function(){requestAnimationFrame(function(){t.a.enqueued&&t.flushCustomStyles()})})}if(K.prototype.prepareTemplate=function(t,e){U(this),""===R(t)&&($[e]=t,e=H.m(t,e),t._styleAst=e)},K.prototype.flushCustomStyles=function(){if(U(this),this.a){var t=this.a.processStyles();if(this.a.enqueued){for(var e,n=0;n<t.length;n++)(e=this.a.getStyleForCustomStyle(t[n]))&&H.f(e);this.a.enqueued=!1}}},K.prototype.styleSubtree=function(t,e){if(U(this),e)for(var n in e)null===n?t.style.removeProperty(n):t.style.setProperty(n,e[n]);if(t.shadowRoot)for(this.styleElement(t),t=t.shadowRoot.children||t.shadowRoot.childNodes,e=0;e<t.length;e++)this.styleSubtree(t[e]);else for(t=t.children||t.childNodes,e=0;e<t.length;e++)this.styleSubtree(t[e])},K.prototype.styleElement=function(t){U(this);var e,n,i=t.localName;e=i?-1<i.indexOf("-")?i:t.getAttribute&&t.getAttribute("is")||"":t.is,(i=$[e])&&""!==R(i)||!i||F(i)||(!F(i)&&i._applyShimValidatingVersion===i._applyShimNextVersion||(this.prepareTemplate(i,e),(n=i)._applyShimValidatingVersion=n._applyShimNextVersion,n._validating||(n._validating=!0,M.then(function(){n._applyShimCurrentVersion=n._applyShimNextVersion,n._validating=!1}))),(t=t.shadowRoot)&&(t=t.querySelector("style"))&&(t.__cssRules=i._styleAst,t.textContent=T(i._styleAst)))},K.prototype.styleDocument=function(t){U(this),this.styleSubtree(document.body,t)},!window.ShadyCSS||!window.ShadyCSS.ScopingShim){var z=new K,G=window.ShadyCSS&&window.ShadyCSS.CustomStyleInterface;window.ShadyCSS={prepareTemplate:function(t,e){z.flushCustomStyles(),z.prepareTemplate(t,e)},prepareTemplateStyles:function(t,e,n){window.ShadyCSS.prepareTemplate(t,e,n)},prepareTemplateDom:function(){},styleSubtree:function(t,e){z.flushCustomStyles(),z.styleSubtree(t,e)},styleElement:function(t){z.flushCustomStyles(),z.styleElement(t)},styleDocument:function(t){z.flushCustomStyles(),z.styleDocument(t)},getComputedStyleValue:function(t,e){return(t=window.getComputedStyle(t).getPropertyValue(e))?t.trim():""},flushCustomStyles:function(){z.flushCustomStyles()},nativeCss:r,nativeShadow:a,cssBuild:s,disableRuntime:i},G&&(window.ShadyCSS.CustomStyleInterface=G)}window.ShadyCSS.ApplyShim=H}).call(this)</script><script>!function(){"use strict";var o=window.Polymer;window.Polymer=function(o){return window.Polymer._polymerFn(o)},o&&Object.assign(Polymer,o),window.Polymer._polymerFn=function(o){throw new Error("Load polymer.html to use the Polymer() function.")},window.Polymer.version="2.7.0",window.JSCompiler_renameProperty=function(o,r){return o}}()</script><script>!function(){"use strict";var n,a,r=/(url\()([^)]*)(\))/g,c=/(^\/)|(^#)|(^[\w-\d]*:)/;function o(e,r){if(e&&c.test(e))return e;if(void 0===n){n=!1;try{var t=new URL("b","http://a");t.pathname="c%20d",n="http://a/c%20d"===t.href}catch(e){}}return r=r||(document.baseURI||window.location.href),n?new URL(e,r).href:(a||((a=document.implementation.createHTMLDocument("temp")).base=a.createElement("base"),a.head.appendChild(a.base),a.anchor=a.createElement("a"),a.body.appendChild(a.anchor)),a.base.href=r,a.anchor.href=e,a.anchor.href||e)}Polymer.ResolveUrl={resolveCss:function(e,a){return e.replace(r,function(e,r,t,n){return r+"'"+o(t.replace(/["']/g,""),a)+"'"+n})},resolveUrl:o,pathFromUrl:function(e){return e.substring(0,e.lastIndexOf("/")+1)}}}()</script><script>!function(){"use strict";Polymer.Settings=Polymer.Settings||{},Polymer.Settings.useShadow=!window.ShadyDOM,Polymer.Settings.useNativeCSSProperties=!(window.ShadyCSS&&!window.ShadyCSS.nativeCss),Polymer.Settings.useNativeCustomElements=!window.customElements.polyfillWrapFlushCallback,Polymer.rootPath=Polymer.rootPath||Polymer.ResolveUrl.pathFromUrl(document.baseURI||window.location.href),Polymer.setRootPath=function(e){Polymer.rootPath=e},Polymer.sanitizeDOMValue=Polymer.sanitizeDOMValue||null,Polymer.setSanitizeDOMValue=function(e){Polymer.sanitizeDOMValue=e},Polymer.passiveTouchGestures=Polymer.passiveTouchGestures||!1,Polymer.setPassiveTouchGestures=function(e){Polymer.passiveTouchGestures=e},Polymer.legacyOptimizations=Polymer.legacyOptimizations||window.PolymerSettings&&window.PolymerSettings.legacyOptimizations||!1,Polymer.setLegacyOptimizations=function(e){Polymer.legacyOptimizations=e}}()</script><script>!function(){"use strict";var i=0;Polymer.dedupingMixin=function(a){var _=a.__mixinApplications;_||(_=new WeakMap,a.__mixinApplications=_);var u=i++;return function(i){var n=i.__mixinSet;if(n&&n[u])return i;var t=_,e=t.get(i);e||(e=a(i),t.set(i,e));var r=Object.create(e.__mixinSet||n||null);return r[u]=!0,e.__mixinSet=r,e}}}()</script><script>!function(){"use strict";var a="shady-unscoped";function o(e){var t=customElements.get("dom-module");return t?t.import(e):null}function m(e){var t=e.body?e.body:e,s=Polymer.ResolveUrl.resolveCss(t.textContent,e.baseURI),r=document.createElement("style");return r.textContent=s,r}var e={stylesFromModules:function(e){for(var t=e.trim().split(/\s+/),s=[],r=0;r<t.length;r++)s.push.apply(s,babelHelpers.toConsumableArray(this.stylesFromModule(t[r])));return s},stylesFromModule:function(e){var t=o(e);if(!t)return console.warn("Could not find style data in module named",e),[];if(void 0===t._styles){var s=[];s.push.apply(s,babelHelpers.toConsumableArray(this._stylesFromModuleImports(t)));var r=t.querySelector("template");r&&s.push.apply(s,babelHelpers.toConsumableArray(this.stylesFromTemplate(r,t.assetpath))),t._styles=s}return t._styles},stylesFromTemplate:function(e,t){if(!e._styles){for(var s=[],r=e.content.querySelectorAll("style"),o=0;o<r.length;o++){var l=r[o],n=l.getAttribute("include");n&&s.push.apply(s,babelHelpers.toConsumableArray(this.stylesFromModules(n).filter(function(e,t,s){return s.indexOf(e)===t}))),t&&(l.textContent=Polymer.ResolveUrl.resolveCss(l.textContent,t)),s.push(l)}e._styles=s}return e._styles},stylesFromModuleImports:function(e){var t=o(e);return t?this._stylesFromModuleImports(t):[]},_stylesFromModuleImports:function(e){for(var t,s=[],r=e.querySelectorAll("link[rel=import][type~=css]"),o=0;o<r.length;o++)if((t=r[o]).import){var l=t.import,n=t.hasAttribute(a);if(n&&!l._unscopedStyle){var u=m(l);u.setAttribute(a,""),l._unscopedStyle=u}else l._style||(l._style=m(l));s.push(n?l._unscopedStyle:l._style)}return s},cssFromModules:function(e){for(var t=e.trim().split(/\s+/),s="",r=0;r<t.length;r++)s+=this.cssFromModule(t[r]);return s},cssFromModule:function(e){var t=o(e);if(t&&void 0===t._cssText){var s=this._cssFromModuleImports(t),r=t.querySelector("template");r&&(s+=this.cssFromTemplate(r,t.assetpath)),t._cssText=s||null}return t||console.warn("Could not find style data in module named",e),t&&t._cssText||""},cssFromTemplate:function(e,t){for(var s,r="",o=this.stylesFromTemplate(e,t),l=0;l<o.length;l++)(s=o[l]).parentNode&&s.parentNode.removeChild(s),r+=s.textContent;return r},cssFromModuleImports:function(e){var t=o(e);return t?this._cssFromModuleImports(t):""},_cssFromModuleImports:function(e){for(var t="",s=this._stylesFromModuleImports(e),r=0;r<s.length;r++)t+=s[r].textContent;return t}};Polymer.StyleGather=e}()</script><script>!function(){"use strict";var r={},s={};function o(e,t){r[e]=s[e.toLowerCase()]=t}function l(e){return r[e]||s[e.toLowerCase()]}var e=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"attributeChangedCallback",value:function(e,t,r){t!==r&&this.register()}},{key:"register",value:function(e){if(e=e||this.id){if(Polymer.strictTemplatePolicy&&void 0!==l(e))throw o(e,null),new Error("strictTemplatePolicy: dom-module ".concat(e," re-registered"));o(this.id=e,this),(t=this).querySelector("style")&&console.warn("dom-module %s has style outside template",t.id)}var t}},{key:"assetpath",get:function(){if(!this.__assetpath){var e=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,t=Polymer.ResolveUrl.resolveUrl(this.getAttribute("assetpath")||"",e.baseURI);this.__assetpath=Polymer.ResolveUrl.pathFromUrl(t)}return this.__assetpath}}],[{key:"import",value:function(e,t){if(e){var r=l(e);return r&&t?r.querySelector(t):r}return null}},{key:"observedAttributes",get:function(){return["id"]}}]),t}(babelHelpers.wrapNativeSuper(HTMLElement));e.prototype.modules=r,customElements.define("dom-module",e),Polymer.DomModule=e}()</script><script>!function(){"use strict";var t={isPath:function(t){return 0<=t.indexOf(".")},root:function(t){var n=t.indexOf(".");return-1===n?t:t.slice(0,n)},isAncestor:function(t,n){return 0===t.indexOf(n+".")},isDescendant:function(t,n){return 0===n.indexOf(t+".")},translate:function(t,n,r){return n+r.slice(t.length)},matches:function(t,n){return t===n||this.isAncestor(t,n)||this.isDescendant(t,n)},normalize:function(t){if(Array.isArray(t)){for(var n,r=[],i=0;i<t.length;i++){n=t[i].toString().split(".");for(var e=0;e<n.length;e++)r.push(n[e])}return r.join(".")}return t},split:function(t){return Array.isArray(t)?this.normalize(t).split("."):t.toString().split(".")},get:function(t,n,r){for(var i=t,e=this.split(n),s=0;s<e.length;s++){if(!i)return;i=i[e[s]]}return r&&(r.path=e.join(".")),i},set:function(t,n,r){var i=t,e=this.split(n),s=e[e.length-1];if(1<e.length){for(var o=0;o<e.length-1;o++)if(!(i=i[e[o]]))return;i[s]=r}else i[n]=r;return e.join(".")}};t.isDeep=t.isPath,Polymer.Path=t}()</script><script>!function(){"use strict";var a={},r=/-[a-z]/g,n=/([A-Z])/g,e={dashToCamelCase:function(e){return a[e]||(a[e]=e.indexOf("-")<0?e:e.replace(r,function(e){return e[1].toUpperCase()}))},camelToDashCase:function(e){return a[e]||(a[e]=e.replace(n,"-$1").toLowerCase())}};Polymer.CaseMap=e}()</script><script>!function(){"use strict";var e=0,i=0,o=[],t=0,c=document.createTextNode("");new window.MutationObserver(function(){for(var n,e=o.length,t=0;t<e;t++)if(n=o[t])try{n()}catch(n){setTimeout(function(){throw n})}o.splice(0,e),i+=e}).observe(c,{characterData:!0}),Polymer.Async={timeOut:{after:function(e){return{run:function(n){return window.setTimeout(n,e)},cancel:function(n){window.clearTimeout(n)}}},run:function(n,e){return window.setTimeout(n,e)},cancel:function(n){window.clearTimeout(n)}},animationFrame:{run:function(n){return window.requestAnimationFrame(n)},cancel:function(n){window.cancelAnimationFrame(n)}},idlePeriod:{run:function(n){return window.requestIdleCallback?window.requestIdleCallback(n):window.setTimeout(n,16)},cancel:function(n){window.cancelIdleCallback?window.cancelIdleCallback(n):window.clearTimeout(n)}},microTask:{run:function(n){return c.textContent=t++,o.push(n),e++},cancel:function(n){var e=n-i;if(0<=e){if(!o[e])throw new Error("invalid async handle: "+n);o[e]=null}}}}}()</script><script>!function(){"use strict";var e=Polymer.Async.microTask;Polymer.PropertiesChanged=Polymer.dedupingMixin(function(t){return function(t){function r(){var t;return babelHelpers.classCallCheck(this,r),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this))).__dataEnabled=!1,t.__dataReady=!1,t.__dataInvalid=!1,t.__data={},t.__dataPending=null,t.__dataOld=null,t.__dataInstanceProps=null,t.__serializing=!1,t._initializeProperties(),t}return babelHelpers.inherits(r,t),babelHelpers.createClass(r,[{key:"_createPropertyAccessor",value:function(t,e){this._addPropertyToAttributeMap(t),this.hasOwnProperty("__dataHasAccessor")||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[t]||(this.__dataHasAccessor[t]=!0,this._definePropertyAccessor(t,e))}},{key:"_addPropertyToAttributeMap",value:function(t){if(this.hasOwnProperty("__dataAttributes")||(this.__dataAttributes=Object.assign({},this.__dataAttributes)),!this.__dataAttributes[t]){var e=this.constructor.attributeNameForProperty(t);this.__dataAttributes[e]=t}}},{key:"_definePropertyAccessor",value:function(e,t){Object.defineProperty(this,e,{get:function(){return this._getProperty(e)},set:t?function(){}:function(t){this._setProperty(e,t)}})}}],[{key:"createProperties",value:function(t){var e=this.prototype;for(var a in t)a in e||e._createPropertyAccessor(a)}},{key:"attributeNameForProperty",value:function(t){return t.toLowerCase()}},{key:"typeForProperty",value:function(){}}]),babelHelpers.createClass(r,[{key:"ready",value:function(){this.__dataReady=!0,this._flushProperties()}},{key:"_initializeProperties",value:function(){for(var t in this.__dataHasAccessor)this.hasOwnProperty(t)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[t]=this[t],delete this[t])}},{key:"_initializeInstanceProperties",value:function(t){Object.assign(this,t)}},{key:"_setProperty",value:function(t,e){this._setPendingProperty(t,e)&&this._invalidateProperties()}},{key:"_getProperty",value:function(t){return this.__data[t]}},{key:"_setPendingProperty",value:function(t,e){var a=this.__data[t],i=this._shouldPropertyChange(t,e,a);return i&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),!this.__dataOld||t in this.__dataOld||(this.__dataOld[t]=a),this.__data[t]=e,this.__dataPending[t]=e),i}},{key:"_invalidateProperties",value:function(){var t=this;!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,e.run(function(){t.__dataInvalid&&(t.__dataInvalid=!1,t._flushProperties())}))}},{key:"_enableProperties",value:function(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}},{key:"_flushProperties",value:function(){var t=this.__data,e=this.__dataPending,a=this.__dataOld;this._shouldPropertiesChange(t,e,a)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(t,e,a))}},{key:"_shouldPropertiesChange",value:function(t,e){return!!e}},{key:"_propertiesChanged",value:function(){}},{key:"_shouldPropertyChange",value:function(t,e,a){return a!==e&&(a==a||e==e)}},{key:"attributeChangedCallback",value:function(t,e,a,i){e!==a&&this._attributeToProperty(t,a),babelHelpers.get(babelHelpers.getPrototypeOf(r.prototype),"attributeChangedCallback",this)&&babelHelpers.get(babelHelpers.getPrototypeOf(r.prototype),"attributeChangedCallback",this).call(this,t,e,a,i)}},{key:"_attributeToProperty",value:function(t,e,a){if(!this.__serializing){var i=this.__dataAttributes,r=i&&i[t]||t;this[r]=this._deserializeValue(e,a||this.constructor.typeForProperty(r))}}},{key:"_propertyToAttribute",value:function(t,e,a){this.__serializing=!0,a=arguments.length<3?this[t]:a,this._valueToNodeAttribute(this,a,e||this.constructor.attributeNameForProperty(t)),this.__serializing=!1}},{key:"_valueToNodeAttribute",value:function(t,e,a){var i=this._serializeValue(e);void 0===i?t.removeAttribute(a):t.setAttribute(a,i)}},{key:"_serializeValue",value:function(t){switch(babelHelpers.typeof(t)){case"boolean":return t?"":void 0;default:return null!=t?t.toString():void 0}}},{key:"_deserializeValue",value:function(t,e){switch(e){case Boolean:return null!==t;case Number:return+t;default:return t}}}]),r}(t)})}()</script><script>!function(){"use strict";for(var r=Polymer.CaseMap,o={},e=HTMLElement.prototype;e;){for(var t=Object.getOwnPropertyNames(e),a=0;a<t.length;a++)o[t[a]]=!0;e=Object.getPrototypeOf(e)}Polymer.PropertyAccessors=Polymer.dedupingMixin(function(e){return function(e){function a(){return babelHelpers.classCallCheck(this,a),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(a).apply(this,arguments))}return babelHelpers.inherits(a,e),babelHelpers.createClass(a,[{key:"_initializeProperties",value:function(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),babelHelpers.get(babelHelpers.getPrototypeOf(a.prototype),"_initializeProperties",this).call(this)}},{key:"_initializeProtoProperties",value:function(e){for(var t in e)this._setProperty(t,e[t])}},{key:"_ensureAttribute",value:function(e,t){this.hasAttribute(e)||this._valueToNodeAttribute(this,t,e)}},{key:"_serializeValue",value:function(e){switch(babelHelpers.typeof(e)){case"object":if(babelHelpers.instanceof(e,Date))return e.toString();if(e)try{return JSON.stringify(e)}catch(e){return""}default:return babelHelpers.get(babelHelpers.getPrototypeOf(a.prototype),"_serializeValue",this).call(this,e)}}},{key:"_deserializeValue",value:function(t,e){var r;switch(e){case Object:try{r=JSON.parse(t)}catch(e){r=t}break;case Array:try{r=JSON.parse(t)}catch(e){r=null,console.warn("Polymer::Attributes: couldn't decode Array as JSON: ".concat(t))}break;case Date:r=isNaN(t)?t+"":+t,r=new Date(r);break;default:r=babelHelpers.get(babelHelpers.getPrototypeOf(a.prototype),"_deserializeValue",this).call(this,t,e)}return r}},{key:"_definePropertyAccessor",value:function(e,t){!function(e,t){if(!o[t]){var r=e[t];void 0!==r&&(e.__data?e._setPendingProperty(t,r):(e.__dataProto?e.hasOwnProperty(JSCompiler_renameProperty("__dataProto",e))||(e.__dataProto=Object.create(e.__dataProto)):e.__dataProto={},e.__dataProto[t]=r))}}(this,e),babelHelpers.get(babelHelpers.getPrototypeOf(a.prototype),"_definePropertyAccessor",this).call(this,e,t)}},{key:"_hasAccessor",value:function(e){return this.__dataHasAccessor&&this.__dataHasAccessor[e]}},{key:"_isPropertyPending",value:function(e){return!!(this.__dataPending&&e in this.__dataPending)}}],[{key:"createPropertiesForAttributes",value:function(){for(var e=this.observedAttributes,t=0;t<e.length;t++)this.prototype._createPropertyAccessor(r.dashToCamelCase(e[t]))}},{key:"attributeNameForProperty",value:function(e){return r.camelToDashCase(e)}}]),a}(Polymer.PropertiesChanged(e))})}()</script><script>!function(){"use strict";var s=document.createTreeWalker(document,NodeFilter.SHOW_ALL,null,!1),r={"dom-if":!0,"dom-repeat":!0};function p(e){var t=e.getAttribute("is");if(t&&r[t]){var n=e;for(n.removeAttribute("is"),e=n.ownerDocument.createElement(t),n.parentNode.replaceChild(e,n),e.appendChild(n);n.attributes.length;)e.setAttribute(n.attributes[0].name,n.attributes[0].value),n.removeAttribute(n.attributes[0].name)}return e}function v(e,t){var n=t.parentInfo&&v(e,t.parentInfo);if(!n)return e;s.currentNode=n;for(var r=s.firstChild(),a=0;r;r=s.nextSibling())if(t.parentIndex===a++)return r}function h(e,t,n){if(n.events&&n.events.length)for(var r,a=0,o=n.events;a<o.length&&(r=o[a]);a++)e._addMethodEventListenerToNode(t,r.name,r.value,e)}Polymer.TemplateStamp=Polymer.dedupingMixin(function(e){return function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_stampTemplate",value:function(e){e&&!e.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(e);var t=this.constructor._parseTemplate(e),n=t.nodeInfoList,r=t.content||e.content,a=document.importNode(r,!0);a.__noInsertionPoint=!t.hasInsertionPoint;var o,i,l,s,p,u=a.nodeList=Array(n.length);a.$={};for(var d,m,c=0,f=n.length;c<f&&(d=n[c]);c++)m=u[c]=v(a,d),l=a.$,s=m,(p=d).id&&(l[p.id]=s),o=m,(i=d).templateInfo&&(o._templateInfo=i.templateInfo),h(this,m,d);return a=a}},{key:"_addMethodEventListenerToNode",value:function(e,t,n,r){var a,o,i=(o=n,a=(a=r=r||e)._methodHost||a,function(e){a[o]?a[o](e,e.detail):console.warn("listener method `"+o+"` not defined")});return this._addEventListenerToNode(e,t,i),i}},{key:"_addEventListenerToNode",value:function(e,t,n){e.addEventListener(t,n)}},{key:"_removeEventListenerFromNode",value:function(e,t,n){e.removeEventListener(t,n)}}],[{key:"_parseTemplate",value:function(e,t){if(!e._templateInfo){var n=e._templateInfo={};n.nodeInfoList=[],n.stripWhiteSpace=Polymer.legacyOptimizations||t&&t.stripWhiteSpace||e.hasAttribute("strip-whitespace"),this._parseTemplateContent(e,n,{parent:null})}return e._templateInfo}},{key:"_parseTemplateContent",value:function(e,t,n){return this._parseTemplateNode(e.content,t,n)}},{key:"_parseTemplateNode",value:function(e,t,n){var r,a=e;return"template"!=a.localName||a.hasAttribute("preserve-content")?"slot"===a.localName&&(t.hasInsertionPoint=!0):r=this._parseTemplateNestedTemplate(a,t,n)||r,s.currentNode=a,s.firstChild()&&(r=this._parseTemplateChildNodes(a,t,n)||r),a.hasAttributes&&a.hasAttributes()&&(r=this._parseTemplateNodeAttributes(a,t,n)||r),r}},{key:"_parseTemplateChildNodes",value:function(e,t,n){if("script"!==e.localName&&"style"!==e.localName){s.currentNode=e;for(var r,a=s.firstChild(),o=0;a;a=r){if("template"==a.localName&&(a=p(a)),s.currentNode=a,r=s.nextSibling(),a.nodeType===Node.TEXT_NODE){for(var i=r;i&&i.nodeType===Node.TEXT_NODE;)a.textContent+=i.textContent,r=s.nextSibling(),e.removeChild(i),i=r;if(t.stripWhiteSpace&&!a.textContent.trim()){e.removeChild(a);continue}}var l={parentIndex:o,parentInfo:n};this._parseTemplateNode(a,t,l)&&(l.infoIndex=t.nodeInfoList.push(l)-1),s.currentNode=a,s.parentNode()&&o++}}}},{key:"_parseTemplateNestedTemplate",value:function(e,t,n){var r=this._parseTemplate(e,t);return(r.content=e.content.ownerDocument.createDocumentFragment()).appendChild(e.content),n.templateInfo=r,!0}},{key:"_parseTemplateNodeAttributes",value:function(e,t,n){for(var r,a=!1,o=Array.from(e.attributes),i=o.length-1;r=o[i];i--)a=this._parseTemplateNodeAttribute(e,t,n,r.name,r.value)||a;return a}},{key:"_parseTemplateNodeAttribute",value:function(e,t,n,r,a){return"on-"===r.slice(0,3)?(e.removeAttribute(r),n.events=n.events||[],n.events.push({name:r.slice(3),value:a}),!0):"id"===r&&(n.id=a,!0)}},{key:"_contentForTemplate",value:function(e){var t=e._templateInfo;return t&&t.content||e.content}}]),t}(e)})}()</script><script>!function(){"use strict";var c=Polymer.CaseMap,_=0,u={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},d=/[A-Z]/;function i(t,e){var a=t[e];if(a){if(!t.hasOwnProperty(e))for(var r in a=t[e]=Object.create(t[e]))for(var n=a[r],i=a[r]=Array(n.length),s=0;s<n.length;s++)i[s]=n[s]}else a=t[e]={};return a}function s(t,e,a,r,n,i){if(e){var s=!1,o=_++;for(var l in a)p(t,e,o,l,a,r,n,i)&&(s=!0);return s}return!1}function p(t,e,a,r,n,i,s,o){var l=!1,h=e[s?Polymer.Path.root(r):r];if(h)for(var _,d=0,u=h.length;d<u&&(_=h[d]);d++)_.info&&_.info.lastRun===a||s&&!f(r,_.trigger)||(_.info&&(_.info.lastRun=a),_.fn(t,r,n,i,_.info,s,o),l=!0);return l}function f(t,e){if(e){var a=e.name;return a==t||e.structured&&Polymer.Path.isAncestor(a,t)||e.wildcard&&Polymer.Path.isDescendant(a,t)}return!0}function n(t,e,a,r,n){var i="string"==typeof n.method?t[n.method]:n.method,s=n.property;i?i.call(t,t.__data[s],r[s]):n.dynamicFn||console.warn("observer method `"+n.method+"` not defined")}function y(t,e,a){var r=Polymer.Path.root(e);return r!==e&&(l(t,Polymer.CaseMap.camelToDashCase(r)+"-changed",a[e],e),!0)}function l(t,e,a,r){var n={value:a,queueProperty:!0};r&&(n.path=r),t.dispatchEvent(new CustomEvent(e,{detail:n}))}function a(t,e,a,r,n,i){var s=(i?Polymer.Path.root(e):e)!=e?e:null,o=s?Polymer.Path.get(t,s):t.__data[e];s&&void 0===o&&(o=a[e]),l(t,n.eventName,o,s)}function r(t,e,a,r,n){var i=t.__data[e];Polymer.sanitizeDOMValue&&(i=Polymer.sanitizeDOMValue(i,n.attrName,"attribute",t)),t._propertyToAttribute(e,n.attrName,i)}function o(t,e,a,r,n){var i=E(t,e,a,r,n),s=n.methodInfo;t.__dataHasAccessor&&t.__dataHasAccessor[s]?t._setPendingProperty(s,i,!0):t[s]=i}function P(t,e,a,r,n,i,s){a.bindings=a.bindings||[];var o,l={kind:r,target:n,parts:i,literal:s,isCompound:1!==i.length};if(a.bindings.push(l),(o=l).target&&"attribute"!=o.kind&&"text"!=o.kind&&!o.isCompound&&"{"===o.parts[0].mode){var h=l.parts[0],_=h.event,d=h.negate;l.listenerEvent=_||c.camelToDashCase(n)+"-changed",l.listenerNegate=d}for(var u,p=e.nodeInfoList.length,f=0;f<l.parts.length;f++)(u=l.parts[f]).compoundIndex=f,v(t,e,l,u,p)}function v(t,e,a,r,n){if(!r.literal)if("attribute"===a.kind&&"-"===a.target[0])console.warn("Cannot set attribute "+a.target+' because "-" is not a valid attribute starting character');else for(var i,s=r.dependencies,o={index:n,binding:a,part:r,evaluator:t},l=0;l<s.length;l++)"string"==typeof(i=s[l])&&((i=N(i)).wildcard=!0),t._addTemplatePropertyEffect(e,i.rootProperty,{fn:h,info:o,trigger:i})}function h(t,e,a,r,n,i,s){var o=s[n.index],l=n.binding,h=n.part;if(i&&h.source&&e.length>h.source.length&&"property"==l.kind&&!l.isCompound&&o.__isPropertyEffectsClient&&o.__dataHasAccessor&&o.__dataHasAccessor[l.target]){var _=a[e];e=Polymer.Path.translate(h.source,l.target,e),o._setPendingPropertyOrPath(e,_,!1,!0)&&t._enqueueClient(o)}else{!function(t,e,a,r,n){n=function(t,e,a,r){if(a.isCompound){var n=t.__dataCompoundStorage[a.target];n[r.compoundIndex]=e,e=n.join("")}"attribute"!==a.kind&&("textContent"!==a.target&&("value"!==a.target||"input"!==t.localName&&"textarea"!==t.localName)||(e=null==e?"":e));return e}(e,n,a,r),Polymer.sanitizeDOMValue&&(n=Polymer.sanitizeDOMValue(n,a.target,a.kind,e));if("attribute"==a.kind)t._valueToNodeAttribute(e,n,a.target);else{var i=a.target;e.__isPropertyEffectsClient&&e.__dataHasAccessor&&e.__dataHasAccessor[i]?e[u.READ_ONLY]&&e[u.READ_ONLY][i]||e._setPendingProperty(i,n)&&t._enqueueClient(e):t._setUnmanagedPropertyToNode(e,i,n)}}(t,o,l,h,n.evaluator._evaluateBinding(t,h,e,a,r,i))}}function g(t,e){if(e.isCompound){for(var a=t.__dataCompoundStorage||(t.__dataCompoundStorage={}),r=e.parts,n=Array(r.length),i=0;i<r.length;i++)n[i]=r[i].literal;var s=e.target;a[s]=n,e.literal&&"property"==e.kind&&(t[s]=e.literal)}}function m(t,h,_){if(_.listenerEvent){var d=_.parts[0];t.addEventListener(_.listenerEvent,function(t){var e,a,r,n,i,s,o,l;e=t,a=h,r=_.target,n=d.source,i=d.negate,o=e.detail,l=o&&o.path,s=l?(n=Polymer.Path.translate(r,n,l),o&&o.value):e.currentTarget[r],s=i?!s:s,a[u.READ_ONLY]&&a[u.READ_ONLY][n]||!a._setPendingPropertyOrPath(n,s,!0,!!l)||o&&o.queueProperty||a._invalidateProperties()})}}function b(t,e,a,r,n,i){i=e.static||i&&("object"!==babelHelpers.typeof(i)||i[e.methodName]);for(var s,o={methodName:e.methodName,args:e.args,methodInfo:n,dynamicFn:i},l=0;l<e.args.length&&(s=e.args[l]);l++)s.literal||t._addPropertyEffect(s.rootProperty,a,{fn:r,info:o,trigger:s});i&&t._addPropertyEffect(e.methodName,a,{fn:r,info:o})}function E(t,e,a,r,n){var i=t._methodHost||t,s=i[n.methodName];if(s){var o=t._marshalArgs(n.args,e,a);return s.apply(i,o)}n.dynamicFn||console.warn("method `"+n.methodName+"` not defined")}var k=[],O=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?((?:[a-zA-Z_$][\\w.:$\\-*]*)\\s*(?:\\(\\s*(?:(?:(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)(?:,\\s*(?:((?:[a-zA-Z_$][\\w.:$\\-*]*)|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*))*)?)\\)\\s*)?)(?:]]|}})","g");function C(t){for(var e="",a=0;a<t.length;a++)e+=t[a].literal||"";return e}function T(t){var e=t.match(/([^\s]+?)\(([\s\S]*)\)/);if(e){var a={methodName:e[1],static:!0,args:k};return e[2].trim()?function(t,a){return a.args=t.map(function(t){var e=N(t);return e.literal||(a.static=!1),e},this),a}(e[2].replace(/\\,/g,"&comma;").split(","),a):a}return null}function N(t){var e=t.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),a={name:e,value:"",literal:!1},r=e[0];switch("-"===r&&(r=e[1]),"0"<=r&&r<="9"&&(r="#"),r){case"'":case'"':a.value=e.slice(1,-1),a.literal=!0;break;case"#":a.value=+e,a.literal=!0}return a.literal||(a.rootProperty=Polymer.Path.root(e),a.structured=Polymer.Path.isPath(e),a.structured&&(a.wildcard=".*"==e.slice(-2),a.wildcard&&(a.name=e.slice(0,-2)))),a}function A(t,e,a,r){var n=a+".splices";t.notifyPath(n,{indexSplices:r}),t.notifyPath(a+".length",e.length),t.__data[n]={indexSplices:null}}function H(t,e,a,r,n,i){A(t,e,a,[{index:r,addedCount:n,removed:i,object:e,type:"splice"}])}Polymer.PropertyEffects=Polymer.dedupingMixin(function(t){var e=function(t){function h(){var t;return babelHelpers.classCallCheck(this,h),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(h).call(this))).__isPropertyEffectsClient=!0,t.__dataCounter=0,t.__dataClientsReady,t.__dataPendingClients,t.__dataToNotify,t.__dataLinkedPaths,t.__dataHasPaths,t.__dataCompoundStorage,t.__dataHost,t.__dataTemp,t.__dataClientsInitialized,t.__data,t.__dataPending,t.__dataOld,t.__computeEffects,t.__reflectEffects,t.__notifyEffects,t.__propagateEffects,t.__observeEffects,t.__readOnly,t.__templateInfo,t}return babelHelpers.inherits(h,t),babelHelpers.createClass(h,[{key:"_initializeProperties",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(h.prototype),"_initializeProperties",this).call(this),R.registerHost(this),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}},{key:"_initializeProtoProperties",value:function(t){this.__data=Object.create(t),this.__dataPending=Object.create(t),this.__dataOld={}}},{key:"_initializeInstanceProperties",value:function(t){var e=this[u.READ_ONLY];for(var a in t)e&&e[a]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[a]=this.__dataPending[a]=t[a])}},{key:"_addPropertyEffect",value:function(t,e,a){this._createPropertyAccessor(t,e==u.READ_ONLY);var r=i(this,e)[t];(r=r||(this[e][t]=[])).push(a)}},{key:"_removePropertyEffect",value:function(t,e,a){var r=i(this,e)[t],n=r.indexOf(a);0<=n&&r.splice(n,1)}},{key:"_hasPropertyEffect",value:function(t,e){var a=this[e];return!(!a||!a[t])}},{key:"_hasReadOnlyEffect",value:function(t){return this._hasPropertyEffect(t,u.READ_ONLY)}},{key:"_hasNotifyEffect",value:function(t){return this._hasPropertyEffect(t,u.NOTIFY)}},{key:"_hasReflectEffect",value:function(t){return this._hasPropertyEffect(t,u.REFLECT)}},{key:"_hasComputedEffect",value:function(t){return this._hasPropertyEffect(t,u.COMPUTE)}},{key:"_setPendingPropertyOrPath",value:function(t,e,a,r){if(r||Polymer.Path.root(Array.isArray(t)?t[0]:t)!==t){if(!r){var n=Polymer.Path.get(this,t);if(!(t=Polymer.Path.set(this,t,e))||!babelHelpers.get(babelHelpers.getPrototypeOf(h.prototype),"_shouldPropertyChange",this).call(this,t,e,n))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(t,e,a))return function(t,e,a){var r,n=t.__dataLinkedPaths;if(n)for(var i in n){var s=n[i];Polymer.Path.isDescendant(i,e)?(r=Polymer.Path.translate(i,s,e),t._setPendingPropertyOrPath(r,a,!0,!0)):Polymer.Path.isDescendant(s,e)&&(r=Polymer.Path.translate(s,i,e),t._setPendingPropertyOrPath(r,a,!0,!0))}}(this,t,e),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[t])return this._setPendingProperty(t,e,a);this[t]=e}return!1}},{key:"_setUnmanagedPropertyToNode",value:function(t,e,a){a===t[e]&&"object"!=babelHelpers.typeof(a)||(t[e]=a)}},{key:"_setPendingProperty",value:function(t,e,a){var r=this.__dataHasPaths&&Polymer.Path.isPath(t),n=r?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(t,e,n[t])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),t in this.__dataOld||(this.__dataOld[t]=this.__data[t]),r?this.__dataTemp[t]=e:this.__data[t]=e,this.__dataPending[t]=e,(r||this[u.NOTIFY]&&this[u.NOTIFY][t])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[t]=a),!0)}},{key:"_setProperty",value:function(t,e){this._setPendingProperty(t,e,!0)&&this._invalidateProperties()}},{key:"_invalidateProperties",value:function(){this.__dataReady&&this._flushProperties()}},{key:"_enqueueClient",value:function(t){this.__dataPendingClients=this.__dataPendingClients||[],t!==this&&this.__dataPendingClients.push(t)}},{key:"_flushProperties",value:function(){this.__dataCounter++,babelHelpers.get(babelHelpers.getPrototypeOf(h.prototype),"_flushProperties",this).call(this),this.__dataCounter--}},{key:"_flushClients",value:function(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}},{key:"__enableOrFlushClients",value:function(){var t=this.__dataPendingClients;if(t){this.__dataPendingClients=null;for(var e,a=0;a<t.length;a++)(e=t[a]).__dataEnabled?e.__dataPending&&e._flushProperties():e._enableProperties()}}},{key:"_readyClients",value:function(){this.__enableOrFlushClients()}},{key:"setProperties",value:function(t,e){for(var a in t)!e&&this[u.READ_ONLY]&&this[u.READ_ONLY][a]||this._setPendingPropertyOrPath(a,t[a],!0);this._invalidateProperties()}},{key:"ready",value:function(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}},{key:"_propertiesChanged",value:function(t,e,a){var r=this.__dataHasPaths;this.__dataHasPaths=!1,function(t,e,a,r){var n=t[u.COMPUTE];if(n)for(var i=e;s(t,n,i,a,r);)Object.assign(a,t.__dataOld),Object.assign(e,t.__dataPending),i=t.__dataPending,t.__dataPending=null}(this,e,a,r);var n=this.__dataToNotify;this.__dataToNotify=null,this._propagatePropertyChanges(e,a,r),this._flushClients(),s(this,this[u.REFLECT],e,a,r),s(this,this[u.OBSERVE],e,a,r),n&&function(t,e,a,r,n){var i,s,o=t[u.NOTIFY],l=_++;for(var h in e)e[h]&&(o&&p(t,o,l,h,a,r,n)?i=!0:n&&y(t,h,a)&&(i=!0));i&&(s=t.__dataHost)&&s._invalidateProperties&&s._invalidateProperties()}(this,n,e,a,r),1==this.__dataCounter&&(this.__dataTemp={})}},{key:"_propagatePropertyChanges",value:function(t,e,a){this[u.PROPAGATE]&&s(this,this[u.PROPAGATE],t,e,a);for(var r=this.__templateInfo;r;)s(this,r.propertyEffects,t,e,a,r.nodeList),r=r.nextTemplateInfo}},{key:"linkPaths",value:function(t,e){t=Polymer.Path.normalize(t),e=Polymer.Path.normalize(e),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[t]=e}},{key:"unlinkPaths",value:function(t){t=Polymer.Path.normalize(t),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[t]}},{key:"notifySplices",value:function(t,e){var a={path:""};A(this,Polymer.Path.get(this,t,a),a.path,e)}},{key:"get",value:function(t,e){return Polymer.Path.get(e||this,t)}},{key:"set",value:function(t,e,a){a?Polymer.Path.set(a,t,e):this[u.READ_ONLY]&&this[u.READ_ONLY][t]||this._setPendingPropertyOrPath(t,e,!0)&&this._invalidateProperties()}},{key:"push",value:function(t){for(var e={path:""},a=Polymer.Path.get(this,t,e),r=a.length,n=arguments.length,i=Array(1<n?n-1:0),s=1;s<n;s++)i[s-1]=arguments[s];var o=a.push.apply(a,i);return i.length&&H(this,a,e.path,r,i.length,[]),o}},{key:"pop",value:function(t){var e={path:""},a=Polymer.Path.get(this,t,e),r=!!a.length,n=a.pop();return r&&H(this,a,e.path,a.length,0,[n]),n}},{key:"splice",value:function(t,e,a){for(var r=arguments.length,n=Array(3<r?r-3:0),i=3;i<r;i++)n[i-3]=arguments[i];var s,o={path:""},l=Polymer.Path.get(this,t,o);return e=e<0?l.length-Math.floor(-e):e&&Math.floor(e),s=2===arguments.length?l.splice(e):l.splice.apply(l,[e,a].concat(n)),(n.length||s.length)&&H(this,l,o.path,e,n.length,s),s}},{key:"shift",value:function(t){var e={path:""},a=Polymer.Path.get(this,t,e),r=!!a.length,n=a.shift();return r&&H(this,a,e.path,0,0,[n]),n}},{key:"unshift",value:function(t){for(var e={path:""},a=Polymer.Path.get(this,t,e),r=arguments.length,n=Array(1<r?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var s=a.unshift.apply(a,n);return n.length&&H(this,a,e.path,0,n.length,[]),s}},{key:"notifyPath",value:function(t,e){var a;if(1==arguments.length){var r={path:""};e=Polymer.Path.get(this,t,r),a=r.path}else a=Array.isArray(t)?Polymer.Path.normalize(t):t;this._setPendingPropertyOrPath(a,e,!0,!0)&&this._invalidateProperties()}},{key:"_createReadOnlyProperty",value:function(e,t){var a;this._addPropertyEffect(e,u.READ_ONLY),t&&(this["_set"+((a=e)[0].toUpperCase()+a.substring(1))]=function(t){this._setProperty(e,t)})}},{key:"_createPropertyObserver",value:function(t,e,a){var r={property:t,method:e,dynamicFn:!!a};this._addPropertyEffect(t,u.OBSERVE,{fn:n,info:r,trigger:{name:t}}),a&&this._addPropertyEffect(e,u.OBSERVE,{fn:n,info:r,trigger:{name:e}})}},{key:"_createMethodObserver",value:function(t,e){var a=T(t);if(!a)throw new Error("Malformed observer expression '"+t+"'");b(this,a,u.OBSERVE,E,null,e)}},{key:"_createNotifyingProperty",value:function(t){this._addPropertyEffect(t,u.NOTIFY,{fn:a,info:{eventName:c.camelToDashCase(t)+"-changed",property:t}})}},{key:"_createReflectedProperty",value:function(t){var e=this.constructor.attributeNameForProperty(t);"-"===e[0]?console.warn("Property "+t+" cannot be reflected to attribute "+e+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(t,u.REFLECT,{fn:r,info:{attrName:e}})}},{key:"_createComputedProperty",value:function(t,e,a){var r=T(e);if(!r)throw new Error("Malformed computed expression '"+e+"'");b(this,r,u.COMPUTE,o,t,a)}},{key:"_marshalArgs",value:function(t,e,a){for(var r=this.__data,n=[],i=0,s=t.length;i<s;i++){var o=t[i],l=o.name,h=void 0;if(o.literal?h=o.value:o.structured?void 0===(h=Polymer.Path.get(r,l))&&(h=a[l]):h=r[l],o.wildcard){var _=0===l.indexOf(e+"."),d=0===e.indexOf(l)&&!_;n[i]={path:d?e:l,value:d?a[e]:h,base:h}}else n[i]=h}return n}},{key:"_bindTemplate",value:function(t,e){var a=this.constructor._parseTemplate(t),r=this.__templateInfo==a;if(!r)for(var n in a.propertyEffects)this._createPropertyAccessor(n);if(e&&!((a=Object.create(a)).wasPreBound=r)&&this.__templateInfo){var i=this.__templateInfoLast||this.__templateInfo;return this.__templateInfoLast=i.nextTemplateInfo=a,a.previousTemplateInfo=i,a}return this.__templateInfo=a}},{key:"_stampTemplate",value:function(t){R.beginHosting(this);var e=babelHelpers.get(babelHelpers.getPrototypeOf(h.prototype),"_stampTemplate",this).call(this,t);R.endHosting(this);var a=this._bindTemplate(t,!0);if(a.nodeList=e.nodeList,!a.wasPreBound)for(var r=a.childNodes=[],n=e.firstChild;n;n=n.nextSibling)r.push(n);return function(t,e){var a=e.nodeList,r=e.nodeInfoList;if(r.length)for(var n=0;n<r.length;n++){var i=r[n],s=a[n],o=i.bindings;if(o)for(var l,h=0;h<o.length;h++)g(s,l=o[h]),m(s,t,l);s.__dataHost=t}}(this,e.templateInfo=a),this.__dataReady&&s(this,a.propertyEffects,this.__data,null,!1,a.nodeList),e}},{key:"_removeBoundDom",value:function(t){var e=t.templateInfo;e.previousTemplateInfo&&(e.previousTemplateInfo.nextTemplateInfo=e.nextTemplateInfo),e.nextTemplateInfo&&(e.nextTemplateInfo.previousTemplateInfo=e.previousTemplateInfo),this.__templateInfoLast==e&&(this.__templateInfoLast=e.previousTemplateInfo),e.previousTemplateInfo=e.nextTemplateInfo=null;for(var a,r=e.childNodes,n=0;n<r.length;n++)(a=r[n]).parentNode.removeChild(a)}},{key:"PROPERTY_EFFECT_TYPES",get:function(){return u}}],[{key:"addPropertyEffect",value:function(t,e,a){this.prototype._addPropertyEffect(t,e,a)}},{key:"createPropertyObserver",value:function(t,e,a){this.prototype._createPropertyObserver(t,e,a)}},{key:"createMethodObserver",value:function(t,e){this.prototype._createMethodObserver(t,e)}},{key:"createNotifyingProperty",value:function(t){this.prototype._createNotifyingProperty(t)}},{key:"createReadOnlyProperty",value:function(t,e){this.prototype._createReadOnlyProperty(t,e)}},{key:"createReflectedProperty",value:function(t){this.prototype._createReflectedProperty(t)}},{key:"createComputedProperty",value:function(t,e,a){this.prototype._createComputedProperty(t,e,a)}},{key:"bindTemplate",value:function(t){return this.prototype._bindTemplate(t)}},{key:"_addTemplatePropertyEffect",value:function(t,e,a){(t.hostProps=t.hostProps||{})[e]=!0;var r=t.propertyEffects=t.propertyEffects||{};(r[e]=r[e]||[]).push(a)}},{key:"_parseTemplateNode",value:function(t,e,a){var r=babelHelpers.get(babelHelpers.getPrototypeOf(h),"_parseTemplateNode",this).call(this,t,e,a);if(t.nodeType===Node.TEXT_NODE){var n=this._parseBindings(t.textContent,e);n&&(t.textContent=C(n)||" ",P(this,e,a,"text","textContent",n),r=!0)}return r}},{key:"_parseTemplateNodeAttribute",value:function(t,e,a,r,n){var i=this._parseBindings(n,e);if(i){var s=r,o="property";d.test(r)?o="attribute":"$"==r[r.length-1]&&(r=r.slice(0,-1),o="attribute");var l=C(i);return l&&"attribute"==o&&("class"==r&&t.hasAttribute("class")&&(l+=" "+t.getAttribute(r)),t.setAttribute(r,l)),"input"===t.localName&&"value"===s&&t.setAttribute(s,""),t.removeAttribute(s),"property"===o&&(r=Polymer.CaseMap.dashToCamelCase(r)),P(this,e,a,o,r,i,l),!0}return babelHelpers.get(babelHelpers.getPrototypeOf(h),"_parseTemplateNodeAttribute",this).call(this,t,e,a,r,n)}},{key:"_parseTemplateNestedTemplate",value:function(t,e,a){var r=babelHelpers.get(babelHelpers.getPrototypeOf(h),"_parseTemplateNestedTemplate",this).call(this,t,e,a),n=a.templateInfo.hostProps;for(var i in n){P(this,e,a,"property","_host_"+i,[{mode:"{",source:i,dependencies:[i]}])}return r}},{key:"_parseBindings",value:function(t,e){for(var a,r=[],n=0;null!==(a=O.exec(t));){a.index>n&&r.push({literal:t.slice(n,a.index)});var i=a[1][0],s=!!a[2],o=a[3].trim(),l=!1,h="",_=-1;"{"==i&&0<(_=o.indexOf("::"))&&(h=o.substring(_+2),o=o.substring(0,_),l=!0);var d=T(o),u=[];if(d){for(var p,f=d.args,c=d.methodName,y=0;y<f.length;y++)(p=f[y]).literal||u.push(p);var P=e.dynamicFns;(P&&P[c]||d.static)&&(u.push(c),d.dynamicFn=!0)}else u.push(o);r.push({source:o,mode:i,negate:s,customEvent:l,signature:d,dependencies:u,event:h}),n=O.lastIndex}if(n&&n<t.length){var v=t.substring(n);v&&r.push({literal:v})}return r.length?r:null}},{key:"_evaluateBinding",value:function(t,e,a,r,n,i){var s;return s=e.signature?E(t,a,r,0,e.signature):a!=e.source?Polymer.Path.get(t,e.source):i&&Polymer.Path.isPath(a)?Polymer.Path.get(t,a):t.__data[a],e.negate&&(s=!s),s}}]),h}(Polymer.TemplateStamp(Polymer.PropertyAccessors(t)));return e});var R={stack:[],registerHost:function(t){this.stack.length&&this.stack[this.stack.length-1]._enqueueClient(t)},beginHosting:function(t){this.stack.push(t)},endHosting:function(t){var e=this.stack.length;e&&this.stack[e-1]==t&&this.stack.pop()}}}()</script><script>!function(){"use strict";Polymer.telemetry={instanceCount:0,registrations:[],_regLog:function(t){console.log("["+t.is+"]: registered")},register:function(t){this.registrations.push(t),Polymer.log&&this._regLog(t)},dumpRegistrations:function(){this.registrations.forEach(this._regLog)}}}()</script><script>!function(){"use strict";Polymer.PropertiesMixin=Polymer.dedupingMixin(function(e){function r(e){var t=Object.getPrototypeOf(e);return babelHelpers.instanceof(t.prototype,o)?t:null}function i(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",e))){var t=null;if(e.hasOwnProperty(JSCompiler_renameProperty("properties",e))){var r=e.properties;r&&(t=function(e){var t={};for(var r in e){var i=e[r];t[r]="function"==typeof i?{type:i}:i}return t}(r))}e.__ownProperties=t}return e.__ownProperties}var o=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_initializeProperties",value:function(){Polymer.telemetry.instanceCount++,this.constructor.finalize(),babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"_initializeProperties",this).call(this)}},{key:"connectedCallback",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"connectedCallback",this)&&babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this._enableProperties()}},{key:"disconnectedCallback",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"disconnectedCallback",this)&&babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"disconnectedCallback",this).call(this)}}],[{key:"finalize",value:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){var e=r(this);e&&e.finalize(),this.__finalized=!0,this._finalizeClass()}}},{key:"_finalizeClass",value:function(){var e=i(this);e&&this.createProperties(e)}},{key:"typeForProperty",value:function(e){var t=this._properties[e];return t&&t.type}},{key:"observedAttributes",get:function(){var t=this;if(!this.hasOwnProperty("__observedAttributes")){Polymer.telemetry.register(this.prototype);var e=this._properties;this.__observedAttributes=e?Object.keys(e).map(function(e){return t.attributeNameForProperty(e)}):[]}return this.__observedAttributes}},{key:"_properties",get:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){var e=r(this);this.__properties=Object.assign({},e&&e._properties,i(this))}return this.__properties}}]),t}(Polymer.PropertiesChanged(e));return o})}()</script><script>!function(){"use strict";var u=window.ShadyCSS&&window.ShadyCSS.cssBuild;Polymer.ElementMixin=Polymer.dedupingMixin(function(e){return function(e){function l(){var e;return babelHelpers.classCallCheck(this,l),(e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(l).call(this)))._template,e._importPath,e.rootPath,e.importPath,e.root,e.$,e}return babelHelpers.inherits(l,e),babelHelpers.createClass(l,null,[{key:"_finalizeClass",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(l),"_finalizeClass",this).call(this);var e,t=((e=this).hasOwnProperty(JSCompiler_renameProperty("__ownObservers",e))||(e.__ownObservers=e.hasOwnProperty(JSCompiler_renameProperty("observers",e))?e.observers:null),e.__ownObservers);t&&this.createObservers(t,this._properties),this._prepareTemplate()}},{key:"_prepareTemplate",value:function(){var e=this.template;if(e)if("string"==typeof e){var t=document.createElement("template");t.innerHTML=e,e=t}else Polymer.legacyOptimizations||(e=e.cloneNode(!0));this.prototype._template=e}},{key:"createProperties",value:function(e){for(var t in e)r=this.prototype,l=e[o=t],a=e,l.computed&&(l.readOnly=!0),l.computed&&!r._hasReadOnlyEffect(o)&&r._createComputedProperty(o,l.computed,a),l.readOnly&&!r._hasReadOnlyEffect(o)&&r._createReadOnlyProperty(o,!l.computed),l.reflectToAttribute&&!r._hasReflectEffect(o)&&r._createReflectedProperty(o),l.notify&&!r._hasNotifyEffect(o)&&r._createNotifyingProperty(o),l.observer&&r._createPropertyObserver(o,l.observer,a[l.observer]),r._addPropertyToAttributeMap(o);var r,o,l,a}},{key:"createObservers",value:function(e,t){for(var r=this.prototype,o=0;o<e.length;o++)r._createMethodObserver(e[o],t)}},{key:"template",get:function(){return this.hasOwnProperty(JSCompiler_renameProperty("_template",this))||(this._template=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:function(e){var t=null;if(e&&Polymer.DomModule&&(t=Polymer.DomModule.import(e,"template"),Polymer.strictTemplatePolicy&&!t))throw new Error("strictTemplatePolicy: expecting dom-module or null template for ".concat(e));return t}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template),this._template},set:function(e){this._template=e}},{key:"importPath",get:function(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){var e=this.importMeta;if(e)this._importPath=Polymer.ResolveUrl.pathFromUrl(e.url);else{var t=Polymer.DomModule&&Polymer.DomModule.import(this.is);this._importPath=t&&t.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}}]),babelHelpers.createClass(l,[{key:"_initializeProperties",value:function(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),babelHelpers.get(babelHelpers.getPrototypeOf(l.prototype),"_initializeProperties",this).call(this),this.rootPath=Polymer.rootPath,this.importPath=this.constructor.importPath;var e=function(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",e))){e.__propertyDefaults=null;var t=e._properties;for(var r in t){var o=t[r];"value"in o&&(e.__propertyDefaults=e.__propertyDefaults||{},e.__propertyDefaults[r]=o)}}return e.__propertyDefaults}(this.constructor);if(e)for(var t in e){var r=e[t];if(!this.hasOwnProperty(t)){var o="function"==typeof r.value?r.value.call(this):r.value;this._hasAccessor(t)?this._setPendingProperty(t,o,!0):this[t]=o}}}},{key:"connectedCallback",value:function(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),babelHelpers.get(babelHelpers.getPrototypeOf(l.prototype),"connectedCallback",this).call(this)}},{key:"ready",value:function(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),babelHelpers.get(babelHelpers.getPrototypeOf(l.prototype),"ready",this).call(this)}},{key:"_readyClients",value:function(){this._template&&(this.root=this._attachDom(this.root)),babelHelpers.get(babelHelpers.getPrototypeOf(l.prototype),"_readyClients",this).call(this)}},{key:"_attachDom",value:function(e){if(this.attachShadow)return e?(this.shadowRoot||this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(e),this.shadowRoot):null;throw new Error("ShadowDOM not available. Polymer.Element can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}},{key:"updateStyles",value:function(e){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,e)}},{key:"resolveUrl",value:function(e,t){return!t&&this.importPath&&(t=Polymer.ResolveUrl.resolveUrl(this.importPath)),Polymer.ResolveUrl.resolveUrl(e,t)}}],[{key:"_processStyleText",value:function(e,t){return Polymer.ResolveUrl.resolveCss(e,t)}},{key:"_finalizeTemplate",value:function(e){var t=this.prototype._template;if(t&&!t.__polymerFinalized){t.__polymerFinalized=!0;var r=this.importPath;!function(e,t,r,o){if(!u){for(var l,a=t.content.querySelectorAll("style"),i=Polymer.StyleGather.stylesFromTemplate(t),s=Polymer.StyleGather.stylesFromModuleImports(r),n=t.content.firstElementChild,p=0;p<s.length;p++)(l=s[p]).textContent=e._processStyleText(l.textContent,o),t.content.insertBefore(l,n);for(var h=0,y=0;y<i.length;y++){var c=i[y],m=a[h];m!==c?(c=c.cloneNode(!0),m.parentNode.insertBefore(c,m)):h++,c.textContent=e._processStyleText(c.textContent,o)}}window.ShadyCSS&&window.ShadyCSS.prepareTemplate(t,r)}(this,t,e,r?Polymer.ResolveUrl.resolveUrl(r):""),this.prototype._bindTemplate(t)}}},{key:"_parseTemplateContent",value:function(e,t,r){return t.dynamicFns=t.dynamicFns||this._properties,babelHelpers.get(babelHelpers.getPrototypeOf(l),"_parseTemplateContent",this).call(this,e,t,r)}}]),l}(Polymer.PropertiesMixin(Polymer.PropertyEffects(e)))}),Polymer.updateStyles=function(e){window.ShadyCSS&&window.ShadyCSS.styleDocument(e)}}()</script><script>!function(){"use strict";var e=function(){function n(){babelHelpers.classCallCheck(this,n),this._asyncModule=null,this._callback=null,this._timer=null}return babelHelpers.createClass(n,[{key:"setConfig",value:function(e,l){var t=this;this._asyncModule=e,this._callback=l,this._timer=this._asyncModule.run(function(){t._timer=null,t._callback()})}},{key:"cancel",value:function(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}},{key:"flush",value:function(){this.isActive()&&(this.cancel(),this._callback())}},{key:"isActive",value:function(){return null!=this._timer}}],[{key:"debounce",value:function(e,l,t){return babelHelpers.instanceof(e,n)?e.cancel():e=new n,e.setConfig(l,t),e}}]),n}();Polymer.Debouncer=e}()</script><script>!function(){"use strict";var f="string"==typeof document.head.style.touchAction,h="__polymerGestures",d="__polymerGesturesHandled",u="__polymerGesturesTouchAction",i=["mousedown","mousemove","mouseup","click"],o=[0,1,4,2],r=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(e){return!1}}();function l(e){return-1<i.indexOf(e)}var t=!1;function v(e){if(!l(e)&&"touchend"!==e)return f&&t&&Polymer.passiveTouchGestures?{passive:!0}:void 0}!function(){try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}}();var m=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/),a=[],c={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},s={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function g(e){var t=Array.from(e.labels||[]);if(!t.length){t=[];var n=e.getRootNode();if(e.id)for(var o=n.querySelectorAll("label[for = ".concat(e.id,"]")),i=0;i<o.length;i++)t.push(o[i])}return t}var p=function(e){var t,n=e.sourceCapabilities;if((!n||n.firesTouchEvents)&&(e[d]={skip:!0},"click"===e.type)){var o=!1,i=e.composedPath&&e.composedPath();if(i)for(var r=0;r<i.length;r++){if(i[r].nodeType===Node.ELEMENT_NODE)if("label"===i[r].localName)a.push(i[r]);else if(t=i[r],c[t.localName])for(var s=g(i[r]),u=0;u<s.length;u++)o=o||-1<a.indexOf(s[u]);if(i[r]===_.mouse.target)return}if(o)return;e.preventDefault(),e.stopPropagation()}};function n(e){for(var t,n=m?["click"]:i,o=0;o<n.length;o++)t=n[o],e?(a.length=0,document.addEventListener(t,p,!0)):document.removeEventListener(t,p,!0)}function y(e){var t=e.type;if(!l(t))return!1;if("mousemove"!==t)return 0===(void 0===e.button?0:e.button);var n=void 0===e.buttons?1:e.buttons;return babelHelpers.instanceof(e,window.MouseEvent)&&!r&&(n=o[e.which]||0),!!(1&n)}var _={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function b(e,t,n){e.movefn=t,e.upfn=n,document.addEventListener("mousemove",t),document.addEventListener("mouseup",n)}function T(e){document.removeEventListener("mousemove",e.movefn),document.removeEventListener("mouseup",e.upfn),e.movefn=null,e.upfn=null}document.addEventListener("touchend",function(e){_.mouse.mouseIgnoreJob||n(!0),_.mouse.target=e.composedPath()[0],_.mouse.mouseIgnoreJob=Polymer.Debouncer.debounce(_.mouse.mouseIgnoreJob,Polymer.Async.timeOut.after(2500),function(){n(),_.mouse.target=null,_.mouse.mouseIgnoreJob=null})},!!t&&{passive:!0});var w={gestures:{},recognizers:[],deepTargetFind:function(e,t){for(var n=document.elementFromPoint(e,t),o=n;o&&o.shadowRoot&&!window.ShadyDOM;){if(o===(o=o.shadowRoot.elementFromPoint(e,t)))break;o&&(n=o)}return n},_findOriginalTarget:function(e){if(e.composedPath){var t=e.composedPath();return 0<t.length?t[0]:e.target}return e.target},_handleNative:function(e){var t,n=e.type,o=e.currentTarget[h];if(o){var i=o[n];if(i){if(!e[d]&&(e[d]={},"touch"===n.slice(0,5))){var r=(e=e).changedTouches[0];if("touchstart"===n&&1===e.touches.length&&(_.touch.id=r.identifier),_.touch.id!==r.identifier)return;f||"touchstart"!==n&&"touchmove"!==n||w._handleTouchAction(e)}if(!(t=e[d]).skip){for(var s,u=0;u<w.recognizers.length;u++)i[(s=w.recognizers[u]).name]&&!t[s.name]&&s.flow&&-1<s.flow.start.indexOf(e.type)&&s.reset&&s.reset();for(var a,c=0;c<w.recognizers.length;c++)i[(a=w.recognizers[c]).name]&&!t[a.name]&&(t[a.name]=!0,a[n](e))}}}},_handleTouchAction:function(e){var t=e.changedTouches[0],n=e.type;if("touchstart"===n)_.touch.x=t.clientX,_.touch.y=t.clientY,_.touch.scrollDecided=!1;else if("touchmove"===n){if(_.touch.scrollDecided)return;_.touch.scrollDecided=!0;var o=function(e){var t="auto",n=e.composedPath&&e.composedPath();if(n)for(var o,i=0;i<n.length;i++)if((o=n[i])[u]){t=o[u];break}return t}(e),i=!1,r=Math.abs(_.touch.x-t.clientX),s=Math.abs(_.touch.y-t.clientY);e.cancelable&&("none"===o?i=!0:"pan-x"===o?i=r<s:"pan-y"===o&&(i=s<r)),i?e.preventDefault():w.prevent("track")}},addListener:function(e,t,n){return!!this.gestures[t]&&(this._add(e,t,n),!0)},removeListener:function(e,t,n){return!!this.gestures[t]&&(this._remove(e,t,n),!0)},_add:function(e,t,n){var o=this.gestures[t],i=o.deps,r=o.name,s=e[h];s||(e[h]=s={});for(var u,a,c=0;c<i.length;c++)u=i[c],m&&l(u)&&"click"!==u||((a=s[u])||(s[u]=a={_count:0}),0===a._count&&e.addEventListener(u,this._handleNative,v(u)),a[r]=(a[r]||0)+1,a._count=(a._count||0)+1);e.addEventListener(t,n),o.touchAction&&this.setTouchAction(e,o.touchAction)},_remove:function(e,t,n){var o=this.gestures[t],i=o.deps,r=o.name,s=e[h];if(s)for(var u,a,c=0;c<i.length;c++)(a=s[u=i[c]])&&a[r]&&(a[r]=(a[r]||1)-1,a._count=(a._count||1)-1,0===a._count&&e.removeEventListener(u,this._handleNative,v(u)));e.removeEventListener(t,n)},register:function(e){this.recognizers.push(e);for(var t=0;t<e.emits.length;t++)this.gestures[e.emits[t]]=e},_findRecognizerByEvent:function(e){for(var t,n=0;n<this.recognizers.length;n++){t=this.recognizers[n];for(var o=0;o<t.emits.length;o++)if(t.emits[o]===e)return t}return null},setTouchAction:function(e,t){f&&Polymer.Async.microTask.run(function(){e.style.touchAction=t}),e[u]=t},_fire:function(e,t,n){var o=new Event(t,{bubbles:!0,cancelable:!0,composed:!0});if(o.detail=n,e.dispatchEvent(o),o.defaultPrevented){var i=n.preventer||n.sourceEvent;i&&i.preventDefault&&i.preventDefault()}},prevent:function(e){var t=this._findRecognizerByEvent(e);t.info&&(t.info.prevent=!0)},resetMouseCanceller:function(){_.mouse.mouseIgnoreJob&&_.mouse.mouseIgnoreJob.flush()}};w.register({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){T(this.info)},mousedown:function(e){if(y(e)){var t=w._findOriginalTarget(e),n=this;b(this.info,function(e){y(e)||(n._fire("up",t,e),T(n.info))},function(e){y(e)&&n._fire("up",t,e),T(n.info)}),this._fire("down",t,e)}},touchstart:function(e){this._fire("down",w._findOriginalTarget(e),e.changedTouches[0],e)},touchend:function(e){this._fire("up",w._findOriginalTarget(e),e.changedTouches[0],e)},_fire:function(e,t,n,o){w._fire(t,e,{x:n.clientX,y:n.clientY,sourceEvent:n,preventer:o,prevent:function(e){return w.prevent(e)}})}}),w.register({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(e){2<this.moves.length&&this.moves.shift(),this.moves.push(e)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,T(this.info)},hasMovedEnough:function(e,t){if(this.info.prevent)return!1;if(this.info.started)return!0;var n=Math.abs(this.info.x-e),o=Math.abs(this.info.y-t);return 5<=n||5<=o},mousedown:function(e){if(y(e)){var o=w._findOriginalTarget(e),i=this,t=function(e){var t=e.clientX,n=e.clientY;i.hasMovedEnough(t,n)&&(i.info.state=i.info.started?"mouseup"===e.type?"end":"track":"start","start"===i.info.state&&w.prevent("tap"),i.info.addMove({x:t,y:n}),y(e)||(i.info.state="end",T(i.info)),i._fire(o,e),i.info.started=!0)};b(this.info,t,function(e){i.info.started&&t(e),T(i.info)}),this.info.x=e.clientX,this.info.y=e.clientY}},touchstart:function(e){var t=e.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchmove:function(e){var t=w._findOriginalTarget(e),n=e.changedTouches[0],o=n.clientX,i=n.clientY;this.hasMovedEnough(o,i)&&("start"===this.info.state&&w.prevent("tap"),this.info.addMove({x:o,y:i}),this._fire(t,n),this.info.state="track",this.info.started=!0)},touchend:function(e){var t=w._findOriginalTarget(e),n=e.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:n.clientX,y:n.clientY}),this._fire(t,n,e))},_fire:function(e,t){var n,o=this.info.moves[this.info.moves.length-2],i=this.info.moves[this.info.moves.length-1],r=i.x-this.info.x,s=i.y-this.info.y,u=0;o&&(n=i.x-o.x,u=i.y-o.y),w._fire(e,"track",{state:this.info.state,x:t.clientX,y:t.clientY,dx:r,dy:s,ddx:n,ddy:u,sourceEvent:t,hover:function(){return w.deepTargetFind(t.clientX,t.clientY)}})}}),w.register({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},save:function(e){this.info.x=e.clientX,this.info.y=e.clientY},mousedown:function(e){y(e)&&this.save(e)},click:function(e){y(e)&&this.forward(e)},touchstart:function(e){this.save(e.changedTouches[0],e)},touchend:function(e){this.forward(e.changedTouches[0],e)},forward:function(e,t){var n=Math.abs(e.clientX-this.info.x),o=Math.abs(e.clientY-this.info.y),i=w._findOriginalTarget(t||e);!i||s[i.localName]&&i.hasAttribute("disabled")||(isNaN(n)||isNaN(o)||n<=25&&o<=25||function(e){if("click"!==e.type)return!1;if(0===e.detail)return!0;var t=w._findOriginalTarget(e);if(!t.nodeType||t.nodeType!==Node.ELEMENT_NODE)return!0;var n=t.getBoundingClientRect(),o=e.pageX,i=e.pageY;return!(o>=n.left&&o<=n.right&&i>=n.top&&i<=n.bottom)}(e))&&(this.info.prevent||w._fire(i,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:t}))}}),w.findOriginalTarget=w._findOriginalTarget,w.add=w.addListener,w.remove=w.removeListener,Polymer.Gestures=w}()</script><script>!function(){"use strict";var l=Polymer.Gestures;Polymer.GestureEventListeners=Polymer.dedupingMixin(function(e){return function(e){function s(){return babelHelpers.classCallCheck(this,s),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(s).apply(this,arguments))}return babelHelpers.inherits(s,e),babelHelpers.createClass(s,[{key:"_addEventListenerToNode",value:function(e,t,r){l.addListener(e,t,r)||babelHelpers.get(babelHelpers.getPrototypeOf(s.prototype),"_addEventListenerToNode",this).call(this,e,t,r)}},{key:"_removeEventListenerFromNode",value:function(e,t,r){l.removeListener(e,t,r)||babelHelpers.get(babelHelpers.getPrototypeOf(s.prototype),"_removeEventListenerFromNode",this).call(this,e,t,r)}}]),s}(e)})}()</script><script>!function(){"use strict";var l=/:host\(:dir\((ltr|rtl)\)\)/g,i=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,s=/:dir\((?:ltr|rtl)\)/,a=!(!window.ShadyDOM||!window.ShadyDOM.inUse),n=[],o=null,t="";function c(){t=document.documentElement.getAttribute("dir")}function u(e){e.__autoDirOptOut||e.setAttribute("dir",t)}function b(){c(),t=document.documentElement.getAttribute("dir");for(var e=0;e<n.length;e++)u(n[e])}Polymer.DirMixin=Polymer.dedupingMixin(function(e){a||o||(c(),(o=new MutationObserver(b)).observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));var t=Polymer.PropertyAccessors(e),r=function(e){function r(){var e;return babelHelpers.classCallCheck(this,r),(e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(r).call(this))).__autoDirOptOut=!1,e}return babelHelpers.inherits(r,e),babelHelpers.createClass(r,null,[{key:"_processStyleText",value:function(e,t){return e=babelHelpers.get(babelHelpers.getPrototypeOf(r),"_processStyleText",this).call(this,e,t),!a&&s.test(e)&&(e=this._replaceDirInCssText(e),this.__activateDir=!0),e}},{key:"_replaceDirInCssText",value:function(e){var t=e;return t=(t=t.replace(l,':host([dir="$1"])')).replace(i,':host([dir="$2"]) $1')}}]),babelHelpers.createClass(r,[{key:"ready",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(r.prototype),"ready",this).call(this),this.__autoDirOptOut=this.hasAttribute("dir")}},{key:"connectedCallback",value:function(){t.prototype.connectedCallback&&babelHelpers.get(babelHelpers.getPrototypeOf(r.prototype),"connectedCallback",this).call(this),this.constructor.__activateDir&&(o&&o.takeRecords().length&&b(),n.push(this),u(this))}},{key:"disconnectedCallback",value:function(){if(t.prototype.disconnectedCallback&&babelHelpers.get(babelHelpers.getPrototypeOf(r.prototype),"disconnectedCallback",this).call(this),this.constructor.__activateDir){var e=n.indexOf(this);-1<e&&n.splice(e,1)}}}]),r}(t);return r.__activateDir=!1,r})}()</script><script>!function(){"use strict";function c(e){window.HTMLImports?HTMLImports.whenReady(e):e()}Polymer.importHref=function(e,t,n,r){var o=document.head.querySelector('link[href="'+e+'"][import-href]');o||((o=document.createElement("link")).rel="import",o.href=e,o.setAttribute("import-href","")),r&&o.setAttribute("async","");function d(){o.removeEventListener("load",i),o.removeEventListener("error",a)}var i=function(e){d(),o.__dynamicImportLoaded=!0,t&&c(function(){t(e)})},a=function(e){d(),o.parentNode&&o.parentNode.removeChild(o),n&&c(function(){n(e)})};return o.addEventListener("load",i),o.addEventListener("error",a),null==o.parentNode?document.head.appendChild(o):o.__dynamicImportLoaded&&o.dispatchEvent(new Event("load")),o}}()</script><script>!function(){"use strict";var o=!1,f=[],u=[];function i(){o=!0,requestAnimationFrame(function(){o=!1,t(f),setTimeout(function(){!function(t){for(var n=0,e=t.length;n<e;n++)r(t.shift())}(u)})})}function t(t){for(;t.length;)r(t.shift())}function r(t){var n=t[0],e=t[1],o=t[2];try{e.apply(n,o)}catch(t){setTimeout(function(){throw t})}}Polymer.RenderStatus={beforeNextRender:function(t,n,e){o||i(),f.push([t,n,e])},afterNextRender:function(t,n,e){o||i(),u.push([t,n,e])},flush:function(){for(;f.length||u.length;)t(f),t(u);o=!1}}}()</script><script>!function(){"use strict";function e(){document.body.removeAttribute("unresolved")}window.WebComponents?window.addEventListener("WebComponentsReady",e):"interactive"===document.readyState||"complete"===document.readyState?e():window.addEventListener("DOMContentLoaded",e)}()</script><script>!function(){"use strict";function p(r,e,n){return{index:r,removed:e,addedCount:n}}var g=0,m=1,y=2,b=3;function n(r,e,n,t,u,a){var o,f=0,i=0,s=Math.min(n-e,a-u);if(0==e&&0==u&&(f=function(r,e,n){for(var t=0;t<n;t++)if(!k(r[t],e[t]))return t;return n}(r,t,s)),n==r.length&&a==t.length&&(i=function(r,e,n){var t=r.length,u=e.length,a=0;for(;a<n&&k(r[--t],e[--u]);)a++;return a}(r,t,s-f)),u+=f,a-=i,0==(n-=i)-(e+=f)&&0==a-u)return[];if(e==n){for(o=p(e,[],0);u<a;)o.removed.push(t[u++]);return[o]}if(u==a)return[p(e,[],n-e)];var h=function(r){for(var e=r.length-1,n=r[0].length-1,t=r[e][n],u=[];0<e||0<n;)if(0!=e)if(0!=n){var a=r[e-1][n-1],o=r[e-1][n],f=r[e][n-1],i=void 0;(i=o<f?o<a?o:a:f<a?f:a)==a?(a==t?u.push(g):(u.push(m),t=a),e--,n--):t=i==o?(u.push(b),e--,o):(u.push(y),n--,f)}else u.push(b),e--;else u.push(y),n--;return u.reverse(),u}(function(r,e,n,t,u,a){for(var o=a-u+1,f=n-e+1,i=Array(o),s=0;s<o;s++)i[s]=Array(f),i[s][0]=s;for(var h=0;h<f;h++)i[0][h]=h;for(var v=1;v<o;v++)for(var c=1;c<f;c++)if(k(r[e+c-1],t[u+v-1]))i[v][c]=i[v-1][c-1];else{var d=i[v-1][c]+1,l=i[v][c-1]+1;i[v][c]=d<l?d:l}return i}(r,e,n,t,u,a));o=void 0;for(var v=[],c=e,d=u,l=0;l<h.length;l++)switch(h[l]){case g:o&&(v.push(o),o=void 0),c++,d++;break;case m:(o=o||p(c,[],0)).addedCount++,c++,o.removed.push(t[d]),d++;break;case y:(o=o||p(c,[],0)).addedCount++,c++;break;case b:(o=o||p(c,[],0)).removed.push(t[d]),d++}return o&&v.push(o),v}function k(r,e){return r===e}Polymer.ArraySplice={calculateSplices:function(r,e){return n(r,0,r.length,e,0,e.length)}}}()</script><script>!function(){"use strict";function i(e){return"slot"===e.localName}var e=function(){function n(e,t){var s=this;babelHelpers.classCallCheck(this,n),this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=e,this.callback=t,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=function(){s._schedule()},this.connect(),this._schedule()}return babelHelpers.createClass(n,null,[{key:"getFlattenedNodes",value:function(e){return i(e)?(e=e).assignedNodes({flatten:!0}):Array.from(e.childNodes).map(function(e){return i(e)?(e=e).assignedNodes({flatten:!0}):[e]}).reduce(function(e,t){return e.concat(t)},[])}}]),babelHelpers.createClass(n,[{key:"connect",value:function(){var t=this;i(this._target)?this._listenSlots([this._target]):this._target.children&&(this._listenSlots(this._target.children),window.ShadyDOM?this._shadyChildrenObserver=ShadyDOM.observeChildren(this._target,function(e){t._processMutations(e)}):(this._nativeChildrenObserver=new MutationObserver(function(e){t._processMutations(e)}),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}},{key:"disconnect",value:function(){i(this._target)?this._unlistenSlots([this._target]):this._target.children&&(this._unlistenSlots(this._target.children),window.ShadyDOM&&this._shadyChildrenObserver?(ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}},{key:"_schedule",value:function(){var e=this;this._scheduled||(this._scheduled=!0,Polymer.Async.microTask.run(function(){return e.flush()}))}},{key:"_processMutations",value:function(e){this._processSlotMutations(e),this.flush()}},{key:"_processSlotMutations",value:function(e){if(e)for(var t,s=0;s<e.length;s++)(t=e[s]).addedNodes&&this._listenSlots(t.addedNodes),t.removedNodes&&this._unlistenSlots(t.removedNodes)}},{key:"flush",value:function(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;for(var e,t={target:this._target,addedNodes:[],removedNodes:[]},s=this.constructor.getFlattenedNodes(this._target),n=Polymer.ArraySplice.calculateSplices(s,this._effectiveNodes),i=0;i<n.length&&(e=n[i]);i++)for(var r,h=0;h<e.removed.length&&(r=e.removed[h]);h++)t.removedNodes.push(r);for(var l,d=0;d<n.length&&(l=n[d]);d++)for(var o=l.index;o<l.index+l.addedCount;o++)t.addedNodes.push(s[o]);this._effectiveNodes=s;var a=!1;return(t.addedNodes.length||t.removedNodes.length)&&(a=!0,this.callback.call(this._target,t)),a}},{key:"_listenSlots",value:function(e){for(var t,s=0;s<e.length;s++)i(t=e[s])&&t.addEventListener("slotchange",this._boundSchedule)}},{key:"_unlistenSlots",value:function(e){for(var t,s=0;s<e.length;s++)i(t=e[s])&&t.removeEventListener("slotchange",this._boundSchedule)}}]),n}();Polymer.FlattenedNodesObserver=e}()</script><script>!function(){"use strict";var o=[];function h(){for(var n=!!o.length;o.length;)try{o.shift().flush()}catch(n){setTimeout(function(){throw n})}return n}Polymer.enqueueDebouncer=function(n){o.push(n)},Polymer.flush=function(){for(var n,o;n=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),o=h(),n||o;);}}()</script><script>!function(){"use strict";function l(e,t){return o.call(e,t)}var e=Element.prototype,o=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector,n=function(){function t(e){babelHelpers.classCallCheck(this,t),this.node=e}return babelHelpers.createClass(t,[{key:"observeNodes",value:function(e){return new Polymer.FlattenedNodesObserver(this.node,e)}},{key:"unobserveNodes",value:function(e){e.disconnect()}},{key:"notifyObserver",value:function(){}},{key:"deepContains",value:function(e){if(this.node.contains(e))return!0;for(var t=e,o=e.ownerDocument;t&&t!==o&&t!==this.node;)t=t.parentNode||t.host;return t===this.node}},{key:"getOwnerRoot",value:function(){return this.node.getRootNode()}},{key:"getDistributedNodes",value:function(){return"slot"===this.node.localName?this.node.assignedNodes({flatten:!0}):[]}},{key:"getDestinationInsertionPoints",value:function(){for(var e=[],t=this.node.assignedSlot;t;)e.push(t),t=t.assignedSlot;return e}},{key:"importNode",value:function(e,t){return(babelHelpers.instanceof(this.node,Document)?this.node:this.node.ownerDocument).importNode(e,t)}},{key:"getEffectiveChildNodes",value:function(){return Polymer.FlattenedNodesObserver.getFlattenedNodes(this.node)}},{key:"queryDistributedElements",value:function(e){for(var t,o=this.getEffectiveChildNodes(),n=[],r=0,i=o.length;r<i&&(t=o[r]);r++)t.nodeType===Node.ELEMENT_NODE&&l(t,e)&&n.push(t);return n}},{key:"activeElement",get:function(){var e=this.node;return void 0!==e._activeElement?e._activeElement:e.activeElement}}]),t}();!function(o,n){for(var e=function(e){var t=n[e];o[t]=function(){return this.node[t].apply(this.node,arguments)}},t=0;t<n.length;t++)e(t)}(n.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll"]),function(o,n){for(var e=function(e){var t=n[e];Object.defineProperty(o,t,{get:function(){return this.node[t]},configurable:!0})},t=0;t<n.length;t++)e(t)}(n.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList"]),function(o,n){for(var e=function(e){var t=n[e];Object.defineProperty(o,t,{get:function(){return this.node[t]},set:function(e){this.node[t]=e},configurable:!0})},t=0;t<n.length;t++)e(t)}(n.prototype,["textContent","innerHTML"]);var r=function(){function t(e){babelHelpers.classCallCheck(this,t),this.event=e}return babelHelpers.createClass(t,[{key:"rootTarget",get:function(){return this.event.composedPath()[0]}},{key:"localTarget",get:function(){return this.event.target}},{key:"path",get:function(){return this.event.composedPath()}}]),t}();Polymer.DomApi=n,Polymer.DomApi.prototype.cloneNode,Polymer.DomApi.prototype.appendChild,Polymer.DomApi.prototype.insertBefore,Polymer.DomApi.prototype.removeChild,Polymer.DomApi.prototype.replaceChild,Polymer.DomApi.prototype.setAttribute,Polymer.DomApi.prototype.removeAttribute,Polymer.DomApi.prototype.querySelector,Polymer.DomApi.prototype.querySelectorAll,Polymer.dom=function(e){var t;(e=e||document).__domApi||(t=babelHelpers.instanceof(e,Event)?new r(e):new n(e),e.__domApi=t);return e.__domApi},Polymer.dom.matchesSelector=l,Polymer.dom.flush=Polymer.flush,Polymer.dom.addDebouncer=Polymer.enqueueDebouncer}()</script><script>!function(){"use strict";var o=window.ShadyCSS;Polymer.LegacyElementMixin=Polymer.dedupingMixin(function(e){var t=Polymer.DirMixin(Polymer.GestureEventListeners(Polymer.ElementMixin(e))),r={x:"pan-x",y:"pan-y",none:"none",all:"auto"},n=function(e){function i(){var e;return babelHelpers.classCallCheck(this,i),(e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(i).call(this))).isAttached,e.__boundListeners,e._debouncers,e}return babelHelpers.inherits(i,e),babelHelpers.createClass(i,[{key:"created",value:function(){}},{key:"connectedCallback",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(i.prototype),"connectedCallback",this).call(this),this.isAttached=!0,this.attached()}},{key:"attached",value:function(){}},{key:"disconnectedCallback",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(i.prototype),"disconnectedCallback",this).call(this),this.isAttached=!1,this.detached()}},{key:"detached",value:function(){}},{key:"attributeChangedCallback",value:function(e,t,r,n){t!==r&&(babelHelpers.get(babelHelpers.getPrototypeOf(i.prototype),"attributeChangedCallback",this).call(this,e,t,r,n),this.attributeChanged(e,t,r))}},{key:"attributeChanged",value:function(){}},{key:"_initializeProperties",value:function(){var e=Object.getPrototypeOf(this);e.hasOwnProperty("__hasRegisterFinished")||(this._registered(),e.__hasRegisterFinished=!0),babelHelpers.get(babelHelpers.getPrototypeOf(i.prototype),"_initializeProperties",this).call(this),(this.root=this).created(),this._applyListeners()}},{key:"_registered",value:function(){}},{key:"ready",value:function(){this._ensureAttributes(),babelHelpers.get(babelHelpers.getPrototypeOf(i.prototype),"ready",this).call(this)}},{key:"_ensureAttributes",value:function(){}},{key:"_applyListeners",value:function(){}},{key:"serialize",value:function(e){return this._serializeValue(e)}},{key:"deserialize",value:function(e,t){return this._deserializeValue(e,t)}},{key:"reflectPropertyToAttribute",value:function(e,t,r){this._propertyToAttribute(e,t,r)}},{key:"serializeValueToAttribute",value:function(e,t,r){this._valueToNodeAttribute(r||this,e,t)}},{key:"extend",value:function(e,t){if(!e||!t)return e||t;for(var r,n,i=Object.getOwnPropertyNames(t),o=0;o<i.length&&(r=i[o]);o++)(n=Object.getOwnPropertyDescriptor(t,r))&&Object.defineProperty(e,r,n);return e}},{key:"mixin",value:function(e,t){for(var r in t)e[r]=t[r];return e}},{key:"chainObject",value:function(e,t){return e&&t&&e!==t&&(e.__proto__=t),e}},{key:"instanceTemplate",value:function(e){var t=this.constructor._contentForTemplate(e);return document.importNode(t,!0)}},{key:"fire",value:function(e,t,r){r=r||{},t=null==t?{}:t;var n=new Event(e,{bubbles:void 0===r.bubbles||r.bubbles,cancelable:!!r.cancelable,composed:void 0===r.composed||r.composed});return n.detail=t,(r.node||this).dispatchEvent(n),n}},{key:"listen",value:function(e,t,r){e=e||this;var n=this.__boundListeners||(this.__boundListeners=new WeakMap),i=n.get(e);i||(i={},n.set(e,i));var o=t+r;i[o]||(i[o]=this._addMethodEventListenerToNode(e,t,r,this))}},{key:"unlisten",value:function(e,t,r){e=e||this;var n=this.__boundListeners&&this.__boundListeners.get(e),i=t+r,o=n&&n[i];o&&(this._removeEventListenerFromNode(e,t,o),n[i]=null)}},{key:"setScrollDirection",value:function(e,t){Polymer.Gestures.setTouchAction(t||this,r[e]||"auto")}},{key:"$$",value:function(e){return this.root.querySelector(e)}},{key:"distributeContent",value:function(){window.ShadyDOM&&this.shadowRoot&&ShadyDOM.flush()}},{key:"getEffectiveChildNodes",value:function(){return Polymer.dom(this).getEffectiveChildNodes()}},{key:"queryDistributedElements",value:function(e){return Polymer.dom(this).queryDistributedElements(e)}},{key:"getEffectiveChildren",value:function(){return this.getEffectiveChildNodes().filter(function(e){return e.nodeType===Node.ELEMENT_NODE})}},{key:"getEffectiveTextContent",value:function(){for(var e,t=this.getEffectiveChildNodes(),r=[],n=0;e=t[n];n++)e.nodeType!==Node.COMMENT_NODE&&r.push(e.textContent);return r.join("")}},{key:"queryEffectiveChildren",value:function(e){var t=this.queryDistributedElements(e);return t&&t[0]}},{key:"queryAllEffectiveChildren",value:function(e){return this.queryDistributedElements(e)}},{key:"getContentChildNodes",value:function(e){var t=this.root.querySelector(e||"slot");return t?Polymer.dom(t).getDistributedNodes():[]}},{key:"getContentChildren",value:function(e){return this.getContentChildNodes(e).filter(function(e){return e.nodeType===Node.ELEMENT_NODE})}},{key:"isLightDescendant",value:function(e){return this!==e&&this.contains(e)&&this.getRootNode()===e.getRootNode()}},{key:"isLocalDescendant",value:function(e){return this.root===e.getRootNode()}},{key:"scopeSubtree",value:function(){}},{key:"getComputedStyleValue",value:function(e){return o.getComputedStyleValue(this,e)}},{key:"debounce",value:function(e,t,r){return this._debouncers=this._debouncers||{},this._debouncers[e]=Polymer.Debouncer.debounce(this._debouncers[e],0<r?Polymer.Async.timeOut.after(r):Polymer.Async.microTask,t.bind(this))}},{key:"isDebouncerActive",value:function(e){this._debouncers=this._debouncers||{};var t=this._debouncers[e];return!(!t||!t.isActive())}},{key:"flushDebouncer",value:function(e){this._debouncers=this._debouncers||{};var t=this._debouncers[e];t&&t.flush()}},{key:"cancelDebouncer",value:function(e){this._debouncers=this._debouncers||{};var t=this._debouncers[e];t&&t.cancel()}},{key:"async",value:function(e,t){return 0<t?Polymer.Async.timeOut.run(e.bind(this),t):~Polymer.Async.microTask.run(e.bind(this))}},{key:"cancelAsync",value:function(e){e<0?Polymer.Async.microTask.cancel(~e):Polymer.Async.timeOut.cancel(e)}},{key:"create",value:function(e,t){var r=document.createElement(e);if(t)if(r.setProperties)r.setProperties(t);else for(var n in t)r[n]=t[n];return r}},{key:"importHref",value:function(e,t,r,n){var i=t?t.bind(this):null,o=r?r.bind(this):null;return Polymer.importHref(e,i,o,n)}},{key:"elementMatches",value:function(e,t){return Polymer.dom.matchesSelector(t||this,e)}},{key:"toggleAttribute",value:function(e,t,r){r=r||this,1==arguments.length&&(t=!r.hasAttribute(e)),t?r.setAttribute(e,""):r.removeAttribute(e)}},{key:"toggleClass",value:function(e,t,r){r=r||this,1==arguments.length&&(t=!r.classList.contains(e)),t?r.classList.add(e):r.classList.remove(e)}},{key:"transform",value:function(e,t){(t=t||this).style.webkitTransform=e,t.style.transform=e}},{key:"translate3d",value:function(e,t,r,n){n=n||this,this.transform("translate3d("+e+","+t+","+r+")",n)}},{key:"arrayDelete",value:function(e,t){var r;if(Array.isArray(e)){if(0<=(r=e.indexOf(t)))return e.splice(r,1)}else if(0<=(r=Polymer.Path.get(this,e).indexOf(t)))return this.splice(e,r,1);return null}},{key:"_logger",value:function(e,t){var r;switch(Array.isArray(t)&&1===t.length&&Array.isArray(t[0])&&(t=t[0]),e){case"log":case"warn":case"error":(r=console)[e].apply(r,babelHelpers.toConsumableArray(t))}}},{key:"_log",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._logger("log",t)}},{key:"_warn",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._logger("warn",t)}},{key:"_error",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];this._logger("error",t)}},{key:"_logf",value:function(e){for(var t=arguments.length,r=Array(1<t?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return["[%s::%s]",this.is,e].concat(r)}},{key:"domHost",get:function(){var e=this.getRootNode();return babelHelpers.instanceof(e,DocumentFragment)?e.host:e}}],[{key:"importMeta",get:function(){return this.prototype.importMeta}}]),i}(t);return n.prototype.is="",n})}()</script><script>!function(){"use strict";var a={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},n={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},p=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},n);function c(e,r,t,s){for(var i in!function(e,r,t){var s=e._noAccessors;for(var i in e)if(!(i in t))if(s)r[i]=e[i];else{var a=Object.getOwnPropertyDescriptor(e,i);a&&(a.configurable=!0,Object.defineProperty(r,i,a))}}(r,e,s),a)r[i]&&(t[i]=t[i]||[],t[i].push(r[i]))}function s(s,e,r){var i,o={},t=function(e){function a(){return babelHelpers.classCallCheck(this,a),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(a).apply(this,arguments))}return babelHelpers.inherits(a,e),babelHelpers.createClass(a,[{key:"created",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(a.prototype),"created",this).call(this);var e=o.created;if(e)for(var r=0;r<e.length;r++)e[r].call(this)}},{key:"_registered",value:function(){var e=a.prototype;if(!e.hasOwnProperty("__hasRegisterFinished")){e.__hasRegisterFinished=!0,babelHelpers.get(babelHelpers.getPrototypeOf(a.prototype),"_registered",this).call(this),Polymer.legacyOptimizations&&l(e);var r=Object.getPrototypeOf(this),t=o.beforeRegister;if(t)for(var s=0;s<t.length;s++)t[s].call(r);if(t=o.registered)for(var i=0;i<t.length;i++)t[i].call(r)}}},{key:"_applyListeners",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(a.prototype),"_applyListeners",this).call(this);var e=o.listeners;if(e)for(var r,t=0;t<e.length;t++)if(r=e[t])for(var s in r)this._addMethodEventListenerToNode(this,s,r[s])}},{key:"_ensureAttributes",value:function(){var e=o.hostAttributes;if(e)for(var r,t=e.length-1;0<=t;t--)for(var s in r=e[t])this._ensureAttribute(s,r[s]);babelHelpers.get(babelHelpers.getPrototypeOf(a.prototype),"_ensureAttributes",this).call(this)}},{key:"ready",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(a.prototype),"ready",this).call(this);var e=o.ready;if(e)for(var r=0;r<e.length;r++)e[r].call(this)}},{key:"attached",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(a.prototype),"attached",this).call(this);var e=o.attached;if(e)for(var r=0;r<e.length;r++)e[r].call(this)}},{key:"detached",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(a.prototype),"detached",this).call(this);var e=o.detached;if(e)for(var r=0;r<e.length;r++)e[r].call(this)}},{key:"attributeChanged",value:function(e,r,t){babelHelpers.get(babelHelpers.getPrototypeOf(a.prototype),"attributeChanged",this).call(this);var s=o.attributeChanged;if(s)for(var i=0;i<s.length;i++)s[i].call(this,e,r,t)}}],[{key:"_finalizeClass",value:function(){if(this.hasOwnProperty(window.JSCompiler_renameProperty("generatedFrom",this))){if(i)for(var e,r=0;r<i.length;r++)(e=i[r]).properties&&this.createProperties(e.properties),e.observers&&this.createObservers(e.observers,e.properties);s.properties&&this.createProperties(s.properties),s.observers&&this.createObservers(s.observers,s.properties),this._prepareTemplate()}else babelHelpers.get(babelHelpers.getPrototypeOf(a),"_finalizeClass",this).call(this)}},{key:"properties",get:function(){var e={};if(i)for(var r=0;r<i.length;r++)Object.assign(e,i[r].properties);return Object.assign(e,s.properties),e}},{key:"observers",get:function(){var e=[];if(i)for(var r,t=0;t<i.length;t++)(r=i[t]).observers&&(e=e.concat(r.observers));return s.observers&&(e=e.concat(s.observers)),e}}]),a}(e);if(r){Array.isArray(r)||(r=[r]);var a=e.prototype.behaviors;i=function e(r,t,s){t=t||[];for(var i,a=r.length-1;0<=a;a--)(i=r[a])?Array.isArray(i)?e(i,t):t.indexOf(i)<0&&(!s||s.indexOf(i)<0)&&t.unshift(i):console.warn("behavior is null, check for missing or 404 import");return t}(r,null,a),t.prototype.behaviors=a?a.concat(r):i}var l=function(e){i&&function(e,r,t){for(var s=0;s<r.length;s++)c(e,r[s],t,p)}(e,i,o),c(e,s,o,n)};return Polymer.legacyOptimizations||l(t.prototype),t.generatedFrom=s,t}Polymer.Class=function(e,r){e||console.warn("Polymer.Class requires `info` argument");var t=r?r(Polymer.LegacyElementMixin(HTMLElement)):Polymer.LegacyElementMixin(HTMLElement);return t=s(e,t,e.behaviors),e._enableDisableUpgrade&&(t=Polymer.DisableUpgradeMixin(t)),t.is=t.prototype.is=e.is,t},Polymer.mixinBehaviors=function(e,r){return s({},Polymer.LegacyElementMixin(r),e)}}()</script><script>!function(){"use strict";window.Polymer._polymerFn=function(n){var e;return e="function"==typeof n?n:Polymer.Class(n),customElements.define(e.is,e),e}}()</script><script>!function(){"use strict";function l(e,t,r,l,a){var n;a&&(n="object"===babelHelpers.typeof(r)&&null!==r)&&(l=e.__dataTemp[t]);var s=l!==r&&(l==l||r==r);return n&&s&&(e.__dataTemp[t]=r),s}Polymer.MutableData=Polymer.dedupingMixin(function(e){return function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_shouldPropertyChange",value:function(e,t,r){return l(this,e,t,r,!0)}}]),t}(e)}),Polymer.OptionalMutableData=Polymer.dedupingMixin(function(e){return function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_shouldPropertyChange",value:function(e,t,r){return l(this,e,t,r,this.mutableData)}}],[{key:"properties",get:function(){return{mutableData:Boolean}}}]),t}(e)}),Polymer.MutableData._mutablePropertyChange=l}()</script><script>!function(){"use strict";var _=null;function e(){return _}e.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:e,writable:!0}});var d=Polymer.PropertyEffects(e),c=Polymer.MutableData(d);var l=function(e){function n(e){var t;babelHelpers.classCallCheck(this,n),(t=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(n).call(this)))._configureProperties(e),t.root=t._stampTemplate(t.__dataHost);for(var r=t.children=[],o=t.root.firstChild;o;o=o.nextSibling)r.push(o),o.__templatizeInstance=babelHelpers.assertThisInitialized(t);t.__templatizeOwner&&t.__templatizeOwner.__hideTemplateChildren__&&t._showHideChildren(!0);var a=t.__templatizeOptions;return(e&&a.instanceProps||!a.instanceProps)&&t._enableProperties(),t}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,[{key:"_configureProperties",value:function(e){if(this.__templatizeOptions.forwardHostProp)for(var t in this.__hostProps)this._setPendingProperty(t,this.__dataHost["_host_"+t]);for(var r in e)this._setPendingProperty(r,e[r])}},{key:"forwardHostProp",value:function(e,t){this._setPendingPropertyOrPath(e,t,!1,!0)&&this.__dataHost._enqueueClient(this)}},{key:"_addEventListenerToNode",value:function(e,t,r){var o=this;if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(e,t,function(e){e.model=o,r(e)});else{var a=this.__dataHost.__dataHost;a&&a._addEventListenerToNode(e,t,r)}}},{key:"_showHideChildren",value:function(e){for(var t,r=this.children,o=0;o<r.length;o++){if(!!e!=!!(t=r[o]).__hideTemplateChildren__)if(t.nodeType===Node.TEXT_NODE)e?(t.__polymerTextContent__=t.textContent,t.textContent=""):t.textContent=t.__polymerTextContent__;else if("slot"===t.localName)if(e)t.__polymerReplaced__=document.createComment("hidden-slot"),t.parentNode.replaceChild(t.__polymerReplaced__,t);else{var a=t.__polymerReplaced__;a&&a.parentNode.replaceChild(t,a)}else t.style&&(e?(t.__polymerDisplay__=t.style.display,t.style.display="none"):t.style.display=t.__polymerDisplay__);t.__hideTemplateChildren__=e,t._showHideChildren&&t._showHideChildren(e)}}},{key:"_setUnmanagedPropertyToNode",value:function(e,t,r){e.__hideTemplateChildren__&&e.nodeType==Node.TEXT_NODE&&"textContent"==t?e.__polymerTextContent__=r:babelHelpers.get(babelHelpers.getPrototypeOf(n.prototype),"_setUnmanagedPropertyToNode",this).call(this,e,t,r)}},{key:"dispatchEvent",value:function(){return!0}},{key:"parentModel",get:function(){var e=this.__parentModel;if(!e){var t;for(e=this;(t=(e=e.__dataHost.__dataHost).__templatizeOptions)&&!t.parentModel;);this.__parentModel=e}return e}}]),n}(Polymer.PropertyEffects(function(){return function e(){babelHelpers.classCallCheck(this,e)}}()));l.prototype.__dataHost,l.prototype.__templatizeOptions,l.prototype._methodHost,l.prototype.__templatizeOwner,l.prototype.__hostProps;var n=Polymer.MutableData(l);function s(e){var t=e.__dataHost;return t&&t._methodHost||t}function i(e,t,r){var o=r.mutableData?n:l;Polymer.Templatize.mixin&&(o=Polymer.Templatize.mixin(o));var a=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),t}(o);return a.prototype.__templatizeOptions=r,a.prototype._bindTemplate(e),function(e,t,r,o){var a=r.hostProps||{};for(var n in o.instanceProps){delete a[n];var l=o.notifyInstanceProp;l&&e.prototype._addPropertyEffect(n,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:u(n,l)})}if(o.forwardHostProp&&t.__dataHost)for(var s in a)e.prototype._addPropertyEffect(s,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:function(e,t,r){e.__dataHost._setPendingPropertyOrPath("_host_"+t,r[t],!0,!0)}})}(a,e,t,r),a}function p(e,t,r){var o,a,n=r.forwardHostProp;if(n){var l=t.templatizeTemplateClass;if(!l){var s=r.mutableData?c:d;l=t.templatizeTemplateClass=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),t}(s);var i=t.hostProps;for(var p in i)l.prototype._addPropertyEffect("_host_"+p,l.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:h(p,n)}),l.prototype._createNotifyingProperty("_host_"+p)}a=l,_=o=e,Object.setPrototypeOf(o,a.prototype),new a,_=null,e.__dataProto&&Object.assign(e.__data,e.__dataProto),e.__dataTemp={},e.__dataPending=null,e.__dataOld=null,e._enableProperties()}}function h(e,o){return function(e,t,r){o.call(e.__templatizeOwner,t.substring("_host_".length),r[t])}}function u(e,o){return function(e,t,r){o.call(e.__templatizeOwner,e,t,r[t])}}Polymer.Templatize={templatize:function(e,t,r){if(Polymer.strictTemplatePolicy&&!s(e))throw new Error("strictTemplatePolicy: template owner not trusted");if(r=r||{},e.__templatizeOwner)throw new Error("A <template> can only be templatized once");var o=((e.__templatizeOwner=t)?t.constructor:l)._parseTemplate(e),a=o.templatizeInstanceClass;a||(a=i(e,o,r),o.templatizeInstanceClass=a),p(e,o,r);var n=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),t}(a);return n.prototype._methodHost=s(e),n.prototype.__dataHost=e,n.prototype.__templatizeOwner=t,n.prototype.__hostProps=o.hostProps,n=n},modelForElement:function(e,t){for(var r;t;)if(r=t.__templatizeInstance){if(r.__dataHost==e)return r;t=r.__dataHost}else t=t.parentNode;return null}},Polymer.TemplateInstanceBase=l}()</script><script>!function(){"use strict";Polymer.TemplateInstanceBase;Polymer.Templatizer={templatize:function(t,e){this._templatizerTemplate=t,this.ctor=Polymer.Templatize.templatize(t,this,{mutableData:!!e,parentModel:this._parentModel,instanceProps:this._instanceProps,forwardHostProp:this._forwardHostPropV2,notifyInstanceProp:this._notifyInstancePropV2})},stamp:function(t){return new this.ctor(t)},modelForElement:function(t){return Polymer.Templatize.modelForElement(this._templatizerTemplate,t)}}}()</script><script>!function(){"use strict";var e=function(e){function t(){var e;if(babelHelpers.classCallCheck(this,t),e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this)),Polymer.strictTemplatePolicy)throw new Error("strictTemplatePolicy: dom-bind not allowed");return e.root=null,e.$=null,e.__children=null,e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,null,[{key:"observedAttributes",get:function(){return["mutable-data"]}}]),babelHelpers.createClass(t,[{key:"attributeChangedCallback",value:function(){this.mutableData=!0}},{key:"connectedCallback",value:function(){this.style.display="none",this.render()}},{key:"disconnectedCallback",value:function(){this.__removeChildren()}},{key:"__insertChildren",value:function(){this.parentNode.insertBefore(this.root,this)}},{key:"__removeChildren",value:function(){if(this.__children)for(var e=0;e<this.__children.length;e++)this.root.appendChild(this.__children[e])}},{key:"render",value:function(){var e,t=this;if(!this.__children){if(!(e=e||this.querySelector("template"))){var r=new MutationObserver(function(){if(!(e=t.querySelector("template")))throw new Error("dom-bind requires a <template> child");r.disconnect(),t.render()});return void r.observe(this,{childList:!0})}this.root=this._stampTemplate(e),this.$=this.root.$,this.__children=[];for(var i=this.root.firstChild;i;i=i.nextSibling)this.__children[this.__children.length]=i;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}}]),t}(Polymer.GestureEventListeners(Polymer.OptionalMutableData(Polymer.PropertyEffects(HTMLElement))));customElements.define("dom-bind",e),Polymer.DomBind=e}()</script><script>!function(){"use strict";var a=function(){function r(e){babelHelpers.classCallCheck(this,r),this.value=e.toString()}return babelHelpers.createClass(r,[{key:"toString",value:function(){return this.value}}]),r}();function o(e){if(babelHelpers.instanceof(e,a))return e.value;throw new Error("non-literal value passed to Polymer.htmlLiteral: ".concat(e))}Polymer.html=function(n){for(var e=document.createElement("template"),r=arguments.length,t=Array(1<r?r-1:0),l=1;l<r;l++)t[l-1]=arguments[l];return e.innerHTML=t.reduce(function(e,r,t){return e+function(e){if(babelHelpers.instanceof(e,HTMLTemplateElement))return e.innerHTML;if(babelHelpers.instanceof(e,a))return o(e);throw new Error("non-template value passed to Polymer.html: ".concat(e))}(r)+n[t+1]},n[0]),e},Polymer.htmlLiteral=function(n){for(var e=arguments.length,r=Array(1<e?e-1:0),t=1;t<e;t++)r[t-1]=arguments[t];return new a(r.reduce(function(e,r,t){return e+o(r)+n[t+1]},n[0]))}}()</script><script>!function(){"use strict";Polymer.Element=Polymer.ElementMixin(HTMLElement),Polymer.html=Polymer.html}()</script><script>!function(){"use strict";Polymer.TemplateInstanceBase;var e=function(e){function n(){var e;return babelHelpers.classCallCheck(this,n),(e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(n).call(this))).__instances=[],e.__limit=1/0,e.__pool=[],e.__renderDebouncer=null,e.__itemsIdxToInstIdx={},e.__chunkCount=null,e.__lastChunkTime=null,e.__sortFn=null,e.__filterFn=null,e.__observePaths=null,e.__ctor=null,e.__isDetached=!0,e.template=null,e}return babelHelpers.inherits(n,e),babelHelpers.createClass(n,null,[{key:"is",get:function(){return"dom-repeat"}},{key:"template",get:function(){return null}},{key:"properties",get:function(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!0,readOnly:!0},initialCount:{type:Number,observer:"__initializeChunking"},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"}}}},{key:"observers",get:function(){return["__itemsChanged(items.*)"]}}]),babelHelpers.createClass(n,[{key:"disconnectedCallback",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(n.prototype),"disconnectedCallback",this).call(this),this.__isDetached=!0;for(var e=0;e<this.__instances.length;e++)this.__detachInstance(e)}},{key:"connectedCallback",value:function(){if(babelHelpers.get(babelHelpers.getPrototypeOf(n.prototype),"connectedCallback",this).call(this),this.style.display="none",this.__isDetached){this.__isDetached=!1;for(var e=this.parentNode,t=0;t<this.__instances.length;t++)this.__attachInstance(t,e)}}},{key:"__ensureTemplatized",value:function(){var e=this;if(!this.__ctor){var t=this.template=this.querySelector("template");if(!t){var n=new MutationObserver(function(){if(!e.querySelector("template"))throw new Error("dom-repeat requires a <template> child");n.disconnect(),e.__render()});return n.observe(this,{childList:!0}),!1}var i={};i[this.as]=!0,i[this.indexAs]=!0,i[this.itemsIndexAs]=!0,this.__ctor=Polymer.Templatize.templatize(t,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:i,forwardHostProp:function(e,t){for(var n,i=this.__instances,s=0;s<i.length&&(n=i[s]);s++)n.forwardHostProp(e,t)},notifyInstanceProp:function(e,t,n){if(Polymer.Path.matches(this.as,t)){var i=e[this.itemsIndexAs];t==this.as&&(this.items[i]=n);var s=Polymer.Path.translate(this.as,"items."+i,t);this.notifyPath(s,n)}}})}return!0}},{key:"__getMethodHost",value:function(){return this.__dataHost._methodHost||this.__dataHost}},{key:"__functionFromPropertyValue",value:function(e){if("string"!=typeof e)return e;var t=e,n=this.__getMethodHost();return function(){return n[t].apply(n,arguments)}}},{key:"__sortChanged",value:function(e){this.__sortFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}},{key:"__filterChanged",value:function(e){this.__filterFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}},{key:"__computeFrameTime",value:function(e){return Math.ceil(1e3/e)}},{key:"__initializeChunking",value:function(){this.initialCount&&(this.__limit=this.initialCount,this.__chunkCount=this.initialCount,this.__lastChunkTime=performance.now())}},{key:"__tryRenderChunk",value:function(){this.items&&this.__limit<this.items.length&&this.__debounceRender(this.__requestRenderChunk)}},{key:"__requestRenderChunk",value:function(){var e=this;requestAnimationFrame(function(){return e.__renderChunk()})}},{key:"__renderChunk",value:function(){var e=performance.now(),t=this._targetFrameTime/(e-this.__lastChunkTime);this.__chunkCount=Math.round(this.__chunkCount*t)||1,this.__limit+=this.__chunkCount,this.__lastChunkTime=e,this.__debounceRender(this.__render)}},{key:"__observeChanged",value:function(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}},{key:"__itemsChanged",value:function(e){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(e.path,e.value)||(this.__initializeChunking(),this.__debounceRender(this.__render))}},{key:"__handleObservedPaths",value:function(e){if(this.__sortFn||this.__filterFn)if(e){if(this.__observePaths)for(var t=this.__observePaths,n=0;n<t.length;n++)0===e.indexOf(t[n])&&this.__debounceRender(this.__render,this.delay)}else this.__debounceRender(this.__render,this.delay)}},{key:"__debounceRender",value:function(e,t){var n=1<arguments.length&&void 0!==t?t:0;this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,0<n?Polymer.Async.timeOut.after(n):Polymer.Async.microTask,e.bind(this)),Polymer.enqueueDebouncer(this.__renderDebouncer)}},{key:"render",value:function(){this.__debounceRender(this.__render),Polymer.flush()}},{key:"__render",value:function(){this.__ensureTemplatized()&&(this.__applyFullRefresh(),this.__pool.length=0,this._setRenderedItemCount(this.__instances.length),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this.__tryRenderChunk())}},{key:"__applyFullRefresh",value:function(){for(var i=this,s=this.items||[],e=Array(s.length),t=0;t<s.length;t++)e[t]=t;this.__filterFn&&(e=e.filter(function(e,t,n){return i.__filterFn(s[e],t,n)})),this.__sortFn&&e.sort(function(e,t){return i.__sortFn(s[e],s[t])});for(var n=this.__itemsIdxToInstIdx={},r=0,a=Math.min(e.length,this.__limit);r<a;r++){var _=this.__instances[r],o=e[r],h=s[o];n[o]=r,_?(_._setPendingProperty(this.as,h),_._setPendingProperty(this.indexAs,r),_._setPendingProperty(this.itemsIndexAs,o),_._flushProperties()):this.__insertInstance(h,r,o)}for(var l=this.__instances.length-1;r<=l;l--)this.__detachAndRemoveInstance(l)}},{key:"__detachInstance",value:function(e){for(var t,n=this.__instances[e],i=0;i<n.children.length;i++)t=n.children[i],n.root.appendChild(t);return n}},{key:"__attachInstance",value:function(e,t){var n=this.__instances[e];t.insertBefore(n.root,this)}},{key:"__detachAndRemoveInstance",value:function(e){var t=this.__detachInstance(e);t&&this.__pool.push(t),this.__instances.splice(e,1)}},{key:"__stampInstance",value:function(e,t,n){var i={};return i[this.as]=e,i[this.indexAs]=t,i[this.itemsIndexAs]=n,new this.__ctor(i)}},{key:"__insertInstance",value:function(e,t,n){var i=this.__pool.pop();i?(i._setPendingProperty(this.as,e),i._setPendingProperty(this.indexAs,t),i._setPendingProperty(this.itemsIndexAs,n),i._flushProperties()):i=this.__stampInstance(e,t,n);var s=this.__instances[t+1],r=s?s.children[0]:this;return this.parentNode.insertBefore(i.root,r),this.__instances[t]=i}},{key:"_showHideChildren",value:function(e){for(var t=0;t<this.__instances.length;t++)this.__instances[t]._showHideChildren(e)}},{key:"__handleItemPath",value:function(e,t){var n=e.slice(6),i=n.indexOf("."),s=i<0?n:n.substring(0,i);if(s==parseInt(s,10)){var r=i<0?"":n.substring(i+1);this.__handleObservedPaths(r);var a=this.__itemsIdxToInstIdx[s],_=this.__instances[a];if(_){var o=this.as+(r?"."+r:"");_._setPendingPropertyOrPath(o,t,!1,!0),_._flushProperties()}return!0}}},{key:"itemForElement",value:function(e){var t=this.modelForElement(e);return t&&t[this.as]}},{key:"indexForElement",value:function(e){var t=this.modelForElement(e);return t&&t[this.indexAs]}},{key:"modelForElement",value:function(e){return Polymer.Templatize.modelForElement(this.template,e)}}]),n}(Polymer.OptionalMutableData(Polymer.Element));customElements.define(e.is,e),Polymer.DomRepeat=e}()</script><script>!function(){"use strict";var e=function(e){function t(){var e;return babelHelpers.classCallCheck(this,t),(e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this))).__renderDebouncer=null,e.__invalidProps=null,e.__instance=null,e._lastIf=!1,e.__ctor=null,e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,null,[{key:"is",get:function(){return"dom-if"}},{key:"template",get:function(){return null}},{key:"properties",get:function(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"}}}}]),babelHelpers.createClass(t,[{key:"__debounceRender",value:function(){var e=this;this.__renderDebouncer=Polymer.Debouncer.debounce(this.__renderDebouncer,Polymer.Async.microTask,function(){return e.__render()}),Polymer.enqueueDebouncer(this.__renderDebouncer)}},{key:"disconnectedCallback",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"disconnectedCallback",this).call(this),this.parentNode&&(this.parentNode.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||this.parentNode.host)||this.__teardownInstance()}},{key:"connectedCallback",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),this.style.display="none",this.if&&this.__debounceRender()}},{key:"render",value:function(){Polymer.flush()}},{key:"__render",value:function(){if(this.if){if(!this.__ensureInstance())return;this._showHideChildren()}else this.restamp&&this.__teardownInstance();!this.restamp&&this.__instance&&this._showHideChildren(),this.if!=this._lastIf&&(this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this._lastIf=this.if)}},{key:"__ensureInstance",value:function(){var e=this,t=this.parentNode;if(t){if(!this.__ctor){var n=this.querySelector("template");if(!n){var i=new MutationObserver(function(){if(!e.querySelector("template"))throw new Error("dom-if requires a <template> child");i.disconnect(),e.__render()});return i.observe(this,{childList:!0}),!1}this.__ctor=Polymer.Templatize.templatize(n,this,{mutableData:!0,forwardHostProp:function(e,t){this.__instance&&(this.if?this.__instance.forwardHostProp(e,t):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[Polymer.Path.root(e)]=!0))}})}if(this.__instance){this.__syncHostProperties();var s=this.__instance.children;if(s&&s.length)if(this.previousSibling!==s[s.length-1])for(var r,o=0;o<s.length&&(r=s[o]);o++)t.insertBefore(r,this)}else this.__instance=new this.__ctor,t.insertBefore(this.__instance.root,this)}return!0}},{key:"__syncHostProperties",value:function(){var e=this.__invalidProps;if(e){for(var t in e)this.__instance._setPendingProperty(t,this.__dataHost[t]);this.__invalidProps=null,this.__instance._flushProperties()}}},{key:"__teardownInstance",value:function(){if(this.__instance){var e=this.__instance.children;if(e&&e.length){var t=e[0].parentNode;if(t)for(var n,i=0;i<e.length&&(n=e[i]);i++)t.removeChild(n)}this.__instance=null,this.__invalidProps=null}}},{key:"_showHideChildren",value:function(){var e=this.__hideTemplateChildren__||!this.if;this.__instance&&this.__instance._showHideChildren(e)}}]),t}(Polymer.Element);customElements.define(e.is,e),Polymer.DomIf=e}()</script><script>!function(){"use strict";var e=Polymer.dedupingMixin(function(e){return function(e){function t(){var e;return babelHelpers.classCallCheck(this,t),(e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this))).__lastItems=null,e.__lastMulti=null,e.__selectedMap=null,e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,null,[{key:"properties",get:function(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}},{key:"observers",get:function(){return["__updateSelection(multi, items.*)"]}}]),babelHelpers.createClass(t,[{key:"__updateSelection",value:function(e,t){var s=t.path;if("items"==s){var l=t.base||[],i=this.__lastItems;if(e!==this.__lastMulti&&this.clearSelection(),i){var n=Polymer.ArraySplice.calculateSplices(l,i);this.__applySplices(n)}this.__lastItems=l,this.__lastMulti=e}else if("items.splices"==t.path)this.__applySplices(t.value.indexSplices);else{var a=s.slice("items.".length),c=parseInt(a,10);a.indexOf(".")<0&&a==c&&this.__deselectChangedIdx(c)}}},{key:"__applySplices",value:function(i){for(var n=this,a=this.__selectedMap,e=function(e){var s=i[e];a.forEach(function(e,t){e<s.index||(e>=s.index+s.removed.length?a.set(t,e+s.addedCount-s.removed.length):a.set(t,-1))});for(var t,l=0;l<s.addedCount;l++)t=s.index+l,a.has(n.items[t])&&a.set(n.items[t],t)},t=0;t<i.length;t++)e(t);this.__updateLinks();var s=0;a.forEach(function(e,t){e<0?(n.multi?n.splice("selected",s,1):n.selected=n.selectedItem=null,a.delete(t)):s++})}},{key:"__updateLinks",value:function(){var t=this;if(this.__dataLinkedPaths={},this.multi){var s=0;this.__selectedMap.forEach(function(e){0<=e&&t.linkPaths("items."+e,"selected."+s++)})}else this.__selectedMap.forEach(function(e){t.linkPaths("selected","items."+e),t.linkPaths("selectedItem","items."+e)})}},{key:"clearSelection",value:function(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}},{key:"isSelected",value:function(e){return this.__selectedMap.has(e)}},{key:"isIndexSelected",value:function(e){return this.isSelected(this.items[e])}},{key:"__deselectChangedIdx",value:function(e){var s=this,l=this.__selectedIndexForItemIndex(e);if(0<=l){var i=0;this.__selectedMap.forEach(function(e,t){l==i++&&s.deselect(t)})}}},{key:"__selectedIndexForItemIndex",value:function(e){var t=this.__dataLinkedPaths["items."+e];if(t)return parseInt(t.slice("selected.".length),10)}},{key:"deselect",value:function(e){var t,s=this.__selectedMap.get(e);0<=s&&(this.__selectedMap.delete(e),this.multi&&(t=this.__selectedIndexForItemIndex(s)),this.__updateLinks(),this.multi?this.splice("selected",t,1):this.selected=this.selectedItem=null)}},{key:"deselectIndex",value:function(e){this.deselect(this.items[e])}},{key:"select",value:function(e){this.selectIndex(this.items.indexOf(e))}},{key:"selectIndex",value:function(e){var t=this.items[e];this.isSelected(t)?this.toggle&&this.deselectIndex(e):(this.multi||this.__selectedMap.clear(),this.__selectedMap.set(t,e),this.__updateLinks(),this.multi?this.push("selected",t):this.selected=this.selectedItem=t)}}]),t}(Polymer.ElementMixin(e))}),t=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,null,[{key:"is",get:function(){return"array-selector"}}]),t}((Polymer.ArraySelectorMixin=e)(Polymer.Element));customElements.define(t.is,t),Polymer.ArraySelector=t}()</script><script>(function(){"use strict";var e,n=null,o=window.HTMLImports&&window.HTMLImports.whenReady||null;function S(t){requestAnimationFrame(function(){o?o(t):(n||(n=new Promise(function(t){e=t}),"complete"===document.readyState?e():document.addEventListener("readystatechange",function(){"complete"===document.readyState&&e()})),n.then(function(){t&&t()}))})}var i=null,a=null;function t(){this.customStyles=[],this.enqueued=!1,S(function(){window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()})}function d(t){!t.enqueued&&a&&(t.enqueued=!0,S(a))}function s(t,e){for(var n in e)null===n?t.style.removeProperty(n):t.style.setProperty(n,e[n])}t.prototype.c=function(t){t.__seenByShadyCSS||(t.__seenByShadyCSS=!0,this.customStyles.push(t),d(this))},t.prototype.b=function(t){return t.__shadyCSSCachedStyle?t.__shadyCSSCachedStyle:t.getStyle?t.getStyle():t},t.prototype.a=function(){for(var t,e=this.customStyles,n=0;n<e.length;n++)if(!(t=e[n]).__shadyCSSCachedStyle){var o=this.b(t);o&&(o=o.__appliedElement||o,i&&i(o),t.__shadyCSSCachedStyle=o)}return e},t.prototype.addCustomStyle=t.prototype.c,t.prototype.getStyleForCustomStyle=t.prototype.b,t.prototype.processStyles=t.prototype.a,Object.defineProperties(t.prototype,{transformCallback:{get:function(){return i},set:function(t){i=t}},validateCallback:{get:function(){return a},set:function(t){var e=!1;a||(e=!0),a=t,e&&d(this)}}});var u,r,y=!(window.ShadyDOM&&window.ShadyDOM.inUse);function l(t){u=(!t||!t.shimcssproperties)&&(y||!(navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)||!window.CSS||!CSS.supports||!CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(r=window.ShadyCSS.cssBuild);var c=!(!window.ShadyCSS||!window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?u=window.ShadyCSS.nativeCss:window.ShadyCSS?(l(window.ShadyCSS),window.ShadyCSS=void 0):l(window.WebComponents&&window.WebComponents.flags);var p=u,w=r,h=new t;window.ShadyCSS||(window.ShadyCSS={prepareTemplate:function(){},prepareTemplateDom:function(){},prepareTemplateStyles:function(){},styleSubtree:function(t,e){h.a(),s(t,e)},styleElement:function(){h.a()},styleDocument:function(t){h.a(),s(document.body,t)},getComputedStyleValue:function(t,e){return(t=window.getComputedStyle(t).getPropertyValue(e))?t.trim():""},flushCustomStyles:function(){},nativeCss:p,nativeShadow:y,cssBuild:w,disableRuntime:c}),window.ShadyCSS.CustomStyleInterface=h}).call(this)</script><script>!function(){"use strict";var l="include",s=window.ShadyCSS.CustomStyleInterface,e=function(e){function t(){var e;return babelHelpers.classCallCheck(this,t),(e=babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).call(this)))._style=null,s.addCustomStyle(babelHelpers.assertThisInitialized(e)),e}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"getStyle",value:function(){if(this._style)return this._style;var e=this.querySelector("style");if(!e)return null;var t=(this._style=e).getAttribute(l);return t&&(e.removeAttribute(l),e.textContent=Polymer.StyleGather.cssFromModules(t)+e.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}]),t}(babelHelpers.wrapNativeSuper(HTMLElement));window.customElements.define("custom-style",e),Polymer.CustomStyle=e}()</script><script>!function(){"use strict";var r;r=Polymer.MutableData._mutablePropertyChange,Polymer.MutableDataBehavior={_shouldPropertyChange:function(t,a,e){return r(this,t,a,e,!0)}},Polymer.OptionalMutableDataBehavior={properties:{mutableData:Boolean},_shouldPropertyChange:function(t,a,e){return r(this,t,a,e,this.mutableData)}}}()</script><script>Polymer.Base=Polymer.LegacyElementMixin(HTMLElement).prototype,Polymer.html=Polymer.html</script><dom-module id="iron-flex"assetpath="../../bower_components/iron-flex-layout/"><template><style>.layout.horizontal,
      .layout.vertical{display:-ms-flexbox;display:-webkit-flex;display:flex;}.layout.inline{display:-ms-inline-flexbox;display:-webkit-inline-flex;display:inline-flex;}.layout.horizontal{-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;}.layout.vertical{-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column;}.layout.wrap{-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;}.layout.no-wrap{-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;}.layout.center,
      .layout.center-center{-ms-flex-align:center;-webkit-align-items:center;align-items:center;}.layout.center-justified,
      .layout.center-center{-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}.flex{-ms-flex:1 1 0.000000001px;-webkit-flex:1;flex:1;-webkit-flex-basis:0.000000001px;flex-basis:0.000000001px;}.flex-auto{-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto;}.flex-none{-ms-flex:none;-webkit-flex:none;flex:none;}</style></template></dom-module><dom-module id="iron-flex-reverse"assetpath="../../bower_components/iron-flex-layout/"><template><style>.layout.horizontal-reverse,
      .layout.vertical-reverse{display:-ms-flexbox;display:-webkit-flex;display:flex;}.layout.horizontal-reverse{-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse;}.layout.vertical-reverse{-ms-flex-direction:column-reverse;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;}.layout.wrap-reverse{-ms-flex-wrap:wrap-reverse;-webkit-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;}</style></template></dom-module><dom-module id="iron-flex-alignment"assetpath="../../bower_components/iron-flex-layout/"><template><style>.layout.start{-ms-flex-align:start;-webkit-align-items:flex-start;align-items:flex-start;}.layout.center,
      .layout.center-center{-ms-flex-align:center;-webkit-align-items:center;align-items:center;}.layout.end{-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end;}.layout.baseline{-ms-flex-align:baseline;-webkit-align-items:baseline;align-items:baseline;}.layout.start-justified{-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;}.layout.center-justified,
      .layout.center-center{-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;}.layout.end-justified{-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;}.layout.around-justified{-ms-flex-pack:distribute;-webkit-justify-content:space-around;justify-content:space-around;}.layout.justified{-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;}.self-start{-ms-align-self:flex-start;-webkit-align-self:flex-start;align-self:flex-start;}.self-center{-ms-align-self:center;-webkit-align-self:center;align-self:center;}.self-end{-ms-align-self:flex-end;-webkit-align-self:flex-end;align-self:flex-end;}.self-stretch{-ms-align-self:stretch;-webkit-align-self:stretch;align-self:stretch;}.self-baseline{-ms-align-self:baseline;-webkit-align-self:baseline;align-self:baseline;}.layout.start-aligned{-ms-flex-line-pack:start;-ms-align-content:flex-start;-webkit-align-content:flex-start;align-content:flex-start;}.layout.end-aligned{-ms-flex-line-pack:end;-ms-align-content:flex-end;-webkit-align-content:flex-end;align-content:flex-end;}.layout.center-aligned{-ms-flex-line-pack:center;-ms-align-content:center;-webkit-align-content:center;align-content:center;}.layout.between-aligned{-ms-flex-line-pack:justify;-ms-align-content:space-between;-webkit-align-content:space-between;align-content:space-between;}.layout.around-aligned{-ms-flex-line-pack:distribute;-ms-align-content:space-around;-webkit-align-content:space-around;align-content:space-around;}</style></template></dom-module><dom-module id="iron-flex-factors"assetpath="../../bower_components/iron-flex-layout/"><template><style>.flex,
      .flex-1{-ms-flex:1 1 0.000000001px;-webkit-flex:1;flex:1;-webkit-flex-basis:0.000000001px;flex-basis:0.000000001px;}.flex-2{-ms-flex:2;-webkit-flex:2;flex:2;}.flex-3{-ms-flex:3;-webkit-flex:3;flex:3;}.flex-4{-ms-flex:4;-webkit-flex:4;flex:4;}.flex-5{-ms-flex:5;-webkit-flex:5;flex:5;}.flex-6{-ms-flex:6;-webkit-flex:6;flex:6;}.flex-7{-ms-flex:7;-webkit-flex:7;flex:7;}.flex-8{-ms-flex:8;-webkit-flex:8;flex:8;}.flex-9{-ms-flex:9;-webkit-flex:9;flex:9;}.flex-10{-ms-flex:10;-webkit-flex:10;flex:10;}.flex-11{-ms-flex:11;-webkit-flex:11;flex:11;}.flex-12{-ms-flex:12;-webkit-flex:12;flex:12;}</style></template></dom-module><dom-module id="iron-positioning"assetpath="../../bower_components/iron-flex-layout/"><template><style>.block{display:block;}[hidden]{display:none !important;}.invisible{visibility:hidden !important;}.relative{position:relative;}.fit{position:absolute;top:0;right:0;bottom:0;left:0;}body.fullbleed{margin:0;height:100vh;}.scroll{-webkit-overflow-scrolling:touch;overflow:auto;}.fixed-bottom,
      .fixed-left,
      .fixed-right,
      .fixed-top{position:fixed;}.fixed-top{top:0;left:0;right:0;}.fixed-right{top:0;right:0;bottom:0;}.fixed-bottom{right:0;bottom:0;left:0;}.fixed-left{top:0;bottom:0;left:0;}</style></template></dom-module><script>!function(){var e=new Set;Polymer.IronResizableBehavior={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):(e.delete(this),window.removeEventListener("resize",this._boundNotifyResize)),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach(function(e){this.resizerShouldNotify(e)&&this._notifyDescendant(e)},this),this._fireResize())},assignParentResizable:function(e){this._parentResizable&&this._parentResizable.stopResizeNotificationsFor(this),(this._parentResizable=e)&&-1===e._interestedResizables.indexOf(this)&&(e._interestedResizables.push(this),e.listen(this,"iron-resize","_onDescendantIronResize"))},stopResizeNotificationsFor:function(e){var i=this._interestedResizables.indexOf(e);-1<i&&(this._interestedResizables.splice(i,1),this.unlisten(e,"iron-resize","_onDescendantIronResize"))},resizerShouldNotify:function(){return!0},_onDescendantIronResize:function(e){this._notifyingDescendant?e.stopPropagation():Polymer.Settings.useShadow||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(e){var i=Polymer.dom(e).rootTarget;i!==this&&(i.assignParentResizable(this),this._notifyDescendant(i),e.stopPropagation())},_parentResizableChanged:function(e){e&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(e){this.isAttached&&(this._notifyingDescendant=!0,e.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if("loading"===document.readyState){var i=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",function e(){document.removeEventListener("readystatechange",e),i()})}else this._findParent(),this._parentResizable?this._parentResizable._interestedResizables.forEach(function(e){e!==this&&e._findParent()},this):(e.forEach(function(e){e!==this&&e._findParent()},this),window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())},_findParent:function(){this.assignParentResizable(null),this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable?e.delete(this):e.add(this)}}}()</script><script>Polymer.IronSelection=function(e){this.selection=[],this.selectCallback=e},Polymer.IronSelection.prototype={get:function(){return this.multi?this.selection.slice():this.selection[0]},clear:function(t){this.selection.slice().forEach(function(e){(!t||t.indexOf(e)<0)&&this.setItemSelected(e,!1)},this)},isSelected:function(e){return 0<=this.selection.indexOf(e)},setItemSelected:function(e,t){if(null!=e&&t!==this.isSelected(e)){if(t)this.selection.push(e);else{var i=this.selection.indexOf(e);0<=i&&this.selection.splice(i,1)}this.selectCallback&&this.selectCallback(e,t)}},select:function(e){this.multi?this.toggle(e):this.get()!==e&&(this.setItemSelected(this.get(),!1),this.setItemSelected(e,!0))},toggle:function(e){this.setItemSelected(e,!this.isSelected(e))}}</script><script>Polymer.IronSelectableBehavior={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1,"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this),this._selection=new Polymer.IronSelection(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this),this._addListener(this.activateEvent)},detached:function(){this._observer&&Polymer.dom(this).unobserveNodes(this._observer),this._removeListener(this.activateEvent)},indexOf:function(e){return this.items?this.items.indexOf(e):-1},select:function(e){this.selected=e},selectPrevious:function(){var e=this.items.length,t=(this._valueToIndex(this.selected)-1+e)%e;this.selected=this._indexToValue(t)},selectNext:function(){var e=(+this._valueToIndex(this.selected)+1)%this.items.length;this.selected=this._indexToValue(e)},selectIndex:function(e){this.select(this._indexToValue(e))},forceSynchronousItemUpdate:function(){this._observer&&"function"==typeof this._observer.flush?this._observer.flush():this._updateItems()},get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},_addListener:function(e){this.listen(this,e,"_activateHandler")},_removeListener:function(e){this.unlisten(this,e,"_activateHandler")},_activateEventChanged:function(e,t){this._removeListener(t),this._addListener(e)},_updateItems:function(){var e=Polymer.dom(this).queryDistributedElements(this.selectable||"*");e=Array.prototype.filter.call(e,this._bindFilterItem),this._setItems(e)},_updateAttrForSelected:function(){this.selectedItem&&(this.selected=this._valueForItem(this.selectedItem))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(){if(this.items){var e=this._valueToItem(this.selected);e?this._selection.select(e):this._selection.clear(),this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)}},_filterItem:function(e){return!this._excludedLocalNames[e.localName]},_valueToItem:function(e){return null==e?null:this.items[this._valueToIndex(e)]},_valueToIndex:function(e){if(!this.attrForSelected)return+e;for(var t,i=0;t=this.items[i];i++)if(this._valueForItem(t)==e)return i},_indexToValue:function(e){if(!this.attrForSelected)return e;var t=this.items[e];return t?this._valueForItem(t):void 0},_valueForItem:function(e){if(!e)return null;if(!this.attrForSelected){var t=this.indexOf(e);return-1===t?null:t}var i=e[Polymer.CaseMap.dashToCamelCase(this.attrForSelected)];return null!=i?i:e.getAttribute(this.attrForSelected)},_applySelection:function(e,t){this.selectedClass&&this.toggleClass(this.selectedClass,t,e),this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,t,e),this._selectionChange(),this.fire("iron-"+(t?"select":"deselect"),{item:e})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(e){return Polymer.dom(e).observeNodes(function(e){this._updateItems(),this._updateSelected(),this.fire("iron-items-changed",e,{bubbles:!1,cancelable:!1})})},_activateHandler:function(e){for(var t=e.target,i=this.items;t&&t!=this;){var s=i.indexOf(t);if(0<=s){var l=this._indexToValue(s);return void this._itemActivate(l,t)}t=t.parentNode}},_itemActivate:function(e,t){this.fire("iron-activate",{selected:e,item:t},{cancelable:!0}).defaultPrevented||this.select(e)}}</script><dom-module id="iron-pages"assetpath="../../bower_components/iron-pages/"><template><style>:host{display:block;}:host > ::slotted(:not(slot):not(.iron-selected)){display:none !important;}</style><slot></slot></template><script>Polymer({is:"iron-pages",behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior],properties:{activateEvent:{type:String,value:null}},observers:["_selectedPageChanged(selected)"],_selectedPageChanged:function(){this.async(this.notifyResize)}})</script></dom-module><script>!function(){var n=[];function t(t,l){n.forEach(function(e){e.dispatchEvent(new CustomEvent("lite-signal-"+t,{bubbles:!1,detail:l}))})}var e=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"connectedCallback",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"connectedCallback",this).call(this),n.push(this)}},{key:"disconnectedCallback",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"disconnectedCallback",this).call(this);var e=n.indexOf(this);0<=e&&n.splice(e,1)}}],[{key:"is",get:function(){return"lite-signal"}}]),t}(Polymer.Element);window.customElements.define(e.is,e),document.addEventListener("lite-signal",function(e){t(e.detail.name,e.detail.data)})}()</script><script>Polymer({is:"iron-media-query",properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:"queryChanged"},full:{type:Boolean,value:!1},_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},_mq:{value:null}},attached:function(){this.style.display="none",this.queryChanged()},detached:function(){this._remove()},_add:function(){this._mq&&this._mq.addListener(this._boundMQHandler)},_remove:function(){this._mq&&this._mq.removeListener(this._boundMQHandler),this._mq=null},queryChanged:function(){this._remove();var e=this.query;e&&(this.full||"("===e[0]||(e="("+e+")"),this._mq=window.matchMedia(e),this._add(),this.queryHandler(this._mq))},queryHandler:function(e){this._setQueryMatches(e.matches)}})</script><script>!function(){Polymer.IronMeta=function(e){Polymer.IronMeta[" "](e),this.type=e&&e.type||"default",this.key=e&&e.key,e&&"value"in e&&(this.value=e.value)},Polymer.IronMeta[" "]=function(){},Polymer.IronMeta.types={},Polymer.IronMeta.prototype={get value(){var e=this.type,t=this.key;if(e&&t)return Polymer.IronMeta.types[e]&&Polymer.IronMeta.types[e][t]},set value(e){var t=this.type,r=this.key;t&&r&&(t=Polymer.IronMeta.types[t]=Polymer.IronMeta.types[t]||{},null==e?delete t[r]:t[r]=e)},get list(){if(this.type){var e=Polymer.IronMeta.types[this.type];return e?Object.keys(e).map(function(e){return t[this.type][e]},this):[]}},byKey:function(e){return this.key=e,this.value}};var t=Polymer.IronMeta.types;Polymer({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(e,t,r){var y=new Polymer.IronMeta({type:e,key:t});return void 0!==r&&r!==y.value?y.value=r:this.value!==y.value&&(this.value=y.value),y},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(e){e&&(this.value=this)},byKey:function(e){return new Polymer.IronMeta({type:this.type,key:e}).value}})}()</script><script>!function(){var e=document.createElement("style");e.textContent="[hidden] { display: none !important; }",document.head.appendChild(e)}()</script><custom-style><style is="custom-style">[hidden]{display:none !important;}</style></custom-style><custom-style><style is="custom-style">html{--layout:{display:-ms-flexbox;display:-webkit-flex;display:flex;};--layout-inline:{display:-ms-inline-flexbox;display:-webkit-inline-flex;display:inline-flex;};--layout-horizontal:{@apply --layout;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;};--layout-horizontal-reverse:{@apply --layout;-ms-flex-direction:row-reverse;-webkit-flex-direction:row-reverse;flex-direction:row-reverse;};--layout-vertical:{@apply --layout;-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column;};--layout-vertical-reverse:{@apply --layout;-ms-flex-direction:column-reverse;-webkit-flex-direction:column-reverse;flex-direction:column-reverse;};--layout-wrap:{-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;};--layout-wrap-reverse:{-ms-flex-wrap:wrap-reverse;-webkit-flex-wrap:wrap-reverse;flex-wrap:wrap-reverse;};--layout-flex-auto:{-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto;};--layout-flex-none:{-ms-flex:none;-webkit-flex:none;flex:none;};--layout-flex:{-ms-flex:1 1 0.000000001px;-webkit-flex:1;flex:1;-webkit-flex-basis:0.000000001px;flex-basis:0.000000001px;};--layout-flex-2:{-ms-flex:2;-webkit-flex:2;flex:2;};--layout-flex-3:{-ms-flex:3;-webkit-flex:3;flex:3;};--layout-flex-4:{-ms-flex:4;-webkit-flex:4;flex:4;};--layout-flex-5:{-ms-flex:5;-webkit-flex:5;flex:5;};--layout-flex-6:{-ms-flex:6;-webkit-flex:6;flex:6;};--layout-flex-7:{-ms-flex:7;-webkit-flex:7;flex:7;};--layout-flex-8:{-ms-flex:8;-webkit-flex:8;flex:8;};--layout-flex-9:{-ms-flex:9;-webkit-flex:9;flex:9;};--layout-flex-10:{-ms-flex:10;-webkit-flex:10;flex:10;};--layout-flex-11:{-ms-flex:11;-webkit-flex:11;flex:11;};--layout-flex-12:{-ms-flex:12;-webkit-flex:12;flex:12;};--layout-start:{-ms-flex-align:start;-webkit-align-items:flex-start;align-items:flex-start;};--layout-center:{-ms-flex-align:center;-webkit-align-items:center;align-items:center;};--layout-end:{-ms-flex-align:end;-webkit-align-items:flex-end;align-items:flex-end;};--layout-baseline:{-ms-flex-align:baseline;-webkit-align-items:baseline;align-items:baseline;};--layout-start-justified:{-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;};--layout-center-justified:{-ms-flex-pack:center;-webkit-justify-content:center;justify-content:center;};--layout-end-justified:{-ms-flex-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end;};--layout-around-justified:{-ms-flex-pack:distribute;-webkit-justify-content:space-around;justify-content:space-around;};--layout-justified:{-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;};--layout-center-center:{@apply --layout-center;@apply --layout-center-justified;};--layout-self-start:{-ms-align-self:flex-start;-webkit-align-self:flex-start;align-self:flex-start;};--layout-self-center:{-ms-align-self:center;-webkit-align-self:center;align-self:center;};--layout-self-end:{-ms-align-self:flex-end;-webkit-align-self:flex-end;align-self:flex-end;};--layout-self-stretch:{-ms-align-self:stretch;-webkit-align-self:stretch;align-self:stretch;};--layout-self-baseline:{-ms-align-self:baseline;-webkit-align-self:baseline;align-self:baseline;};--layout-start-aligned:{-ms-flex-line-pack:start;-ms-align-content:flex-start;-webkit-align-content:flex-start;align-content:flex-start;};--layout-end-aligned:{-ms-flex-line-pack:end;-ms-align-content:flex-end;-webkit-align-content:flex-end;align-content:flex-end;};--layout-center-aligned:{-ms-flex-line-pack:center;-ms-align-content:center;-webkit-align-content:center;align-content:center;};--layout-between-aligned:{-ms-flex-line-pack:justify;-ms-align-content:space-between;-webkit-align-content:space-between;align-content:space-between;};--layout-around-aligned:{-ms-flex-line-pack:distribute;-ms-align-content:space-around;-webkit-align-content:space-around;align-content:space-around;};--layout-block:{display:block;};--layout-invisible:{visibility:hidden !important;};--layout-relative:{position:relative;};--layout-fit:{position:absolute;top:0;right:0;bottom:0;left:0;};--layout-scroll:{-webkit-overflow-scrolling:touch;overflow:auto;};--layout-fullbleed:{margin:0;height:100vh;};--layout-fixed-top:{position:fixed;top:0;left:0;right:0;};--layout-fixed-right:{position:fixed;top:0;right:0;bottom:0;};--layout-fixed-bottom:{position:fixed;right:0;bottom:0;left:0;};--layout-fixed-left:{position:fixed;top:0;bottom:0;left:0;};}</style></custom-style><dom-module id="iron-icon"assetpath="../../bower_components/iron-icon/"><template><style>:host{@apply --layout-inline;@apply --layout-center-center;position:relative;vertical-align:middle;fill:var(--iron-icon-fill-color, currentcolor);stroke:var(--iron-icon-stroke-color, none);width:var(--iron-icon-width, 24px);height:var(--iron-icon-height, 24px);@apply --iron-icon;}:host([hidden]){display:none;}</style></template><script>Polymer({is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:Polymer.Base.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(t){var i=(t||"").split(":");this._iconName=i.pop(),this._iconsetName=i.pop()||this._DEFAULT_ICONSET,this._updateIcon()},_srcChanged:function(){this._updateIcon()},_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&Polymer.dom(this.root).removeChild(this._img),""===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&(this._iconset=this._meta.byKey(this._iconsetName),this._iconset?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,"iron-iconset-added","_updateIcon")):this.listen(window,"iron-iconset-added","_updateIcon"))):(this._iconset&&this._iconset.removeIcon(this),this._img||(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,Polymer.dom(this.root).appendChild(this._img))}})</script></dom-module><script>!function(){"use strict";var a={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},o={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},r={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},s=/[a-z0-9*]/,d=/U\+/,y=/^arrow/,h=/^space(bar)?/,c=/^escape$/;function u(e,t){var n="";if(e){var i=e.toLowerCase();" "===i||h.test(i)?n="space":c.test(i)?n="esc":1==i.length?t&&!s.test(i)||(n=i):n=y.test(i)?i.replace("arrow",""):"multiply"==i?"*":i}return n}function n(e,t){return e.key?u(e.key,t):e.detail&&e.detail.key?u(e.detail.key,t):(s=e.keyIdentifier,r="",s&&(r=s in a?a[s]:d.test(s)?(s=parseInt(s.replace("U+","0x"),16),String.fromCharCode(s).toLowerCase()):s.toLowerCase()),r||(n=e.keyCode,i="",+n&&(i=65<=n&&n<=90?String.fromCharCode(32+n):112<=n&&n<=123?"f"+(n-112+1):48<=n&&n<=57?n-48+"":96<=n&&n<=105?n-96+"":o[n]),i)||"");var n,i,s,r}function v(e,t){return n(t,e.hasModifiers)===e.key&&(!e.hasModifiers||!!t.shiftKey==!!e.shiftKey&&!!t.ctrlKey==!!e.ctrlKey&&!!t.altKey==!!e.altKey&&!!t.metaKey==!!e.metaKey)}function f(e){return e.trim().split(" ").map(function(e){return 1===(t=e).length?{combo:t,key:t,event:"keydown"}:t.split("+").reduce(function(e,t){var n=t.split(":"),i=n[0],s=n[1];return i in r?(e[r[i]]=!0,e.hasModifiers=!0):(e.key=i,e.event=s||"keydown"),e},{combo:t.split(":").shift()});var t})}Polymer.IronA11yKeysBehavior={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(e,t){this._imperativeKeyBindings[e]=t,this._prepKeyBindings(),this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={},this._prepKeyBindings(),this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(e,t){for(var n=f(t),i=0;i<n.length;++i)if(v(n[i],e))return!0;return!1},_collectKeyBindings:function(){var e=this.behaviors.map(function(e){return e.keyBindings});return-1===e.indexOf(this.keyBindings)&&e.push(this.keyBindings),e},_prepKeyBindings:function(){for(var e in this._keyBindings={},this._collectKeyBindings().forEach(function(e){for(var t in e)this._addKeyBinding(t,e[t])},this),this._imperativeKeyBindings)this._addKeyBinding(e,this._imperativeKeyBindings[e]);for(var t in this._keyBindings)this._keyBindings[t].sort(function(e,t){var n=e[0].hasModifiers;return n===t[0].hasModifiers?0:n?-1:1})},_addKeyBinding:function(e,t){f(e).forEach(function(e){this._keyBindings[e.event]=this._keyBindings[e.event]||[],this._keyBindings[e.event].push([e,t])},this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners(),this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach(function(e){var t=this._keyBindings[e],n=this._onKeyBindingEvent.bind(this,t);this._boundKeyHandlers.push([this.keyEventTarget,e,n]),this.keyEventTarget.addEventListener(e,n)},this)},_unlistenKeyEventListeners:function(){for(var e,t,n,i;this._boundKeyHandlers.length;)t=(e=this._boundKeyHandlers.pop())[0],n=e[1],i=e[2],t.removeEventListener(n,i)},_onKeyBindingEvent:function(e,t){if(this.stopKeyboardEventPropagation&&t.stopPropagation(),!t.defaultPrevented)for(var n=0;n<e.length;n++){var i=e[n][0],s=e[n][1];if(v(i,t)&&(this._triggerKeyHandler(i,s,t),t.defaultPrevented))return}},_triggerKeyHandler:function(e,t,n){var i=Object.create(e);i.keyboardEvent=n;var s=new CustomEvent(e.event,{detail:i,cancelable:!0});this[t].call(this,s),s.defaultPrevented&&n.preventDefault()}}}()</script><script>Polymer.IronControlState={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}},__handleEventRetargeting:{type:Boolean,value:function(){return!this.shadowRoot&&!Polymer.Element}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0),this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(e){if(Polymer.Element)this._setFocused("focus"===e.type);else if(e.target===this)this._setFocused("focus"===e.type);else if(this.__handleEventRetargeting){var t=Polymer.dom(e).localTarget;this.isLightDescendant(t)||this.fire(e.type,{sourceEvent:e},{node:this,bubbles:e.bubbles,cancelable:e.cancelable})}},_disabledChanged:function(e){this.setAttribute("aria-disabled",e?"true":"false"),this.style.pointerEvents=e?"none":"",e?(this._oldTabIndex=this.getAttribute("tabindex"),this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(null===this._oldTabIndex?this.removeAttribute("tabindex"):this.setAttribute("tabindex",this._oldTabIndex))},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}}</script><script>Polymer.IronButtonStateImpl={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_focusChanged:function(e){this._detectKeyboardFocus(e),e||this._setPressed(!1)},_detectKeyboardFocus:function(e){this._setReceivedFocusFromKeyboard(!this.pointerDown&&e)},_userActivate:function(e){this.active!==e&&(this.active=e,this.fire("change"))},_downHandler:function(){this._setPointerDown(!0),this._setPressed(!0),this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1),this._setPressed(!1)},_spaceKeyDownHandler:function(e){var t=e.detail.keyboardEvent,i=Polymer.dom(t).localTarget;this.isLightDescendant(i)||(t.preventDefault(),t.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(e){var t=e.detail.keyboardEvent,i=Polymer.dom(t).localTarget;this.isLightDescendant(i)||(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async(function(){this.click()},1)},_pressedChanged:function(){this._changedButtonState()},_ariaActiveAttributeChanged:function(e,t){t&&t!=e&&this.hasAttribute(t)&&this.removeAttribute(t)},_activeChanged:function(e){this.toggles?this.setAttribute(this.ariaActiveAttribute,e?"true":"false"):this.removeAttribute(this.ariaActiveAttribute),this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}},Polymer.IronButtonState=[Polymer.IronA11yKeysBehavior,Polymer.IronButtonStateImpl]</script><dom-module id="paper-ripple"assetpath="../../bower_components/paper-ripple/"><template><style>:host{display:block;position:absolute;border-radius:inherit;overflow:hidden;top:0;left:0;right:0;bottom:0;pointer-events:none;}:host([animating]){-webkit-transform:translate(0, 0);transform:translate3d(0, 0, 0);}#background,
      #waves,
      .wave-container,
      .wave{pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;}#background,
      .wave{opacity:0;}#waves,
      .wave{overflow:hidden;}.wave-container,
      .wave{border-radius:50%;}:host(.circle) #background,
      :host(.circle) #waves{border-radius:50%;}:host(.circle) .wave-container{overflow:hidden;}</style><div id="background"></div><div id="waves"></div></template></dom-module><script>!function(){"use strict";var o={distance:function(t,i,e,n){var s=t-e,a=i-n;return Math.sqrt(s*s+a*a)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};function t(t){this.element=t,this.width=this.boundingRect.width,this.height=this.boundingRect.height,this.size=Math.max(this.width,this.height)}function r(t){this.element=t,this.color=window.getComputedStyle(t).color,this.wave=document.createElement("div"),this.waveContainer=document.createElement("div"),this.wave.style.backgroundColor=this.color,this.wave.classList.add("wave"),this.waveContainer.classList.add("wave-container"),Polymer.dom(this.waveContainer).appendChild(this.wave),this.resetInteractionState()}t.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(t,i){var e=o.distance(t,i,0,0),n=o.distance(t,i,this.width,0),s=o.distance(t,i,0,this.height),a=o.distance(t,i,this.width,this.height);return Math.max(e,n,s,a)}},r.MAX_RADIUS=300,r.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var t;return this.mouseDownStart?(t=o.now()-this.mouseDownStart,this.mouseUpStart&&(t-=this.mouseUpElapsed),t):0},get mouseUpElapsed(){return this.mouseUpStart?o.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var t=this.containerMetrics.width*this.containerMetrics.width,i=this.containerMetrics.height*this.containerMetrics.height,e=1.1*Math.min(Math.sqrt(t+i),r.MAX_RADIUS)+5,n=1.1-e/r.MAX_RADIUS*.2,s=this.mouseInteractionSeconds/n,a=e*(1-Math.pow(80,-s));return Math.abs(a)},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){var t=.3*this.mouseUpElapsedSeconds,i=this.opacity;return Math.max(0,Math.min(t,i))},get isOpacityFullyDecayed(){return this.opacity<.01&&this.radius>=Math.min(this.maxRadius,r.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,r.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.maxRadius=0,this.mouseDownStart=0,this.mouseUpStart=0,this.xStart=0,this.yStart=0,this.xEnd=0,this.yEnd=0,this.slideDistance=0,this.containerMetrics=new t(this.element)},draw:function(){var t,i,e;this.wave.style.opacity=this.opacity,t=this.radius/(this.containerMetrics.size/2),i=this.xNow-this.containerMetrics.width/2,e=this.yNow-this.containerMetrics.height/2,this.waveContainer.style.webkitTransform="translate("+i+"px, "+e+"px)",this.waveContainer.style.transform="translate3d("+i+"px, "+e+"px, 0)",this.wave.style.webkitTransform="scale("+t+","+t+")",this.wave.style.transform="scale3d("+t+","+t+",1)"},downAction:function(t){var i=this.containerMetrics.width/2,e=this.containerMetrics.height/2;this.resetInteractionState(),this.mouseDownStart=o.now(),this.center?(this.xStart=i,this.yStart=e,this.slideDistance=o.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=t?t.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=t?t.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2),this.recenters&&(this.xEnd=i,this.yEnd=e,this.slideDistance=o.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)),this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart),this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px",this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px",this.waveContainer.style.width=this.containerMetrics.size+"px",this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(){this.isMouseDown&&(this.mouseUpStart=o.now())},remove:function(){Polymer.dom(this.waveContainer.parentNode).removeChild(this.waveContainer)}},Polymer({is:"paper-ripple",behaviors:[Polymer.IronA11yKeysBehavior],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){11==this.parentNode.nodeType?this.keyEventTarget=Polymer.dom(this).getOwnerRoot().host:this.keyEventTarget=this.parentNode;var t=this.keyEventTarget;this.listen(t,"up","uiUpAction"),this.listen(t,"down","uiDownAction")},detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction"),this.unlisten(this.keyEventTarget,"down","uiDownAction"),this.keyEventTarget=null},get shouldKeepAnimating(){for(var t=0;t<this.ripples.length;++t)if(!this.ripples[t].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null),this.async(function(){this.upAction()},1)},uiDownAction:function(t){this.noink||this.downAction(t)},downAction:function(t){this.holdDown&&0<this.ripples.length||(this.addRipple().downAction(t),this._animating||(this._animating=!0,this.animate()))},uiUpAction:function(t){this.noink||this.upAction(t)},upAction:function(i){this.holdDown||(this.ripples.forEach(function(t){t.upAction(i)}),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=!1,this.$.background.style.backgroundColor=null,this.fire("transitionend")},addRipple:function(){var t=new r(this);return Polymer.dom(this.$.waves).appendChild(t.waveContainer),this.$.background.style.backgroundColor=t.color,this.ripples.push(t),this._setAnimating(!0),t},removeRipple:function(t){var i=this.ripples.indexOf(t);i<0||(this.ripples.splice(i,1),t.remove(),this.ripples.length||this._setAnimating(!1))},animate:function(){if(this._animating){var t,i;for(t=0;t<this.ripples.length;++t)(i=this.ripples[t]).draw(),this.$.background.style.opacity=i.outerOpacity,i.isOpacityFullyDecayed&&!i.isRestingAtMaxRadius&&this.removeRipple(i);this.shouldKeepAnimating||0!==this.ripples.length?window.requestAnimationFrame(this._boundAnimate):this.onAnimationComplete()}},_onEnterKeydown:function(){this.uiDownAction(),this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(t,i){void 0!==i&&(t?this.downAction():this.upAction())}})}()</script><script>Polymer.PaperRippleBehavior={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(e){Polymer.IronButtonStateImpl._downHandler.call(this,e),this.pressed&&this.ensureRipple(e)},ensureRipple:function(e){if(!this.hasRipple()){this._ripple=this._createRipple(),this._ripple.noink=this.noink;var i=this._rippleContainer||this.root;if(i&&Polymer.dom(i).appendChild(this._ripple),e){var n=Polymer.dom(this._rippleContainer||this),t=Polymer.dom(e).rootTarget;n.deepContains(t)&&this._ripple.uiDownAction(e)}}},getRipple:function(){return this.ensureRipple(),this._ripple},hasRipple:function(){return!!this._ripple},_createRipple:function(){return document.createElement("paper-ripple")},_noinkChanged:function(e){this.hasRipple()&&(this._ripple.noink=e)}}</script><script>Polymer.PaperInkyFocusBehaviorImpl={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(e){e&&this.ensureRipple(),this.hasRipple()&&(this._ripple.holdDown=e)},_createRipple:function(){var e=Polymer.PaperRippleBehavior._createRipple();return e.id="ink",e.setAttribute("center",""),e.classList.add("circle"),e}},Polymer.PaperInkyFocusBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperInkyFocusBehaviorImpl]</script><custom-style><style is="custom-style">html{--google-red-100:#f4c7c3;--google-red-300:#e67c73;--google-red-500:#db4437;--google-red-700:#c53929;--google-blue-100:#c6dafc;--google-blue-300:#7baaf7;--google-blue-500:#4285f4;--google-blue-700:#3367d6;--google-green-100:#b7e1cd;--google-green-300:#57bb8a;--google-green-500:#0f9d58;--google-green-700:#0b8043;--google-yellow-100:#fce8b2;--google-yellow-300:#f7cb4d;--google-yellow-500:#f4b400;--google-yellow-700:#f09300;--google-grey-100:#f5f5f5;--google-grey-300:#e0e0e0;--google-grey-500:#9e9e9e;--google-grey-700:#616161;--paper-red-50:#ffebee;--paper-red-100:#ffcdd2;--paper-red-200:#ef9a9a;--paper-red-300:#e57373;--paper-red-400:#ef5350;--paper-red-500:#f44336;--paper-red-600:#e53935;--paper-red-700:#d32f2f;--paper-red-800:#c62828;--paper-red-900:#b71c1c;--paper-red-a100:#ff8a80;--paper-red-a200:#ff5252;--paper-red-a400:#ff1744;--paper-red-a700:#d50000;--paper-pink-50:#fce4ec;--paper-pink-100:#f8bbd0;--paper-pink-200:#f48fb1;--paper-pink-300:#f06292;--paper-pink-400:#ec407a;--paper-pink-500:#e91e63;--paper-pink-600:#d81b60;--paper-pink-700:#c2185b;--paper-pink-800:#ad1457;--paper-pink-900:#880e4f;--paper-pink-a100:#ff80ab;--paper-pink-a200:#ff4081;--paper-pink-a400:#f50057;--paper-pink-a700:#c51162;--paper-purple-50:#f3e5f5;--paper-purple-100:#e1bee7;--paper-purple-200:#ce93d8;--paper-purple-300:#ba68c8;--paper-purple-400:#ab47bc;--paper-purple-500:#9c27b0;--paper-purple-600:#8e24aa;--paper-purple-700:#7b1fa2;--paper-purple-800:#6a1b9a;--paper-purple-900:#4a148c;--paper-purple-a100:#ea80fc;--paper-purple-a200:#e040fb;--paper-purple-a400:#d500f9;--paper-purple-a700:#aa00ff;--paper-deep-purple-50:#ede7f6;--paper-deep-purple-100:#d1c4e9;--paper-deep-purple-200:#b39ddb;--paper-deep-purple-300:#9575cd;--paper-deep-purple-400:#7e57c2;--paper-deep-purple-500:#673ab7;--paper-deep-purple-600:#5e35b1;--paper-deep-purple-700:#512da8;--paper-deep-purple-800:#4527a0;--paper-deep-purple-900:#311b92;--paper-deep-purple-a100:#b388ff;--paper-deep-purple-a200:#7c4dff;--paper-deep-purple-a400:#651fff;--paper-deep-purple-a700:#6200ea;--paper-indigo-50:#e8eaf6;--paper-indigo-100:#c5cae9;--paper-indigo-200:#9fa8da;--paper-indigo-300:#7986cb;--paper-indigo-400:#5c6bc0;--paper-indigo-500:#3f51b5;--paper-indigo-600:#3949ab;--paper-indigo-700:#303f9f;--paper-indigo-800:#283593;--paper-indigo-900:#1a237e;--paper-indigo-a100:#8c9eff;--paper-indigo-a200:#536dfe;--paper-indigo-a400:#3d5afe;--paper-indigo-a700:#304ffe;--paper-blue-50:#e3f2fd;--paper-blue-100:#bbdefb;--paper-blue-200:#90caf9;--paper-blue-300:#64b5f6;--paper-blue-400:#42a5f5;--paper-blue-500:#2196f3;--paper-blue-600:#1e88e5;--paper-blue-700:#1976d2;--paper-blue-800:#1565c0;--paper-blue-900:#0d47a1;--paper-blue-a100:#82b1ff;--paper-blue-a200:#448aff;--paper-blue-a400:#2979ff;--paper-blue-a700:#2962ff;--paper-light-blue-50:#e1f5fe;--paper-light-blue-100:#b3e5fc;--paper-light-blue-200:#81d4fa;--paper-light-blue-300:#4fc3f7;--paper-light-blue-400:#29b6f6;--paper-light-blue-500:#03a9f4;--paper-light-blue-600:#039be5;--paper-light-blue-700:#0288d1;--paper-light-blue-800:#0277bd;--paper-light-blue-900:#01579b;--paper-light-blue-a100:#80d8ff;--paper-light-blue-a200:#40c4ff;--paper-light-blue-a400:#00b0ff;--paper-light-blue-a700:#0091ea;--paper-cyan-50:#e0f7fa;--paper-cyan-100:#b2ebf2;--paper-cyan-200:#80deea;--paper-cyan-300:#4dd0e1;--paper-cyan-400:#26c6da;--paper-cyan-500:#00bcd4;--paper-cyan-600:#00acc1;--paper-cyan-700:#0097a7;--paper-cyan-800:#00838f;--paper-cyan-900:#006064;--paper-cyan-a100:#84ffff;--paper-cyan-a200:#18ffff;--paper-cyan-a400:#00e5ff;--paper-cyan-a700:#00b8d4;--paper-teal-50:#e0f2f1;--paper-teal-100:#b2dfdb;--paper-teal-200:#80cbc4;--paper-teal-300:#4db6ac;--paper-teal-400:#26a69a;--paper-teal-500:#009688;--paper-teal-600:#00897b;--paper-teal-700:#00796b;--paper-teal-800:#00695c;--paper-teal-900:#004d40;--paper-teal-a100:#a7ffeb;--paper-teal-a200:#64ffda;--paper-teal-a400:#1de9b6;--paper-teal-a700:#00bfa5;--paper-green-50:#e8f5e9;--paper-green-100:#c8e6c9;--paper-green-200:#a5d6a7;--paper-green-300:#81c784;--paper-green-400:#66bb6a;--paper-green-500:#4caf50;--paper-green-600:#43a047;--paper-green-700:#388e3c;--paper-green-800:#2e7d32;--paper-green-900:#1b5e20;--paper-green-a100:#b9f6ca;--paper-green-a200:#69f0ae;--paper-green-a400:#00e676;--paper-green-a700:#00c853;--paper-light-green-50:#f1f8e9;--paper-light-green-100:#dcedc8;--paper-light-green-200:#c5e1a5;--paper-light-green-300:#aed581;--paper-light-green-400:#9ccc65;--paper-light-green-500:#8bc34a;--paper-light-green-600:#7cb342;--paper-light-green-700:#689f38;--paper-light-green-800:#558b2f;--paper-light-green-900:#33691e;--paper-light-green-a100:#ccff90;--paper-light-green-a200:#b2ff59;--paper-light-green-a400:#76ff03;--paper-light-green-a700:#64dd17;--paper-lime-50:#f9fbe7;--paper-lime-100:#f0f4c3;--paper-lime-200:#e6ee9c;--paper-lime-300:#dce775;--paper-lime-400:#d4e157;--paper-lime-500:#cddc39;--paper-lime-600:#c0ca33;--paper-lime-700:#afb42b;--paper-lime-800:#9e9d24;--paper-lime-900:#827717;--paper-lime-a100:#f4ff81;--paper-lime-a200:#eeff41;--paper-lime-a400:#c6ff00;--paper-lime-a700:#aeea00;--paper-yellow-50:#fffde7;--paper-yellow-100:#fff9c4;--paper-yellow-200:#fff59d;--paper-yellow-300:#fff176;--paper-yellow-400:#ffee58;--paper-yellow-500:#ffeb3b;--paper-yellow-600:#fdd835;--paper-yellow-700:#fbc02d;--paper-yellow-800:#f9a825;--paper-yellow-900:#f57f17;--paper-yellow-a100:#ffff8d;--paper-yellow-a200:#ffff00;--paper-yellow-a400:#ffea00;--paper-yellow-a700:#ffd600;--paper-amber-50:#fff8e1;--paper-amber-100:#ffecb3;--paper-amber-200:#ffe082;--paper-amber-300:#ffd54f;--paper-amber-400:#ffca28;--paper-amber-500:#ffc107;--paper-amber-600:#ffb300;--paper-amber-700:#ffa000;--paper-amber-800:#ff8f00;--paper-amber-900:#ff6f00;--paper-amber-a100:#ffe57f;--paper-amber-a200:#ffd740;--paper-amber-a400:#ffc400;--paper-amber-a700:#ffab00;--paper-orange-50:#fff3e0;--paper-orange-100:#ffe0b2;--paper-orange-200:#ffcc80;--paper-orange-300:#ffb74d;--paper-orange-400:#ffa726;--paper-orange-500:#ff9800;--paper-orange-600:#fb8c00;--paper-orange-700:#f57c00;--paper-orange-800:#ef6c00;--paper-orange-900:#e65100;--paper-orange-a100:#ffd180;--paper-orange-a200:#ffab40;--paper-orange-a400:#ff9100;--paper-orange-a700:#ff6500;--paper-deep-orange-50:#fbe9e7;--paper-deep-orange-100:#ffccbc;--paper-deep-orange-200:#ffab91;--paper-deep-orange-300:#ff8a65;--paper-deep-orange-400:#ff7043;--paper-deep-orange-500:#ff5722;--paper-deep-orange-600:#f4511e;--paper-deep-orange-700:#e64a19;--paper-deep-orange-800:#d84315;--paper-deep-orange-900:#bf360c;--paper-deep-orange-a100:#ff9e80;--paper-deep-orange-a200:#ff6e40;--paper-deep-orange-a400:#ff3d00;--paper-deep-orange-a700:#dd2c00;--paper-brown-50:#efebe9;--paper-brown-100:#d7ccc8;--paper-brown-200:#bcaaa4;--paper-brown-300:#a1887f;--paper-brown-400:#8d6e63;--paper-brown-500:#795548;--paper-brown-600:#6d4c41;--paper-brown-700:#5d4037;--paper-brown-800:#4e342e;--paper-brown-900:#3e2723;--paper-grey-50:#fafafa;--paper-grey-100:#f5f5f5;--paper-grey-200:#eeeeee;--paper-grey-300:#e0e0e0;--paper-grey-400:#bdbdbd;--paper-grey-500:#9e9e9e;--paper-grey-600:#757575;--paper-grey-700:#616161;--paper-grey-800:#424242;--paper-grey-900:#212121;--paper-blue-grey-50:#eceff1;--paper-blue-grey-100:#cfd8dc;--paper-blue-grey-200:#b0bec5;--paper-blue-grey-300:#90a4ae;--paper-blue-grey-400:#78909c;--paper-blue-grey-500:#607d8b;--paper-blue-grey-600:#546e7a;--paper-blue-grey-700:#455a64;--paper-blue-grey-800:#37474f;--paper-blue-grey-900:#263238;--dark-divider-opacity:0.12;--dark-disabled-opacity:0.38;--dark-secondary-opacity:0.54;--dark-primary-opacity:0.87;--light-divider-opacity:0.12;--light-disabled-opacity:0.3;--light-secondary-opacity:0.7;--light-primary-opacity:1.0;}</style></custom-style><custom-style><style is="custom-style">html{--primary-text-color:var(--light-theme-text-color);--primary-background-color:var(--light-theme-background-color);--secondary-text-color:var(--light-theme-secondary-color);--disabled-text-color:var(--light-theme-disabled-color);--divider-color:var(--light-theme-divider-color);--error-color:var(--paper-deep-orange-a700);--primary-color:var(--paper-indigo-500);--light-primary-color:var(--paper-indigo-100);--dark-primary-color:var(--paper-indigo-700);--accent-color:var(--paper-pink-a200);--light-accent-color:var(--paper-pink-a100);--dark-accent-color:var(--paper-pink-a400);--light-theme-background-color:#ffffff;--light-theme-base-color:#000000;--light-theme-text-color:var(--paper-grey-900);--light-theme-secondary-color:#737373;--light-theme-disabled-color:#9b9b9b;--light-theme-divider-color:#dbdbdb;--dark-theme-background-color:var(--paper-grey-900);--dark-theme-base-color:#ffffff;--dark-theme-text-color:#ffffff;--dark-theme-secondary-color:#bcbcbc;--dark-theme-disabled-color:#646464;--dark-theme-divider-color:#3c3c3c;--text-primary-color:var(--dark-theme-text-color);--default-primary-color:var(--primary-color);}</style></custom-style><dom-module id="paper-icon-button"assetpath="../../bower_components/paper-icon-button/"><template strip-whitespace=""><style>:host{display:inline-block;position:relative;padding:8px;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;z-index:0;line-height:1;width:40px;height:40px;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;box-sizing:border-box !important;@apply --paper-icon-button;}:host #ink{color:var(--paper-icon-button-ink-color, var(--primary-text-color));opacity:0.6;}:host([disabled]){color:var(--paper-icon-button-disabled-text, var(--disabled-text-color));pointer-events:none;cursor:auto;@apply --paper-icon-button-disabled;}:host([hidden]){display:none !important;}:host(:hover){@apply --paper-icon-button-hover;}iron-icon{--iron-icon-width:100%;--iron-icon-height:100%;}</style><iron-icon id="icon"src="[[src]]"icon="[[icon]]"alt$="[[alt]]"></iron-icon></template><script>Polymer({is:"paper-icon-button",hostAttributes:{role:"button",tabindex:"0"},behaviors:[Polymer.PaperInkyFocusBehavior],properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(t,e){var r=this.getAttribute("aria-label");r&&e!=r||this.setAttribute("aria-label",t)}})</script></dom-module><script>Polymer.IronMultiSelectableBehaviorImpl={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0,value:function(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:["_updateSelected(selectedValues.splices)"],select:function(e){this.multi?this._toggleSelected(e):this.selected=e},multiChanged:function(e){this._selection.multi=e,this._updateSelected()},get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){this.multi?this.selectedItems&&0<this.selectedItems.length&&(this.selectedValues=this.selectedItems.map(function(e){return this._indexToValue(this.indexOf(e))},this).filter(function(e){return null!=e},this)):Polymer.IronSelectableBehavior._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(e){e=e||[];var t=(this._valuesToItems(e)||[]).filter(function(e){return null!=e});this._selection.clear(t);for(var l=0;l<t.length;l++)this._selection.setItemSelected(t[l],!0);this.fallbackSelection&&!this._selection.get().length&&this._valueToItem(this.fallbackSelection)&&this.select(this.fallbackSelection)},_selectionChange:function(){var e=this._selection.get();this.multi?(this._setSelectedItems(e),this._setSelectedItem(e.length?e[0]:null)):null!=e?(this._setSelectedItems([e]),this._setSelectedItem(e)):(this._setSelectedItems([]),this._setSelectedItem(null))},_toggleSelected:function(e){var t=this.selectedValues.indexOf(e);t<0?this.push("selectedValues",e):this.splice("selectedValues",t,1)},_valuesToItems:function(e){return null==e?null:e.map(function(e){return this._valueToItem(e)},this)}},Polymer.IronMultiSelectableBehavior=[Polymer.IronSelectableBehavior,Polymer.IronMultiSelectableBehaviorImpl]</script><script>Polymer.IronMenuBehaviorImpl={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"}},_MODIFIER_KEYS:["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","OS","ScrollLock","Shift","Super","Symbol","SymbolLock"],_SEARCH_RESET_TIMEOUT_MS:1e3,_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown","iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},attached:function(){this._resetTabindices()},select:function(e){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var t=this._valueToItem(e);t&&t.hasAttribute("disabled")||(this._setFocusedItem(t),Polymer.IronMultiSelectableBehaviorImpl.select.apply(this,arguments))},_resetTabindices:function(){var t=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach(function(e){e.setAttribute("tabindex",e===t?"0":"-1")},this)},_updateMultiselectable:function(e){e?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")},_focusWithKeyboardEvent:function(e){if(-1===this._MODIFIER_KEYS.indexOf(e.key)){this.cancelDebouncer("_clearSearchText");for(var t,i=this._searchText||"",s=(i+=(e.key&&1==e.key.length?e.key:String.fromCharCode(e.keyCode)).toLocaleLowerCase()).length,o=0;t=this.items[o];o++)if(!t.hasAttribute("disabled")){var n=this.attrForItemTitle||"textContent",r=(t[n]||t.getAttribute(n)||"").trim();if(!(r.length<s)&&r.slice(0,s).toLocaleLowerCase()==i){this._setFocusedItem(t);break}}this._searchText=i,this.debounce("_clearSearchText",this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)}},_clearSearchText:function(){this._searchText=""},_focusPrevious:function(){for(var e,t=this.items.length,i=+this.indexOf(this.focusedItem),s=1;s<t+1;s++)if(!(e=this.items[(i-s+t)%t]).hasAttribute("disabled")){var o=Polymer.dom(e).getOwnerRoot()||document;if(this._setFocusedItem(e),Polymer.dom(o).activeElement==e)return}},_focusNext:function(){for(var e,t=this.items.length,i=+this.indexOf(this.focusedItem),s=1;s<t+1;s++)if(!(e=this.items[(i+s)%t]).hasAttribute("disabled")){var o=Polymer.dom(e).getOwnerRoot()||document;if(this._setFocusedItem(e),Polymer.dom(o).activeElement==e)return}},_applySelection:function(e,t){t?e.setAttribute("aria-selected","true"):e.removeAttribute("aria-selected"),Polymer.IronSelectableBehavior._applySelection.apply(this,arguments)},_focusedItemChanged:function(e,t){t&&t.setAttribute("tabindex","-1"),!e||e.hasAttribute("disabled")||this.disabled||(e.setAttribute("tabindex","0"),e.focus())},_onIronItemsChanged:function(e){e.detail.addedNodes.length&&this._resetTabindices()},_onShiftTabDown:function(){var e=this.getAttribute("tabindex");Polymer.IronMenuBehaviorImpl._shiftTabPressed=!0,this._setFocusedItem(null),this.setAttribute("tabindex","-1"),this.async(function(){this.setAttribute("tabindex",e),Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1},1)},_onFocus:function(e){if(!Polymer.IronMenuBehaviorImpl._shiftTabPressed){var t=Polymer.dom(e).rootTarget;t!==this&&void 0!==t.tabIndex&&!this.isLightDescendant(t)||(this._defaultFocusAsync=this.async(function(){var e=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null),e?this._setFocusedItem(e):this.items[0]&&this._focusNext()}))}},_onUpKey:function(e){this._focusPrevious(),e.detail.keyboardEvent.preventDefault()},_onDownKey:function(e){this._focusNext(),e.detail.keyboardEvent.preventDefault()},_onEscKey:function(){var e=this.focusedItem;e&&e.blur()},_onKeydown:function(e){this.keyboardEventMatchesKeys(e,"up down esc")||this._focusWithKeyboardEvent(e),e.stopPropagation()},_activateHandler:function(e){Polymer.IronSelectableBehavior._activateHandler.call(this,e),e.stopPropagation()},_disabledChanged:function(e){e?(this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:0,this.removeAttribute("tabindex")):this.hasAttribute("tabindex")||this.setAttribute("tabindex",this._previousTabIndex)}},Polymer.IronMenuBehaviorImpl._shiftTabPressed=!1,Polymer.IronMenuBehavior=[Polymer.IronMultiSelectableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronMenuBehaviorImpl]</script><dom-module id="paper-listbox"assetpath="../../bower_components/paper-listbox/"><template><style>:host{display:block;padding:8px 0;background:var(--paper-listbox-background-color, var(--primary-background-color));color:var(--paper-listbox-color, var(--primary-text-color));@apply --paper-listbox;}</style><slot></slot></template><script>Polymer({is:"paper-listbox",behaviors:[Polymer.IronMenuBehavior],hostAttributes:{role:"listbox"}})</script></dom-module><link rel="stylesheet"type="text/css"href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,300,300italic,400italic,500,500italic,700,700italic"crossorigin="anonymous"><custom-style><style is="custom-style">html{--paper-font-common-base:{font-family:'Roboto', 'Noto', sans-serif;-webkit-font-smoothing:antialiased;};--paper-font-common-code:{font-family:'Roboto Mono', 'Consolas', 'Menlo', monospace;-webkit-font-smoothing:antialiased;};--paper-font-common-expensive-kerning:{text-rendering:optimizeLegibility;};--paper-font-common-nowrap:{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;};--paper-font-display4:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:112px;font-weight:300;letter-spacing:-.044em;line-height:120px;};--paper-font-display3:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:56px;font-weight:400;letter-spacing:-.026em;line-height:60px;};--paper-font-display2:{@apply --paper-font-common-base;font-size:45px;font-weight:400;letter-spacing:-.018em;line-height:48px;};--paper-font-display1:{@apply --paper-font-common-base;font-size:34px;font-weight:400;letter-spacing:-.01em;line-height:40px;};--paper-font-headline:{@apply --paper-font-common-base;font-size:24px;font-weight:400;letter-spacing:-.012em;line-height:32px;};--paper-font-title:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:20px;font-weight:500;line-height:28px;};--paper-font-subhead:{@apply --paper-font-common-base;font-size:16px;font-weight:400;line-height:24px;};--paper-font-body2:{@apply --paper-font-common-base;font-size:14px;font-weight:500;line-height:24px;};--paper-font-body1:{@apply --paper-font-common-base;font-size:14px;font-weight:400;line-height:20px;};--paper-font-caption:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:12px;font-weight:400;letter-spacing:0.011em;line-height:20px;};--paper-font-menu:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:13px;font-weight:500;line-height:24px;};--paper-font-button:{@apply --paper-font-common-base;@apply --paper-font-common-nowrap;font-size:14px;font-weight:500;letter-spacing:0.018em;line-height:24px;text-transform:uppercase;};--paper-font-code2:{@apply --paper-font-common-code;font-size:14px;font-weight:700;line-height:20px;};--paper-font-code1:{@apply --paper-font-common-code;font-size:14px;font-weight:500;line-height:20px;};}</style></custom-style><dom-module id="paper-badge"assetpath="../../bower_components/paper-badge/"><template><style>:host{display:block;position:absolute;outline:none;}:host([hidden]), [hidden]{display:none !important;}iron-icon{--iron-icon-width:12px;--iron-icon-height:12px;}.badge{@apply --layout;@apply --layout-center-center;@apply --paper-font-common-base;font-weight:normal;font-size:11px;border-radius:50%;margin-left:var(--paper-badge-margin-left, 0px);margin-bottom:var(--paper-badge-margin-bottom, 0px);width:var(--paper-badge-width, 20px);height:var(--paper-badge-height, 20px);background-color:var(--paper-badge-background, var(--accent-color));opacity:var(--paper-badge-opacity, 1.0);color:var(--paper-badge-text-color, white);@apply --paper-badge;}</style><div class="badge"><iron-icon hidden$="{{!_computeIsIconBadge(icon)}}"icon="{{icon}}"></iron-icon><span id="badge-text"hidden$="{{_computeIsIconBadge(icon)}}">{{label}}</span></div></template><script>Polymer({is:"paper-badge",hostAttributes:{role:"status",tabindex:0},behaviors:[Polymer.IronResizableBehavior],listeners:{"iron-resize":"updatePosition"},properties:{for:{type:String,observer:"_forChanged"},label:{type:String,observer:"_labelChanged"},icon:{type:String,value:""},_boundNotifyResize:{type:Function,value:function(){return this.notifyResize.bind(this)}},_boundUpdateTarget:{type:Function,value:function(){return this._updateTarget.bind(this)}}},attached:function(){requestAnimationFrame(this._boundUpdateTarget)},attributeChanged:function(t){"hidden"===t&&this.updatePosition()},_forChanged:function(){this.isAttached&&this._updateTarget()},_labelChanged:function(){this.setAttribute("aria-label",this.label)},_updateTarget:function(){this._target=this.target,requestAnimationFrame(this._boundNotifyResize)},_computeIsIconBadge:function(t){return 0<t.length},get target(){var t=Polymer.dom(this).parentNode,e=Polymer.dom(this).getOwnerRoot();return this.for?Polymer.dom(e).querySelector("#"+this.for):t.nodeType==Node.DOCUMENT_FRAGMENT_NODE?e.host:t},updatePosition:function(){if(this._target&&this.offsetParent){var t=this.offsetParent.getBoundingClientRect(),e=this._target.getBoundingClientRect(),i=this.getBoundingClientRect();this.style.left=e.left-t.left+(e.width-i.width/2)+"px",this.style.top=e.top-t.top-i.height/2+"px"}}})</script></dom-module><script>Polymer.IronFitBehavior={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){return this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},get _fitHeight(){return this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height},get _fitLeft(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().left},get _fitTop(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().top},get _defaultPositionTarget(){var t=Polymer.dom(this).parentNode;return t&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(t=t.host),t},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign)return"left";if("left"===this.horizontalAlign)return"right"}return this.horizontalAlign},get __shouldPosition(){return(this.horizontalAlign||this.verticalAlign)&&this.positionTarget},attached:function(){void 0===this._isRTL&&(this._isRTL="rtl"==window.getComputedStyle(this).direction),this.positionTarget=this.positionTarget||this._defaultPositionTarget,this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):(window.ShadyDOM&&ShadyDOM.flush(),this.fit()))},detached:function(){this.__deferredFit&&(clearTimeout(this.__deferredFit),this.__deferredFit=null)},fit:function(){this.position(),this.constrain(),this.center()},_discoverInfo:function(){if(!this._fitInfo){var t=window.getComputedStyle(this),i=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==t.top?"top":"auto"!==t.bottom?"bottom":null,horizontally:"auto"!==t.left?"left":"auto"!==t.right?"right":null},sizedBy:{height:"none"!==i.maxHeight,width:"none"!==i.maxWidth,minWidth:parseInt(i.minWidth,10)||0,minHeight:parseInt(i.minHeight,10)||0},margin:{top:parseInt(t.marginTop,10)||0,right:parseInt(t.marginRight,10)||0,bottom:parseInt(t.marginBottom,10)||0,left:parseInt(t.marginLeft,10)||0}}}},resetFit:function(){var t=this._fitInfo||{};for(var i in t.sizerInlineStyle)this.sizingTarget.style[i]=t.sizerInlineStyle[i];for(var i in t.inlineStyle)this.style[i]=t.inlineStyle[i];this._fitInfo=null},refit:function(){var t=this.sizingTarget.scrollLeft,i=this.sizingTarget.scrollTop;this.resetFit(),this.fit(),this.sizingTarget.scrollLeft=t,this.sizingTarget.scrollTop=i},position:function(){if(this.__shouldPosition){this._discoverInfo(),this.style.position="fixed",this.sizingTarget.style.boxSizing="border-box",this.style.left="0px",this.style.top="0px";var t=this.getBoundingClientRect(),i=this.__getNormalizedRect(this.positionTarget),e=this.__getNormalizedRect(this.fitInto),o=this._fitInfo.margin,n={width:t.width+o.left+o.right,height:t.height+o.top+o.bottom},h=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,n,t,i,e),s=h.left+o.left,l=h.top+o.top,r=Math.min(e.right-o.right,s+t.width),a=Math.min(e.bottom-o.bottom,l+t.height);s=Math.max(e.left+o.left,Math.min(s,r-this._fitInfo.sizedBy.minWidth)),l=Math.max(e.top+o.top,Math.min(l,a-this._fitInfo.sizedBy.minHeight)),this.sizingTarget.style.maxWidth=Math.max(r-s,this._fitInfo.sizedBy.minWidth)+"px",this.sizingTarget.style.maxHeight=Math.max(a-l,this._fitInfo.sizedBy.minHeight)+"px",this.style.left=s-t.left+"px",this.style.top=l-t.top+"px"}},constrain:function(){if(!this.__shouldPosition){this._discoverInfo();var t=this._fitInfo;t.positionedBy.vertically||(this.style.position="fixed",this.style.top="0px"),t.positionedBy.horizontally||(this.style.position="fixed",this.style.left="0px"),this.sizingTarget.style.boxSizing="border-box";var i=this.getBoundingClientRect();t.sizedBy.height||this.__sizeDimension(i,t.positionedBy.vertically,"top","bottom","Height"),t.sizedBy.width||this.__sizeDimension(i,t.positionedBy.horizontally,"left","right","Width")}},_sizeDimension:function(t,i,e,o,n){this.__sizeDimension(t,i,e,o,n)},__sizeDimension:function(t,i,e,o,n){var h=this._fitInfo,s=this.__getNormalizedRect(this.fitInto),l="Width"===n?s.width:s.height,r=i===o,a=r?l-t[o]:t[e],f=h.margin[r?e:o],g="offset"+n,d=this[g]-this.sizingTarget[g];this.sizingTarget.style["max"+n]=l-f-a-d+"px"},center:function(){if(!this.__shouldPosition){this._discoverInfo();var t=this._fitInfo.positionedBy;if(!t.vertically||!t.horizontally){this.style.position="fixed",t.vertically||(this.style.top="0px"),t.horizontally||(this.style.left="0px");var i=this.getBoundingClientRect(),e=this.__getNormalizedRect(this.fitInto);if(!t.vertically){var o=e.top-i.top+(e.height-i.height)/2;this.style.top=o+"px"}if(!t.horizontally){var n=e.left-i.left+(e.width-i.width)/2;this.style.left=n+"px"}}}},__getNormalizedRect:function(t){return t===document.documentElement||t===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:t.getBoundingClientRect()},__getOffscreenArea:function(t,i,e){var o=Math.min(0,t.top)+Math.min(0,e.bottom-(t.top+i.height)),n=Math.min(0,t.left)+Math.min(0,e.right-(t.left+i.width));return Math.abs(o)*i.width+Math.abs(n)*i.height},__getPosition:function(t,i,e,o,n,h){var s=[{verticalAlign:"top",horizontalAlign:"left",top:n.top+this.verticalOffset,left:n.left+this.horizontalOffset},{verticalAlign:"top",horizontalAlign:"right",top:n.top+this.verticalOffset,left:n.right-e.width-this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"left",top:n.bottom-e.height-this.verticalOffset,left:n.left+this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"right",top:n.bottom-e.height-this.verticalOffset,left:n.right-e.width-this.horizontalOffset}];if(this.noOverlap){for(var l,r=0,a=s.length;r<a;r++){for(var f in l={},s[r])l[f]=s[r][f];s.push(l)}s[0].top=s[1].top+=n.height,s[2].top=s[3].top-=n.height,s[4].left=s[6].left+=n.width,s[5].left=s[7].left-=n.width}i="auto"===i?null:i,(t="auto"===t?null:t)&&"center"!==t||(s.push({verticalAlign:"top",horizontalAlign:"center",top:n.top+this.verticalOffset+(this.noOverlap?n.height:0),left:n.left-o.width/2+n.width/2+this.horizontalOffset}),s.push({verticalAlign:"bottom",horizontalAlign:"center",top:n.bottom-e.height-this.verticalOffset-(this.noOverlap?n.height:0),left:n.left-o.width/2+n.width/2+this.horizontalOffset})),i&&"middle"!==i||(s.push({verticalAlign:"middle",horizontalAlign:"left",top:n.top-o.height/2+n.height/2+this.verticalOffset,left:n.left+this.horizontalOffset+(this.noOverlap?n.width:0)}),s.push({verticalAlign:"middle",horizontalAlign:"right",top:n.top-o.height/2+n.height/2+this.verticalOffset,left:n.right-e.width-this.horizontalOffset-(this.noOverlap?n.width:0)})),"middle"===i&&"center"===t&&s.push({verticalAlign:"middle",horizontalAlign:"center",top:n.top-o.height/2+n.height/2+this.verticalOffset,left:n.left-o.width/2+n.width/2+this.horizontalOffset});var g;for(r=0;r<s.length;r++){var d=s[r],p=d.verticalAlign===i,c=d.horizontalAlign===t;if(!this.dynamicAlign&&!this.noOverlap&&p&&c){g=d;break}var m=!(i&&!p||t&&!c);if(this.dynamicAlign||m){if(d.offscreenArea=this.__getOffscreenArea(d,e,h),0===d.offscreenArea&&m){g=d;break}g=g||d;var y=d.offscreenArea-g.offscreenArea;(y<0||0==y&&(p||c))&&(g=d)}}return g}}</script><dom-module id="iron-overlay-backdrop"assetpath="../../bower_components/iron-overlay-behavior/"><template><style>:host{position:fixed;top:0;left:0;width:100%;height:100%;background-color:var(--iron-overlay-backdrop-background-color, #000);opacity:0;transition:opacity 0.2s;pointer-events:none;@apply --iron-overlay-backdrop;}:host(.opened){opacity:var(--iron-overlay-backdrop-opacity, 0.6);pointer-events:auto;@apply --iron-overlay-backdrop-opened;}</style><slot></slot></template></dom-module><script>Polymer({is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},prepare:function(){this.opened&&!this.parentNode&&Polymer.dom(document.body).appendChild(this)},open:function(){this.opened=!0},close:function(){this.opened=!1},complete:function(){this.opened||this.parentNode!==document.body||Polymer.dom(this.parentNode).removeChild(this)},_onTransitionend:function(e){e&&e.target===this&&this.complete()},_openedChanged:function(e){if(e)this.prepare();else{var n=window.getComputedStyle(this);"0s"!==n.transitionDuration&&0!=n.opacity||this.complete()}this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null,this.toggleClass("opened",this.opened)}.bind(this)))}})</script><script>Polymer.IronOverlayManagerClass=function(){this._overlays=[],this._minimumZ=101,this._backdropElement=null,Polymer.Gestures.add(document.documentElement,"tap",function(){}),document.addEventListener("tap",this._onCaptureClick.bind(this),!0),document.addEventListener("focus",this._onCaptureFocus.bind(this),!0),document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)},Polymer.IronOverlayManagerClass.prototype={constructor:Polymer.IronOverlayManagerClass,get backdropElement(){return this._backdropElement||(this._backdropElement=document.createElement("iron-overlay-backdrop")),this._backdropElement},get deepActiveElement(){var e=document.activeElement;for(e&&!1!==babelHelpers.instanceof(e,Element)||(e=document.body);e.root&&Polymer.dom(e.root).activeElement;)e=Polymer.dom(e.root).activeElement;return e},_bringOverlayAtIndexToFront:function(e){var t=this._overlays[e];if(t){var r=this._overlays.length-1,a=this._overlays[r];if(a&&this._shouldBeBehindOverlay(t,a)&&r--,!(r<=e)){var n=Math.max(this.currentOverlayZ(),this._minimumZ);for(this._getZ(t)<=n&&this._applyOverlayZ(t,n);e<r;)this._overlays[e]=this._overlays[e+1],e++;this._overlays[r]=t}}},addOrRemoveOverlay:function(e){e.opened?this.addOverlay(e):this.removeOverlay(e)},addOverlay:function(e){var t=this._overlays.indexOf(e);if(0<=t)return this._bringOverlayAtIndexToFront(t),void this.trackBackdrop();var r=this._overlays.length,a=this._overlays[r-1],n=Math.max(this._getZ(a),this._minimumZ),o=this._getZ(e);if(a&&this._shouldBeBehindOverlay(e,a)){this._applyOverlayZ(a,n),r--;var i=this._overlays[r-1];n=Math.max(this._getZ(i),this._minimumZ)}o<=n&&this._applyOverlayZ(e,n),this._overlays.splice(r,0,e),this.trackBackdrop()},removeOverlay:function(e){var t=this._overlays.indexOf(e);-1!==t&&(this._overlays.splice(t,1),this.trackBackdrop())},currentOverlay:function(){var e=this._overlays.length-1;return this._overlays[e]},currentOverlayZ:function(){return this._getZ(this.currentOverlay())},ensureMinimumZ:function(e){this._minimumZ=Math.max(this._minimumZ,e)},focusOverlay:function(){var e=this.currentOverlay();e&&e._applyFocus()},trackBackdrop:function(){var e=this._overlayWithBackdrop();(e||this._backdropElement)&&(this.backdropElement.style.zIndex=this._getZ(e)-1,this.backdropElement.opened=!!e,this.backdropElement.prepare())},getBackdrops:function(){for(var e=[],t=0;t<this._overlays.length;t++)this._overlays[t].withBackdrop&&e.push(this._overlays[t]);return e},backdropZ:function(){return this._getZ(this._overlayWithBackdrop())-1},_overlayWithBackdrop:function(){for(var e=this._overlays.length-1;0<=e;e--)if(this._overlays[e].withBackdrop)return this._overlays[e]},_getZ:function(e){var t=this._minimumZ;if(e){var r=+(e.style.zIndex||window.getComputedStyle(e).zIndex);r==r&&(t=r)}return t},_setZ:function(e,t){e.style.zIndex=t},_applyOverlayZ:function(e,t){this._setZ(e,t+2)},_overlayInPath:function(e){e=e||[];for(var t=0;t<e.length;t++)if(e[t]._manager===this)return e[t]},_onCaptureClick:function(e){var t=this._overlays.length-1;if(-1!==t)for(var r,a=Polymer.dom(e).path;(r=this._overlays[t])&&this._overlayInPath(a)!==r&&(r._onCaptureClick(e),r.allowClickThrough);)t--},_onCaptureFocus:function(e){var t=this.currentOverlay();t&&t._onCaptureFocus(e)},_onCaptureKeyDown:function(e){var t=this.currentOverlay();t&&(Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(e,"esc")?t._onCaptureEsc(e):Polymer.IronA11yKeysBehavior.keyboardEventMatchesKeys(e,"tab")&&t._onCaptureTab(e))},_shouldBeBehindOverlay:function(e,t){return!e.alwaysOnTop&&t.alwaysOnTop}},Polymer.IronOverlayManager=new Polymer.IronOverlayManagerClass</script><script>!function(){"use strict";var n={pageX:0,pageY:0},o=null,r=[],l=["wheel","mousewheel","DOMMouseScroll","touchstart","touchmove"];Polymer.IronScrollManager={get currentLockingElement(){return this._lockingElements[this._lockingElements.length-1]},elementIsScrollLocked:function(e){var t,l=this.currentLockingElement;return void 0!==l&&(!!this._hasCachedLockedElement(e)||!this._hasCachedUnlockedElement(e)&&((t=!!l&&l!==e&&!this._composedTreeContains(l,e))?this._lockedElementCache.push(e):this._unlockedElementCache.push(e),t))},pushScrollLock:function(e){0<=this._lockingElements.indexOf(e)||(0===this._lockingElements.length&&this._lockScrollInteractions(),this._lockingElements.push(e),this._lockedElementCache=[],this._unlockedElementCache=[])},removeScrollLock:function(e){var t=this._lockingElements.indexOf(e);-1!==t&&(this._lockingElements.splice(t,1),this._lockedElementCache=[],this._unlockedElementCache=[],0===this._lockingElements.length&&this._unlockScrollInteractions())},_lockingElements:[],_lockedElementCache:null,_unlockedElementCache:null,_hasCachedLockedElement:function(e){return-1<this._lockedElementCache.indexOf(e)},_hasCachedUnlockedElement:function(e){return-1<this._unlockedElementCache.indexOf(e)},_composedTreeContains:function(e,t){var l,n,o,r;if(e.contains(t))return!0;for(l=Polymer.dom(e).querySelectorAll("content,slot"),o=0;o<l.length;++o)for(n=Polymer.dom(l[o]).getDistributedNodes(),r=0;r<n.length;++r)if(n[r].nodeType===Node.ELEMENT_NODE&&this._composedTreeContains(n[r],t))return!0;return!1},_scrollInteractionHandler:function(e){if(e.cancelable&&this._shouldPreventScrolling(e)&&e.preventDefault(),e.targetTouches){var t=e.targetTouches[0];n.pageX=t.pageX,n.pageY=t.pageY}},_boundScrollHandler:void 0,_lockScrollInteractions:function(){this._boundScrollHandler=this._boundScrollHandler||this._scrollInteractionHandler.bind(this);for(var e=0,t=l.length;e<t;e++)document.addEventListener(l[e],this._boundScrollHandler,{capture:!0,passive:!1})},_unlockScrollInteractions:function(){for(var e=0,t=l.length;e<t;e++)document.removeEventListener(l[e],this._boundScrollHandler,{capture:!0,passive:!1})},_shouldPreventScrolling:function(e){var t=Polymer.dom(e).rootTarget;if("touchmove"!==e.type&&o!==t&&(o=t,r=this._getScrollableNodes(Polymer.dom(e).path)),!r.length)return!0;if("touchstart"===e.type)return!1;var l=this._getScrollInfo(e);return!this._getScrollingNode(r,l.deltaX,l.deltaY)},_getScrollableNodes:function(e){for(var t=[],l=e.indexOf(this.currentLockingElement),n=0;n<=l;n++)if(e[n].nodeType===Node.ELEMENT_NODE){var o=e[n],r=o.style;"scroll"!==r.overflow&&"auto"!==r.overflow&&(r=window.getComputedStyle(o)),"scroll"!==r.overflow&&"auto"!==r.overflow||t.push(o)}return t},_getScrollingNode:function(e,t,l){if(t||l)for(var n=Math.abs(l)>=Math.abs(t),o=0;o<e.length;o++){var r=e[o];if(n?l<0?0<r.scrollTop:r.scrollTop<r.scrollHeight-r.clientHeight:t<0?0<r.scrollLeft:r.scrollLeft<r.scrollWidth-r.clientWidth)return r}},_getScrollInfo:function(e){var t={deltaX:e.deltaX,deltaY:e.deltaY};if(!("deltaX"in e))if("wheelDeltaX"in e&&"wheelDeltaY"in e)t.deltaX=-e.wheelDeltaX,t.deltaY=-e.wheelDeltaY;else if("wheelDelta"in e)t.deltaX=0,t.deltaY=-e.wheelDelta;else if("axis"in e)t.deltaX=1===e.axis?e.detail:0,t.deltaY=2===e.axis?e.detail:0;else if(e.targetTouches){var l=e.targetTouches[0];t.deltaX=n.pageX-l.pageX,t.deltaY=n.pageY-l.pageY}return t}}}()</script><script>!function(){"use strict";var e=Element.prototype,t=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;Polymer.IronFocusablesHelper={getTabbableNodes:function(e){var t=[];return this._collectTabbableNodes(e,t)?this._sortByTabIndex(t):t},isFocusable:function(e){return t.call(e,"input, select, textarea, button, object")?t.call(e,":not([disabled])"):t.call(e,"a[href], area[href], iframe, [tabindex], [contentEditable]")},isTabbable:function(e){return this.isFocusable(e)&&t.call(e,':not([tabindex="-1"])')&&this._isVisible(e)},_normalizedTabIndex:function(e){return this.isFocusable(e)?+(e.getAttribute("tabindex")||0):-1},_collectTabbableNodes:function(e,t){if(e.nodeType!==Node.ELEMENT_NODE||!this._isVisible(e))return!1;var a,i=e,n=this._normalizedTabIndex(i),r=0<n;0<=n&&t.push(i),a="content"===i.localName||"slot"===i.localName?Polymer.dom(i).getDistributedNodes():Polymer.dom(i.root||i).children;for(var o=0;o<a.length;o++)r=this._collectTabbableNodes(a[o],t)||r;return r},_isVisible:function(e){var t=e.style;return"hidden"!==t.visibility&&"none"!==t.display&&("hidden"!==(t=window.getComputedStyle(e)).visibility&&"none"!==t.display)},_sortByTabIndex:function(e){var t=e.length;if(t<2)return e;var a=Math.ceil(t/2),i=this._sortByTabIndex(e.slice(0,a)),n=this._sortByTabIndex(e.slice(a));return this._mergeSortByTabIndex(i,n)},_mergeSortByTabIndex:function(e,t){for(var a=[];0<e.length&&0<t.length;)this._hasLowerTabOrder(e[0],t[0])?a.push(t.shift()):a.push(e.shift());return a.concat(e,t)},_hasLowerTabOrder:function(e,t){var a=Math.max(e.tabIndex,0),i=Math.max(t.tabIndex,0);return 0===a||0===i?a<i:i<a}}}()</script><script>!function(){"use strict";Polymer.IronOverlayBehaviorImpl={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},allowClickThrough:{type:Boolean},alwaysOnTop:{type:Boolean},scrollAction:{type:String},_manager:{type:Object,value:Polymer.IronOverlayManager},_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},observers:["__updateScrollObservers(isAttached, opened, scrollAction)"],get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||Polymer.dom(this).querySelector("[autofocus]")||this},get _focusableNodes(){return Polymer.IronFocusablesHelper.getTabbableNodes(this)},ready:function(){this.__isAnimating=!1,this.__shouldRemoveTabIndex=!1,this.__firstFocusableNode=this.__lastFocusableNode=null,this.__rafs={},this.__restoreFocusNode=null,this.__scrollTop=this.__scrollLeft=null,this.__onCaptureScroll=this.__onCaptureScroll.bind(this),this.__rootNodes=null,this._ensureSetup()},attached:function(){this.opened&&this._openedChanged(this.opened),this._observer=Polymer.dom(this).observeNodes(this._onNodesChange)},detached:function(){for(var e in Polymer.dom(this).unobserveNodes(this._observer),this._observer=null,this.__rafs)null!==this.__rafs[e]&&cancelAnimationFrame(this.__rafs[e]);this.__rafs={},this._manager.removeOverlay(this),this.__isAnimating&&(this.opened?this._finishRenderOpened():(this._applyFocus(),this._finishRenderClosed()))},toggle:function(){this._setCanceled(!1),this.opened=!this.opened},open:function(){this._setCanceled(!1),this.opened=!0},close:function(){this._setCanceled(!1),this.opened=!1},cancel:function(e){this.fire("iron-overlay-canceled",e,{cancelable:!0}).defaultPrevented||(this._setCanceled(!0),this.opened=!1)},invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline="none",this.style.display="none")},_openedChanged:function(e){e?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true"),this.isAttached&&(this.__isAnimating=!0,this.__deraf("__openedChanged",this.__openedChanged))},_canceledChanged:function(){this.closingReason=this.closingReason||{},this.closingReason.canceled=this.canceled},_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute("tabindex")?(this.setAttribute("tabindex","-1"),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute("tabindex"),this.__shouldRemoveTabIndex=!1),this.opened&&this.isAttached&&this._manager.trackBackdrop()},_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement,this._preparePositioning(),this.refit(),this._finishPositioning(),this.noAutoFocus&&document.activeElement===this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},_renderOpened:function(){this._finishRenderOpened()},_renderClosed:function(){this._finishRenderClosed()},_finishRenderOpened:function(){this.notifyResize(),this.__isAnimating=!1,this.fire("iron-overlay-opened")},_finishRenderClosed:function(){this.style.display="none",this.style.zIndex="",this.notifyResize(),this.__isAnimating=!1,this.fire("iron-overlay-closed",this.closingReason)},_preparePositioning:function(){this.style.transition=this.style.webkitTransition="none",this.style.transform=this.style.webkitTransform="none",this.style.display=""},_finishPositioning:function(){this.style.display="none",this.scrollTop=this.scrollTop,this.style.transition=this.style.webkitTransition="",this.style.transform=this.style.webkitTransform="",this.style.display="",this.scrollTop=this.scrollTop},_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{if(this.restoreFocusOnClose&&this.__restoreFocusNode){var e=this._manager.deepActiveElement;e!==document.body&&!Polymer.dom(this).deepContains(e)||this.__restoreFocusNode.focus()}this.__restoreFocusNode=null,this._focusNode.blur(),this._focusedChild=null}},_onCaptureClick:function(e){this.noCancelOnOutsideClick||this.cancel(e)},_onCaptureFocus:function(e){if(this.withBackdrop){var t=Polymer.dom(e).path;-1===t.indexOf(this)?(e.stopPropagation(),this._applyFocus()):this._focusedChild=t[0]}},_onCaptureEsc:function(e){this.noCancelOnEscKey||this.cancel(e)},_onCaptureTab:function(e){if(this.withBackdrop){this.__ensureFirstLastFocusables();var t=e.shiftKey,s=t?this.__firstFocusableNode:this.__lastFocusableNode,o=t?this.__lastFocusableNode:this.__firstFocusableNode,i=!1;if(s===o)i=!0;else{var n=this._manager.deepActiveElement;i=n===s||n===this}i&&(e.preventDefault(),this._focusedChild=o,this._applyFocus())}},_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__deraf("refit",this.refit)},_onNodesChange:function(){this.opened&&!this.__isAnimating&&(this.invalidateTabbables(),this.notifyResize())},__ensureFirstLastFocusables:function(){if(!this.__firstFocusableNode||!this.__lastFocusableNode){var e=this._focusableNodes;this.__firstFocusableNode=e[0],this.__lastFocusableNode=e[e.length-1]}},__openedChanged:function(){this.opened?(this._prepareRenderOpened(),this._manager.addOverlay(this),this._applyFocus(),this._renderOpened()):(this._manager.removeOverlay(this),this._applyFocus(),this._renderClosed())},__deraf:function(e,t){var s=this.__rafs;null!==s[e]&&cancelAnimationFrame(s[e]),s[e]=requestAnimationFrame(function(){s[e]=null,t.call(this)}.bind(this))},__updateScrollObservers:function(e,t,s){e&&t&&this.__isValidScrollAction(s)?("lock"===s&&(this.__saveScrollPosition(),Polymer.IronScrollManager.pushScrollLock(this)),this.__addScrollListeners()):(Polymer.IronScrollManager.removeScrollLock(this),this.__removeScrollListeners())},__addScrollListeners:function(){if(!this.__rootNodes){if(this.__rootNodes=[],Polymer.Settings.useShadow)for(var e=this;e;)e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host&&this.__rootNodes.push(e),e=e.host||e.assignedSlot||e.parentNode;this.__rootNodes.push(document)}this.__rootNodes.forEach(function(e){e.addEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this)},__removeScrollListeners:function(){this.__rootNodes&&this.__rootNodes.forEach(function(e){e.removeEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})},this),this.isAttached||(this.__rootNodes=null)},__isValidScrollAction:function(e){return"lock"===e||"refit"===e||"cancel"===e},__onCaptureScroll:function(e){if(!(this.__isAnimating||0<=Polymer.dom(e).path.indexOf(this)))switch(this.scrollAction){case"lock":this.__restoreScrollPosition();break;case"refit":this.__deraf("refit",this.refit);break;case"cancel":this.cancel(e)}},__saveScrollPosition:function(){document.scrollingElement?(this.__scrollTop=document.scrollingElement.scrollTop,this.__scrollLeft=document.scrollingElement.scrollLeft):(this.__scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this.__scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},__restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this.__scrollTop,document.scrollingElement.scrollLeft=this.__scrollLeft):(document.documentElement.scrollTop=document.body.scrollTop=this.__scrollTop,document.documentElement.scrollLeft=document.body.scrollLeft=this.__scrollLeft)}},Polymer.IronOverlayBehavior=[Polymer.IronFitBehavior,Polymer.IronResizableBehavior,Polymer.IronOverlayBehaviorImpl]}()</script><script>Polymer.NeonAnimatableBehavior={properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(i,n){for(var t in n)i[t]=n[t]},_cloneConfig:function(i){var n={isClone:!0};return this._copyProperties(n,i),n},_getAnimationConfigRecursive:function(i,n,t){var o;if(this.animationConfig)if(this.animationConfig.value&&"function"==typeof this.animationConfig.value)this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));else if(o=i?this.animationConfig[i]:this.animationConfig,Array.isArray(o)||(o=[o]),o)for(var e,a=0;e=o[a];a++)if(e.animatable)e.animatable._getAnimationConfigRecursive(e.type||i,n,t);else if(e.id){var r=n[e.id];r?(r.isClone||(n[e.id]=this._cloneConfig(r),r=n[e.id]),this._copyProperties(r,e)):n[e.id]=e}else t.push(e)},getAnimationConfig:function(i){var n={},t=[];for(var o in this._getAnimationConfigRecursive(i,n,t),n)t.push(n[o]);return t}}</script><script>Polymer.NeonAnimationRunnerBehaviorImpl={_configureAnimations:function(n){var i=[],e=[];if(0<n.length)for(var t,o=0;l=n[o];o++)if((t=document.createElement(l.name)).isNeonAnimation){var a=null;t.configure||(t.configure=function(n){return null}),a=t.configure(l),e.push({result:a,config:l})}else console.warn(this.is+":",l.name,"not found!");for(var r=0;r<e.length;r++){a=e[r].result;var l=e[r].config;try{"function"!=typeof a.cancel&&(a=document.timeline.play(a))}catch(n){a=null,console.warn("Couldnt play","(",l.name,").",n)}a&&i.push({neonAnimation:t,config:l,animation:a})}return i},_shouldComplete:function(n){for(var i=!0,e=0;e<n.length;e++)if("finished"!=n[e].animation.playState){i=!1;break}return i},_complete:function(n){for(var i=0;i<n.length;i++)n[i].neonAnimation.complete(n[i].config);for(i=0;i<n.length;i++)n[i].animation.cancel()},playAnimation:function(n,i){var e=this.getAnimationConfig(n);if(e){this._active=this._active||{},this._active[n]&&(this._complete(this._active[n]),delete this._active[n]);var t=this._configureAnimations(e);if(0!=t.length){this._active[n]=t;for(var o=0;o<t.length;o++)t[o].animation.onfinish=function(){this._shouldComplete(t)&&(this._complete(t),delete this._active[n],this.fire("neon-animation-finish",i,{bubbles:!1}))}.bind(this)}else this.fire("neon-animation-finish",i,{bubbles:!1})}},cancelAnimation:function(){for(var n in this._active){var i=this._active[n];for(var e in i)i[e].animation.cancel()}this._active={}}},Polymer.NeonAnimationRunnerBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonAnimationRunnerBehaviorImpl]</script><script>!function(){"use strict";Polymer.IronDropdownScrollManager=Polymer.IronScrollManager}()</script><dom-module id="iron-dropdown"assetpath="../../bower_components/iron-dropdown/"><template><style>:host{position:fixed;}#contentWrapper ::slotted(*){overflow:auto;}#contentWrapper.animating ::slotted(*){overflow:hidden;pointer-events:none;}</style><div id="contentWrapper"><slot id="content"name="dropdown-content"></slot></div></template><script>!function(){"use strict";Polymer({is:"iron-dropdown",behaviors:[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.IronOverlayBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1,observer:"_allowOutsideScrollChanged"}},listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],get containedElement(){for(var i=Polymer.dom(this.$.content).getDistributedNodes(),n=0,t=i.length;n<t;n++)if(i[n].nodeType===Node.ELEMENT_NODE)return i[n]},ready:function(){this.scrollAction||(this.scrollAction=this.allowOutsideScroll?"refit":"lock"),this._readied=!0},attached:function(){this.sizingTarget&&this.sizingTarget!==this||(this.sizingTarget=this.containedElement||this)},detached:function(){this.cancelAnimation()},_openedChanged:function(){this.opened&&this.disabled?this.cancel():(this.cancelAnimation(),this._updateAnimationConfig(),Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments))},_renderOpened:function(){!this.noAnimations&&this.animationConfig.open?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("open")):Polymer.IronOverlayBehaviorImpl._renderOpened.apply(this,arguments)},_renderClosed:function(){!this.noAnimations&&this.animationConfig.close?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("close")):Polymer.IronOverlayBehaviorImpl._renderClosed.apply(this,arguments)},_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove("animating"),this.opened?this._finishRenderOpened():this._finishRenderClosed()},_updateAnimationConfig:function(){for(var i=this.containedElement,n=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),t=0;t<n.length;t++)n[t].node=i;this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},_updateOverlayPosition:function(){this.isAttached&&this.notifyResize()},_allowOutsideScrollChanged:function(i){this._readied&&(i?this.scrollAction&&"lock"!==this.scrollAction||(this.scrollAction="refit"):this.scrollAction="lock")},_applyFocus:function(){var i=this.focusTarget||this.containedElement;i&&this.opened&&!this.noAutoFocus?i.focus():Polymer.IronOverlayBehaviorImpl._applyFocus.apply(this,arguments)}})}()</script></dom-module><script>Polymer.NeonAnimationBehavior={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},isNeonAnimation:!0,created:function(){document.body.animate||console.warn("No web animations detected. This element will not function without a web animations polyfill.")},timingFromConfig:function(i){if(i.timing)for(var n in i.timing)this.animationTiming[n]=i.timing[n];return this.animationTiming},setPrefixedProperty:function(i,n,t){for(var o,e={transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]}[n],r=0;o=e[r];r++)i.style[o]=t;i.style[n]=t},complete:function(){}}</script><script>Polymer({is:"fade-in-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(i){var e=i.node;return this._effect=new KeyframeEffect(e,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(i)),this._effect}})</script><script>Polymer({is:"fade-out-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(e){var i=e.node;return this._effect=new KeyframeEffect(i,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(e)),this._effect}})</script><custom-style><style is="custom-style">html{--shadow-transition:{transition:box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);};--shadow-none:{box-shadow:none;};--shadow-elevation-2dp:{box-shadow:0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);};--shadow-elevation-3dp:{box-shadow:0 3px 4px 0 rgba(0, 0, 0, 0.14),
                    0 1px 8px 0 rgba(0, 0, 0, 0.12),
                    0 3px 3px -2px rgba(0, 0, 0, 0.4);};--shadow-elevation-4dp:{box-shadow:0 4px 5px 0 rgba(0, 0, 0, 0.14),
                    0 1px 10px 0 rgba(0, 0, 0, 0.12),
                    0 2px 4px -1px rgba(0, 0, 0, 0.4);};--shadow-elevation-6dp:{box-shadow:0 6px 10px 0 rgba(0, 0, 0, 0.14),
                    0 1px 18px 0 rgba(0, 0, 0, 0.12),
                    0 3px 5px -1px rgba(0, 0, 0, 0.4);};--shadow-elevation-8dp:{box-shadow:0 8px 10px 1px rgba(0, 0, 0, 0.14),
                    0 3px 14px 2px rgba(0, 0, 0, 0.12),
                    0 5px 5px -3px rgba(0, 0, 0, 0.4);};--shadow-elevation-12dp:{box-shadow:0 12px 16px 1px rgba(0, 0, 0, 0.14),
                    0 4px 22px 3px rgba(0, 0, 0, 0.12),
                    0 6px 7px -4px rgba(0, 0, 0, 0.4);};--shadow-elevation-16dp:{box-shadow:0 16px 24px 2px rgba(0, 0, 0, 0.14),
                    0  6px 30px 5px rgba(0, 0, 0, 0.12),
                    0  8px 10px -5px rgba(0, 0, 0, 0.4);};--shadow-elevation-24dp:{box-shadow:0 24px 38px 3px rgba(0, 0, 0, 0.14),
                    0 9px 46px 8px rgba(0, 0, 0, 0.12),
                    0 11px 15px -7px rgba(0, 0, 0, 0.4);};}</style></custom-style><script>Polymer({is:"paper-menu-grow-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(e){var i=e.node,t=i.getBoundingClientRect().height;return this._effect=new KeyframeEffect(i,[{height:t/2+"px"},{height:t+"px"}],this.timingFromConfig(e)),this._effect}}),Polymer({is:"paper-menu-grow-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(e){var i=e.node,t=i.getBoundingClientRect().width;return this._effect=new KeyframeEffect(i,[{width:t/2+"px"},{width:t+"px"}],this.timingFromConfig(e)),this._effect}}),Polymer({is:"paper-menu-shrink-width-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(e){var i=e.node,t=i.getBoundingClientRect().width;return this._effect=new KeyframeEffect(i,[{width:t+"px"},{width:t-t/20+"px"}],this.timingFromConfig(e)),this._effect}}),Polymer({is:"paper-menu-shrink-height-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(e){var i=e.node,t=i.getBoundingClientRect().height;return this.setPrefixedProperty(i,"transformOrigin","0 0"),this._effect=new KeyframeEffect(i,[{height:t+"px",transform:"translateY(0)"},{height:t/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(e)),this._effect}})</script><dom-module id="paper-menu-button"assetpath="../../bower_components/paper-menu-button/"><template><style>:host{display:inline-block;position:relative;padding:8px;outline:none;@apply --paper-menu-button;}:host([disabled]){cursor:auto;color:var(--disabled-text-color);@apply --paper-menu-button-disabled;}iron-dropdown{@apply --paper-menu-button-dropdown;}.dropdown-content{@apply --shadow-elevation-2dp;position:relative;border-radius:2px;background-color:var(--paper-menu-button-dropdown-background, var(--primary-background-color));@apply --paper-menu-button-content;}:host([vertical-align="top"]) .dropdown-content{margin-bottom:20px;margin-top:-10px;top:10px;}:host([vertical-align="bottom"]) .dropdown-content{bottom:10px;margin-bottom:-10px;margin-top:20px;}#trigger{cursor:pointer;}</style><div id="trigger"on-tap="toggle"><slot name="dropdown-trigger"></slot></div><iron-dropdown id="dropdown"opened="{{opened}}"horizontal-align="[[horizontalAlign]]"vertical-align="[[verticalAlign]]"dynamic-align="[[dynamicAlign]]"horizontal-offset="[[horizontalOffset]]"vertical-offset="[[verticalOffset]]"no-overlap="[[noOverlap]]"open-animation-config="[[openAnimationConfig]]"close-animation-config="[[closeAnimationConfig]]"no-animations="[[noAnimations]]"focus-target="[[_dropdownContent]]"allow-outside-scroll="[[allowOutsideScroll]]"restore-focus-on-close="[[restoreFocusOnClose]]"on-iron-overlay-canceled="__onIronOverlayCanceled"><div slot="dropdown-content"class="dropdown-content"><slot id="content"name="dropdown-content"></slot></div></iron-dropdown></template><script>!function(){"use strict";var n={ANIMATION_CUBIC_BEZIER:"cubic-bezier(.3,.95,.5,1)",MAX_ANIMATION_TIME_MS:400};Polymer.PaperMenuButton=Polymer({is:"paper-menu-button",behaviors:[Polymer.IronA11yKeysBehavior,Polymer.IronControlState],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:n.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:n.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,value:function(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:n.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-activate":"_onIronActivate","iron-select":"_onIronSelect"},get contentElement(){for(var e=Polymer.dom(this.$.content).getDistributedNodes(),n=0,t=e.length;n<t;n++)if(e[n].nodeType===Node.ELEMENT_NODE)return e[n]},toggle:function(){this.opened?this.close():this.open()},open:function(){this.disabled||this.$.dropdown.open()},close:function(){this.$.dropdown.close()},_onIronSelect:function(){this.ignoreSelect||this.close()},_onIronActivate:function(){this.closeOnActivate&&this.close()},_openedChanged:function(e,n){e?(this._dropdownContent=this.contentElement,this.fire("paper-dropdown-open")):null!=n&&this.fire("paper-dropdown-close")},_disabledChanged:function(e){Polymer.IronControlState._disabledChanged.apply(this,arguments),e&&this.opened&&this.close()},__onIronOverlayCanceled:function(e){var n=e.detail,t=this.$.trigger;-1<Polymer.dom(n).path.indexOf(t)&&e.preventDefault()}}),Object.keys(n).forEach(function(e){Polymer.PaperMenuButton[e]=n[e]})}()</script></dom-module><script>Polymer.AppLayoutBehavior=[Polymer.IronResizableBehavior,{listeners:{"app-reset-layout":"_appResetLayoutHandler","iron-resize":"resetLayout"},attached:function(){this.fire("app-reset-layout")},_appResetLayoutHandler:function(e){Polymer.dom(e).path[0]!==this&&(this.resetLayout(),e.stopPropagation())},_updateLayoutStates:function(){console.error("unimplemented")},resetLayout:function(){var e=this._updateLayoutStates.bind(this);Polymer.Async&&Polymer.Async.animationFrame?(this._layoutDebouncer=Polymer.Debouncer.debounce(this._layoutDebouncer,Polymer.Async.animationFrame,e),Polymer.enqueueDebouncer(this._layoutDebouncer)):this.debounce("resetLayout",e),this._notifyDescendantResize()},_notifyLayoutChanged:function(){var e=this;requestAnimationFrame(function(){e.fire("app-reset-layout")})},_notifyDescendantResize:function(){this.isAttached&&this._interestedResizables.forEach(function(e){this.resizerShouldNotify(e)&&this._notifyDescendant(e)},this)}}]</script><dom-module id="app-drawer-layout"assetpath="../../bower_components/app-layout/app-drawer-layout/"><template><style>:host{display:block;position:relative;z-index:0;}:host ::slotted([slot=drawer]){z-index:1;}:host([fullbleed]){@apply --layout-fit;}#contentContainer{position:relative;z-index:0;height:100%;transition:var(--app-drawer-layout-content-transition, none);}#contentContainer[drawer-position=left]{margin-left:var(--app-drawer-width, 256px);}#contentContainer[drawer-position=right]{margin-right:var(--app-drawer-width, 256px);}</style><slot id="drawerSlot"name="drawer"></slot><div id="contentContainer"drawer-position$="[[_drawerPosition]]"><slot></slot></div><iron-media-query query="[[_computeMediaQuery(forceNarrow, responsiveWidth)]]"on-query-matches-changed="_onQueryMatchesChanged"></iron-media-query></template><script>Polymer({is:"app-drawer-layout",behaviors:[Polymer.AppLayoutBehavior],properties:{forceNarrow:{type:Boolean,value:!1},responsiveWidth:{type:String,value:"640px"},narrow:{type:Boolean,reflectToAttribute:!0,readOnly:!0,notify:!0},openedWhenNarrow:{type:Boolean,value:!1},_drawerPosition:{type:String}},listeners:{click:"_clickHandler"},observers:["_narrowChanged(narrow)"],get drawer(){return Polymer.dom(this.$.drawerSlot).getDistributedNodes()[0]},attached:function(){var e=this.drawer;e&&e.setAttribute("no-transition","")},_clickHandler:function(e){var t=Polymer.dom(e).localTarget;if(t&&t.hasAttribute("drawer-toggle")){var r=this.drawer;r&&!r.persistent&&r.toggle()}},_updateLayoutStates:function(){var e=this.drawer;this.isAttached&&e&&(this._drawerPosition=this.narrow?null:e.position,this._drawerNeedsReset&&(this.narrow?(e.opened=this.openedWhenNarrow,e.persistent=!1):e.opened=e.persistent=!0,e.hasAttribute("no-transition")&&Polymer.RenderStatus.afterNextRender(this,function(){e.removeAttribute("no-transition")}),this._drawerNeedsReset=!1))},_narrowChanged:function(){this._drawerNeedsReset=!0,this.resetLayout()},_onQueryMatchesChanged:function(e){this._setNarrow(e.detail.value)},_computeMediaQuery:function(e,t){return e?"(min-width: 0px)":"(max-width: "+t+")"}})</script></dom-module><dom-module id="app-drawer"assetpath="../../bower_components/app-layout/app-drawer/"><template><style>:host{position:fixed;top:-120px;right:0;bottom:-120px;left:0;visibility:hidden;transition-property:visibility;}:host([opened]){visibility:visible;}:host([persistent]){width:var(--app-drawer-width, 256px);}:host([persistent][position=left]){right:auto;}:host([persistent][position=right]){left:auto;}#contentContainer{position:absolute;top:0;bottom:0;left:0;width:var(--app-drawer-width, 256px);padding:120px 0;transition-property:-webkit-transform;transition-property:transform;-webkit-transform:translate3d(-100%, 0, 0);transform:translate3d(-100%, 0, 0);background-color:#FFF;@apply --app-drawer-content-container;}#contentContainer[persistent]{width:100%;}#contentContainer[position=right]{right:0;left:auto;-webkit-transform:translate3d(100%, 0, 0);transform:translate3d(100%, 0, 0);}#contentContainer[swipe-open]::after{position:fixed;top:0;bottom:0;left:100%;visibility:visible;width:20px;content:'';}#contentContainer[swipe-open][position=right]::after{right:100%;left:auto;}#contentContainer[opened]{-webkit-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);}#scrim{position:absolute;top:0;right:0;bottom:0;left:0;transition-property:opacity;-webkit-transform:translateZ(0);transform:translateZ(0);opacity:0;background:var(--app-drawer-scrim-background, rgba(0, 0, 0, 0.5));}#scrim.visible{opacity:1;}:host([no-transition]) #contentContainer{transition-property:none;}</style><div id="scrim"on-click="close"></div><div id="contentContainer"opened$="[[opened]]"persistent$="[[persistent]]"position$="[[position]]"swipe-open$="[[swipeOpen]]"><slot></slot></div></template><script>Polymer({is:"app-drawer",properties:{opened:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},persistent:{type:Boolean,value:!1,reflectToAttribute:!0},transitionDuration:{type:Number,value:200},align:{type:String,value:"left"},position:{type:String,readOnly:!0,reflectToAttribute:!0},swipeOpen:{type:Boolean,value:!1,reflectToAttribute:!0},noFocusTrap:{type:Boolean,value:!1},disableSwipe:{type:Boolean,value:!1}},observers:["resetLayout(position, isAttached)","_resetPosition(align, isAttached)","_styleTransitionDuration(transitionDuration)","_openedPersistentChanged(opened, persistent)"],_translateOffset:0,_trackDetails:null,_drawerState:0,_boundEscKeydownHandler:null,_firstTabStop:null,_lastTabStop:null,attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){this._boundEscKeydownHandler=this._escKeydownHandler.bind(this),this.addEventListener("keydown",this._tabKeydownHandler.bind(this)),this.listen(this,"track","_track"),this.setScrollDirection("y")}),this.fire("app-reset-layout")},detached:function(){document.removeEventListener("keydown",this._boundEscKeydownHandler)},open:function(){this.opened=!0},close:function(){this.opened=!1},toggle:function(){this.opened=!this.opened},getWidth:function(){return this._savedWidth||this.$.contentContainer.offsetWidth},_isRTL:function(){return"rtl"===window.getComputedStyle(this).direction},_resetPosition:function(){switch(this.align){case"start":return void this._setPosition(this._isRTL()?"right":"left");case"end":return void this._setPosition(this._isRTL()?"left":"right")}this._setPosition(this.align)},_escKeydownHandler:function(t){27===t.keyCode&&(t.preventDefault(),this.close())},_track:function(t){if(!this.persistent&&!this.disableSwipe)switch(t.preventDefault(),t.detail.state){case"start":this._trackStart(t);break;case"track":this._trackMove(t);break;case"end":this._trackEnd(t)}},_trackStart:function(){this._drawerState=this._DRAWER_STATE.TRACKING;var t=this.$.contentContainer.getBoundingClientRect();this._savedWidth=t.width,"left"===this.position?this._translateOffset=t.left:this._translateOffset=t.right-window.innerWidth,this._trackDetails=[],this._styleTransitionDuration(0),this.style.visibility="visible"},_trackMove:function(t){this._translateDrawer(t.detail.dx+this._translateOffset),this._trackDetails.push({dx:t.detail.dx,timeStamp:Date.now()})},_trackEnd:function(t){var e=t.detail.dx+this._translateOffset,i=this.getWidth(),s="left"===this.position?0<=e||e<=-i:e<=0||i<=e;if(!s){var n=this._trackDetails;if(this._trackDetails=null,this._flingDrawer(t,n),this._drawerState===this._DRAWER_STATE.FLINGING)return}var a=i/2;t.detail.dx<-a?this.opened="right"===this.position:t.detail.dx>a&&(this.opened="left"===this.position),s?this.debounce("_resetDrawerState",this._resetDrawerState):this.debounce("_resetDrawerState",this._resetDrawerState,this.transitionDuration),this._styleTransitionDuration(this.transitionDuration),this._resetDrawerTranslate(),this.style.visibility=""},_calculateVelocity:function(t,e){for(var i,s=Date.now(),n=s-100,a=0,r=e.length-1;a<=r;){var o=a+r>>1,h=e[o];h.timeStamp>=n?(i=h,r=o-1):a=1+o}return i?(t.detail.dx-i.dx)/(s-i.timeStamp||1):0},_flingDrawer:function(t,e){var i=this._calculateVelocity(t,e);if(!(Math.abs(i)<this._MIN_FLING_THRESHOLD)){this._drawerState=this._DRAWER_STATE.FLINGING;var s,n=t.detail.dx+this._translateOffset,a=this.getWidth(),r="left"===this.position,o=0<i;s=!o&&r?-(n+a):o&&!r?a-n:-n,o?(i=Math.max(i,this._MIN_TRANSITION_VELOCITY),this.opened="left"===this.position):(i=Math.min(i,-this._MIN_TRANSITION_VELOCITY),this.opened="right"===this.position);var h=this._FLING_INITIAL_SLOPE*s/i;this._styleTransitionDuration(h),this._styleTransitionTimingFunction(this._FLING_TIMING_FUNCTION),this._resetDrawerTranslate(),this.debounce("_resetDrawerState",this._resetDrawerState,h)}},_styleTransitionDuration:function(t){this.style.transitionDuration=t+"ms",this.$.contentContainer.style.transitionDuration=t+"ms",this.$.scrim.style.transitionDuration=t+"ms"},_styleTransitionTimingFunction:function(t){this.$.contentContainer.style.transitionTimingFunction=t,this.$.scrim.style.transitionTimingFunction=t},_translateDrawer:function(t){var e=this.getWidth();"left"===this.position?(t=Math.max(-e,Math.min(t,0)),this.$.scrim.style.opacity=1+t/e):(t=Math.max(0,Math.min(t,e)),this.$.scrim.style.opacity=1-t/e),this.translate3d(t+"px","0","0",this.$.contentContainer)},_resetDrawerTranslate:function(){this.$.scrim.style.opacity="",this.transform("",this.$.contentContainer)},_resetDrawerState:function(){var t=this._drawerState;t===this._DRAWER_STATE.FLINGING&&(this._styleTransitionDuration(this.transitionDuration),this._styleTransitionTimingFunction(""),this.style.visibility=""),this._savedWidth=null,this.opened?this._drawerState=this.persistent?this._DRAWER_STATE.OPENED_PERSISTENT:this._DRAWER_STATE.OPENED:this._drawerState=this._DRAWER_STATE.CLOSED,t!==this._drawerState&&(this._drawerState===this._DRAWER_STATE.OPENED?(this._setKeyboardFocusTrap(),document.addEventListener("keydown",this._boundEscKeydownHandler),document.body.style.overflow="hidden"):(document.removeEventListener("keydown",this._boundEscKeydownHandler),document.body.style.overflow=""),t!==this._DRAWER_STATE.INIT&&this.fire("app-drawer-transitioned"))},resetLayout:function(){this.fire("app-reset-layout")},_setKeyboardFocusTrap:function(){if(!this.noFocusTrap){var t=['a[href]:not([tabindex="-1"])','area[href]:not([tabindex="-1"])','input:not([disabled]):not([tabindex="-1"])','select:not([disabled]):not([tabindex="-1"])','textarea:not([disabled]):not([tabindex="-1"])','button:not([disabled]):not([tabindex="-1"])','iframe:not([tabindex="-1"])','[tabindex]:not([tabindex="-1"])','[contentEditable=true]:not([tabindex="-1"])'].join(","),e=Polymer.dom(this).querySelectorAll(t);0<e.length?(this._firstTabStop=e[0],this._lastTabStop=e[e.length-1]):(this._firstTabStop=null,this._lastTabStop=null);var i=this.getAttribute("tabindex");i&&-1<parseInt(i,10)?this.focus():this._firstTabStop&&this._firstTabStop.focus()}},_tabKeydownHandler:function(t){if(!this.noFocusTrap){this._drawerState===this._DRAWER_STATE.OPENED&&9===t.keyCode&&(t.shiftKey?this._firstTabStop&&Polymer.dom(t).localTarget===this._firstTabStop&&(t.preventDefault(),this._lastTabStop.focus()):this._lastTabStop&&Polymer.dom(t).localTarget===this._lastTabStop&&(t.preventDefault(),this._firstTabStop.focus()))}},_openedPersistentChanged:function(t,e){this.toggleClass("visible",t&&!e,this.$.scrim),this.debounce("_resetDrawerState",this._resetDrawerState,this.transitionDuration)},_MIN_FLING_THRESHOLD:.2,_MIN_TRANSITION_VELOCITY:1.2,_FLING_TIMING_FUNCTION:"cubic-bezier(0.667, 1, 0.667, 1)",_FLING_INITIAL_SLOPE:1.5,_DRAWER_STATE:{INIT:0,OPENED:1,OPENED_PERSISTENT:2,CLOSED:3,TRACKING:4,FLINGING:5}})</script></dom-module><dom-module id="app-header-layout"assetpath="../../bower_components/app-layout/app-header-layout/"><template><style>:host{display:block;position:relative;z-index:0;}#wrapper ::slotted([slot=header]){@apply --layout-fixed-top;z-index:1;}#wrapper.initializing ::slotted([slot=header]){position:relative;}:host([has-scrolling-region]){height:100%;}:host([has-scrolling-region]) #wrapper ::slotted([slot=header]){position:absolute;}:host([has-scrolling-region]) #wrapper.initializing ::slotted([slot=header]){position:relative;}:host([has-scrolling-region]) #wrapper #contentContainer{@apply --layout-fit;overflow-y:auto;-webkit-overflow-scrolling:touch;}:host([has-scrolling-region]) #wrapper.initializing #contentContainer{position:relative;}:host([fullbleed]){@apply --layout-vertical;@apply --layout-fit;}:host([fullbleed]) #wrapper,
      :host([fullbleed]) #wrapper #contentContainer{@apply --layout-vertical;@apply --layout-flex;}#contentContainer{position:relative;z-index:0;}@media print{:host([has-scrolling-region]) #wrapper #contentContainer{overflow-y:visible;}}</style><div id="wrapper"class="initializing"><slot id="headerSlot"name="header"></slot><div id="contentContainer"><slot></slot></div></div></template><script>Polymer({is:"app-header-layout",behaviors:[Polymer.AppLayoutBehavior],properties:{hasScrollingRegion:{type:Boolean,value:!1,reflectToAttribute:!0}},observers:["resetLayout(isAttached, hasScrollingRegion)"],get header(){return Polymer.dom(this.$.headerSlot).getDistributedNodes()[0]},_updateLayoutStates:function(){var i=this.header;if(this.isAttached&&i){this.$.wrapper.classList.remove("initializing"),i.scrollTarget=this.hasScrollingRegion?this.$.contentContainer:this.ownerDocument.documentElement;var e=i.offsetHeight;this.hasScrollingRegion?(i.style.left="",i.style.right=""):requestAnimationFrame(function(){var e=this.getBoundingClientRect(),t=document.documentElement.clientWidth-e.right;i.style.left=e.left+"px",i.style.right=t+"px"}.bind(this));var t=this.$.contentContainer.style;i.fixed&&!i.condenses&&this.hasScrollingRegion?(t.marginTop=e+"px",t.paddingTop=""):(t.paddingTop=e+"px",t.marginTop="")}}})</script></dom-module><script>Polymer.IronScrollTargetBehavior={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(l,t){if(this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null),t)if("document"===l)this.scrollTarget=this._doc;else if("string"==typeof l){var r=this.domHost;this.scrollTarget=r&&r.$?r.$[l]:Polymer.dom(this.ownerDocument).querySelector("#"+l)}else this._isValidScrollTarget()&&(this._oldScrollTarget=l,this._toggleScrollListener(this._shouldHaveListener,l))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(l){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,l):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=l)},set _scrollLeft(l){this.scrollTarget===this._doc?window.scrollTo(l,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=l)},scroll:function(l,t){var r;"object"===babelHelpers.typeof(l)?(r=l.left,t=l.top):r=l,r=r||0,t=t||0,this.scrollTarget===this._doc?window.scrollTo(r,t):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=r,this.scrollTarget.scrollTop=t)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return babelHelpers.instanceof(this.scrollTarget,HTMLElement)},_toggleScrollListener:function(l,t){var r=t===this._doc?window:t;l?this._boundScrollHandler||(this._boundScrollHandler=this._scrollHandler.bind(this),r.addEventListener("scroll",this._boundScrollHandler)):this._boundScrollHandler&&(r.removeEventListener("scroll",this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(l){this._shouldHaveListener=l,this._toggleScrollListener(l,this.scrollTarget)}}</script><script>Polymer.AppLayout=Polymer.AppLayout||{},Polymer.AppLayout._scrollEffects={},Polymer.AppLayout._scrollTimer=null,Polymer.AppLayout.scrollTimingFunction=function(o,e,l,r){return-l*(o/=r)*(o-2)+e},Polymer.AppLayout.registerEffect=function(o,e){if(null!=Polymer.AppLayout._scrollEffects[o])throw new Error("effect `"+o+"` is already registered.");Polymer.AppLayout._scrollEffects[o]=e},Polymer.AppLayout.queryAllRoot=function(o,e){for(var l=[e],r=[];0<l.length;){var t=l.shift();r.push.apply(r,t.querySelectorAll(o));for(var n=0;t.children[n];n++)t.children[n].shadowRoot&&l.push(t.children[n].shadowRoot)}return r},Polymer.AppLayout.scroll=function(o){o=o||{};var e=document.documentElement,l=o.target||e,r="scrollBehavior"in l.style&&l.scroll,t=o.top||0,n=o.left||0,i=l===e?window.scrollTo:function(o,e){l.scrollLeft=o,l.scrollTop=e};if("smooth"===o.behavior)if(r)l.scroll(o);else{var c=Polymer.AppLayout.scrollTimingFunction,a=Date.now(),s=l===e?window.pageYOffset:l.scrollTop,u=l===e?window.pageXOffset:l.scrollLeft,p=t-s,y=n-u;(function o(){var e=Date.now()-a;e<300?(i(c(e,u,y,300),c(e,s,p,300)),requestAnimationFrame(o)):i(n,t)}).bind(this)()}else if("silent"===o.behavior){var f=Polymer.AppLayout.queryAllRoot("app-header",document.body);f.forEach(function(o){o.setAttribute("silent-scroll","")}),Polymer.AppLayout._scrollTimer&&window.cancelAnimationFrame(Polymer.AppLayout._scrollTimer),Polymer.AppLayout._scrollTimer=window.requestAnimationFrame(function(){f.forEach(function(o){o.removeAttribute("silent-scroll")}),Polymer.AppLayout._scrollTimer=null}),i(n,t)}else i(n,t)}</script><script>Polymer.AppScrollEffectsBehavior=[Polymer.IronScrollTargetBehavior,{properties:{effects:{type:String},effectsConfig:{type:Object,value:function(){return{}}},disabled:{type:Boolean,reflectToAttribute:!0,value:!1},threshold:{type:Number,value:0},thresholdTriggered:{type:Boolean,notify:!0,readOnly:!0,reflectToAttribute:!0}},observers:["_effectsChanged(effects, effectsConfig, isAttached)"],_updateScrollState:function(){},isOnScreen:function(){return!1},isContentBelow:function(){return!1},_effectsRunFn:null,_effects:null,get _clampedScrollTop(){return Math.max(0,this._scrollTop)},detached:function(){this._tearDownEffects()},createEffect:function(t,e){var n=Polymer.AppLayout._scrollEffects[t];if(!n)throw new ReferenceError(this._getUndefinedMsg(t));var f=this._boundEffect(n,e||{});return f.setUp(),f},_effectsChanged:function(t,n,e){this._tearDownEffects(),t&&e&&(t.split(" ").forEach(function(t){var e;""!==t&&((e=Polymer.AppLayout._scrollEffects[t])?this._effects.push(this._boundEffect(e,n[t])):console.warn(this._getUndefinedMsg(t)))},this),this._setUpEffect())},_layoutIfDirty:function(){return this.offsetWidth},_boundEffect:function(n,t){t=t||{};function e(){}var f=parseFloat(t.startsAt||0),s=parseFloat(t.endsAt||1),r=s-f,o=0===f&&1===s?n.run:function(t,e){n.run.call(this,Math.max(0,(t-f)/r),e)};return{setUp:n.setUp?n.setUp.bind(this,t):e,run:n.run?o.bind(this):e,tearDown:n.tearDown?n.tearDown.bind(this):e}},_setUpEffect:function(){this.isAttached&&this._effects&&(this._effectsRunFn=[],this._effects.forEach(function(t){!1!==t.setUp()&&this._effectsRunFn.push(t.run)},this))},_tearDownEffects:function(){this._effects&&this._effects.forEach(function(t){t.tearDown()}),this._effectsRunFn=[],this._effects=[]},_runEffects:function(e,n){this._effectsRunFn&&this._effectsRunFn.forEach(function(t){t(e,n)})},_scrollHandler:function(){if(!this.disabled){var t=this._clampedScrollTop;this._updateScrollState(t),0<this.threshold&&this._setThresholdTriggered(t>=this.threshold)}},_getDOMRef:function(t){console.warn("_getDOMRef","`"+t+"` is undefined")},_getUndefinedMsg:function(t){return"Scroll effect `"+t+"` is undefined. Did you forget to import app-layout/app-scroll-effects/effects/"+t+".html ?"}}]</script><dom-module id="app-header"assetpath="../../bower_components/app-layout/app-header/"><template><style>:host{position:relative;display:block;transition-timing-function:linear;transition-property:-webkit-transform;transition-property:transform;}:host::before{position:absolute;right:0px;bottom:-5px;left:0px;width:100%;height:5px;content:"";transition:opacity 0.4s;pointer-events:none;opacity:0;box-shadow:inset 0px 5px 6px -3px rgba(0, 0, 0, 0.4);will-change:opacity;@apply --app-header-shadow;}:host([shadow])::before{opacity:1;}#background{@apply --layout-fit;overflow:hidden;}#backgroundFrontLayer,
      #backgroundRearLayer{@apply --layout-fit;height:100%;pointer-events:none;background-size:cover;}#backgroundFrontLayer{@apply --app-header-background-front-layer;}#backgroundRearLayer{opacity:0;@apply --app-header-background-rear-layer;}#contentContainer{position:relative;width:100%;height:100%;}:host([disabled]),
      :host([disabled])::after,
      :host([disabled]) #backgroundFrontLayer,
      :host([disabled]) #backgroundRearLayer,
      /* Silent scrolling should not run CSS transitions */
      :host([silent-scroll]),
      :host([silent-scroll])::after,
      :host([silent-scroll]) #backgroundFrontLayer,
      :host([silent-scroll]) #backgroundRearLayer{transition:none !important;}:host([disabled]) ::slotted(app-toolbar:first-of-type),
      :host([disabled]) ::slotted([sticky]),
      /* Silent scrolling should not run CSS transitions */
      :host([silent-scroll]) ::slotted(app-toolbar:first-of-type),
      :host([silent-scroll]) ::slotted([sticky]){transition:none !important;}</style><div id="contentContainer"><slot id="slot"></slot></div></template><script>Polymer({is:"app-header",behaviors:[Polymer.AppScrollEffectsBehavior,Polymer.AppLayoutBehavior],properties:{condenses:{type:Boolean,value:!1},fixed:{type:Boolean,value:!1},reveals:{type:Boolean,value:!1},shadow:{type:Boolean,reflectToAttribute:!0,value:!1}},observers:["_configChanged(isAttached, condenses, fixed)"],_height:0,_dHeight:0,_stickyElTop:0,_stickyElRef:null,_top:0,_progress:0,_wasScrollingDown:!1,_initScrollTop:0,_initTimestamp:0,_lastTimestamp:0,_lastScrollTop:0,get _maxHeaderTop(){return this.fixed?this._dHeight:this._height+5},get _stickyEl(){if(this._stickyElRef)return this._stickyElRef;for(var t,i=Polymer.dom(this.$.slot).getDistributedNodes(),e=0;t=i[e];e++)if(t.nodeType===Node.ELEMENT_NODE){if(t.hasAttribute("sticky")){this._stickyElRef=t;break}this._stickyElRef||(this._stickyElRef=t)}return this._stickyElRef},_configChanged:function(){this.resetLayout(),this._notifyLayoutChanged()},_updateLayoutStates:function(){if(0!==this.offsetWidth||0!==this.offsetHeight){var t=this._clampedScrollTop,i=0===this._height||0===t,e=this.disabled;this._height=this.offsetHeight,this._stickyElRef=null,this.disabled=!0,i||this._updateScrollState(0,!0),this._mayMove()?this._dHeight=this._stickyEl?this._height-this._stickyEl.offsetHeight:0:this._dHeight=0,this._stickyElTop=this._stickyEl?this._stickyEl.offsetTop:0,this._setUpEffect(),i?this._updateScrollState(t,!0):(this._updateScrollState(this._lastScrollTop,!0),this._layoutIfDirty()),this.disabled=e}},_updateScrollState:function(t,i){if(0!==this._height){var e=0,s=0,h=this._top,o=(this._lastScrollTop,this._maxHeaderTop),r=t-this._lastScrollTop,n=Math.abs(r),a=t>this._lastScrollTop,l=performance.now();if(this._mayMove()&&(s=this._clamp(this.reveals?h+r:t,0,o)),t>=this._dHeight&&(s=this.condenses&&!this.fixed?Math.max(this._dHeight,s):s,this.style.transitionDuration="0ms"),this.reveals&&!this.disabled&&n<100&&((300<l-this._initTimestamp||this._wasScrollingDown!==a)&&(this._initScrollTop=t,this._initTimestamp=l),o<=t))if(30<Math.abs(this._initScrollTop-t)||10<n){a&&o<=t?s=o:!a&&t>=this._dHeight&&(s=this.condenses&&!this.fixed?this._dHeight:0);var _=r/(l-this._lastTimestamp);this.style.transitionDuration=this._clamp((s-h)/_,0,300)+"ms"}else s=this._top;e=0===this._dHeight?0<t?1:0:s/this._dHeight,i||(this._lastScrollTop=t,this._top=s,this._wasScrollingDown=a,this._lastTimestamp=l),!i&&e===this._progress&&h===s&&0!==t||(this._progress=e,this._runEffects(e,s),this._transformHeader(s))}},_mayMove:function(){return this.condenses||!this.fixed},willCondense:function(){return 0<this._dHeight&&this.condenses},isOnScreen:function(){return 0!==this._height&&this._top<this._height},isContentBelow:function(){return 0===this._top?0<this._clampedScrollTop:0<=this._clampedScrollTop-this._maxHeaderTop},_transformHeader:function(t){this.translate3d(0,-t+"px",0),this._stickyEl&&this.translate3d(0,this.condenses&&t>=this._stickyElTop?Math.min(t,this._dHeight)-this._stickyElTop+"px":0,0,this._stickyEl)},_clamp:function(t,i,e){return Math.min(e,Math.max(i,t))},_ensureBgContainers:function(){this._bgContainer||(this._bgContainer=document.createElement("div"),this._bgContainer.id="background",this._bgRear=document.createElement("div"),this._bgRear.id="backgroundRearLayer",this._bgContainer.appendChild(this._bgRear),this._bgFront=document.createElement("div"),this._bgFront.id="backgroundFrontLayer",this._bgContainer.appendChild(this._bgFront),Polymer.dom(this.root).insertBefore(this._bgContainer,this.$.contentContainer))},_getDOMRef:function(t){switch(t){case"backgroundFrontLayer":return this._ensureBgContainers(),this._bgFront;case"backgroundRearLayer":return this._ensureBgContainers(),this._bgRear;case"background":return this._ensureBgContainers(),this._bgContainer;case"mainTitle":return Polymer.dom(this).querySelector("[main-title]");case"condensedTitle":return Polymer.dom(this).querySelector("[condensed-title]")}return null},getScrollState:function(){return{progress:this._progress,top:this._top}}})</script></dom-module><script>Polymer.AppLayout.registerEffect("waterfall",{run:function(){this.shadow=this.isOnScreen()&&this.isContentBelow()}})</script><dom-module id="app-toolbar"assetpath="../../bower_components/app-layout/app-toolbar/"><template><style>:host{@apply --layout-horizontal;@apply --layout-center;position:relative;height:64px;padding:0 16px;pointer-events:none;font-size:var(--app-toolbar-font-size, 20px);}:host ::slotted(*){pointer-events:auto;}:host ::slotted(paper-icon-button){font-size:0;}:host ::slotted([main-title]),
      :host ::slotted([condensed-title]){pointer-events:none;@apply --layout-flex;}:host ::slotted([bottom-item]){position:absolute;right:0;bottom:0;left:0;}:host ::slotted([top-item]){position:absolute;top:0;right:0;left:0;}:host ::slotted([spacer]){margin-left:64px;}</style><slot></slot></template><script>Polymer({is:"app-toolbar"})</script></dom-module><script>!function(){"use strict";var i,o,a,h;function p(t,e){if(void 0===i){i=!1;try{var n=new URL("b","http://a");n.pathname="c%20d",i=(i="http://a/c%20d"===n.href)&&"http://www.google.com/?foo%20bar"===new URL("http://www.google.com/?foo bar").href}catch(t){}}return i?new URL(t,e):(o||(o=document.implementation.createHTMLDocument("url"),a=o.createElement("base"),o.head.appendChild(a),h=o.createElement("a")),a.href=e,h.href=t.replace(/ /g,"%20"),h)}Polymer({is:"iron-location",properties:{path:{type:String,notify:!0,value:function(){return window.decodeURIComponent(window.location.pathname)}},query:{type:String,notify:!0,value:function(){return window.location.search.slice(1)}},hash:{type:String,notify:!0,value:function(){return window.decodeURIComponent(window.location.hash.slice(1))}},dwellTime:{type:Number,value:2e3},urlSpaceRegex:{type:String,value:""},encodeSpaceAsPlusInQuery:{type:Boolean,value:!1},_urlSpaceRegExp:{computed:"_makeRegExp(urlSpaceRegex)"},_lastChangedAt:{type:Number},_initialized:{type:Boolean,value:!1}},hostAttributes:{hidden:!0},observers:["_updateUrl(path, query, hash)"],created:function(){this.__location=window.location},attached:function(){this.listen(window,"hashchange","_hashChanged"),this.listen(window,"location-changed","_urlChanged"),this.listen(window,"popstate","_urlChanged"),this.listen(document.body,"click","_globalOnClick"),this._lastChangedAt=window.performance.now()-(this.dwellTime-200),this._initialized=!0,this._urlChanged()},detached:function(){this.unlisten(window,"hashchange","_hashChanged"),this.unlisten(window,"location-changed","_urlChanged"),this.unlisten(window,"popstate","_urlChanged"),this.unlisten(document.body,"click","_globalOnClick"),this._initialized=!1},_hashChanged:function(){this.hash=window.decodeURIComponent(this.__location.hash.substring(1))},_urlChanged:function(){this._dontUpdateUrl=!0,this._hashChanged(),this.path=window.decodeURIComponent(this.__location.pathname),this.query=this.__location.search.substring(1),this._dontUpdateUrl=!1,this._updateUrl()},_getUrl:function(){var t=window.encodeURI(this.path).replace(/\#/g,"%23").replace(/\?/g,"%3F"),e="";this.query&&(e="?"+this.query.replace(/\#/g,"%23"),this.encodeSpaceAsPlusInQuery&&(e=e.replace(/\+/g,"%2B").replace(/ /g,"+").replace(/%20/g,"+")));var n="";return this.hash&&(n="#"+window.encodeURI(this.hash)),t+e+n},_updateUrl:function(){if(!this._dontUpdateUrl&&this._initialized&&(this.path!==window.decodeURIComponent(this.__location.pathname)||this.query!==this.__location.search.substring(1)||this.hash!==window.decodeURIComponent(this.__location.hash.substring(1)))){var t=p(this._getUrl(),this.__location.protocol+"//"+this.__location.host).href,e=window.performance.now(),n=this._lastChangedAt+this.dwellTime>e;this._lastChangedAt=e,n?window.history.replaceState({},"",t):window.history.pushState({},"",t),this.fire("location-changed",{},{node:window})}},_globalOnClick:function(t){if(!t.defaultPrevented){var e=this._getSameOriginLinkHref(t);e&&(t.preventDefault(),e!==this.__location.href&&(window.history.pushState({},"",e),this.fire("location-changed",{},{node:window})))}},_getSameOriginLinkHref:function(t){if(0!==t.button)return null;if(t.metaKey||t.ctrlKey)return null;for(var e,n=Polymer.dom(t).path,i=null,o=0;o<n.length;o++)if("A"===(e=n[o]).tagName&&e.href){i=e;break}if(!i)return null;if("_blank"===i.target)return null;if(("_top"===i.target||"_parent"===i.target)&&window.top!==window)return null;if(i.download)return null;var a,h,r,l=i.href;if(a=null!=document.baseURI?p(l,document.baseURI):p(l),h=this.__location.origin?this.__location.origin:this.__location.protocol+"//"+this.__location.host,a.origin)r=a.origin;else{var s=a.host,c=a.port,d=a.protocol;("https:"===d&&"443"===c||"http:"===d&&"80"===c)&&(s=a.hostname),r=d+"//"+s}if(r!==h)return null;var u=a.pathname+a.search+a.hash;return"/"!==u[0]&&(u="/"+u),this._urlSpaceRegExp&&!this._urlSpaceRegExp.test(u)?null:p(u,this.__location.href).href},_makeRegExp:function(t){return RegExp(t)}})}()</script><script>"use strict";Polymer({is:"iron-query-params",properties:{paramsString:{type:String,notify:!0,observer:"paramsStringChanged"},paramsObject:{type:Object,notify:!0},_dontReact:{type:Boolean,value:!1}},hostAttributes:{hidden:!0},observers:["paramsObjectChanged(paramsObject.*)"],paramsStringChanged:function(){this._dontReact=!0,this.paramsObject=this._decodeParams(this.paramsString),this._dontReact=!1},paramsObjectChanged:function(){this._dontReact||(this.paramsString=this._encodeParams(this.paramsObject).replace(/%3F/g,"?").replace(/%2F/g,"/").replace(/'/g,"%27"))},_encodeParams:function(e){var t=[];for(var a in e){var n=e[a];""===n?t.push(encodeURIComponent(a)):n&&t.push(encodeURIComponent(a)+"="+encodeURIComponent(n.toString()))}return t.join("&")},_decodeParams:function(e){for(var t,a={},n=(e=(e||"").replace(/\+/g,"%20")).split("&"),r=0;r<n.length;r++)(t=n[r].split("="))[0]&&(a[decodeURIComponent(t[0])]=decodeURIComponent(t[1]||""));return a}})</script><script>!function(){"use strict";Polymer.AppRouteConverterBehavior={properties:{route:{type:Object,notify:!0},queryParams:{type:Object,notify:!0},path:{type:String,notify:!0}},observers:["_locationChanged(path, queryParams)","_routeChanged(route.prefix, route.path)","_routeQueryParamsChanged(route.__queryParams)"],created:function(){this.linkPaths("route.__queryParams","queryParams"),this.linkPaths("queryParams","route.__queryParams")},_locationChanged:function(){this.route&&this.route.path===this.path&&this.queryParams===this.route.__queryParams||(this.route={prefix:"",path:this.path,__queryParams:this.queryParams})},_routeChanged:function(){this.route&&(this.path=this.route.prefix+this.route.path)},_routeQueryParamsChanged:function(t){this.route&&(this.queryParams=t)}}}()</script><dom-module id="app-location"assetpath="../../bower_components/app-route/"><template><iron-query-params params-string="{{__query}}"params-object="{{queryParams}}"></iron-query-params><iron-location path="{{__path}}"query="{{__query}}"hash="{{__hash}}"url-space-regex="[[urlSpaceRegex]]"dwell-time="[[dwellTime]]"></iron-location></template><script>!function(){"use strict";Polymer({is:"app-location",properties:{route:{type:Object,notify:!0},useHashAsPath:{type:Boolean,value:!1},urlSpaceRegex:{type:String,notify:!0},__queryParams:{type:Object},__path:{type:String},__query:{type:String},__hash:{type:String},path:{type:String,observer:"__onPathChanged"},_isReady:{type:Boolean},dwellTime:{type:Number}},behaviors:[Polymer.AppRouteConverterBehavior],observers:["__computeRoutePath(useHashAsPath, __hash, __path)"],ready:function(){this._isReady=!0},__computeRoutePath:function(){this.path=this.useHashAsPath?this.__hash:this.__path},__onPathChanged:function(){this._isReady&&(this.useHashAsPath?this.__hash=this.path:this.__path=this.path)}})}()</script></dom-module><script>!function(){"use strict";Polymer({is:"app-route",properties:{route:{type:Object,notify:!0},pattern:{type:String},data:{type:Object,value:function(){return{}},notify:!0},autoActivate:{type:Boolean,value:!1},_queryParamsUpdating:{type:Boolean,value:!1},queryParams:{type:Object,value:function(){return{}},notify:!0},tail:{type:Object,value:function(){return{path:null,prefix:null,__queryParams:null}},notify:!0},active:{type:Boolean,notify:!0,readOnly:!0},_matched:{type:String,value:""}},observers:["__tryToMatch(route.path, pattern)","__updatePathOnDataChange(data.*)","__tailPathChanged(tail.path)","__routeQueryParamsChanged(route.__queryParams)","__tailQueryParamsChanged(tail.__queryParams)","__queryParamsChanged(queryParams.*)"],created:function(){this.linkPaths("route.__queryParams","tail.__queryParams"),this.linkPaths("tail.__queryParams","route.__queryParams")},__routeQueryParamsChanged:function(t){if(t&&this.tail){if(this.tail.__queryParams!==t&&this.set("tail.__queryParams",t),!this.active||this._queryParamsUpdating)return;var a={},i=!1;for(var e in t)a[e]=t[e],!i&&this.queryParams&&t[e]===this.queryParams[e]||(i=!0);for(var e in this.queryParams)if(i||!(e in t)){i=!0;break}if(!i)return;this._queryParamsUpdating=!0,this.set("queryParams",a),this._queryParamsUpdating=!1}},__tailQueryParamsChanged:function(t){t&&this.route&&this.route.__queryParams!=t&&this.set("route.__queryParams",t)},__queryParamsChanged:function(t){this.active&&!this._queryParamsUpdating&&this.set("route.__"+t.path,t.value)},__resetProperties:function(){this._setActive(!1),this._matched=null},__tryToMatch:function(){if(this.route){var t=this.route.path,a=this.pattern;if(this.autoActivate&&""===t&&(t="/"),a)if(t){for(var i,e=t.split("/"),r=a.split("/"),s=[],h={},n=0;n<r.length&&((i=r[n])||""===i);n++){var u=e.shift();if(!u&&""!==u)return void this.__resetProperties();if(s.push(u),":"==i.charAt(0))h[i.slice(1)]=u;else if(i!==u)return void this.__resetProperties()}this._matched=s.join("/");var _={};this.active||(_.active=!0);var o=this.route.prefix+this._matched,l=e.join("/");for(var p in 0<e.length&&(l="/"+l),this.tail&&this.tail.prefix===o&&this.tail.path===l||(_.tail={prefix:o,path:l,__queryParams:this.route.__queryParams}),_.data=h,this._dataInUrl={},h)this._dataInUrl[p]=h[p];this.setProperties?this.setProperties(_,!0):this.__setMulti(_)}else this.__resetProperties()}},__tailPathChanged:function(t){if(this.active){var a=t,i=this._matched;a&&("/"!==a.charAt(0)&&(a="/"+a),i+=a),this.set("route.path",i)}},__updatePathOnDataChange:function(){if(this.route&&this.active){var t=this.__getLink({});t!==this.__getLink(this._dataInUrl)&&this.set("route.path",t)}},__getLink:function(t){var a={tail:null};for(var i in this.data)a[i]=this.data[i];for(var i in t)a[i]=t[i];var e=this.pattern.split("/").map(function(t){return":"==t[0]&&(t=a[t.slice(1)]),t},this);return a.tail&&a.tail.path&&(0<e.length&&"/"===a.tail.path.charAt(0)?e.push(a.tail.path.slice(1)):e.push(a.tail.path)),e.join("/")},__setMulti:function(t){for(var a in t)this._propertySetter(a,t[a]);void 0!==t.data&&(this._pathEffector("data",this.data),this._notifyChange("data")),void 0!==t.active&&(this._pathEffector("active",this.active),this._notifyChange("active")),void 0!==t.tail&&(this._pathEffector("tail",this.tail),this._notifyChange("tail"))}})}()</script><script>(function(){var di="3.10.1",gi=1,yi=2,bi=4,wi=8,xi=16,mi=32,Ai=64,ji=128,ki=256,Ii=30,Oi="...",Ri=150,Ei=16,Ci=200,Hi=1,Ui=2,$i="Expected a function",Wi="__lodash_placeholder__",Fi="[object Arguments]",Ni="[object Array]",Si="[object Boolean]",Ti="[object Date]",Li="[object Error]",zi="[object Function]",n="[object Map]",Bi="[object Number]",Di="[object Object]",qi="[object RegExp]",t="[object Set]",Mi="[object String]",r="[object WeakMap]",Pi="[object ArrayBuffer]",Ki="[object Float32Array]",Vi="[object Float64Array]",Zi="[object Int8Array]",Yi="[object Int16Array]",Gi="[object Int32Array]",Ji="[object Uint8Array]",Xi="[object Uint8ClampedArray]",Qi="[object Uint16Array]",nu="[object Uint32Array]",tu=/\b__p \+= '';/g,ru=/\b(__p \+=) '' \+/g,eu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,iu=/&(?:amp|lt|gt|quot|#39|#96);/g,uu=/[&<>"'`]/g,ou=RegExp(iu.source),fu=RegExp(uu.source),au=/<%-([\s\S]+?)%>/g,cu=/<%([\s\S]+?)%>/g,lu=/<%=([\s\S]+?)%>/g,vu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,su=/^\w*$/,pu=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,hu=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,_u=RegExp(hu.source),du=/[\u0300-\u036f\ufe20-\ufe23]/g,gu=/\\(\\)?/g,yu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bu=/\w*$/,wu=/^0[xX]/,xu=/^\[object .+?Constructor\]$/,mu=/^\d+$/,Au=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,ju=/($^)/,ku=/['\n\r\u2028\u2029\\]/g,Iu=/[A-Z\xc0-\xd6\xd8-\xde]+(?=[A-Z\xc0-\xd6\xd8-\xde][a-z\xdf-\xf6\xf8-\xff]+)|[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+|[A-Z\xc0-\xd6\xd8-\xde]+|[0-9]+/g,Ou=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ru=-1,Eu={};Eu[Ki]=Eu[Vi]=Eu[Zi]=Eu[Yi]=Eu[Gi]=Eu[Ji]=Eu[Xi]=Eu[Qi]=Eu[nu]=!0,Eu[Fi]=Eu[Ni]=Eu[Pi]=Eu[Si]=Eu[Ti]=Eu[Li]=Eu[zi]=Eu[n]=Eu[Bi]=Eu[Di]=Eu[qi]=Eu[t]=Eu[Mi]=Eu[r]=!1;var Cu={};Cu[Fi]=Cu[Ni]=Cu[Pi]=Cu[Si]=Cu[Ti]=Cu[Ki]=Cu[Vi]=Cu[Zi]=Cu[Yi]=Cu[Gi]=Cu[Bi]=Cu[Di]=Cu[qi]=Cu[Mi]=Cu[Ji]=Cu[Xi]=Cu[Qi]=Cu[nu]=!0,Cu[Li]=Cu[zi]=Cu[n]=Cu[t]=Cu[r]=!1;var e={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},u={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},o={function:!0,object:!0},f={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},a={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},c=o["undefined"==typeof exports?"undefined":babelHelpers.typeof(exports)]&&exports&&!exports.nodeType&&exports,l=o["undefined"==typeof module?"undefined":babelHelpers.typeof(module)]&&module&&!module.nodeType&&module,v=c&&l&&"object"==("undefined"==typeof global?"undefined":babelHelpers.typeof(global))&&global&&global.Object&&global,s=o["undefined"==typeof self?"undefined":babelHelpers.typeof(self)]&&self&&self.Object&&self,p=o["undefined"==typeof window?"undefined":babelHelpers.typeof(window)]&&window&&window.Object&&window,h=l&&l.exports===c&&c,Hu=v||p!==(this&&this.window)&&p||s||this;function Uu(n,t){if(n!==t){var r=null===n,e=void 0===n,i=n==n,u=null===t,o=void 0===t,f=t==t;if(t<n&&!u||!i||r&&!o&&f||e&&f)return 1;if(n<t&&!r||!f||u&&!e&&i||o&&i)return-1}return 0}function $u(n,t,r){for(var e=n.length,i=r?e:-1;r?i--:++i<e;)if(t(n[i],i,n))return i;return-1}function Wu(n,t,r){if(t!=t)return Mu(n,r);for(var e=r-1,i=n.length;++e<i;)if(n[e]===t)return e;return-1}function Fu(n){return"function"==typeof n||!1}function Nu(n){return null==n?"":n+""}function Su(n,t){for(var r=-1,e=n.length;++r<e&&-1<t.indexOf(n.charAt(r)););return r}function Tu(n,t){for(var r=n.length;r--&&-1<t.indexOf(n.charAt(r)););return r}function Lu(n,t){return Uu(n.criteria,t.criteria)||n.index-t.index}function zu(n){return e[n]}function Bu(n){return i[n]}function Du(n,t,r){return t?n=f[n]:r&&(n=a[n]),"\\"+n}function qu(n){return"\\"+a[n]}function Mu(n,t,r){for(var e=n.length,i=t+(r?0:-1);r?i--:++i<e;){var u=n[i];if(u!=u)return i}return-1}function Pu(n){return!!n&&"object"==babelHelpers.typeof(n)}function _(n){return n<=160&&9<=n&&n<=13||32==n||160==n||5760==n||6158==n||8192<=n&&(n<=8202||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function Ku(n,t){for(var r=-1,e=n.length,i=-1,u=[];++r<e;)n[r]===t&&(n[r]=Wi,u[++i]=r);return u}function Vu(n){for(var t=-1,r=n.length;++t<r&&_(n.charCodeAt(t)););return t}function Zu(n){for(var t=n.length;t--&&_(n.charCodeAt(t)););return t}function Yu(n){return u[n]}var Gu=function n(t){var E=(t=t?Gu.defaults(Hu.Object(),t,Gu.pick(Hu,Ou)):Hu).Array,r=t.Date,e=t.Error,d=t.Function,i=t.Math,u=t.Number,s=t.Object,g=t.RegExp,o=t.String,y=t.TypeError,f=E.prototype,a=s.prototype,c=o.prototype,l=d.prototype.toString,b=a.hasOwnProperty,v=0,w=a.toString,p=Hu._,h=g("^"+l.call(b).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_=t.ArrayBuffer,x=t.clearTimeout,m=t.parseFloat,A=i.pow,j=a.propertyIsEnumerable,k=Tt(t,"Set"),I=t.setTimeout,O=f.splice,R=t.Uint8Array,C=Tt(t,"WeakMap"),H=i.ceil,U=Tt(s,"create"),$=i.floor,W=Tt(E,"isArray"),F=t.isFinite,N=Tt(s,"keys"),S=i.max,T=i.min,L=Tt(r,"now"),z=t.parseInt,B=i.random,D=u.NEGATIVE_INFINITY,q=u.POSITIVE_INFINITY,M=4294967295,P=M-1,K=M>>>1,V=9007199254740991,Z=C&&new C,Y={};function G(n){if(Pu(n)&&!se(n)&&!babelHelpers.instanceof(n,Q)){if(babelHelpers.instanceof(n,X))return n;if(b.call(n,"__chain__")&&b.call(n,"__wrapped__"))return rr(n)}return new X(n)}function J(){}function X(n,t,r){this.__wrapped__=n,this.__actions__=r||[],this.__chain__=!!t}G.support={};function Q(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=q,this.__views__=[]}function nn(){this.__data__={}}function tn(n){var t=n?n.length:0;for(this.data={hash:U(null),set:new k};t--;)this.push(n[t])}function rn(n,t){var r=n.data;return("string"==typeof t||de(t)?r.set.has(t):r.hash[t])?0:-1}function en(n,t){var r=-1,e=n.length;for(t=t||E(e);++r<e;)t[r]=n[r];return t}function un(n,t){for(var r=-1,e=n.length;++r<e&&!1!==t(n[r],r,n););return n}function on(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function fn(n,t){for(var r=-1,e=n.length,i=-1,u=[];++r<e;){var o=n[r];t(o,r,n)&&(u[++i]=o)}return u}function an(n,t){for(var r=-1,e=n.length,i=E(e);++r<e;)i[r]=t(n[r],r,n);return i}function cn(n,t){for(var r=-1,e=t.length,i=n.length;++r<e;)n[i+r]=t[r];return n}function ln(n,t,r,e){var i=-1,u=n.length;for(e&&u&&(r=n[++i]);++i<u;)r=t(r,n[i],i,n);return r}function vn(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function sn(n,t,r,e){return void 0!==n&&b.call(e,r)?n:t}function pn(n,t,r){for(var e=-1,i=Se(t),u=i.length;++e<u;){var o=i[e],f=n[o],a=r(f,t[o],o,n,t);(a==a?a===f:f!=f)&&(void 0!==f||o in n)||(n[o]=a)}return n}function hn(n,t){return null==t?n:dn(t,Se(t),n)}function _n(n,t){for(var r=-1,e=null==n,i=!e&&zt(n),u=i?n.length:0,o=t.length,f=E(o);++r<o;){var a=t[r];f[r]=i?Bt(a,u)?n[a]:void 0:e?void 0:n[a]}return f}function dn(n,t,r){r=r||{};for(var e=-1,i=t.length;++e<i;){var u=t[e];r[u]=n[u]}return r}function gn(n,t,r){var e=babelHelpers.typeof(n);return"function"==e?void 0===t?n:tt(n,t,r):null==n?ei:"object"==e?Ln(n):void 0===t?ci(n):zn(n,t)}function yn(r,e,i,n,t,u,o){var f;if(i&&(f=t?i(r,n,t):i(r)),void 0!==f)return f;if(!de(r))return r;var a=se(r);if(a){if(f=function(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&b.call(n,"index")&&(r.index=n.index,r.input=n.input),r}(r),!e)return en(r,f)}else{var c=w.call(r),l=c==zi;if(c!=Di&&c!=Fi&&(!l||t))return Cu[c]?function(n,t,r){var e=n.constructor;switch(t){case Pi:return rt(n);case Si:case Ti:return new e(+n);case Ki:case Vi:case Zi:case Yi:case Gi:case Ji:case Xi:case Qi:case nu:var i=n.buffer;return new e(r?rt(i):i,n.byteOffset,n.length);case Bi:case Mi:return new e(n);case qi:var u=new e(n.source,bu.exec(n));u.lastIndex=n.lastIndex}return u}(r,c,e):t?r:{};if(f=function(n){var t=n.constructor;return"function"==typeof t&&babelHelpers.instanceof(t,t)||(t=s),new t}(l?{}:r),!e)return hn(f,r)}o=o||[];for(var v=(u=u||[]).length;v--;)if(u[v]==r)return o[v];return u.push(r),o.push(f),(a?un:Un)(r,function(n,t){f[t]=yn(n,e,i,t,r,u,o)}),f}G.templateSettings={escape:au,evaluate:cu,interpolate:lu,variable:"",imports:{_:G}};var bn=function(n){if(de(n)){wn.prototype=n;var t=new wn;wn.prototype=void 0}return t||{}};function wn(){}function xn(n,t,r){if("function"!=typeof n)throw new y($i);return I(function(){n.apply(void 0,r)},t)}function mn(n,t){var r=n?n.length:0,e=[];if(!r)return e;var i=-1,u=Ft(),o=u===Wu,f=o&&t.length>=Ci?ct(t):null,a=t.length;f&&(u=rn,o=!1,t=f);n:for(;++i<r;){var c=n[i];if(o&&c==c){for(var l=a;l--;)if(t[l]===c)continue n;e.push(c)}else u(t,c,0)<0&&e.push(c)}return e}var An=ft(Un),jn=ft($n,!0);function kn(n,e){var i=!0;return An(n,function(n,t,r){return i=!!e(n,t,r)}),i}function In(n,e){var i=[];return An(n,function(n,t,r){e(n,t,r)&&i.push(n)}),i}function On(n,e,t,i){var u;return t(n,function(n,t,r){if(e(n,t,r))return u=i?t:n,!1}),u}function Rn(n,t,r,e){e=e||[];for(var i=-1,u=n.length;++i<u;){var o=n[i];Pu(o)&&zt(o)&&(r||se(o)||ve(o))?t?Rn(o,t,r,e):cn(e,o):r||(e[e.length]=o)}return e}var En=at(),Cn=at(!0);function Hn(n,t){return En(n,t,Te)}function Un(n,t){return En(n,t,Se)}function $n(n,t){return Cn(n,t,Se)}function Wn(n,t){for(var r=-1,e=t.length,i=-1,u=[];++r<e;){var o=t[r];_e(n[o])&&(u[++i]=o)}return u}function Fn(n,t,r){if(null!=n){void 0!==r&&r in nr(n)&&(t=[r]);for(var e=0,i=t.length;null!=n&&e<i;)n=n[t[e++]];return e&&e==i?n:void 0}}function Nn(n,t,r,e,i,u){return n===t||(null==n||null==t||!de(n)&&!Pu(t)?n!=n&&t!=t:function(n,t,r,e,i,u,o){var f=se(n),a=se(t),c=Ni,l=Ni;f||((c=w.call(n))==Fi?c=Di:c!=Di&&(f=me(n))),a||((l=w.call(t))==Fi?l=Di:l!=Di&&(a=me(t)));var v=c==Di,s=l==Di,p=c==l;if(p&&!f&&!v)return function(n,t,r){switch(r){case Si:case Ti:return+n==+t;case Li:return n.name==t.name&&n.message==t.message;case Bi:return n!=+n?t!=+t:n==+t;case qi:case Mi:return n==t+""}return!1}(n,t,c);if(!i){var h=v&&b.call(n,"__wrapped__"),_=s&&b.call(t,"__wrapped__");if(h||_)return r(h?n.value():n,_?t.value():t,e,i,u,o)}if(!p)return!1;o=o||[];for(var d=(u=u||[]).length;d--;)if(u[d]==n)return o[d]==t;u.push(n),o.push(t);var g=(f?function(n,t,r,e,i,u,o){var f=-1,a=n.length,c=t.length;if(a!=c&&!(i&&a<c))return!1;for(;++f<a;){var l=n[f],v=t[f],s=e?e(i?v:l,i?l:v,f):void 0;if(void 0!==s){if(s)continue;return!1}if(i){if(!vn(t,function(n){return l===n||r(l,n,e,i,u,o)}))return!1}else if(l!==v&&!r(l,v,e,i,u,o))return!1}return!0}:function(n,t,r,e,i,u,o){var f=Se(n),a=f.length,c=Se(t).length;if(a!=c&&!i)return!1;for(var l=a;l--;){var v=f[l];if(!(i?v in t:b.call(t,v)))return!1}for(var s=i;++l<a;){v=f[l];var p=n[v],h=t[v],_=e?e(i?h:p,i?p:h,v):void 0;if(!(void 0===_?r(p,h,e,i,u,o):_))return!1;s=s||"constructor"==v}if(!s){var d=n.constructor,g=t.constructor;if(d!=g&&"constructor"in n&&"constructor"in t&&("function"!=typeof d||!babelHelpers.instanceof(d,d)||"function"!=typeof g||!babelHelpers.instanceof(g,g)))return!1}return!0})(n,t,r,e,i,u,o);return u.pop(),o.pop(),g}(n,t,Nn,r,e,i,u))}function Sn(n,t,r){var e=t.length,i=e,u=!r;if(null==n)return!i;for(n=nr(n);e--;){var o=t[e];if(u&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++e<i;){var f=(o=t[e])[0],a=n[f],c=o[1];if(u&&o[2]){if(void 0===a&&!(f in n))return!1}else{var l=r?r(a,c,f):void 0;if(!(void 0===l?Nn(c,a,r,!0):l))return!1}}return!0}function Tn(n,e){var i=-1,u=zt(n)?E(n.length):[];return An(n,function(n,t,r){u[++i]=e(n,t,r)}),u}function Ln(n){var t=St(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null!=n&&n[r]===e&&(void 0!==e||r in nr(n))}}return function(n){return Sn(n,t)}}function zn(r,e){var i=se(r),u=qt(r)&&Kt(e),o=r+"";return r=tr(r),function(n){if(null==n)return!1;var t=o;if(n=nr(n),(i||!u)&&!(t in n)){if(null==(n=1==r.length?n:Fn(n,Pn(r,0,-1))))return!1;t=vr(r),n=nr(n)}return n[t]===e?void 0!==e||t in n:Nn(e,n[t],void 0,!0)}}function Bn(t){return function(n){return null==n?void 0:n[t]}}function Dn(n,t){for(var r=n?t.length:0;r--;){var e=t[r];if(e!=i&&Bt(e)){var i=e;O.call(n,e,1)}}return n}function qn(n,t){return n+$(B()*(t-n+1))}var Mn=Z?function(n,t){return Z.set(n,t),n}:ei;function Pn(n,t,r){var e=-1,i=n.length;(t=null==t?0:+t||0)<0&&(t=i<-t?0:i+t),(r=void 0===r||i<r?i:+r||0)<0&&(r+=i),i=r<t?0:r-t>>>0,t>>>=0;for(var u=E(i);++e<i;)u[e]=n[e+t];return u}function Kn(n,e){var i;return An(n,function(n,t,r){return!(i=e(n,t,r))}),!!i}function Vn(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function Zn(n,r,e){var t=Ut(),i=-1;return r=an(r,function(n){return t(n)}),Vn(Tn(n,function(t){return{criteria:an(r,function(n){return n(t)}),index:++i,value:t}}),function(n,t){return function(n,t,r){for(var e=-1,i=n.criteria,u=t.criteria,o=i.length,f=r.length;++e<o;){var a=Uu(i[e],u[e]);if(a){if(f<=e)return a;var c=r[e];return a*("asc"===c||!0===c?1:-1)}}return n.index-t.index}(n,t,e)})}function Yn(n,t){var r=-1,e=Ft(),i=n.length,u=e===Wu,o=u&&Ci<=i,f=o?ct():null,a=[];f?(e=rn,u=!1):(o=!1,f=t?[]:a);n:for(;++r<i;){var c=n[r],l=t?t(c,r,n):c;if(u&&c==c){for(var v=f.length;v--;)if(f[v]===l)continue n;t&&f.push(l),a.push(c)}else e(f,l,0)<0&&((t||o)&&f.push(l),a.push(c))}return a}function Gn(n,t){for(var r=-1,e=t.length,i=E(e);++r<e;)i[r]=n[t[r]];return i}function Jn(n,t,r,e){for(var i=n.length,u=e?i:-1;(e?u--:++u<i)&&t(n[u],u,n););return r?Pn(n,e?0:u,e?u+1:i):Pn(n,e?u+1:0,e?i:u)}function Xn(n,t){var r=n;babelHelpers.instanceof(r,Q)&&(r=r.value());for(var e=-1,i=t.length;++e<i;){var u=t[e];r=u.func.apply(u.thisArg,cn([r],u.args))}return r}function Qn(n,t,r){var e=0,i=n?n.length:e;if("number"==typeof t&&t==t&&i<=K){for(;e<i;){var u=e+i>>>1,o=n[u];(r?o<=t:o<t)&&null!==o?e=1+u:i=u}return i}return nt(n,t,ei,r)}function nt(n,t,r,e){t=r(t);for(var i=0,u=n?n.length:0,o=t!=t,f=null===t,a=void 0===t;i<u;){var c=$((i+u)/2),l=r(n[c]),v=void 0!==l,s=l==l;if(o)var p=s||e;else p=f?s&&v&&(e||null!=l):a?s&&(e||v):null!=l&&(e?l<=t:l<t);p?i=c+1:u=c}return T(u,P)}function tt(u,o,n){if("function"!=typeof u)return ei;if(void 0===o)return u;switch(n){case 1:return function(n){return u.call(o,n)};case 3:return function(n,t,r){return u.call(o,n,t,r)};case 4:return function(n,t,r,e){return u.call(o,n,t,r,e)};case 5:return function(n,t,r,e,i){return u.call(o,n,t,r,e,i)}}return function(){return u.apply(o,arguments)}}function rt(n){var t=new _(n.byteLength);return new R(t).set(new R(n)),t}function et(n,t,r){for(var e=r.length,i=-1,u=S(n.length-e,0),o=-1,f=t.length,a=E(f+u);++o<f;)a[o]=t[o];for(;++i<e;)a[r[i]]=n[i];for(;u--;)a[o++]=n[i++];return a}function it(n,t,r){for(var e=-1,i=r.length,u=-1,o=S(n.length-i,0),f=-1,a=t.length,c=E(o+a);++u<o;)c[u]=n[u];for(var l=u;++f<a;)c[l+f]=t[f];for(;++e<i;)c[l+r[e]]=n[u++];return c}function ut(f,a){return function(n,e,t){var i=a?a():{};if(e=Ut(e,t,3),se(n))for(var r=-1,u=n.length;++r<u;){var o=n[r];f(i,o,e(o,r,n),n)}else An(n,function(n,t,r){f(i,n,e(n,t,r),r)});return i}}function ot(a){return ce(function(n,t){var r=-1,e=null==n?0:t.length,i=2<e?t[e-2]:void 0,u=2<e?t[2]:void 0,o=1<e?t[e-1]:void 0;for("function"==typeof i?(i=tt(i,o,5),e-=2):e-=(i="function"==typeof o?o:void 0)?1:0,u&&Dt(t[0],t[1],u)&&(i=e<3?void 0:i,e=1);++r<e;){var f=t[r];f&&a(n,f,i)}return n})}function ft(u,o){return function(n,t){var r=n?Nt(n):0;if(!Pt(r))return u(n,t);for(var e=o?r:-1,i=nr(n);(o?e--:++e<r)&&!1!==t(i[e],e,i););return n}}function at(a){return function(n,t,r){for(var e=nr(n),i=r(n),u=i.length,o=a?u:-1;a?o--:++o<u;){var f=i[o];if(!1===t(e[f],f,e))break}return n}}function ct(n){return U&&k?new tn(n):null}function lt(u){return function(n){for(var t=-1,r=ni(Ke(n)),e=r.length,i="";++t<e;)i=u(i,r[t],t);return i}}function vt(e){return function(){var n=arguments;switch(n.length){case 0:return new e;case 1:return new e(n[0]);case 2:return new e(n[0],n[1]);case 3:return new e(n[0],n[1],n[2]);case 4:return new e(n[0],n[1],n[2],n[3]);case 5:return new e(n[0],n[1],n[2],n[3],n[4]);case 6:return new e(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new e(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var t=bn(e.prototype),r=e.apply(t,n);return de(r)?r:t}}function st(u){return function n(t,r,e){e&&Dt(t,r,e)&&(r=void 0);var i=Ht(t,u,void 0,void 0,void 0,void 0,void 0,r);return i.placeholder=n.placeholder,i}}function pt(r,e){return ce(function(n){var t=n[0];return null==t?t:(n.push(e),r.apply(void 0,n))})}function ht(c,l){return function(n,t,r){if(r&&Dt(n,t,r)&&(t=void 0),1==(t=Ut(t,r,3)).length){var e=function(n,t,r,e){for(var i=-1,u=n.length,o=e,f=o;++i<u;){var a=n[i],c=+t(a);r(c,o)&&(o=c,f=a)}return f}(n=se(n)?n:Qt(n),t,c,l);if(!n.length||e!==l)return e}return i=t,u=c,a=f=o=l,An(n,function(n,t,r){var e=+i(n,t,r);(u(e,f)||e===o&&e===a)&&(f=e,a=n)}),a;var i,u,o,f,a}}function _t(i,u){return function(n,t,r){if(t=Ut(t,r,3),se(n)){var e=$u(n,t,u);return-1<e?n[e]:void 0}return On(n,t,i)}}function dt(e){return function(n,t,r){return n&&n.length?$u(n,t=Ut(t,r,3),e):-1}}function gt(e){return function(n,t,r){return On(n,t=Ut(t,r,3),e,!0)}}function yt(a){return function(){for(var i,u=arguments.length,n=a?u:-1,t=0,o=E(u);a?n--:++n<u;){var r=o[t++]=arguments[n];if("function"!=typeof r)throw new y($i);!i&&X.prototype.thru&&"wrapper"==Wt(r)&&(i=new X([],!0))}for(n=i?-1:u;++n<u;){var e=Wt(r=o[n]),f="wrapper"==e?$t(r):void 0;i=f&&Mt(f[0])&&f[1]==(ji|wi|mi|ki)&&!f[4].length&&1==f[9]?i[Wt(f[0])].apply(i,f[3]):1==r.length&&Mt(r)?i[e]():i.thru(r)}return function(){var n=arguments,t=n[0];if(i&&1==n.length&&se(t)&&t.length>=Ci)return i.plant(t).value();for(var r=0,e=u?o[r].apply(this,n):t;++r<u;)e=o[r].call(this,e);return e}}}function bt(e,i){return function(n,t,r){return"function"==typeof t&&void 0===r&&se(n)?e(n,t):i(n,tt(t,r,3))}}function wt(e){return function(n,t,r){return"function"==typeof t&&void 0===r||(t=tt(t,r,3)),e(n,t,Te)}}function xt(e){return function(n,t,r){return"function"==typeof t&&void 0===r||(t=tt(t,r,3)),e(n,t)}}function mt(o){return function(n,i,t){var u={};return i=Ut(i,t,3),Un(n,function(n,t,r){var e=i(n,t,r);n=o?n:e,u[t=o?e:t]=n}),u}}function At(e){return function(n,t,r){return n=Nu(n),(e?n:"")+Ot(n,t,r)+(e?"":n)}}function jt(e){var i=ce(function(n,t){var r=Ku(t,i.placeholder);return Ht(n,e,void 0,t,r)});return i}function kt(c,l){return function(n,t,r,e){var i,u,o,f,a=arguments.length<3;return"function"==typeof t&&void 0===e&&se(n)?c(n,t,r,a):(i=n,u=Ut(t,e,4),o=r,f=a,l(i,function(n,t,r){o=f?(f=!1,n):u(o,n,t,r)}),o)}}function It(s,p,h,_,d,g,y,b,w,x){var m=p&ji,A=p&gi,j=p&yi,k=p&wi,I=p&bi,O=p&xi,R=j?void 0:vt(s);return function n(){for(var t=arguments.length,r=t,e=E(t);r--;)e[r]=arguments[r];if(_&&(e=et(e,_,d)),g&&(e=it(e,g,y)),k||O){var i=n.placeholder,u=Ku(e,i);if((t-=u.length)<x){var o=b?en(b):void 0,f=S(x-t,0);p|=k?mi:Ai,p&=~(k?Ai:mi),I||(p&=~(gi|yi));var a=[s,p,h,k?e:void 0,k?u:void 0,k?void 0:e,k?void 0:u,o,w,f],c=It.apply(void 0,a);return Mt(s)&&Jt(c,a),c.placeholder=i,c}}var l=A?h:this,v=j?l[s]:s;return b&&(e=function(n,t){for(var r=n.length,e=T(t.length,r),i=en(n);e--;){var u=t[e];n[e]=Bt(u,r)?i[u]:void 0}return n}(e,b)),m&&w<e.length&&(e.length=w),this&&this!==Hu&&babelHelpers.instanceof(this,n)&&(v=R||vt(s)),v.apply(l,e)}}function Ot(n,t,r){var e=n.length;if((t=+t)<=e||!F(t))return"";var i=t-e;return Ge(r=null==r?" ":r+"",H(i/r.length)).slice(0,i)}function Rt(o,n,f,a){var c=n&gi,l=vt(o);return function n(){for(var t=-1,r=arguments.length,e=-1,i=a.length,u=E(i+r);++e<i;)u[e]=a[e];for(;r--;)u[e++]=arguments[++t];return(this&&this!==Hu&&babelHelpers.instanceof(this,n)?l:o).apply(c?f:this,u)}}function Et(n){var r=i[n];return function(n,t){return(t=void 0===t?0:+t||0)?(t=A(10,t),r(n*t)/t):r(n)}}function Ct(u){return function(n,t,r,e){var i=Ut(r);return null==r&&i===gn?Qn(n,t,u):nt(n,t,i(r,e,1),u)}}function Ht(n,t,r,e,i,u,o,f){var a=t&yi;if(!a&&"function"!=typeof n)throw new y($i);var c=e?e.length:0;if(c||(t&=~(mi|Ai),e=i=void 0),c-=i?i.length:0,t&Ai){var l=e,v=i;e=i=void 0}var s,p,h,_=a?void 0:$t(n),d=[n,t,r,e,i,l,v,u,o,f];if(_&&(function(n,t){var r=n[1],e=t[1],i=r|e,u=i<ji,o=e==ji&&r==wi||e==ji&&r==ki&&n[7].length<=t[8]||e==(ji|ki)&&r==wi;if(u||o){e&gi&&(n[2]=t[2],i|=r&gi?0:bi);var f=t[3];if(f){var a=n[3];n[3]=a?et(a,f,t[4]):en(f),n[4]=a?Ku(n[3],Wi):en(t[4])}(f=t[5])&&(a=n[5],n[5]=a?it(a,f,t[6]):en(f),n[6]=a?Ku(n[5],Wi):en(t[6])),(f=t[7])&&(n[7]=en(f)),e&ji&&(n[8]=null==n[8]?t[8]:T(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=i}}(d,_),t=d[1],f=d[9]),d[9]=null==f?a?0:n.length:S(f-c,0)||0,t==gi)var g=(s=d[0],p=d[2],h=vt(s),function n(){return(this&&this!==Hu&&babelHelpers.instanceof(this,n)?h:s).apply(p,arguments)});else g=t!=mi&&t!=(gi|mi)||d[4].length?It.apply(void 0,d):Rt.apply(void 0,d);return(_?Mn:Jt)(g,d)}function Ut(n,t,r){var e=G.callback||ri;return e=e===ri?gn:e,r?e(n,t,r):e}var $t=Z?function(n){return Z.get(n)}:ai;function Wt(n){for(var t=n.name+"",r=Y[t],e=r?r.length:0;e--;){var i=r[e],u=i.func;if(null==u||u==n)return i.name}return t}function Ft(n,t,r){var e=G.indexOf||cr;return e=e===cr?Wu:e,n?e(n,t,r):e}var Nt=Bn("length");function St(n){for(var t=De(n),r=t.length;r--;)t[r][2]=Kt(t[r][1]);return t}function Tt(n,t){var r=null==n?void 0:n[t];return ge(r)?r:void 0}function Lt(n,t,r){null==n||qt(t,n)||(n=1==(t=tr(t)).length?n:Fn(n,Pn(t,0,-1)),t=vr(t));var e=null==n?n:n[t];return null==e?void 0:e.apply(n,r)}function zt(n){return null!=n&&Pt(Nt(n))}function Bt(n,t){return n="number"==typeof n||mu.test(n)?+n:-1,t=null==t?V:t,-1<n&&0==n%1&&n<t}function Dt(n,t,r){if(!de(r))return!1;var e=babelHelpers.typeof(t);if("number"==e?zt(r)&&Bt(t,r.length):"string"==e&&t in r){var i=r[t];return n==n?n===i:i!=i}return!1}function qt(n,t){var r=babelHelpers.typeof(n);return!!("string"==r&&su.test(n)||"number"==r)||!se(n)&&(!vu.test(n)||null!=t&&n in nr(t))}function Mt(n){var t=Wt(n),r=G[t];if("function"!=typeof r||!(t in Q.prototype))return!1;if(n===r)return!0;var e=$t(r);return!!e&&n===e[0]}function Pt(n){return"number"==typeof n&&-1<n&&0==n%1&&n<=V}function Kt(n){return n==n&&!de(n)}function Vt(n,t){n=nr(n);for(var r=-1,e=t.length,i={};++r<e;){var u=t[r];u in n&&(i[u]=n[u])}return i}function Zt(n,e){var i={};return Hn(n,function(n,t,r){e(n,t,r)&&(i[t]=n)}),i}var Yt,Gt,Jt=(Gt=Yt=0,function(n,t){var r=Kr(),e=Ei-(r-Gt);if(Gt=r,0<e){if(++Yt>=Ri)return n}else Yt=0;return Mn(n,t)});function Xt(n){for(var t=Te(n),r=t.length,e=r&&n.length,i=!!e&&Pt(e)&&(se(n)||ve(n)),u=-1,o=[];++u<r;){var f=t[u];(i&&Bt(f,e)||b.call(n,f))&&o.push(f)}return o}function Qt(n){return null==n?[]:zt(n)?de(n)?n:s(n):Me(n)}function nr(n){return de(n)?n:s(n)}function tr(n){if(se(n))return n;var i=[];return Nu(n).replace(pu,function(n,t,r,e){i.push(r?e.replace(gu,"$1"):t||n)}),i}function rr(n){return babelHelpers.instanceof(n,Q)?n.clone():new X(n.__wrapped__,n.__chain__,en(n.__actions__))}var er=ce(function(n,t){return Pu(n)&&zt(n)?mn(n,Rn(t,!1,!0)):[]});function ir(n,t,r){return n&&n.length?((r?Dt(n,t,r):null==t)&&(t=1),Pn(n,t<0?0:t)):[]}function ur(n,t,r){var e=n?n.length:0;return e?((r?Dt(n,t,r):null==t)&&(t=1),Pn(n,0,(t=e-(+t||0))<0?0:t)):[]}var or=dt(),fr=dt(!0);function ar(n){return n?n[0]:void 0}function cr(n,t,r){var e=n?n.length:0;if(!e)return-1;if("number"==typeof r)r=r<0?S(e+r,0):r;else if(r){var i=Qn(n,t);return i<e&&(t==t?t===n[i]:n[i]!=n[i])?i:-1}return Wu(n,t,r||0)}var lr=ce(function(n){for(var t=n.length,r=t,e=E(l),i=Ft(),u=i===Wu,o=[];r--;){var f=n[r]=zt(f=n[r])?f:[];e[r]=u&&120<=f.length?ct(r&&f):null}var a=n[0],c=-1,l=a?a.length:0,v=e[0];n:for(;++c<l;)if(f=a[c],(v?rn(v,f):i(o,f,0))<0){for(r=t;--r;){var s=e[r];if((s?rn(s,f):i(n[r],f,0))<0)continue n}v&&v.push(f),o.push(f)}return o});function vr(n){var t=n?n.length:0;return t?n[t-1]:void 0}var sr=ce(function(n,t){var r=_n(n,t=Rn(t));return Dn(n,t.sort(Uu)),r});function pr(n){return ir(n,1)}var hr=Ct(),_r=Ct(!0);var dr=ce(function(n){return Yn(Rn(n,!1,!0))});function gr(n,t,r,e){if(!n||!n.length)return[];null!=t&&"boolean"!=typeof t&&(r=Dt(n,t,e=r)?void 0:t,t=!1);var i=Ut();return null==r&&i===gn||(r=i(r,e,3)),t&&Ft()===Wu?function(n,t){for(var r,e=-1,i=n.length,u=-1,o=[];++e<i;){var f=n[e],a=t?t(f,e,n):f;e&&r===a||(r=a,o[++u]=f)}return o}(n,r):Yn(n,r)}function yr(n){if(!n||!n.length)return[];var t=-1,r=0;n=fn(n,function(n){if(zt(n))return r=S(n.length,r),!0});for(var e=E(r);++t<r;)e[t]=an(n,Bn(t));return e}function br(n,t,r){if(!n||!n.length)return[];var e=yr(n);return null==t?e:(t=tt(t,r,4),an(e,function(n){return ln(n,t,void 0,!0)}))}var wr=ce(function(n,t){return zt(n)?mn(n,t):[]});var xr=ce(yr);function mr(n,t){var r=-1,e=n?n.length:0,i={};for(!e||t||se(n[0])||(t=[]);++r<e;){var u=n[r];t?i[u]=t[r]:u&&(i[u[0]]=u[1])}return i}var Ar=ce(function(n){var t=n.length,r=2<t?n[t-2]:void 0,e=1<t?n[t-1]:void 0;return 2<t&&"function"==typeof r?t-=2:(r=1<t&&"function"==typeof e?(--t,e):void 0,e=void 0),n.length=t,br(n,r,e)});function jr(n){var t=G(n);return t.__chain__=!0,t}function kr(n,t,r){return t.call(r,n)}var Ir=ce(function(t){return t=Rn(t),this.thru(function(n){return function(n,t){for(var r=-1,e=n.length,i=-1,u=t.length,o=E(e+u);++r<e;)o[r]=n[r];for(;++i<u;)o[r++]=t[i];return o}(se(n)?n:[nr(n)],t)})});var Or=ce(function(n,t){return _n(n,Rn(t))}),Rr=ut(function(n,t,r){b.call(n,r)?++n[r]:n[r]=1});function Er(n,t,r){var e=se(n)?on:kn;return r&&Dt(n,t,r)&&(t=void 0),"function"==typeof t&&void 0===r||(t=Ut(t,r,3)),e(n,t)}function Cr(n,t,r){return(se(n)?fn:In)(n,t=Ut(t,r,3))}var Hr=_t(An),Ur=_t(jn,!0);var $r=bt(un,An),Wr=bt(function(n,t){for(var r=n.length;r--&&!1!==t(n[r],r,n););return n},jn),Fr=ut(function(n,t,r){b.call(n,r)?n[r].push(t):n[r]=[t]});function Nr(n,t,r,e){var i=n?Nt(n):0;return Pt(i)||(i=(n=Me(n)).length),r="number"!=typeof r||e&&Dt(t,r,e)?0:r<0?S(i+r,0):r||0,"string"==typeof n||!se(n)&&xe(n)?r<=i&&-1<n.indexOf(t,r):!!i&&-1<Ft(n,t,r)}var Sr=ut(function(n,t,r){n[r]=t}),Tr=ce(function(n,r,e){var i=-1,u="function"==typeof r,o=qt(r),f=zt(n)?E(n.length):[];return An(n,function(n){var t=u?r:o&&null!=n?n[r]:void 0;f[++i]=t?t.apply(n,e):Lt(n,r,e)}),f});function Lr(n,t,r){return(se(n)?an:Tn)(n,t=Ut(t,r,3))}var zr=ut(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]});var Br=kt(ln,An),Dr=kt(function(n,t,r,e){var i=n.length;for(e&&i&&(r=n[--i]);i--;)r=t(r,n[i],i,n);return r},jn);function qr(n,t,r){if(r?Dt(n,t,r):null==t)return 0<(e=(n=Qt(n)).length)?n[qn(0,e-1)]:void 0;var e,i=-1,u=je(n),o=(e=u.length)-1;for(t=T(t<0?0:+t||0,e);++i<t;){var f=qn(i,o),a=u[f];u[f]=u[i],u[i]=a}return u.length=t,u}function Mr(n,t,r){var e=se(n)?vn:Kn;return r&&Dt(n,t,r)&&(t=void 0),"function"==typeof t&&void 0===r||(t=Ut(t,r,3)),e(n,t)}var Pr=ce(function(n,t){if(null==n)return[];var r=t[2];return r&&Dt(t[0],t[1],r)&&(t.length=1),Zn(n,Rn(t),[])});var Kr=L||function(){return(new r).getTime()};function Vr(n,t){var r;if("function"!=typeof t){if("function"!=typeof n)throw new y($i);var e=n;n=t,t=e}return function(){return 0<--n&&(r=t.apply(this,arguments)),n<=1&&(t=void 0),r}}var Zr=ce(function(n,t,r){var e=gi;if(r.length){var i=Ku(r,Zr.placeholder);e|=mi}return Ht(n,e,t,r,i)}),Yr=ce(function(n,t){for(var r=-1,e=(t=t.length?Rn(t):Ne(n)).length;++r<e;){var i=t[r];n[i]=Ht(n[i],gi,n)}return n}),Gr=ce(function(n,t,r){var e=gi|yi;if(r.length){var i=Ku(r,Gr.placeholder);e|=mi}return Ht(t,e,n,r,i)}),Jr=st(wi),Xr=st(xi);function Qr(e,i,n){var u,o,f,a,c,l,v,s=0,p=!1,h=!0;if("function"!=typeof e)throw new y($i);if(i=i<0?0:+i||0,!0===n){var _=!0;h=!1}else de(n)&&(_=!!n.leading,p="maxWait"in n&&S(+n.maxWait||0,i),h="trailing"in n?!!n.trailing:h);function t(n,t){t&&x(t),o=l=v=void 0,n&&(s=Kr(),f=e.apply(c,u),l||o||(u=c=void 0))}function d(){var n=i-(Kr()-a);n<=0||i<n?t(v,o):l=I(d,n)}function g(){t(h,l)}function r(){if(u=arguments,a=Kr(),c=this,v=h&&(l||!_),!1===p)var n=_&&!l;else{o||_||(s=a);var t=p-(a-s),r=t<=0||p<t;r?(o=o&&x(o),s=a,f=e.apply(c,u)):o=o||I(g,t)}return r&&l?l=x(l):l||i===p||(l=I(d,i)),n&&(r=!0,f=e.apply(c,u)),!r||l||o||(u=c=void 0),f}return r.cancel=function(){l&&x(l),o&&x(o),o=l=v=void(s=0)},r}var ne=ce(function(n,t){return xn(n,1,t)}),te=ce(function(n,t,r){return xn(n,t,r)}),re=yt(),ee=yt(!0);function ie(i,u){if("function"!=typeof i||u&&"function"!=typeof u)throw new y($i);function o(){var n=arguments,t=u?u.apply(this,n):n[0],r=o.cache;if(r.has(t))return r.get(t);var e=i.apply(this,n);return o.cache=r.set(t,e),e}return o.cache=new ie.Cache,o}var ue=ce(function(r,e){if(e=Rn(e),"function"!=typeof r||!on(e,Fu))throw new y($i);var i=e.length;return ce(function(n){for(var t=T(n.length,i);t--;)n[t]=e[t](n[t]);return r.apply(this,n)})});var oe=jt(mi),fe=jt(Ai),ae=ce(function(n,t){return Ht(n,ki,void 0,void 0,void 0,Rn(t))});function ce(u,o){if("function"!=typeof u)throw new y($i);return o=S(void 0===o?u.length-1:+o||0,0),function(){for(var n=arguments,t=-1,r=S(n.length-o,0),e=E(r);++t<r;)e[t]=n[o+t];switch(o){case 0:return u.call(this,e);case 1:return u.call(this,n[0],e);case 2:return u.call(this,n[0],n[1],e)}var i=E(o+1);for(t=-1;++t<o;)i[t]=n[t];return i[o]=e,u.apply(this,i)}}function le(n,t){return t<n}function ve(n){return Pu(n)&&zt(n)&&b.call(n,"callee")&&!j.call(n,"callee")}var se=W||function(n){return Pu(n)&&Pt(n.length)&&w.call(n)==Ni};function pe(n,t,r,e){var i=(r="function"==typeof r?tt(r,e,3):void 0)?r(n,t):void 0;return void 0===i?Nn(n,t,r):!!i}function he(n){return Pu(n)&&"string"==typeof n.message&&w.call(n)==Li}function _e(n){return de(n)&&w.call(n)==zi}function de(n){var t=babelHelpers.typeof(n);return!!n&&("object"==t||"function"==t)}function ge(n){return null!=n&&(_e(n)?h.test(l.call(n)):Pu(n)&&xu.test(n))}function ye(n){return"number"==typeof n||Pu(n)&&w.call(n)==Bi}function be(n){var t,r;return!(!Pu(n)||w.call(n)!=Di||ve(n)||!b.call(n,"constructor")&&"function"==typeof(t=n.constructor)&&!babelHelpers.instanceof(t,t))&&(Hn(n,function(n,t){r=t}),void 0===r||b.call(n,r))}function we(n){return de(n)&&w.call(n)==qi}function xe(n){return"string"==typeof n||Pu(n)&&w.call(n)==Mi}function me(n){return Pu(n)&&Pt(n.length)&&!!Eu[w.call(n)]}function Ae(n,t){return n<t}function je(n){var t=n?Nt(n):0;return Pt(t)?t?en(n):[]:Me(n)}function ke(n){return dn(n,Te(n))}var Ie=ot(function u(o,f,a,c,l){if(!de(o))return o;var v=zt(f)&&(se(f)||me(f)),s=v?void 0:Se(f);return un(s||f,function(n,t){if(s&&(n=f[t=n]),Pu(n))!function(n,t,r,e,i,u,o){for(var f=u.length,a=t[r];f--;)if(u[f]==a)return n[r]=o[f];var c=n[r],l=i?i(c,a,r,n,t):void 0,v=void 0===l;v&&(zt(l=a)&&(se(a)||me(a))?l=se(c)?c:zt(c)?en(c):[]:be(a)||ve(a)?l=ve(c)?ke(c):be(c)?c:{}:v=!1),u.push(a),o.push(l),v?n[r]=e(l,a,i,u,o):(l==l?l!==c:c==c)&&(n[r]=l)}(o,f,t,u,a,c=c||[],l=l||[]);else{var r=o[t],e=a?a(r,n,t,o,f):void 0,i=void 0===e;i&&(e=n),void 0===e&&(!v||t in o)||!i&&(e==e?e===r:r!=r)||(o[t]=e)}}),o}),Oe=ot(function(n,t,r){return r?pn(n,t,r):hn(n,t)});var Re=pt(Oe,function(n,t){return void 0===n?t:n}),Ee=pt(Ie,function n(t,r){return void 0===t?r:Ie(t,r,n)}),Ce=gt(Un),He=gt($n),Ue=wt(En),$e=wt(Cn),We=xt(Un),Fe=xt($n);function Ne(n){return Wn(n,Te(n))}var Se=N?function(n){var t=null==n?void 0:n.constructor;return"function"==typeof t&&t.prototype===n||"function"!=typeof n&&zt(n)?Xt(n):de(n)?N(n):[]}:Xt;function Te(n){if(null==n)return[];de(n)||(n=s(n));var t=n.length;t=t&&Pt(t)&&(se(n)||ve(n))&&t||0;for(var r=n.constructor,e=-1,i="function"==typeof r&&r.prototype===n,u=E(t),o=0<t;++e<t;)u[e]=e+"";for(var f in n)o&&Bt(f,t)||"constructor"==f&&(i||!b.call(n,f))||u.push(f);return u}var Le=mt(!0),ze=mt(),Be=ce(function(n,t){if(null==n)return{};if("function"!=typeof t[0])return t=an(Rn(t),o),Vt(n,mn(Te(n),t));var e=tt(t[0],t[1],3);return Zt(n,function(n,t,r){return!e(n,t,r)})});function De(n){n=nr(n);for(var t=-1,r=Se(n),e=r.length,i=E(e);++t<e;){var u=r[t];i[t]=[u,n[u]]}return i}var qe=ce(function(n,t){return null==n?{}:"function"==typeof t[0]?Zt(n,tt(t[0],t[1],3)):Vt(n,Rn(t))});function Me(n){return Gn(n,Se(n))}var Pe=lt(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)});function Ke(n){return(n=Nu(n))&&n.replace(Au,zu).replace(du,"")}var Ve=lt(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()});var Ze=At(),Ye=At(!0);function Ge(n,t){var r="";if(n=Nu(n),(t=+t)<1||!n||!F(t))return r;for(;t%2&&(r+=n),n+=n,t=$(t/2););return r}var Je=lt(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Xe=lt(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))});function Qe(n,t,r){var e=n;return(n=Nu(n))?(r?Dt(e,t,r):null==t)?n.slice(Vu(n),Zu(n)+1):(t+="",n.slice(Su(n,t),Tu(n,t)+1)):n}function ni(n,t,r){return r&&Dt(n,t,r)&&(t=void 0),(n=Nu(n)).match(t||Iu)||[]}var ti=ce(function(n,t){try{return n.apply(void 0,t)}catch(n){return he(n)?n:new e(n)}});function ri(n,t,r){return r&&Dt(n,t,r)&&(t=void 0),Pu(n)?ii(n):gn(n,t)}function ei(n){return n}function ii(n){return Ln(yn(n,!0))}var ui=ce(function(t,r){return function(n){return Lt(n,t,r)}}),oi=ce(function(t,r){return function(n){return Lt(t,n,r)}});function fi(e,n,t){if(null==t){var r=de(n),i=r?Se(n):void 0,u=i&&i.length?Wn(n,i):void 0;(u?u.length:r)||(u=!1,t=n,n=e,e=this)}u=u||Wn(n,Se(n));var o=!0,f=-1,a=_e(e),c=u.length;!1===t?o=!1:de(t)&&"chain"in t&&(o=t.chain);for(;++f<c;){var l=u[f],v=n[l];e[l]=v,a&&(e.prototype[l]=function(r){return function(){var n=this.__chain__;if(o||n){var t=e(this.__wrapped__);return(t.__actions__=en(this.__actions__)).push({func:r,args:arguments,thisArg:e}),t.__chain__=n,t}return r.apply(e,cn([this.value()],arguments))}}(v))}return e}function ai(){}function ci(n){return qt(n)?Bn(n):(r=(t=n)+"",t=tr(t),function(n){return Fn(n,t,r)});var t,r}var li,vi=Et("ceil"),si=Et("floor"),pi=ht(le,D),hi=ht(Ae,q),_i=Et("round");return G.prototype=J.prototype,(X.prototype=bn(J.prototype)).constructor=X,(Q.prototype=bn(J.prototype)).constructor=Q,nn.prototype.delete=function(n){return this.has(n)&&delete this.__data__[n]},nn.prototype.get=function(n){return"__proto__"==n?void 0:this.__data__[n]},nn.prototype.has=function(n){return"__proto__"!=n&&b.call(this.__data__,n)},nn.prototype.set=function(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this},tn.prototype.push=function(n){var t=this.data;"string"==typeof n||de(n)?t.set.add(n):t.hash[n]=!0},ie.Cache=nn,G.after=function(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new y($i);var r=n;n=t,t=r}return n=F(n=+n)?n:0,function(){if(--n<1)return t.apply(this,arguments)}},G.ary=function(n,t,r){return r&&Dt(n,t,r)&&(t=void 0),t=n&&null==t?n.length:S(+t||0,0),Ht(n,ji,void 0,void 0,void 0,void 0,t)},G.assign=Oe,G.at=Or,G.before=Vr,G.bind=Zr,G.bindAll=Yr,G.bindKey=Gr,G.callback=ri,G.chain=jr,G.chunk=function(n,t,r){t=(r?Dt(n,t,r):null==t)?1:S($(t)||1,1);for(var e=0,i=n?n.length:0,u=-1,o=E(H(i/t));e<i;)o[++u]=Pn(n,e,e+=t);return o},G.compact=function(n){for(var t=-1,r=n?n.length:0,e=-1,i=[];++t<r;){var u=n[t];u&&(i[++e]=u)}return i},G.constant=function(n){return function(){return n}},G.countBy=Rr,G.create=function(n,t,r){var e=bn(n);return r&&Dt(n,t,r)&&(t=void 0),t?hn(e,t):e},G.curry=Jr,G.curryRight=Xr,G.debounce=Qr,G.defaults=Re,G.defaultsDeep=Ee,G.defer=ne,G.delay=te,G.difference=er,G.drop=ir,G.dropRight=ur,G.dropRightWhile=function(n,t,r){return n&&n.length?Jn(n,Ut(t,r,3),!0,!0):[]},G.dropWhile=function(n,t,r){return n&&n.length?Jn(n,Ut(t,r,3),!0):[]},G.fill=function(n,t,r,e){var i=n?n.length:0;return i?(r&&"number"!=typeof r&&Dt(n,t,r)&&(r=0,e=i),function(n,t,r,e){var i=n.length;for((r=null==r?0:+r||0)<0&&(r=i<-r?0:i+r),(e=void 0===e||i<e?i:+e||0)<0&&(e+=i),i=e<r?0:e>>>0,r>>>=0;r<i;)n[r++]=t;return n}(n,t,r,e)):[]},G.filter=Cr,G.flatten=function(n,t,r){var e=n?n.length:0;return r&&Dt(n,t,r)&&(t=!1),e?Rn(n,t):[]},G.flattenDeep=function(n){return n&&n.length?Rn(n,!0):[]},G.flow=re,G.flowRight=ee,G.forEach=$r,G.forEachRight=Wr,G.forIn=Ue,G.forInRight=$e,G.forOwn=We,G.forOwnRight=Fe,G.functions=Ne,G.groupBy=Fr,G.indexBy=Sr,G.initial=function(n){return ur(n,1)},G.intersection=lr,G.invert=function(n,t,r){r&&Dt(n,t,r)&&(t=void 0);for(var e=-1,i=Se(n),u=i.length,o={};++e<u;){var f=i[e],a=n[f];t?b.call(o,a)?o[a].push(f):o[a]=[f]:o[a]=f}return o},G.invoke=Tr,G.keys=Se,G.keysIn=Te,G.map=Lr,G.mapKeys=Le,G.mapValues=ze,G.matches=ii,G.matchesProperty=function(n,t){return zn(n,yn(t,!0))},G.memoize=ie,G.merge=Ie,G.method=ui,G.methodOf=oi,G.mixin=fi,G.modArgs=ue,G.negate=function(n){if("function"!=typeof n)throw new y($i);return function(){return!n.apply(this,arguments)}},G.omit=Be,G.once=function(n){return Vr(2,n)},G.pairs=De,G.partial=oe,G.partialRight=fe,G.partition=zr,G.pick=qe,G.pluck=function(n,t){return Lr(n,ci(t))},G.property=ci,G.propertyOf=function(t){return function(n){return Fn(t,tr(n),n+"")}},G.pull=function(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=Ft(),i=n.length;++r<i;)for(var u=0,o=n[r];-1<(u=e(t,o,u));)O.call(t,u,1);return t},G.pullAt=sr,G.range=function(n,t,r){r&&Dt(n,t,r)&&(t=r=void 0),n=+n||0,null==t?(t=n,n=0):t=+t||0;for(var e=-1,i=S(H((t-n)/((r=null==r?1:+r||0)||1)),0),u=E(i);++e<i;)u[e]=n,n+=r;return u},G.rearg=ae,G.reject=function(n,e,t){var r=se(n)?fn:In;return e=Ut(e,t,3),r(n,function(n,t,r){return!e(n,t,r)})},G.remove=function(n,t,r){var e=[];if(!n||!n.length)return e;var i=-1,u=[],o=n.length;for(t=Ut(t,r,3);++i<o;){var f=n[i];t(f,i,n)&&(e.push(f),u.push(i))}return Dn(n,u),e},G.rest=pr,G.restParam=ce,G.set=function(n,t,r){if(null==n)return n;for(var e=t+"",i=-1,u=(t=null!=n[e]||qt(t,n)?[e]:tr(t)).length,o=u-1,f=n;null!=f&&++i<u;){var a=t[i];de(f)&&(i==o?f[a]=r:null==f[a]&&(f[a]=Bt(t[i+1])?[]:{})),f=f[a]}return n},G.shuffle=function(n){return qr(n,q)},G.slice=function(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&Dt(n,t,r)&&(t=0,r=e),Pn(n,t,r)):[]},G.sortBy=function(n,e,t){if(null==n)return[];t&&Dt(n,e,t)&&(e=void 0);var i=-1;return e=Ut(e,t,3),Vn(Tn(n,function(n,t,r){return{criteria:e(n,t,r),index:++i,value:n}}),Lu)},G.sortByAll=Pr,G.sortByOrder=function(n,t,r,e){return null==n?[]:(e&&Dt(t,r,e)&&(r=void 0),se(t)||(t=null==t?[]:[t]),se(r)||(r=null==r?[]:[r]),Zn(n,t,r))},G.spread=function(t){if("function"!=typeof t)throw new y($i);return function(n){return t.apply(this,n)}},G.take=function(n,t,r){return n&&n.length?((r?Dt(n,t,r):null==t)&&(t=1),Pn(n,0,t<0?0:t)):[]},G.takeRight=function(n,t,r){var e=n?n.length:0;return e?((r?Dt(n,t,r):null==t)&&(t=1),Pn(n,(t=e-(+t||0))<0?0:t)):[]},G.takeRightWhile=function(n,t,r){return n&&n.length?Jn(n,Ut(t,r,3),!1,!0):[]},G.takeWhile=function(n,t,r){return n&&n.length?Jn(n,Ut(t,r,3)):[]},G.tap=function(n,t,r){return t.call(r,n),n},G.throttle=function(n,t,r){var e=!0,i=!0;if("function"!=typeof n)throw new y($i);return!1===r?e=!1:de(r)&&(e="leading"in r?!!r.leading:e,i="trailing"in r?!!r.trailing:i),Qr(n,t,{leading:e,maxWait:+t,trailing:i})},G.thru=kr,G.times=function(n,t,r){if((n=$(n))<1||!F(n))return[];var e=-1,i=E(T(n,M));for(t=tt(t,r,1);++e<n;)e<M?i[e]=t(e):t(e);return i},G.toArray=je,G.toPlainObject=ke,G.transform=function(n,e,i,t){var r=se(n)||me(n);if(e=Ut(e,t,4),null==i)if(r||de(n)){var u=n.constructor;i=r?se(n)?new u:[]:bn(_e(u)?u.prototype:void 0)}else i={};return(r?un:Un)(n,function(n,t,r){return e(i,n,t,r)}),i},G.union=dr,G.uniq=gr,G.unzip=yr,G.unzipWith=br,G.values=Me,G.valuesIn=function(n){return Gn(n,Te(n))},G.where=function(n,t){return Cr(n,Ln(t))},G.without=wr,G.wrap=function(n,t){return Ht(t=null==t?ei:t,mi,void 0,[n],[])},G.xor=function(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(zt(r))var e=e?cn(mn(e,r),mn(r,e)):r}return e?Yn(e):[]},G.zip=xr,G.zipObject=mr,G.zipWith=Ar,G.backflow=ee,G.collect=Lr,G.compose=ee,G.each=$r,G.eachRight=Wr,G.extend=Oe,G.iteratee=ri,G.methods=Ne,G.object=mr,G.select=Cr,G.tail=pr,G.unique=gr,fi(G,G),G.add=function(n,t){return(+n||0)+(+t||0)},G.attempt=ti,G.camelCase=Pe,G.capitalize=function(n){return(n=Nu(n))&&n.charAt(0).toUpperCase()+n.slice(1)},G.ceil=vi,G.clone=function(n,t,r,e){return t&&"boolean"!=typeof t&&Dt(n,t,r)?t=!1:"function"==typeof t&&(e=r,r=t,t=!1),"function"==typeof r?yn(n,t,tt(r,e,3)):yn(n,t)},G.cloneDeep=function(n,t,r){return"function"==typeof t?yn(n,!0,tt(t,r,3)):yn(n,!0)},G.deburr=Ke,G.endsWith=function(n,t,r){t+="";var e=(n=Nu(n)).length;return r=void 0===r?e:T(r<0?0:+r||0,e),0<=(r-=t.length)&&n.indexOf(t,r)==r},G.escape=function(n){return(n=Nu(n))&&fu.test(n)?n.replace(uu,Bu):n},G.escapeRegExp=function(n){return(n=Nu(n))&&_u.test(n)?n.replace(hu,Du):n||"(?:)"},G.every=Er,G.find=Hr,G.findIndex=or,G.findKey=Ce,G.findLast=Ur,G.findLastIndex=fr,G.findLastKey=He,G.findWhere=function(n,t){return Hr(n,Ln(t))},G.first=ar,G.floor=si,G.get=function(n,t,r){var e=null==n?void 0:Fn(n,tr(t),t+"");return void 0===e?r:e},G.gt=le,G.gte=function(n,t){return t<=n},G.has=function(n,t){if(null==n)return!1;var r=b.call(n,t);if(!r&&!qt(t)){if(null==(n=1==(t=tr(t)).length?n:Fn(n,Pn(t,0,-1))))return!1;t=vr(t),r=b.call(n,t)}return r||Pt(n.length)&&Bt(t,n.length)&&(se(n)||ve(n))},G.identity=ei,G.includes=Nr,G.indexOf=cr,G.inRange=function(n,t,r){return t=+t||0,void 0===r?(r=t,t=0):r=+r||0,n>=T(t,r)&&n<S(t,r)},G.isArguments=ve,G.isArray=se,G.isBoolean=function(n){return!0===n||!1===n||Pu(n)&&w.call(n)==Si},G.isDate=function(n){return Pu(n)&&w.call(n)==Ti},G.isElement=function(n){return!!n&&1===n.nodeType&&Pu(n)&&!be(n)},G.isEmpty=function(n){return null==n||(zt(n)&&(se(n)||xe(n)||ve(n)||Pu(n)&&_e(n.splice))?!n.length:!Se(n).length)},G.isEqual=pe,G.isError=he,G.isFinite=function(n){return"number"==typeof n&&F(n)},G.isFunction=_e,G.isMatch=function(n,t,r,e){return r="function"==typeof r?tt(r,e,3):void 0,Sn(n,St(t),r)},G.isNaN=function(n){return ye(n)&&n!=+n},G.isNative=ge,G.isNull=function(n){return null===n},G.isNumber=ye,G.isObject=de,G.isPlainObject=be,G.isRegExp=we,G.isString=xe,G.isTypedArray=me,G.isUndefined=function(n){return void 0===n},G.kebabCase=Ve,G.last=vr,G.lastIndexOf=function(n,t,r){var e=n?n.length:0;if(!e)return-1;var i=e;if("number"==typeof r)i=(r<0?S(e+r,0):T(r||0,e-1))+1;else if(r){var u=n[i=Qn(n,t,!0)-1];return(t==t?t===u:u!=u)?i:-1}if(t!=t)return Mu(n,i,!0);for(;i--;)if(n[i]===t)return i;return-1},G.lt=Ae,G.lte=function(n,t){return n<=t},G.max=pi,G.min=hi,G.noConflict=function(){return Hu._=p,this},G.noop=ai,G.now=Kr,G.pad=function(n,t,r){t=+t;var e=(n=Nu(n)).length;if(t<=e||!F(t))return n;var i=(t-e)/2,u=$(i);return(r=Ot("",H(i),r)).slice(0,u)+n+r},G.padLeft=Ze,G.padRight=Ye,G.parseInt=function(n,t,r){return t=(r?Dt(n,t,r):null==t)?0:t&&+t,n=Qe(n),z(n,t||(wu.test(n)?16:10))},G.random=function(n,t,r){r&&Dt(n,t,r)&&(t=r=void 0);var e=null==n,i=null==t;if(null==r&&(i&&"boolean"==typeof n?(r=n,n=1):"boolean"==typeof t&&(r=t,i=!0)),e&&i&&(i=!(t=1)),n=+n||0,i?(t=n,n=0):t=+t||0,r||n%1||t%1){var u=B();return T(n+u*(t-n+m("1e-"+((u+"").length-1))),t)}return qn(n,t)},G.reduce=Br,G.reduceRight=Dr,G.repeat=Ge,G.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(null==n||qt(t,n)||(e=null==(n=1==(t=tr(t)).length?n:Fn(n,Pn(t,0,-1)))?void 0:n[vr(t)]),e=void 0===e?r:e),_e(e)?e.call(n):e},G.round=_i,G.runInContext=n,G.size=function(n){var t=n?Nt(n):0;return Pt(t)?t:Se(n).length},G.snakeCase=Je,G.some=Mr,G.sortedIndex=hr,G.sortedLastIndex=_r,G.startCase=Xe,G.startsWith=function(n,t,r){return n=Nu(n),r=null==r?0:T(r<0?0:+r||0,n.length),n.lastIndexOf(t,r)==r},G.sum=function(n,t,r){return r&&Dt(n,t,r)&&(t=void 0),1==(t=Ut(t,r,3)).length?function(n,t){for(var r=n.length,e=0;r--;)e+=+t(n[r])||0;return e}(se(n)?n:Qt(n),t):(e=t,i=0,An(n,function(n,t,r){i+=+e(n,t,r)||0}),i);var e,i},G.template=function(o,n,t){var r=G.templateSettings;t&&Dt(o,n,t)&&(n=t=void 0),o=Nu(o),n=pn(hn({},t||n),r,sn);var f,a,e=pn(hn({},n.imports),r.imports,sn),i=Se(e),u=Gn(e,i),c=0,l=n.interpolate||ju,v="__p += '",s=g((n.escape||ju).source+"|"+l.source+"|"+(l===lu?yu:ju).source+"|"+(n.evaluate||ju).source+"|$","g"),p="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++Ru+"]")+"\n";o.replace(s,function(n,t,r,e,i,u){return r=r||e,v+=o.slice(c,u).replace(ku,qu),t&&(f=!0,v+="' +\n__e("+t+") +\n'"),i&&(a=!0,v+="';\n"+i+";\n__p += '"),r&&(v+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+n.length,n}),v+="';\n";var h=n.variable;h||(v="with (obj) {\n"+v+"\n}\n"),v=(a?v.replace(tu,""):v).replace(ru,"$1").replace(eu,"$1;"),v="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(f?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+v+"return __p\n}";var _=ti(function(){return d(i,p+"return "+v).apply(void 0,u)});if(_.source=v,he(_))throw _;return _},G.trim=Qe,G.trimLeft=function(n,t,r){var e=n;return(n=Nu(n))?(r?Dt(e,t,r):null==t)?n.slice(Vu(n)):n.slice(Su(n,t+"")):n},G.trimRight=function(n,t,r){var e=n;return(n=Nu(n))?(r?Dt(e,t,r):null==t)?n.slice(0,Zu(n)+1):n.slice(0,Tu(n,t+"")+1):n},G.trunc=function(n,t,r){r&&Dt(n,t,r)&&(t=void 0);var e=Ii,i=Oi;if(null!=t)if(de(t)){var u="separator"in t?t.separator:u;e="length"in t?+t.length||0:e,i="omission"in t?Nu(t.omission):i}else e=+t||0;if(e>=(n=Nu(n)).length)return n;var o=e-i.length;if(o<1)return i;var f=n.slice(0,o);if(null==u)return f+i;if(we(u)){if(n.slice(o).search(u)){var a,c,l=n.slice(0,o);for(u.global||(u=g(u.source,(bu.exec(u)||"")+"g")),u.lastIndex=0;a=u.exec(l);)c=a.index;f=f.slice(0,null==c?o:c)}}else if(n.indexOf(u,o)!=o){var v=f.lastIndexOf(u);-1<v&&(f=f.slice(0,v))}return f+i},G.unescape=function(n){return(n=Nu(n))&&ou.test(n)?n.replace(iu,Yu):n},G.uniqueId=function(n){var t=++v;return Nu(n)+t},G.words=ni,G.all=Er,G.any=Mr,G.contains=Nr,G.eq=pe,G.detect=Hr,G.foldl=Br,G.foldr=Dr,G.head=ar,G.include=Nr,G.inject=Br,fi(G,(li={},Un(G,function(n,t){G.prototype[t]||(li[t]=n)}),li),!1),G.sample=qr,G.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(n){return qr(n,t)}):qr(this.value())},G.VERSION=di,un(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){G[n].placeholder=G}),un(["drop","take"],function(e,i){Q.prototype[e]=function(n){var t=this.__filtered__;if(t&&!i)return new Q(this);n=null==n?1:S($(n)||0,0);var r=this.clone();return t?r.__takeCount__=T(r.__takeCount__,n):r.__views__.push({size:n,type:e+(r.__dir__<0?"Right":"")}),r},Q.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),un(["filter","map","takeWhile"],function(n,t){var e=t+1,i=e!=Ui;Q.prototype[n]=function(n,t){var r=this.clone();return r.__iteratees__.push({iteratee:Ut(n,t,1),type:e}),r.__filtered__=r.__filtered__||i,r}}),un(["first","last"],function(n,t){var r="take"+(t?"Right":"");Q.prototype[n]=function(){return this[r](1).value()[0]}}),un(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");Q.prototype[n]=function(){return this.__filtered__?new Q(this):this[r](1)}}),un(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?Ln:ci;Q.prototype[n]=function(n){return this[r](e(n))}}),Q.prototype.compact=function(){return this.filter(ei)},Q.prototype.reject=function(t,n){return t=Ut(t,n,1),this.filter(function(n){return!t(n)})},Q.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return r.__filtered__&&(0<n||t<0)?new Q(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),void 0!==t&&(r=(t=+t||0)<0?r.dropRight(-t):r.take(t-n)),r)},Q.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},Q.prototype.toArray=function(){return this.take(q)},Un(Q.prototype,function(v,n){var s=/^(?:filter|map|reject)|While$/.test(n),p=/^(?:first|last)$/.test(n),h=G[p?"take"+("last"==n?"Right":""):n];h&&(G.prototype[n]=function(){var t=p?[1]:arguments,r=this.__chain__,n=this.__wrapped__,e=!!this.__actions__.length,i=babelHelpers.instanceof(n,Q),u=t[0],o=i||se(n);function f(n){return p&&r?h(n,1)[0]:h.apply(void 0,cn([n],t))}o&&s&&"function"==typeof u&&1!=u.length&&(i=o=!1);var a={func:kr,args:[f],thisArg:void 0},c=i&&!e;if(p&&!r)return c?((n=n.clone()).__actions__.push(a),v.call(n)):h.call(void 0,this.value())[0];if(p||!o)return this.thru(f);n=c?n:new Q(this);var l=v.apply(n,t);return l.__actions__.push(a),new X(l,r)})}),un(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(n){var r=(/^(?:replace|split)$/.test(n)?c:f)[n],e=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(n);G.prototype[n]=function(){var t=arguments;return i&&!this.__chain__?r.apply(this.value(),t):this[e](function(n){return r.apply(n,t)})}}),Un(Q.prototype,function(n,t){var r=G[t];if(r){var e=r.name+"";(Y[e]||(Y[e]=[])).push({name:t,func:r})}}),Y[It(void 0,yi).name]=[{name:"wrapper",func:void 0}],Q.prototype.clone=function(){var n=new Q(this.__wrapped__);return n.__actions__=en(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=en(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=en(this.__views__),n},Q.prototype.reverse=function(){if(this.__filtered__){var n=new Q(this);n.__dir__=-1,n.__filtered__=!0}else(n=this.clone()).__dir__*=-1;return n},Q.prototype.value=function(){var n=this.__wrapped__.value(),t=this.__dir__,r=se(n),e=t<0,i=r?n.length:0,u=function(n,t,r){for(var e=-1,i=r.length;++e<i;){var u=r[e],o=u.size;switch(u.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=T(t,n+o);break;case"takeRight":n=S(n,t-o)}}return{start:n,end:t}}(0,i,this.__views__),o=u.start,f=u.end,a=f-o,c=e?f:o-1,l=this.__iteratees__,v=l.length,s=0,p=T(a,this.__takeCount__);if(!r||i<Ci||i==a&&p==a)return Xn(n,this.__actions__);var h=[];n:for(;a--&&s<p;){for(var _=-1,d=n[c+=t];++_<v;){var g=l[_],y=g.iteratee,b=g.type,w=y(d);if(b==Ui)d=w;else if(!w){if(b==Hi)continue n;break n}}h[s++]=d}return h},G.prototype.chain=function(){return jr(this)},G.prototype.commit=function(){return new X(this.value(),this.__chain__)},G.prototype.concat=Ir,G.prototype.plant=function(n){for(var t,r=this;babelHelpers.instanceof(r,J);){var e=rr(r);t?i.__wrapped__=e:t=e;var i=e;r=r.__wrapped__}return i.__wrapped__=n,t},G.prototype.reverse=function(){function n(n){return n.reverse()}var t=this.__wrapped__;if(babelHelpers.instanceof(t,Q)){var r=t;return this.__actions__.length&&(r=new Q(this)),(r=r.reverse()).__actions__.push({func:kr,args:[n],thisArg:void 0}),new X(r,this.__chain__)}return this.thru(n)},G.prototype.toString=function(){return this.value()+""},G.prototype.run=G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=function(){return Xn(this.__wrapped__,this.__actions__)},G.prototype.collect=G.prototype.map,G.prototype.head=G.prototype.first,G.prototype.select=G.prototype.filter,G.prototype.tail=G.prototype.rest,G}();"function"==typeof define&&"object"==babelHelpers.typeof(define.amd)&&define.amd?(Hu._=Gu,define(function(){return Gu})):c&&l?h?(l.exports=Gu)._=Gu:c._=Gu:Hu._=Gu}).call(this)</script><script>window.__=_.noConflict()</script><script>Polymer.ypLanguageBehavior={properties:{t:{type:Function,computed:"_translate(loadedLanguage)"},language:{type:String,value:null},loadedLanguage:{type:String,value:null}},_setupRtl:function(){-1<YpMagicTextBox.rtlLanguages.indexOf(this.language)?this.set("rtl",!0):this.set("rtl",!1)},ready:function(){window.i18nTranslation&&(this.set("loadedLanguage",window.locale),this.set("language",window.locale),void 0!==this.rtl&&this._setupRtl())},_languageEvent:function(t,a){"language-loaded"==a.type&&(this.set("loadedLanguage",a.language),this.set("language",a.language),window.locale=a.language,void 0!==this.rtl&&this._setupRtl())},_translate:function(){return function(){var t=arguments[0];if(window.i18nTranslation){var a=window.i18nTranslation.t(t);return""==a&&(a=t),a}return t}}}</script><script>"use strict";Polymer({is:"iron-request",hostAttributes:{hidden:!0},properties:{xhr:{type:Object,notify:!0,readOnly:!0,value:function(){return new XMLHttpRequest}},response:{type:Object,notify:!0,readOnly:!0,value:function(){return null}},status:{type:Number,notify:!0,readOnly:!0,value:0},statusText:{type:String,notify:!0,readOnly:!0,value:""},completes:{type:Object,readOnly:!0,notify:!0,value:function(){return new Promise(function(e,t){this.resolveCompletes=e,this.rejectCompletes=t}.bind(this))}},progress:{type:Object,notify:!0,readOnly:!0,value:function(){return{}}},aborted:{type:Boolean,notify:!0,readOnly:!0,value:!1},errored:{type:Boolean,notify:!0,readOnly:!0,value:!1},timedOut:{type:Boolean,notify:!0,readOnly:!0,value:!1}},get succeeded(){if(this.errored||this.aborted||this.timedOut)return!1;var e=this.xhr.status||0;return 0===e||200<=e&&e<300},send:function(r){var t=this.xhr;if(0<t.readyState)return null;t.addEventListener("progress",function(e){this._setProgress({lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total}),this.fire("iron-request-progress-changed",{value:this.progress})}.bind(this)),t.addEventListener("error",function(e){this._setErrored(!0),this._updateStatus();var t=r.rejectWithRequest?{error:e,request:this}:e;this.rejectCompletes(t)}.bind(this)),t.addEventListener("timeout",function(e){this._setTimedOut(!0),this._updateStatus();var t=r.rejectWithRequest?{error:e,request:this}:e;this.rejectCompletes(t)}.bind(this)),t.addEventListener("abort",function(){this._setAborted(!0),this._updateStatus();var e=new Error("Request aborted."),t=r.rejectWithRequest?{error:e,request:this}:e;this.rejectCompletes(t)}.bind(this)),t.addEventListener("loadend",function(){if(this._updateStatus(),this._setResponse(this.parseResponse()),this.succeeded)this.resolveCompletes(this);else{var e=new Error("The request failed with status code: "+this.xhr.status),t=r.rejectWithRequest?{error:e,request:this}:e;this.rejectCompletes(t)}}.bind(this)),this.url=r.url;var e=!1!==r.async;t.open(r.method||"GET",r.url,e);var s={json:"application/json",text:"text/plain",html:"text/html",xml:"application/xml",arraybuffer:"application/octet-stream"}[r.handleAs],n=r.headers||Object.create(null),o=Object.create(null);for(var i in n)o[i.toLowerCase()]=n[i];if(n=o,s&&!n.accept&&(n.accept=s),Object.keys(n).forEach(function(e){/[A-Z]/.test(e)&&Polymer.Base._error("Headers must be lower case, got",e),t.setRequestHeader(e,n[e])},this),e){t.timeout=r.timeout;var a=r.handleAs;!r.jsonPrefix&&a||(a="text"),t.responseType=t._responseType=a,r.jsonPrefix&&(t._jsonPrefix=r.jsonPrefix)}t.withCredentials=!!r.withCredentials;var u=this._encodeBodyObject(r.body,n["content-type"]);return t.send(u),this.completes},parseResponse:function(){var t=this.xhr,e=t.responseType||t._responseType,r=!this.xhr.responseType,s=t._jsonPrefix&&t._jsonPrefix.length||0;try{switch(e){case"json":if(r||void 0===t.response)try{return JSON.parse(t.responseText)}catch(e){return console.warn("Failed to parse JSON sent from "+t.responseURL),null}return t.response;case"xml":return t.responseXML;case"blob":case"document":case"arraybuffer":return t.response;case"text":default:if(s)try{return JSON.parse(t.responseText.substring(s))}catch(e){return console.warn("Failed to parse JSON sent from "+t.responseURL),null}return t.responseText}}catch(e){this.rejectCompletes(new Error("Could not parse response. "+e.message))}},abort:function(){this._setAborted(!0),this.xhr.abort()},_encodeBodyObject:function(e,t){if("string"==typeof e)return e;var r=e;switch(t){case"application/json":return JSON.stringify(r);case"application/x-www-form-urlencoded":return this._wwwFormUrlEncode(r)}return e},_wwwFormUrlEncode:function(t){if(!t)return"";var r=[];return Object.keys(t).forEach(function(e){r.push(this._wwwFormUrlEncodePiece(e)+"="+this._wwwFormUrlEncodePiece(t[e]))},this),r.join("&")},_wwwFormUrlEncodePiece:function(e){return null!=e&&e.toString?encodeURIComponent(e.toString().replace(/\r?\n/g,"\r\n")).replace(/%20/g,"+"):""},_updateStatus:function(){this._setStatus(this.xhr.status),this._setStatusText(void 0===this.xhr.statusText?"":this.xhr.statusText)}})</script><script>"use strict";Polymer({is:"iron-ajax",hostAttributes:{hidden:!0},properties:{url:{type:String},params:{type:Object,value:function(){return{}}},method:{type:String,value:"GET"},headers:{type:Object,value:function(){return{}}},contentType:{type:String,value:null},body:{type:Object,value:null},sync:{type:Boolean,value:!1},handleAs:{type:String,value:"json"},withCredentials:{type:Boolean,value:!1},timeout:{type:Number,value:0},auto:{type:Boolean,value:!1},verbose:{type:Boolean,value:!1},lastRequest:{type:Object,notify:!0,readOnly:!0},lastProgress:{type:Object,notify:!0,readOnly:!0},loading:{type:Boolean,notify:!0,readOnly:!0},lastResponse:{type:Object,notify:!0,readOnly:!0},lastError:{type:Object,notify:!0,readOnly:!0},activeRequests:{type:Array,notify:!0,readOnly:!0,value:function(){return[]}},debounceDuration:{type:Number,value:0,notify:!0},jsonPrefix:{type:String,value:""},bubbles:{type:Boolean,value:!1},rejectWithRequest:{type:Boolean,value:!1},_boundHandleResponse:{type:Function,value:function(){return this._handleResponse.bind(this)}}},observers:["_requestOptionsChanged(url, method, params.*, headers, contentType, body, sync, handleAs, jsonPrefix, withCredentials, timeout, auto)"],created:function(){this._boundOnProgressChanged=this._onProgressChanged.bind(this)},get queryString(){var e,t,s=[];for(e in this.params)if(t=this.params[e],e=window.encodeURIComponent(e),Array.isArray(t))for(var r=0;r<t.length;r++)s.push(e+"="+window.encodeURIComponent(t[r]));else null!==t?s.push(e+"="+window.encodeURIComponent(t)):s.push(e);return s.join("&")},get requestUrl(){var e=this.queryString,t=this.url||"";if(e){var s=0<=t.indexOf("?")?"&":"?";return t+s+e}return t},get requestHeaders(){var e,t={},s=this.contentType;if(null==s&&"string"==typeof this.body&&(s="application/x-www-form-urlencoded"),s&&(t["content-type"]=s),"object"===babelHelpers.typeof(this.headers))for(e in this.headers)t[e]=this.headers[e].toString();return t},_onProgressChanged:function(e){this._setLastProgress(e.detail.value)},toRequestOptions:function(){return{url:this.requestUrl||"",method:this.method,headers:this.requestHeaders,body:this.body,async:!this.sync,handleAs:this.handleAs,jsonPrefix:this.jsonPrefix,withCredentials:this.withCredentials,timeout:this.timeout,rejectWithRequest:this.rejectWithRequest}},generateRequest:function(){var e=document.createElement("iron-request"),t=this.toRequestOptions();return this.push("activeRequests",e),e.completes.then(this._boundHandleResponse).catch(this._handleError.bind(this,e)).then(this._discardRequest.bind(this,e)),this.fire("iron-ajax-presend",{request:e,options:t},{bubbles:this.bubbles,cancelable:!0}).defaultPrevented?(e.abort(),e.rejectCompletes(e)):(this.lastRequest&&this.lastRequest.removeEventListener("iron-request-progress-changed",this._boundOnProgressChanged),e.addEventListener("iron-request-progress-changed",this._boundOnProgressChanged),e.send(t),this._setLastProgress(null),this._setLastRequest(e),this._setLoading(!0),this.fire("request",{request:e,options:t},{bubbles:this.bubbles,composed:!0}),this.fire("iron-ajax-request",{request:e,options:t},{bubbles:this.bubbles,composed:!0})),e},_handleResponse:function(e){e===this.lastRequest&&(this._setLastResponse(e.response),this._setLastError(null),this._setLoading(!1)),this.fire("response",e,{bubbles:this.bubbles,composed:!0}),this.fire("iron-ajax-response",e,{bubbles:this.bubbles,composed:!0})},_handleError:function(e,t){this.verbose&&Polymer.Base._error(t),e===this.lastRequest&&(this._setLastError({request:e,error:t,status:e.xhr.status,statusText:e.xhr.statusText,response:e.xhr.response}),this._setLastResponse(null),this._setLoading(!1)),this.fire("iron-ajax-error",{request:e,error:t},{bubbles:this.bubbles,composed:!0}),this.fire("error",{request:e,error:t},{bubbles:this.bubbles,composed:!0})},_discardRequest:function(e){var t=this.activeRequests.indexOf(e);-1<t&&this.splice("activeRequests",t,1)},_requestOptionsChanged:function(){this.debounce("generate-request",function(){null!=this.url&&this.auto&&this.generateRequest()},this.debounceDuration)}})</script><script>!function(){"use strict";Polymer.PaperDialogBehaviorImpl={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1},__readied:{type:Boolean,value:!1}},observers:["_modalChanged(modal, __readied)"],listeners:{tap:"_onDialogClick"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.__readied=!0},_modalChanged:function(i,e){e&&(i?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.noCancelOnOutsideClick=!0,this.noCancelOnEscKey=!0,this.withBackdrop=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(i){this.closingReason=this.closingReason||{},this.closingReason.confirmed=i},_onDialogClick:function(i){for(var e,o=Polymer.dom(i).path,t=0,n=o.indexOf(this);t<n;t++)if((e=o[t]).hasAttribute&&(e.hasAttribute("dialog-dismiss")||e.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(e.hasAttribute("dialog-confirm")),this.close(),i.stopPropagation();break}}},Polymer.PaperDialogBehavior=[Polymer.IronOverlayBehavior,Polymer.PaperDialogBehaviorImpl]}()</script><dom-module id="paper-dialog-shared-styles"assetpath="../../bower_components/paper-dialog-behavior/"><template><style>:host{display:block;margin:24px 40px;background:var(--paper-dialog-background-color, var(--primary-background-color));color:var(--paper-dialog-color, var(--primary-text-color));@apply --paper-font-body1;@apply --shadow-elevation-16dp;@apply --paper-dialog;}:host > ::slotted(*){margin-top:20px;padding:0 24px;}:host > ::slotted(.no-padding){padding:0;}:host > ::slotted(*:first-child){margin-top:24px;}:host > ::slotted(*:last-child){margin-bottom:24px;}:host > ::slotted(h2){position:relative;margin:0;@apply --paper-font-title;@apply --paper-dialog-title;}:host > ::slotted(h2:first-child){margin-top:24px;@apply --paper-dialog-title;}:host > ::slotted(h2:last-child){margin-bottom:24px;@apply --paper-dialog-title;}:host > ::slotted(.paper-dialog-buttons),
      :host > ::slotted(.buttons){position:relative;padding:8px 8px 8px 24px;margin:0;color:var(--paper-dialog-button-color, var(--primary-color));@apply --layout-horizontal;@apply --layout-end-justified;}</style></template></dom-module><dom-module id="paper-dialog"assetpath="../../bower_components/paper-dialog/"><template><style include="paper-dialog-shared-styles"></style><slot></slot></template></dom-module><script>Polymer({is:"paper-dialog",behaviors:[Polymer.PaperDialogBehavior,Polymer.NeonAnimationRunnerBehavior],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation(),this.playAnimation("entry")},_renderClosed:function(){this.cancelAnimation(),this.playAnimation("exit")},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}})</script><script>Polymer.ypGotoBehavior={redirectTo:function(o){window.history.pushState({},null,o),window.dispatchEvent(new CustomEvent("location-changed")),document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"yp-pause-media-playback",data:{}}})),console.log("REDIRECTING TO: "+o)},goToPost:function(o,t,e,n,i){var s;if(o&&!babelHelpers.instanceof(o,Event))s=o;else{if(!this.post||!this.post.id)return void console.error("Can't find post id for goToPost");s=this.post.id}var a="/post/"+s;t&&!babelHelpers.instanceof(o,Event)&&(a+="/"+t);var l=window.location.href;console.log("Go to post: "+a),console.log("Current window location: "+l),e&&(console.info("Saving cached scroll to item "+e.id),window.appGlobals.cachedActivityItem=e),n&&n.Group&&n.Group.Community&&(console.info("Saving cached scroll to post "+n.id),window.appGlobals.cachedPostItem=n),-1==l.indexOf(a)&&(window.appGlobals.activity("open","post",a,{id:s,modelType:"post"}),!0!==i&&window.app.setKeepOpenForPostsOn(window.location.pathname),this.async(function(){this.redirectTo(a)}))}}</script><script>Polymer.ypAppRecommendationsBehavior={properties:{recommendationsGroupCache:{type:Object,value:null},recommendationsSeenPostIds:{type:Object,value:null},recommendationCallbacks:{type:Object,value:null},lastRecommendationResponseLengths:{type:Object,value:null},currentPostId:{type:Number,value:null},currentlyDownloadingIds:{type:Object,value:null},preCacheLimit:{type:Number,value:3}},getNextRecommendationForGroup:function(e,o,n){if(e=parseInt(e),this.set("currentPostId",parseInt(o)),this.recommendationCallbacks[e]=n,this.recommendationsGroupCache[e])if(0<this.recommendationsGroupCache[e].length){console.log("Recommendation getting next from cache groupId: "+e);var t=this._getSelectedPost(e);t&&window.appGlobals.showRecommendationInfoIfNeeded(),n(t)}else console.log("Recommendation found no post on cache or server groupId: "+e),n(null);else console.log("Recommendation getting initial cache from server groupId: "+e),this.$.recommendationsForGroupAjax.url="/api/recommendations/groups/"+e+"/getPostRecommendations",this.$.recommendationsForGroupAjax.body={},this.$.recommendationsForGroupAjax.generateRequest()},_recommendationsForUser:function(){this._reset(),console.log("Recommendation user reset")},_preCacheMediaForPost:function(o){this.async(function(){var e=null;o.cover_media_type&&"none"!==o.cover_media_type||o.Category?o.cover_media_type&&"none"!==o.cover_media_type||!o.Category?"image"===o.cover_media_type&&(e=this.getImageFormatUrl(o.PostHeaderImages,0),console.log("Recommendation downloading image: "+o.id)):(e=this._getCategoryImagePath(o),console.log("Recommendation downloading category image: "+o.id)):(e="https://i.imgur.com/sdsFAoT.png",console.log("Recommendation downloading default image: "+o.id)),e?((new Image).src=e,console.log("Recommendation preCaching image: "+e)):console.log("Recommendation no image download for: "+o.id)})},getImageFormatUrl:function(e,o){if(!(e&&0<e.length))return"";var n=JSON.parse(e[e.length-1].formats);return n&&0<n.length?n[o]:void 0},_getCategoryImagePath:function(e){return e&&e.Category&&e.Category.CategoryIconImages?this.getImageFormatUrl(e.Category.CategoryIconImages,0):""},_downloadItemToCache:function(o){window.fetch?this.async(function(){this.currentlyDownloadingIds[o]?console.warn("Recommendation already downloading: "+o):(this.currentlyDownloadingIds[o]=!0,console.log("Recommendation downloading for cache: "+o),fetch("/api/posts/"+o).then(function(e){return this.currentlyDownloadingIds[o]=null,e.json()}.bind(this)).then(function(e){e?this._preCacheMediaForPost(e):console.error("Recommendation no post to save to cache"),window.appGlobals.postItemsCache[o]=e,console.log("Recommendation saved post to cache: "+o)}.bind(this)).catch(function(e){console.error("Recommendation: Error in getting post for cache",e),this.currentlyDownloadingIds[o]=null}.bind(this)))}):console.warn("Recommendation: No fetch to download cache")},_ensureNextItemsAreCached:function(e){for(var o=0;o<Math.min(this.recommendationsGroupCache[e].length-1,this.preCacheLimit);o++)window.appGlobals.postItemsCache[this.recommendationsGroupCache[e][o].id]?console.log("Recommendation already in cache for group: "+e):this._downloadItemToCache(this.recommendationsGroupCache[e][o].id)},_recommendationsForGroupResponse:function(e,o){var n=o.response.recommendations,t=parseInt(o.response.groupId);this.lastRecommendationResponseLengths[t]=n.length,this.recommendationsGroupCache[t]?this.recommendationsGroupCache[t]=this.recommendationsGroupCache[t].concat(n):this.recommendationsGroupCache[t]=n,this.recommendationCallbacks[t]&&(this.recommendationCallbacks[t](this._getSelectedPost(t)),this.recommendationCallbacks[t]=null)},_getSelectedPost:function(e){if(this.recommendationsGroupCache[e]){var o=this.recommendationsGroupCache[e][0];return o?(console.info("Recommendation found post: "+o.id+" recCacheLength: "+this.recommendationsGroupCache[e].length),o.id===this.currentPostId&&(console.info("Recommendation not showing current post id: "+o.id+" recCacheLength: "+this.recommendationsGroupCache[e].length),this.recommendationsGroupCache[e].shift(),0<this.recommendationsGroupCache[e].length?(o=this.recommendationsGroupCache[e][0],console.info("Recommendation found 2nd time: "+o.id+" recCacheLength: "+this.recommendationsGroupCache[e].length)):(console.info("Recommendation not found 2nd time: "+o.id+" recCacheLength: "+this.recommendationsGroupCache[e].length),o=null)),o&&this._ensureNextItemsAreCached(e),o):(console.warn("Recommendation no post for getSelectedPost, groupId: "+e),null)}return null},_reset:function(){this.set("recommendationsSeenPostIds",{}),this.set("lastRecommendationResponseLengths",{}),this.set("recommendationCallbacks",{}),this.set("recommendationsGroupCache",{}),console.log("Recommendations have initialized")},ready:function(){this._reset(),this.set("currentlyDownloadingIds",{})}}</script><script>Polymer.ypAppCacheBehavior={properties:{cachedActivityItem:{type:Object,value:null},cachedPostItem:{type:Object,value:null},backToDomainCommunityItems:{type:Object,value:null},backToCommunityGroupItems:{type:Object,value:null},communityItemsCache:{type:Object,value:null},groupItemsCache:{type:Object,value:null},postItemsCache:{type:Object,value:null},autoTranslateCache:Object},addPostsToCacheLater:function(e){var t=Math.floor(1e3*Math.random())+750;this.async(function(){if(e)for(i=0;i<e.length;i++)this.postItemsCache[e[i].id]||(this.postItemsCache[e[i].id]=e[i]);else console.error("No posts for cache")},t)},getPostFromCache:function(e){return this.postItemsCache[parseInt(e)]},updatePostInCache:function(e){this.postItemsCache[e.id]=e},ready:function(){this.autoTranslateCache={},this.communityItemsCache={},this.groupItemsCache={},this.postItemsCache={}}}</script><script>Polymer.ypAppAnalyticsBehavior={properties:{pixelTrackerId:{type:String,value:null},communityTrackerId:{type:String,value:null},plausibleDomains:{type:String,value:null},communityTrackerIds:{type:Object,value:{}}},setupGoogleAnalytics:function(e){e.public_api_keys&&e.public_api_keys&&e.public_api_keys.google&&e.public_api_keys.google.analytics_tracking_id?ga("create",e.public_api_keys.google.analytics_tracking_id,"auto"):e.google_analytics_code&&""!=e.google_analytics_code&&ga("create",e.google_analytics_code,"auto"),"function"==typeof ga?(ga("set","anonymizeIp",!0),ga("send","pageview",location.pathname),ga("set","nonInteraction",!0),this.async(function(){ga("set","nonInteraction",!1)},900)):console.error("Can't find Google Analytics object")},facebookPixelTracking:function(e,i){var n;this.pixelTrackerId&&e&&(n="pageview"===e?"PageView":"event"===e&&i?i:e,new Image(1,1).src="https://www.facebook.com/tr?id="+this.pixelTrackerId+"&ev="+n+"&noscript=1",console.debug("Have sent to Facebook pixel: "+n))},setCommunityPixelTracker:function(e){if(e&&""!==e)if(null!=localStorage.getItem("consentGivenForFacebookPixelTracking")){var i=this.pixelTrackerId;this.set("pixelTrackerId",e),e!==i&&this.facebookPixelTracking("pageview")}else localStorage.getItem("disableFacebookPixelTracking")?console.log("Facebook tracking disabled"):Polymer.dom(document).querySelector("yp-app").openPixelCookieConfirm(e);else this.set("pixelTrackerId",null)},setCommunityAnalyticsTracker:function(e){if(e&&""!==e){e=e.trim();var i=this.communityTrackerId;this.set("communityTrackerId",e),e!==i&&this.sendToAnalyticsTrackers("sendOnlyCommunity","pageview",location.pathname)}else this.set("communityTrackerId",null)},sendToAnalyticsTrackers:function(e,i,n,a,o,t){if("function"==typeof ga){if("sendOnlyCommunity"!=e&&(ga("send",i,n,a,o,t),console.debug("Analytics global: send "+i+" "+n+" "+a)),this.communityTrackerId){var c="tracker"+this.communityTrackerId.replace(/-/g,"");this.communityTrackerIds[this.communityTrackerId]||(ga("create",this.communityTrackerId,"auto",c),this.communityTrackerIds[this.communityTrackerId]=!0,console.debug("Created tracker: "+c)),c+=".send",console.debug("Analytics: "+c+": "+i+" "+n+" "+a),ga(c,i,n,a,o,t)}}else console.warn("Google analytics message not sent for a:"+e+" b:"+i+" c:"+n+" d:"+a+" e:"+o+" f:"+t);"sendOnlyCommunity"!=e&&this.facebookPixelTracking(i,n),this.plausibleDomains&&window.plausible&&("pageview"===i||window.plausible("".concat(n," - ").concat(a)))},sendLoginAndSignupToAnalytics:function(e,i,n,a){if("function"==typeof ga){e&&ga("set","&uid",e);var o,t=n;switch(i){case"Signup Success":o={dimension1:e,dimension2:"Yes",dimension3:n,metric1:"1"};break;case"Signup Fail":o={dimension3:n,metric2:"1"},t+=": "+a;break;case"Signup Submit":o={dimension3:n,metric3:"1"};break;case"Login Success":o={dimension1:e,dimension2:"Yes",dimension3:n,metric4:"1"};break;case"Login Fail":o={dimension3:n,metric5:"1"},t+=": "+a;break;case"Login Submit":o={dimension3:n,metric6:"1"};break;case"Signup/Login Opened":o={metric7:"1"}}this.sendToAnalyticsTrackers("send","event","Login and Signup",i,t,o)}}}</script><script>Polymer.ypAppOfflineBehavior={sendLaterStoragePrefix:"yp-send-later-",_onlineEvent:function(){this._showToast(this.t("youAreOnline")),this._checkContentToSend()},_offlineEvent:function(){this._showToast(this.t("youAreNowOffline"))},_urlWithQuery:function(t,e){var n=Object.keys(e).filter(function(t){return void 0!==e[t]&&"object"!==babelHelpers.typeof(e[t])}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&");return t+=(-1===t.indexOf("?")?"?":"&")+n},_getItemsFromLocalStorage:function(){for(var t,e=[],n=0;n<localStorage.length;n++)-1<(t=localStorage.key(n)).indexOf(this.sendLaterStoragePrefix)&&e.push({key:t,content:JSON.parse(localStorage.getItem(t))});return e},_showToast:function(e){Polymer.dom(document).querySelector("yp-app").getDialogAsync("masterToast",function(t){t.text=e,t.duration=4e3,t.close(),t.show()}.bind(this))},_sendItems:function(t){t.forEach(function(t){var e=t.content;fetch(this._urlWithQuery(e.url,e.params),{method:e.method,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e.body)}).then(function(){this._showToast(this.t("storedDataSent")),localStorage.removeItem(t.key)}.bind(this)).catch(function(t){console.error(t),this._showToast(this.t("errorSendingContentWhenOnline"))}.bind(this))}.bind(this))},_checkContentToSend:function(){this.async(function(){var t=this._getItemsFromLocalStorage();0<t.length?navigator.onLine?window.appUser.user?this._sendItems(t):this._showToast(this.t("notLoggedInContentSentWhenLoggedIn")):this._showToast(this.t("offlineContentSentWhenOnline")):navigator.onLine||this._showToast(this.t("youAreOffline"))},4e3)},checkContentToSendForLoggedInUser:function(){this._checkContentToSend()},sendWhenOnlineNext:function(e){this.async(function(){var t=this.sendLaterStoragePrefix+(new Date).getTime();localStorage.setItem(t,JSON.stringify(e)),this._showToast(this.t("offlineContentSentWhenOnline"))})},ready:function(){window.addEventListener("online",this._onlineEvent.bind(this)),window.addEventListener("offline",this._offlineEvent.bind(this)),this._checkContentToSend()}}</script><dom-module id="yp-session"assetpath="../yp-session/"><template></template><script>Polymer({is:"yp-session",properties:{prefix:{type:String,value:"session_",readOnly:!0},storage:{type:Object,value:function(){return window.localStorage}}},has:function(t){var e=this.prefix+t;return null!==this.storage.getItem(e)},get:function(t){var e,r=this.prefix+t,s=this.storage.getItem(r);try{e=JSON.parse(s)}catch(t){e=null}return e},set:function(t,e){var r=this.prefix+t,s=JSON.stringify(e);this.storage.setItem(r,s)},unset:function(t){var e=this.prefix+t;this.storage.removeItem(e)},clear:function(){this.storage.clear()}})</script></dom-module><script>Polymer.PaperSpinnerBehavior={properties:{active:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"__activeChanged"},alt:{type:String,value:"loading",observer:"__altChanged"},__coolingDown:{type:Boolean,value:!1}},__computeContainerClasses:function(t,e){return[t||e?"active":"",e?"cooldown":""].join(" ")},__activeChanged:function(t,e){this.__setAriaHidden(!t),this.__coolingDown=!t&&e},__altChanged:function(t){"loading"===t?this.alt=this.getAttribute("aria-label")||t:(this.__setAriaHidden(""===t),this.setAttribute("aria-label",t))},__setAriaHidden:function(t){var e="aria-hidden";t?this.setAttribute(e,"true"):this.removeAttribute(e)},__reset:function(){this.active=!1,this.__coolingDown=!1}}</script><dom-module id="paper-spinner-styles"assetpath="../../bower_components/paper-spinner/"><template><style>:host{display:inline-block;position:relative;width:28px;height:28px;--paper-spinner-container-rotation-duration:1568ms;--paper-spinner-expand-contract-duration:1333ms;--paper-spinner-full-cycle-duration:5332ms;--paper-spinner-cooldown-duration:400ms;}#spinnerContainer{width:100%;height:100%;direction:ltr;}#spinnerContainer.active{-webkit-animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite;}@-webkit-keyframes container-rotate{to{-webkit-transform:rotate(360deg);}}@keyframes container-rotate{to{transform:rotate(360deg);}}.spinner-layer{position:absolute;width:100%;height:100%;opacity:0;white-space:nowrap;color:var(--paper-spinner-color, var(--google-blue-500));}.layer-1{color:var(--paper-spinner-layer-1-color, var(--google-blue-500));}.layer-2{color:var(--paper-spinner-layer-2-color, var(--google-red-500));}.layer-3{color:var(--paper-spinner-layer-3-color, var(--google-yellow-500));}.layer-4{color:var(--paper-spinner-layer-4-color, var(--google-green-500));}.active .spinner-layer{-webkit-animation-name:fill-unfill-rotate;-webkit-animation-duration:var(--paper-spinner-full-cycle-duration);-webkit-animation-timing-function:cubic-bezier(0.4, 0.0, 0.2, 1);-webkit-animation-iteration-count:infinite;animation-name:fill-unfill-rotate;animation-duration:var(--paper-spinner-full-cycle-duration);animation-timing-function:cubic-bezier(0.4, 0.0, 0.2, 1);animation-iteration-count:infinite;opacity:1;}.active .spinner-layer.layer-1{-webkit-animation-name:fill-unfill-rotate, layer-1-fade-in-out;animation-name:fill-unfill-rotate, layer-1-fade-in-out;}.active .spinner-layer.layer-2{-webkit-animation-name:fill-unfill-rotate, layer-2-fade-in-out;animation-name:fill-unfill-rotate, layer-2-fade-in-out;}.active .spinner-layer.layer-3{-webkit-animation-name:fill-unfill-rotate, layer-3-fade-in-out;animation-name:fill-unfill-rotate, layer-3-fade-in-out;}.active .spinner-layer.layer-4{-webkit-animation-name:fill-unfill-rotate, layer-4-fade-in-out;animation-name:fill-unfill-rotate, layer-4-fade-in-out;}@-webkit-keyframes fill-unfill-rotate{12.5%{-webkit-transform:rotate(135deg);}25%{-webkit-transform:rotate(270deg);}37.5%{-webkit-transform:rotate(405deg);}50%{-webkit-transform:rotate(540deg);}62.5%{-webkit-transform:rotate(675deg);}75%{-webkit-transform:rotate(810deg);}87.5%{-webkit-transform:rotate(945deg);}to{-webkit-transform:rotate(1080deg);}}@keyframes fill-unfill-rotate{12.5%{transform:rotate(135deg);}25%{transform:rotate(270deg);}37.5%{transform:rotate(405deg);}50%{transform:rotate(540deg);}62.5%{transform:rotate(675deg);}75%{transform:rotate(810deg);}87.5%{transform:rotate(945deg);}to{transform:rotate(1080deg);}}@-webkit-keyframes layer-1-fade-in-out{0%{opacity:1;}25%{opacity:1;}26%{opacity:0;}89%{opacity:0;}90%{opacity:1;}to{opacity:1;}}@keyframes layer-1-fade-in-out{0%{opacity:1;}25%{opacity:1;}26%{opacity:0;}89%{opacity:0;}90%{opacity:1;}to{opacity:1;}}@-webkit-keyframes layer-2-fade-in-out{0%{opacity:0;}15%{opacity:0;}25%{opacity:1;}50%{opacity:1;}51%{opacity:0;}to{opacity:0;}}@keyframes layer-2-fade-in-out{0%{opacity:0;}15%{opacity:0;}25%{opacity:1;}50%{opacity:1;}51%{opacity:0;}to{opacity:0;}}@-webkit-keyframes layer-3-fade-in-out{0%{opacity:0;}40%{opacity:0;}50%{opacity:1;}75%{opacity:1;}76%{opacity:0;}to{opacity:0;}}@keyframes layer-3-fade-in-out{0%{opacity:0;}40%{opacity:0;}50%{opacity:1;}75%{opacity:1;}76%{opacity:0;}to{opacity:0;}}@-webkit-keyframes layer-4-fade-in-out{0%{opacity:0;}65%{opacity:0;}75%{opacity:1;}90%{opacity:1;}to{opacity:0;}}@keyframes layer-4-fade-in-out{0%{opacity:0;}65%{opacity:0;}75%{opacity:1;}90%{opacity:1;}to{opacity:0;}}.circle-clipper{display:inline-block;position:relative;width:50%;height:100%;overflow:hidden;}.spinner-layer::after{left:45%;width:10%;border-top-style:solid;}.spinner-layer::after,
      .circle-clipper::after{content:'';box-sizing:border-box;position:absolute;top:0;border-width:var(--paper-spinner-stroke-width, 3px);border-radius:50%;}.circle-clipper::after{bottom:0;width:200%;border-style:solid;border-bottom-color:transparent !important;}.circle-clipper.left::after{left:0;border-right-color:transparent !important;-webkit-transform:rotate(129deg);transform:rotate(129deg);}.circle-clipper.right::after{left:-100%;border-left-color:transparent !important;-webkit-transform:rotate(-129deg);transform:rotate(-129deg);}.active .gap-patch::after,
      .active .circle-clipper::after{-webkit-animation-duration:var(--paper-spinner-expand-contract-duration);-webkit-animation-timing-function:cubic-bezier(0.4, 0.0, 0.2, 1);-webkit-animation-iteration-count:infinite;animation-duration:var(--paper-spinner-expand-contract-duration);animation-timing-function:cubic-bezier(0.4, 0.0, 0.2, 1);animation-iteration-count:infinite;}.active .circle-clipper.left::after{-webkit-animation-name:left-spin;animation-name:left-spin;}.active .circle-clipper.right::after{-webkit-animation-name:right-spin;animation-name:right-spin;}@-webkit-keyframes left-spin{0%{-webkit-transform:rotate(130deg);}50%{-webkit-transform:rotate(-5deg);}to{-webkit-transform:rotate(130deg);}}@keyframes left-spin{0%{transform:rotate(130deg);}50%{transform:rotate(-5deg);}to{transform:rotate(130deg);}}@-webkit-keyframes right-spin{0%{-webkit-transform:rotate(-130deg);}50%{-webkit-transform:rotate(5deg);}to{-webkit-transform:rotate(-130deg);}}@keyframes right-spin{0%{transform:rotate(-130deg);}50%{transform:rotate(5deg);}to{transform:rotate(-130deg);}}#spinnerContainer.cooldown{-webkit-animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite, fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(0.4, 0.0, 0.2, 1);animation:container-rotate var(--paper-spinner-container-rotation-duration) linear infinite, fade-out var(--paper-spinner-cooldown-duration) cubic-bezier(0.4, 0.0, 0.2, 1);}@-webkit-keyframes fade-out{0%{opacity:1;}to{opacity:0;}}@keyframes fade-out{0%{opacity:1;}to{opacity:0;}}</style></template></dom-module><dom-module id="paper-spinner"assetpath="../../bower_components/paper-spinner/"><template strip-whitespace=""><style include="paper-spinner-styles"></style><div id="spinnerContainer"class-name="[[__computeContainerClasses(active, __coolingDown)]]"on-animationend="__reset"on-webkit-animation-end="__reset"><div class="spinner-layer layer-1"><div class="circle-clipper left"></div><div class="circle-clipper right"></div></div><div class="spinner-layer layer-2"><div class="circle-clipper left"></div><div class="circle-clipper right"></div></div><div class="spinner-layer layer-3"><div class="circle-clipper left"></div><div class="circle-clipper right"></div></div><div class="spinner-layer layer-4"><div class="circle-clipper left"></div><div class="circle-clipper right"></div></div></div></template><script>Polymer({is:"paper-spinner",behaviors:[Polymer.PaperSpinnerBehavior]})</script></dom-module><dom-module id="yp-ajax"assetpath="../yp-ajax/"><template><style include="iron-flex iron-flex-alignment">:host{background:transparent;}.large{height:64px !important;width:64px !important;--paper-spinner-stroke-width:7px;}paper-spinner{background:transparent;}paper-spinner[active]{display:block;}paper-spinner{margin-top:8px;display:none;}[hidden]{display:none !important;}</style><paper-spinner id="spinner"hidden$="[[!useSpinner]]"></paper-spinner><iron-ajax id="ajax"url="[[url]]"params="[[params]]"auto="[[auto]]"method="[[method]]"body="[[body]]"bubbles=""handle-as="json"content-type="application/json"on-error="_error"on-response="_response"loading="{{loading}}"></iron-ajax></template></dom-module><script>Polymer({is:"yp-ajax",behaviors:[Polymer.ypLanguageBehavior],properties:{url:{type:String,value:""},method:{type:String,value:"GET"},loading:{type:Boolean},params:{type:Object,value:{}},body:{type:Object,notify:!0},auto:{type:Boolean,value:!1},errorText:{type:String,value:""},useDialog:{type:Boolean,value:!0,notify:!0},useSpinner:{type:Boolean,value:!0},largeSpinner:{type:Boolean,value:!1},dispatchError:{type:Boolean,value:!1},retryMethodAfter401Login:{type:Function,value:null},active:{type:Boolean,reflectToAttribute:!0,notify:!0},disableUserError:{type:Boolean,value:!1}},_response:function(){this._setActive(!1)},ready:function(){this.auto&&this._setActive(!0),this.largeSpinner&&this.$.spinner.toggleClass("large",!0)},_setActive:function(e){this.set("active",e),this.$.spinner.active=e},_showToast:function(r){Polymer.dom(document).querySelector("yp-app").getDialogAsync("masterToast",function(e){e.text=r,e.duration=4e3,e.close(),e.show()}.bind(this))},_error:function(e){this._setActive(!1),navigator.onLine?this.dispatchError?(e.stopPropagation(),e.detail.request.xhr.response&&e.detail.request.xhr.response.error?this.fire("error",e.detail.request.xhr.response.error):e.detail.request.xhr.response&&e.detail.request.xhr.response.message?this.fire("error",e.detail.request.xhr.response.message):e.detail.request.xhr.statusText?this.fire("error",e.detail.request.xhr.statusText):this.fire("error",e.detail.error)):e.detail.error&&e.detail.error.message&&this._is401(e.detail.error.message)&&!window.appUser.user&&this.retryMethodAfter401Login?window.appUser.loginFor401(this.retryMethodAfter401Login):this.useDialog&&!this.disableUserError&&this.showErrorDialog(e.detail.error):(this._showToast(this.t("youAreOffline")),e.stopPropagation())},_is401:function(e){return e&&-1<e.indexOf("status code: 401")},generateRequest:function(){!navigator.onLine&&"POST"===this.method&&window.fetch?(window.appGlobals.sendWhenOnlineNext({body:this.body,method:this.method,params:this.params,url:this.url}),this.fire("response",{offlineSendLater:!0})):!navigator.onLine&&-1<["POST","PUT","DELETE"].indexOf(this.method)?(this._showToast(this.t("youAreOfflineCantSend")),this.fire("error",{offline:!0})):(this._setActive(!0),this.$.ajax.generateRequest())},setBody:function(e){this.$.ajax.body=e},_transformErrorText:function(e){if(console.log(e),"string"!=typeof e)return this.t("generalError");if(e&&-1<e.indexOf("status code: 404"))return this.t("errorNotFound");if(e&&-1<e.indexOf("status code: 500"))return this.t("generalError");if(e&&-1<e.indexOf("status code: 401")){var r=this.t("errorNotAuthorized");return window.appGlobals.currentSamlDeniedMessage&&(r+="\n\n"+window.appGlobals.currentSamlDeniedMessage),r}return e&&-1<e.indexOf("503")?this.t("errorCantConnect"):e},showErrorDialog:function(e){var r;r=e.message?e.message:e,Polymer.dom(document).querySelector("yp-app").getDialogAsync("errorDialog",function(e){e.showErrorDialog(this._transformErrorText(r))}.bind(this))},_resetErrorText:function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("errorDialog",function(e){e.resetErrorText()})}})</script><dom-module id="yp-app-globals"assetpath="../yp-app-globals/"><template><style include="iron-flex iron-flex-alignment">paper-dialog{background-color:#FFF;max-width:400px;}.dialogText{margin-bottom:0;}</style><paper-dialog id="dialog"><div class="dialogText">[[notifyDialogText]]</div><div class="buttons"><paper-button dialog-confirm=""autofocus=""on-tap="_resetNotifyDialogText">OK</paper-button></div></paper-dialog><yp-session id="session"></yp-session><yp-ajax id="boot"url="/api/domains"on-response="_bootResponse"></yp-ajax><yp-ajax hidden=""auto=""url="/api/videos/hasVideoUploadSupport"on-response="_hasVideoUploadSupport"></yp-ajax><yp-ajax hidden=""auto=""url="/api/audios/hasAudioUploadSupport"on-response="_hasAudioUploadSupport"></yp-ajax><yp-ajax id="videoViewsAjax"hidden=""method="PUT"url="/api/videos/videoView"></yp-ajax><yp-ajax id="audioListenAjax"hidden=""method="PUT"url="/api/audios/audioListen"></yp-ajax><yp-ajax id="recommendationsForGroupAjax"dispatch-error=""hidden=""method="PUT"on-response="_recommendationsForGroupResponse"></yp-ajax><lite-signal on-lite-signal-logged-in="_userLoggedIn"></lite-signal></template><script>Polymer({is:"yp-app-globals",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypGotoBehavior,Polymer.ypAppRecommendationsBehavior,Polymer.ypAppCacheBehavior,Polymer.ypAppAnalyticsBehavior,Polymer.ypAppOfflineBehavior],properties:{dialogHeading:{type:String,value:""},seenWelcome:{type:Boolean,value:!1,notify:!0},activityHost:{type:String,value:""},resetSeenWelcome:{type:Boolean,value:!1},disableWelcome:{type:Boolean,value:!0},setupDefaults:{type:Boolean,value:!1},domain:{type:Object,value:null,observer:"_domainChanged"},minSplashMs:{type:Number,value:1500},requestInProgress:{type:Boolean,value:!1},groupConfigOverrides:{type:Object,value:{}},currentGroup:{type:Object,value:null},registrationQuestionsGroup:{type:Object,value:null},currentAnonymousUser:{type:Object,value:null},currentAnonymousGroup:{type:Object,value:null},currentForceSaml:{type:Boolean,value:!1},currentSamlDeniedMessage:{type:String,value:null},largeFont:{type:Boolean,value:!1},currentSamlLoginMessage:{type:String,value:null},disableFacebookLoginForGroup:{type:Boolean,value:!1},originalQueryParameters:Object,externalGoalTriggerGroupId:String,externalGoalCounter:{type:Number,value:0},goalTriggerEvents:{type:Array,value:["newPost","endorse_up","endorse_down","newPointFor","newPointAgainst"]},notifyDialogText:String},setHighlightedLanguages:function(e){this.highlightedLanguages=e,document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"yp-refresh-language-selection",data:{}}}))},_resetNotifyDialogText:function(){this.set("notifyDialogText",null)},showRecommendationInfoIfNeeded:function(){localStorage.getItem("ypHaveShownRecommendationInfo")||(localStorage.setItem("ypHaveShownRecommendationInfo",!0),this.set("notifyDialogText",this.t("recommendationToastInfo")),this.$.dialog.open())},showSpeechToTextInfoIfNeeded:function(){window.appGlobals.hasTranscriptSupport&&!localStorage.getItem("haveShownTranscriptInfo")&&(localStorage.setItem("haveShownTranscriptInfo",!0),this.set("notifyDialogText",this.t("speechToTextInfo")),this.$.dialog.open())},_hasVideoUploadSupport:function(e,o){o&&o.response&&!0===o.response.hasVideoUploadSupport&&(window.appGlobals.hasVideoUpload=!0),o&&o.response&&!0===o.response.hasTranscriptSupport&&(window.appGlobals.hasTranscriptSupport=!0)},sendVideoView:function(e){this.$.videoViewsAjax.body={videoId:e},this.$.videoViewsAjax.generateRequest(),this.activity("view","video",e)},sendLongVideoView:function(e){this.$.videoViewsAjax.body={videoId:e,longPlaytime:!0},this.$.videoViewsAjax.generateRequest()},_hasAudioUploadSupport:function(e,o){o&&o.response&&!0===o.response.hasAudioUploadSupport&&(window.appGlobals.hasAudioUpload=!0)},sendAudioListen:function(e){this.$.audioListenAjax.body={audioId:e},this.$.audioListenAjax.generateRequest(),this.activity("view","audio",e)},sendLongAudioListen:function(e){this.$.audioListenAjax.body={audioId:e,longPlaytime:!0},this.$.audioListenAjax.generateRequest()},changeLocaleIfNeededAfterWait:function(o,e){console.log("changeLocaleIfNeeded "+o),!0===window.haveLoadedLanguages&&o&&this.language!=o&&(!e&&localStorage.getItem("yp-user-locale")||i18next.changeLanguage(o,function(e){console.log("i18n init loaded "+e),moment.locale([o,"en"]),console.log("Changed language to "+o),document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"yp-language",data:{type:"language-loaded",language:o}}}))}))},changeLocaleIfNeeded:function(e,o){window.haveLoadedLanguages?this.changeLocaleIfNeededAfterWait(e,o):this.async(function(){console.warn("Locales not loaded while trying to load languages, trying again in 500 ms"),this.changeLocaleIfNeeded(e,o)},500)},parseQueryString:function(){var e=(window.location.search||"?").substr(1),t={};e.replace(/([^&=]+)=?([^&]*)(?:&+|$)/g,function(e,o,n){t[o]=n}),this.originalQueryParameters=t},setAnonymousUser:function(e){this.set("currentAnonymousUser",e),console.debug("Set anon user "+e)},setRegistrationQuestionGroup:function(e){e&&e.configuration&&e.configuration.registrationQuestionsJson?(this.set("registrationQuestionsGroup",e),window.appUser.checkRegistrationAnswersCurrent()):this.set("registrationQuestionsGroup",null)},setAnonymousGroupStatus:function(e){e&&e.configuration&&(e.configuration.allowAnonymousUsers||e.configuration.allowOneTimeLoginWithName)?(this.set("currentAnonymousGroup",e),console.debug("Have set anonymous group id: "+e.id),!window.appUser.user&&this.currentAnonymousUser?(console.debug("Setting anon user from cache"),window.appUser.setLoggedInUser(this.currentAnonymousUser)):window.appUser&&!window.appUser.user&&e.configuration.allowAnonymousAutoLogin&&this.originalQueryParameters&&this.originalQueryParameters.autoLogin&&window.appUser.autoAnonymousLogin()):(window.appUser&&window.appUser.user&&window.appUser.user.profile_data&&window.appUser.user.profile_data.isAnonymousUser&&(window.appUser.removeAnonymousUser(),console.debug("Logout anon user")),console.debug("Set anon group to null"),this.set("currentAnonymousGroup",null))},_domainChanged:function(e){e&&(document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"yp-domain-changed",data:{domain:e}}})),e.configuration&&e.configuration.plausibleDataDomains?this.plausibleDomains=e.configuration.plausibleDataDomains:this.plausibleDomains=null)},notifyUserViaToast:function(o){Polymer.dom(document).querySelector("yp-app").getDialogAsync("masterToast",function(e){e.text=o,e.show()}.bind(this))},reBoot:function(){this.requestInProgress||this.$.boot.generateRequest()},_userLoggedIn:function(e,o){o?(this.async(function(){"function"==typeof ga&&ga("set","&uid",o.id)},250),this._recommendationsForUser(o)):this._recommendationsForUser()},_bootResponse:function(e,o){this.set("requestInProgress",!1),this.set("domain",o.response.domain),this.setupGoogleAnalytics(this.domain),"/"==window.location.pathname&&(o.response.community&&o.response.community.configuration&&o.response.community.configuration.redirectToGroupId?this.redirectTo("/group/"+o.response.community.configuration.redirectToGroupId):o.response.community&&!o.response.community.is_community_folder?this.redirectTo("/community/"+o.response.community.id):o.response.community&&o.response.community.is_community_folder?this.redirectTo("/community_folder/"+o.response.community.id):(this.redirectTo("/domain/"+this.domain.id),this.fire("change-header",{headerTitle:this.domain.domain_name,headerDescription:this.domain.description})))},setupGroupConfigOverride:function(e,o){var n={};o.split(";").forEach(function(e){var o=e.split("=");n[o[0]]=o[1]}),(this.groupConfigOverrides[e]=n).ln&&this.changeLocaleIfNeeded(n.ln,!0)},overrideGroupConfigIfNeeded:function(e,o){o=o||{};var n=this.groupConfigOverrides[e];return n&&(n.hg&&(o.hideGroupHeader=!!n.hg),n.ht&&(o.hideAllTabs=!!n.ht),n.hh&&(o.hideHelpIcon=!!n.hh),n.rn&&(o.customBackName=n.rn),n.ru&&(o.customBackURL=n.ru)),o},postLoadGroupProcessing:function(e){if(this.originalQueryParameters.yu){var o=document.createElement("iron-ajax");o.handleAs="json",o.contentType="application/json",o.url="/api/groups/"+e.id+"/marketingTrackingOpen",o.body=this.originalQueryParameters,o.method="POST",o.generateRequest(),this.externalGoalTriggerGroupId=e.id,this.goalTriggerEvents=["newPost","newPointFor","newPointAgainst"],this.originalQueryParameters.goalThreshold=1}},checkExternalGoalTrigger:function(e){if(this.externalGoalTriggerGroupId&&this.originalQueryParameters&&this.originalQueryParameters.goalThreshold&&-1<this.goalTriggerEvents.indexOf(e)&&(this.externalGoalCounter+=1,this.externalGoalCounter==this.originalQueryParameters.goalThreshold)){var o=document.createElement("iron-ajax");o.handleAs="json",o.contentType="application/json",o.url="/api/groups/"+this.externalGoalTriggerGroupId+"/triggerTrackingGoal",o.body=this.originalQueryParameters,o.method="POST",o.generateRequest()}},activity:function(e,o,n,t){var i,a="activity stream: "+(i=window.appUser&&window.appUser.user?window.appUser.user.id:"-1")+" "+e+" "+o;console.log(a),n&&(a+=" "+n),"open"==e?this.async(function(){this.sendToAnalyticsTrackers("send","event",o,e)},25):this.sendToAnalyticsTrackers("send","event",o,e);var s=document.createElement("iron-ajax"),r=new Date;s.handleAs="json",s.contentType="application/x-www-form-urlencoded",s.url="/api/users/createActivityFromApp",s.method="POST",s.body={actor:i,type:e,object:o,target:JSON.stringify(t),context:n||"",path_name:location.pathname,event_time:r.toISOString(),session_id:this.getSessionFromCookie(),user_agent:navigator.userAgent},s.generateRequest(),"completed"!==e&&"clicked"!==e||this.checkExternalGoalTrigger(o)},ready:function(){window.appStartTime=new Date,(window.appGlobals=this).fire("app-ready"),this.$.boot.generateRequest(),this.requestInProgress=!0,window.googleMapsApiKey=null,window.instagramAccessToken="",window.instagramClientID="",this.parseQueryString()},setSeenWelcome:function(){this.seenWelcome=!0,localStorage.setItem("yrpri-welcome-status",!0)},getSessionFromCookie:function(){for(var e=document.cookie.split(";"),o="",n=0;n<e.length;n++){var t=e[n].split("=")[0],i=e[n].split("=")[1];" connect.sid"==t&&(o=i)}return o},computeHeading:function(){return this.t("")}})</script></dom-module><dom-module id="iron-a11y-announcer"assetpath="../../bower_components/iron-a11y-announcer/"><template><style>:host{display:inline-block;position:fixed;clip:rect(0px,0px,0px,0px);}</style><div aria-live$="[[mode]]">[[_text]]</div></template><script>!function(){"use strict";Polymer.IronA11yAnnouncer=Polymer({is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},_text:{type:String,value:""}},created:function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=this),document.body.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(n){this._text="",this.async(function(){this._text=n},100)},_onIronAnnounce:function(n){n.detail&&n.detail.text&&this.announce(n.detail.text)}}),Polymer.IronA11yAnnouncer.instance=null,Polymer.IronA11yAnnouncer.requestAvailability=function(){Polymer.IronA11yAnnouncer.instance||(Polymer.IronA11yAnnouncer.instance=document.createElement("iron-a11y-announcer")),document.body.appendChild(Polymer.IronA11yAnnouncer.instance)}}()</script></dom-module><dom-module id="paper-toast"assetpath="../../bower_components/paper-toast/"><template><style>:host{display:block;position:fixed;background-color:var(--paper-toast-background-color, #323232);color:var(--paper-toast-color, #f1f1f1);min-height:48px;min-width:288px;padding:16px 24px;box-sizing:border-box;box-shadow:0 2px 5px 0 rgba(0, 0, 0, 0.26);border-radius:2px;margin:12px;font-size:14px;cursor:default;-webkit-transition:-webkit-transform 0.3s, opacity 0.3s;transition:transform 0.3s, opacity 0.3s;opacity:0;-webkit-transform:translateY(100px);transform:translateY(100px);@apply --paper-font-common-base;}:host(.capsule){border-radius:24px;}:host(.fit-bottom){width:100%;min-width:0;border-radius:0;margin:0;}:host(.paper-toast-open){opacity:1;-webkit-transform:translateY(0px);transform:translateY(0px);}</style><span id="label">{{text}}</span><slot></slot></template><script>!function(){"use strict";var e=null;Polymer({is:"paper-toast",behaviors:[Polymer.IronOverlayBehavior],properties:{fitInto:{type:Object,value:window,observer:"_onFitIntoChanged"},horizontalAlign:{type:String,value:"left"},verticalAlign:{type:String,value:"bottom"},duration:{type:Number,value:3e3},text:{type:String,value:""},noCancelOnOutsideClick:{type:Boolean,value:!0},noAutoFocus:{type:Boolean,value:!0}},listeners:{transitionend:"__onTransitionEnd"},get visible(){return Polymer.Base._warn("`visible` is deprecated, use `opened` instead"),this.opened},get _canAutoClose(){return 0<this.duration&&this.duration!==1/0},created:function(){this._autoClose=null,Polymer.IronA11yAnnouncer.requestAvailability()},show:function(e){for(var t in"string"==typeof e&&(e={text:e}),e)0===t.indexOf("_")?Polymer.Base._warn('The property "'+t+'" is private and was not set.'):t in this?this[t]=e[t]:Polymer.Base._warn('The property "'+t+'" is not valid.');this.open()},hide:function(){this.close()},__onTransitionEnd:function(e){e&&e.target===this&&"opacity"===e.propertyName&&(this.opened?this._finishRenderOpened():this._finishRenderClosed())},_openedChanged:function(){null!==this._autoClose&&(this.cancelAsync(this._autoClose),this._autoClose=null),this.opened?(e&&e!==this&&e.close(),(e=this).fire("iron-announce",{text:this.text}),this._canAutoClose&&(this._autoClose=this.async(this.close,this.duration))):e===this&&(e=null),Polymer.IronOverlayBehaviorImpl._openedChanged.apply(this,arguments)},_renderOpened:function(){this.classList.add("paper-toast-open")},_renderClosed:function(){this.classList.remove("paper-toast-open")},_onFitIntoChanged:function(e){this.positionTarget=e}})}()</script></dom-module><script>Polymer.AccessHelpers={_hasAdminRights:function(i,s){return __.find(s,function(s){return s.id==i})},_hasAccess:function(s,i,n){return s?!(!window.appUser||!window.appUser.user)&&(window.appUser.user.id==s.user_id||(!(!s.User||window.appUser.user.id!=s.User.id)||!!window.appUser.adminRights&&this._hasAdminRights(i,n))):(window.appUser&&console.warn("No object in hasAccess"),!1)},hasImageAccess:function(s,i){if(s&&i&&window.appUser&&window.appUser.adminRights)return this._hasAccess(s,i.group_id,window.appUser.adminRights.GroupAdmins)},checkPostAccess:function(s){return s&&window.appUser&&window.appUser.adminRights?this._hasAccess(s,s.group_id,window.appUser.adminRights.GroupAdmins):!!(s&&s.User&&window.appUser&&window.appUser.user)&&s.User.id===window.appUser.user.id},checkPointAccess:function(s){return s&&s.Post&&window.appUser&&window.appUser.adminRights?this._hasAccess(s,s.Post.group_id,window.appUser.adminRights.GroupAdmins):!!(s&&window.appUser&&window.appUser.user&&window.appUser.user.id==s.user_id)},checkPostAdminOnlyAccess:function(s){return s&&window.appUser&&window.appUser.adminRights?this._hasAdminRights(s.group_id,window.appUser.adminRights.GroupAdmins):(s||console.warn("No post in hasAccess"),!1)},checkGroupAccess:function(s){return s&&window.appUser&&window.appUser.adminRights?this._hasAccess(s,s.id,window.appUser.adminRights.GroupAdmins):(s||console.warn("No group in hasAccess"),!1)},checkCommunityAccess:function(s){return s&&window.appUser&&window.appUser.adminRights?this._hasAccess(s,s.id,window.appUser.adminRights.CommunityAdmins):(s||console.warn("No community in hasAccess"),!1)},checkDomainAccess:function(s){return s&&window.appUser&&window.appUser.adminRights?this._hasAccess(s,s.id,window.appUser.adminRights.DomainAdmins):(s||console.warn("No domain in hasAccess"),!1)},hasUserAccess:function(s){return!!(s&&window.appUser&&window.appUser.user&&window.appUser.user.id==s.id)}}</script><script>var FingerprintJS=function(e){"use strict";var a=function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};function h(e,i,c,s){return new(c=c||Promise)(function(n,t){function r(e){try{o(s.next(e))}catch(e){t(e)}}function a(e){try{o(s.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):(t=e.value,babelHelpers.instanceof(t,c)?t:new c(function(e){e(t)})).then(r,a)}o((s=s.apply(e,i||[])).next())})}function p(n,r){var a,o,i,e,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return e={next:t(0),throw:t(1),return:t(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(a)throw new TypeError("Generator is already executing.");for(;c;)try{if(a=1,o&&(i=2&t[0]?o.return:t[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,t[1])).done)return i;switch(o=0,i&&(t=[2&t[0],i.value]),t[0]){case 0:case 1:i=t;break;case 4:return c.label++,{value:t[1],done:!1};case 5:c.label++,o=t[1],t=[0];continue;case 7:t=c.ops.pop(),c.trys.pop();continue;default:if(!((i=0<(i=c.trys).length&&i[i.length-1])||6!==t[0]&&2!==t[0])){c=0;continue}if(3===t[0]&&(!i||t[1]>i[0]&&t[1]<i[3])){c.label=t[1];break}if(6===t[0]&&c.label<i[1]){c.label=i[1],i=t;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(t);break}i[2]&&c.ops.pop(),c.trys.pop();continue}t=r.call(n,c)}catch(e){t=[6,e],o=0}finally{a=i=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}}function c(e,t,n){if(n||2===arguments.length)for(var r,a=0,o=t.length;a<o;a++)!r&&a in t||((r=r||Array.prototype.slice.call(t,0,a))[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function l(t,n){return new Promise(function(e){return setTimeout(e,t,n)})}function u(e,t){try{var n=e();(r=n)&&"function"==typeof r.then?n.then(function(e){return t(!0,e)},function(e){return t(!1,e)}):t(!0,n)}catch(e){t(!1,e)}var r}function d(a,o,i){return void 0===i&&(i=16),h(this,void 0,void 0,function(){var t,n,r;return p(this,function(e){switch(e.label){case 0:t=Date.now(),n=0,e.label=1;case 1:return n<a.length?(o(a[n],n),(r=Date.now())>=t+i?(t=r,[4,l(0)]):[3,3]):[3,4];case 2:e.sent(),e.label=3;case 3:return++n,[3,1];case 4:return[2]}})})}function f(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]+t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]+t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]+t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]+t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function v(e,t){e=[e[0]>>>16,65535&e[0],e[1]>>>16,65535&e[1]],t=[t[0]>>>16,65535&t[0],t[1]>>>16,65535&t[1]];var n=[0,0,0,0];return n[3]+=e[3]*t[3],n[2]+=n[3]>>>16,n[3]&=65535,n[2]+=e[2]*t[3],n[1]+=n[2]>>>16,n[2]&=65535,n[2]+=e[3]*t[2],n[1]+=n[2]>>>16,n[2]&=65535,n[1]+=e[1]*t[3],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[2]*t[2],n[0]+=n[1]>>>16,n[1]&=65535,n[1]+=e[3]*t[1],n[0]+=n[1]>>>16,n[1]&=65535,n[0]+=e[0]*t[3]+e[1]*t[2]+e[2]*t[1]+e[3]*t[0],n[0]&=65535,[n[0]<<16|n[1],n[2]<<16|n[3]]}function m(e,t){return 32==(t%=64)?[e[1],e[0]]:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t|e[0]>>>32-t]:(t-=32,[e[1]<<t|e[0]>>>32-t,e[0]<<t|e[1]>>>32-t])}function g(e,t){return 0==(t%=64)?e:t<32?[e[0]<<t|e[1]>>>32-t,e[1]<<t]:[e[1]<<t-32,0]}function b(e,t){return[e[0]^t[0],e[1]^t[1]]}function w(e){return e=b(e,[0,e[0]>>>1]),e=b(e=v(e,[4283543511,3981806797]),[0,e[0]>>>1]),b(e=v(e,[3301882366,444984403]),[0,e[0]>>>1])}function t(e,t){t=t||0;var n,r=(e=e||"").length%16,a=e.length-r,o=[0,t],i=[0,t],c=[0,0],s=[0,0],u=[2277735313,289559509],l=[1291169091,658871167];for(n=0;n<a;n+=16)c=[255&e.charCodeAt(n+4)|(255&e.charCodeAt(n+5))<<8|(255&e.charCodeAt(n+6))<<16|(255&e.charCodeAt(n+7))<<24,255&e.charCodeAt(n)|(255&e.charCodeAt(n+1))<<8|(255&e.charCodeAt(n+2))<<16|(255&e.charCodeAt(n+3))<<24],s=[255&e.charCodeAt(n+12)|(255&e.charCodeAt(n+13))<<8|(255&e.charCodeAt(n+14))<<16|(255&e.charCodeAt(n+15))<<24,255&e.charCodeAt(n+8)|(255&e.charCodeAt(n+9))<<8|(255&e.charCodeAt(n+10))<<16|(255&e.charCodeAt(n+11))<<24],c=m(c=v(c,u),31),o=f(o=m(o=b(o,c=v(c,l)),27),i),o=f(v(o,[0,5]),[0,1390208809]),s=m(s=v(s,l),33),i=f(i=m(i=b(i,s=v(s,u)),31),o),i=f(v(i,[0,5]),[0,944331445]);switch(c=[0,0],s=[0,0],r){case 15:s=b(s,g([0,e.charCodeAt(n+14)],48));case 14:s=b(s,g([0,e.charCodeAt(n+13)],40));case 13:s=b(s,g([0,e.charCodeAt(n+12)],32));case 12:s=b(s,g([0,e.charCodeAt(n+11)],24));case 11:s=b(s,g([0,e.charCodeAt(n+10)],16));case 10:s=b(s,g([0,e.charCodeAt(n+9)],8));case 9:s=v(s=b(s,[0,e.charCodeAt(n+8)]),l),i=b(i,s=v(s=m(s,33),u));case 8:c=b(c,g([0,e.charCodeAt(n+7)],56));case 7:c=b(c,g([0,e.charCodeAt(n+6)],48));case 6:c=b(c,g([0,e.charCodeAt(n+5)],40));case 5:c=b(c,g([0,e.charCodeAt(n+4)],32));case 4:c=b(c,g([0,e.charCodeAt(n+3)],24));case 3:c=b(c,g([0,e.charCodeAt(n+2)],16));case 2:c=b(c,g([0,e.charCodeAt(n+1)],8));case 1:c=v(c=b(c,[0,e.charCodeAt(n)]),u),o=b(o,c=v(c=m(c,31),l))}return o=f(o=b(o,[0,e.length]),i=b(i,[0,e.length])),i=f(i,o),o=f(o=w(o),i=w(i)),i=f(i,o),("00000000"+(o[0]>>>0).toString(16)).slice(-8)+("00000000"+(o[1]>>>0).toString(16)).slice(-8)+("00000000"+(i[0]>>>0).toString(16)).slice(-8)+("00000000"+(i[1]>>>0).toString(16)).slice(-8)}function r(e){return parseInt(e)}function o(e){return parseFloat(e)}function i(e,t){return"number"==typeof e&&isNaN(e)?t:e}function y(e){return e.reduce(function(e,t){return e+(t?1:0)},0)}function k(e,t){if(void 0===t&&(t=1),1<=Math.abs(t))return Math.round(e/t)*t;var n=1/t;return Math.round(e*n)/n}function C(e){return e&&"object"==babelHelpers.typeof(e)&&"message"in e?e:{message:e}}function s(a,i,t){var c=Object.keys(a).filter(function(e){return!function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return 1;return 0}(t,e)}),s=Array(c.length);return d(c,function(e,t){var n,o,r;s[t]=(n=a[e],o=i,r=new Promise(function(r){var a=Date.now();u(n.bind(null,o),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=Date.now()-a;if(!e[0])return r(function(){return{error:C(e[1]),duration:o}});var n=e[1];if("function"!=typeof n)return r(function(){return{value:n,duration:o}});r(function(){return new Promise(function(r){var a=Date.now();u(n,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o+Date.now()-a;if(!e[0])return r({error:C(e[1]),duration:n});r({value:e[1],duration:n})})})})})}),function(){return r.then(function(e){return e()})})}),function(){return h(this,void 0,void 0,function(){var r,t,n,a,o,i;return p(this,function(e){switch(e.label){case 0:for(r={},t=0,n=c;t<n.length;t++)a=n[t],r[a]=void 0;o=Array(c.length),i=function(){var n;return p(this,function(e){switch(e.label){case 0:return n=!0,[4,d(c,function(t,e){o[e]||(s[e]?o[e]=s[e]().then(function(e){return r[t]=e}):n=!1)})];case 1:return e.sent(),n?[2,"break"]:[4,l(1)];case 2:return e.sent(),[2]}})},e.label=1;case 1:return[5,i()];case 2:if("break"===e.sent())return[3,4];e.label=3;case 3:return[3,1];case 4:return[4,Promise.all(o)];case 5:return e.sent(),[2,r]}})})}}function n(){var e=window,t=navigator;return 4<=y(["MSCSSMatrix"in e,"msSetImmediate"in e,"msIndexedDB"in e,"msMaxTouchPoints"in t,"msPointerEnabled"in t])}function A(){var e=window,t=navigator;return 3<=y(["msWriteProfilerMark"in e,"MSStream"in e,"msLaunchUri"in t,"msSaveBlob"in t])&&!n()}function S(){var e=window,t=navigator;return 5<=y(["webkitPersistentStorage"in t,"webkitTemporaryStorage"in t,0===t.vendor.indexOf("Google"),"webkitResolveLocalFileSystemURL"in e,"BatteryManager"in e,"webkitMediaStream"in e,"webkitSpeechGrammar"in e])}function x(){var e=window,t=navigator;return 4<=y(["ApplePayError"in e,"CSSPrimitiveValue"in e,"Counter"in e,0===t.vendor.indexOf("Apple"),"getStorageUpdates"in t,"WebKitMediaKeys"in e])}function M(){var e=window;return 3<=y(["safari"in e,!("DeviceMotionEvent"in e),!("ongestureend"in e),!("standalone"in navigator)])}function P(){var e,t,n=window;return 4<=y(["buildID"in navigator,"MozAppearance"in(null!==(t=null===(e=document.documentElement)||void 0===e?void 0:e.style)&&void 0!==t?t:{}),"onmozfullscreenchange"in n,"mozInnerScreenX"in n,"CSSMozDocumentRule"in n,"CanvasCaptureMediaStream"in n])}function _(){var e=document;return e.fullscreenElement||e.msFullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||null}function T(){var e=S(),t=P();if(!e&&!t)return!1;var n=window;return 2<=y(["onorientationchange"in n,"orientation"in n,e&&!("SharedWorker"in n),t&&/android/i.test(navigator.appVersion)])}function E(e){var t=new Error(e);return t.name=e,t}function D(t,c,n){var r,a,s;return void 0===n&&(n=50),h(this,void 0,void 0,function(){var o,i;return p(this,function(e){switch(e.label){case 0:o=document,e.label=1;case 1:return o.body?[3,3]:[4,l(n)];case 2:return e.sent(),[3,1];case 3:i=o.createElement("iframe"),e.label=4;case 4:return e.trys.push([4,,10,11]),[4,new Promise(function(e,t){function r(){a=!0,e()}var a=!1;i.onload=r,i.onerror=function(e){a=!0,t(e)};var n=i.style;n.setProperty("display","block","important"),n.position="absolute",n.top="0",n.left="0",n.visibility="hidden",c&&"srcdoc"in i?i.srcdoc=c:i.src="about:blank",o.body.appendChild(i);!function e(){var t,n;a||("complete"===(null===(n=null===(t=i.contentWindow)||void 0===t?void 0:t.document)||void 0===n?void 0:n.readyState)?r():setTimeout(e,10))}()})];case 5:e.sent(),e.label=6;case 6:return(null===(a=null===(r=i.contentWindow)||void 0===r?void 0:r.document)||void 0===a?void 0:a.body)?[3,8]:[4,l(n)];case 7:return e.sent(),[3,6];case 8:return[4,t(i,i.contentWindow)];case 9:return[2,e.sent()];case 10:return null===(s=i.parentNode)||void 0===s||s.removeChild(i),[7];case 11:return[2]}})})}function L(e){for(var t=function(e){for(var t,n,r,a="Unexpected syntax '".concat(e,"'"),o=/^\s*([a-z-]*)(.*)$/i.exec(e),i=o[1]||void 0,c={},s=/([.:#][\w-]+|\[.+?\])/gi,u=function(e,t){c[e]=c[e]||[],c[e].push(t)};r=s.exec(o[2]);){var l=r[0];switch(l[0]){case".":u("class",l.slice(1));break;case"#":u("id",l.slice(1));break;case"[":var d=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(l);if(!d)throw new Error(a);u(d[1],null!==(n=null!==(t=d[4])&&void 0!==t?t:d[5])&&void 0!==n?n:"");break;default:throw new Error(a)}}return[i,c]}(e),n=t[0],r=t[1],a=document.createElement(null!=n?n:"div"),o=0,i=Object.keys(r);o<i.length;o++){var c=i[o],s=r[c].join(" ");"style"===c?z(a.style,s):a.setAttribute(c,s)}return a}function z(e,t){for(var n=0,r=t.split(";");n<r.length;n++){var a=r[n],o=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(a);if(o){var i=o[1],c=o[2],s=o[4];e.setProperty(i,c,s||"")}}}var I,B,F=["monospace","sans-serif","serif"],O=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function R(e){return e.toDataURL()}function G(){var e=this;return function(){if(void 0===B){!function e(){var t=j();B=U(t)?setTimeout(e,2500):void(I=t)}()}}(),function(){return h(e,void 0,void 0,function(){var n;return p(this,function(e){switch(e.label){case 0:return U(n=j())?I?[2,c([],I,!0)]:_()?[4,(t=document,(t.exitFullscreen||t.msExitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen).call(t))]:[3,2]:[3,2];case 1:e.sent(),n=j(),e.label=2;case 2:return U(n)||(I=n),[2,n]}var t})})}}function j(){var e=screen;return[i(o(e.availTop),null),i(o(e.width)-o(e.availWidth)-i(o(e.availLeft),0),null),i(o(e.height)-o(e.availHeight)-i(o(e.availTop),0),null),i(o(e.availLeft),null)]}function U(e){for(var t=0;t<4;++t)if(e[t])return!1;return!0}var W={abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'a[title="7naga poker" i]','[title="ALIENBOLA" i]'],abpvn:["#quangcaomb",".iosAdsiosAds-layout",".quangcao",'[href^="https://r88.vn/"]','[href^="https://zbet.vn/"]'],adBlockFinland:[".mainostila",".sponsorit",".ylamainos",'a[href*="/clickthrgh.asp?"]','a[href^="https://app.readpeak.com/ads"]'],adBlockPersian:["#navbar_notice_50",'a[href^="http://g1.v.fwmrm.net/ad/"]',".kadr",'TABLE[width="140px"]',"#divAgahi"],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect"],adGuardAnnoyances:['amp-embed[type="zen"]',".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil"],adGuardBase:["#ad-after","#ad-p3",".BetterJsPopOverlay","#ad_300X250","#bannerfloat22"],adGuardChinese:['a[href*=".ttz5.cn"]','a[href*=".yabovip2027.com/"]',".tm3all2h4b",".cc5278_banner_ad"],adGuardFrench:[".zonepub",'[class*="_adLeaderboard"]','[id^="block-xiti_oas-"]','a[href^="http://ptapjmp.com/"]','a[href^="https://go.alvexo.com/"]'],adGuardGerman:[".banneritemwerbung_head_1",".boxstartwerbung",".werbung3",'a[href^="http://www.eis.de/index.phtml?refid="]','a[href^="https://www.tipico.com/?affiliateId="]'],adGuardJapanese:["#kauli_yad_1","#ad-giftext","#adsSPRBlock",'a[href^="http://ad2.trafficgate.net/"]','a[href^="http://www.rssad.jp/"]'],adGuardMobile:["amp-auto-ads","#mgid_iframe",".amp_ad",'amp-embed[type="24smi"]',"#mgid_iframe1"],adGuardRussian:['a[href^="https://ya-distrib.ru/r/"]','a[href^="https://ad.letmeads.com/"]',".reclama",'div[id^="smi2adblock"]','div[id^="AdFox_banner_"]'],adGuardSocial:['a[href^="//www.stumbleupon.com/submit?url="]','a[href^="//telegram.me/share/url?"]',".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",'[href^="http://ads.glispa.com/"]'],adGuardTrackingProtection:['amp-embed[type="taboola"]',"#qoo-counter",'a[href^="http://click.hotlog.ru/"]','a[href^="http://hitcounter.ru/top/stat.php"]','a[href^="http://top.mail.ru/jump"]'],adGuardTurkish:["#backkapat","#reklami",'a[href^="http://adserv.ontek.com.tr/"]','a[href^="http://izlenzi.com/campaign/"]','a[href^="http://www.installads.net/"]'],bulgarian:["td#freenet_table_ads","#adbody","#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:["#AD_banner_bottom","#Ads_google_02","#N-ad-article-rightRail-1","#ad-fullbanner2","#ad-zone-2"],easyListChina:['a[href*=".wensixuetang.com/"]','A[href*="/hth107.com/"]','.appguide-wrap[onclick*="bcebos.com"]',".frontpageAdvM","#taotaole"],easyListCookie:["#adtoniq-msg-bar","#CoockiesPage","#CookieModal_cookiemodal","#DO_CC_PANEL","#ShowCookie"],easyListCzechSlovak:["#onlajny-stickers","#reklamni-box",".reklama-megaboard",".sklik",'[id^="sklikReklama"]'],easyListDutch:["#advertentie","#vipAdmarktBannerBlock",".adstekst",'a[href^="https://xltube.nl/click/"]',"#semilo-lrectangle"],easyListGermany:['a[href^="http://www.hw-area.com/?dp="]','a[href^="https://ads.sunmaker.com/tracking.php?"]',".werbung-skyscraper2",".bannergroup_werbung",".ads_rechts"],easyListItaly:[".box_adv_annunci",".sb-box-pubbliredazionale",'a[href^="http://affiliazioniads.snai.it/"]','a[href^="https://adserver.html.it/"]','a[href^="https://affiliazioniads.snai.it/"]'],easyListLithuania:[".reklamos_tarpas",".reklamos_nuorodos",'img[alt="Reklaminis skydelis"]','img[alt="Dedikuoti.lt serveriai"]','img[alt="Hostingas Serveriai.lt"]'],estonian:['A[href*="http://pay4results24.eu"]'],fanboyAnnoyances:["#feedback-tab","#taboola-below-article",".feedburnerFeedBlock",".widget-feedburner-counter",'[title="Subscribe to our blog"]'],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:[".td-tags-and-social-wrapper-box",".twitterContainer",".youtube-social",'a[title^="Like us on Facebook"]','img[alt^="Share on Digg"]'],frellwitSwedish:['a[href*="casinopro.se"][target="_blank"]','a[href*="doktor-se.onelink.me"]',"article.category-samarbete","div.holidAds","ul.adsmodern"],greekAdBlock:['A[href*="adman.otenet.gr/click?"]','A[href*="http://axiabanners.exodus.gr/"]','A[href*="http://interactive.forthnet.gr/click?"]',"DIV.agores300","TABLE.advright"],hungarian:['A[href*="ad.eval.hu"]','A[href*="ad.netmedia.hu"]','A[href*="daserver.ultraweb.hu"]',"#cemp_doboz",".optimonk-iframe-container"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container",".cookie-msg-info-container","#cookies-policy-sticky"],icelandicAbp:['A[href^="/framework/resources/forms/ads.aspx"]'],latvian:['a[href="http://www.salidzini.lv/"][style="display: block; width: 120px; height: 40px; overflow: hidden; position: relative;"]','a[href="http://www.salidzini.lv/"][style="display: block; width: 88px; height: 31px; overflow: hidden; position: relative;"]'],listKr:['a[href*="//kingtoon.slnk.kr"]','a[href*="//playdsb.com/kr"]',"div.logly-lift-adz",'div[data-widget_id="ml6EJ074"]',"ins.daum_ddn_area"],listeAr:[".geminiLB1Ad",".right-and-left-sponsers",'a[href*=".aflam.info"]','a[href*="booraq.org"]','a[href*="dubizzle.com/ar/?utm_source="]'],listeFr:['a[href^="http://promo.vador.com/"]',"#adcontainer_recherche",'a[href*="weborama.fr/fcgi-bin/"]',".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",'[href^="https://aff.sendhub.pl/"]','a[href^="http://advmanager.techfun.pl/redirect/"]','a[href^="http://www.trizer.pl/?utm_source"]',"div#skapiec_ad"],ro:['a[href^="//afftrk.altex.ro/Counter/Click"]','a[href^="/magazin/"]','a[href^="https://blackfridaysales.ro/trk/shop/"]','a[href^="https://event.2performant.com/events/click"]','a[href^="https://l.profitshare.ro/"]'],ruAd:['a[href*="//febrare.ru/"]','a[href*="//utimg.ru/"]','a[href*="://chikidiki.ru"]',"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]","#ads-google-middle_rectangle-group",".ads300s",".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",".ctpl-fullbanner",".zergnet-recommend",".yt.btn-link.btn-md.btn"]};function H(e){e.style.setProperty("display","block","important")}function N(e){return matchMedia("(inverted-colors: ".concat(e,")")).matches}function q(e){return matchMedia("(forced-colors: ".concat(e,")")).matches}function J(e){return matchMedia("(prefers-contrast: ".concat(e,")")).matches}function $(e){return matchMedia("(prefers-reduced-motion: ".concat(e,")")).matches}function V(e){return matchMedia("(dynamic-range: ".concat(e,")")).matches}function K(){return 0}var X=Math,Y={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]},Z={fonts:function(){return D(function(e,t){var r=t.document,n=r.body;n.style.fontSize="48px";function a(e){var t=r.createElement("span"),n=t.style;return n.position="absolute",n.top="0",n.left="0",n.fontFamily=e,t.textContent="mmMwWLliI0O&1",o.appendChild(t),t}var o=r.createElement("div"),i={},c={},s=F.map(a),u=function(){for(var e={},t=function(n){e[n]=F.map(function(e){return t=e,a("'".concat(n,"',").concat(t));var t})},n=0,r=O;n<r.length;n++)t(r[n]);return e}();n.appendChild(o);for(var l=0;l<F.length;l++)i[F[l]]=s[l].offsetWidth,c[F[l]]=s[l].offsetHeight;return O.filter(function(e){return n=u[e],F.some(function(e,t){return n[t].offsetWidth!==i[e]||n[t].offsetHeight!==c[e]});var n})})},domBlockers:function(e){var o=(void 0===e?{}:e).debug;return h(this,void 0,void 0,function(){var t,n,r,a;return p(this,function(e){switch(e.label){case 0:return x()||T()?(t=Object.keys(W),[4,function(s){var u;return h(this,void 0,void 0,function(){var t,n,r,a,o,i,c;return p(this,function(e){switch(e.label){case 0:for(t=document,n=t.createElement("div"),r=Array(s.length),a={},H(n),c=0;c<s.length;++c)o=L(s[c]),H(i=t.createElement("div")),i.appendChild(o),n.appendChild(i),r[c]=o;e.label=1;case 1:return t.body?[3,3]:[4,l(50)];case 2:return e.sent(),[3,1];case 3:t.body.appendChild(n);try{for(c=0;c<s.length;++c)r[c].offsetParent||(a[s[c]]=!0)}finally{null===(u=n.parentNode)||void 0===u||u.removeChild(n)}return[2,a]}})})}((a=[]).concat.apply(a,t.map(function(e){return W[e]})))]):[2,void 0];case 1:return n=e.sent(),o&&function(e){for(var t,n="DOM blockers debug:\n```",r=0,a=Object.keys(W);r<a.length;r++){t=a[r],n+="\n".concat(t,":");for(var o,i=0,c=W[t];i<c.length;i++)o=c[i],n+="\n  ".concat(o," ").concat(e[o]?"":"")}console.log("".concat(n,"\n```"))}(n),(r=t.filter(function(e){var t=W[e];return y(t.map(function(e){return n[e]}))>.6*t.length})).sort(),[2,r]}})})},fontPreferences:function(){return void 0===i&&(i=4e3),D(function(e,t){var n=t.document,r=n.body,a=r.style;a.width="".concat(i,"px"),a.webkitTextSizeAdjust=a.textSizeAdjust="none",S()?r.style.zoom="".concat(1/t.devicePixelRatio):x()&&(r.style.zoom="reset");var o=n.createElement("div");return o.textContent=c([],Array(i/20<<0),!0).map(function(){return"word"}).join(" "),r.appendChild(o),function(e,t){for(var n={},r={},a=0,o=Object.keys(Y);a<o.length;a++){var i=o[a],c=Y[i],s=c[0],u=void 0===s?{}:s,l=c[1],d=void 0===l?"mmMwWLliI0fiflO&1":l,f=e.createElement("span");f.textContent=d,f.style.whiteSpace="nowrap";for(var h=0,p=Object.keys(u);h<p.length;h++){var v=p[h],m=u[v];void 0!==m&&(f.style[v]=m)}n[i]=f,t.appendChild(e.createElement("br")),t.appendChild(f)}for(var g=0,b=Object.keys(Y);g<b.length;g++)r[i=b[g]]=n[i].getBoundingClientRect().width;return r}(n,r)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">');var i},audio:function(){var e,t=window,n=t.OfflineAudioContext||t.webkitOfflineAudioContext;if(!n)return-2;if(x()&&!M()&&!(3<=y(["DOMRectList"in(e=window),"RTCPeerConnectionIceEvent"in e,"SVGGeometryElement"in e,"ontransitioncancel"in e])))return-1;var r=new n(1,5e3,44100),a=r.createOscillator();a.type="triangle",a.frequency.value=1e4;var o=r.createDynamicsCompressor();o.threshold.value=-50,o.knee.value=40,o.ratio.value=12,o.attack.value=0,o.release.value=.25,a.connect(o),o.connect(r.destination),a.start(0);var c,s,i=(c=r,s=function(){},[new Promise(function(t,n){var r=!1,a=0,o=0;function i(){setTimeout(function(){return n(E("timeout"))},Math.min(500,o+5e3-Date.now()))}c.oncomplete=function(e){return t(e.renderedBuffer)},function e(){try{switch(c.startRendering(),c.state){case"running":o=Date.now(),r&&i();break;case"suspended":document.hidden||a++,r&&3<=a?n(E("suspended")):setTimeout(e,500)}}catch(e){n(e)}}(),s=function(){r||(r=!0,0<o&&i())}}),s]),u=i[1],l=i[0].then(function(e){return function(e){for(var t=0,n=0;n<e.length;++n)t+=Math.abs(e[n]);return t}(e.getChannelData(0).subarray(4500))},function(e){if("timeout"===e.name||"suspended"===e.name)return-3;throw e});return l.catch(function(){}),function(){return u(),l}},screenFrame:function(){var e=this,r=G();return function(){return h(e,void 0,void 0,function(){var t,n;return p(this,function(e){switch(e.label){case 0:return[4,r()];case 1:return t=e.sent(),[2,[(n=function(e){return null===e?null:k(e,10)})(t[0]),n(t[1]),n(t[2]),n(t[3])]]}})})}},osCpu:function(){return navigator.oscpu},languages:function(){var e,t=navigator,n=[],r=t.language||t.userLanguage||t.browserLanguage||t.systemLanguage;if(void 0!==r&&n.push([r]),Array.isArray(t.languages))S()&&3<=y([!("MediaSettingsRange"in(e=window)),"RTCEncodedAudioFrame"in e,"[object Intl]"==""+e.Intl,"[object Reflect]"==""+e.Reflect])||n.push(t.languages);else if("string"==typeof t.languages){var a=t.languages;a&&n.push(a.split(","))}return n},colorDepth:function(){return window.screen.colorDepth},deviceMemory:function(){return i(o(navigator.deviceMemory),void 0)},screenResolution:function(){function e(e){return i(r(e),null)}var t=screen,n=[e(t.width),e(t.height)];return n.sort().reverse(),n},hardwareConcurrency:function(){return i(r(navigator.hardwareConcurrency),void 0)},timezone:function(){var e,t=null===(e=window.Intl)||void 0===e?void 0:e.DateTimeFormat;if(t){var n=(new t).resolvedOptions().timeZone;if(n)return n}var r,a=(r=(new Date).getFullYear(),-Math.max(o(new Date(r,0,1).getTimezoneOffset()),o(new Date(r,6,1).getTimezoneOffset())));return"UTC".concat(0<=a?"+":"").concat(Math.abs(a))},sessionStorage:function(){try{return!!window.sessionStorage}catch(e){return!0}},localStorage:function(){try{return!!window.localStorage}catch(e){return!0}},indexedDB:function(){if(!n()&&!A())try{return!!window.indexedDB}catch(e){return!0}},openDatabase:function(){return!!window.openDatabase},cpuClass:function(){return navigator.cpuClass},platform:function(){var e=navigator.platform;return"MacIntel"===e&&x()&&!M()?function(){if("iPad"===navigator.platform)return 1;var e=screen,t=e.width/e.height;return 2<=y(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,.65<t&&t<1.53])}()?"iPad":"iPhone":e},plugins:function(){var e=navigator.plugins;if(e){for(var t,n=[],r=0;r<e.length;++r)if(t=e[r]){for(var a,o=[],i=0;i<t.length;++i)a=t[i],o.push({type:a.type,suffixes:a.suffixes});n.push({name:t.name,description:t.description,mimeTypes:o})}return n}},canvas:function(){var e,t,n=((e=document.createElement("canvas")).width=1,e.height=1,[e,e.getContext("2d")]),r=n[0],a=n[1];return a&&r.toDataURL?{winding:(t=a,t.rect(0,0,10,10),t.rect(2,2,6,6),!t.isPointInPath(5,5,"evenodd")),geometry:function(e,t){e.width=122,e.height=110,t.globalCompositeOperation="multiply";for(var n=0,r=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];n<r.length;n++){var a=r[n],o=a[0],i=a[1],c=a[2];t.fillStyle=o,t.beginPath(),t.arc(i,c,40,0,2*Math.PI,!0),t.closePath(),t.fill()}return t.fillStyle="#f9c",t.arc(60,60,60,0,2*Math.PI,!0),t.arc(60,60,20,0,2*Math.PI,!0),t.fill("evenodd"),R(e)}(r,a),text:function(e,t){e.width=240,e.height=60,t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(100,1,62,20),t.fillStyle="#069",t.font='11pt "Times New Roman"';var n="Cwm fjordbank gly ".concat(String.fromCharCode(55357,56835));return t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.2)",t.font="18pt Arial",t.fillText(n,4,45),R(e)}(r,a)}:{winding:!1,geometry:"",text:""}},touchSupport:function(){var t,e=navigator,n=0;void 0!==e.maxTouchPoints?n=r(e.maxTouchPoints):void 0!==e.msMaxTouchPoints&&(n=e.msMaxTouchPoints);try{document.createEvent("TouchEvent"),t=!0}catch(e){t=!1}return{maxTouchPoints:n,touchEvent:t,touchStart:"ontouchstart"in window}},vendor:function(){return navigator.vendor||""},vendorFlavors:function(){for(var e=[],t=0,n=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];t<n.length;t++){var r=n[t],a=window[r];a&&"object"==babelHelpers.typeof(a)&&e.push(r)}return e.sort()},cookiesEnabled:function(){var e=document;try{e.cookie="cookietest=1; SameSite=Strict;";var t=-1!==e.cookie.indexOf("cookietest=");return e.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}catch(e){return!1}},colorGamut:function(){for(var e,t=0,n=["rec2020","p3","srgb"];t<n.length;t++)if(e=n[t],matchMedia("(color-gamut: ".concat(e,")")).matches)return e},invertedColors:function(){return!!N("inverted")||!N("none")&&void 0},forcedColors:function(){return!!q("active")||!q("none")&&void 0},monochrome:function(){if(matchMedia("(min-monochrome: 0)").matches){for(var e=0;e<=100;++e)if(matchMedia("(max-monochrome: ".concat(e,")")).matches)return e;throw new Error("Too high value")}},contrast:function(){return J("no-preference")?0:J("high")||J("more")?1:J("low")||J("less")?-1:J("forced")?10:void 0},reducedMotion:function(){return!!$("reduce")||!$("no-preference")&&void 0},hdr:function(){return!!V("high")||!V("standard")&&void 0},math:function(){var e=X.acos||K,t=X.acosh||K,n=X.asin||K,r=X.asinh||K,a=X.atanh||K,o=X.atan||K,i=X.sin||K,c=X.sinh||K,s=X.cos||K,u=X.cosh||K,l=X.tan||K,d=X.tanh||K,f=X.exp||K,h=X.expm1||K,p=X.log1p||K;return{acos:e(.12312423423423424),acosh:t(1e308),acoshPf:X.log(1e154+X.sqrt(1e308)),asin:n(.12312423423423424),asinh:r(1),asinhPf:X.log(1+X.sqrt(2)),atanh:a(.5),atanhPf:X.log(3)/2,atan:o(.5),sin:i(-1e300),sinh:c(1),sinhPf:X.exp(1)-1/X.exp(1)/2,cos:s(10.000000000123),cosh:u(1),coshPf:(X.exp(1)+1/X.exp(1))/2,tan:l(-1e300),tanh:d(1),tanhPf:(X.exp(2)-1)/(X.exp(2)+1),exp:f(1),expm1:h(1),expm1Pf:X.exp(1)-1,log1p:p(10),log1pPf:X.log(11),powPI:X.pow(X.PI,-100)}}};function Q(e){return JSON.stringify(e,function(e,t){return babelHelpers.instanceof(t,Error)?a({name:(n=t).name,message:n.message,stack:null===(r=n.stack)||void 0===r?void 0:r.split("\n")},n):t;var n,r},2)}function ee(e){return t(function(e){for(var t="",n=0,r=Object.keys(e).sort();n<r.length;n++){var a=r[n],o=e[a],i=o.error?"error":JSON.stringify(o.value);t+="".concat(t?"|":"").concat(a.replace(/([:|\\])/g,"\\$1"),":").concat(i)}return t}(e))}function te(e){return void 0===e&&(e=50),function(e,t){void 0===t&&(t=1/0);var n=window.requestIdleCallback;return n?new Promise(function(e){return n.call(window,function(){return e()},{timeout:t})}):l(Math.min(e,t))}(e,2*e)}function ne(l,d){var f=Date.now();return{get:function(u){return h(this,void 0,void 0,function(){var i,c,s;return p(this,function(e){switch(e.label){case 0:return i=Date.now(),[4,l()];case 1:return c=e.sent(),s={get visitorId(){return void 0===n&&(n=ee(this.components)),n},set visitorId(e){n=e},confidence:(r=t=c,a=function(e){if(T())return.4;if(x())return M()?.5:.3;var t=e.platform.value||"";return/^Win/.test(t)?.6:/^Mac/.test(t)?.5:.7}(r),o=k(.99+.01*a,1e-4),{score:a,comment:"$ if upgrade to Pro: https://fpjs.dev/pro".replace(/\$/g,"".concat(o))}),components:t,version:"3.3.2"},(d||(null==u?void 0:u.debug))&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(s.version,"\nuserAgent: ").concat(navigator.userAgent,"\ntimeBetweenLoadAndGet: ").concat(i-f,"\nvisitorId: ").concat(s.visitorId,"\ncomponents: ").concat(Q(c),"\n```")),[2,s]}var t,n,r,a,o})})}}}function re(e){var t=void 0===e?{}:e,n=t.delayFallback,r=t.debug;return t.monitoring,h(this,void 0,void 0,function(){return p(this,function(e){switch(e.label){case 0:return[4,te(n)];case 1:return e.sent(),[2,ne(s(Z,{debug:r},[]),r)]}})})}var ae={load:re,hashComponents:ee,componentsToDebugString:Q},oe=t;return e.componentsToDebugString=Q,e.default=ae,e.getFullscreenElement=_,e.getScreenFrame=G,e.hashComponents=ee,e.isAndroid=T,e.isChromium=S,e.isDesktopSafari=M,e.isEdgeHTML=A,e.isGecko=P,e.isTrident=n,e.isWebKit=x,e.load=re,e.loadSources=s,e.murmurX64Hash128=oe,e.prepareForSources=te,e.sources=Z,Object.defineProperty(e,"__esModule",{value:!0}),e}({})</script><dom-module id="yp-app-user"assetpath="../yp-app-globals/"><template><style include="iron-flex iron-flex-alignment">paper-toast{z-index:9999;}yp-ajax{margin-top:10px;margin-right:4px;}</style><yp-session id="session"></yp-session><div class="layout horizontal center-center"><yp-ajax id="pollForLoginAjax"url="/api/users/loggedInUser/isloggedin"on-response="_pollForLoginResponse"></yp-ajax><yp-ajax id="isLoggedInAjax"method="GET"url="/api/users/loggedInUser/isloggedin"on-response="_isLoggedInResponse"></yp-ajax><yp-ajax id="adminRightsAjax"method="GET"url="/api/users/loggedInUser/adminRights"on-response="_adminRightsResponse"></yp-ajax><yp-ajax id="membershipsAjax"method="GET"url="/api/users/loggedInUser/memberships"on-response="_membershipsResponse"></yp-ajax><yp-ajax id="logoutAjax"method="POST"url="/api/users/logout"on-response="_logoutResponse"></yp-ajax><yp-ajax id="setLocaleAjax"method="PUT"url="/api/users/loggedInUser/setLocale"></yp-ajax></div><paper-toast id="loginToast"text="[[toastLoginTextCombined]]"></paper-toast><paper-toast id="logoutToast"text="[[toastLogoutTextCombined]]"></paper-toast></template><script>Polymer({is:"yp-app-user",behaviors:[Polymer.ypLanguageBehavior,Polymer.AccessHelpers],listeners:{"yp-forgot-password":"_forgotPassword","yp-reset-password":"_resetPassword"},properties:{loginForAcceptInviteParams:Object,loginForEditParams:{type:Object},loginForNewPointParams:{type:Object},loginForEndorseParams:{type:Object},loginForRatingsParams:{type:Object},loginForPointQualityParams:{type:Object},loginForMembershipParams:{type:Object},loginFor401refreshFunction:{type:Function,value:null},loginForNotificationSettingsParams:{type:Boolean,value:!1},toastLoginTextCombined:{type:String},toastLogoutTextCombined:{type:String},user:{type:Object,observer:"_onUserChanged"},endorsementPostsIndex:{type:Object},groupCurrentVoteCountIndex:{type:Object,value:{}},ratingPostsIndex:{type:Object},membershipsIndex:{type:Object},pointQualitiesIndex:{type:Object},adminRights:{type:Object},memberships:{type:Object},completeExternalLoginText:{type:String,value:null},isPollingForLogin:{type:Boolean,value:!1},lastLoginMethod:String,facebookPopupWindow:Object,samlPopupWindow:Object,pollingStartedAt:Date,hasIssuedLogout:{type:Boolean,value:!1},browserFingerprint:{type:String,value:"-1"},browserFingerprintConfidence:{type:Number,value:-1}},getBrowserId:function(){var e=localStorage.getItem("yp-brid");return e||(e=this._generateRandomString(32),localStorage.setItem("yp-brid",e)),e},_setupBrowserFingerprint:function(){var o=this;try{FingerprintJS.load({monitoring:!1}).then(function(e){return e.get()}).then(function(e){o.browserFingerprint=e.visitorId,o.browserFingerprintConfidence=e.confidence.score})}catch(e){console.error(e)}},_generateRandomString:function(){if(window.crypto){for(var e=window.crypto.getRandomValues(new Uint32Array(3)),o="",t=0,n=e.length;t<n;t++)o+=e[t].toString(36);return o}return(Math.random()*(new Date).getTime()).toString(36).replace(/\./g,"")},loginForAcceptInvite:function(e,o,t,n){this.loginForAcceptInviteParams={editDialog:e,token:o},this.openUserlogin(t,n)},loginForEdit:function(e,o,t,n){this.loginForEditParams={editDialog:e,newOrUpdate:o,params:t,refreshFunction:n},this.openUserlogin()},loginForNewPoint:function(e,o){this.loginForNewPointParams={postPointsElement:e,params:o},this.openUserlogin()},loginForEndorse:function(e,o){this.loginForEndorseParams={postActionElement:e,params:o},this.openUserlogin()},loginForRatings:function(e){this.loginForRatingsParams={postActionElement:e},this.openUserlogin()},loginForPointQuality:function(e,o){this.loginForPointQualityParams={pointActionElement:e,params:o},this.openUserlogin()},loginForMembership:function(e,o){this.loginForMembershipParams={membershipActionElement:e,params:o},this.openUserlogin()},loginFor401:function(e){this.set("loginFor401refreshFunction",e),this.openUserlogin()},loginForNotificationSettings:function(){this.set("loginForNotificationSettingsParams",!0),this.openUserlogin()},openUserlogin:function(o,t){Polymer.dom(document).querySelector("yp-app").getDialogAsync("userLogin",function(e){e.setup(this._handleLogin.bind(this),window.appGlobals.domain),e.open(null,o,t)}.bind(this))},autoAnonymousLogin:function(){console.log("In autoAnonymousLogin 1"),this.async(function(){console.log("In autoAnonymousLogin 2"),null==this.user?Polymer.dom(document).querySelector("yp-app").getDialogAsync("userLogin",function(e){e.setup(this._handleLogin.bind(this),window.appGlobals.domain),e.anonymousLogin()}.bind(this)):console.log("Not doing auto anon login as user already exists")},1)},_closeUserLogin:function(){Polymer.dom(document).querySelector("yp-app").closeDialog("userLogin")},_setUserLoginSpinner:function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("userLogin",function(e){e.userSpinner=!1})},_handleLogin:function(e){this._closeUserLogin(),this.setLoggedInUser(e),e.profile_data&&e.profile_data.isAnonymousUser?console.debug("Do not fetch admin or memberships for anonymous users"):(this.$.adminRightsAjax.generateRequest(),this.$.membershipsAjax.generateRequest(),this.toastLoginTextCombined=this.t("user.loginCompleteFor")+" "+this.user.name,this.$.loginToast.show()),this.fire("login"),this._checkLoginForParameters(),this.async(function(){window.appGlobals.originalQueryParameters&&window.appGlobals.originalQueryParameters.raLogin&&(window.location=window.appGlobals.originalQueryParameters.raLogin)}),this.async(function(){this._checkRegistrationAnswers(e)},750)},_checkLoginForParameters:function(){if(this.loginForEditParams){var o=this.loginForEditParams;Polymer.dom(document).querySelector("yp-app").getDialogAsync(o.editDialog,function(e){e.setup(null,!0,o.refreshFunction),e.open("new",o.params),this.loginForEditParams=null}.bind(this))}else if(this.loginForNewPointParams){var e=this.loginForNewPointParams;e.postPointsElement.addPoint(e.params.content,e.params.value),this.loginForNewPointParams=null}else if(this.loginForEndorseParams){var t=this.loginForEndorseParams;t.postActionElement.generateEndorsementFromLogin(t.params.value),this.loginForEndorseParams=null}else if(this.loginForRatingsParams){this.loginForRatingsParams.postActionElement.openRatingsDialog(),this.loginForRatingsParams=null}else if(this.loginForPointQualityParams){var n=this.loginForPointQualityParams;n.pointActionElement.generatePointQualityFromLogin(n.params.value),this.loginForPointQualityParams=null}else if(this.loginForMembershipParams){var s=this.loginForMembershipParams;s.membershipActionElement.generateMembershipFromLogin(s.params.value),this.loginForMembershipParams=null}else if(this.loginForAcceptInviteParams){var i=this.loginForAcceptInviteParams;Polymer.dom(document).querySelector("yp-app").getDialogAsync("acceptInvite",function(e){e.reOpen(i.token),e.afterLogin(i.token),this.loginForAcceptInviteParams=null}.bind(this))}else this.loginFor401refreshFunction?this.loginFor401refreshFunction():this.loginForNotificationSettingsParams&&this.openNotificationSettings()},openNotificationSettings:function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("userEdit",function(e){e.setup(window.appUser.user,!1,null,!0),e.open("edit",{userId:window.appUser.user.id})}.bind(this))},_forgotPassword:function(e,o){Polymer.dom(document).querySelector("yp-app").getDialogAsync("forgotPassword",function(e){e.open(o)}.bind(this))},_resetPassword:function(e,o){Polymer.dom(document).querySelector("yp-app").getDialogAsync("resetPassword",function(e){e.open(o)})},getUser:function(){return this.$.session.get("user")},setLoggedInUser:function(e){this.$.session.set("user",e),this.set("user",e),document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"logged-in",data:this.user}})),this.async(function(){document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"logged-in",data:this.user}}))},1e3),window.appGlobals.sendLoginAndSignupToAnalytics(e.id,"Login Success",this.lastLoginMethod?this.lastLoginMethod:"Email"),this.set("lastLoginMethod",null),e&&e.profile_data&&e.profile_data.isAnonymousUser?window.appGlobals.setAnonymousUser(e):window.appGlobals.setAnonymousUser(null),window.appGlobals.checkContentToSendForLoggedInUser()},removeAnonymousUser:function(){console.log("Remove anon user"),this.removeUserSession()},removeUserSession:function(){this.$.session.unset("user"),this.set("user",null),window.appGlobals.setAnonymousUser(null),document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"logged-in",data:null}}))},loggedIn:function(){var e=!0;return window.appGlobals.currentForceSaml&&(this.checkGroupAccess(window.appGlobals.currentGroup)||(this.user?("saml"!==this.user.loginProvider&&(e=!1),window.appGlobals.currentGroup&&window.appGlobals.currentGroup.configuration&&window.appGlobals.currentGroup.configuration.forceSecureSamlEmployeeLogin&&(this.user.isSamlEmployee||(e=!1))):e=!1)),null!=this.user&&e},logout:function(){this.hasIssuedLogout=!0,this.$.logoutAjax.body={},this.$.logoutAjax.generateRequest()},setLocale:function(e){this.$.setLocaleAjax.body={locale:e},this.$.setLocaleAjax.generateRequest()},ready:function(){window.appUser=this,window.location.pathname.startsWith("/survey/")?console.log("Not checking login in survey mode"):this.checkLogin(),this.groupCurrentVoteCountIndex={},this.async(function(){this._setupBrowserFingerprint()},2500)},cancelLoginPolling:function(){this.pollingStartedAt=null,console.log("Cancel polling")},_closeAllPopups:function(){if(this.facebookPopupWindow){try{this.facebookPopupWindow.close()}catch(e){console.error(e)}this.facebookPopupWindow=null}if(this.samlPopupWindow){try{this.samlPopupWindow.close()}catch(e){console.error(e)}this.samlPopupWindow=null}},_pollForLoginResponse:function(e,o){if(console.log("Got polling for login response"),this.pollingStartedAt){var t=o.response;if(t&&!0===t.notLoggedIn&&this.pollingStartedAt)new Date-this.pollingStartedAt<3e5?this.async(function(){this.$.pollForLoginAjax.generateRequest()}.bind(this),1200):(this.pollingStartedAt=null,console.error("Timeout in login polling"));else t.name&&(this.cancelLoginPolling(),this.facebookPopupWindow?this.loginFromFacebook():this.samlPopupWindow&&this.loginFromSaml(),this._closeAllPopups())}else console.error("Unkown state in polling..."),this._closeAllPopups(),this.cancelLoginPolling()},startPollingForLogin:function(){this.pollingStartedAt=Date.now(),this.async(function(){this.$.pollForLoginAjax.generateRequest()},1e3)},loginFromFacebook:function(){this.cancelLoginPolling(),this.set("lastLoginMethod","Facebook"),this._completeExternalLogin(this.t("user.loggedInWithFacebook"))},loginFromSaml:function(){this.cancelLoginPolling(),this.set("lastLoginMethod","Saml2"),this._completeExternalLogin(this.t("user.loggedInWithSaml"))},_completeExternalLogin:function(e){this.checkLogin(),this._setUserLoginSpinner(),this.set("completeExternalLoginText",e)},checkLogin:function(){this.$.isLoggedInAjax.url="/api/users/loggedInUser/isloggedin",this.$.isLoggedInAjax.generateRequest(),this.$.adminRightsAjax.url="/api/users/loggedInUser/adminRights",this.$.adminRightsAjax.generateRequest(),this.$.membershipsAjax.url="/api/users/loggedInUser/memberships",this.$.membershipsAjax.generateRequest()},recheckAdminRights:function(){this.$.adminRightsAjax.generateRequest()},updateEndorsementForPost:function(e,o,t){this.user.Endorsements||(this.user.Endorsements=[]);for(var n=!1,s=0;s<this.user.Endorsements.length;s++)if(this.user.Endorsements[s].post_id===e){o?this.user.Endorsements[s]=o:this.user.Endorsements.splice(s,1),n=!0;break}!n&&o&&this.user.Endorsements.push(o),this._updateEndorsementPostsIndex(this.user),t&&t.configuration&&t.configuration.maxNumberOfGroupVotes?this.calculateVotesLeftForGroup(t,o):document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"got-endorsements-and-qualities"}}))},calculateVotesLeftForGroup:function(i,r){this.user&&this.user.Endorsements?this.async(function(){var e=this.groupCurrentVoteCountIndex[i.id];if(this.groupCurrentVoteCountIndex[i.id]=this.user.Endorsements.filter(function(e){return e.Post.group_id===i.id&&-1!==e.value&&0!==e.value}).length,e!=this.groupCurrentVoteCountIndex[i.id]){var o="";r&&1==r.value&&(o="".concat(this.t("voteReceived"),". "));var t,n="".concat(o).concat(this.t("youHaveUsed")," ").concat(this.groupCurrentVoteCountIndex[i.id]," ").concat(this.t("ofNumber")," ").concat(i.configuration.maxNumberOfGroupVotes," ").concat(this.t("votesForGroup")),s=i.configuration.endorsementButtons?i.configuration.endorsementButtons:"hearts";"thumbs"==s?t="thumb-up":"hearts"==s?t="favorite-border":"hats"==s?t="keyboard-arrow-up":"arrows"==s&&(t="arrow-upward"),Polymer.dom(document).querySelector("yp-app").getDialogAsync("notificationToast",function(e){e.open(null,n,null,t,4e3,!0)}.bind(this))}document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"got-endorsements-and-qualities",data:{maxGroupId:i.id,groupCurrentVoteCount:this.groupCurrentVoteCountIndex[i.id]}}}))}):console.warn("No user or endorsements for calculateVotesLeftForGroup")},_updateEndorsementPostsIndex:function(e){if(e&&e.Endorsements&&0<e.Endorsements.length){this.endorsementPostsIndex={};for(var o=0;o<e.Endorsements.length;o++)this.endorsementPostsIndex[e.Endorsements[o].post_id]=e.Endorsements[o]}else this.endorsementPostsIndex={}},_updateRatingPostsIndex:function(e){if(e&&e.Ratings&&0<e.Ratings.length){this.ratingPostsIndex={};for(var o=0;o<e.Ratings.length;o++)this.ratingPostsIndex[e.Ratings[o].post_id]||(this.ratingPostsIndex[e.Ratings[o].post_id]={}),this.ratingPostsIndex[e.Ratings[o].post_id][e.Ratings[o].type_index]=e.Ratings[o]}else this.ratingPostsIndex={}},updateRatingForPost:function(e,o,t){this.user.Ratings||(this.user.Ratings=[]);for(var n=!1,s=0;s<this.user.Ratings.length;s++)if(this.user.Ratings[s].post_id===e&&this.user.Ratings[s].type_index===o){t?this.user.Ratings[s]=t:this.user.Ratings.splice(s,1),n=!0;break}!n&&t&&this.user.Ratings.push(t),this._updateRatingPostsIndex(this.user)},updatePointQualityForPost:function(e,o){if(this.user.PointQualities){for(var t=!1,n=0;n<this.user.PointQualities.length;n++)if(this.user.PointQualities[n].point_id===e){o?this.user.PointQualities[n]=o:this.user.PointQualities.splice(n,1),t=!0;break}t&&this._updatePointQualitiesIndex(this.user)}},_updatePointQualitiesIndex:function(e){if(e&&e.PointQualities&&0<e.PointQualities.length){this.pointQualitiesIndex={};for(var o=0;o<e.PointQualities.length;o++)this.pointQualitiesIndex[e.PointQualities[o].point_id]=e.PointQualities[o]}else this.pointQualitiesIndex={}},_onUserChanged:function(e){this.fire("user-changed",e),e&&(this._updateEndorsementPostsIndex(e),this._updatePointQualitiesIndex(e),this._updateRatingPostsIndex(e),document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"got-endorsements-and-qualities"}})))},_logoutResponse:function(){this.toastLogoutTextCombined=this.t("user.logoutCompleteFor")+" "+this.user.name,this.$.logoutToast.show(),this.fire("yp-close-right-drawer"),this.removeUserSession(),this.recheckAdminRights()},checkRegistrationAnswersCurrent:function(){this.user&&this._checkRegistrationAnswers(this.user)},setHasRegistrationAnswers:function(){this.user&&(this.user.hasRegistrationAnswers=!0)},_checkRegistrationAnswers:function(e){!e||e.notLoggedIn||!window.appGlobals.registrationQuestionsGroup||e.hasRegistrationAnswers||window.appGlobals.currentAnonymousUser||Polymer.dom(document).querySelector("yp-app").getDialogAsync("registrationQuestions",function(e){e.open(window.appGlobals.registrationQuestionsGroup)}.bind(this))},_isLoggedInResponse:function(e,o){var t=o.response;t&&!0===t.notLoggedIn?(console.info("Remove user session"),this.removeUserSession()):t&&t.name&&t.profile_data&&t.profile_data.isAnonymousUser?(console.info("Logging in anon user"),this.async(function(){console.info("Logging in anon user 2"),window.appGlobals.currentAnonymousGroup?this.setLoggedInUser(t):window.appGlobals.setAnonymousUser(t)},500)):t&&t.name&&this.setLoggedInUser(t),t&&t.missingEmail?Polymer.dom(document).querySelector("yp-app").getDialogAsync("missingEmail",function(e){e.open(t.loginProvider)}.bind(this)):t&&t.profile_data&&!1===t.profile_data.saml_show_confirm_email_completed&&Polymer.dom(document).querySelector("yp-app").getDialogAsync("missingEmail",function(e){e.open(t.loginProvider,!0,t.email)}.bind(this)),this.async(function(){this._checkRegistrationAnswers(t)},750),t&&(t.customSamlDeniedMessage?window.appGlobals.currentSamlDeniedMessage=t.customSamlDeniedMessage:window.appGlobals.currentSamlDeniedMessage=null,t.customSamlLoginMessage?window.appGlobals.currentSamlLoginMessage=t.customSamlLoginMessage:window.appGlobals.currentSamlLoginMessage=null,t.forceSecureSamlLogin?window.appGlobals.currentForceSaml=!0:window.appGlobals.currentForceSaml=!1),this.completeExternalLoginText&&(window.appGlobals.notifyUserViaToast(this.completeExternalLoginText),this._closeUserLogin(),this.set("completeExternalLoginText",null),this._checkLoginForParameters())},_adminRightsResponse:function(e,o){if(console.debug("_adminRightsResponse 1"),o.response&&0!=o.response){console.debug("_adminRightsResponse 2"),this.set("adminRights",o.response);var t=Math.floor(10*Math.random())+1;document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"got-admin-rights",data:t}})),this.async(function(){document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"got-admin-rights",data:t}}))},1e3)}else this.set("adminRights",null),document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"got-admin-rights",data:!1}}))},_updateMembershipsIndex:function(e){if(e){var o;for(this.membershipsIndex={groups:{},communities:{},domains:{}},o=0;o<e.GroupUsers.length;o++)this.membershipsIndex.groups[e.GroupUsers[o].id]=!0;for(o=0;o<e.CommunityUsers.length;o++)this.membershipsIndex.communities[e.CommunityUsers[o].id]=!0;for(o=0;o<e.DomainUsers.length;o++)this.membershipsIndex.domains[e.DomainUsers[o].id]=!0}else this.membershipsIndex={groups:{},communities:{},domains:{}}},_membershipsResponse:function(e,o){o.response&&0!=o.response?this.set("memberships",o.response):this.set("memberships",null),this._updateMembershipsIndex(this.memberships),document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"got-memberships"}}))}})</script></dom-module><script>Polymer.ypThemeBehavior={properties:{selectedTheme:{type:Number,value:!1},selectedFont:String},fonts:[{},{},{},{},{},{},{},{},{},{htmlImport:"/styles/fonts/forbrukerradet-font.html",fontName:"FFClanWebBook"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{htmlImport:"/styles/fonts/rostartup-font.html",fontName:"Montserrat"},{htmlImport:"/styles/fonts/junges-wien-font.html",fontName:"WienerMelange"},{htmlImport:"/styles/fonts/frumbjorg-font.html",fontName:"Merriweather"}],themes:[{name:"Reykjavk","--primary-background-color":"#f7f7f7","--primary-color":"#103458","--primary-color-100":"#3C6286","--primary-color-200":"#3C6286","--primary-color-300":"#234A6F","--primary-color-400":"#234A6F","--primary-color-600":"#234A6F","--primary-color-700":"#234A6F","--primary-color-800":"#103458","--primary-color-900":"#3C6286","--accent-color":"var(--paper-orange-a700)","--accent-color-100":"var(--paper-orange-a100)","--accent-color-200":"var(--paper-orange-a200)","--accent-color-300":"var(--paper-orange-a400)","--accent-color-400":"var(--paper-orange-a700)","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{name:"Basalt Gray","--primary-background-color":"#f7f7f7","--primary-color":"var(--paper-blue-grey-500)","--primary-color-100":"var(--paper-blue-grey-100)","--primary-color-200":"var(--paper-blue-grey-200)","--primary-color-300":"var(--paper-blue-grey-300)","--primary-color-400":"var(--paper-blue-grey-400)","--primary-color-600":"var(--paper-blue-grey-600)","--primary-color-700":"var(--paper-blue-grey-700)","--primary-color-800":"var(--paper-blue-grey-800)","--primary-color-900":"var(--paper-blue-grey-900)","--accent-color":"var(--paper-orange-a700)","--accent-color-100":"var(--paper-orange-a100)","--accent-color-200":"var(--paper-orange-a200)","--accent-color-300":"var(--paper-orange-a300)","--accent-color-400":"var(--paper-orange-a400)","--middle-color":"var(--paper-blue-grey-600)","--icon-general-color":"#fff",body:"var(--primary-background-color)"},{name:"Green Moss","--primary-background-color":"var(--paper-light-green-100)","--primary-color":"var(--paper-light-green-900)","--primary-color-100":"var(--paper-light-green-100)","--primary-color-200":"var(--paper-light-green-200)","--primary-color-300":"var(--paper-light-green-300)","--primary-color-400":"var(--paper-light-green-400)","--primary-color-600":"var(--paper-light-green-600)","--primary-color-700":"var(--paper-light-green-700)","--primary-color-800":"var(--paper-light-green-800)","--primary-color-900":"var(--paper-light-green-900)","--accent-color":"var(--paper-pink-a700)","--accent-color-100":"var(--paper-pink-a100)","--accent-color-200":"var(--paper-pink-a200)","--accent-color-300":"var(--paper-pink-a300)","--accent-color-400":"var(--paper-pink-a400)","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff",body:"var(--primary-background-color)"},{name:"Google Blue","--primary-background-color":"var(--paper-blue-50)","--primary-color":"var(--paper-blue-500)","--primary-color-200":"var(--paper-blue-200)","--primary-color-300":"var(--paper-blue-300)","--primary-color-400":"var(--paper-blue-400)","--primary-color-600":"var(--paper-blue-600)","--primary-color-700":"var(--paper-blue-700)","--primary-color-800":"var(--paper-blue-800)","--primary-color-900":"var(--paper-blue-900)","--accent-color":"var(--paper-deep-orange-a400)","--accent-color-100":"var(--paper-deep-orange-a100)","--accent-color-200":"var(--paper-deep-orange-a200)","--accent-color-300":"var(--paper-deep-orange-a400)","--accent-color-400":"var(--paper-deep-orange-a400)","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff",body:"var(--primary-background-color)"},{name:"Red Rhubarb","--primary-background-color":"var(--paper-light-green-50)","--primary-color":"var(--paper-red-500)","--primary-color-200":"var(--paper-red-200)","--primary-color-300":"var(--paper-red-300)","--primary-color-400":"var(--paper-red-400)","--primary-color-600":"var(--paper-red-600)","--primary-color-700":"var(--paper-red-700)","--primary-color-800":"var(--paper-red-800)","--primary-color-900":"var(--paper-red-900)","--accent-color":"var(--paper-yellow-a700)","--accent-color-100":"var(--paper-yellow-a400)","--accent-color-200":"var(--paper-yellow-a400)","--accent-color-300":"var(--paper-yellow-a400)","--accent-color-400":"var(--paper-yellow-a700)","--middle-color":"var(--primary-color-200)","--icon-general-color":"#fff",body:"var(--primary-background-color)"},{name:"Mountain Roses","--primary-background-color":"var(--paper-light-green-50)","--primary-color":"var(--paper-green-500)","--primary-color-200":"var(--paper-green-200)","--primary-color-300":"var(--paper-green-300)","--primary-color-400":"var(--paper-green-400)","--primary-color-600":"var(--paper-green-600)","--primary-color-700":"var(--paper-green-700)","--primary-color-800":"var(--paper-green-800)","--primary-color-900":"var(--paper-green-900)","--accent-color":"var(--paper-red-a700)","--accent-color-100":"var(--paper-red-a100)","--accent-color-200":"var(--paper-red-a200)","--accent-color-300":"var(--paper-red-a400)","--accent-color-400":"var(--paper-red-a700)","--middle-color":"var(--primary-background-color)","--icon-general-color":"#fff"},{name:"Purple Wizards","--primary-background-color":"var(--paper-deep-purple-50)","--primary-color":"var(--paper-deep-purple-500)","--primary-color-200":"var(--paper-deep-purple-200)","--primary-color-300":"var(--paper-deep-purple-300)","--primary-color-400":"var(--paper-deep-purple-400)","--primary-color-600":"var(--paper-deep-purple-600)","--primary-color-700":"var(--paper-deep-purple-700)","--primary-color-800":"var(--paper-deep-purple-800)","--primary-color-900":"var(--paper-deep-purple-900)","--accent-color":"var(--paper-red-a700)","--accent-color-100":"var(--paper-red-a100)","--accent-color-200":"var(--paper-red-a200)","--accent-color-300":"var(--paper-red-a400)","--accent-color-400":"var(--paper-red-a700)","--middle-color":"var(--primary-background-color)","--icon-general-color":"#fff"},{name:"Kpavogur","--primary-background-color":"#F0F0F0","--primary-color":"#00853E","--primary-color-200":"#30AD6A","--primary-color-300":"##30AD6A","--primary-color-400":"#08A651","--primary-color-600":"#006C32","--primary-color-700":"#004E24","--primary-color-800":"#004E24","--primary-color-900":"#004E24","--accent-color":"var(--paper-orange-a700)","--accent-color-100":"var(--paper-orange-a100)","--accent-color-200":"var(--paper-orange-a200)","--accent-color-300":"var(--paper-orange-a300)","--accent-color-400":"var(--paper-orange-a400)","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{name:"Forbrukerrdet","--primary-background-color":"#f5f5f5","--primary-color":"#7dbdc9","--primary-color-200":"#7dbdc9","--primary-color-300":"#7dbdc9","--primary-color-400":"#7dbdc9","--primary-color-600":"#6497a1","--primary-color-700":"#6497a1","--primary-color-800":"#4b7179","--primary-color-900":"#324c50","--accent-color":"#d0672f","--accent-color-100":"var(--paper-orange-a100)","--accent-color-200":"var(--paper-orange-a200)","--accent-color-300":"var(--paper-orange-a300)","--accent-color-400":"var(--paper-orange-a400)","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{name:"Forbrukerrdet Fonts","--primary-background-color":"#f5f5f5","--primary-color":"#7dbdc9","--primary-color-200":"#7dbdc9","--primary-color-300":"#7dbdc9","--primary-color-400":"#7dbdc9","--primary-color-600":"#6497a1","--primary-color-700":"#6497a1","--primary-color-800":"#4b7179","--primary-color-900":"#324c50","--accent-color":"#d0672f","--accent-color-100":"var(--paper-orange-a100)","--accent-color-200":"var(--paper-orange-a200)","--accent-color-300":"var(--paper-orange-a300)","--accent-color-400":"var(--paper-orange-a400)","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{name:"I choose Malta","--primary-background-color":"var(--paper-blue-grey-100)","--primary-color":"#001a4b","--primary-color-200":"#000024","--primary-color-300":"#000024","--primary-color-400":"#001a4b","--primary-color-600":"#001a4b","--primary-color-700":"#001a4b","--primary-color-800":"#001a4b","--primary-color-900":"#001a4b","--accent-color":"#d71920","--accent-color-100":"#d71920","--accent-color-200":"#d71920","--accent-color-300":"#d71920","--accent-color-400":"#d71920","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{name:"Reykjavk Blue","--primary-background-color":"#f7f7f7","--primary-color":"#084F71","--primary-color-100":"#084F71","--primary-color-200":"#084F71","--primary-color-300":"#084F71","--primary-color-400":"#084F71","--primary-color-600":"#084F71","--primary-color-700":"#084F71","--primary-color-800":"#084F71","--primary-color-900":"#084F71","--accent-color":"var(--paper-orange-a700)","--accent-color-100":"var(--paper-orange-a100)","--accent-color-200":"var(--paper-orange-a200)","--accent-color-300":"var(--paper-orange-a400)","--accent-color-400":"var(--paper-orange-a700)","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{name:"Unicorn 1","--primary-background-color":"#f7f7f7","--primary-color":"#aa3319","--primary-color-100":"#aa3319","--primary-color-200":"#aa3319","--primary-color-300":"#aa3319","--primary-color-400":"#aa3319","--primary-color-600":"#aa3319","--primary-color-700":"#aa3319","--primary-color-800":"#aa3319","--primary-color-900":"#aa3319","--accent-color":"#112e4c","--accent-color-100":"var(--paper-blue-a100)","--accent-color-200":"var(--paper-blue-a200)","--accent-color-300":"var(--paper-blue-a400)","--accent-color-400":"var(--paper-blue-a700)","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{name:"Unicorn 2","--primary-background-color":"#f7f7f7","--primary-color":"#282828","--primary-color-100":"#282828","--primary-color-200":"#282828","--primary-color-300":"#282828","--primary-color-400":"#282828","--primary-color-600":"#282828","--primary-color-700":"#282828","--primary-color-800":"#282828","--primary-color-900":"#282828","--accent-color":"#aa3319","--accent-color-100":"#aa3319","--accent-color-200":"#aa3319","--accent-color-300":"#aa3319","--accent-color-400":"#aa3319","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{name:"Mount Air","--primary-background-color":"#f7f7f7","--primary-color":"#0d3c55","--primary-color-100":"#0d3c55","--primary-color-200":"#0d3c55","--primary-color-300":"#0d3c55","--primary-color-400":"#0d3c55","--primary-color-600":"#0d3c55","--primary-color-700":"#0d3c55","--primary-color-800":"#0d3c55","--primary-color-900":"#0d3c55","--accent-color":"#f16c20","--accent-color-100":"#f16c20","--accent-color-200":"#f16c20","--accent-color-300":"#f16c20","--accent-color-400":"#f16c20","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{name:"Snjallborg","--primary-background-color":"var(--paper-blue-grey-100)","--primary-color":"#1e9ac8","--primary-color-100":"#1e9ac8","--primary-color-200":"#1e9ac8","--primary-color-300":"#1e9ac8","--primary-color-400":"#1e9ac8","--primary-color-600":"#1e9ac8","--primary-color-700":"#1e9ac8","--primary-color-800":"#1e9ac8","--primary-color-900":"#1e9ac8","--accent-color":"#ee7aa2","--accent-color-100":"#ee7aa2","--accent-color-200":"#ee7aa2","--accent-color-300":"#ee7aa2","--accent-color-400":"#ee7aa2","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{name:"Black","--primary-background-color":"#f7f7f7","--primary-color":"#282828","--primary-color-100":"#282828","--primary-color-200":"#282828","--primary-color-300":"#282828","--primary-color-400":"#282828","--primary-color-600":"#282828","--primary-color-700":"#282828","--primary-color-800":"#282828","--primary-color-900":"#282828","--accent-color":"var(--paper-orange-a700)","--accent-color-100":"var(--paper-orange-a100)","--accent-color-200":"var(--paper-orange-a200)","--accent-color-300":"var(--paper-orange-a400)","--accent-color-400":"var(--paper-orange-a700)","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{name:"Nesi Okkar","--primary-background-color":"var(--paper-blue-grey-100)","--primary-color":"#525254","--primary-color-100":"#525254","--primary-color-200":"#525254","--primary-color-300":"#525254","--primary-color-400":"#525254","--primary-color-600":"#525254","--primary-color-700":"#525254","--primary-color-800":"#525254","--primary-color-900":"#525254","--accent-color":"#e0701e","--accent-color-100":"#e0701e","--accent-color-200":"#e0701e","--accent-color-300":"#e0701e","--accent-color-400":"#e0701e","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{disabled:!0,name:"Snjallborg","--primary-background-color":"var(--paper-blue-grey-100)","--primary-color":"#1e9ac8","--primary-color-100":"#1e9ac8","--primary-color-200":"#1e9ac8","--primary-color-300":"#1e9ac8","--primary-color-400":"#1e9ac8","--primary-color-600":"#1e9ac8","--primary-color-700":"#1e9ac8","--primary-color-800":"#1e9ac8","--primary-color-900":"#1e9ac8","--accent-color":"#ee7aa2","--accent-color-100":"var(--paper-blue-a100)","--accent-color-200":"var(--paper-blue-a200)","--accent-color-300":"var(--paper-blue-a400)","--accent-color-400":"var(--paper-blue-a700)","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{disabled:!0,name:"Black","--primary-background-color":"var(--paper-blue-grey-100)","--primary-color":"#282828","--primary-color-100":"#282828","--primary-color-200":"#282828","--primary-color-300":"#282828","--primary-color-400":"#282828","--primary-color-600":"#282828","--primary-color-700":"#282828","--primary-color-800":"#282828","--primary-color-900":"#282828","--accent-color":"var(--paper-orange-a700)","--accent-color-100":"var(--paper-blue-a100)","--accent-color-200":"var(--paper-blue-a200)","--accent-color-300":"var(--paper-blue-a400)","--accent-color-400":"var(--paper-blue-a700)","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{disabled:!0,name:"Nesi Okkar","--primary-background-color":"var(--paper-blue-grey-100)","--primary-color":"#525254","--primary-color-100":"#525254","--primary-color-200":"#525254","--primary-color-300":"#525254","--primary-color-400":"#525254","--primary-color-600":"#525254","--primary-color-700":"#525254","--primary-color-800":"#525254","--primary-color-900":"#525254","--accent-color":"#e0701e","--accent-color-100":"var(--paper-blue-a100)","--accent-color-200":"var(--paper-blue-a200)","--accent-color-300":"var(--paper-blue-a400)","--accent-color-400":"var(--paper-blue-a700)","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{name:"Iceland","--primary-background-color":"var(--paper-blue-grey-100)","--primary-color":"#282828","--primary-color-100":"#282828","--primary-color-200":"#282828","--primary-color-300":"#282828","--primary-color-400":"#282828","--primary-color-600":"#282828","--primary-color-700":"#282828","--primary-color-800":"#282828","--primary-color-900":"#282828","--accent-color":"#dc1e35","--accent-color-100":"#dc1e35","--accent-color-200":"#dc1e35","--accent-color-300":"#dc1e35","--accent-color-400":"#dc1e35","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{name:"Iceland 2","--primary-background-color":"var(--paper-blue-grey-100)","--primary-color":"#02529c","--primary-color-100":"#02529c","--primary-color-200":"#02529c","--primary-color-300":"#02529c","--primary-color-400":"#02529c","--primary-color-600":"#02529c","--primary-color-700":"#02529c","--primary-color-800":"#02529c","--primary-color-900":"#02529c","--accent-color":"#dc1e35","--accent-color-100":"#dc1e35","--accent-color-200":"#dc1e35","--accent-color-300":"#dc1e35","--accent-color-400":"#dc1e35","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff"},{name:"The Westbourne","--primary-background-color":"var(--paper-light-green-50)","--primary-color":"var(--paper-red-500)","--primary-color-200":"var(--paper-red-200)","--primary-color-300":"var(--paper-red-300)","--primary-color-400":"var(--paper-red-400)","--primary-color-600":"var(--paper-red-600)","--primary-color-700":"var(--paper-red-700)","--primary-color-800":"var(--paper-red-800)","--primary-color-900":"var(--paper-red-900)","--accent-color":"#fbba00","--accent-color-100":"#fbba00","--accent-color-200":"#fbba00","--accent-color-300":"#fbba00","--accent-color-400":"#fbba00","--middle-color":"var(--primary-color-200)","--icon-general-color":"#fff",body:"var(--primary-background-color)"},{name:"Amsterdam","--primary-background-color":"var(--paper-blue-grey-100)","--primary-color":"#164995","--primary-color-200":"#164995","--primary-color-300":"#164995","--primary-color-400":"#164995","--primary-color-600":"#164995","--primary-color-700":"#164995","--primary-color-800":"#164995","--primary-color-900":"#164995","--accent-color":"#ed1b24","--accent-color-100":"#ed1b24","--accent-color-200":"#ed1b24","--accent-color-300":"#ed1b24","--accent-color-400":"#ed1b24","--middle-color":"var(--primary-color-200)","--icon-general-color":"#fff",body:"var(--primary-background-color)"},{name:"AS Roma","--primary-background-color":"#DDDBDA","--primary-color":"#970a2c","--primary-color-200":"#970a2c","--primary-color-300":"#970a2c","--primary-color-400":"#970a2c","--primary-color-600":"#970a2c","--primary-color-700":"#970a2c","--primary-color-800":"#970a2c","--primary-color-900":"#970a2c","--accent-color":"#fbba00","--accent-color-100":"#fbba00","--accent-color-200":"#fbba00","--accent-color-300":"#fbba00","--accent-color-400":"#fbba00","--middle-color":"var(--primary-color-200)","--icon-general-color":"#fff",body:"var(--primary-background-color)"},{name:"AS Roma Inverted","--primary-background-color":"#DDDBDA","--primary-color":"#970a2c","--primary-color-200":"#970a2c","--primary-color-300":"#970a2c","--primary-color-400":"#970a2c","--primary-color-600":"#970a2c","--primary-color-700":"#970a2c","--primary-color-800":"#970a2c","--primary-color-900":"#970a2c","--accent-color":"#1D1D1B","--accent-color-100":"#1D1D1B","--accent-color-200":"#1D1D1B","--accent-color-300":"#1D1D1B","--accent-color-400":"#1D1D1B","--middle-color":"var(--primary-color-200)","--icon-general-color":"#fff",body:"var(--primary-background-color)"},{name:"New Jersey","--primary-background-color":"#f7f7f7","--primary-color":"#56920C","--primary-color-200":"#56920C","--primary-color-300":"#56920C","--primary-color-400":"#56920C","--primary-color-600":"#56920C","--primary-color-700":"#56920C","--primary-color-800":"#56920C","--primary-color-900":"#56920C","--accent-color":"#1880c7","--accent-color-100":"#1880c7","--accent-color-200":"#1880c7","--accent-color-300":"#1880c7","--accent-color-400":"#1880c7","--middle-color":"var(--primary-color-200)","--icon-general-color":"#fff",body:"var(--primary-background-color)"},{name:"New Jersey Inverted","--primary-background-color":"#f7f7f7","--primary-color":"#1880c7","--primary-color-200":"#1880c7","--primary-color-300":"#1880c7","--primary-color-400":"#1880c7","--primary-color-600":"#1880c7","--primary-color-700":"#1880c7","--primary-color-800":"#1880c7","--primary-color-900":"#1880c7","--accent-color":"#56920C","--accent-color-100":"#56920C","--accent-color-200":"#56920C","--accent-color-300":"#56920C","--accent-color-400":"#56920C","--middle-color":"var(--primary-color-200)","--icon-general-color":"#fff",body:"var(--primary-background-color)"},{name:"Scottish Parliament","--primary-background-color":"#f7f7f7","--primary-color":"#500778","--primary-color-200":"#500778","--primary-color-300":"#500778","--primary-color-400":"#500778","--primary-color-600":"#500778","--primary-color-700":"#500778","--primary-color-800":"#500778","--primary-color-900":"#500778","--accent-color":"#E87722","--accent-color-100":"#E87722","--accent-color-200":"#E87722","--accent-color-300":"#E87722","--accent-color-400":"#E87722","--middle-color":"var(--primary-color-200)","--icon-general-color":"#fff",body:"var(--primary-background-color)"},{name:"RoStartup","--primary-background-color":"#F7F7F7","--primary-color":"#154164","--primary-color-200":"#154164","--primary-color-300":"#154164","--primary-color-400":"#154164","--primary-color-600":"#154164","--primary-color-700":"#154164","--primary-color-800":"#154164","--primary-color-900":"#154164","--accent-color":"#1f52a5","--accent-color-100":"#1f52a5","--accent-color-200":"#1f52a5","--accent-color-300":"#1f52a5","--accent-color-400":"#1f52a5","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff","--paper-font-common-base":"{ font-family: 'Montserrat', 'Roboto', sans-serif; }","--app-header-font-family":"Montserrat","--app-header-font-weight":"500","--app-tags-text-color":"#1f52a5","--app-tags-font-weight":"500"},{name:"wienExtra","--primary-background-color":"#F7F7F7","--primary-color":"#292929","--primary-color-200":"#292929","--primary-color-300":"#292929","--primary-color-400":"#292929","--primary-color-600":"#292929","--primary-color-700":"#292929","--primary-color-800":"#292929","--primary-color-900":"#292929","--accent-color":"#ff0000","--accent-color-100":"#ff0000","--accent-color-200":"#ff0000","--accent-color-300":"#ff0000","--accent-color-400":"#ff0000","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff","--paper-font-common-base":"{font-family: 'WienerMelange', 'Roboto', sans-serif; }","--paper-input-container-input":"{font-family: 'WienerMelange', 'Roboto', sans-serif; }","--paper-input-container-label":"{font-family: 'WienerMelange', 'Roboto', sans-serif; }","--app-header-font-family":"WienerMelange","--iron-autogrow-textarea":"{font-family: 'WienerMelange', 'Roboto', sans-serif; }","--paper-button":"{font-family: 'WienerMelange', 'Roboto', sans-serif !important; }","--paper-tabs":"{font-family: 'WienerMelange', 'Roboto', sans-serif !important; }","--app-header-font-weight":"500","--app-tags-text-color":"#292929","--app-tags-font-weight":"500"},{name:"Frumbjrg","--primary-background-color":"#fefefe","--primary-color":"#17263e","--primary-color-200":"#17263e","--primary-color-300":"#17263e","--primary-color-400":"#17263e","--primary-color-600":"#17263e","--primary-color-700":"#17263e","--primary-color-800":"#17263e","--primary-color-900":"#17263e","--accent-color":"#d04c3c","--accent-color-100":"#d04c3c","--accent-color-200":"#d04c3c","--accent-color-300":"#d04c3c","--accent-color-400":"#d04c3c","--middle-color":"var(--primary-color-400)","--icon-general-color":"#fff","--paper-font-common-base":"{ font-family: 'Merriweather', serif; }","--app-header-font-family":"Merriweather","--app-header-font-weight":"500","--app-tags-text-color":"#17263e","--app-tags-font-weight":"500"}],_setupOverrideTheme:function(r,o,a){return{name:"Override theme","--primary-background-color":a=a||"var(--paper-blue-grey-100)","--primary-color":r,"--primary-color-200":r,"--primary-color-300":r,"--primary-color-400":r,"--primary-color-600":r,"--primary-color-700":r,"--primary-color-800":r,"--primary-color-900":r,"--accent-color":o,"--accent-color-100":o,"--accent-color-200":o,"--accent-color-300":o,"--accent-color-400":o,"--middle-color":"var(--primary-color-200)","--icon-general-color":"#fff",body:a}},_updateTheme:function(r,o){var a={};if(this.themes[r]&&null==this.themes[r]["--app-header-font-family"]&&(a={"--paper-font-common-base":"{font-family: 'Roboto', sans-serif; }","--paper-input-container-input":"{font-family: 'Roboto', sans-serif; }","--paper-input-container-label":"{font-family: 'Roboto', sans-serif; }","--app-header-font-family":"Roboto","--iron-autogrow-textarea":"{font-family: 'Roboto', sans-serif; }","--paper-button":"{font-family: 'Roboto', sans-serif !important; }","--paper-tabs":"{font-family: 'Roboto', sans-serif !important; }","--app-header-font-weight":null}),this.themes[r]&&(this.themes[r].originalName=this.themes[r].name),o&&o.themeOverrideColorPrimary&&5<o.themeOverrideColorPrimary.length&&o.themeOverrideColorAccent&&5<o.themeOverrideColorAccent.length)if(6===o.themeOverrideColorPrimary.length&&(o.themeOverrideColorPrimary="#"+o.themeOverrideColorPrimary),6===o.themeOverrideColorAccent.length&&(o.themeOverrideColorAccent="#"+o.themeOverrideColorAccent),o.themeOverrideBackgroundColor&&6===o.themeOverrideBackgroundColor.length&&(o.themeOverrideBackgroundColor="#"+o.themeOverrideBackgroundColor),this.themes[r]){var c=this._setupOverrideTheme(o.themeOverrideColorPrimary,o.themeOverrideColorAccent,o.themeOverrideBackgroundColor),e=JSON.parse(JSON.stringify(this.themes[r]));Polymer.updateStyles(__.merge(__.merge(e,a),c))}else Polymer.updateStyles(this._setupOverrideTheme(o.themeOverrideColorPrimary,o.themeOverrideColorAccent,o.themeOverrideBackgroundColor));else if(this.themes[r]){e=JSON.parse(JSON.stringify(this.themes[r]));Polymer.updateStyles(__.merge(e,a))}this.themes[r]&&this.themes[r]["--app-header-font-family"]?window.app.style.setProperty("--app-header-font-family",this.themes[r]["--app-header-font-family"]):window.app.style.setProperty("--app-header-font-family","Roboto")},setTheme:function(o,a){this._updateTheme(o,a);var r="/styles/fonts/default-font.html";if(this.selectedFont||(window.lastLoadedFont=this.selectedFont=r),this.fonts[o]){var c=this.fonts[o].htmlImport;if(this.fonts[o].htmlImport||(c=r),window.lastLoadedFont!=c){var e=Math.floor(1e8*Math.random()+1);this.importHref(c+"?random="+e,function(r){this.async(function(){window.lastLoadedFont=c,this.async(function(){this._updateTheme(o,a)},50),console.log("I have loaded font")})},function(r){console.error("Could not load font file "+this.fonts[o])},!0)}else console.log("Not loading the same font "+window.lastLoadedFont)}!this.themes[o]||"wienExtra"!==this.themes[o].originalName&&"RoStartup"!==this.themes[o].originalName&&"Frumbjrg"!==this.themes[o].originalName?this.themes[o]&&(window.appGlobals.largeFont=!1):window.appGlobals.largeFont=!0}}</script><script>Polymer.ypTranslatedPagesBehavior={properties:{pages:{type:Array},translatedPages:{type:Array,computed:"_translatedPages(pages, language)"}},_translatedPages:function(e){return e?JSON.parse(JSON.stringify(e)):[]},openPageFromId:function(t){this.pages?this.pages.forEach(function(e){e.id==t&&this._openPage(e)}.bind(this)):console.warn("Trying to open a page when not loaded")},openUserInfoPage:function(e){this.pages&&0<this.pages.length?this._openPage(this.pages[e]):this.async(function(){this.pages&&0<this.pages.length?this._openPage(this.pages[e]):this.async(function(){this.pages&&0<this.pages.length?this._openPage(this.pages[e]):this.async(function(){this.pages&&0<this.pages.length&&this._openPage(this.pages[e])},1500)},1e3)},1500)},_openPageFromMenu:function(e){var t=JSON.parse(e.currentTarget.getAttribute("data-args")),a=this.pages[t];this._openPage(a),this.$$("paper-listbox").select(null)},_openPage:function(a){window.appGlobals.activity("open","pages",a.id),this.getDialogAsync("pageDialog",function(e){var t=this._getPageLocale(a);e.open(a.title[t],a.content[t])}.bind(this))},_getPageLocale:function(e){var t="en";if(e.title[window.locale])t=window.locale;else if(e.title.en)t="en";else{var a=Object.keys(e.title)[0];a&&(t=a)}return t},_getLocalizePageTitle:function(e){var t=this._getPageLocale(e);return e.title[t]},_setPages:function(e,t){this.set("pages",t)}}</script><dom-module id="iron-list"assetpath="../../bower_components/iron-list/"><template><style>:host{display:block;}@media only screen and (-webkit-max-device-pixel-ratio: 1){:host{will-change:transform;}}#items{@apply --iron-list-items-container;position:relative;}:host(:not([grid])) #items > ::slotted(*){width:100%;}#items > ::slotted(*){box-sizing:border-box;margin:0;position:absolute;top:0;will-change:transform;}</style><array-selector id="selector"items="{{items}}"selected="{{selectedItems}}"selected-item="{{selectedItem}}"></array-selector><div id="items"><slot></slot></div></template></dom-module><script>!function(){var t=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),e=t&&8<=t[1],h="-10000px",o=-100,a=null!=Polymer.flush,s=a?Polymer.Async.animationFrame:0,n=a?Polymer.Async.idlePeriod:1,c=a?Polymer.Async.microTask:2;Polymer.OptionalMutableDataBehavior||(Polymer.OptionalMutableDataBehavior={}),Polymer({is:"iron-list",properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},selectedAs:{type:String,value:"selected"},grid:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_gridChanged"},selectionEnabled:{type:Boolean,value:!1},selectedItem:{type:Object,notify:!0},selectedItems:{type:Object,notify:!0},multiSelection:{type:Boolean,value:!1},scrollOffset:{type:Number,value:0}},observers:["_itemsChanged(items.*)","_selectionEnabledChanged(selectionEnabled)","_multiSelectionChanged(multiSelection)","_setOverflow(scrollTarget, scrollOffset)"],behaviors:[Polymer.Templatizer,Polymer.IronResizableBehavior,Polymer.IronScrollTargetBehavior,Polymer.OptionalMutableDataBehavior],_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_collection:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedItem:null,_focusedVirtualIndex:-1,_focusedPhysicalIndex:-1,_offscreenFocusedItem:null,_focusBackfillItem:null,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,_templateCost:0,_parentModel:!0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){return(this.grid?this._physicalRows*this._rowHeight:this._physicalSize)-this._viewportHeight},get _itemsParent(){return Polymer.dom(Polymer.dom(this._userTemplate).parentNode)},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){var t=this._convertIndexToCompleteRow(this._virtualCount);return Math.max(0,t-this._physicalCount)},set _virtualStart(t){t=this._clamp(t,0,this._maxVirtualStart),this.grid&&(t-=t%this._itemsPerRow),this._virtualStartVal=t},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(t){(t%=this._physicalCount)<0&&(t=this._physicalCount+t),this.grid&&(t-=t%this._itemsPerRow),this._physicalStartVal=t},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},set _physicalCount(t){this._physicalCountVal=t},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return 0===this._viewportHeight?1/0:this._viewportHeight*this._maxPages},get _isVisible(){return!(!this.offsetWidth&&!this.offsetHeight)},get firstVisibleIndex(){var t=this._firstVisibleIndexVal;if(null==t){var e=this._physicalTop+this._scrollOffset;t=this._iterateItems(function(t,i){return(e+=this._getPhysicalSizeIncrement(t))>this._scrollPosition?this.grid?i-i%this._itemsPerRow:i:this.grid&&this._virtualCount-1===i?i-i%this._itemsPerRow:void 0})||0,this._firstVisibleIndexVal=t}return t},get lastVisibleIndex(){var e=this._lastVisibleIndexVal;if(null==e){if(this.grid)e=Math.min(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1);else{var s=this._physicalTop+this._scrollOffset;this._iterateItems(function(t,i){s<this._scrollBottom&&(e=i),s+=this._getPhysicalSizeIncrement(t)})}this._lastVisibleIndexVal=e}return e},get _defaultScrollTarget(){return this},get _virtualRowCount(){return Math.ceil(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return Math.ceil(this._viewportHeight/this._rowHeight)},get _physicalRows(){return Math.ceil(this._physicalCount/this._itemsPerRow)},get _scrollOffset(){return this._scrollerPaddingTop+this.scrollOffset},ready:function(){this.addEventListener("focus",this._didFocus.bind(this),!0)},attached:function(){this._debounce("_render",this._render,s),this.listen(this,"iron-resize","_resizeHandler"),this.listen(this,"keydown","_keydownHandler")},detached:function(){this.unlisten(this,"iron-resize","_resizeHandler"),this.unlisten(this,"keydown","_keydownHandler")},_setOverflow:function(t){this.style.webkitOverflowScrolling=t===this?"touch":"",this.style.overflowY=t===this?"auto":"",this._lastVisibleIndexVal=null,this._firstVisibleIndexVal=null,this._debounce("_render",this._render,s)},updateViewportBoundaries:function(){var t=window.getComputedStyle(this);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(t["padding-top"],10),this._isRTL=!("rtl"!==t.direction),this._viewportWidth=this.$.items.offsetWidth,this._viewportHeight=this._scrollTargetHeight,this.grid&&this._updateGridMetrics()},_scrollHandler:function(){var t=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),i=t-this._scrollPosition,e=0<=i;if(this._scrollPosition=t,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,Math.abs(i)>this._physicalSize&&0<this._physicalSize){i-=this._scrollOffset;var s=Math.round(i/this._physicalAverage)*this._itemsPerRow;this._virtualStart=this._virtualStart+s,this._physicalStart=this._physicalStart+s,this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage,this._update()}else if(0<this._physicalCount){var h=this._getReusables(e);e?(this._physicalTop=h.physicalTop,this._virtualStart=this._virtualStart+h.indexes.length,this._physicalStart=this._physicalStart+h.indexes.length):(this._virtualStart=this._virtualStart-h.indexes.length,this._physicalStart=this._physicalStart-h.indexes.length),this._update(h.indexes,e?null:h.indexes),this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),c)}},_getReusables:function(t){var i,e,s,h=[],l=this._hiddenContentSize*this._ratio,r=this._virtualStart,o=this._virtualEnd,n=this._physicalCount,a=this._physicalTop+this._scrollOffset,c=this._physicalBottom+this._scrollOffset,_=this._scrollTop,u=this._scrollBottom;for(e=t?(i=this._physicalStart,this._physicalEnd,_-a):(i=this._physicalEnd,this._physicalStart,c-u);e-=s=this._getPhysicalSizeIncrement(i),!(h.length>=n||e<=l);)if(t){if(o+h.length+1>=this._virtualCount)break;if(a+s>=_-this._scrollOffset)break;h.push(i),a+=s,i=(i+1)%n}else{if(r-h.length<=0)break;if(a+this._physicalSize-s<=u)break;h.push(i),a-=s,i=0===i?n-1:i-1}return{indexes:h,physicalTop:a-this._scrollOffset}},_update:function(t,i){if(!(t&&0===t.length||0===this._physicalCount)){if(this._manageFocus(),this._assignModels(t),this._updateMetrics(t),i)for(;i.length;){var e=i.pop();this._physicalTop-=this._getPhysicalSizeIncrement(e)}this._positionItems(),this._updateScrollerSize()}},_createPool:function(t){this._ensureTemplatized();var i,e,s=Array(t);for(i=0;i<t;i++)e=this.stamp(null),s[i]=e.root.querySelector("*"),this._itemsParent.appendChild(e.root);return s},_isClientFull:function(){return 0!=this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function(t){var i=this._clamp(this._physicalCount+t,3,this._virtualCount-this._virtualStart);if(i=this._convertIndexToCompleteRow(i),this.grid){var e=i%this._itemsPerRow;e&&i-e<=this._physicalCount&&(i+=this._itemsPerRow),i-=e}var s=i-this._physicalCount,h=Math.round(.5*this._physicalCount);if(!(s<0)){if(0<s){var l=window.performance.now();[].push.apply(this._physicalItems,this._createPool(s));for(var r=0;r<s;r++)this._physicalSizes.push(0);this._physicalCount=this._physicalCount+s,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart=this._physicalStart+s),this._update(),this._templateCost=(window.performance.now()-l)/s,h=Math.round(.5*this._physicalCount)}this._virtualEnd>=this._virtualCount-1||0===h||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,h)),n):this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,h),c))}},_render:function(){if(this.isAttached&&this._isVisible)if(0!==this._physicalCount){var t=this._getReusables(!0);this._physicalTop=t.physicalTop,this._virtualStart=this._virtualStart+t.indexes.length,this._physicalStart=this._physicalStart+t.indexes.length,this._update(t.indexes),this._update(),this._increasePoolIfNeeded(0)}else 0<this._virtualCount&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(3))},_ensureTemplatized:function(){if(!this.ctor){this._userTemplate=this.queryEffectiveChildren("template"),this._userTemplate||console.warn("iron-list requires a template to be provided in light-dom");var t={__key__:!0};t[this.as]=!0,t[this.indexAs]=!0,t[this.selectedAs]=!0,t.tabIndex=!0,this._instanceProps=t,this.templatize(this._userTemplate,this.mutableData)}},_gridChanged:function(t,i){void 0!==i&&(this.notifyResize(),Polymer.flush?Polymer.flush():Polymer.dom.flush(),t&&this._updateGridMetrics())},_itemsChanged:function(t){if("items"===t.path)this._virtualStart=0,this._physicalTop=0,this._virtualCount=this.items?this.items.length:0,this._collection=this.items&&Polymer.Collection?Polymer.Collection.get(this.items):null,this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._scrollTop,this._scrollOffset,this._removeFocusedItem(),this._debounce("_render",this._render,s);else if("items.splices"===t.path){if(this._adjustVirtualIndex(t.value.indexSplices),this._virtualCount=this.items?this.items.length:0,t.value.indexSplices.some(function(t){return 0<t.addedCount||0<t.removed.length})){var i=this._getActiveElement();this.contains(i)&&i.blur()}var e=t.value.indexSplices.some(function(t){return t.index+t.addedCount>=this._virtualStart&&t.index<=this._virtualEnd},this);this._isClientFull()&&!e||this._debounce("_render",this._render,s)}else"items.length"!==t.path&&this._forwardItemPath(t.path,t.value)},_forwardItemPath:function(t,i){var e=(t=t.slice(6)).indexOf(".");-1===e&&(e=t.length);var s,h,l,r=this.modelForElement(this._offscreenFocusedItem);if(a){var o=parseInt(t.substring(0,e),10);if((s=this._isIndexRendered(o))?(h=this._getPhysicalIndex(o),l=this.modelForElement(this._physicalItems[h])):r&&(l=r),!l||l[this.indexAs]!==o)return}else{var n=t.substring(0,e);if(r&&r.__key__===n)l=r;else if(h=this._physicalIndexForKey[n],!(l=this.modelForElement(this._physicalItems[h]))||l.__key__!==n)return}t=t.substring(e+1),t=this.as+(t?"."+t:""),a?l._setPendingPropertyOrPath(t,i,!1,!0):l.notifyPath(t,i,!0),l._flushProperties&&l._flushProperties(!0),s&&(this._updateMetrics([h]),this._positionItems(),this._updateScrollerSize())},_adjustVirtualIndex:function(t){t.forEach(function(t){if(t.removed.forEach(this._removeItem,this),t.index<this._virtualStart){var i=Math.max(t.addedCount-t.removed.length,t.index-this._virtualStart);this._virtualStart=this._virtualStart+i,0<=this._focusedVirtualIndex&&(this._focusedVirtualIndex=this._focusedVirtualIndex+i)}},this)},_removeItem:function(t){this.$.selector.deselect(t),this._focusedItem&&this.modelForElement(this._focusedItem)[this.as]===t&&this._removeFocusedItem()},_iterateItems:function(t,i){var e,s,h,l;if(2===arguments.length&&i){for(l=0;l<i.length;l++)if(e=i[l],s=this._computeVidx(e),null!=(h=t.call(this,e,s)))return h}else{for(e=this._physicalStart,s=this._virtualStart;e<this._physicalCount;e++,s++)if(null!=(h=t.call(this,e,s)))return h;for(e=0;e<this._physicalStart;e++,s++)if(null!=(h=t.call(this,e,s)))return h}},_computeVidx:function(t){return t>=this._physicalStart?this._virtualStart+(t-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+t},_assignModels:function(t){this._iterateItems(function(t,i){var e=this._physicalItems[t],s=this.items&&this.items[i];if(null!=s){var h=this.modelForElement(e);h.__key__=this._collection?this._collection.getKey(s):null,this._forwardProperty(h,this.as,s),this._forwardProperty(h,this.selectedAs,this.$.selector.isSelected(s)),this._forwardProperty(h,this.indexAs,i),this._forwardProperty(h,"tabIndex",this._focusedVirtualIndex===i?0:-1),this._physicalIndexForKey[h.__key__]=t,h._flushProperties&&h._flushProperties(!0),e.removeAttribute("hidden")}else e.setAttribute("hidden","")},t)},_updateMetrics:function(t){Polymer.flush?Polymer.flush():Polymer.dom.flush();var e=0,s=0,i=this._physicalAverageCount,h=this._physicalAverage;this._iterateItems(function(t,i){s+=this._physicalSizes[t],this._physicalSizes[t]=this._physicalItems[t].offsetHeight,e+=this._physicalSizes[t],this._physicalAverageCount+=this._physicalSizes[t]?1:0},t),this.grid?(this._updateGridMetrics(),this._physicalSize=Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight):(s=1===this._itemsPerRow?s:Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight,this._physicalSize=this._physicalSize+e-s,this._itemsPerRow=1),this._physicalAverageCount!==i&&(this._physicalAverage=Math.round((h*i+e)/this._physicalAverageCount))},_updateGridMetrics:function(){this._itemWidth=0<this._physicalCount?this._physicalItems[0].getBoundingClientRect().width:200,this._rowHeight=0<this._physicalCount?this._physicalItems[0].offsetHeight:200,this._itemsPerRow=this._itemWidth?Math.floor(this._viewportWidth/this._itemWidth):this._itemsPerRow},_positionItems:function(){this._adjustScrollPosition();var h=this._physicalTop;if(this.grid){var t=this._itemsPerRow*this._itemWidth,l=(this._viewportWidth-t)/2;this._iterateItems(function(t,i){var e=i%this._itemsPerRow,s=Math.floor(e*this._itemWidth+l);this._isRTL&&(s*=-1),this.translate3d(s+"px",h+"px",0,this._physicalItems[t]),this._shouldRenderNextRow(i)&&(h+=this._rowHeight)})}else this._iterateItems(function(t,i){this.translate3d(0,h+"px",0,this._physicalItems[t]),h+=this._physicalSizes[t]})},_getPhysicalSizeIncrement:function(t){return this.grid?this._computeVidx(t)%this._itemsPerRow!=this._itemsPerRow-1?0:this._rowHeight:this._physicalSizes[t]},_shouldRenderNextRow:function(t){return t%this._itemsPerRow==this._itemsPerRow-1},_adjustScrollPosition:function(){var t=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(0!==t){this._physicalTop=this._physicalTop-t;var i=this._scrollTop;!e&&0<i&&this._resetScrollPosition(i-t)}},_resetScrollPosition:function(t){this.scrollTarget&&0<=t&&(this._scrollTop=t,this._scrollPosition=this._scrollTop)},_updateScrollerSize:function(t){this.grid?this._estScrollHeight=this._virtualRowCount*this._rowHeight:this._estScrollHeight=this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage,((t=(t=(t=t||0===this._scrollHeight)||this._scrollPosition>=this._estScrollHeight-this._physicalSize)||this.grid&&this.$.items.style.height<this._estScrollHeight)||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight)&&(this.$.items.style.height=this._estScrollHeight+"px",this._scrollHeight=this._estScrollHeight)},scrollToItem:function(t){return this.scrollToIndex(this.items.indexOf(t))},scrollToIndex:function(t){if(!("number"!=typeof t||t<0||t>this.items.length-1)&&(Polymer.flush?Polymer.flush():Polymer.dom.flush(),0!==this._physicalCount)){t=this._clamp(t,0,this._virtualCount-1),(!this._isIndexRendered(t)||t>=this._maxVirtualStart)&&(this._virtualStart=this.grid?t-2*this._itemsPerRow:t-1),this._manageFocus(),this._assignModels(),this._updateMetrics(),this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;for(var i=this._physicalStart,e=this._virtualStart,s=0,h=this._hiddenContentSize;e<t&&s<=h;)s+=this._getPhysicalSizeIncrement(i),i=(i+1)%this._physicalCount,e++;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollOffset+s),this._increasePoolIfNeeded(0),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null}},_resetAverage:function(){this._physicalAverage=0,this._physicalAverageCount=0},_resizeHandler:function(){this._debounce("_render",function(){this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null;Math.abs(this._viewportHeight-this._scrollTargetHeight);this.updateViewportBoundaries(),this._isVisible?(this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1)},s)},selectItem:function(t){return this.selectIndex(this.items.indexOf(t))},selectIndex:function(t){if(!(t<0||t>=this._virtualCount)){if(!this.multiSelection&&this.selectedItem&&this.clearSelection(),this._isIndexRendered(t)){var i=this.modelForElement(this._physicalItems[this._getPhysicalIndex(t)]);i&&(i[this.selectedAs]=!0),this.updateSizeForIndex(t)}this.$.selector.selectIndex?this.$.selector.selectIndex(t):this.$.selector.select(this.items[t])}},deselectItem:function(t){return this.deselectIndex(this.items.indexOf(t))},deselectIndex:function(t){if(!(t<0||t>=this._virtualCount)){if(this._isIndexRendered(t))this.modelForElement(this._physicalItems[this._getPhysicalIndex(t)])[this.selectedAs]=!1,this.updateSizeForIndex(t);this.$.selector.deselectIndex?this.$.selector.deselectIndex(t):this.$.selector.deselect(this.items[t])}},toggleSelectionForItem:function(t){return this.toggleSelectionForIndex(this.items.indexOf(t))},toggleSelectionForIndex:function(t){(this.$.selector.isIndexSelected?this.$.selector.isIndexSelected(t):this.$.selector.isSelected(this.items[t]))?this.deselectIndex(t):this.selectIndex(t)},clearSelection:function(){this._iterateItems(function(t,i){this.modelForElement(this._physicalItems[t])[this.selectedAs]=!1}),this.$.selector.clearSelection()},_selectionEnabledChanged:function(t){(t?this.listen:this.unlisten).call(this,this,"tap","_selectionHandler")},_selectionHandler:function(t){var i=this.modelForElement(t.target);if(i){var e,s,h=Polymer.dom(t).path[0],l=this._getActiveElement(),r=this._physicalItems[this._getPhysicalIndex(i[this.indexAs])];"input"!==h.localName&&"button"!==h.localName&&"select"!==h.localName&&(e=i.tabIndex,i.tabIndex=o,s=l?l.tabIndex:-1,i.tabIndex=e,l&&r!==l&&r.contains(l)&&s!==o||this.toggleSelectionForItem(i[this.as]))}},_multiSelectionChanged:function(t){this.clearSelection(),this.$.selector.multi=t},updateSizeForItem:function(t){return this.updateSizeForIndex(this.items.indexOf(t))},updateSizeForIndex:function(t){return this._isIndexRendered(t)&&(this._updateMetrics([this._getPhysicalIndex(t)]),this._positionItems()),null},_manageFocus:function(){var t=this._focusedVirtualIndex;0<=t&&t<this._virtualCount?this._isIndexRendered(t)?this._restoreFocusedItem():this._createFocusBackfillItem():0<this._virtualCount&&0<this._physicalCount&&(this._focusedPhysicalIndex=this._physicalStart,this._focusedVirtualIndex=this._virtualStart,this._focusedItem=this._physicalItems[this._physicalStart])},_convertIndexToCompleteRow:function(t){return this._itemsPerRow=this._itemsPerRow||1,this.grid?Math.ceil(t/this._itemsPerRow)*this._itemsPerRow:t},_isIndexRendered:function(t){return t>=this._virtualStart&&t<=this._virtualEnd},_isIndexVisible:function(t){return t>=this.firstVisibleIndex&&t<=this.lastVisibleIndex},_getPhysicalIndex:function(t){return a?(this._physicalStart+(t-this._virtualStart))%this._physicalCount:this._physicalIndexForKey[this._collection.getKey(this.items[t])]},focusItem:function(t){this._focusPhysicalItem(t)},_focusPhysicalItem:function(t){if(!(t<0||t>=this._virtualCount)){this._restoreFocusedItem(),this._isIndexRendered(t)||this.scrollToIndex(t);var i,e=this._physicalItems[this._getPhysicalIndex(t)],s=this.modelForElement(e);s.tabIndex=o,e.tabIndex===o&&(i=e),i=i||Polymer.dom(e).querySelector('[tabindex="-100"]'),s.tabIndex=0,this._focusedVirtualIndex=t,i&&i.focus()}},_removeFocusedItem:function(){this._offscreenFocusedItem&&this._itemsParent.removeChild(this._offscreenFocusedItem),this._offscreenFocusedItem=null,this._focusBackfillItem=null,this._focusedItem=null,this._focusedVirtualIndex=-1,this._focusedPhysicalIndex=-1},_createFocusBackfillItem:function(){var t=this._focusedPhysicalIndex;if(!(this._offscreenFocusedItem||this._focusedVirtualIndex<0)){if(!this._focusBackfillItem){var i=this.stamp(null);this._focusBackfillItem=i.root.querySelector("*"),this._itemsParent.appendChild(i.root)}this._offscreenFocusedItem=this._physicalItems[t],this.modelForElement(this._offscreenFocusedItem).tabIndex=0,this._physicalItems[t]=this._focusBackfillItem,this._focusedPhysicalIndex=t,this.translate3d(0,h,0,this._offscreenFocusedItem)}},_restoreFocusedItem:function(){if(this._offscreenFocusedItem&&!(this._focusedVirtualIndex<0)){this._assignModels();var t=this._focusedPhysicalIndex=this._getPhysicalIndex(this._focusedVirtualIndex),i=this._physicalItems[t];if(i){var e=this.modelForElement(i),s=this.modelForElement(this._offscreenFocusedItem);e[this.as]===s[this.as]?(this._focusBackfillItem=i,e.tabIndex=-1,this._physicalItems[t]=this._offscreenFocusedItem,this.translate3d(0,h,0,this._focusBackfillItem)):(this._removeFocusedItem(),this._focusBackfillItem=null),this._offscreenFocusedItem=null}}},_didFocus:function(t){var i=this.modelForElement(t.target),e=this.modelForElement(this._focusedItem),s=null!==this._offscreenFocusedItem,h=this._focusedVirtualIndex;i&&(e===i?this._isIndexVisible(h)||this.scrollToIndex(h):(this._restoreFocusedItem(),e&&(e.tabIndex=-1),i.tabIndex=0,h=i[this.indexAs],this._focusedVirtualIndex=h,this._focusedPhysicalIndex=this._getPhysicalIndex(h),this._focusedItem=this._physicalItems[this._focusedPhysicalIndex],s&&!this._offscreenFocusedItem&&this._update()))},_keydownHandler:function(t){switch(t.keyCode){case 40:this._focusedVirtualIndex<this._virtualCount-1&&t.preventDefault(),this._focusPhysicalItem(this._focusedVirtualIndex+(this.grid?this._itemsPerRow:1));break;case 39:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?-1:1));break;case 38:0<this._focusedVirtualIndex&&t.preventDefault(),this._focusPhysicalItem(this._focusedVirtualIndex-(this.grid?this._itemsPerRow:1));break;case 37:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?1:-1));break;case 13:this._focusPhysicalItem(this._focusedVirtualIndex),this.selectionEnabled&&this._selectionHandler(t)}},_clamp:function(t,i,e){return Math.min(e,Math.max(i,t))},_debounce:function(t,i,e){a?(this._debouncers=this._debouncers||{},this._debouncers[t]=Polymer.Debouncer.debounce(this._debouncers[t],e,i.bind(this)),Polymer.enqueueDebouncer(this._debouncers[t])):Polymer.dom.addDebouncer(this.debounce(t,i))},_forwardProperty:function(t,i,e){a?t._setPendingProperty(i,e):t[i]=e},_forwardHostPropV2:function(i,e){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(t){t&&this.modelForElement(t).forwardHostProp(i,e)},this)},_notifyInstancePropV2:function(t,i,e){if(Polymer.Path.matches(this.as,i)){var s=t[this.indexAs];i==this.as&&(this.items[s]=e),this.notifyPath(Polymer.Path.translate(this.as,"items."+s,i),e)}},_getStampedChildren:function(){return this._physicalItems},_forwardInstancePath:function(t,i,e){0===i.indexOf(this.as+".")&&this.notifyPath("items."+t.__key__+"."+i.slice(this.as.length+1),e)},_forwardParentPath:function(i,e){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(t){t&&this.modelForElement(t).notifyPath(i,e,!0)},this)},_forwardParentProp:function(i,e){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach(function(t){t&&(this.modelForElement(t)[i]=e)},this)},_getActiveElement:function(){var t=this._itemsParent.node.domHost;return Polymer.dom(t?t.root:document).activeElement}})}()</script><dom-module id="iron-scroll-threshold"assetpath="../../bower_components/iron-scroll-threshold/"><template><style>:host{display:block;}</style><slot></slot></template></dom-module><script>Polymer({is:"iron-scroll-threshold",properties:{upperThreshold:{type:Number,value:100},lowerThreshold:{type:Number,value:100},upperTriggered:{type:Boolean,value:!1,notify:!0,readOnly:!0},lowerTriggered:{type:Boolean,value:!1,notify:!0,readOnly:!0},horizontal:{type:Boolean,value:!1}},behaviors:[Polymer.IronScrollTargetBehavior],observers:["_setOverflow(scrollTarget)","_initCheck(horizontal, isAttached)"],get _defaultScrollTarget(){return this},_setOverflow:function(e){this.style.overflow=e===this?"auto":"",this.style.webkitOverflowScrolling=e===this?"touch":""},_scrollHandler:function(){this.isDebouncerActive("_checkTheshold")||this.debounce("_checkTheshold",function(){this.checkScrollThresholds()},200)},_initCheck:function(e,r){r&&this.debounce("_init",function(){this.clearTriggers(),this.checkScrollThresholds()})},checkScrollThresholds:function(){if(!(!this.scrollTarget||this.lowerTriggered&&this.upperTriggered)){var e=this.horizontal?this._scrollLeft:this._scrollTop,r=this.horizontal?this.scrollTarget.scrollWidth-this._scrollTargetWidth-this._scrollLeft:this.scrollTarget.scrollHeight-this._scrollTargetHeight-this._scrollTop;e<=this.upperThreshold&&!this.upperTriggered&&(this._setUpperTriggered(!0),this.fire("upper-threshold")),r<=this.lowerThreshold&&!this.lowerTriggered&&(this._setLowerTriggered(!0),this.fire("lower-threshold"))}},checkScrollThesholds:function(){this.checkScrollThresholds()},clearTriggers:function(){this._setUpperTriggered(!1),this._setLowerTriggered(!1)}})</script><script>Polymer.PaperButtonBehaviorImpl={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var e=1;this.disabled?e=0:this.active||this.pressed?e=4:this.receivedFocusFromKeyboard&&(e=3),this._setElevation(e)},_computeKeyboardClass:function(e){this.toggleClass("keyboard-focus",e)},_spaceKeyDownHandler:function(e){Polymer.IronButtonStateImpl._spaceKeyDownHandler.call(this,e),this.hasRipple()&&this.getRipple().ripples.length<1&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(e){Polymer.IronButtonStateImpl._spaceKeyUpHandler.call(this,e),this.hasRipple()&&this._ripple.uiUpAction()}},Polymer.PaperButtonBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperRippleBehavior,Polymer.PaperButtonBehaviorImpl]</script><dom-module id="paper-material-styles"assetpath="../../bower_components/paper-styles/element-styles/"><template><style>:host, html{--paper-material:{display:block;position:relative;};--paper-material-elevation-1:{@apply --shadow-elevation-2dp;};--paper-material-elevation-2:{@apply --shadow-elevation-4dp;};--paper-material-elevation-3:{@apply --shadow-elevation-6dp;};--paper-material-elevation-4:{@apply --shadow-elevation-8dp;};--paper-material-elevation-5:{@apply --shadow-elevation-16dp;};}:host(.paper-material), .paper-material{@apply --paper-material;}:host(.paper-material[elevation="1"]), .paper-material[elevation="1"]{@apply --paper-material-elevation-1;}:host(.paper-material[elevation="2"]), .paper-material[elevation="2"]{@apply --paper-material-elevation-2;}:host(.paper-material[elevation="3"]), .paper-material[elevation="3"]{@apply --paper-material-elevation-3;}:host(.paper-material[elevation="4"]), .paper-material[elevation="4"]{@apply --paper-material-elevation-4;}:host(.paper-material[elevation="5"]), .paper-material[elevation="5"]{@apply --paper-material-elevation-5;}</style></template></dom-module><dom-module id="paper-button"assetpath="../../bower_components/paper-button/"><template strip-whitespace=""><style include="paper-material-styles">:host{@apply --layout-inline;@apply --layout-center-center;position:relative;box-sizing:border-box;min-width:5.14em;margin:0 0.29em;background:transparent;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;font:inherit;text-transform:uppercase;outline-width:0;border-radius:3px;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;cursor:pointer;z-index:0;padding:0.7em 0.57em;@apply --paper-font-common-base;@apply --paper-button;}:host([elevation="1"]){@apply --paper-material-elevation-1;}:host([elevation="2"]){@apply --paper-material-elevation-2;}:host([elevation="3"]){@apply --paper-material-elevation-3;}:host([elevation="4"]){@apply --paper-material-elevation-4;}:host([elevation="5"]){@apply --paper-material-elevation-5;}:host([hidden]){display:none !important;}:host([raised].keyboard-focus){font-weight:bold;@apply --paper-button-raised-keyboard-focus;}:host(:not([raised]).keyboard-focus){font-weight:bold;@apply --paper-button-flat-keyboard-focus;}:host([disabled]){background:none;color:#a8a8a8;cursor:auto;pointer-events:none;@apply --paper-button-disabled;}:host([disabled][raised]){background:#eaeaea;}:host([animated]){@apply --shadow-transition;}paper-ripple{color:var(--paper-button-ink-color);}</style><slot></slot></template><script>Polymer({is:"paper-button",behaviors:[Polymer.PaperButtonBehavior],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?Polymer.PaperButtonBehaviorImpl._calculateElevation.apply(this):this._setElevation(0)}})</script></dom-module><script>Polymer.ypLoggedInUserBehavior={properties:{loggedInUser:{type:Object,notify:!0,value:null,observer:"_loggedInUserChanged"}},listeners:{"yp-user-is-logged-in":"_userLoggedIn"},_loggedInUserChanged:function(){},ready:function(){window.appUser&&window.appUser.user&&this.set("loggedInUser",window.appUser.user)},_userLoggedIn:function(e,n){this.set("loggedInUser",n)}}</script><dom-module id="iron-image"assetpath="../../bower_components/iron-image/"><template><style>:host{display:inline-block;overflow:hidden;position:relative;}#baseURIAnchor{display:none;}#sizedImgDiv{position:absolute;top:0px;right:0px;bottom:0px;left:0px;display:none;}#img{display:block;width:var(--iron-image-width, auto);height:var(--iron-image-height, auto);}:host([sizing]) #sizedImgDiv{display:block;}:host([sizing]) #img{display:none;}#placeholder{position:absolute;top:0px;right:0px;bottom:0px;left:0px;background-color:inherit;opacity:1;@apply --iron-image-placeholder;}#placeholder.faded-out{transition:opacity 0.5s linear;opacity:0;}</style><a id="baseURIAnchor"href="#"></a><div id="sizedImgDiv"role="img"hidden$="[[_computeImgDivHidden(sizing)]]"aria-hidden$="[[_computeImgDivARIAHidden(alt)]]"aria-label$="[[_computeImgDivARIALabel(alt, src)]]"></div><img id="img"alt$="[[alt]]"hidden$="[[_computeImgHidden(sizing)]]"crossorigin$="[[crossorigin]]"on-load="_imgOnLoad"on-error="_imgOnError"><div id="placeholder"hidden$="[[_computePlaceholderHidden(preload, fade, loading, loaded)]]"class$="[[_computePlaceholderClassName(preload, fade, loading, loaded)]]"></div></template><script>Polymer({is:"iron-image",properties:{src:{type:String,value:""},alt:{type:String,value:null},crossorigin:{type:String,value:null},preventLoad:{type:Boolean,value:!1},sizing:{type:String,value:null,reflectToAttribute:!0},position:{type:String,value:"center"},preload:{type:Boolean,value:!1},placeholder:{type:String,value:null,observer:"_placeholderChanged"},fade:{type:Boolean,value:!1},loaded:{notify:!0,readOnly:!0,type:Boolean,value:!1},loading:{notify:!0,readOnly:!0,type:Boolean,value:!1},error:{notify:!0,readOnly:!0,type:Boolean,value:!1},width:{observer:"_widthChanged",type:Number,value:null},height:{observer:"_heightChanged",type:Number,value:null}},observers:["_transformChanged(sizing, position)","_loadStateObserver(src, preventLoad)"],created:function(){this._resolvedSrc=""},_imgOnLoad:function(){this.$.img.src===this._resolveSrc(this.src)&&(this._setLoading(!1),this._setLoaded(!0),this._setError(!1))},_imgOnError:function(){this.$.img.src===this._resolveSrc(this.src)&&(this.$.img.removeAttribute("src"),this.$.sizedImgDiv.style.backgroundImage="",this._setLoading(!1),this._setLoaded(!1),this._setError(!0))},_computePlaceholderHidden:function(){return!this.preload||!this.fade&&!this.loading&&this.loaded},_computePlaceholderClassName:function(){return this.preload&&this.fade&&!this.loading&&this.loaded?"faded-out":""},_computeImgDivHidden:function(){return!this.sizing},_computeImgDivARIAHidden:function(){return""===this.alt?"true":void 0},_computeImgDivARIALabel:function(){return null!==this.alt?this.alt:""===this.src?"":this._resolveSrc(this.src).replace(/[?|#].*/g,"").split("/").pop()},_computeImgHidden:function(){return!!this.sizing},_widthChanged:function(){this.style.width=isNaN(this.width)?this.width:this.width+"px"},_heightChanged:function(){this.style.height=isNaN(this.height)?this.height:this.height+"px"},_loadStateObserver:function(e,t){var i=this._resolveSrc(e);i!==this._resolvedSrc&&(this._resolvedSrc="",this.$.img.removeAttribute("src"),(this.$.sizedImgDiv.style.backgroundImage="")===e||t?this._setLoading(!1):(this._resolvedSrc=i,this.$.img.src=this._resolvedSrc,this.$.sizedImgDiv.style.backgroundImage='url("'+this._resolvedSrc+'")',this._setLoading(!0)),this._setLoaded(!1),this._setError(!1))},_placeholderChanged:function(){this.$.placeholder.style.backgroundImage=this.placeholder?'url("'+this.placeholder+'")':""},_transformChanged:function(){var e=this.$.sizedImgDiv.style,t=this.$.placeholder.style;e.backgroundSize=t.backgroundSize=this.sizing,e.backgroundPosition=t.backgroundPosition=this.sizing?this.position:"",e.backgroundRepeat=t.backgroundRepeat=this.sizing?"no-repeat":""},_resolveSrc:function(e){var t=Polymer.ResolveUrl.resolveUrl(e,this.$.baseURIAnchor.href);return"/"===t[0]&&(t=(location.origin||location.protocol+"//"+location.host)+t),t}})</script></dom-module><dom-module id="paper-fab"assetpath="../../bower_components/paper-fab/"><template strip-whitespace=""><style include="paper-material-styles">:host{@apply --layout-vertical;@apply --layout-center-center;background:var(--paper-fab-background, var(--accent-color));border-radius:50%;box-sizing:border-box;color:var(--text-primary-color);cursor:pointer;height:56px;min-width:0;outline:none;padding:16px;position:relative;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;width:56px;z-index:0;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;@apply --paper-fab;}[hidden]{display:none !important;}:host([mini]){width:40px;height:40px;padding:8px;@apply --paper-fab-mini;}:host([disabled]){color:var(--paper-fab-disabled-text, var(--paper-grey-500));background:var(--paper-fab-disabled-background, var(--paper-grey-300));@apply --paper-fab-disabled;}iron-icon{@apply --paper-fab-iron-icon;}span{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center;@apply --paper-fab-label;}:host(.keyboard-focus){background:var(--paper-fab-keyboard-focus-background, var(--paper-pink-900));}:host([elevation="1"]){@apply --paper-material-elevation-1;}:host([elevation="2"]){@apply --paper-material-elevation-2;}:host([elevation="3"]){@apply --paper-material-elevation-3;}:host([elevation="4"]){@apply --paper-material-elevation-4;}:host([elevation="5"]){@apply --paper-material-elevation-5;}</style><iron-icon id="icon"hidden$="{{!_computeIsIconFab(icon, src)}}"src="[[src]]"icon="[[icon]]"></iron-icon><span hidden$="{{_computeIsIconFab(icon, src)}}">{{label}}</span></template><script>Polymer({is:"paper-fab",behaviors:[Polymer.PaperButtonBehavior],properties:{src:{type:String,value:""},icon:{type:String,value:""},mini:{type:Boolean,value:!1,reflectToAttribute:!0},label:{type:String,observer:"_labelChanged"}},_labelChanged:function(){this.setAttribute("aria-label",this.label)},_computeIsIconFab:function(e,t){return 0<e.length||0<t.length}})</script></dom-module><script>Polymer.ypMediaFormatsBehavior={properties:{playStartedAt:{type:Date,value:null}},_checkVideoLongPlayTimeAndReset:function(e){var t=e.getAttribute("data-id");if(this.playStartedAt&&t){var i=((new Date).getTime()-this.playStartedAt.getTime())/1e3;5<i&&window.appGlobals.sendLongVideoView(t),window.appGlobals.activity("completed","video",i),this.playStartedAt=null}else this.playStartedAt&&(console.error("Got long view check without id"),this.playStartedAt=null)},_checkAudioLongPlayTimeAndReset:function(e){var t=e.getAttribute("data-id");if(this.playStartedAt&&t){var i=((new Date).getTime()-this.playStartedAt.getTime())/1e3;5<i&&window.appGlobals.sendLongAudioListen(t),window.appGlobals.activity("completed","audio",i),this.playStartedAt=null}else this.playStartedAt&&(console.error("Got long view check without audio id"),this.playStartedAt=null)},getImageFormatUrl:function(e,t){if(!(e&&0<e.length))return"";var i=JSON.parse(e[e.length-1].formats);return i&&0<i.length?i[t]:void 0},setupMediaEventListeners:function(e,t){t&&e?(this.detachMediaListeners(),this.attachMediaListeners()):e?this.attachMediaListeners():!e&&t&&this.detachMediaListeners()},attachMediaListeners:function(){this.async(function(){var e=this.$$("#videoPlayer"),t=this.$$("#audioPlayer");if(e){var i=e.getAttribute("data-id");i&&(this.videoPlayListener=function(){this.set("playStartedAt",new Date),window.appGlobals.sendVideoView(i)}.bind(this),this.videoPauseListener=function(){this._checkVideoLongPlayTimeAndReset(e)}.bind(this),this.videoEndedListener=function(){this._checkVideoLongPlayTimeAndReset(e)}.bind(this),e.addEventListener("play",this.videoPlayListener),e.addEventListener("pause",this.videoPauseListener),e.addEventListener("ended",this.videoEndedListener))}if(t){var n=t.getAttribute("data-id");n&&(this.audioPlayListener=function(){this.set("playStartedAt",new Date),window.appGlobals.sendAudioListen(n)}.bind(this),this.audioPauseListener=function(){this._checkAudioLongPlayTimeAndReset(t)}.bind(this),this.audioEndedListener=function(){this._checkAudioLongPlayTimeAndReset(t)}.bind(this),t.addEventListener("play",this.audioPlayListener),t.addEventListener("pause",this.audioPauseListener),t.addEventListener("ended",this.audioEndedListener))}},200)},detachMediaListeners:function(){var e=this.$$("#videoPlayer"),t=this.$$("#audioPlayer");e&&(this.videoPlayListener&&(e.removeEventListener("play",this.videoPlayListener),this.videoPlayListener=null),this.videoPauseListener&&(e.removeEventListener("pause",this.videoPauseListener),this.videoPauseListener=null),this.videoEndedListener&&(e.removeEventListener("ended",this.videoEndedListener),this.videoEndedListener=null),this._checkVideoLongPlayTimeAndReset(e)),t&&(this.audioPlayListener&&(t.removeEventListener("play",this.audioPlayListener),this.audioPlayListener=null),this.audioPauseListener&&(t.removeEventListener("pause",this.audioPauseListener),this.audioPauseListener=null),this.audioEndedListener&&(t.removeEventListener("ended",this.audioEndedListener),this.audioEndedListener=null),this._checkVideoLongPlayTimeAndReset(t))},_pauseMediaPlayback:function(){var e=this.$$("#videoPlayer"),t=this.$$("#audioPlayer");e&&e.pause(),t&&t.pause()},_getVideoURL:function(e){return e&&0<e.length&&e[0].formats&&0<e[0].formats.length?e[0].formats[0]:null},_isPortraitVideo:function(e){return!!(e&&0<e.length&&e[0].formats&&0<e[0].formats.length)&&!(!e[0].public_meta||!e[0].public_meta.aspect||"portrait"!==e[0].public_meta.aspect)},_getAudioURL:function(e){return e&&0<e.length&&e[0].formats&&0<e[0].formats.length?e[0].formats[0]:null},_getVideoPosterURL:function(e,t,i){return e&&0<e.length&&e[0].VideoImages&&0<e[0].VideoImages.length?(i=i||0,e[0].public_meta&&e[0].public_meta.selectedVideoFrameIndex&&(i=parseInt(e[0].public_meta.selectedVideoFrameIndex)),i>e[0].VideoImages.length-1&&(i=0),-2===i&&t?this.getImageFormatUrl(t,0):(i<0&&(i=0),JSON.parse(e[0].VideoImages[i].formats)[0])):null}}</script><dom-module id="yp-user-image"assetpath="../yp-user/"><template><style include="iron-flex iron-flex-alignment">iron-image{display:block;vertical-align:text-top;height:48px;width:48px;}.small{height:30px;width:30px;background-color:var(--primary-color-lighter,#434343);}.large{height:90px;width:90px;background-color:var(--primary-color-lighter,#434343);}.veryLarge{height:200px;width:200px;background-color:var(--primary-color-lighter,#434343);}.medium{height:48px;width:48px;background-color:var(--primary-color-lighter,#434343);}.rounded{-webkit-border-radius:25px;-moz-border-radius:25px;border-radius:25px;display:block;-webkit-transform-style:preserve-3d;}.rounded-more{-webkit-border-radius:50px;-moz-border-radius:50px;border-radius:50px;display:block;vertical-align:top;align:top;-webkit-transform-style:preserve-3d;}.rounded-even-more{-webkit-border-radius:115px;-moz-border-radius:125px;border-radius:125px;display:block;vertical-align:top;align:top;-webkit-transform-style:preserve-3d;}.rounded img{opacity:0;}.rounded-more img{opacity:0;}[hidden]{display:none !important;}</style><template restamp=""is="dom-if"if="[[user]]"><template is="dom-if"if="[[profileImageUrl]]"><iron-image sizing="cover"alt$="[[userTitle]]"title="[[userTitle]]"preload=""src="[[profileImageUrl]]"class$="[[computeClass(small)]]"></iron-image></template><template is="dom-if"if="[[noProfileImage]]"restamp=""><template is="dom-if"if="[[user.facebook_id]]"><iron-image sizing="cover"hidden$="[[profileImageUrl]]"alt$="[[userTitle]]"title="[[userTitle]]"preload=""src$="[[computeFacebookSrc]]"class$="[[computeClass(small)]]"></iron-image></template><template is="dom-if"if="[[!noDefault]]"><template is="dom-if"if="[[!user.facebook_id]]"><iron-image sizing="cover"title="[[userTitle]]"alt$="[[userTitle]]"preload=""src="https://s3.amazonaws.com/better-reykjavik-paperclip-production/instances/buddy_icons/000/000/001/icon_50/default_profile.png"class$="[[computeClass(small)]]"></iron-image></template></template></template></template></template><script>Polymer({is:"yp-user-image",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypMediaFormatsBehavior],properties:{small:{type:Boolean,value:!1},large:{type:Boolean,value:!1},veryLarge:{type:Boolean,value:!1},titleFromUser:{type:String},userTitle:{type:String,computed:"_computeUserTitle(user, title)"},user:{type:Object},profileImageUrl:{type:String,computed:"_profileImageUrl(user)"},noDefault:{type:Boolean,value:!1},computeFacebookSrc:{type:String,computed:"_computeFacebookSrc(user)"},noProfileImage:{type:Boolean,value:!1}},_computeUserTitle:function(e,r){return e?r||e.name:""},_profileImageUrl:function(e){if(e&&e.UserProfileImages&&0<e.UserProfileImages.length){var r=this.getImageFormatUrl(e.UserProfileImages,0);return r&&""!==r?(this.set("noProfileImage",!1),r):(this.set("noProfileImage",!0),null)}return this.set("noProfileImage",!0),null},computeIf:function(){return!1},computeClass:function(){return this.small?"small rounded":this.large?"large rounded-more":this.veryLarge?"veryLarge rounded-even-more":"medium rounded"},_computeFacebookSrc:function(e){return e&&e.facebook_id?"https://graph.facebook.com/"+e.facebook_id+"/picture":null},usePlaceHolderImage:function(e){null!=this.profileImageUrl||e.facebook_id},ready:function(){}})</script></dom-module><dom-module id="yp-user-info"assetpath="../yp-user/"><template><style include="iron-flex iron-flex-alignment">:host{display:block;}.avatar-container{position:relative;border:2px solid #FF9800;border-radius:50%;height:90px;padding:2px;width:90px;margin:20px auto;}.contact-info{margin:0 20px;padding-bottom:4px;text-align:center;}.contact-info .name{font-weight:bold;}.contact-info .email{color:#999;}.buttons{margin-top:8px;}.hasPointer{cursor:pointer;}paper-button{margin-top:12px;margin-bottom:8px;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><template restamp=""is="dom-if"if="[[user]]"><div class="mainContainer"><div class="avatar-container"><yp-user-image class="hasPointer"large=""user="[[user]]"on-tap="_openEdit"></yp-user-image></div><div class="contact-info"><div class="name">[[user.name]]</div><div class="email">[[user.email]]</div><div class="layout vertical center-justified buttons"><paper-button raised=""icon="create"title$="[[t('user.edit')]]"on-tap="_openEdit">[[t('user.edit')]]</paper-button><paper-button raised=""icon="create"title$="[[t('myContent')]]"on-tap="_openAllContentModeration">[[t('myContent')]]</paper-button><paper-button raised=""icon="input"title$="[[t('user.logout')]]"on-tap="_logout">[[t('user.logout')]]</paper-button></div></div></div></template></template><script>Polymer({is:"yp-user-info",behaviors:[Polymer.ypLanguageBehavior],properties:{user:{type:Object,value:null,notify:!0}},_openAllContentModeration:function(){window.appGlobals.activity("open","userAllContentModeration"),Polymer.dom(document).querySelector("yp-app").getContentModerationAsync(function(e){e.setup(null,null,null,"/moderate_all_content",this.user.id),e.open(this.user.name)}.bind(this))},_openEdit:function(){this.fire("open-user-edit")},_logout:function(){window.appUser.logout()}})</script></dom-module><script>Polymer.ypTruncateBehavior={truncate:function(r,n,e,t){if(n=n||255,r.length<=n)return r;if(e)r=r.substring(0,n);else{var u=r.lastIndexOf(" ",n);-1===u&&(u=n),r=r.substring(0,u)}return r+=null!=t?t:"..."},trim:function(r){return r.replace(/^\s*|\s*$/g,"")}}</script><script>Polymer({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1},useGlobalRtlAttribute:{type:Boolean,value:!1}},created:function(){this._meta=new Polymer.IronMeta({type:"iconset",key:null,value:null})},attached:function(){this.style.display="none"},getIconNames:function(){return this._icons=this._createIconMap(),Object.keys(this._icons).map(function(t){return this.name+":"+t},this)},applyIcon:function(t,e){this.removeIcon(t);var n=this._cloneIcon(e,this.rtlMirroring&&this._targetIsRTL(t));if(n){var i=Polymer.dom(t.root||t);return i.insertBefore(n,i.childNodes[0]),t._svgIcon=n}return null},removeIcon:function(t){t._svgIcon&&(Polymer.dom(t.root||t).removeChild(t._svgIcon),t._svgIcon=null)},_targetIsRTL:function(t){if(null==this.__targetIsRTL)if(this.useGlobalRtlAttribute){var e=document.body&&document.body.hasAttribute("dir")?document.body:document.documentElement;this.__targetIsRTL="rtl"===e.getAttribute("dir")}else t&&t.nodeType!==Node.ELEMENT_NODE&&(t=t.host),this.__targetIsRTL=t&&"rtl"===window.getComputedStyle(t).direction;return this.__targetIsRTL},_nameChanged:function(){this._meta.value=null,this._meta.key=this.name,(this._meta.value=this).async(function(){this.fire("iron-iconset-added",this,{node:window})})},_createIconMap:function(){var e=Object.create(null);return Polymer.dom(this).querySelectorAll("[id]").forEach(function(t){e[t.id]=t}),e},_cloneIcon:function(t,e){return this._icons=this._icons||this._createIconMap(),this._prepareSvgClone(this._icons[t],this.size,e)},_prepareSvgClone:function(t,e,n){if(t){var i=t.cloneNode(!0),o=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=i.getAttribute("viewBox")||"0 0 "+e+" "+e,s="pointer-events: none; display: block; width: 100%; height: 100%;";return n&&i.hasAttribute("mirror-in-rtl")&&(s+="-webkit-transform:scale(-1,1);transform:scale(-1,1);transform-origin:center;"),o.setAttribute("viewBox",r),o.setAttribute("preserveAspectRatio","xMidYMid meet"),o.setAttribute("focusable","false"),o.style.cssText=s,o.appendChild(i).removeAttribute("id"),o}return null}})</script><iron-iconset-svg size="24"name="icons"><svg><defs><g id="format-clear"><path d="M3.27 5L2 6.27l6.97 6.97L6.5 19h3l1.57-3.66L16.73 21 18 19.73 3.55 5.27 3.27 5zM6 5v.18L8.82 8h2.4l-.72 1.68 2.1 2.1L14.21 8H20V5H6z"></path></g><g id="format-align-center"><path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"></path></g><g id="format-align-justify"><path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"></path></g><g id="format-align-left"><path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"></path></g><g id="format-align-right"><path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"></path></g><g id="format-header-1"><path d="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M14,18V16H16V6.31L13.5,7.75V5.44L16,4H18V16H20V18H14Z"></path></g><g id="format-header-2"><path d="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M21,18H15A2,2 0 0,1 13,16C13,15.47 13.2,15 13.54,14.64L18.41,9.41C18.78,9.05 19,8.55 19,8A2,2 0 0,0 17,6A2,2 0 0,0 15,8H13A4,4 0 0,1 17,4A4,4 0 0,1 21,8C21,9.1 20.55,10.1 19.83,10.83L15,16H21V18Z"></path></g><g id="format-header-3"><path d="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M15,4H19A2,2 0 0,1 21,6V16A2,2 0 0,1 19,18H15A2,2 0 0,1 13,16V15H15V16H19V12H15V10H19V6H15V7H13V6A2,2 0 0,1 15,4Z"></path></g><g id="format-header-4"><path d="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M18,18V13H13V11L18,4H20V11H21V13H20V18H18M18,11V7.42L15.45,11H18Z"></path></g><g id="format-header-5"><path d="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M15,4H20V6H15V10H17A4,4 0 0,1 21,14A4,4 0 0,1 17,18H15A2,2 0 0,1 13,16V15H15V16H17A2,2 0 0,0 19,14A2,2 0 0,0 17,12H15A2,2 0 0,1 13,10V6A2,2 0 0,1 15,4Z"></path></g><g id="format-header-6"><path d="M3,4H5V10H9V4H11V18H9V12H5V18H3V4M15,4H19A2,2 0 0,1 21,6V7H19V6H15V10H19A2,2 0 0,1 21,12V16A2,2 0 0,1 19,18H15A2,2 0 0,1 13,16V6A2,2 0 0,1 15,4M15,12V16H19V12H15Z"></path></g><g id="format-paragraph"><path d="M13,4A4,4 0 0,1 17,8A4,4 0 0,1 13,12H11V18H9V4H13M13,10A2,2 0 0,0 15,8A2,2 0 0,0 13,6H11V10H13Z"></path></g><g id="format-underlined"><path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"></path></g><g id="format-italic"><path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z"></path></g><g id="format-bold"><path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z"></path></g><g id="format-list-bulleted"><path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"></path></g><g id="format-list-numbered"><path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"></path></g><g id="comment"><path d="M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM18 14H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"></path></g><g id="rate-review"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM6 14v-2.47l6.88-6.88c.2-.2.51-.2.71 0l1.77 1.77c.2.2.2.51 0 .71L8.47 14H6zm12 0h-7.5l2-2H18v2z"></path></g><g id="fast-forward"><path d="M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"></path></g><g id="link"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></g><g id="attach-file"><path d="M16.5 6v11.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V5c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6H10v9.5c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5V5c0-2.21-1.79-4-4-4S7 2.79 7 5v12.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V6h-1.5z"></path></g><g id="mic"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path></g><g id="cloud-queue"><path d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z"></path></g><g id="mic-none"><path d="M12 14c1.66 0 2.99-1.34 2.99-3L15 5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3zm-1.2-9.1c0-.66.54-1.2 1.2-1.2.66 0 1.2.54 1.2 1.2l-.01 6.2c0 .66-.53 1.2-1.19 1.2-.66 0-1.2-.54-1.2-1.2V4.9zm6.5 6.1c0 3-2.54 5.1-5.3 5.1S6.7 14 6.7 11H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path></g><g id="mic-off"><path d="M19 11h-1.7c0 .74-.16 1.43-.43 2.05l1.23 1.23c.56-.98.9-2.09.9-3.28zm-4.02.17c0-.06.02-.11.02-.17V5c0-1.66-1.34-3-3-3S9 3.34 9 5v.18l5.98 5.99zM4.27 3L3 4.27l6.01 6.01V11c0 1.66 1.33 3 2.99 3 .22 0 .44-.03.65-.08l1.66 1.66c-.71.33-1.5.52-2.31.52-2.76 0-5.3-2.1-5.3-5.1H5c0 3.41 2.72 6.23 6 6.72V21h2v-3.28c.91-.13 1.77-.45 2.54-.9L19.73 21 21 19.73 4.27 3z"></path></g><g id="new-releases"><path d="M23 12l-2.44-2.78.34-3.68-3.61-.82-1.89-3.18L12 3 8.6 1.54 6.71 4.72l-3.61.81.34 3.68L1 12l2.44 2.78-.34 3.69 3.61.82 1.89 3.18L12 21l3.4 1.46 1.89-3.18 3.61-.82-.34-3.68L23 12zm-10 5h-2v-2h2v2zm0-4h-2V7h2v6z"></path></g><g id="play-arrow"><path d="M8 5v14l11-7z"></path></g><g id="delete"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"></path></g><g id="slow-motion-video"><path d="M13.05 9.79L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zm0 0L10 7.5v9l3.05-2.29L16 12zM11 4.07V2.05c-2.01.2-3.84 1-5.32 2.21L7.1 5.69c1.11-.86 2.44-1.44 3.9-1.62zM5.69 7.1L4.26 5.68C3.05 7.16 2.25 8.99 2.05 11h2.02c.18-1.46.76-2.79 1.62-3.9zM4.07 13H2.05c.2 2.01 1 3.84 2.21 5.32l1.43-1.43c-.86-1.1-1.44-2.43-1.62-3.89zm1.61 6.74C7.16 20.95 9 21.75 11 21.95v-2.02c-1.46-.18-2.79-.76-3.9-1.62l-1.42 1.43zM22 12c0 5.16-3.92 9.42-8.95 9.95v-2.02C16.97 19.41 20 16.05 20 12s-3.03-7.41-6.95-7.93V2.05C18.08 2.58 22 6.84 22 12z"></path></g><g id="video-library"><path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8 12.5v-9l6 4.5-6 4.5z"></path></g><g id="videocam"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"></path></g><g id="videocam-off"><path d="M21 6.5l-4 4V7c0-.55-.45-1-1-1H9.82L21 17.18V6.5zM3.27 2L2 3.27 4.73 6H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.21 0 .39-.08.54-.18L19.73 21 21 19.73 3.27 2z"></path></g><g id="chat-bubble-outline"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"></path></g><g id="live-help"><path d="M19 2H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h4l3 3 3-3h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-6 16h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 11.9 13 12.5 13 14h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></g><g id="headset-mic"><path d="M12 1c-4.97 0-9 4.03-9 9v7c0 1.66 1.34 3 3 3h3v-8H5v-2c0-3.87 3.13-7 7-7s7 3.13 7 7v2h-4v8h4v1h-7v2h6c1.66 0 3-1.34 3-3V10c0-4.97-4.03-9-9-9z"></path></g><g id="insert-emoticon"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path></g><g id="keyboard-arrow-down"><path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"></path></g><g id="keyboard-arrow-left"><path d="M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"></path></g><g id="keyboard-arrow-right"><path d="M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"></path></g><g id="keyboard-arrow-up"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path></g><g id="account-balance"><path d="M4 10v7h3v-7H4zm6 0v7h3v-7h-3zM2 22h19v-3H2v3zm14-12v7h3v-7h-3zm-4.5-9L2 6v2h19V6l-9.5-5z"></path></g><g id="add"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></g><g id="arrow-back"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"></path></g><g id="arrow-downward"><path d="M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"></path></g><g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g><g id="arrow-drop-up"><path d="M7 14l5-5 5 5z"></path></g><g id="autorenew"><path d="M12 6v3l4-4-4-4v3c-4.42 0-8 3.58-8 8 0 1.57.46 3.03 1.24 4.26L6.7 14.8c-.45-.83-.7-1.79-.7-2.8 0-3.31 2.69-6 6-6zm6.76 1.74L17.3 9.2c.44.84.7 1.79.7 2.8 0 3.31-2.69 6-6 6v-3l-4 4 4 4v-3c4.42 0 8-3.58 8-8 0-1.57-.46-3.03-1.24-4.26z"></path></g><g id="arrow-forward"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"></path></g><g id="arrow-upward"><path d="M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"></path></g><g id="cached"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"></path></g><g id="clear"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g><g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g><g id="create"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"></path></g><g id="expand-more"><path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"></path></g><g id="face"><path d="M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21.71.33 1.47.33 2.26 0 4.41-3.59 8-8 8z"></path></g><g id="favorite"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path></g><g id="favorite-border"><path d="M16.5 3c-1.74 0-3.41.81-4.5 2.09C10.91 3.81 9.24 3 7.5 3 4.42 3 2 5.42 2 8.5c0 3.78 3.4 6.86 8.55 11.54L12 21.35l1.45-1.32C18.6 15.36 22 12.28 22 8.5 22 5.42 19.58 3 16.5 3zm-4.4 15.55l-.1.1-.1-.1C7.14 14.24 4 11.39 4 8.5 4 6.5 5.5 5 7.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5c2 0 3.5 1.5 3.5 3.5 0 2.89-3.14 5.74-7.9 10.05z"></path></g><g id="group-work"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM8 17.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5zM9.5 8c0-1.38 1.12-2.5 2.5-2.5s2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8zm6.5 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"></path></g><g id="help"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path></g><g id="help-outline"><path d="M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"></path></g><g id="history"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path></g><g id="home"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"></path></g><g id="input"><path d="M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"></path></g><g id="language"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"></path></g><g id="lightbulb-outline"><path d="M9 21c0 .55.45 1 1 1h4c.55 0 1-.45 1-1v-1H9v1zm3-19C8.14 2 5 5.14 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.86-3.14-7-7-7zm2.85 11.1l-.85.6V16h-4v-2.3l-.85-.6C7.8 12.16 7 10.63 7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 1.63-.8 3.16-2.15 4.1z"></path></g><g id="menu"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"></path></g><g id="more-horiz"><path d="M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="more-vert"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></g><g id="perm-camera-mic"><path d="M20 5h-3.17L15 3H9L7.17 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h7v-2.09c-2.83-.48-5-2.94-5-5.91h2c0 2.21 1.79 4 4 4s4-1.79 4-4h2c0 2.97-2.17 5.43-5 5.91V21h7c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-6 8c0 1.1-.9 2-2 2s-2-.9-2-2V9c0-1.1.9-2 2-2s2 .9 2 2v4z"></path></g><g id="perm-phone-msg"><path d="M20 15.5c-1.25 0-2.45-.2-3.57-.57-.35-.11-.74-.03-1.02.24l-2.2 2.2c-2.83-1.44-5.15-3.75-6.59-6.58l2.2-2.21c.28-.27.36-.66.25-1.01C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.5c0-.55-.45-1-1-1zM12 3v10l3-3h6V3h-9z"></path></g><g id="search"><path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></g><g id="select-all"><path d="M3 5h2V3c-1.1 0-2 .9-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2c0-1.1-.9-2-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z"></path></g><g id="sort"><path d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"></path></g><g id="thumb-down"><path d="M15 3H6c-.83 0-1.54.5-1.84 1.22l-3.02 7.05c-.09.23-.14.47-.14.73v1.91l.01.01L1 14c0 1.1.9 2 2 2h6.31l-.95 4.57-.03.32c0 .41.17.79.44 1.06L9.83 23l6.59-6.59c.36-.36.58-.86.58-1.41V5c0-1.1-.9-2-2-2zm4 0v12h4V3h-4z"></path></g><g id="thumb-up"><path d="M1 21h4V9H1v12zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73v-1.91l-.01-.01L23 10z"></path></g><g id="thumbs-up-down"><path d="M12 6c0-.55-.45-1-1-1H5.82l.66-3.18.02-.23c0-.31-.13-.59-.33-.8L5.38 0 .44 4.94C.17 5.21 0 5.59 0 6v6.5c0 .83.67 1.5 1.5 1.5h6.75c.62 0 1.15-.38 1.38-.91l2.26-5.29c.07-.17.11-.36.11-.55V6zm10.5 4h-6.75c-.62 0-1.15.38-1.38.91l-2.26 5.29c-.07.17-.11.36-.11.55V18c0 .55.45 1 1 1h5.18l-.66 3.18-.02.24c0 .31.13.59.33.8l.79.78 4.94-4.94c.27-.27.44-.65.44-1.06v-6.5c0-.83-.67-1.5-1.5-1.5z"></path></g><g id="trending-down"><path d="M16 18l2.29-2.29-4.88-4.88-4 4L2 7.41 3.41 6l6 6 4-4 6.3 6.29L22 12v6z"></path></g><g id="trending-flat"><path d="M22 12l-4-4v3H3v2h15v3z"></path></g><g id="trending-up"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"></path></g><g id="unfold-more"><path d="M12 5.83L15.17 9l1.41-1.41L12 3 7.41 7.59 8.83 9 12 5.83zm0 12.34L8.83 15l-1.41 1.41L12 21l4.59-4.59L15.17 15 12 18.17z"></path></g><g id="warning"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"></path></g><g id="photo-camera"><circle cx="12"cy="12"r="3.2"></circle><path d="M9 2L7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2H9zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5z"></path></g><g id="tag-faces"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path></g><g id="directions-walk"><path d="M13.5 5.5c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zM9.8 8.9L7 23h2.1l1.8-8 2.1 2v6h2v-7.5l-2.1-2 .6-3C14.8 12 16.8 13 19 13v-2c-1.9 0-3.5-1-4.3-2.4l-1-1.6c-.4-.6-1-1-1.7-1-.3 0-.5.1-.8.1L6 8.3V13h2V9.6l1.8-.7"></path></g><g id="local-florist"><path d="M12 22c4.97 0 9-4.03 9-9-4.97 0-9 4.03-9 9zM5.6 10.25c0 1.38 1.12 2.5 2.5 2.5.53 0 1.01-.16 1.42-.44l-.02.19c0 1.38 1.12 2.5 2.5 2.5s2.5-1.12 2.5-2.5l-.02-.19c.4.28.89.44 1.42.44 1.38 0 2.5-1.12 2.5-2.5 0-1-.59-1.85-1.43-2.25.84-.4 1.43-1.25 1.43-2.25 0-1.38-1.12-2.5-2.5-2.5-.53 0-1.01.16-1.42.44l.02-.19C14.5 2.12 13.38 1 12 1S9.5 2.12 9.5 3.5l.02.19c-.4-.28-.89-.44-1.42-.44-1.38 0-2.5 1.12-2.5 2.5 0 1 .59 1.85 1.43 2.25-.84.4-1.43 1.25-1.43 2.25zM12 5.5c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5S9.5 9.38 9.5 8s1.12-2.5 2.5-2.5zM3 13c0 4.97 4.03 9 9 9 0-4.97-4.03-9-9-9z"></path></g><g id="local-pizza"><path d="M12 2C8.43 2 5.23 3.54 3.01 6L12 22l8.99-16C18.78 3.55 15.57 2 12 2zM7 7c0-1.1.9-2 2-2s2 .9 2 2-.9 2-2 2-2-.9-2-2zm5 8c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"></path></g><g id="do-not-disturb"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8 0-1.85.63-3.55 1.69-4.9L16.9 18.31C15.55 19.37 13.85 20 12 20zm6.31-3.1L7.1 5.69C8.45 4.63 10.15 4 12 4c4.42 0 8 3.58 8 8 0 1.85-.63 3.55-1.69 4.9z"></path></g><g id="do-not-disturb-alt"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zM4 12c0-4.4 3.6-8 8-8 1.8 0 3.5.6 4.9 1.7L5.7 16.9C4.6 15.5 4 13.8 4 12zm8 8c-1.8 0-3.5-.6-4.9-1.7L18.3 7.1C19.4 8.5 20 10.2 20 12c0 4.4-3.6 8-8 8z"></path></g><g id="ondemand-video"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12zm-5-6l-7 4V7z"></path></g><g id="personal-video"><path d="M21 3H3c-1.11 0-2 .89-2 2v12c0 1.1.89 2 2 2h5v2h8v-2h5c1.1 0 1.99-.9 1.99-2L23 5c0-1.11-.9-2-2-2zm0 14H3V5h18v12z"></path></g><g id="business-center"><path d="M10 16v-1H3.01L3 19c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2v-4h-7v1h-4zm10-9h-4.01V5l-2-2h-4l-2 2v2H4c-1.1 0-2 .9-2 2v3c0 1.11.89 2 2 2h6v-2h4v2h6c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2zm-6 0h-4V5h4v2z"></path></g><g id="cake"><path d="M12 6c1.11 0 2-.9 2-2 0-.38-.1-.73-.29-1.03L12 0l-1.71 2.97c-.19.3-.29.65-.29 1.03 0 1.1.9 2 2 2zm4.6 9.99l-1.07-1.07-1.08 1.07c-1.3 1.3-3.58 1.31-4.89 0l-1.07-1.07-1.09 1.07C6.75 16.64 5.88 17 4.96 17c-.73 0-1.4-.23-1.96-.61V21c0 .55.45 1 1 1h16c.55 0 1-.45 1-1v-4.61c-.56.38-1.23.61-1.96.61-.92 0-1.79-.36-2.44-1.01zM18 9h-5V7h-2v2H6c-1.66 0-3 1.34-3 3v1.54c0 1.08.88 1.96 1.96 1.96.52 0 1.02-.2 1.38-.57l2.14-2.13 2.13 2.13c.74.74 2.03.74 2.77 0l2.14-2.13 2.13 2.13c.37.37.86.57 1.38.57 1.08 0 1.96-.88 1.96-1.96V12C21 10.34 19.66 9 18 9z"></path></g><g id="group"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"></path></g><g id="group-add"><path d="M8 10H5V7H3v3H0v2h3v3h2v-3h3v-2zm10 1c1.66 0 2.99-1.34 2.99-3S19.66 5 18 5c-.32 0-.63.05-.91.14.57.81.9 1.79.9 2.86s-.34 2.04-.9 2.86c.28.09.59.14.91.14zm-5 0c1.66 0 2.99-1.34 2.99-3S14.66 5 13 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm6.62 2.16c.83.73 1.38 1.66 1.38 2.84v2h3v-2c0-1.54-2.37-2.49-4.38-2.84zM13 13c-2 0-6 1-6 3v2h12v-2c0-2-4-3-6-3z"></path></g><g id="mood"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"></path></g><g id="mood-bad"><path d="M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 3c-2.33 0-4.31 1.46-5.11 3.5h10.22c-.8-2.04-2.78-3.5-5.11-3.5z"></path></g><g id="people"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"></path></g><g id="translate"><path d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></g><g id="videocam"><path d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"></path></g><g id="play-circle-outline"><path d="M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></g><g id="keyboard-voice"><path d="M12 15c1.66 0 2.99-1.34 2.99-3L15 6c0-1.66-1.34-3-3-3S9 4.34 9 6v6c0 1.66 1.34 3 3 3zm5.3-3c0 3-2.54 5.1-5.3 5.1S6.7 15 6.7 12H5c0 3.42 2.72 6.23 6 6.72V22h2v-3.28c3.28-.48 6-3.3 6-6.72h-1.7z"></path></g><g id="send"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></g><g id="play-arrow"><path d="M8 5v14l11-7z"></path></g><g id="stop"><path d="M6 6h12v12H6z"></path></g><g id="fiber-manual-record"><circle cx="12"cy="12"r="8"></circle></g><g id="file-upload"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"></path></g></defs></svg></iron-iconset-svg><script>Polymer.YpPostBehavior={properties:{post:{type:Object,notify:!0},endorseMode:{type:String},image:{type:Boolean,value:!0},elevation:{type:Number,value:1},postName:{type:String,computed:"postNameFunc(post)"},postDescription:{type:String,computed:"postDescriptionFunc(post)"},getCategoryImagePath:{type:String,computed:"_getCategoryImagePath(post)"},fullPostUrl:{type:String,computed:"_fullPostUrl(post)"}},_fullPostUrl:function(t){return t?encodeURIComponent("https://"+window.location.host+"/post/"+t.id):(console.warn("Can't find post for action"),"")},postNameFunc:function(t){return t&&t.name?this.truncate(this.trim(t.name),100):t?t.short_name:""},postDescriptionFunc:function(t){return t&&t.description?this.truncate(this.trim(t.description),500,"..."):t&&t.Points&&t.Points[0]?this.truncate(this.trim(t.Points[0].content),500,"..."):""},_getCategoryImagePath:function(t){return t&&t.Category&&t.Category.CategoryIconImages?this.getImageFormatUrl(t.Category.CategoryIconImages,0):""}}</script><script>Polymer.YpTruncatedNameList={truncateNameList:function(e){if(e){var t,n=e.split(",");if(2<n.length)t=n.splice(0,2).join(", "),t+=" +",t+=n.length;else t=n.join(", ");return t}return""}}</script><dom-module id="ac-notification-list-post"assetpath="../ac-notifications/"><template><style include="iron-flex iron-flex-alignment">:host{text-align:left;}.pointerCursor{cursor:pointer;}.endorsers{}.opposers{}.bulb-icon{min-width:26px;min-height:26px;max-width:26px;max-height:26px;margin:6px;}.bulb-icon[new-post]{color:var(--accent-color);min-width:30px;min-height:30px;max-width:30px;max-height:30px;}.smallIcons{max-width:16px;max-height:16px;min-width:16px;min-height:16px;padding-top:2px;padding-right:4px;color:var(--primary-love-color-up, rgba(168,0,0,0.65));}.postName{padding-top:4px;}.postName{padding-top:4px;padding-bottom:0;color:#111;}.userName{font-style:bold;}.leftContainer{margin-right:8px;}[hidden]{display:none !important;}</style><div class="layout vertical pointerCursor"on-tap="goToPost"hidden$="[[!post]]"><div class="layout horizontal"><div class="layout vertical center-center self-start leftContainer"><yp-user-image small=""user="[[user]]"></yp-user-image><iron-icon icon="lightbulb-outline"new-post$="[[newPostMode]]"class="bulb-icon"></iron-icon></div><div class="layout vertical"><div hidden$="[[!endorsementsText]]"><div class="layout horizontal"><iron-icon icon="favorite"class="smallIcons endorsers"></iron-icon><div class="endorsers">[[endorsementsText]]</div></div></div><div hidden$="[[!oppositionsText]]"><div class="layout horizontal"><iron-icon icon="do-not-disturb"class="smallIcons opposers"></iron-icon><div class="opposers">[[oppositionsText]]</div></div></div><div class="postName">[[postName]]</div><div hidden$="[[!newPostMode]]"class="userName">[[userName]]</div></div></div></div><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal></template><script>Polymer({is:"ac-notification-list-post",behaviors:[Polymer.ypLanguageBehavior,Polymer.YpPostBehavior,Polymer.YpTruncatedNameList,Polymer.ypGotoBehavior,Polymer.ypTruncateBehavior,Polymer.ypMediaFormatsBehavior],properties:{notification:{type:Object,observer:"_notificationChanged"},endorsementsText:{type:String,value:null},oppositionsText:{type:String,value:null},newPostMode:Boolean,endorseMode:Boolean,userName:{type:String,value:null},user:{type:Object,value:null}},goToPost:function(){if(this.post){var t="/post/"+this.post.id;window.appGlobals.activity("open","post",t),this.async(function(){this.redirectTo(t),this.fire("yp-close-right-drawer")})}},_notificationChanged:function(t){t?(this.set("post",t.AcActivities[0].Post),this.set("userName",t.AcActivities[0].User.name),this.set("user",t.AcActivities[0].User),"notification.post.new"==t.type?this.set("newPostMode",!0):"notification.post.endorsement"==t.type&&(this.set("endorseMode",!0),this.set("newPostMode",!1),this._createEndorsementStrings())):(this.set("endorsementsText",null),this.set("oppositionsText",null),this.set("newPostMode",null),this.set("endorseMode",null),this.set("userName",null),this.set("user",null))},_createEndorsementStrings:function(){var e,i;this.notification.AcActivities.forEach(function(t){"activity.post.endorsement.new"==t.type?(e=e||"",e=this._addWithComma(e,t.User.name)):"activity.post.opposition.new"==t.type&&(i=i||"",i=this._addWithComma(i,t.User.name))}.bind(this)),e&&""!=e&&this.set("endorsementsText",this.truncateNameList(e)),i&&""!=i&&this.set("oppositionsText",this.truncateNameList(i))},_addWithComma:function(t,e){var i="";return""!=t&&(i+=t+","),i+e}})</script></dom-module><dom-module id="ac-notification-list-point"assetpath="../ac-notifications/"><template><style include="iron-flex iron-flex-alignment">:host{text-align:left;}.pointerCursor{cursor:pointer;}.endorsers{}.opposers{}.chatIcon{min-width:24px;min-height:24px;max-width:24px;max-height:24px;margin:6px;margin-bottom:0;padding-bottom:0;}.thumbsIcon{color:#999;margin-top:0;padding-top:0;min-width:20px;min-height:20px;max-width:20px;max-height:20px;}.smallIcons{max-width:16px;max-height:16px;min-width:16px;min-height:16px;padding-top:2px;padding-right:2px;}.postName{padding-top:4px;padding-bottom:0;font-style:italic;color:#777;}.postName[point-value-up]{}.pointContent{padding-bottom:4px;color:#444;}.pointContent[point-value-up]{}.leftContainer{margin-right:8px;}[hidden]{display:none !important;}</style><div class="layout vertical pointerCursor"on-tap="goToPost"hidden$="[[!post]]"><div class="layout horizontal"><div class="layout vertical center-center self-start leftContainer"><yp-user-image small=""user="[[user]]"></yp-user-image><iron-icon icon="chat-bubble-outline"class="chatIcon"></iron-icon><div hidden$="[[!pointValueUp]]"><iron-icon icon="thumb-up"class="chatIcon thumbsIcon"></iron-icon></div><div hidden$="[[pointValueUp]]"><iron-icon icon="thumb-down"class="chatIcon thumbsIcon"></iron-icon></div></div><div class="layout vertical"><div point-value-up$="[[pointValueUp]]"class="layout horizontal pointContent">[[pointContent]]</div><div class="layout horizontal"hidden$="[[!helpfulsText]]"><iron-icon icon="arrow-upward"class="smallIcons endorsers"></iron-icon><div class="endorsers">[[helpfulsText]]</div></div><div class="layout horizontal"hidden$="[[!unhelpfulsText]]"><iron-icon icon="arrow-downward"class="smallIcons opposers"></iron-icon><div class="opposers">[[unhelpfulsText]]</div></div><div class="postName">[[postNameTruncated]]</div></div></div></div><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal></template><script>Polymer({is:"ac-notification-list-point",behaviors:[Polymer.ypLanguageBehavior,Polymer.YpPostBehavior,Polymer.YpTruncatedNameList,Polymer.ypGotoBehavior,Polymer.ypTruncateBehavior,Polymer.ypMediaFormatsBehavior],properties:{notification:{type:Object,observer:"_notificationChanged"},helpfulsText:{type:String,value:null},unhelpfulsText:{type:String,value:null},pointValueUp:{type:Boolean,computed:"_pointValueUp(point)"},newPointMode:Boolean,qualityMode:Boolean,point:{type:Object},pointContent:String,user:{type:Object,value:null},postName:String,postNameTruncated:{type:String,computed:"_postNameTruncated(postName)"}},_postNameTruncated:function(t){return t?this.truncate(t,42):""},_pointValueUp:function(t){return t&&0<t.value},goToPost:function(){if(this.post){var t="/post/"+this.post.id;this.point&&(t+="/"+this.point.id),window.appGlobals.activity("open","post",t),this.async(function(){this.redirectTo(t),this.fire("yp-close-right-drawer")})}},_notificationChanged:function(t){t?(this.set("point",t.AcActivities[0].Point),this.set("post",t.AcActivities[0].Post),this.set("user",t.AcActivities[0].User),this.point&&this.set("pointContent",this.truncate(this.point.content,72)),"notification.point.new"==t.type?this.set("newPointMode",!0):"notification.point.quality"==t.type&&(this.set("qualityMode",!0),this._createQualityStrings())):(this.set("helpfulsText",null),this.set("unhelpfulsText",null),this.set("newPointMode",null),this.set("qualityMode",null))},_createQualityStrings:function(){var i,e;this.notification.AcActivities.forEach(function(t){"activity.point.helpful.new"==t.type?(i=i||"",i=this._addWithComma(i,t.User.name)):"activity.point.unhelpful.new"==t.type&&(e=e||"",e=this._addWithComma(e,t.User.name))}.bind(this)),i&&""!=i&&this.set("helpfulsText",this.truncateNameList(i)),e&&""!=e&&this.set("unhelpfulsText",this.truncateNameList(e))},_addWithComma:function(t,i){var e="";return""!=t&&(e+=t+","),e+i}})</script></dom-module><dom-module id="ac-notification-list-general-item"assetpath="../ac-notifications/"><template><style include="iron-flex iron-flex-alignment">:host{text-align:left;margin-bottom:24px;}.pointerCursor{cursor:pointer;}.icon{min-width:24px;min-height:24px;max-width:24px;max-height:24px;margin:6px;margin-bottom:0;padding-bottom:0;}.name{padding-top:4px;padding-bottom:0;font-style:italic;color:#777;}.shortText{padding-right:8px;color:#444;padding-bottom:4px;}.leftContainer{margin-right:8px;}[hidden]{display:none !important;}</style><div class="layout vertical pointerCursor"on-tap="_goTo"><div class="layout horizontal"><div class="layout vertical center-center self-start leftContainer"><yp-user-image small=""user="[[user]]"></yp-user-image><iron-icon icon$="[[icon]]"class="icon"></iron-icon></div><div class="layout vertical"><div class="name">[[nameTruncated]]</div><div hidden$="[[!shortText]]"class="shortText">[[shortTextTruncated]]</div></div></div></div><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal></template><script>Polymer({is:"ac-notification-list-general-item",behaviors:[Polymer.ypLanguageBehavior,Polymer.YpPostBehavior,Polymer.ypGotoBehavior,Polymer.ypTruncateBehavior,Polymer.ypMediaFormatsBehavior],properties:{notification:{type:Object,observer:"_notificationChanged"},user:{type:Object,value:null},nameTruncated:{type:String,computed:"_nameTruncated(notification)"},icon:{type:String},shortText:{type:String},shortTextTruncated:{type:String,computed:"_shortTextTruncated(shortText)"}},_goTo:function(){var i;this.post?this.goToPost(this.post.id):(this.notification.AcActivities[0].Group&&"hidden_public_group_for_domain_level_points"!=this.notification.AcActivities[0].Group.name?i="/group/"+this.notification.AcActivities[0].Group.id+"/news/"+this.notification.AcActivities[0].id:this.notification.AcActivities[0].Community?i="/community/"+this.notification.AcActivities[0].Community.id+"/news/"+this.notification.AcActivities[0].id:this.notification.AcActivities[0].Domain&&(i="/domain/"+this.notification.AcActivities[0].Domain.id+"/news/"+this.notification.AcActivities[0].id),i&&this.redirectTo(i))},_nameTruncated:function(i){return i.AcActivities[0].Post?this.truncate(i.AcActivities[0].Post.name,42):i.AcActivities[0].Group&&"hidden_public_group_for_domain_level_points"!=i.AcActivities[0].Group.name?this.truncate(i.AcActivities[0].Group.name,42):i.AcActivities[0].Community?this.truncate(i.AcActivities[0].Community.name,42):i.AcActivities[0].Domain?this.truncate(i.AcActivities[0].Domain.name,42):void 0},_shortTextTruncated:function(i){return i?this.truncate(i,60):""},goToPost:function(){if(this.post){var i="/post/"+this.post.id+"/news";window.appGlobals.activity("open","post",i),this.async(function(){this.redirectTo(i),this.fire("yp-close-right-drawer")})}},_notificationChanged:function(i){i&&(this.set("post",i.AcActivities[0].Post),this.set("user",i.AcActivities[0].User))},_addWithComma:function(i,t){var o="";return""!=i&&(o+=i+","),o+t}})</script></dom-module><dom-module id="ac-notification-list"assetpath="../ac-notifications/"><template><style include="iron-flex iron-flex-alignment">:host{margin:0;height:100vh;max-width:242px;overflow-x:hidden;}iron-list{flex:1 1 auto;}p{text-align:left;}.notificationItem{margin-bottom:8px;padding-bottom:8px;}.unViewedCount{padding-top:8px;color:#777;font-size:14px;}[hidden]{display:none !important;}#material{z-index:1000;margin:0 !important;padding:8px;height:95vh;}.notificationHeader{font-size:18px;color:var(--accent-color);padding-top:8px;}#notificationsList{width:100% !important;overflow:hidden;}:focus{}.overflowSettings{overflow-x:hidden;max-width:255px !important;}.notificationHeader{margin-bottom:2px;}</style><iron-scroll-threshold lower-threshold="250"on-lower-threshold="_loadMoreData"id="threshold"><div elevation="2"id="material"class="oversflowSettings"><template is="dom-if"if="[[user]]"><yp-user-info on-open-user-edit="_openEdit"user="{{user}}"></yp-user-info><div class="notificationHeader layout horizontal center-center"hidden$="[[!notificationsLength]]">[[t('notifications')]]</div><div hidden$="[[!unViewedCount]]"class="unViewedCount layout vertical center-center"><div>[[unViewedCount]] [[t('unviewed')]]</div><paper-button on-tap="_markAllAsViewed">[[t('notificationMarkAllViewed')]]</paper-button></div><iron-list id="list"items="[[notifications]]"scroll-offset="300"as="notification"scroll-target="threshold"><template><div tabindex$="[[tabIndex]]"class="layout vertical overflowSettings"><template is="dom-if"if="[[_notificationType(notification, 'postNotification')]]"><ac-notification-list-post class="notificationItem"notification="[[notification]]"></ac-notification-list-post></template><template is="dom-if"if="[[_notificationType(notification, 'pointNotification')]]"><ac-notification-list-point class="notificationItem"notification="[[notification]]"></ac-notification-list-point></template><template is="dom-if"if="[[_notificationType(notification, 'notification.post.status.change')]]"><ac-notification-list-general-item icon="language"notification="[[notification]]"></ac-notification-list-general-item></template><template is="dom-if"if="[[_notificationType(notification, 'notification.point.newsStory')]]"><ac-notification-list-general-item icon="face"notification="[[notification]]"short-text="[[notification.AcActivities.0.Point.content]]"></ac-notification-list-general-item></template><template is="dom-if"if="[[_notificationType(notification, 'notification.point.comment')]]"><ac-notification-list-general-item icon="chat-bubble-outline"notification="[[notification]]"short-text="[[notification.AcActivities.0.Point.content]]"></ac-notification-list-general-item></template><template is="dom-if"if="[[_notificationType(notification, 'notification.generalUserNotification')]]"><ac-notification-list-general-item icon="language"notification="[[notification]]"short-text="[[_getNotificationTypeAndName(notification.AcActivities.0.object.type, notification.AcActivities.0.object.name)]]"></ac-notification-list-general-item></template></div></template></iron-list></template></div></iron-scroll-threshold><div class="layout horizontal center-center"hidden=""><yp-ajax id="loadNotificationsAjax"on-response="_loadNotificationsResponse"></yp-ajax><yp-ajax id="loadNewNotificationsAjax"dispatch-error=""on-error="_newNotificationsError"on-response="_loadNewNotificationsResponse"></yp-ajax><yp-ajax id="setAsViewedAjax"method="PUT"url="/api/notifications/setIdsViewed"on-response="_setAsViewedResponse"></yp-ajax><yp-ajax id="markAllAsViewedAjax"method="PUT"url="/api/notifications/markAllViewed"on-response="_setAsMarkAllViewedResponse"></yp-ajax></div><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><lite-signal on-lite-signal-logged-in="_userLoggedIn"></lite-signal><lite-signal on-lite-signal-yp-refresh-activities-scroll-threshold="_clearScrollThreshold"></lite-signal></template><script>Polymer({is:"ac-notification-list",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypLoggedInUserBehavior,Polymer.ypTruncateBehavior],properties:{notifications:Array,notificationsLength:{type:Number,computed:"_notificationsLength(notifications)"},notificationGetTTL:{type:Number,value:5e3},oldestProcessedNotificationAt:{type:Date},latestProcessedNotificationAt:{type:Date},url:{type:String,value:"/api/notifications"},user:{type:Object,observer:"_userChanged"},firstReponse:{type:Boolean,value:!0},timer:Object,unViewedCount:{type:Number,value:0},moreToLoad:{type:Boolean,value:!1,notify:!0},opened:{type:Boolean,observer:"_openedChanged"},route:{type:String}},_notificationsLength:function(t){return t?t.length:0},_openedChanged:function(t){t&&this.async(function(){this.markCurrentAsViewed()}.bind(this),25)},_getNotificationTypeAndName:function(t,i){return t?this.t(t)+" "+(i||""):""},_openEdit:function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("userEdit",function(t){t.setup(this.user,!1,null),t.open("edit",{userId:this.user.id})}.bind(this))},_clearScrollThreshold:function(){this.$$("#threshold").clearTriggers()},_markAllAsViewed:function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(t){t.open(this.t("notificationConfirmMarkAllViewed"),this._reallyMarkAllAsViewed.bind(this))}.bind(this))},_reallyMarkAllAsViewed:function(){this.$.markAllAsViewedAjax.body={},this.$.markAllAsViewedAjax.generateRequest()},_handleUnViewedCount:function(t){this.set("unViewedCount",t),this.fire("yp-set-number-of-un-viewed-notifications",{count:t})},markCurrentAsViewed:function(){this._markAsViewed(this.notifications)},_markAsViewed:function(t){var i=[];t&&t.forEach(function(t){t.viewed||i.push(t.id)}),0<i.length&&(this.$.setAsViewedAjax.body={viewedIds:i},this.$.setAsViewedAjax.generateRequest())},_setAsViewedResponse:function(t,i){this._handleUnViewedCount(i.response.unViewedCount);var o=i.response.viewedIds;this.notifications&&this.notifications.forEach(function(t,i,e){-1<o.indexOf(t.id)&&(e[i].viewed=!0)})},_setAsMarkAllViewedResponse:function(){this._handleUnViewedCount(0),this._setAllLocalCurrentAsViewed()},_setAllLocalCurrentAsViewed:function(){this.notifications&&this.notifications.forEach(function(t,i,e){e[i].viewed=!0})},_newNotificationsError:function(t,i){console.error("Error in getting new notifications"),navigator.onLine?this.cancelTimer():this._startTimer(),i&&i.status&&401==i.status&&window.appUser.checkLogin()},_userChanged:function(t){t?(this.$.loadNotificationsAjax.url=this.url,this.$.loadNotificationsAjax.generateRequest()):this.cancelTimer()},_loggedInUserChanged:function(t){t||this.cancelTimer()},cancelTimer:function(){this.timer&&(clearTimeout(this.timer),this.set("timer",null))},_notificationType:function(t,i){return t.type==i||("postNotification"==i?-1<["notification.post.new","notification.post.endorsement"].indexOf(t.type):"pointNotification"==i?-1<["notification.point.new","notification.point.quality"].indexOf(t.type):"system"!=i&&void 0)},_loadNotificationsResponse:function(t,i){var e=i.response.notifications;i.response.oldestProcessedNotificationAt&&this.set("oldestProcessedNotificationAt",i.response.oldestProcessedNotificationAt),this.notifications?e.forEach(function(t){this.push("notifications",t)}.bind(this)):this.set("notifications",e),this._finalizeAfterResponse(e),this.firstReponse?(this.set("firstReponse",!1),this.loadNewData()):this.opened&&this._markAsViewed(e),this._handleUnViewedCount(i.response.unViewedCount)},_startTimer:function(){this.cancelTimer(),this.user&&(this.timer=this.async(function(){this.loadNewData(),this.lastFetchStartedAt=Date.now()}.bind(this),this.notificationGetTTL))},_sendReloadPointsEvents:function(t){t.forEach(function(t){if("notification.point.new"==t.type){var i=t.AcActivities[0].User;window.appUser.user&&i&&window.appUser.user.id!=i.id&&document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"yp-update-points-for-post",data:{postId:t.AcActivities[0].Post.id}}}))}}.bind(this))},_loadNewNotificationsResponse:function(t,i){var e=i.response.notifications;if(e.forEach(function(t){this._removeOldIfExists(t),t.type}.bind(this)),e.forEach(function(t){this.unshift("notifications",t)}.bind(this)),this._finalizeAfterResponse(e),this._startTimer(),this._displayToast(e),this._sendReloadPointsEvents(e),this.opened&&this._markAsViewed(e),this._handleUnViewedCount(i.response.unViewedCount),this.$$("#list")&&this.$$("#list").fire("iron-resize"),this.lastFetchStartedAt){var o=Date.now()-this.lastFetchStartedAt;1e3<o?(console.warn("Setting notificationGetTTL = 60000"),this.notificationGetTTL=6e4):1e4<o&&(console.warn("Setting notificationGetTTL = 60000*5"),this.notificationGetTTL=3e5)}},_removeOldIfExists:function(e){this.notifications.forEach(function(t,i){t.id==e.id&&this.splice("notifications",i,1)}.bind(this))},_getNotificationText:function(t){var i,e;return t.AcActivities[0].Post&&(i=this.truncate(t.AcActivities[0].Post.name,30)+": "),t.AcActivities[0].object&&(e=t.AcActivities[0].object),"notification.post.new"===t.type?i+this.t("post.new"):"notification.post.endorsement"===t.type?"activity.post.endorsement.new"===t.AcActivities[0].type?i+this.t("endorsedYourPost"):i+this.t("opposedYourPost"):"notification.point.new"===t.type?0<t.AcActivities[0].Point.value?i+this.t("point.forAdded"):i+this.t("point.againstAdded"):"notification.point.quality"===t.type?"activity.point.helpful.new"===t.AcActivities[0].type?i+this.t("upVotedPoint"):i+this.t("downVotedPoint"):"notification.generalUserNotification"==t.type&&e?this.t(e.type)+" "+e.name:void 0},_displayToast:function(t){var i=__.reject(t,function(t){var i=t.AcActivities[0].User;return!(window.appUser.user&&i&&window.appUser.user.id!=i.id)&&"notification.generalUserNotification"===!t.type});if(0<i.length){var e=i[0].AcActivities[0].User;Polymer.dom(document).querySelector("yp-app").getDialogAsync("notificationToast",function(t){t.open(e,this._getNotificationText(i[0]),"notification.generalUserNotification"===i[0].type)}.bind(this))}},_finalizeAfterResponse:function(t){0<t.length&&((!this.latestProcessedNotificationAt||this.latestProcessedNotificationAt<t[0].updated_at)&&this.set("latestProcessedNotificationAt",t[0].updated_at),this.set("moreToLoad",!0)),this.async(function(){this.$$("#list")&&this.$$("#list").fire("iron-resize")},100)},_loadMoreData:function(){this._clearScrollThreshold(),this.oldestProcessedNotificationAt&&(this.set("moreToLoad",!1),this.$.loadNotificationsAjax.url=this.url+"?beforeDate="+this.oldestProcessedNotificationAt,this.$.loadNotificationsAjax.generateRequest())},loadNewData:function(){this.latestProcessedNotificationAt?(this.$.loadNewNotificationsAjax.url=this.url+"?afterDate="+this.latestProcessedNotificationAt,this.$.loadNewNotificationsAjax.generateRequest()):this.latestProcessedNotificationAt||(this.$.loadNewNotificationsAjax.url=this.url,this.$.loadNewNotificationsAjax.generateRequest())}})</script></dom-module><script>Polymer.PaperItemBehaviorImpl={hostAttributes:{role:"option",tabindex:"0"}},Polymer.PaperItemBehavior=[Polymer.IronButtonState,Polymer.IronControlState,Polymer.PaperItemBehaviorImpl]</script><dom-module id="paper-item-shared-styles"assetpath="../../bower_components/paper-item/"><template><style>:host, .paper-item{display:block;position:relative;min-height:var(--paper-item-min-height, 48px);padding:0px 16px;}.paper-item{@apply --paper-font-subhead;border:none;outline:none;background:white;width:100%;text-align:left;}:host([hidden]), .paper-item[hidden]{display:none !important;}:host(.iron-selected), .paper-item.iron-selected{font-weight:var(--paper-item-selected-weight, bold);@apply --paper-item-selected;}:host([disabled]), .paper-item[disabled]{color:var(--paper-item-disabled-color, var(--disabled-text-color));@apply --paper-item-disabled;}:host(:focus), .paper-item:focus{position:relative;outline:0;@apply --paper-item-focused;}:host(:focus):before, .paper-item:focus:before{@apply --layout-fit;background:currentColor;content:'';opacity:var(--dark-divider-opacity);pointer-events:none;@apply --paper-item-focused-before;}</style></template></dom-module><dom-module id="paper-item"assetpath="../../bower_components/paper-item/"><template><style include="paper-item-shared-styles">:host{@apply --layout-horizontal;@apply --layout-center;@apply --paper-font-subhead;@apply --paper-item;}</style><slot></slot></template><script>Polymer({is:"paper-item",behaviors:[Polymer.PaperItemBehavior]})</script></dom-module><script>Polymer.IronFormElementBehavior={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1},_parentForm:{type:Object}},attached:function(){Polymer.Element||this.fire("iron-form-element-register")},detached:function(){!Polymer.Element&&this._parentForm&&this._parentForm.fire("iron-form-element-unregister",{target:this})}}</script><script>Polymer.IronValidatableBehaviorMeta=null,Polymer.IronValidatableBehavior={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1,observer:"_invalidChanged"}},registered:function(){Polymer.IronValidatableBehaviorMeta=new Polymer.IronMeta({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},get _validator(){return Polymer.IronValidatableBehaviorMeta&&Polymer.IronValidatableBehaviorMeta.byKey(this.validator)},hasValidator:function(){return null!=this._validator},validate:function(i){return void 0===i&&void 0!==this.value?this.invalid=!this._getValidity(this.value):this.invalid=!this._getValidity(i),!this.invalid},_getValidity:function(i){return!this.hasValidator()||this._validator.validate(i)}}</script><dom-module id="iron-input"assetpath="../../bower_components/iron-input/"><template><style>:host{display:inline-block;}</style><slot id="content"></slot></template><script>Polymer({is:"iron-input",behaviors:[Polymer.IronValidatableBehavior],properties:{bindValue:{type:String,value:""},value:{type:String,computed:"_computeValue(bindValue)"},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1},_inputElement:Object},observers:["_bindValueChanged(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},created:function(){Polymer.IronA11yAnnouncer.requestAvailability(),this._previousValidInput="",this._patternAlreadyChecked=!1},attached:function(){this._observer=Polymer.dom(this).observeNodes(function(e){this._initSlottedInput()}.bind(this))},detached:function(){this._observer&&(Polymer.dom(this).unobserveNodes(this._observer),this._observer=null)},get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this.getEffectiveChildren()[0],this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value),this.fire("iron-input-ready")},get _patternRegExp(){var e;if(this.allowedPattern)e=new RegExp(this.allowedPattern);else switch(this.inputElement.type){case"number":e=/[0-9.,e-]/}return e},_bindValueChanged:function(e,t){t&&(void 0===e?t.value=null:e!==t.value&&(this.inputElement.value=e),this.autoValidate&&this.validate(),this.fire("bind-value-changed",{value:e}))},_onInput:function(){this.allowedPattern&&!this._patternAlreadyChecked&&(this._checkPatternValidity()||(this._announceInvalidCharacter("Invalid string of characters not entered."),this.inputElement.value=this._previousValidInput));this.bindValue=this._previousValidInput=this.inputElement.value,this._patternAlreadyChecked=!1},_isPrintable:function(e){var t=8==e.keyCode||9==e.keyCode||13==e.keyCode||27==e.keyCode,i=19==e.keyCode||20==e.keyCode||45==e.keyCode||46==e.keyCode||144==e.keyCode||145==e.keyCode||32<e.keyCode&&e.keyCode<41||111<e.keyCode&&e.keyCode<124;return!(t||0==e.charCode&&i)},_onKeypress:function(e){if(this.allowedPattern||"number"===this.inputElement.type){var t=this._patternRegExp;if(t&&!(e.metaKey||e.ctrlKey||e.altKey)){this._patternAlreadyChecked=!0;var i=String.fromCharCode(e.charCode);this._isPrintable(e)&&!t.test(i)&&(e.preventDefault(),this._announceInvalidCharacter("Invalid character "+i+" not entered."))}}},_checkPatternValidity:function(){var e=this._patternRegExp;if(!e)return!0;for(var t=0;t<this.inputElement.value.length;t++)if(!e.test(this.inputElement.value[t]))return!1;return!0},validate:function(){if(!this.inputElement)return!(this.invalid=!1);var e=this.inputElement.checkValidity();return e&&(this.required&&""===this.bindValue?e=!1:this.hasValidator()&&(e=Polymer.IronValidatableBehavior.validate.call(this,this.bindValue))),this.invalid=!e,this.fire("iron-input-validate"),e},_announceInvalidCharacter:function(e){this.fire("iron-announce",{text:e})},_computeValue:function(e){return e}})</script></dom-module><script>Polymer.PaperInputHelper={},Polymer.PaperInputHelper.NextLabelID=1,Polymer.PaperInputHelper.NextAddonID=1,Polymer.PaperInputHelper.NextInputID=1,Polymer.PaperInputBehaviorImpl={properties:{label:{type:String},value:{notify:!0,type:String},disabled:{type:Boolean,value:!1},invalid:{type:Boolean,value:!1,notify:!0},allowedPattern:{type:String},type:{type:String},list:{type:String},pattern:{type:String},required:{type:Boolean,value:!1},errorMessage:{type:String},charCounter:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},autoValidate:{type:Boolean,value:!1},validator:{type:String},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,observer:"_autofocusChanged"},inputmode:{type:String},minlength:{type:Number},maxlength:{type:Number},min:{type:String},max:{type:String},step:{type:String},name:{type:String},placeholder:{type:String,value:""},readonly:{type:Boolean,value:!1},size:{type:Number},autocapitalize:{type:String,value:"none"},autocorrect:{type:String,value:"off"},autosave:{type:String},results:{type:Number},accept:{type:String},multiple:{type:Boolean},_ariaDescribedBy:{type:String,value:""},_ariaLabelledBy:{type:String,value:""},_inputId:{type:String,value:""}},listeners:{"addon-attached":"_onAddonAttached"},keyBindings:{"shift+tab:keydown":"_onShiftTabDown"},hostAttributes:{tabindex:0},get inputElement(){return this.$||(this.$={}),this.$.input||(this._generateInputId(),this.$.input=this.$$("#"+this._inputId)),this.$.input},get _focusableElement(){return this.inputElement},created:function(){this._typesThatHaveText=["date","datetime","datetime-local","month","time","week","file"]},attached:function(){this._updateAriaLabelledBy(),!Polymer.Element&&this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.inputElement.type)&&(this.alwaysFloatLabel=!0)},_appendStringWithSpace:function(e,t){return e=e?e+" "+t:t},_onAddonAttached:function(e){var t=Polymer.dom(e).rootTarget;if(t.id)this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,t.id);else{var a="paper-input-add-on-"+Polymer.PaperInputHelper.NextAddonID++;t.id=a,this._ariaDescribedBy=this._appendStringWithSpace(this._ariaDescribedBy,a)}},validate:function(){return this.inputElement.validate()},_focusBlurHandler:function(e){Polymer.IronControlState._focusBlurHandler.call(this,e),this.focused&&!this._shiftTabPressed&&this._focusableElement&&this._focusableElement.focus()},_onShiftTabDown:function(){var e=this.getAttribute("tabindex");this._shiftTabPressed=!0,this.setAttribute("tabindex","-1"),this.async(function(){this.setAttribute("tabindex",e),this._shiftTabPressed=!1},1)},_handleAutoValidate:function(){this.autoValidate&&this.validate()},updateValueAndPreserveCaret:function(t){try{var e=this.inputElement.selectionStart;this.value=t,this.inputElement.selectionStart=e,this.inputElement.selectionEnd=e}catch(e){this.value=t}},_computeAlwaysFloatLabel:function(e,t){return t||e},_updateAriaLabelledBy:function(){var e,t=Polymer.dom(this.root).querySelector("label");t?(t.id?e=t.id:(e="paper-input-label-"+Polymer.PaperInputHelper.NextLabelID++,t.id=e),this._ariaLabelledBy=e):this._ariaLabelledBy=""},_generateInputId:function(){this._inputId&&""!==this._inputId||(this._inputId="input-"+Polymer.PaperInputHelper.NextInputID++)},_onChange:function(e){this.shadowRoot&&this.fire(e.type,{sourceEvent:e},{node:this,bubbles:e.bubbles,cancelable:e.cancelable})},_autofocusChanged:function(){if(this.autofocus&&this._focusableElement){var e=document.activeElement;babelHelpers.instanceof(e,HTMLElement)&&e!==document.body&&e!==document.documentElement||this._focusableElement.focus()}}},Polymer.PaperInputBehavior=[Polymer.IronControlState,Polymer.IronA11yKeysBehavior,Polymer.PaperInputBehaviorImpl]</script><script>Polymer.PaperInputAddonBehavior={attached:function(){this.fire("addon-attached")},update:function(){}}</script><dom-module id="paper-input-char-counter"assetpath="../../bower_components/paper-input/"><template><style>:host{display:inline-block;float:right;@apply --paper-font-caption;@apply --paper-input-char-counter;}:host([hidden]){display:none !important;}:host(:dir(rtl)){float:left;}</style><span>[[_charCounterStr]]</span></template></dom-module><script>Polymer({is:"paper-input-char-counter",behaviors:[Polymer.PaperInputAddonBehavior],properties:{_charCounterStr:{type:String,value:"0"}},update:function(t){if(t.inputElement){t.value=t.value||"";var e=t.value.toString().length.toString();t.inputElement.hasAttribute("maxlength")&&(e+="/"+t.inputElement.getAttribute("maxlength")),this._charCounterStr=e}}})</script><custom-style><style is="custom-style">html{--paper-input-container-shared-input-style:{position:relative;outline:none;box-shadow:none;padding:0;margin:0;width:100%;max-width:100%;background:transparent;border:none;color:var(--paper-input-container-input-color, var(--primary-text-color));-webkit-appearance:none;text-align:inherit;vertical-align:bottom;@apply --paper-font-subhead;};}</style></custom-style><dom-module id="paper-input-container"assetpath="../../bower_components/paper-input/"><template><style>:host{display:block;padding:8px 0;@apply --paper-input-container;}:host([inline]){display:inline-block;}:host([disabled]){pointer-events:none;opacity:0.33;@apply --paper-input-container-disabled;}:host([hidden]){display:none !important;}[hidden]{display:none !important;}.floated-label-placeholder{@apply --paper-font-caption;}.underline{height:2px;position:relative;}.focused-line{@apply --layout-fit;border-bottom:2px solid var(--paper-input-container-focus-color, var(--primary-color));-webkit-transform-origin:center center;transform-origin:center center;-webkit-transform:scale3d(0,1,1);transform:scale3d(0,1,1);@apply --paper-input-container-underline-focus;}.underline.is-highlighted .focused-line{-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform 0.25s;transition:transform 0.25s;@apply --paper-transition-easing;}.underline.is-invalid .focused-line{border-color:var(--paper-input-container-invalid-color, var(--error-color));-webkit-transform:none;transform:none;-webkit-transition:-webkit-transform 0.25s;transition:transform 0.25s;@apply --paper-transition-easing;}.unfocused-line{@apply --layout-fit;border-bottom:1px solid var(--paper-input-container-color, var(--secondary-text-color));@apply --paper-input-container-underline;}:host([disabled]) .unfocused-line{border-bottom:1px dashed;border-color:var(--paper-input-container-color, var(--secondary-text-color));@apply --paper-input-container-underline-disabled;}.input-wrapper{@apply --layout-horizontal;@apply --layout-center;position:relative;}.input-content{@apply --layout-flex-auto;@apply --layout-relative;max-width:100%;}.input-content ::slotted(label),
      .input-content ::slotted(.paper-input-label){position:absolute;top:0;left:0;width:100%;font:inherit;color:var(--paper-input-container-color, var(--secondary-text-color));-webkit-transition:-webkit-transform 0.25s, width 0.25s;transition:transform 0.25s, width 0.25s;-webkit-transform-origin:left top;transform-origin:left top;min-height:1px;@apply --paper-font-common-nowrap;@apply --paper-font-subhead;@apply --paper-input-container-label;@apply --paper-transition-easing;}.input-content.label-is-floating ::slotted(label),
      .input-content.label-is-floating ::slotted(.paper-input-label){-webkit-transform:translateY(-75%) scale(0.75);transform:translateY(-75%) scale(0.75);width:133%;@apply --paper-input-container-label-floating;}:host(:dir(rtl)) .input-content.label-is-floating ::slotted(label),
      :host(:dir(rtl)) .input-content.label-is-floating ::slotted(.paper-input-label){right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;}.input-content.label-is-highlighted ::slotted(label),
      .input-content.label-is-highlighted ::slotted(.paper-input-label){color:var(--paper-input-container-focus-color, var(--primary-color));@apply --paper-input-container-label-focus;}.input-content.is-invalid ::slotted(label),
      .input-content.is-invalid ::slotted(.paper-input-label){color:var(--paper-input-container-invalid-color, var(--error-color));}.input-content.label-is-hidden ::slotted(label),
      .input-content.label-is-hidden ::slotted(.paper-input-label){visibility:hidden;}.input-content ::slotted(input),
      .input-content ::slotted(iron-input),
      .input-content ::slotted(textarea),
      .input-content ::slotted(iron-autogrow-textarea),
      .input-content ::slotted(.paper-input-input){@apply --paper-input-container-shared-input-style;color:var(--paper-input-container-input-color, var(--primary-text-color));@apply --paper-input-container-input;}.input-content ::slotted(input)::-webkit-outer-spin-button,
      .input-content ::slotted(input)::-webkit-inner-spin-button{@apply --paper-input-container-input-webkit-spinner;}.input-content.focused ::slotted(input),
      .input-content.focused ::slotted(iron-input),
      .input-content.focused ::slotted(textarea),
      .input-content.focused ::slotted(iron-autogrow-textarea),
      .input-content.focused ::slotted(.paper-input-input){@apply --paper-input-container-input-focus;}.input-content.is-invalid ::slotted(input),
      .input-content.is-invalid ::slotted(iron-input),
      .input-content.is-invalid ::slotted(textarea),
      .input-content.is-invalid ::slotted(iron-autogrow-textarea),
      .input-content.is-invalid ::slotted(.paper-input-input){@apply --paper-input-container-input-invalid;}.prefix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-prefix;}.suffix ::slotted(*){display:inline-block;@apply --paper-font-subhead;@apply --layout-flex-none;@apply --paper-input-suffix;}.input-content ::slotted(input){min-width:0;}.input-content ::slotted(textarea){resize:none;}.add-on-content{position:relative;}.add-on-content.is-invalid ::slotted(*){color:var(--paper-input-container-invalid-color, var(--error-color));}.add-on-content.is-highlighted ::slotted(*){color:var(--paper-input-container-focus-color, var(--primary-color));}</style><div class="floated-label-placeholder"aria-hidden="true"hidden="[[noLabelFloat]]">&nbsp;</div><div class="input-wrapper"><span class="prefix"><slot name="prefix"></slot></span><div class$="[[_computeInputContentClass(noLabelFloat,alwaysFloatLabel,focused,invalid,_inputHasContent)]]"id="labelAndInputContainer"><slot name="label"></slot><slot name="input"></slot></div><span class="suffix"><slot name="suffix"></slot></span></div><div class$="[[_computeUnderlineClass(focused,invalid)]]"><div class="unfocused-line"></div><div class="focused-line"></div></div><div class$="[[_computeAddOnContentClass(focused,invalid)]]"><slot name="add-on"></slot></div></template></dom-module><script>Polymer({is:"paper-input-container",properties:{noLabelFloat:{type:Boolean,value:!1},alwaysFloatLabel:{type:Boolean,value:!1},attrForValue:{type:String,value:"bind-value"},autoValidate:{type:Boolean,value:!1},invalid:{observer:"_invalidChanged",type:Boolean,value:!1},focused:{readOnly:!0,type:Boolean,value:!1,notify:!0},_addons:{type:Array},_inputHasContent:{type:Boolean,value:!1},_inputSelector:{type:String,value:"input,iron-input,textarea,.paper-input-input"},_boundOnFocus:{type:Function,value:function(){return this._onFocus.bind(this)}},_boundOnBlur:{type:Function,value:function(){return this._onBlur.bind(this)}},_boundOnInput:{type:Function,value:function(){return this._onInput.bind(this)}},_boundValueChanged:{type:Function,value:function(){return this._onValueChanged.bind(this)}}},listeners:{"addon-attached":"_onAddonAttached","iron-input-validate":"_onIronInputValidate"},get _valueChangedEvent(){return this.attrForValue+"-changed"},get _propertyForValue(){return Polymer.CaseMap.dashToCamelCase(this.attrForValue)},get _inputElement(){return Polymer.dom(this).querySelector(this._inputSelector)},get _inputElementValue(){return this._inputElement[this._propertyForValue]||this._inputElement.value},ready:function(){this.__isFirstValueUpdate=!0,this._addons||(this._addons=[]),this.addEventListener("focus",this._boundOnFocus,!0),this.addEventListener("blur",this._boundOnBlur,!0)},attached:function(){this.attrForValue?this._inputElement.addEventListener(this._valueChangedEvent,this._boundValueChanged):this.addEventListener("input",this._onInput),this._inputElementValue&&""!=this._inputElementValue?this._handleValueAndAutoValidate(this._inputElement):this._handleValue(this._inputElement)},_onAddonAttached:function(t){this._addons||(this._addons=[]);var n=t.target;-1===this._addons.indexOf(n)&&(this._addons.push(n),this.isAttached&&this._handleValue(this._inputElement))},_onFocus:function(){this._setFocused(!0)},_onBlur:function(){this._setFocused(!1),this._handleValueAndAutoValidate(this._inputElement)},_onInput:function(t){this._handleValueAndAutoValidate(t.target)},_onValueChanged:function(t){var n=t.target;this.__isFirstValueUpdate&&(this.__isFirstValueUpdate=!1,void 0===n.value||""===n.value)||this._handleValueAndAutoValidate(t.target)},_handleValue:function(t){var n=this._inputElementValue;n||0===n||"number"===t.type&&!t.checkValidity()?this._inputHasContent=!0:this._inputHasContent=!1,this.updateAddons({inputElement:t,value:n,invalid:this.invalid})},_handleValueAndAutoValidate:function(t){var n;this.autoValidate&&t&&(n=t.validate?t.validate(this._inputElementValue):t.checkValidity(),this.invalid=!n);this._handleValue(t)},_onIronInputValidate:function(){this.invalid=this._inputElement.invalid},_invalidChanged:function(){this._addons&&this.updateAddons({invalid:this.invalid})},updateAddons:function(t){for(var n,e=0;n=this._addons[e];e++)n.update(t)},_computeInputContentClass:function(t,n,e,i,a){var u="input-content";if(t)a&&(u+=" label-is-hidden"),i&&(u+=" is-invalid");else{var l=this.querySelector("label");n||a?(u+=" label-is-floating",this.$.labelAndInputContainer.style.position="static",i?u+=" is-invalid":e&&(u+=" label-is-highlighted")):(l&&(this.$.labelAndInputContainer.style.position="relative"),i&&(u+=" is-invalid"))}return e&&(u+=" focused"),u},_computeUnderlineClass:function(t,n){var e="underline";return n?e+=" is-invalid":t&&(e+=" is-highlighted"),e},_computeAddOnContentClass:function(t,n){var e="add-on-content";return n?e+=" is-invalid":t&&(e+=" is-highlighted"),e}})</script><dom-module id="paper-input-error"assetpath="../../bower_components/paper-input/"><template><style>:host{display:inline-block;visibility:hidden;color:var(--paper-input-container-invalid-color, var(--error-color));@apply --paper-font-caption;@apply --paper-input-error;position:absolute;left:0;right:0;}:host([invalid]){visibility:visible;}</style><slot></slot></template></dom-module><script>Polymer({is:"paper-input-error",behaviors:[Polymer.PaperInputAddonBehavior],properties:{invalid:{readOnly:!0,reflectToAttribute:!0,type:Boolean}},update:function(e){this._setInvalid(e.invalid)}})</script><dom-module id="paper-input"assetpath="../../bower_components/paper-input/"><template><style>:host{display:block;}:host([focused]){outline:none;}:host([hidden]){display:none !important;}input{min-width:0;}iron-input > input{@apply --paper-input-container-shared-input-style;font-family:inherit;font-weight:inherit;font-size:inherit;letter-spacing:inherit;word-spacing:inherit;line-height:inherit;text-shadow:inherit;color:inherit;cursor:inherit;}input:disabled{@apply --paper-input-container-input-disabled;}input::-webkit-outer-spin-button,
      input::-webkit-inner-spin-button{@apply --paper-input-container-input-webkit-spinner;}input::-webkit-clear-button{@apply --paper-input-container-input-webkit-clear;}input::-webkit-calendar-picker-indicator{@apply --paper-input-container-input-webkit-calendar-picker-indicator;}input::-webkit-input-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input:-moz-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input::-moz-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}input::-ms-clear{@apply --paper-input-container-ms-clear;}input::-ms-reveal{@apply --paper-input-container-ms-reveal;}input:-ms-input-placeholder{color:var(--paper-input-container-color, var(--secondary-text-color));}label{pointer-events:none;}</style><paper-input-container id="container"no-label-float="[[noLabelFloat]]"always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]"auto-validate$="[[autoValidate]]"disabled$="[[disabled]]"invalid="[[invalid]]"><slot name="prefix"slot="prefix"></slot><label hidden$="[[!label]]"aria-hidden="true"for$="[[_inputId]]"slot="label">[[label]]</label> <span id="template-placeholder"></span><slot name="suffix"slot="suffix"></slot><template is="dom-if"if="[[errorMessage]]"><paper-input-error aria-live="assertive"slot="add-on">[[errorMessage]]</paper-input-error></template><template is="dom-if"if="[[charCounter]]"><paper-input-char-counter slot="add-on"></paper-input-char-counter></template></paper-input-container></template><template id="v0"><input is="iron-input"slot="input"class="input-element"id$="[[_inputId]]"aria-labelledby$="[[_ariaLabelledBy]]"aria-describedby$="[[_ariaDescribedBy]]"disabled$="[[disabled]]"title$="[[title]]"bind-value="{{value}}"invalid="{{invalid}}"prevent-invalid-input="[[preventInvalidInput]]"allowed-pattern="[[allowedPattern]]"validator="[[validator]]"type$="[[type]]"pattern$="[[pattern]]"required$="[[required]]"autocomplete$="[[autocomplete]]"autofocus$="[[autofocus]]"inputmode$="[[inputmode]]"minlength$="[[minlength]]"maxlength$="[[maxlength]]"min$="[[min]]"max$="[[max]]"step$="[[step]]"name$="[[name]]"placeholder$="[[placeholder]]"readonly$="[[readonly]]"list$="[[list]]"size$="[[size]]"autocapitalize$="[[autocapitalize]]"autocorrect$="[[autocorrect]]"on-change="_onChange"tabindex$="[[tabIndex]]"autosave$="[[autosave]]"results$="[[results]]"accept$="[[accept]]"multiple$="[[multiple]]"></template><template id="v1"><iron-input bind-value="{{value}}"slot="input"class="input-element"id$="[[_inputId]]"maxlength$="[[maxlength]]"allowed-pattern="[[allowedPattern]]"invalid="{{invalid}}"validator="[[validator]]"><input aria-labelledby$="[[_ariaLabelledBy]]"aria-describedby$="[[_ariaDescribedBy]]"disabled$="[[disabled]]"title$="[[title]]"type$="[[type]]"pattern$="[[pattern]]"required$="[[required]]"autocomplete$="[[autocomplete]]"autofocus$="[[autofocus]]"inputmode$="[[inputmode]]"minlength$="[[minlength]]"maxlength$="[[maxlength]]"min$="[[min]]"max$="[[max]]"step$="[[step]]"name$="[[name]]"placeholder$="[[placeholder]]"readonly$="[[readonly]]"list$="[[list]]"size$="[[size]]"autocapitalize$="[[autocapitalize]]"autocorrect$="[[autocorrect]]"on-change="_onChange"tabindex$="[[tabIndex]]"autosave$="[[autosave]]"results$="[[results]]"accept$="[[accept]]"multiple$="[[multiple]]"></iron-input></template></dom-module><script>Polymer({is:"paper-input",behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{value:{type:String}},beforeRegister:function(){var e="function"==typeof document.createElement("iron-input")._initSlottedInput?"v1":"v0",t=Polymer.DomModule.import("paper-input","template"),n=Polymer.DomModule.import("paper-input","template#"+e),i=t.content.querySelector("#template-placeholder");i&&i.parentNode.replaceChild(n.content,i)},get _focusableElement(){return Polymer.Element?this.inputElement._inputElement:this.inputElement},listeners:{"iron-input-ready":"_onIronInputReady"},_onIronInputReady:function(){this.$.nativeInput||(this.$.nativeInput=this.$$("input")),this.inputElement&&-1!==this._typesThatHaveText.indexOf(this.$.nativeInput.type)&&(this.alwaysFloatLabel=!0),this.inputElement.bindValue&&this.$.container._handleValueAndAutoValidate(this.inputElement)}})</script><iron-iconset-svg name="paper-dropdown-menu"size="24"><svg><defs><g id="arrow-drop-down"><path d="M7 10l5 5 5-5z"></path></g></defs></svg></iron-iconset-svg><dom-module id="paper-dropdown-menu-shared-styles"assetpath="../../bower_components/paper-dropdown-menu/"><template><style>:host{display:inline-block;position:relative;text-align:left;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent;--paper-input-container-input:{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;max-width:100%;box-sizing:border-box;cursor:pointer;};@apply --paper-dropdown-menu;}:host([disabled]){@apply --paper-dropdown-menu-disabled;}:host([noink]) paper-ripple{display:none;}:host([no-label-float]) paper-ripple{top:8px;}paper-ripple{top:12px;left:0px;bottom:8px;right:0px;@apply --paper-dropdown-menu-ripple;}paper-menu-button{display:block;padding:0;@apply --paper-dropdown-menu-button;}paper-input{@apply --paper-dropdown-menu-input;}iron-icon{color:var(--disabled-text-color);@apply --paper-dropdown-menu-icon;}</style></template></dom-module><dom-module id="paper-dropdown-menu"assetpath="../../bower_components/paper-dropdown-menu/"><template><style include="paper-dropdown-menu-shared-styles"></style><span role="button"></span><paper-menu-button id="menuButton"vertical-align="[[verticalAlign]]"horizontal-align="[[horizontalAlign]]"dynamic-align="[[dynamicAlign]]"vertical-offset="[[_computeMenuVerticalOffset(noLabelFloat, verticalOffset)]]"disabled="[[disabled]]"no-animations="[[noAnimations]]"on-iron-select="_onIronSelect"on-iron-deselect="_onIronDeselect"opened="{{opened}}"close-on-activate=""allow-outside-scroll="[[allowOutsideScroll]]"restore-focus-on-close="[[restoreFocusOnClose]]"><div class="dropdown-trigger"slot="dropdown-trigger"><paper-ripple></paper-ripple><paper-input type="text"invalid="[[invalid]]"readonly=""disabled="[[disabled]]"value="[[value]]"placeholder="[[placeholder]]"error-message="[[errorMessage]]"always-float-label="[[alwaysFloatLabel]]"no-label-float="[[noLabelFloat]]"label="[[label]]"><iron-icon icon="paper-dropdown-menu:arrow-drop-down"suffix=""slot="suffix"></iron-icon></paper-input></div><slot id="content"name="dropdown-content"slot="dropdown-content"></slot></paper-menu-button></template><script>!function(){"use strict";Polymer({is:"paper-dropdown-menu",behaviors:[Polymer.IronButtonState,Polymer.IronControlState,Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],properties:{selectedItemLabel:{type:String,notify:!0,readOnly:!0},selectedItem:{type:Object,notify:!0,readOnly:!0},value:{type:String,notify:!0},label:{type:String},placeholder:{type:String},errorMessage:{type:String},opened:{type:Boolean,notify:!0,value:!1,observer:"_openedChanged"},allowOutsideScroll:{type:Boolean,value:!1},noLabelFloat:{type:Boolean,value:!1,reflectToAttribute:!0},alwaysFloatLabel:{type:Boolean,value:!1},noAnimations:{type:Boolean,value:!1},horizontalAlign:{type:String,value:"right"},verticalAlign:{type:String,value:"top"},verticalOffset:Number,dynamicAlign:{type:Boolean},restoreFocusOnClose:{type:Boolean,value:!0}},listeners:{tap:"_onTap"},keyBindings:{"up down":"open",esc:"close"},hostAttributes:{role:"combobox","aria-autocomplete":"none","aria-haspopup":"true"},observers:["_selectedItemChanged(selectedItem)"],attached:function(){var e=this.contentElement;e&&e.selectedItem&&this._setSelectedItem(e.selectedItem)},get contentElement(){for(var e=Polymer.dom(this.$.content).getDistributedNodes(),t=0,n=e.length;t<n;t++)if(e[t].nodeType===Node.ELEMENT_NODE)return e[t]},open:function(){this.$.menuButton.open()},close:function(){this.$.menuButton.close()},_onIronSelect:function(e){this._setSelectedItem(e.detail.item)},_onIronDeselect:function(){this._setSelectedItem(null)},_onTap:function(e){Polymer.Gestures.findOriginalTarget(e)===this&&this.open()},_selectedItemChanged:function(e){var t="";t=e?e.label||e.getAttribute("label")||e.textContent.trim():"",this.value=t,this._setSelectedItemLabel(t)},_computeMenuVerticalOffset:function(e,t){return t||(e?-4:8)},_getValidity:function(){return this.disabled||!this.required||this.required&&!!this.value},_openedChanged:function(){var e=this.opened?"true":"false",t=this.contentElement;t&&t.setAttribute("aria-expanded",e)}})}()</script></dom-module><dom-module id="yp-language-selector"assetpath="../yp-app-globals/"><template><style include="iron-flex iron-flex-alignment">:host{padding-top:8px;}paper-dropdown-menu{max-width:250px;}.translateButton{padding:8px;color:var(--accent-color);margin-top:8px;}.stopTranslateButton{padding:8px;color:white;background:var(--accent-color);margin-top:8px;}.translateText{margin-left:8px;}.stopIcon{margin-left:8px;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><lite-signal on-lite-signal-yp-auto-translate="_autoTranslateEvent"></lite-signal><lite-signal on-lite-signal-yp-refresh-language-selection="_refreshLanguage"></lite-signal><div class="layout vertical"><template is="dom-if"if="[[dropdownVisible]]"restamp=""><paper-dropdown-menu label="Select language"selected="{{selectedLocale}}"attr-for-selected="name"><paper-listbox slot="dropdown-content"selected="{{selectedLocale}}"attr-for-selected="name"><template is="dom-repeat"items="[[languages]]"><paper-item name="[[item.language]]">[[item.name]]</paper-item></template></paper-listbox></paper-dropdown-menu></template><div hidden$="[[!canUseAutoTranslate]]"><paper-button hidden$="[[autoTranslate]]"raised=""class="layout horizontal translateButton"on-tap="_startTranslation"title="{{t('autoTranslate')}}"><iron-icon icon="translate"></iron-icon><div class="translateText">{{t('autoTranslate')}}</div></paper-button><paper-button hidden$="[[!autoTranslate]]"raised=""class="layout horizontal stopTranslateButton"on-tap="_stopTranslation"title="{{t('stopAutoTranslate')}}"><iron-icon icon="translate"></iron-icon><iron-icon class="stopIcon"icon="do-not-disturb"></iron-icon></paper-button></div></div><yp-ajax id="hasAutoTranslationAjax"url="/api/users/has/AutoTranslation"on-response="_hasAutoTranslationResponse"></yp-ajax></template><script>Polymer({is:"yp-language-selector",behaviors:[Polymer.ypLanguageBehavior,Polymer.IronFormElementBehavior],properties:{supportedLanguages:{type:Object,value:{en:"English (US)",en_GB:"English (GB)",fr:"Franais",is:"slenska",es:"Espaol",et:"Eesti",cs:"etina",it:"Italiano",ar:"",ar_EG:" (EG)",ca:"Catal",ro_MD:"Moldoveneasc",ro:"Romnete",de:"Deutsch",da:"Dansk",sv:"Svenska",en_CA:"English (CA)",nl:"Nederlands",el:"",no:"Norsk",lv:"Latvieu",cnr:"Montenegrin",uk:"",sq:"Shqip",ky:"",uz:"",tr:"Trke",fa:"",pl:"Polski",pt:"Portugus",pt_BR:"Portugus (Brazil)",ru:"",hu:"Magyar",zh_TW:" (TW)",sk:"Slovenina",sl:"Slovenina",sr:"Srpski",th:"",sr_latin:"Srpski (latin)",hr:"Hrvatski",kl:"Kalaallisut",bg:""}},noGoogleTranslateLanguages:{type:Array,value:["kl","cnr"]},refreshLanguages:{type:Boolean,value:!1},languages:{type:Array,computed:"_languages(supportedLanguages, language, refreshLanguages)"},selectedLocale:{type:String,observer:"_selectedLocaleChanged"},noUserEvents:{type:Boolean,value:!1},value:{type:String,value:""},canUseAutoTranslate:{type:Boolean,computed:"_canUseAutoTranslate(language, hasServerAutoTranslation, autoTranslateOptionDisabled)"},autoTranslateOptionDisabled:{type:Boolean,value:!1},autoTranslate:{type:Boolean,value:!1},dropdownVisible:{type:Boolean,value:!0},hasServerAutoTranslation:{type:Boolean,value:!1},isOutsideChangeEvent:{type:Boolean,value:!1}},_refreshLanguage:function(){this.set("dropdownVisible",!1),this.set("refreshLanguages",!this.refreshLanguages),this.async(function(){this.set("dropdownVisible",!0)})},ready:function(){this.noUserEvents||(this.$.hasAutoTranslationAjax.generateRequest(),this.async(function(){this.set("selectedLocale",this.language)},1500))},_autoTranslateEvent:function(e,a){this.set("autoTranslate",a)},_stopTranslation:function(){document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"yp-auto-translate",data:!1}})),window.autoTranslate=!1,this.fire("yp-language-name",this.supportedLanguages[this.language]),Polymer.dom(document).querySelector("yp-app").getDialogAsync("masterToast",function(e){e.text=this.t("autoTranslationStopped"),e.show()}.bind(this)),window.appGlobals.activity("click","stopTranslation",this.language),sessionStorage.setItem("dontPromptForAutoTranslation",!0)},_startTranslation:function(){this._canUseAutoTranslate(this.language,this.hasServerAutoTranslation)&&(document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"yp-auto-translate",data:!0}})),window.autoTranslate=!0,this.fire("yp-language-name",this.supportedLanguages[this.language]),Polymer.dom(document).querySelector("yp-app").getDialogAsync("masterToast",function(e){e.text=this.t("autoTranslationStarted"),e.show()}.bind(this))),window.appGlobals.activity("click","startTranslation",this.language)},_canUseAutoTranslate:function(e,a,t){return!(t||!e||!a||this.noUserEvents)&&!(-1<this.noGoogleTranslateLanguages.indexOf(e))},_hasAutoTranslationResponse:function(e,a){a.response&&!0===a.response.hasAutoTranslation?this.set("hasServerAutoTranslation",!0):this.set("hasServerAutoTranslation",!1)},_languages:function(e){if(e){var a=[],t=[],n=["en","en_GB","is","fr","de","es","ar"];for(var s in window.appGlobals.highlightedLanguages&&(n=window.appGlobals.highlightedLanguages.split(",")),e)e.hasOwnProperty(s)&&(-1<n.indexOf(s)?t.push({language:s,name:e[s]}):a.push({language:s,name:e[s]}));return a=a.sort(function(e,a){return e.name<a.name?-1:e.name>a.name?1:0}),t.concat(a)}return[]},_selectedLocaleChanged:function(e,a){e&&(this.set("value",e),!this.noUserEvents&&a&&(!this._canUseAutoTranslate(e,this.hasServerAutoTranslation)&&this.autoTranslate&&this._stopTranslation(),this.fire("yp-language-name",this.supportedLanguages[e]),window.appGlobals.changeLocaleIfNeeded(e,!0),localStorage.setItem("yp-user-locale",e),console.info("Saving locale"),window.appUser&&window.appUser.user&&window.appUser.setLocale(e),window.appGlobals.activity("click","changeLanguage",e))),this.isOutsideChangeEvent=!1}})</script></dom-module><dom-module id="yp-app-nav-drawer"><template><style include="iron-flex iron-flex-alignment">paper-material{z-index:1000;background-color:#FFF;}.header{padding-top:16px;font-weight:bold;padding-bottom:8px;font-size:18px;padding-left:8px;}.thumbNail{width:42px;height:24px;padding-top:24px;margin-left:12px;}.material{background-color:#FFF;color:var(--primary-color-800);}paper-item{cursor:pointer;}iron-icon{width:42px;height:42px;cursor:pointer;}.languageSelector{margin-left:8px;margin-right:8px;}yp-language-selector{padding-top:0;}[hidden]{display:none !important;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><paper-material elevation="0"class="material"><div hidden$="[[!homeLink]]"><div class="header layout vertical center-center"><iron-icon icon="home"on-tap="_goBack"></iron-icon><paper-item on-tap="_goBack">[[homeLink.name]]</paper-item></div></div><div class="languageSelector layout vertical self-start"><yp-language-selector class="languageSelector"selected-locale="{{selectedLocale}}"></yp-language-selector></div><div class="layout vertical"hidden$="[[!user]]"role="navigation"aria-label="Community &amp; Group navigation"><div hidden=""><div class="header">[[t('myDomains')]]</div><template is="dom-repeat"items="[[myDomains]]"as="domain"><paper-item data-args$="[[domain.id]]"on-tap="_goToDomain">[[domain.name]]</paper-item></template></div><div hidden$="[[!myAdminCommunities]]"><div class="header">[[t('myAdminCommunities')]]</div><template is="dom-repeat"items="[[myAdminCommunities]]"as="community"><div class="layout horizontal"><paper-item data-args$="[[community.id]]"on-tap="_goToCommunity">[[community.name]]</paper-item></div></template></div><div hidden$="[[!myAdminGroups]]"><div class="header">[[t('myAdminGroups')]]</div><template is="dom-repeat"items="[[myAdminGroups]]"as="group"><paper-item data-args$="[[group.id]]"on-tap="_goToGroup">[[group.name]]</paper-item></template></div><div class="header">[[t('myCommunities')]]</div><template is="dom-repeat"items="[[myCommunities]]"as="community"><div class="layout horizontal"><paper-item data-args$="[[community.id]]"on-tap="_goToCommunity">[[community.name]]</paper-item></div></template><div class="header">[[t('myGroups')]]</div><template is="dom-repeat"items="[[myGroups]]"as="group"><paper-item data-args$="[[group.id]]"on-tap="_goToGroup">[[group.name]]</paper-item></template></div></paper-material><yp-ajax id="adminRightsAjax"method="GET"url="/api/users/loggedInUser/adminRightsWithNames"on-response="_adminRightsResponse"></yp-ajax><yp-ajax id="membershipsAjax"method="GET"url="/api/users/loggedInUser/membershipsWithNames"on-response="_membershipsResponse"></yp-ajax></template><script>Polymer({is:"yp-app-nav-drawer",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypGotoBehavior],properties:{homeLink:{type:Object},user:{type:Object,observer:"_userChanged"},opened:{type:Boolean,observer:"_openChanged"},route:{type:String},myAdminGroups:{type:Array,value:null},myAdminCommunities:{type:Array,value:null},myGroups:{type:Array},myCommunities:{type:Array},myDomains:{type:Array},selectedLocale:{type:String,computed:"_selectedLocale(user, language)"},adminRights:{type:Object,value:null},memberships:{type:Object,value:null}},_openChanged:function(e){!0===e&&(this.$.adminRightsAjax.generateRequest(),this.$.membershipsAjax.generateRequest())},_selectedLocale:function(){return this.language},_goBack:function(){this.homeLink&&(this.redirectTo("/"+this.homeLink.type+"/"+this.homeLink.id),this.fire("yp-toggle-nav-drawer"))},_goToGroup:function(e){this.redirectTo("/group/"+e.target.getAttribute("data-args")),this.fire("yp-toggle-nav-drawer")},_goToCommunity:function(e){this.redirectTo("/community/"+e.target.getAttribute("data-args")),this.fire("yp-toggle-nav-drawer")},_goToDomain:function(e){this.redirectTo("/domain/"+e.target.getAttribute("data-args")),this.fire("yp-toggle-nav-drawer")},_userChanged:function(e){e&&this._reset()},_reset:function(){if(this.memberships){var e=__.reject(this.memberships.GroupUsers,function(e){return"hidden_public_group_for_domain_level_points"==e.name});this.set("myGroups",__.take(e,1e3)),this.set("myCommunities",__.take(this.memberships.CommunityUsers,500)),this.set("myDomains",__.take(this.memberships.DomainUsers,3))}else this.set("myGroups",null),this.set("myCommunities",null),this.set("myDomains",null);if(this.adminRights&&this.adminRights.CommunityAdmins&&0<this.adminRights.CommunityAdmins.length?this.set("myAdminCommunities",this.adminRights.CommunityAdmins):this.set("myAdminCommunities",null),this.adminRights&&this.adminRights.GroupAdmins&&0<this.adminRights.GroupAdmins.length){var t=__.reject(this.adminRights.GroupAdmins,function(e){return"hidden_public_group_for_domain_level_points"==e.name});this.set("myAdminGroups",t)}else this.set("myAdminGroups",null)},_adminRightsResponse:function(e,t){t.response&&0!=t.response&&this.set("adminRights",t.response),this._reset()},_membershipsResponse:function(e,t){t.response&&0!=t.response&&this.set("memberships",t.response),this._reset()},_openEdit:function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("userEdit",function(e){e.setup(this.user,!1,null),e.open("edit",{userId:this.user.id})}.bind(this))}})</script></dom-module><script>Polymer.IronLazyPagesBehaviorImpl={properties:{activateEvent:{type:String,value:null},loading:{type:Boolean,value:!1,notify:!0,readOnly:!0},hideImmediately:{type:Boolean,value:!1},_excludedLocalNames:{type:Object,value:function(){return{"dom-bind":1,"dom-repeat":1}}}},attached:function(){this.addEventListener("dom-change",function(e){if(e.target.parentNode===this){var t=e.target;if(t.if)for(var i=t;(i=i.previousElementSibling)!=this.__previousSibling;)i.classList.add("iron-lazy-selected")}}.bind(this))},listeners:{"iron-deselect":"_itemDeselected","iron-select":"_itemSelected"},_itemDeselected:function(e){Polymer.dom(e).rootTarget===this&&(this.hideImmediately?(e.detail.item.if=!1,e.detail.item.classList.remove("iron-lazy-selected")):this._lastSelected=e.detail.item)},_itemSelected:function(e){if(Polymer.dom(e).rootTarget===this){var t=this;this._setLoading(!0);function i(){t._setLoading(!1),t.selectedItem===a&&t._show(a)}var a=e.detail.item;!a.classList.contains("iron-lazy-loaded")&&a.dataset.path?this._loadPage(a,i):i()}},_loadPage:function(e,t){for(var i,a=this.parentNode;a&&"#document-fragment"!==a.nodeName;)a=a.parentNode;i=a&&a.host&&a.host.resolveUrl?a.host.resolveUrl(e.dataset.path):e.dataset.path,Polymer.Base.importHref(i,function(){e.classList.add("iron-lazy-loaded"),t()},t)},_show:function(e){this._lastSelected&&(this._lastSelected.if=!1,this._lastSelected.classList.remove("iron-lazy-selected")),e.classList.add("iron-lazy-selected"),e.if=!0,this.__previousSibling=e.previousElementSibling}},Polymer.IronLazyPagesBehavior=[Polymer.IronSelectableBehavior,Polymer.IronLazyPagesBehaviorImpl]</script><dom-module id="iron-lazy-pages"assetpath="../../bower_components/iron-lazy-pages/"><template><style>:host{display:block;}:host > ::slotted(:not(.iron-lazy-selected)){display:none !important;}</style><slot></slot></template><script>Polymer({is:"iron-lazy-pages",behaviors:[Polymer.IronLazyPagesBehavior]})</script></dom-module><dom-module id="yp-ajax-error-dialog"assetpath="../yp-ajax/"><template><style include="iron-flex iron-flex-alignment">paper-dialog{background-color:#FFF;}</style><paper-dialog id="error"><p id="errorText">[[errorText]]<div class="buttons"><paper-button dialog-confirm=""autofocus=""on-tap="resetErrorText">OK</paper-button></div></paper-dialog></template></dom-module><script>Polymer({is:"yp-ajax-error-dialog",properties:{errorText:{type:String,value:""}},showErrorDialog:function(r){this.errorText=r,this.$$("#error").open();this.$$("#error")},resetErrorText:function(){this.$.error.close(),this.$.errorText=""}})</script><dom-module id="iron-form"assetpath="../../bower_components/iron-form/"><template><style>:host{display:block;}</style><slot id="content"></slot><form id="helper"action$="[[action]]"method$="[[method]]"enctype$="[[enctype]]"></form></template><script>Polymer({is:"iron-form",properties:{allowRedirect:{type:Boolean,value:!1},headers:{type:Object,value:function(){return{}}},withCredentials:{type:Boolean,value:!1},ironMethod:{type:String}},attached:function(){this._saveDefaultValues()},detached:function(){this._removeSlotListeners()},_saveDefaultValues:function(){var e=this._getFormElements();this._defaults=this._defaults||new WeakMap;e=this._getFormElements();for(var t,i=0;i<e.length;i++)t=e[i],this._defaults.has(t)||this._defaults.set(t,{checked:t.checked,value:t.value})},validate:function(){if(""===this._form.getAttribute("novalidate"))return!0;for(var e,t,i=this._form.checkValidity(),r=this._getValidatableElements(),s=0;e=r[s],s<r.length;s++)(t=e).validate&&(i=!!t.validate()&&i);return i},submit:function(e){if(e&&e.preventDefault(),this._form&&this.validate()){for(;0!==this.$.helper.children.length;)this.$.helper.removeChild(this.$.helper.children[0]);this.$.helper.textContent="";var t=this.serializeForm();if(this.allowRedirect){for(element in t)this.$.helper.appendChild(this._createHiddenElement(element,t[element]));this.$.helper.action=this._form.getAttribute("action"),this.$.helper.method=(this.ironMethod?this.ironMethod:this._form.getAttribute("method"))||"GET",this.$.helper.contentType=this._form.getAttribute("enctype")||"application/x-www-form-urlencoded",this.$.helper.submit(),this.fire("iron-form-submit")}else this._makeAjaxRequest(t)}},reset:function(e){if(e&&e.preventDefault(),this._form)for(var t,i=this._getFormElements(),r=0;r<i.length;r++)if(t=i[r],this._defaults.has(t)){var s=this._defaults.get(t);null!=t.value&&(t.value=s.value),null!=t.checked&&(t.checked=s.checked)}},serializeForm:function(){for(var e,t=this._getSubmittableElements(),i={},r=0;r<t.length;r++){e=this._serializeElementValues(t[r]);for(var s=0;s<e.length;s++)this._addSerializedElement(i,t[r].name,e[s])}return i},_handleFormResponse:function(e){this.fire("iron-form-response",e.detail)},_handleFormError:function(e){this.fire("iron-form-error",e.detail)},_makeAjaxRequest:function(e){this.request||(this.request=document.createElement("iron-ajax"),this.request.addEventListener("response",this._handleFormResponse.bind(this)),this.request.addEventListener("error",this._handleFormError.bind(this))),this.request.url=this._form.getAttribute("action"),this.request.method=(this.ironMethod?this.ironMethod:this._form.getAttribute("method"))||"GET",this.request.contentType=this._form.getAttribute("enctype")||"application/x-www-form-urlencoded",this.request.withCredentials=this.withCredentials,this.request.headers=this.headers,"GET"!==this.request.method.toUpperCase()?this.request.body=e:this.request.params=e,this.fire("iron-form-presubmit",{},{cancelable:!0}).defaultPrevented||(this.request.generateRequest(),this.fire("iron-form-submit",e))},_getValidatableElements:function(){for(var e,t=this._getFormElements(),i=[],r=0;r<t.length;r++)(e=t[r]).disabled||i.push(e);return i},_removeSlotListeners:function(e){"SLOT"===(e=e||this.$.content).tagName&&(e.__formListener&&(e.removeEventListener("slotchange",e.__formListener),delete e.__formListener),this._forEachDistributedElement(e,this._removeSlotListeners.bind(this)))},_forEachDistributedElement:function(e,t){for(var i,r=e.assignedNodes().filter(function(e){return e.nodeType===Node.ELEMENT_NODE}),s=0;s<r.length;s++){t(i=r[s]);for(var n=i.querySelectorAll("*"),o=0;o<n.length;o++)t(n[o])}},_getFormElements:function(e){(e=e||this.$.content).__formListener||(e.__formListener=function(){this._saveDefaultValues(e)}.bind(this),e.__formListener(),e.addEventListener("slotchange",e.__formListener));var i=[];return this._forEachDistributedElement(e,function(e){if(e!==this._form&&"FORM"===e.tagName)this._form=e,this._form.addEventListener("submit",this.submit.bind(this)),this._form.addEventListener("reset",this.reset.bind(this));else if("SLOT"===e.tagName){var t=this._getFormElements(e);i.push.apply(i,t)}else i.push(e)}.bind(this)),i},_getSubmittableElements:function(){for(var e,t=this._getFormElements(),i=[],r=0;r<t.length;r++)!(e=t[r]).disabled&&e.name&&i.push(e);return i},_serializeElementValues:function(e){var t=e.tagName.toLowerCase();return"button"===t||"input"===t&&("submit"===e.type||"reset"===e.type)?[]:"select"===t?this._serializeSelectValues(e):"input"===t?this._serializeInputValues(e):e._hasIronCheckedElementBehavior&&!e.checked?[]:[e.value]},_serializeSelectValues:function(e){for(var t=[],i=0;i<e.options.length;i++)e.options[i].selected&&t.push(e.options[i].value);return t},_serializeInputValues:function(e){var t=e.type.toLowerCase();return("checkbox"!==t&&"radio"!==t||e.checked)&&"file"!==t?[e.value]:[]},_createHiddenElement:function(e,t){var i=document.createElement("input");return i.setAttribute("type","hidden"),i.setAttribute("name",e),i.setAttribute("value",t),i},_addSerializedElement:function(e,t,i){void 0===e[t]?e[t]=i:(Array.isArray(e[t])||(e[t]=[e[t]]),e[t].push(i))}})</script></dom-module><script>Polymer({is:"iron-a11y-keys",behaviors:[Polymer.IronA11yKeysBehavior],properties:{target:{type:Object,observer:"_targetChanged"},keys:{type:String,reflectToAttribute:!0,observer:"_keysChanged"}},attached:function(){this.target||(this.target=this.parentNode)},_targetChanged:function(e){this.keyEventTarget=e},_keysChanged:function(){this.removeOwnKeyBindings(),this.addOwnKeyBinding(this.keys,"_fireKeysPressed")},_fireKeysPressed:function(e){this.fire("keys-pressed",e.detail,{})}})</script><dom-module id="paper-dialog-scrollable"assetpath="../../bower_components/paper-dialog-scrollable/"><template><style>:host{display:block;@apply --layout-relative;}:host(.is-scrolled:not(:first-child))::before{content:'';position:absolute;top:0;left:0;right:0;height:1px;background:var(--divider-color);}:host(.can-scroll:not(.scrolled-to-bottom):not(:last-child))::after{content:'';position:absolute;bottom:0;left:0;right:0;height:1px;background:var(--divider-color);}.scrollable{padding:0 24px;@apply --layout-scroll;@apply --paper-dialog-scrollable;}.fit{@apply --layout-fit;}</style><div id="scrollable"class="scrollable"on-scroll="updateScrollState"><slot></slot></div></template></dom-module><script>Polymer({is:"paper-dialog-scrollable",properties:{dialogElement:{type:Object}},get scrollTarget(){return this.$.scrollable},ready:function(){this._ensureTarget(),this.classList.add("no-padding")},attached:function(){this._ensureTarget(),requestAnimationFrame(this.updateScrollState.bind(this))},updateScrollState:function(){this.toggleClass("is-scrolled",0<this.scrollTarget.scrollTop),this.toggleClass("can-scroll",this.scrollTarget.offsetHeight<this.scrollTarget.scrollHeight),this.toggleClass("scrolled-to-bottom",this.scrollTarget.scrollTop+this.scrollTarget.offsetHeight>=this.scrollTarget.scrollHeight)},_ensureTarget:function(){this.dialogElement=this.dialogElement||this.parentElement,this.dialogElement&&this.dialogElement.behaviors&&0<=this.dialogElement.behaviors.indexOf(Polymer.PaperDialogBehaviorImpl)?(this.dialogElement.sizingTarget=this.scrollTarget,this.scrollTarget.classList.remove("fit")):this.dialogElement&&this.scrollTarget.classList.add("fit")}})</script><script>Polymer.IronMenubarBehaviorImpl={hostAttributes:{role:"menubar"},keyBindings:{left:"_onLeftKey",right:"_onRightKey"},_onUpKey:function(e){this.focusedItem.click(),e.detail.keyboardEvent.preventDefault()},_onDownKey:function(e){this.focusedItem.click(),e.detail.keyboardEvent.preventDefault()},get _isRTL(){return"rtl"===window.getComputedStyle(this).direction},_onLeftKey:function(e){this._isRTL?this._focusNext():this._focusPrevious(),e.detail.keyboardEvent.preventDefault()},_onRightKey:function(e){this._isRTL?this._focusPrevious():this._focusNext(),e.detail.keyboardEvent.preventDefault()},_onKeydown:function(e){this.keyboardEventMatchesKeys(e,"up down left right esc")||this._focusWithKeyboardEvent(e)}},Polymer.IronMenubarBehavior=[Polymer.IronMenuBehavior,Polymer.IronMenubarBehaviorImpl]</script><iron-iconset-svg name="paper-tabs"size="24"><svg><defs><g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g><g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g></defs></svg></iron-iconset-svg><dom-module id="paper-tab"assetpath="../../bower_components/paper-tabs/"><template><style>:host{@apply --layout-inline;@apply --layout-center;@apply --layout-center-justified;@apply --layout-flex-auto;position:relative;padding:0 12px;overflow:hidden;cursor:pointer;vertical-align:middle;@apply --paper-font-common-base;@apply --paper-tab;}:host(:focus){outline:none;}:host([link]){padding:0;}.tab-content{height:100%;transform:translateZ(0);-webkit-transform:translateZ(0);transition:opacity 0.1s cubic-bezier(0.4, 0.0, 1, 1);@apply --layout-horizontal;@apply --layout-center-center;@apply --layout-flex-auto;@apply --paper-tab-content;}:host(:not(.iron-selected)) > .tab-content{opacity:0.8;@apply --paper-tab-content-unselected;}:host(:focus) .tab-content{opacity:1;font-weight:700;}paper-ripple{color:var(--paper-tab-ink, var(--paper-yellow-a100));}.tab-content > ::slotted(a){@apply --layout-flex-auto;height:100%;}</style><div class="tab-content"><slot></slot></div></template><script>Polymer({is:"paper-tab",behaviors:[Polymer.IronControlState,Polymer.IronButtonState,Polymer.PaperRippleBehavior],properties:{link:{type:Boolean,value:!1,reflectToAttribute:!0}},hostAttributes:{role:"tab"},listeners:{down:"_updateNoink",tap:"_onTap"},attached:function(){this._updateNoink()},get _parentNoink(){var t=Polymer.dom(this).parentNode;return!!t&&!!t.noink},_updateNoink:function(){this.noink=!!this.noink||!!this._parentNoink},_onTap:function(t){if(this.link){var e=this.queryEffectiveChildren("a");if(!e)return;if(t.target===e)return;e.click()}}})</script></dom-module><dom-module id="paper-tabs"assetpath="../../bower_components/paper-tabs/"><template><style>:host{@apply --layout;@apply --layout-center;height:48px;font-size:14px;font-weight:500;overflow:hidden;-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0, 0, 0, 0);-webkit-tap-highlight-color:transparent;@apply --paper-tabs;}:host(:dir(rtl)){@apply --layout-horizontal-reverse;}#tabsContainer{position:relative;height:100%;white-space:nowrap;overflow:hidden;@apply --layout-flex-auto;@apply --paper-tabs-container;}#tabsContent{height:100%;-moz-flex-basis:auto;-ms-flex-basis:auto;flex-basis:auto;@apply --paper-tabs-content;}#tabsContent.scrollable{position:absolute;white-space:nowrap;}#tabsContent:not(.scrollable),
      #tabsContent.scrollable.fit-container{@apply --layout-horizontal;}#tabsContent.scrollable.fit-container{min-width:100%;}#tabsContent.scrollable.fit-container > ::slotted(*){-ms-flex:1 0 auto;-webkit-flex:1 0 auto;flex:1 0 auto;}.hidden{display:none;}.not-visible{opacity:0;cursor:default;}paper-icon-button{width:48px;height:48px;padding:12px;margin:0 4px;}#selectionBar{position:absolute;height:0;bottom:0;left:0;right:0;border-bottom:2px solid var(--paper-tabs-selection-bar-color, var(--paper-yellow-a100));-webkit-transform:scale(0);transform:scale(0);-webkit-transform-origin:left center;transform-origin:left center;transition:-webkit-transform;transition:transform;@apply --paper-tabs-selection-bar;}#selectionBar.align-bottom{top:0;bottom:auto;}#selectionBar.expand{transition-duration:0.15s;transition-timing-function:cubic-bezier(0.4, 0.0, 1, 1);}#selectionBar.contract{transition-duration:0.18s;transition-timing-function:cubic-bezier(0.0, 0.0, 0.2, 1);}#tabsContent > ::slotted(:not(#selectionBar)){height:100%;}</style><paper-icon-button icon="paper-tabs:chevron-left"class$="[[_computeScrollButtonClass(_leftHidden, scrollable, hideScrollButtons)]]"on-up="_onScrollButtonUp"on-down="_onLeftScrollButtonDown"tabindex="-1"></paper-icon-button><div id="tabsContainer"on-track="_scroll"on-down="_down"><div id="tabsContent"class$="[[_computeTabsContentClass(scrollable, fitContainer)]]"><div id="selectionBar"class$="[[_computeSelectionBarClass(noBar, alignBottom)]]"on-transitionend="_onBarTransitionEnd"></div><slot></slot></div></div><paper-icon-button icon="paper-tabs:chevron-right"class$="[[_computeScrollButtonClass(_rightHidden, scrollable, hideScrollButtons)]]"on-up="_onScrollButtonUp"on-down="_onRightScrollButtonDown"tabindex="-1"></paper-icon-button></template><script>Polymer({is:"paper-tabs",behaviors:[Polymer.IronResizableBehavior,Polymer.IronMenubarBehavior],properties:{noink:{type:Boolean,value:!1,observer:"_noinkChanged"},noBar:{type:Boolean,value:!1},noSlide:{type:Boolean,value:!1},scrollable:{type:Boolean,value:!1},fitContainer:{type:Boolean,value:!1},disableDrag:{type:Boolean,value:!1},hideScrollButtons:{type:Boolean,value:!1},alignBottom:{type:Boolean,value:!1},selectable:{type:String,value:"paper-tab"},autoselect:{type:Boolean,value:!1},autoselectDelay:{type:Number,value:0},_step:{type:Number,value:10},_holdDelay:{type:Number,value:1},_leftHidden:{type:Boolean,value:!1},_rightHidden:{type:Boolean,value:!1},_previousTab:{type:Object}},hostAttributes:{role:"tablist"},listeners:{"iron-resize":"_onTabSizingChanged","iron-items-changed":"_onTabSizingChanged","iron-select":"_onIronSelect","iron-deselect":"_onIronDeselect"},keyBindings:{"left:keyup right:keyup":"_onArrowKeyup"},created:function(){this._holdJob=null,this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0,this._bindDelayedActivationHandler=this._delayedActivationHandler.bind(this),this.addEventListener("blur",this._onBlurCapture.bind(this),!0)},ready:function(){this.setScrollDirection("y",this.$.tabsContainer)},detached:function(){this._cancelPendingActivation()},_noinkChanged:function(t){Polymer.dom(this).querySelectorAll("paper-tab").forEach(t?this._setNoinkAttribute:this._removeNoinkAttribute)},_setNoinkAttribute:function(t){t.setAttribute("noink","")},_removeNoinkAttribute:function(t){t.removeAttribute("noink")},_computeScrollButtonClass:function(t,e,i){return!e||i?"hidden":t?"not-visible":""},_computeTabsContentClass:function(t,e){return t?"scrollable"+(e?" fit-container":""):" fit-container"},_computeSelectionBarClass:function(t,e){return t?"hidden":e?"align-bottom":""},_onTabSizingChanged:function(){this.debounce("_onTabSizingChanged",function(){this._scroll(),this._tabChanged(this.selectedItem)},10)},_onIronSelect:function(t){this._tabChanged(t.detail.item,this._previousTab),this._previousTab=t.detail.item,this.cancelDebouncer("tab-changed")},_onIronDeselect:function(){this.debounce("tab-changed",function(){this._tabChanged(null,this._previousTab),this._previousTab=null},1)},_activateHandler:function(){this._cancelPendingActivation(),Polymer.IronMenuBehaviorImpl._activateHandler.apply(this,arguments)},_scheduleActivation:function(t,e){this._pendingActivationItem=t,this._pendingActivationTimeout=this.async(this._bindDelayedActivationHandler,e)},_delayedActivationHandler:function(){var t=this._pendingActivationItem;this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0,t.fire(this.activateEvent,null,{bubbles:!0,cancelable:!0})},_cancelPendingActivation:function(){void 0!==this._pendingActivationTimeout&&(this.cancelAsync(this._pendingActivationTimeout),this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0)},_onArrowKeyup:function(){this.autoselect&&this._scheduleActivation(this.focusedItem,this.autoselectDelay)},_onBlurCapture:function(t){t.target===this._pendingActivationItem&&this._cancelPendingActivation()},get _tabContainerScrollSize(){return Math.max(0,this.$.tabsContainer.scrollWidth-this.$.tabsContainer.offsetWidth)},_scroll:function(t,e){if(this.scrollable){var i=e&&-e.ddx||0;this._affectScroll(i)}},_down:function(){this.async(function(){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null)},1)},_affectScroll:function(t){this.$.tabsContainer.scrollLeft+=t;var e=this.$.tabsContainer.scrollLeft;this._leftHidden=0===e,this._rightHidden=e===this._tabContainerScrollSize},_onLeftScrollButtonDown:function(){this._scrollToLeft(),this._holdJob=setInterval(this._scrollToLeft.bind(this),this._holdDelay)},_onRightScrollButtonDown:function(){this._scrollToRight(),this._holdJob=setInterval(this._scrollToRight.bind(this),this._holdDelay)},_onScrollButtonUp:function(){clearInterval(this._holdJob),this._holdJob=null},_scrollToLeft:function(){this._affectScroll(-this._step)},_scrollToRight:function(){this._affectScroll(this._step)},_tabChanged:function(t,e){if(!t)return this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),void this._positionBar(0,0);var i=this.$.tabsContent.getBoundingClientRect(),n=i.width,o=t.getBoundingClientRect(),s=o.left-i.left;if(this._pos={width:this._calcPercent(o.width,n),left:this._calcPercent(s,n)},this.noSlide||null==e)return this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),void this._positionBar(this._pos.width,this._pos.left);var a=e.getBoundingClientRect(),l=this.items.indexOf(e),c=this.items.indexOf(t);this.$.selectionBar.classList.add("expand");var r=l<c;this._isRTL&&(r=!r),r?this._positionBar(this._calcPercent(o.left+o.width-a.left,n)-5,this._left):this._positionBar(this._calcPercent(a.left+a.width-o.left,n)-5,this._calcPercent(s,n)+5),this.scrollable&&this._scrollToSelectedIfNeeded(o.width,s)},_scrollToSelectedIfNeeded:function(t,e){var i=e-this.$.tabsContainer.scrollLeft;i<0?this.$.tabsContainer.scrollLeft+=i:0<(i+=t-this.$.tabsContainer.offsetWidth)&&(this.$.tabsContainer.scrollLeft+=i)},_calcPercent:function(t,e){return 100*t/e},_positionBar:function(t,e){t=t||0,e=e||0,this._width=t,this._left=e,this.transform("translateX("+e+"%) scaleX("+t/100+")",this.$.selectionBar)},_onBarTransitionEnd:function(){var t=this.$.selectionBar.classList;t.contains("expand")?(t.remove("expand"),t.add("contract"),this._positionBar(this._pos.width,this._pos.left)):t.contains("contract")&&t.remove("contract")}})</script></dom-module><script>var twemoji=function(){"use strict";var f={base:"https://twemoji.maxcdn.com/2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(d){var u="string"==typeof d?parseInt(d,16):d;if(u<65536)return a(u);return a(55296+((u-=65536)>>10),56320+(1023&u))},toCodePoint:i},onerror:function(){this.parentNode&&this.parentNode.replaceChild(C(this.alt),this)},parse:function(d,u){u&&"function"!=typeof u||(u={callback:u});return("string"==typeof d?function(d,t){return o(d,function(d){var u,f,e=d,c=N(d),a=t.callback(c,t);if(a){for(f in e="<img ".concat('class="',t.className,'" ','draggable="false" ','alt="',d,'"',' src="',a,'"'),u=t.attributes(d,c))u.hasOwnProperty(f)&&0!==f.indexOf("on")&&-1===e.indexOf(" "+f+"=")&&(e=e.concat(" ",f,'="',u[f].replace(n,r),'"'));e=e.concat(">")}return e})}:function(d,u){var f,e,c,a,t,n,r,b,o,i,s,l,p,h=function d(u,f){var e,c,a=u.childNodes,t=a.length;for(;t--;)e=a[t],3===(c=e.nodeType)?f.push(e):1!==c||x.test(e.nodeName)||d(e,f);return f}(d,[]),g=h.length;for(;g--;){for(c=!1,a=document.createDocumentFragment(),t=h[g],n=t.nodeValue,b=0;r=m.exec(n);){if((o=r.index)!==b&&a.appendChild(C(n.slice(b,o))),s=r[0],l=N(s),b=o+s.length,p=u.callback(l,u)){for(e in(i=new Image).onerror=u.onerror,i.setAttribute("draggable","false"),f=u.attributes(s,l))f.hasOwnProperty(e)&&0!==e.indexOf("on")&&!i.hasAttribute(e)&&i.setAttribute(e,f[e]);i.className=u.className,i.alt=s,i.src=p,c=!0,a.appendChild(i)}i||a.appendChild(C(s)),i=null}c&&(b<n.length&&a.appendChild(C(n.slice(b))),t.parentNode.replaceChild(a,t))}return d})(d,{callback:u.callback||t,attributes:"function"==typeof u.attributes?u.attributes:b,base:"string"==typeof u.base?u.base:f.base,ext:u.ext||f.ext,size:u.folder||function(d){return"number"==typeof d?d+"x"+d:d}(u.size||f.size),className:u.className||f.className,onerror:u.onerror||f.onerror})},replace:o,test:function(d){m.lastIndex=0;var u=m.test(d);return m.lastIndex=0,u}},u={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},m=/\ud83d[\udc68-\udc69](?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92])|(?:\ud83c[\udfcb\udfcc]|\ud83d\udd75|\u26f9)(?:\ufe0f|\ud83c[\udffb-\udfff])\u200d[\u2640\u2642]\ufe0f|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd37-\udd39\udd3d\udd3e\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|(?:[\u0023\u002a\u0030-\u0039])\ufe0f?\u20e3|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddd1-\udddd]|[\u270a\u270b])(?:\ud83c[\udffb-\udfff]|)|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud800\udc00|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef8]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd4c\udd50-\udd6b\udd80-\udd97\uddc0\uddd0\uddde-\udde6]|[\u23e9-\u23ec\u23f0\u23f3\u2640\u2642\u2695\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a]|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u00a9\u00ae\u203c\u2049\u2122\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2694\u2696\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))/g,e=/\uFE0F/g,c=String.fromCharCode(8205),n=/[&<>'"]/g,x=/IFRAME|NOFRAMES|NOSCRIPT|SCRIPT|SELECT|STYLE|TEXTAREA|[a-z]/,a=String.fromCharCode;return f;function C(d){return document.createTextNode(d)}function t(d,u){return"".concat(u.base,u.size,"/",d,u.ext)}function N(d){return i(d.indexOf(c)<0?d.replace(e,""):d)}function r(d){return u[d]}function b(){return null}function o(d,u){return(d+"").replace(m,u)}function i(d,u){for(var f=[],e=0,c=0,a=0;a<d.length;)e=d.charCodeAt(a++),c?(f.push((65536+(c-55296<<10)+(e-56320)).toString(16)),c=0):55296<=e&&e<=56319?c=e:f.push(e.toString(16));return f.join(u||"-")}}()</script><script>!function(t){if("object"===("undefined"==typeof exports?"undefined":babelHelpers.typeof(exports))&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).sanitizeHtml=t()}}(function(){return function s(o,a,c){function u(r,t){if(!a[r]){if(!o[r]){var e="function"==typeof require&&require;if(!t&&e)return e(r,!0);if(l)return l(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var i=a[r]={exports:{}};o[r][0].call(i.exports,function(t){var e=o[r][1][t];return u(e||t)},i,i.exports,s,o,a,c)}return a[r].exports}for(var l="function"==typeof require&&require,t=0;t<c.length;t++)u(c[t]);return u}({1:[function(t,e,r){var n=t("htmlparser2"),i=t("xtend"),s=t("regexp-quote");function x(e,r){e&&Object.keys(e).forEach(function(t){r(e[t],t)})}function S(t,e){return{}.hasOwnProperty.call(t,e)}function E(t,o,e){var a="";function c(t,e){var r=this;this.tag=t,this.attribs=e||{},this.tagPosition=a.length,this.text="",this.updateParentNodeText=function(){m.length&&(m[m.length-1].text+=r.text)}}o?(o=i(E.defaults,o)).parser?o.parser=i(T,o.parser):o.parser=T:(o=E.defaults).parser=T;var u,l,h=o.nonTextTags||["script","style","textarea"];o.allowedAttributes&&(u={},l={},x(o.allowedAttributes,function(t,e){u[e]=[];var r=[];t.forEach(function(t){0<=t.indexOf("*")?r.push(s(t).replace(/\\\*/g,".*")):u[e].push(t)}),l[e]=new RegExp("^("+r.join("|")+")$")}));var f={};x(o.allowedClasses,function(t,e){u&&(S(u,e)||(u[e]=[]),u[e].push("class")),f[e]=t});var p,d={};x(o.transformTags,function(t,e){var r;"function"==typeof t?r=t:"string"==typeof t&&(r=E.simpleTransform(t)),"*"===e?p=r:d[e]=r});var g=0,m=[],_={},b={},y=!1,v=0,r=new n.Parser({onopentag:function(i,t){if(y)v++;else{var s=new c(i,t);m.push(s);var e,r=!1,n=!!s.text;S(d,i)&&(e=d[i](i,t),s.attribs=t=e.attribs,void 0!==e.text&&(s.innerText=e.text),i!==e.tagName&&(s.name=i=e.tagName,b[g]=e.tagName)),p&&(e=p(i,t),s.attribs=t=e.attribs,i!==e.tagName&&(s.name=i=e.tagName,b[g]=e.tagName)),o.allowedTags&&-1===o.allowedTags.indexOf(i)&&(r=!0,-1!==h.indexOf(i)&&(y=!0,v=1),_[g]=!0),g++,r||(a+="<"+i,u&&!S(u,i)&&!u["*"]||x(t,function(t,e){if(!u||S(u,i)&&-1!==u[i].indexOf(e)||u["*"]&&-1!==u["*"].indexOf(e)||S(l,i)&&l[i].test(e)||l["*"]&&l["*"].test(e)){if(("href"===e||"src"===e)&&function(t,e){var r=(e=(e=e.replace(/[\x00-\x20]+/g,"")).replace(/<\!\-\-.*?\-\-\>/g,"")).match(/^([a-zA-Z]+)\:/);if(!r)return!1;var n=r[1].toLowerCase();if(S(o.allowedSchemesByTag,t))return-1===o.allowedSchemesByTag[t].indexOf(n);return!o.allowedSchemes||-1===o.allowedSchemes.indexOf(n)}(i,t))return void delete s.attribs[e];if("class"===e&&(r=t,!(t=(n=f[i])?(r=r.split(/\s+/)).filter(function(t){return-1!==n.indexOf(t)}).join(" "):r).length))return void delete s.attribs[e];a+=" "+e,t.length&&(a+='="'+w(t)+'"')}else delete s.attribs[e];var r,n}),-1!==o.selfClosing.indexOf(i)?a+=" />":(a+=">",!s.innerText||n||o.textFilter||(a+=s.innerText)))}},ontext:function(t){if(!y){var e,r=m[m.length-1];if(r&&(e=r.tag,t=void 0!==r.innerText?r.innerText:t),"script"===e||"style"===e)a+=t;else{var n=w(t);o.textFilter?a+=o.textFilter(n):a+=n}if(m.length)m[m.length-1].text+=t}},onclosetag:function(t){if(y){if(--v)return;y=!1}var e=m.pop();if(e){if(y=!1,_[--g])return delete _[g],void e.updateParentNodeText();b[g]&&(t=b[g],delete b[g]),o.exclusiveFilter&&o.exclusiveFilter(e)?a=a.substr(0,e.tagPosition):(e.updateParentNodeText(),-1===o.selfClosing.indexOf(t)&&(a+="</"+t+">"))}}},o.parser);return r.write(t),r.end(),a;function w(t){return"string"!=typeof t&&(t+=""),t.replace(/\&/g,"&amp;").replace(/</g,"&lt;").replace(/\>/g,"&gt;").replace(/\"/g,"&quot;")}}e.exports=E;var T={decodeEntities:!0};E.defaults={allowedTags:["h3","h4","h5","h6","blockquote","p","a","ul","ol","nl","li","b","i","strong","em","strike","code","hr","br","div","table","thead","caption","tbody","tr","th","td","pre"],allowedAttributes:{a:["href","name","target"],img:["src"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto"],allowedSchemesByTag:{}},E.simpleTransform=function(n,i,s){return s=void 0===s||s,i=i||{},function(t,e){var r;if(s)for(r in i)e[r]=i[r];else e=i;return{tagName:n,attribs:e}}}},{htmlparser2:36,"regexp-quote":59,xtend:60}],2:[function(t,e,r){},{}],3:[function(e,t,I){(function(t){"use strict";var n=e("base64-js"),s=e("ieee754"),o=e("isarray");function r(){return h.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return h.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=h.prototype:(null===t&&(t=new h(e)),t.length=e),t}function h(t,e,r){if(!h.TYPED_ARRAY_SUPPORT&&!babelHelpers.instanceof(this,h))return new h(t,e,r);if("number"!=typeof t)return i(this,t,e,r);if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return u(this,t)}function i(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&babelHelpers.instanceof(e,ArrayBuffer)?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);h.TYPED_ARRAY_SUPPORT?(t=e).__proto__=h.prototype:t=l(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!h.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|p(e,r),i=(t=a(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(h.isBuffer(e)){var r=0|f(e.length);return 0===(t=a(t,r)).length||e.copy(t,0,0,r),t}if(e){if("undefined"!=typeof ArrayBuffer&&babelHelpers.instanceof(e.buffer,ArrayBuffer)||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?a(t,0):l(t,e);if("Buffer"===e.type&&o(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function c(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e){if(c(e),t=a(t,e<0?0:0|f(e)),!h.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function l(t,e){var r=e.length<0?0:0|f(e.length);t=a(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function f(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function p(t,e){if(h.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||babelHelpers.instanceof(t,ArrayBuffer)))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return M(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return P(t).length;default:if(n)return M(t).length;e=(""+e).toLowerCase(),n=!0}}function d(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):2147483647<r?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=h.from(e,n)),h.isBuffer(e))return 0===e.length?-1:m(t,e,r,n,i);if("number"==typeof e)return e&=255,h.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):m(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function m(t,e,r,n,i){var s,o=1,a=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=(n+"").toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a/=o=2,c/=2,r/=2}function u(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var l=-1;for(s=r;s<a;s++)if(u(t,s)===u(e,-1===l?0:s-l)){if(-1===l&&(l=s),s-l+1===c)return l*o}else-1!==l&&(s-=s-l),l=-1}else for(a<r+c&&(r=a-c),s=r;0<=s;s--){for(var h=!0,f=0;f<c;f++)if(u(t,s+f)!==u(e,f)){h=!1;break}if(h)return s}return-1}function _(t,e,r,n){r=+r||0;var i=t.length-r;n?i<(n=+n)&&(n=i):n=i;var s=e.length;if(0!=s%2)throw new TypeError("Invalid hex string");s/2<n&&(n=s/2);for(var o,a=0;a<n;++a){if(o=parseInt(e.substr(2*a,2),16),isNaN(o))return a;t[r+a]=o}return a}function b(t,e,r,n){return O(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function y(t,e,r,n){return O(function(t,e){for(var r,n,i,s=[],o=0;o<t.length&&!((e-=2)<0);++o)r=t.charCodeAt(o),n=r>>8,i=r%256,s.push(i),s.push(n);return s}(e,t.length-r),t,r,n)}function v(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function w(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s,o,a,c,u=t[i],l=null,h=239<u?4:223<u?3:191<u?2:1;if(i+h<=r)switch(h){case 1:u<128&&(l=u);break;case 2:128==(192&(s=t[i+1]))&&127<(c=(31&u)<<6|63&s)&&(l=c);break;case 3:s=t[i+1],o=t[i+2],128==(192&s)&&128==(192&o)&&2047<(c=(15&u)<<12|(63&s)<<6|63&o)&&(c<55296||57343<c)&&(l=c);break;case 4:s=t[i+1],o=t[i+2],a=t[i+3],128==(192&s)&&128==(192&o)&&128==(192&a)&&65535<(c=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)&&c<1114112&&(l=c)}null===l?(l=65533,h=1):65535<l&&(l-=65536,n.push(55296|1023&l>>>10),l=56320|1023&l),n.push(l),i+=h}return function(t){var e=t.length;if(e<=x)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=x));return r}(n)}I.Buffer=h,I.SlowBuffer=function(t){+t!=t&&(t=0);return h.alloc(+t)},I.INSPECT_MAX_BYTES=50,h.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),I.kMaxLength=r(),h.poolSize=8192,h._augment=function(t){return t.__proto__=h.prototype,t},h.from=function(t,e,r){return i(null,t,e,r)},h.TYPED_ARRAY_SUPPORT&&(h.prototype.__proto__=Uint8Array.prototype,h.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0})),h.alloc=function(t,e,r){return n=null,s=e,o=r,c(i=t),i<=0?a(n,i):void 0!==s?"string"==typeof o?a(n,i).fill(s,o):a(n,i).fill(s):a(n,i);var n,i,s,o},h.allocUnsafe=function(t){return u(null,t)},h.allocUnsafeSlow=function(t){return u(null,t)},h.isBuffer=function(t){return!(null==t||!t._isBuffer)},h.compare=function(t,e){if(!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},h.isEncoding=function(t){switch((t+"").toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);var r;if(void 0===e)for(r=e=0;r<t.length;++r)e+=t[r].length;var n=h.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(!h.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},h.byteLength=p,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(0!=t%2)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)d(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(0!=t%4)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)d(this,e,e+3),d(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(0!=t%8)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)d(this,e,e+7),d(this,e+1,e+6),d(this,e+2,e+5),d(this,e+3,e+4);return this},h.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?w(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":return T(this,e,r);case"utf8":case"utf-8":return w(this,e,r);case"ascii":return S(this,e,r);case"latin1":case"binary":return E(this,e,r);case"base64":return v(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",e=I.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},h.prototype.compare=function(t,e,r,n,i){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(i<=n&&r<=e)return 0;if(i<=n)return-1;if(r<=e)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),a=Math.min(s,o),c=this.slice(n,i),u=t.slice(e,r),l=0;l<a;++l)if(c[l]!==u[l]){s=c[l],o=u[l];break}return s<o?-1:o<s?1:0},h.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},h.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},h.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},h.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||i<r)&&(r=i),0<t.length&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n=n||"utf8";for(var s,o,a,c,u,l,h=!1;;)switch(n){case"hex":return _(this,t,e,r);case"utf8":case"utf-8":return u=e,l=r,O(M(t,(c=this).length-u),c,u,l);case"ascii":return b(this,t,e,r);case"latin1":case"binary":return b(this,t,e,r);case"base64":return s=this,o=e,a=r,O(P(t),s,o,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return y(this,t,e,r);default:if(h)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),h=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var x=4096;function S(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function E(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function T(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||n<r)&&(r=n);for(var i="",s=e;s<r;++s)i+=N(t[s]);return i}function A(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function k(t,e,r){if(0!=t%1||t<0)throw new RangeError("offset is not uint");if(r<t+e)throw new RangeError("Trying to access beyond buffer length")}function L(t,e,r,n,i,s){if(!h.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(i<e||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function q(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-r,2);i<s;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function R(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-r,4);i<s;++i)t[r+i]=255&e>>>8*(n?i:3-i)}function B(t,e,r,n){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function C(t,e,r,n,i){return i||B(t,0,r,4),s.write(t,e,r,n,23,4),r+4}function D(t,e,r,n,i){return i||B(t,0,r,8),s.write(t,e,r,n,52,8),r+8}h.prototype.slice=function(t,e){var r,n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),e<t&&(e=t),h.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=h.prototype;else{var i=e-t;r=new h(i,void 0);for(var s=0;s<i;++s)r[s]=this[s+t]}return r},h.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||k(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},h.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||k(t,e,this.length);for(var n=this[t+--e],i=1;0<e&&(i*=256);)n+=this[t+--e]*i;return n},h.prototype.readUInt8=function(t,e){return e||k(t,1,this.length),this[t]},h.prototype.readUInt16LE=function(t,e){return e||k(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUInt16BE=function(t,e){return e||k(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUInt32LE=function(t,e){return e||k(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUInt32BE=function(t,e){return e||k(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||k(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return(i*=128)<=n&&(n-=Math.pow(2,8*e)),n},h.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||k(t,e,this.length);for(var n=e,i=1,s=this[t+--n];0<n&&(i*=256);)s+=this[t+--n]*i;return(i*=128)<=s&&(s-=Math.pow(2,8*e)),s},h.prototype.readInt8=function(t,e){return e||k(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},h.prototype.readInt16LE=function(t,e){e||k(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt16BE=function(t,e){e||k(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},h.prototype.readInt32LE=function(t,e){return e||k(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return e||k(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return e||k(t,4,this.length),s.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return e||k(t,4,this.length),s.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return e||k(t,8,this.length),s.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return e||k(t,8,this.length),s.read(this,t,!1,52,8)},h.prototype.writeUIntLE=function(t,e,r,n){t=+t,e|=0,r|=0,n||L(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=255&t/i;return e+r},h.prototype.writeUIntBE=function(t,e,r,n){t=+t,e|=0,r|=0,n||L(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;0<=--i&&(s*=256);)this[e+i]=255&t/s;return e+r},h.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,1,255,0),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},h.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):q(this,t,e,!0),e+2},h.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,65535,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):q(this,t,e,!1),e+2},h.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):R(this,t,e,!0),e+4},h.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,4294967295,0),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},h.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);L(this,t,e,r,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<r&&(o*=256);)t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=255&(t/o>>0)-a;return e+r},h.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);L(this,t,e,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[e+s]=255&t;0<=--s&&(o*=256);)t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=255&(t/o>>0)-a;return e+r},h.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,1,127,-128),h.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):q(this,t,e,!0),e+2},h.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,2,32767,-32768),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):q(this,t,e,!1),e+2},h.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,2147483647,-2147483648),h.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):R(this,t,e,!0),e+4},h.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||L(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),h.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):R(this,t,e,!1),e+4},h.prototype.writeFloatLE=function(t,e,r){return C(this,t,e,!0,r)},h.prototype.writeFloatBE=function(t,e,r){return C(this,t,e,!1,r)},h.prototype.writeDoubleLE=function(t,e,r){return D(this,t,e,!0,r)},h.prototype.writeDoubleBE=function(t,e,r){return D(this,t,e,!1,r)},h.prototype.copy=function(t,e,r,n){if(r=r||0,n||0===n||(n=this.length),e>=t.length&&(e=t.length),e=e||0,0<n&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,s=n-r;if(this===t&&r<e&&e<n)for(i=s-1;0<=i;--i)t[i+e]=this[i+r];else if(s<1e3||!h.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+s),e);return s},h.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!h.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var s;if(e>>>=0,r=void 0===r?this.length:r>>>0,"number"==typeof(t=t||0))for(s=e;s<r;++s)this[s]=t;else{var o=h.isBuffer(t)?t:M(new h(t,n).toString()),a=o.length;for(s=0;s<r-e;++s)this[s+e]=o[s%a]}return this};var j=/[^+\/0-9A-Za-z-_]/g;function N(t){return t<16?"0"+t.toString(16):t.toString(16)}function M(t,e){e=e||1/0;for(var r,n=t.length,i=null,s=[],o=0;o<n;++o){if(55295<(r=t.charCodeAt(o))&&r<57344){if(!i){if(56319<r){-1<(e-=3)&&s.push(239,191,189);continue}if(o+1===n){-1<(e-=3)&&s.push(239,191,189);continue}i=r;continue}if(r<56320){-1<(e-=3)&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&-1<(e-=3)&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(192|r>>6,128|63&r)}else if(r<65536){if((e-=3)<0)break;s.push(224|r>>12,128|63&r>>6,128|63&r)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(240|r>>18,128|63&r>>12,128|63&r>>6,128|63&r)}}return s}function P(t){return n.toByteArray(function(t){var e;if((t=((e=t).trim?e.trim():e.replace(/^\s+|\s+$/g,"")).replace(j,"")).length<2)return"";for(;0!=t.length%4;)t+="=";return t}(t))}function O(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":4,ieee754:5,isarray:6}],4:[function(t,e,r){"use strict";r.toByteArray=function(t){var e,r,n,i,s,o=t.length;if(0<o%4)throw new Error("Invalid string. Length must be a multiple of 4");i="="===t[o-2]?2:"="===t[o-1]?1:0,s=new l(3*o/4-i),r=0<i?o-4:o;var a=0;for(e=0;e<r;e+=4,3)n=u[t.charCodeAt(e)]<<18|u[t.charCodeAt(e+1)]<<12|u[t.charCodeAt(e+2)]<<6|u[t.charCodeAt(e+3)],s[a++]=255&n>>16,s[a++]=255&n>>8,s[a++]=255&n;2==i?(n=u[t.charCodeAt(e)]<<2|u[t.charCodeAt(e+1)]>>4,s[a++]=255&n):1==i&&(n=u[t.charCodeAt(e)]<<10|u[t.charCodeAt(e+1)]<<4|u[t.charCodeAt(e+2)]>>2,s[a++]=255&n>>8,s[a++]=255&n);return s},r.fromByteArray=function(t){for(var e,r=t.length,n=r%3,i="",s=[],o=0,a=r-n;o<a;o+=16383)s.push(h(t,o,a<o+16383?a:o+16383));1==n?(e=t[r-1],i+=c[e>>2],i+=c[63&e<<4],i+="=="):2==n&&(e=(t[r-2]<<8)+t[r-1],i+=c[e>>10],i+=c[63&e>>4],i+=c[63&e<<2],i+="=");return s.push(i),s.join("")};var c=[],u=[],l="undefined"!=typeof Uint8Array?Uint8Array:Array;function h(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16)+(t[s+1]<<8)+t[s+2],i.push(c[63&(o=n)>>18]+c[63&o>>12]+c[63&o>>6]+c[63&o]);var o;return i.join("")}!function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,r=t.length;e<r;++e)c[e]=t[e],u[t.charCodeAt(e)]=e;u["-".charCodeAt(0)]=62,u["_".charCodeAt(0)]=63}()},{}],5:[function(t,e,r){r.read=function(t,e,r,n,i){var s,o,a=8*i-n-1,c=(1<<a)-1,u=c>>1,l=-7,h=r?i-1:0,f=r?-1:1,p=t[e+h];for(h+=f,s=p&(1<<-l)-1,p>>=-l,l+=a;0<l;s=256*s+t[e+h],h+=f,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;0<l;o=256*o+t[e+h],h+=f,l-=8);if(0===s)s=1-u;else{if(s===c)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),s-=u}return(p?-1:1)*o*Math.pow(2,s-n)},r.write=function(t,e,r,n,i,s){var o,a,c,u=8*s-i-1,l=(1<<u)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,d=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=l):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),2<=(e+=1<=o+h?f/c:f*Math.pow(2,1-h))*c&&(o++,c/=2),l<=o+h?(a=0,o=l):1<=o+h?(a=(e*c-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));8<=i;t[r+p]=255&a,p+=d,a/=256,i-=8);for(o=o<<i|a,u+=i;0<u;t[r+p]=255&o,p+=d,o/=256,u-=8);t[r+p-d]|=128*g}},{}],6:[function(t,e,r){var n={}.toString;e.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},{}],7:[function(t,e,r){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function c(t){return"function"==typeof t}function u(t){return"object"===babelHelpers.typeof(t)&&null!==t}function l(t){return void 0===t}((e.exports=n).EventEmitter=n).prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,r,n,i,s,o;if(this._events||(this._events={}),"error"===t&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if(e=arguments[1],babelHelpers.instanceof(e,Error))throw e;var a=new Error('Uncaught, unspecified "error" event. ('+e+")");throw a.context=e,a}if(l(r=this._events[t]))return!1;if(c(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),r.apply(this,i)}else if(u(r))for(i=Array.prototype.slice.call(arguments,1),n=(o=r.slice()).length,s=0;s<n;s++)o[s].apply(this,i);return!0},n.prototype.on=n.prototype.addListener=function(t,e){var r;if(!c(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,c(e.listener)?e.listener:e),this._events[t]?u(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,u(this._events[t])&&!this._events[t].warned&&(r=l(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&0<r&&this._events[t].length>r&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(t,e){if(!c(e))throw TypeError("listener must be a function");var r=!1;function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var r,n,i,s;if(!c(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=(r=this._events[t]).length,n=-1,r===e||c(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(u(r)){for(s=i;0<s--;)if(r[s]===e||r[s].listener&&r[s].listener===e){n=s;break}if(n<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(c(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?c(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(c(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},{}],8:[function(t,e,r){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;function r(){}r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],9:[function(t,e,r){function n(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}e.exports=function(t){return null!=t&&(n(t)||"function"==typeof(e=t).readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))||!!t._isBuffer);var e}},{}],10:[function(t,e,r){var n,i,s=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(t){i=a}}();var u,l=[],h=!1,f=-1;function p(){h&&u&&(h=!1,u.length?l=u.concat(l):f=-1,l.length&&d())}function d(){if(!h){var t=c(p);h=!0;for(var e=l.length;e;){for(u=l,l=[];++f<e;)u&&u[f].run();f=-1,e=l.length}u=null,h=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(t)}}function g(t,e){this.fun=t,this.array=e}function m(){}s.nextTick=function(t){var e=Array(arguments.length-1);if(1<arguments.length)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];l.push(new g(t,e)),1!==l.length||h||c(d)},g.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],11:[function(t,e,r){e.exports=t("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":12}],12:[function(t,e,r){"use strict";var n=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};e.exports=h;var i=t("process-nextick-args"),s=t("core-util-is");s.inherits=t("inherits");var o=t("./_stream_readable"),a=t("./_stream_writable");s.inherits(h,o);for(var c,u=n(a.prototype),l=0;l<u.length;l++)c=u[l],h.prototype[c]||(h.prototype[c]=a.prototype[c]);function h(t){if(!babelHelpers.instanceof(this,h))return new h(t);o.call(this,t),a.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||i(p,this)}function p(t){t.end()}},{"./_stream_readable":14,"./_stream_writable":16,"core-util-is":19,inherits:8,"process-nextick-args":21}],13:[function(t,e,r){"use strict";e.exports=s;var n=t("./_stream_transform"),i=t("core-util-is");function s(t){if(!babelHelpers.instanceof(this,s))return new s(t);n.call(this,t)}i.inherits=t("inherits"),i.inherits(s,n),s.prototype._transform=function(t,e,r){r(null,t)}},{"./_stream_transform":15,"core-util-is":19,inherits:8}],14:[function(L,q,t){(function(_){"use strict";q.exports=n;var b=L("process-nextick-args"),y=L("isarray");n.ReadableState=r;function v(t,e){return t.listeners(e).length}var i;L("events").EventEmitter;!function(){try{i=L("stream")}catch(t){}finally{i=i||L("events").EventEmitter}}();var f=L("buffer").Buffer,a=L("buffer-shims"),t=L("core-util-is");t.inherits=L("inherits");var e=L("util"),w=void 0;w=e&&e.debuglog?e.debuglog("stream"):function(){};var s,o,c=L("./internal/streams/BufferList");function r(t,e){o=o||L("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,babelHelpers.instanceof(e,o)&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.buffer=new c,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(s=s||L("client_app/src/yp-magic-text/sanitize-html.min").StringDecoder,this.decoder=new s(t.encoding),this.encoding=t.encoding)}function n(t){if(o=o||L("./_stream_duplex"),!babelHelpers.instanceof(this,n))return new n(t);this._readableState=new r(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),i.call(this)}function u(t,e,r,n,i){var s,o,a,c=function(t,e){var r=null;f.isBuffer(e)||"string"==typeof e||null==e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));return r}(e,r);if(c)t.emit("error",c);else if(null===r)e.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,p(t)}(t,e);else if(e.objectMode||r&&0<r.length)if(e.ended&&!i){var u=new Error("stream.push() after EOF");t.emit("error",u)}else if(e.endEmitted&&i){var l=new Error("stream.unshift() after end event");t.emit("error",l)}else{var h;!e.decoder||i||n||(r=e.decoder.write(r),h=!e.objectMode&&0===r.length),i||(e.reading=!1),h||(e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,i?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&p(t))),s=t,(o=e).readingMore||(o.readingMore=!0,b(g,s,o))}else i||(e.reading=!1);return!(a=e).ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}t.inherits(n,i),n.prototype.push=function(t,e){var r=this._readableState;return r.objectMode||"string"!=typeof t||(e=e||r.defaultEncoding)!==r.encoding&&(t=a.from(t,e),e=""),u(this,r,t,e,!1)},n.prototype.unshift=function(t){return u(this,this._readableState,t,"",!0)},n.prototype.isPaused=function(){return!1===this._readableState.flowing},n.prototype.setEncoding=function(t){return s=s||L("client_app/src/yp-magic-text/sanitize-html.min").StringDecoder,this._readableState.decoder=new s(t),this._readableState.encoding=t,this};var l=8388608;function h(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=(l<=(r=t)?r=l:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0));var r}function p(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(w("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?b(d,t):d(t))}function d(t){w("emit readable"),t.emit("readable"),S(t)}function g(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(w("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function m(t){w("readable nexttick read 0"),t.read(0)}function x(t,e){e.reading||(w("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),S(t),e.flowing&&!e.reading&&t.read(0)}function S(t){var e=t._readableState;for(w("flow",e.flowing);e.flowing&&null!==t.read(););}function E(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var s=r.data,o=t>s.length?s.length:t;if(o===s.length?i+=s:i+=s.slice(0,t),0===(t-=o)){o===s.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r).data=s.slice(o);break}++n}return e.length-=n,i}(t,e):function(t,e){var r=a.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var s=n.data,o=t>s.length?s.length:t;if(s.copy(r,r.length-t,0,o),0===(t-=o)){o===s.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n).data=s.slice(o);break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function T(t){var e=t._readableState;if(0<e.length)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,b(A,e,t))}function A(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function k(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}n.prototype.read=function(t){w("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return w("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?T(this):p(this),null;if(0===(t=h(t,e))&&e.ended)return 0===e.length&&T(this),null;var n,i=e.needReadable;return w("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&w("length less than watermark",i=!0),e.ended||e.reading?w("reading or ended",i=!1):i&&(w("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=h(r,e))),null===(n=0<t?E(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&T(this)),null!==n&&this.emit("data",n),n},n.prototype._read=function(t){this.emit("error",new Error("not implemented"))},n.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,w("pipe count=%d opts=%j",n.pipesCount,t);var i=(!t||!1!==t.end)&&e!==_.stdout&&e!==_.stderr?o:l;function s(t){w("onunpipe"),t===r&&l()}function o(){w("onend"),e.end()}n.endEmitted?b(i):r.once("end",i),e.on("unpipe",s);var a,c=(a=r,function(){var t=a._readableState;w("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&v(a,"data")&&(t.flowing=!0,S(a))});e.on("drain",c);var u=!1;function l(){w("cleanup"),e.removeListener("close",d),e.removeListener("finish",g),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",s),r.removeListener("end",o),r.removeListener("end",l),r.removeListener("data",f),u=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}var h=!1;function f(t){w("ondata"),(h=!1)!==e.write(t)||h||((1===n.pipesCount&&n.pipes===e||1<n.pipesCount&&-1!==k(n.pipes,e))&&!u&&(w("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,h=!0),r.pause())}function p(t){w("onerror",t),m(),e.removeListener("error",p),0===v(e,"error")&&e.emit("error",t)}function d(){e.removeListener("finish",g),m()}function g(){w("onfinish"),e.removeListener("close",d),m()}function m(){w("unpipe"),r.unpipe(e)}return r.on("data",f),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?y(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(e,"error",p),e.once("close",d),e.once("finish",g),e.emit("pipe",r),n.flowing||(w("pipe resume"),r.resume()),e},n.prototype.unpipe=function(t){var e=this._readableState;if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes||(t=t||e.pipes,e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this)),this;if(!t){var r=e.pipes,n=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var i=0;i<n;i++)r[i].emit("unpipe",this);return this}var s=k(e.pipes,t);return-1===s||(e.pipes.splice(s,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this)),this},n.prototype.addListener=n.prototype.on=function(t,e){var r=i.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var n=this._readableState;n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.emittedReadable=!1,n.reading?n.length&&p(this):b(m,this))}return r},n.prototype.resume=function(){var t,e,r=this._readableState;return r.flowing||(w("resume"),r.flowing=!0,t=this,(e=r).resumeScheduled||(e.resumeScheduled=!0,b(x,t,e))),this},n.prototype.pause=function(){return w("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(w("pause"),this._readableState.flowing=!1,this.emit("pause")),this},n.prototype.wrap=function(e){var r=this._readableState,n=!1,i=this;for(var t in e.on("end",function(){if(w("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&i.push(t)}i.push(null)}),e.on("data",function(t){w("wrapped data"),r.decoder&&(t=r.decoder.write(t)),r.objectMode&&null==t||(r.objectMode||t&&t.length)&&(i.push(t)||(n=!0,e.pause()))}),e)void 0===this[t]&&"function"==typeof e[t]&&(this[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t));return function(t,e){for(var r=0,n=t.length;r<n;r++)e(t[r],r)}(["error","close","destroy","pause","resume"],function(t){e.on(t,i.emit.bind(i,t))}),i._read=function(t){w("wrapped _read",t),n&&(n=!1,e.resume())},i},n._fromList=E}).call(this,L("_process"))},{"./_stream_duplex":12,"./internal/streams/BufferList":17,_process:10,buffer:3,"buffer-shims":18,"core-util-is":19,events:7,inherits:8,isarray:20,"process-nextick-args":21,"string_decoder/":28,util:2}],15:[function(t,e,r){"use strict";e.exports=o;var n=t("./_stream_duplex"),i=t("core-util-is");function s(r){this.afterTransform=function(t,e){return function(t,e,r){var n=t._transformState;n.transforming=!1;var i=n.writecb;if(!i)return t.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,(n.writecb=null)!==r&&void 0!==r&&t.push(r);i(e);var s=t._readableState;s.reading=!1,(s.needReadable||s.length<s.highWaterMark)&&t._read(s.highWaterMark)}(r,t,e)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function o(t){if(!babelHelpers.instanceof(this,o))return new o(t);n.call(this,t),this._transformState=new s(this);var e=this;this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(t){a(e,t)}):a(e)})}function a(t,e){if(e)return t.emit("error",e);var r=t._writableState,n=t._transformState;if(r.length)throw new Error("Calling transform done when ws.length != 0");if(n.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=t("inherits"),i.inherits(o,n),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error("Not implemented")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},{"./_stream_duplex":12,"core-util-is":19,inherits:8}],16:[function(v,w,t){(function(t){"use strict";w.exports=a;var d=v("process-nextick-args"),o=!t.browser&&-1<["v0.10","v0.9."].indexOf(t.version.slice(0,5))?setImmediate:d;a.WritableState=i;var e=v("core-util-is");e.inherits=v("inherits");var r,n={deprecate:v("util-deprecate")};!function(){try{r=v("stream")}catch(t){}finally{r=r||v("events").EventEmitter}}();var s,g=v("buffer").Buffer,m=v("buffer-shims");function _(){}function b(t,e,r){this.chunk=t,this.encoding=e,this.callback=r,this.next=null}function i(t,e){s=s||v("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,babelHelpers.instanceof(e,s)&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,n=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:n,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1;var i=(this.finished=!1)===t.decodeStrings;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,n=r.sync,i=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,n,i){--e.pendingcb,r?d(i,n):i(n);t._writableState.errorEmitted=!0,t.emit("error",n)}(t,r,n,e,i);else{var s=l(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||u(t,r),n?o(c,t,r,s,i):c(t,r,s,i)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new p(this)}function a(t){if(s=s||v("./_stream_duplex"),!babelHelpers.instanceof(this,a)&&!babelHelpers.instanceof(this,s))return new a(t);this._writableState=new i(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),r.call(this)}function y(t,e,r,n,i,s,o){e.writelen=n,e.writecb=o,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,s,e.onwrite),e.sync=!1}function c(t,e,r,n){var i,s;r||(i=t,0===(s=e).length&&s.needDrain&&(s.needDrain=!1,i.emit("drain"))),e.pendingcb--,n(),f(t,e)}function u(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,i=Array(n),s=e.corkedRequestsFree;s.entry=r;for(var o=0;r;)r=(i[o]=r).next,o+=1;y(t,e,!0,e.length,i,"",s.finish),e.pendingcb++,e.lastBufferedRequest=null,s.next?(e.corkedRequestsFree=s.next,s.next=null):e.corkedRequestsFree=new p(e)}else{for(;r;){var a=r.chunk,c=r.encoding,u=r.callback;if(y(t,e,!1,e.objectMode?1:a.length,a,c,u),r=r.next,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequestCount=0,e.bufferedRequest=r,e.bufferProcessing=!1}function l(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function h(t,e){e.prefinished||(e.prefinished=!0,t.emit("prefinish"))}function f(t,e){var r=l(e);return r&&(0===e.pendingcb?(h(t,e),e.finished=!0,t.emit("finish")):h(t,e)),r}function p(n){var i=this;this.next=null,this.entry=null,this.finish=function(t){var e=i.entry;for(i.entry=null;e;){var r=e.callback;n.pendingcb--,r(t),e=e.next}n.corkedRequestsFree?n.corkedRequestsFree.next=i:n.corkedRequestsFree=i}}e.inherits(a,r),i.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(i.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(t){}}(),a.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},a.prototype.write=function(t,e,r){var n,i,s,o,a,c,u,l,h,f=this._writableState,p=!1;return"function"==typeof e&&(r=e,e=null),e=g.isBuffer(t)?"buffer":e||f.defaultEncoding,"function"!=typeof r&&(r=_),f.ended?(u=this,l=r,h=new Error("write after end"),u.emit("error",h),d(l,h)):(n=this,i=f,o=r,c=!(a=!0),null===(s=t)?c=new TypeError("May not write null values to stream"):g.isBuffer(s)||"string"==typeof s||void 0===s||i.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c&&(n.emit("error",c),d(o,c),a=!1),a&&(f.pendingcb++,p=function(t,e,r,n,i){r=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=m.from(e,r));return e}(e,r,n),g.isBuffer(r)&&(n="buffer");var s=e.objectMode?1:r.length;e.length+=s;var o=e.length<e.highWaterMark;o||(e.needDrain=!0);if(e.writing||e.corked){var a=e.lastBufferedRequest;e.lastBufferedRequest=new b(r,n,i),a?a.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else y(t,e,!1,s,r,n,i);return o}(this,f,t,e,r))),p},a.prototype.cork=function(){this._writableState.corked++},a.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||u(this,t))},a.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},a.prototype._write=function(t,e,r){r(new Error("not implemented"))},a.prototype._writev=null,a.prototype.end=function(t,e,r){var n=this._writableState;"function"==typeof t?(r=t,e=t=null):"function"==typeof e&&(r=e,e=null),null!=t&&this.write(t,e),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||function(t,e,r){e.ending=!0,f(t,e),r&&(e.finished?d(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,n,r)}}).call(this,v("_process"))},{"./_stream_duplex":12,_process:10,buffer:3,"buffer-shims":18,"core-util-is":19,events:7,inherits:8,"process-nextick-args":21,"util-deprecate":22}],17:[function(t,e,r){"use strict";t("buffer").Buffer;var i=t("buffer-shims");function n(){this.head=null,this.tail=null,this.length=0}(e.exports=n).prototype.push=function(t){var e={data:t,next:null};0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length},n.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},n.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},n.prototype.clear=function(){this.head=this.tail=null,this.length=0},n.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},n.prototype.concat=function(t){if(0===this.length)return i.alloc(0);if(1===this.length)return this.head.data;for(var e=i.allocUnsafe(t>>>0),r=this.head,n=0;r;)r.data.copy(e,n),n+=r.data.length,r=r.next;return e}},{buffer:3,"buffer-shims":18}],18:[function(r,t,n){(function(o){"use strict";var t=r("buffer"),u=t.Buffer,e=t.SlowBuffer,l=t.kMaxLength||2147483647;n.alloc=function(t,e,r){if("function"==typeof u.alloc)return u.alloc(t,e,r);if("number"==typeof r)throw new TypeError("encoding must not be number");if("number"!=typeof t)throw new TypeError("size must be a number");if(l<t)throw new RangeError("size is too large");var n=r,i=e;void 0===i&&(n=void 0,i=0);var s=new u(t);if("string"==typeof i)for(var o=new u(i,n),a=o.length,c=-1;++c<t;)s[c]=o[c%a];else s.fill(i);return s},n.allocUnsafe=function(t){if("function"==typeof u.allocUnsafe)return u.allocUnsafe(t);if("number"!=typeof t)throw new TypeError("size must be a number");if(l<t)throw new RangeError("size is too large");return new u(t)},n.from=function(t,e,r){if("function"==typeof u.from&&(!o.Uint8Array||Uint8Array.from!==u.from))return u.from(t,e,r);if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("string"==typeof t)return new u(t,e);if("undefined"!=typeof ArrayBuffer&&babelHelpers.instanceof(t,ArrayBuffer)){var n=e;if(1===arguments.length)return new u(t);void 0===n&&(n=0);var i=r;if(void 0===i&&(i=t.byteLength-n),n>=t.byteLength)throw new RangeError("'offset' is out of bounds");if(i>t.byteLength-n)throw new RangeError("'length' is out of bounds");return new u(t.slice(n,n+i))}if(u.isBuffer(t)){var s=new u(t.length);return t.copy(s,0,0,t.length),s}if(t){if(Array.isArray(t)||"undefined"!=typeof ArrayBuffer&&babelHelpers.instanceof(t.buffer,ArrayBuffer)||"length"in t)return new u(t);if("Buffer"===t.type&&Array.isArray(t.data))return new u(t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},n.allocUnsafeSlow=function(t){if("function"==typeof u.allocUnsafeSlow)return u.allocUnsafeSlow(t);if("number"!=typeof t)throw new TypeError("size must be a number");if(l<=t)throw new RangeError("size is too large");return new e(t)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:3}],19:[function(t,e,r){(function(t){function e(t){return Object.prototype.toString.call(t)}r.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)},r.isBoolean=function(t){return"boolean"==typeof t},r.isNull=function(t){return null===t},r.isNullOrUndefined=function(t){return null==t},r.isNumber=function(t){return"number"==typeof t},r.isString=function(t){return"string"==typeof t},r.isSymbol=function(t){return"symbol"===babelHelpers.typeof(t)},r.isUndefined=function(t){return void 0===t},r.isRegExp=function(t){return"[object RegExp]"===e(t)},r.isObject=function(t){return"object"===babelHelpers.typeof(t)&&null!==t},r.isDate=function(t){return"[object Date]"===e(t)},r.isError=function(t){return"[object Error]"===e(t)||babelHelpers.instanceof(t,Error)},r.isFunction=function(t){return"function"==typeof t},r.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"===babelHelpers.typeof(t)||void 0===t},r.isBuffer=t.isBuffer}).call(this,{isBuffer:t("../../../../insert-module-globals/node_modules/is-buffer/index.js")})},{"../../../../insert-module-globals/node_modules/is-buffer/index.js":9}],20:[function(t,e,r){arguments[4][6][0].apply(r,arguments)},{dup:6}],21:[function(t,e,r){(function(a){"use strict";!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?e.exports=function(t,e,r,n){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,s,o=arguments.length;switch(o){case 0:case 1:return a.nextTick(t);case 2:return a.nextTick(function(){t.call(null,e)});case 3:return a.nextTick(function(){t.call(null,e,r)});case 4:return a.nextTick(function(){t.call(null,e,r,n)});default:for(i=Array(o-1),s=0;s<i.length;)i[s++]=arguments[s];return a.nextTick(function(){t.apply(null,i)})}}:e.exports=a.nextTick}).call(this,t("_process"))},{_process:10}],22:[function(t,e,r){(function(r){function n(t){try{if(!r.localStorage)return!1}catch(t){return!1}var e=r.localStorage[t];return null!=e&&"true"===(e+"").toLowerCase()}e.exports=function(t,e){if(n("noDeprecation"))return t;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(e);n("traceDeprecation")?console.trace(e):console.warn(e),r=!0}return t.apply(this,arguments)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],23:[function(t,e,r){e.exports=t("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":13}],24:[function(r,n,i){(function(t){var e=function(){try{return r("stream")}catch(t){}}();(i=n.exports=r("./lib/_stream_readable.js")).Stream=e||i,(i.Readable=i).Writable=r("./lib/_stream_writable.js"),i.Duplex=r("./lib/_stream_duplex.js"),i.Transform=r("./lib/_stream_transform.js"),i.PassThrough=r("./lib/_stream_passthrough.js"),!t.browser&&"disable"===t.env.READABLE_STREAM&&e&&(n.exports=e)}).call(this,r("_process"))},{"./lib/_stream_duplex.js":12,"./lib/_stream_passthrough.js":13,"./lib/_stream_readable.js":14,"./lib/_stream_transform.js":15,"./lib/_stream_writable.js":16,_process:10}],25:[function(t,e,r){e.exports=t("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":15}],26:[function(t,e,r){e.exports=t("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":16}],27:[function(t,e,r){e.exports=n;var l=t("events").EventEmitter;function n(){l.call(this)}t("inherits")(n,l),n.Readable=t("readable-stream/readable.js"),n.Writable=t("readable-stream/writable.js"),n.Duplex=t("readable-stream/duplex.js"),n.Transform=t("readable-stream/transform.js"),n.PassThrough=t("readable-stream/passthrough.js"),(n.Stream=n).prototype.pipe=function(e,t){var r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",o),r.on("close",a));var s=!1;function o(){s||(s=!0,e.end())}function a(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function c(t){if(u(),0===l.listenerCount(this,"error"))throw t}function u(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",o),r.removeListener("close",a),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",c),e.on("error",c),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e}},{events:7,inherits:8,"readable-stream/duplex.js":11,"readable-stream/passthrough.js":23,"readable-stream/readable.js":24,"readable-stream/transform.js":25,"readable-stream/writable.js":26}],28:[function(t,e,r){var n=t("buffer").Buffer,i=n.isEncoding||function(t){switch(t&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};var s=r.StringDecoder=function(t){switch(this.encoding=(t||"utf8").toLowerCase().replace(/[-_]/,""),function(t){if(t&&!i(t))throw new Error("Unknown encoding: "+t)}(t),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=a;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=c;break;default:return void(this.write=o)}this.charBuffer=new n(6),this.charReceived=0,this.charLength=0};function o(t){return t.toString(this.encoding)}function a(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function c(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}s.prototype.write=function(t){for(var e="";this.charLength;){var r=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";if(t=t.slice(r,t.length),!(55296<=(i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))&&i<=56319)){if(this.charReceived=this.charLength=0,0===t.length)return e;break}this.charLength+=this.surrogateSize,e=""}this.detectIncompleteChar(t);var n=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,n),n-=this.charReceived);var i;n=(e+=t.toString(this.encoding,0,n)).length-1;if(55296<=(i=e.charCodeAt(n))&&i<=56319){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),t.copy(this.charBuffer,0,0,s),e.substring(0,n)}return e},s.prototype.detectIncompleteChar=function(t){for(var e=3<=t.length?3:t.length;0<e;e--){var r=t[t.length-e];if(1==e&&6==r>>5){this.charLength=2;break}if(e<=2&&14==r>>4){this.charLength=3;break}if(e<=3&&30==r>>3){this.charLength=4;break}}this.charReceived=e},s.prototype.end=function(t){var e="";if(t&&t.length&&(e=this.write(t)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;e+=n.slice(0,r).toString(i)}return e}},{buffer:3}],29:[function(t,e,r){function n(t){this._cbs=t||{},this.events=[]}e.exports=n;var i=t("../yp-behaviors").EVENTS;Object.keys(i).forEach(function(r){if(0===i[r])n.prototype[r="on"+r]=function(){this.events.push([r]),this._cbs[r]&&this._cbs[r]()};else if(1===i[r])n.prototype[r="on"+r]=function(t){this.events.push([r,t]),this._cbs[r]&&this._cbs[r](t)};else{if(2!==i[r])throw Error("wrong number of arguments");n.prototype[r="on"+r]=function(t,e){this.events.push([r,t,e]),this._cbs[r]&&this._cbs[r](t,e)}}}),n.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},n.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var t=0,e=this.events.length;t<e;t++)if(this._cbs[this.events[t][0]]){var r=this.events[t].length;1===r?this._cbs[this.events[t][0]]():2===r?this._cbs[this.events[t][0]](this.events[t][1]):this._cbs[this.events[t][0]](this.events[t][1],this.events[t][2])}}},{"./":36}],30:[function(t,e,r){var n=t("./index.js"),i=n.DomHandler,s=n.DomUtils;function o(t,e){this.init(t,e)}function a(t,e){return s.getElementsByTagName(t,e,!0)}function c(t,e){return s.getElementsByTagName(t,e,!0,1)[0]}function u(t,e,r){return s.getText(s.getElementsByTagName(t,e,r,1)).trim()}function l(t,e,r,n,i){var s=u(r,n,i);s&&(t[e]=s)}t("inherits")(o,i),o.prototype.init=i;function h(t){return"rss"===t||"feed"===t||"rdf:RDF"===t}o.prototype.onend=function(){var t,e,r={},n=c(h,this.dom);n&&("feed"===n.name?(e=n.children,r.type="atom",l(r,"id","id",e),l(r,"title","title",e),(t=c("link",e))&&(t=t.attribs)&&(t=t.href)&&(r.link=t),l(r,"description","subtitle",e),(t=u("updated",e))&&(r.updated=new Date(t)),l(r,"author","email",e,!0),r.items=a("entry",e).map(function(t){var e,r={};return l(r,"id","id",t=t.children),l(r,"title","title",t),(e=c("link",t))&&(e=e.attribs)&&(e=e.href)&&(r.link=e),(e=u("summary",t)||u("content",t))&&(r.description=e),(e=u("updated",t))&&(r.pubDate=new Date(e)),r})):(e=c("channel",n.children).children,r.type=n.name.substr(0,3),r.id="",l(r,"title","title",e),l(r,"link","link",e),l(r,"description","description",e),(t=u("lastBuildDate",e))&&(r.updated=new Date(t)),l(r,"author","managingEditor",e,!0),r.items=a("item",n.children).map(function(t){var e,r={};return l(r,"id","guid",t=t.children),l(r,"title","title",t),l(r,"link","link",t),l(r,"description","description",t),(e=u("pubDate",t))&&(r.pubDate=new Date(e)),r}))),this.dom=r,i.prototype._handleCallback.call(this,n?null:Error("couldn't find root of feed"))},e.exports=o},{"./index.js":36,inherits:58}],31:[function(t,e,r){var n=t("./Tokenizer.js"),i={input:!0,option:!0,optgroup:!0,select:!0,button:!0,datalist:!0,textarea:!0},s={tr:{tr:!0,th:!0,td:!0},th:{th:!0},td:{thead:!0,th:!0,td:!0},body:{head:!0,link:!0,script:!0},li:{li:!0},p:{p:!0},h1:{p:!0},h2:{p:!0},h3:{p:!0},h4:{p:!0},h5:{p:!0},h6:{p:!0},select:i,input:i,output:i,button:i,datalist:i,textarea:i,option:{option:!0},optgroup:{optgroup:!0}},o={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,path:!0,circle:!0,ellipse:!0,line:!0,rect:!0,use:!0,stop:!0,polyline:!0,polygon:!0},a=/\s|\//;function c(t,e){this._options=e||{},this._cbs=t||{},this._tagname="",this._attribname="",this._attribvalue="",this._attribs=null,this._stack=[],this.startIndex=0,this.endIndex=null,this._lowerCaseTagNames="lowerCaseTags"in this._options?!!this._options.lowerCaseTags:!this._options.xmlMode,this._lowerCaseAttributeNames="lowerCaseAttributeNames"in this._options?!!this._options.lowerCaseAttributeNames:!this._options.xmlMode,this._options.Tokenizer&&(n=this._options.Tokenizer),this._tokenizer=new n(this._options,this),this._cbs.onparserinit&&this._cbs.onparserinit(this)}t("inherits")(c,t("events").EventEmitter),c.prototype._updatePosition=function(t){null===this.endIndex?this._tokenizer._sectionStart<=t?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-t:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},c.prototype.ontext=function(t){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(t)},c.prototype.onopentagname=function(t){if(this._lowerCaseTagNames&&(t=t.toLowerCase()),this._tagname=t,!this._options.xmlMode&&t in s)for(var e;(e=this._stack[this._stack.length-1])in s[t];this.onclosetag(e));!this._options.xmlMode&&t in o||this._stack.push(t),this._cbs.onopentagname&&this._cbs.onopentagname(t),this._cbs.onopentag&&(this._attribs={})},c.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&this._tagname in o&&this._cbs.onclosetag(this._tagname),this._tagname=""},c.prototype.onclosetag=function(t){if(this._updatePosition(1),this._lowerCaseTagNames&&(t=t.toLowerCase()),!this._stack.length||t in o&&!this._options.xmlMode)this._options.xmlMode||"br"!==t&&"p"!==t||(this.onopentagname(t),this._closeCurrentTag());else{var e=this._stack.lastIndexOf(t);if(-1!==e)if(this._cbs.onclosetag)for(e=this._stack.length-e;e--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=e;else"p"!==t||this._options.xmlMode||(this.onopentagname(t),this._closeCurrentTag())}},c.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing?this._closeCurrentTag():this.onopentagend()},c.prototype._closeCurrentTag=function(){var t=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===t&&(this._cbs.onclosetag&&this._cbs.onclosetag(t),this._stack.pop())},c.prototype.onattribname=function(t){this._lowerCaseAttributeNames&&(t=t.toLowerCase()),this._attribname=t},c.prototype.onattribdata=function(t){this._attribvalue+=t},c.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},c.prototype._getInstructionName=function(t){var e=t.search(a),r=e<0?t:t.substr(0,e);return this._lowerCaseTagNames&&(r=r.toLowerCase()),r},c.prototype.ondeclaration=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("!"+e,"!"+t)}},c.prototype.onprocessinginstruction=function(t){if(this._cbs.onprocessinginstruction){var e=this._getInstructionName(t);this._cbs.onprocessinginstruction("?"+e,"?"+t)}},c.prototype.oncomment=function(t){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(t),this._cbs.oncommentend&&this._cbs.oncommentend()},c.prototype.oncdata=function(t){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(t),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+t+"]]")},c.prototype.onerror=function(t){this._cbs.onerror&&this._cbs.onerror(t)},c.prototype.onend=function(){if(this._cbs.onclosetag)for(var t=this._stack.length;0<t;this._cbs.onclosetag(this._stack[--t]));this._cbs.onend&&this._cbs.onend()},c.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},c.prototype.parseComplete=function(t){this.reset(),this.end(t)},c.prototype.write=function(t){this._tokenizer.write(t)},c.prototype.end=function(t){this._tokenizer.end(t)},c.prototype.pause=function(){this._tokenizer.pause()},c.prototype.resume=function(){this._tokenizer.resume()},c.prototype.parseChunk=c.prototype.write,c.prototype.done=c.prototype.end,e.exports=c},{"./Tokenizer.js":34,events:7,inherits:58}],32:[function(t,e,r){function n(t){this._cbs=t||{}}e.exports=n;var i=t("../yp-behaviors").EVENTS;Object.keys(i).forEach(function(r){if(0===i[r])n.prototype[r="on"+r]=function(){this._cbs[r]&&this._cbs[r]()};else if(1===i[r])n.prototype[r="on"+r]=function(t){this._cbs[r]&&this._cbs[r](t)};else{if(2!==i[r])throw Error("wrong number of arguments");n.prototype[r="on"+r]=function(t,e){this._cbs[r]&&this._cbs[r](t,e)}}})},{"./":36}],33:[function(t,e,r){e.exports=i;var n=t("./WritableStream.js");function i(t){n.call(this,new s(this),t)}function s(t){this.scope=t}t("inherits")(i,n),i.prototype.readable=!0;var o=t("../").EVENTS;Object.keys(o).forEach(function(r){if(0===o[r])s.prototype["on"+r]=function(){this.scope.emit(r)};else if(1===o[r])s.prototype["on"+r]=function(t){this.scope.emit(r,t)};else{if(2!==o[r])throw Error("wrong number of arguments!");s.prototype["on"+r]=function(t,e){this.scope.emit(r,t,e)}}})},{"../":36,"./WritableStream.js":35,inherits:58}],34:[function(t,e,r){e.exports=bt;var n,i,s=t("entities/lib/decode_codepoint.js"),o=t("entities/maps/entities.json"),a=t("entities/maps/legacy.json"),c=t("entities/maps/xml.json"),u=0,l=u++,h=u++,f=u++,p=u++,d=u++,g=u++,m=u++,_=u++,b=u++,y=u++,v=u++,w=u++,x=u++,S=u++,E=u++,T=u++,A=u++,k=u++,L=u++,q=u++,R=u++,B=u++,C=u++,D=u++,j=u++,N=u++,M=u++,P=u++,O=u++,I=u++,U=u++,H=u++,V=u++,z=u++,Y=u++,F=u++,G=u++,W=u++,X=u++,Q=u++,J=u++,Z=u++,K=u++,$=u++,tt=u++,et=u++,rt=u++,nt=u++,it=u++,st=u++,ot=u++,at=u++,ct=u++,ut=u++,lt=u++,ht=0,ft=ht++,pt=ht++,dt=ht++;function gt(t){return" "===t||"\n"===t||"\t"===t||"\f"===t||"\r"===t}function mt(e,r,n){var i=e.toLowerCase();return e===i?function(t){t===i?this._state=r:(this._state=n,this._index--)}:function(t){t===i||t===e?this._state=r:(this._state=n,this._index--)}}function _t(e,r){var n=e.toLowerCase();return function(t){t===n||t===e?this._state=r:(this._state=f,this._index--)}}function bt(t,e){this._state=l,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=l,this._special=ft,this._cbs=e,this._running=!0,this._ended=!1,this._xmlMode=!(!t||!t.xmlMode),this._decodeEntities=!(!t||!t.decodeEntities)}bt.prototype._stateText=function(t){"<"===t?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=h,this._sectionStart=this._index):this._decodeEntities&&this._special===ft&&"&"===t&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=l,this._state=ot,this._sectionStart=this._index)},bt.prototype._stateBeforeTagName=function(t){"/"===t?this._state=d:"<"===t?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===t||this._special!==ft||gt(t)?this._state=l:"!"===t?(this._state=E,this._sectionStart=this._index+1):"?"===t?(this._state=A,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==t&&"S"!==t?f:U,this._sectionStart=this._index)},bt.prototype._stateInTagName=function(t){"/"!==t&&">"!==t&&!gt(t)||(this._emitToken("onopentagname"),this._state=_,this._index--)},bt.prototype._stateBeforeCloseingTagName=function(t){gt(t)||(">"===t?this._state=l:this._special!==ft?"s"===t||"S"===t?this._state=H:(this._state=l,this._index--):(this._state=g,this._sectionStart=this._index))},bt.prototype._stateInCloseingTagName=function(t){">"!==t&&!gt(t)||(this._emitToken("onclosetag"),this._state=m,this._index--)},bt.prototype._stateAfterCloseingTagName=function(t){">"===t&&(this._state=l,this._sectionStart=this._index+1)},bt.prototype._stateBeforeAttributeName=function(t){">"===t?(this._cbs.onopentagend(),this._state=l,this._sectionStart=this._index+1):"/"===t?this._state=p:gt(t)||(this._state=b,this._sectionStart=this._index)},bt.prototype._stateInSelfClosingTag=function(t){">"===t?(this._cbs.onselfclosingtag(),this._state=l,this._sectionStart=this._index+1):gt(t)||(this._state=_,this._index--)},bt.prototype._stateInAttributeName=function(t){"="!==t&&"/"!==t&&">"!==t&&!gt(t)||(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=y,this._index--)},bt.prototype._stateAfterAttributeName=function(t){"="===t?this._state=v:"/"===t||">"===t?(this._cbs.onattribend(),this._state=_,this._index--):gt(t)||(this._cbs.onattribend(),this._state=b,this._sectionStart=this._index)},bt.prototype._stateBeforeAttributeValue=function(t){'"'===t?(this._state=w,this._sectionStart=this._index+1):"'"===t?(this._state=x,this._sectionStart=this._index+1):gt(t)||(this._state=S,this._sectionStart=this._index,this._index--)},bt.prototype._stateInAttributeValueDoubleQuotes=function(t){'"'===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=_):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ot,this._sectionStart=this._index)},bt.prototype._stateInAttributeValueSingleQuotes=function(t){"'"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=_):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ot,this._sectionStart=this._index)},bt.prototype._stateInAttributeValueNoQuotes=function(t){gt(t)||">"===t?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=_,this._index--):this._decodeEntities&&"&"===t&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=ot,this._sectionStart=this._index)},bt.prototype._stateBeforeDeclaration=function(t){this._state="["===t?B:"-"===t?k:T},bt.prototype._stateInDeclaration=function(t){">"===t&&(this._cbs.ondeclaration(this._getSection()),this._state=l,this._sectionStart=this._index+1)},bt.prototype._stateInProcessingInstruction=function(t){">"===t&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=l,this._sectionStart=this._index+1)},bt.prototype._stateBeforeComment=function(t){"-"===t?(this._state=L,this._sectionStart=this._index+1):this._state=T},bt.prototype._stateInComment=function(t){"-"===t&&(this._state=q)},bt.prototype._stateAfterComment1=function(t){this._state="-"===t?R:L},bt.prototype._stateAfterComment2=function(t){">"===t?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"-"!==t&&(this._state=L)},bt.prototype._stateBeforeCdata1=mt("C",C,T),bt.prototype._stateBeforeCdata2=mt("D",D,T),bt.prototype._stateBeforeCdata3=mt("A",j,T),bt.prototype._stateBeforeCdata4=mt("T",N,T),bt.prototype._stateBeforeCdata5=mt("A",M,T),bt.prototype._stateBeforeCdata6=function(t){"["===t?(this._state=P,this._sectionStart=this._index+1):(this._state=T,this._index--)},bt.prototype._stateInCdata=function(t){"]"===t&&(this._state=O)},bt.prototype._stateAfterCdata1=(n="]",i=I,function(t){t===n&&(this._state=i)}),bt.prototype._stateAfterCdata2=function(t){">"===t?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=l,this._sectionStart=this._index+1):"]"!==t&&(this._state=P)},bt.prototype._stateBeforeSpecial=function(t){"c"===t||"C"===t?this._state=V:"t"===t||"T"===t?this._state=K:(this._state=f,this._index--)},bt.prototype._stateBeforeSpecialEnd=function(t){this._special!==pt||"c"!==t&&"C"!==t?this._special!==dt||"t"!==t&&"T"!==t?this._state=l:this._state=rt:this._state=W},bt.prototype._stateBeforeScript1=_t("R",z),bt.prototype._stateBeforeScript2=_t("I",Y),bt.prototype._stateBeforeScript3=_t("P",F),bt.prototype._stateBeforeScript4=_t("T",G),bt.prototype._stateBeforeScript5=function(t){"/"!==t&&">"!==t&&!gt(t)||(this._special=pt),this._state=f,this._index--},bt.prototype._stateAfterScript1=mt("R",X,l),bt.prototype._stateAfterScript2=mt("I",Q,l),bt.prototype._stateAfterScript3=mt("P",J,l),bt.prototype._stateAfterScript4=mt("T",Z,l),bt.prototype._stateAfterScript5=function(t){">"===t||gt(t)?(this._special=ft,this._state=g,this._sectionStart=this._index-6,this._index--):this._state=l},bt.prototype._stateBeforeStyle1=_t("Y",$),bt.prototype._stateBeforeStyle2=_t("L",tt),bt.prototype._stateBeforeStyle3=_t("E",et),bt.prototype._stateBeforeStyle4=function(t){"/"!==t&&">"!==t&&!gt(t)||(this._special=dt),this._state=f,this._index--},bt.prototype._stateAfterStyle1=mt("Y",nt,l),bt.prototype._stateAfterStyle2=mt("L",it,l),bt.prototype._stateAfterStyle3=mt("E",st,l),bt.prototype._stateAfterStyle4=function(t){">"===t||gt(t)?(this._special=ft,this._state=g,this._sectionStart=this._index-5,this._index--):this._state=l},bt.prototype._stateBeforeEntity=mt("#",at,ct),bt.prototype._stateBeforeNumericEntity=mt("X",lt,ut),bt.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var t=this._buffer.substring(this._sectionStart+1,this._index),e=this._xmlMode?c:o;e.hasOwnProperty(t)&&(this._emitPartial(e[t]),this._sectionStart=this._index+1)}},bt.prototype._parseLegacyEntity=function(){var t=this._sectionStart+1,e=this._index-t;for(6<e&&(e=6);2<=e;){var r=this._buffer.substr(t,e);if(a.hasOwnProperty(r))return this._emitPartial(a[r]),void(this._sectionStart+=e+1);e--}},bt.prototype._stateInNamedEntity=function(t){";"===t?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(t<"a"||"z"<t)&&(t<"A"||"Z"<t)&&(t<"0"||"9"<t)&&(this._xmlMode||this._sectionStart+1===this._index||(this._baseState!==l?"="!==t&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},bt.prototype._decodeNumericEntity=function(t,e){var r=this._sectionStart+t;if(r!==this._index){var n=this._buffer.substring(r,this._index),i=parseInt(n,e);this._emitPartial(s(i)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},bt.prototype._stateInNumericEntity=function(t){";"===t?(this._decodeNumericEntity(2,10),this._sectionStart++):(t<"0"||"9"<t)&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},bt.prototype._stateInHexEntity=function(t){";"===t?(this._decodeNumericEntity(3,16),this._sectionStart++):(t<"a"||"f"<t)&&(t<"A"||"F"<t)&&(t<"0"||"9"<t)&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},bt.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._index=0,this._bufferOffset+=this._index):this._running&&(this._state===l?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},bt.prototype.write=function(t){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=t,this._parse()},bt.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var t=this._buffer.charAt(this._index);this._state===l?this._stateText(t):this._state===h?this._stateBeforeTagName(t):this._state===f?this._stateInTagName(t):this._state===d?this._stateBeforeCloseingTagName(t):this._state===g?this._stateInCloseingTagName(t):this._state===m?this._stateAfterCloseingTagName(t):this._state===p?this._stateInSelfClosingTag(t):this._state===_?this._stateBeforeAttributeName(t):this._state===b?this._stateInAttributeName(t):this._state===y?this._stateAfterAttributeName(t):this._state===v?this._stateBeforeAttributeValue(t):this._state===w?this._stateInAttributeValueDoubleQuotes(t):this._state===x?this._stateInAttributeValueSingleQuotes(t):this._state===S?this._stateInAttributeValueNoQuotes(t):this._state===E?this._stateBeforeDeclaration(t):this._state===T?this._stateInDeclaration(t):this._state===A?this._stateInProcessingInstruction(t):this._state===k?this._stateBeforeComment(t):this._state===L?this._stateInComment(t):this._state===q?this._stateAfterComment1(t):this._state===R?this._stateAfterComment2(t):this._state===B?this._stateBeforeCdata1(t):this._state===C?this._stateBeforeCdata2(t):this._state===D?this._stateBeforeCdata3(t):this._state===j?this._stateBeforeCdata4(t):this._state===N?this._stateBeforeCdata5(t):this._state===M?this._stateBeforeCdata6(t):this._state===P?this._stateInCdata(t):this._state===O?this._stateAfterCdata1(t):this._state===I?this._stateAfterCdata2(t):this._state===U?this._stateBeforeSpecial(t):this._state===H?this._stateBeforeSpecialEnd(t):this._state===V?this._stateBeforeScript1(t):this._state===z?this._stateBeforeScript2(t):this._state===Y?this._stateBeforeScript3(t):this._state===F?this._stateBeforeScript4(t):this._state===G?this._stateBeforeScript5(t):this._state===W?this._stateAfterScript1(t):this._state===X?this._stateAfterScript2(t):this._state===Q?this._stateAfterScript3(t):this._state===J?this._stateAfterScript4(t):this._state===Z?this._stateAfterScript5(t):this._state===K?this._stateBeforeStyle1(t):this._state===$?this._stateBeforeStyle2(t):this._state===tt?this._stateBeforeStyle3(t):this._state===et?this._stateBeforeStyle4(t):this._state===rt?this._stateAfterStyle1(t):this._state===nt?this._stateAfterStyle2(t):this._state===it?this._stateAfterStyle3(t):this._state===st?this._stateAfterStyle4(t):this._state===ot?this._stateBeforeEntity(t):this._state===at?this._stateBeforeNumericEntity(t):this._state===ct?this._stateInNamedEntity(t):this._state===ut?this._stateInNumericEntity(t):this._state===lt?this._stateInHexEntity(t):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},bt.prototype.pause=function(){this._running=!1},bt.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},bt.prototype.end=function(t){this._ended&&this._cbs.onerror(Error(".end() after done!")),t&&this.write(t),this._ended=!0,this._running&&this._finish()},bt.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},bt.prototype._handleTrailingData=function(){var t=this._buffer.substr(this._sectionStart);this._state===P||this._state===O||this._state===I?this._cbs.oncdata(t):this._state===L||this._state===q||this._state===R?this._cbs.oncomment(t):this._state!==ct||this._xmlMode?this._state!==ut||this._xmlMode?this._state!==lt||this._xmlMode?this._state!==f&&this._state!==_&&this._state!==v&&this._state!==y&&this._state!==b&&this._state!==x&&this._state!==w&&this._state!==S&&this._state!==g&&this._cbs.ontext(t):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},bt.prototype.reset=function(){bt.call(this,{xmlMode:this._xmlMode,decodeEntities:this._decodeEntities},this._cbs)},bt.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},bt.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},bt.prototype._emitToken=function(t){this._cbs[t](this._getSection()),this._sectionStart=-1},bt.prototype._emitPartial=function(t){this._baseState!==l?this._cbs.onattribdata(t):this._cbs.ontext(t)}},{"entities/lib/decode_codepoint.js":52,"entities/maps/entities.json":55,"entities/maps/legacy.json":56,"entities/maps/xml.json":57}],35:[function(t,e,r){e.exports=a;var i=t("./Parser.js"),s=t("stream").Writable||t("readable-stream").Writable,o=t("string_decoder").StringDecoder,n=t("buffer").Buffer;function a(t,e){var r=this._parser=new i(t,e),n=this._decoder=new o;s.call(this,{decodeStrings:!1}),this.once("finish",function(){r.end(n.end())})}t("inherits")(a,s),s.prototype._write=function(t,e,r){babelHelpers.instanceof(t,n)&&(t=this._decoder.write(t)),this._parser.write(t),r()}},{"./Parser.js":31,buffer:3,inherits:58,"readable-stream":2,stream:27,string_decoder:28}],36:[function(t,n,e){var i=t("./Parser.js"),s=t("domhandler");function r(t,e){return delete n.exports[t],n.exports[t]=e}n.exports={Parser:i,Tokenizer:t("./Tokenizer.js"),ElementType:t("domelementtype"),DomHandler:s,get FeedHandler(){return r("FeedHandler",t("./FeedHandler.js"))},get Stream(){return r("Stream",t("./Stream.js"))},get WritableStream(){return r("WritableStream",t("./WritableStream.js"))},get ProxyHandler(){return r("ProxyHandler",t("./ProxyHandler.js"))},get DomUtils(){return r("DomUtils",t("domutils"))},get CollectingHandler(){return r("CollectingHandler",t("./CollectingHandler.js"))},DefaultHandler:s,get RssHandler(){return r("RssHandler",this.FeedHandler)},parseDOM:function(t,e){var r=new s(e);return new i(r,e).end(t),r.dom},parseFeed:function(t,e){var r=new n.exports.FeedHandler(e);return new i(r,e).end(t),r.dom},createDomStream:function(t,e,r){var n=new s(t,e,r);return new i(n,e)},EVENTS:{attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0}}},{"./CollectingHandler.js":29,"./FeedHandler.js":30,"./Parser.js":31,"./ProxyHandler.js":32,"./Stream.js":33,"./Tokenizer.js":34,"./WritableStream.js":35,domelementtype:37,domhandler:38,domutils:41}],37:[function(t,e,r){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",Doctype:"doctype",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},{}],38:[function(t,e,r){var n=t("domelementtype"),i=/\s+/g,s=t("./lib/node"),o=t("./lib/element");function a(t,e,r){"object"===babelHelpers.typeof(t)?(r=e,e=t,t=null):"function"==typeof e&&(r=e,e=c),this._callback=t,this._options=e||c,this._elementCB=r,this.dom=[],this._done=!1,this._tagStack=[],this._parser=this._parser||null}var c={normalizeWhitespace:!1,withStartIndices:!1};a.prototype.onparserinit=function(t){this._parser=t},a.prototype.onreset=function(){a.call(this,this._callback,this._options,this._elementCB)},a.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this._handleCallback(null))},a.prototype._handleCallback=a.prototype.onerror=function(t){if("function"==typeof this._callback)this._callback(t,this.dom);else if(t)throw t},a.prototype.onclosetag=function(){var t=this._tagStack.pop();this._elementCB&&this._elementCB(t)},a.prototype._addDomElement=function(t){var e=this._tagStack[this._tagStack.length-1],r=e?e.children:this.dom,n=r[r.length-1];t.next=null,this._options.withStartIndices&&(t.startIndex=this._parser.startIndex),this._options.withDomLvl1&&(t.__proto__="tag"===t.type?o:s),n?(t.prev=n).next=t:t.prev=null,r.push(t),t.parent=e||null},a.prototype.onopentag=function(t,e){var r={type:"script"===t?n.Script:"style"===t?n.Style:n.Tag,name:t,attribs:e,children:[]};this._addDomElement(r),this._tagStack.push(r)},a.prototype.ontext=function(t){var e,r=this._options.normalizeWhitespace||this._options.ignoreWhitespace;!this._tagStack.length&&this.dom.length&&(e=this.dom[this.dom.length-1]).type===n.Text?r?e.data=(e.data+t).replace(i," "):e.data+=t:this._tagStack.length&&(e=this._tagStack[this._tagStack.length-1])&&(e=e.children[e.children.length-1])&&e.type===n.Text?r?e.data=(e.data+t).replace(i," "):e.data+=t:(r&&(t=t.replace(i," ")),this._addDomElement({data:t,type:n.Text}))},a.prototype.oncomment=function(t){var e=this._tagStack[this._tagStack.length-1];if(e&&e.type===n.Comment)e.data+=t;else{var r={data:t,type:n.Comment};this._addDomElement(r),this._tagStack.push(r)}},a.prototype.oncdatastart=function(){var t={children:[{data:"",type:n.Text}],type:n.CDATA};this._addDomElement(t),this._tagStack.push(t)},a.prototype.oncommentend=a.prototype.oncdataend=function(){this._tagStack.pop()},a.prototype.onprocessinginstruction=function(t,e){this._addDomElement({name:t,data:e,type:n.Directive})},e.exports=a},{"./lib/element":39,"./lib/node":40,domelementtype:37}],39:[function(t,e,r){var n=t("./node"),i=e.exports=Object.create(n),s={tagName:"name"};Object.keys(s).forEach(function(t){var e=s[t];Object.defineProperty(i,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t}})})},{"./node":40}],40:[function(t,e,r){var n=e.exports={get firstChild(){var t=this.children;return t&&t[0]||null},get lastChild(){var t=this.children;return t&&t[t.length-1]||null},get nodeType(){return s[this.type]||s.element}},i={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"},s={element:1,text:3,cdata:4,comment:8};Object.keys(i).forEach(function(t){var e=i[t];Object.defineProperty(n,t,{get:function(){return this[e]||null},set:function(t){return this[e]=t}})})},{}],41:[function(t,e,r){var n=e.exports;[t("./lib/stringify"),t("./lib/traversal"),t("./lib/manipulation"),t("./lib/querying"),t("./lib/legacy"),t("./lib/helpers")].forEach(function(e){Object.keys(e).forEach(function(t){n[t]=e[t].bind(n)})})},{"./lib/helpers":42,"./lib/legacy":43,"./lib/manipulation":44,"./lib/querying":45,"./lib/stringify":46,"./lib/traversal":47}],42:[function(t,e,r){r.removeSubsets=function(t){for(var e,r,n,i=t.length;-1<--i;){for(e=r=t[i],n=!(t[i]=null);r;){if(-1<t.indexOf(r)){n=!1,t.splice(i,1);break}r=r.parent}n&&(t[i]=e)}return t};var l=1,h=2,f=4,p=8,d=16,i=r.compareDocumentPosition=function(t,e){var r,n,i,s,o,a,c=[],u=[];if(t===e)return 0;for(r=t;r;)c.unshift(r),r=r.parent;for(r=e;r;)u.unshift(r),r=r.parent;for(a=0;c[a]===u[a];)a++;return 0===a?l:(i=(n=c[a-1]).children,s=c[a],o=u[a],i.indexOf(s)>i.indexOf(o)?n===e?f|d:f:n===t?h|p:h)};r.uniqueSort=function(t){var e,r,n=t.length;for(t=t.slice();-1<--n;)e=t[n],-1<(r=t.indexOf(e))&&r<n&&t.splice(n,1);return t.sort(function(t,e){var r=i(t,e);return r&h?-1:r&f?1:0}),t}},{}],43:[function(t,e,r){var n=t("domelementtype"),i=r.isTag=n.isTag;r.testElement=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){if("tag_name"===r){if(!i(e)||!t.tag_name(e.name))return!1}else if("tag_type"===r){if(!t.tag_type(e.type))return!1}else if("tag_contains"===r){if(i(e)||!t.tag_contains(e.data))return!1}else if(!e.attribs||!t[r](e.attribs[r]))return!1}else;return!0};var s={tag_name:function(e){return"function"==typeof e?function(t){return i(t)&&e(t.name)}:"*"===e?i:function(t){return i(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return!i(t)&&e(t.data)}:function(t){return!i(t)&&t.data===e}}};function o(e,r){return"function"==typeof r?function(t){return t.attribs&&r(t.attribs[e])}:function(t){return t.attribs&&t.attribs[e]===r}}function a(e,r){return function(t){return e(t)||r(t)}}r.getElements=function(r,t,e,n){var i=Object.keys(r).map(function(t){var e=r[t];return t in s?s[t](e):o(t,e)});return 0===i.length?[]:this.filter(i.reduce(a),t,e,n)},r.getElementById=function(t,e,r){return Array.isArray(e)||(e=[e]),this.findOne(o("id",t),e,!1!==r)},r.getElementsByTagName=function(t,e,r,n){return this.filter(s.tag_name(t),e,r,n)},r.getElementsByTagType=function(t,e,r,n){return this.filter(s.tag_type(t),e,r,n)}},{domelementtype:37}],44:[function(t,e,r){r.removeElement=function(t){if(t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t.parent){var e=t.parent.children;e.splice(e.lastIndexOf(t),1)}},r.replaceElement=function(t,e){var r=e.prev=t.prev;r&&(r.next=e);var n=e.next=t.next;n&&(n.prev=e);var i=e.parent=t.parent;if(i){var s=i.children;s[s.lastIndexOf(t)]=e}},r.appendChild=function(t,e){if(1!==(e.parent=t).children.push(e)){var r=t.children[t.children.length-2];(r.next=e).prev=r,e.next=null}},r.append=function(t,e){var r=t.parent,n=t.next;if(e.next=n,((e.prev=t).next=e).parent=r,n){if(n.prev=e,r){var i=r.children;i.splice(i.lastIndexOf(n),0,e)}}else r&&r.children.push(e)},r.prepend=function(t,e){var r=t.parent;if(r){var n=r.children;n.splice(n.lastIndexOf(t),0,e)}t.prev&&(t.prev.next=e),e.parent=r,e.prev=t.prev,(e.next=t).prev=e}},{}],45:[function(t,e,r){var o=t("domelementtype").isTag;function c(t,e,r,n){for(var i,s=[],o=0,a=e.length;o<a&&!(t(e[o])&&(s.push(e[o]),--n<=0))&&(i=e[o].children,!(r&&i&&0<i.length&&(i=c(t,i,r,n),s=s.concat(i),(n-=i.length)<=0)));o++);return s}e.exports={filter:function(t,e,r,n){Array.isArray(e)||(e=[e]);"number"==typeof n&&isFinite(n)||(n=1/0);return c(t,e,!1!==r,n)},find:c,findOneChild:function(t,e){for(var r=0,n=e.length;r<n;r++)if(t(e[r]))return e[r];return null},findOne:function t(e,r){for(var n=null,i=0,s=r.length;i<s&&!n;i++)o(r[i])&&(e(r[i])?n=r[i]:0<r[i].children.length&&(n=t(e,r[i].children)));return n},existsOne:function t(e,r){for(var n=0,i=r.length;n<i;n++)if(o(r[n])&&(e(r[n])||0<r[n].children.length&&t(e,r[n].children)))return!0;return!1},findAll:function t(e,r){for(var n=[],i=0,s=r.length;i<s;i++)o(r[i])&&(e(r[i])&&n.push(r[i]),0<r[i].children.length&&(n=n.concat(t(e,r[i].children))));return n}}},{domelementtype:37}],46:[function(t,e,r){var n=t("domelementtype"),i=t("dom-serializer"),s=n.isTag;e.exports={getInnerHTML:function(t,e){return t.children?t.children.map(function(t){return i(t,e)}).join(""):""},getOuterHTML:i,getText:function t(e){if(Array.isArray(e))return e.map(t).join("");if(s(e)||e.type===n.CDATA)return t(e.children);if(e.type===n.Text)return e.data;return""}}},{"dom-serializer":48,domelementtype:37}],47:[function(t,e,r){var n=r.getChildren=function(t){return t.children},i=r.getParent=function(t){return t.parent};r.getSiblings=function(t){var e=i(t);return e?n(e):[t]},r.getAttributeValue=function(t,e){return t.attribs&&t.attribs[e]},r.hasAttrib=function(t,e){return!!t.attribs&&hasOwnProperty.call(t.attribs,e)},r.getName=function(t){return t.name}},{}],48:[function(t,e,r){var s=t("domelementtype"),o=t("entities"),a={__proto__:null,allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,hidden:!0,ismap:!0,loop:!0,multiple:!0,muted:!0,open:!0,readonly:!0,required:!0,reversed:!0,scoped:!0,seamless:!0,selected:!0,typemustmatch:!0},n={__proto__:null,style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,plaintext:!0,noscript:!0};var i={__proto__:null,area:!0,base:!0,basefont:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,isindex:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},c=e.exports=function(t,e){Array.isArray(t)||t.cheerio||(t=[t]),e=e||{};for(var r,n="",i=0;i<t.length;i++)"root"===(r=t[i]).type?n+=c(r.children,e):s.isTag(r)?n+=u(r,e):r.type===s.Directive?n+="<"+r.data+">":r.type===s.Comment?n+="\x3c!--"+r.data+"--\x3e":r.type===s.CDATA?n+="<![CDATA["+r.children[0].data+"]]>":n+=l(r,e);return n};function u(t,e){"svg"===t.name&&(e={decodeEntities:e.decodeEntities,xmlMode:!0});var r="<"+t.name,n=function(t,e){if(t){var r,n="";for(var i in t)n&&(n+=" "),!(r=t[i])&&a[i]?n+=i:n+=i+'="'+(e.decodeEntities?o.encodeXML(r):r)+'"';return n}}(t.attribs,e);return n&&(r+=" "+n),!e.xmlMode||t.children&&0!==t.children.length?(r+=">",t.children&&(r+=c(t.children,e)),i[t.name]&&!e.xmlMode||(r+="</"+t.name+">")):r+="/>",r}function l(t,e){var r=t.data||"";return!e.decodeEntities||t.parent&&t.parent.name in n||(r=o.encodeXML(r)),r}},{domelementtype:49,entities:50}],49:[function(t,e,r){e.exports={Text:"text",Directive:"directive",Comment:"comment",Script:"script",Style:"style",Tag:"tag",CDATA:"cdata",isTag:function(t){return"tag"===t.type||"script"===t.type||"style"===t.type}}},{}],50:[function(t,e,r){var n=t("./lib/encode.js"),i=t("./lib/decode.js");r.decode=function(t,e){return(!e||e<=0?i.XML:i.HTML)(t)},r.decodeStrict=function(t,e){return(!e||e<=0?i.XML:i.HTMLStrict)(t)},r.encode=function(t,e){return(!e||e<=0?n.XML:n.HTML)(t)},r.encodeXML=n.XML,r.encodeHTML4=r.encodeHTML5=r.encodeHTML=n.HTML,r.decodeXML=r.decodeXMLStrict=i.XML,r.decodeHTML4=r.decodeHTML5=r.decodeHTML=i.HTML,r.decodeHTML4Strict=r.decodeHTML5Strict=r.decodeHTMLStrict=i.HTMLStrict,r.escape=n.escape},{"./lib/decode.js":51,"./lib/encode.js":53}],51:[function(t,e,r){var a=t("../maps/entities.json"),c=t("../maps/legacy.json"),n=t("../maps/xml.json"),i=t("./decode_codepoint.js"),s=u(n),o=u(a);function u(t){var e=Object.keys(t).join("|"),r=f(t);e+="|#[xX][\\da-fA-F]+|#\\d+";var n=new RegExp("&(?:"+e+");","g");return function(t){return(t+"").replace(n,r)}}var l=function(){for(var t=Object.keys(c).sort(h),e=Object.keys(a).sort(h),r=0,n=0;r<e.length;r++)t[n]===e[r]?(e[r]+=";?",n++):e[r]+=";";var i=new RegExp("&(?:"+e.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=f(a);function o(t){return";"!==t.substr(-1)&&(t+=";"),s(t)}return function(t){return(t+"").replace(i,o)}}();function h(t,e){return t<e?1:-1}function f(e){return function(t){return"#"===t.charAt(1)?"X"===t.charAt(2)||"x"===t.charAt(2)?i(parseInt(t.substr(3),16)):i(parseInt(t.substr(2),10)):e[t.slice(1,-1)]}}e.exports={XML:s,HTML:l,HTMLStrict:o}},{"../maps/entities.json":55,"../maps/legacy.json":56,"../maps/xml.json":57,"./decode_codepoint.js":52}],52:[function(t,e,r){var n=t("../maps/decode.json");e.exports=function(t){if(55296<=t&&t<=57343||1114111<t)return"";t in n&&(t=n[t]);var e="";65535<t&&(t-=65536,e+=String.fromCharCode(55296|1023&t>>>10),t=56320|1023&t);return e+=String.fromCharCode(t)}},{"../maps/decode.json":54}],53:[function(t,e,r){var n=a(t("../maps/xml.json")),i=c(n);r.XML=p(n,i);var s=a(t("../maps/entities.json")),o=c(s);function a(r){return Object.keys(r).sort().reduce(function(t,e){return t[r[e]]="&"+e+";",t},{})}function c(t){var e=[],r=[];return Object.keys(t).forEach(function(t){1===t.length?e.push("\\"+t):r.push(t)}),r.unshift("["+e.join("")+"]"),new RegExp(r.join("|"),"g")}r.HTML=p(s,o);var u=/[^\0-\x7F]/g,l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function h(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"}function f(t){return"&#x"+(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}function p(e,r){function n(t){return e[t]}return function(t){return t.replace(r,n).replace(l,f).replace(u,h)}}var d=c(n);r.escape=function(t){return t.replace(d,h).replace(l,f).replace(u,h)}},{"../maps/entities.json":55,"../maps/xml.json":57}],54:[function(t,e,r){e.exports={0:65533,128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376}},{}],55:[function(t,e,r){e.exports={Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",amp:"&",AMP:"&",andand:"",And:"",and:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angmsd:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",apacir:"",ap:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",barwed:"",Barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",because:"",Because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxdl:"",boxdL:"",boxDl:"",boxDL:"",boxdr:"",boxdR:"",boxDr:"",boxDR:"",boxh:"",boxH:"",boxhd:"",boxHd:"",boxhD:"",boxHD:"",boxhu:"",boxHu:"",boxhU:"",boxHU:"",boxminus:"",boxplus:"",boxtimes:"",boxul:"",boxuL:"",boxUl:"",boxUL:"",boxur:"",boxuR:"",boxUr:"",boxUR:"",boxv:"",boxV:"",boxvh:"",boxvH:"",boxVh:"",boxVH:"",boxvl:"",boxvL:"",boxVl:"",boxVL:"",boxvr:"",boxvR:"",boxVr:"",boxVR:"",bprime:"",breve:"",Breve:"",brvbar:"",bscr:"",Bscr:"",bsemi:"",bsim:"",bsime:"",bsolb:"",bsol:"\\",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",capand:"",capbrcup:"",capcap:"",cap:"",Cap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",centerdot:"",CenterDot:"",cfr:"",Cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cir:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",colon:":",Colon:"",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",conint:"",Conint:"",ContourIntegral:"",copf:"",Copf:"",coprod:"",Coproduct:"",copy:"",COPY:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",cross:"",Cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",cupbrcap:"",cupcap:"",CupCap:"",cup:"",Cup:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",dagger:"",Dagger:"",daleth:"",darr:"",Darr:"",dArr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",ddagger:"",ddarr:"",DD:"",dd:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",diamond:"",Diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrowBar:"",downarrow:"",DownArrow:"",Downarrow:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVectorBar:"",DownLeftVector:"",DownRightTeeVector:"",DownRightVectorBar:"",DownRightVector:"",DownTeeArrow:"",DownTee:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",Ecirc:"",ecirc:"",ecir:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",edot:"",eDot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp13:"",emsp14:"",emsp:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",escr:"",Escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",exponentiale:"",ExponentialE:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",forall:"",ForAll:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",fscr:"",Fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",ge:"",gE:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",gescc:"",ges:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",gg:"",Gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gla:"",gl:"",glE:"",glj:"",gnap:"",gnapprox:"",gne:"",gnE:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",gtcc:"",gtcir:"",gt:">",GT:">",Gt:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",harrcir:"",harr:"",hArr:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",hfr:"",Hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",hopf:"",Hopf:"",horbar:"",HorizontalLine:"",hscr:"",Hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",ifr:"",Ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",Im:"",imof:"",imped:"",Implies:"",incare:"",in:"",infin:"",infintie:"",inodot:"",intcal:"",int:"",Int:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",iscr:"",Iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",lang:"",Lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",larrb:"",larrbfs:"",larr:"",Larr:"",lArr:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",latail:"",lAtail:"",lat:"",late:"",lates:"",lbarr:"",lBarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",le:"",lE:"",LeftAngleBracket:"",LeftArrowBar:"",leftarrow:"",LeftArrow:"",Leftarrow:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVectorBar:"",LeftDownVector:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",leftrightarrow:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTeeArrow:"",LeftTee:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangleBar:"",LeftTriangle:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVectorBar:"",LeftUpVector:"",LeftVectorBar:"",LeftVector:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",lescc:"",les:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",llarr:"",ll:"",Ll:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoustache:"",lmoust:"",lnap:"",lnapprox:"",lne:"",lnE:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",longleftarrow:"",LongLeftArrow:"",Longleftarrow:"",longleftrightarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longmapsto:"",longrightarrow:"",LongRightArrow:"",Longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",lscr:"",Lscr:"",lsh:"",Lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",ltcc:"",ltcir:"",lt:"<",LT:"<",Lt:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",midast:"*",midcir:"",mid:"",middot:"",minusb:"",minus:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",mscr:"",Mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natural:"",naturals:"",natur:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",nearhk:"",nearr:"",neArr:"",nearrow:"",ne:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:"\n",nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nharr:"",nhArr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlarr:"",nlArr:"",nldr:"",nlE:"",nle:"",nleftarrow:"",nLeftarrow:"",nleftrightarrow:"",nLeftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",nopf:"",Nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangleBar:"",NotLeftTriangle:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangleBar:"",NotRightTriangle:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",nparallel:"",npar:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",nprec:"",npreceq:"",npre:"",nrarrc:"",nrarr:"",nrArr:"",nrarrw:"",nrightarrow:"",nRightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nvdash:"",nvDash:"",nVdash:"",nVDash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwarr:"",nwArr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",Ocirc:"",ocirc:"",ocir:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",orarr:"",Or:"",or:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",otimesas:"",Otimes:"",otimes:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",para:"",parallel:"",par:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plusacir:"",plusb:"",pluscir:"",plus:"+",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",popf:"",Popf:"",pound:"",prap:"",Pr:"",pr:"",prcue:"",precapprox:"",prec:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",pre:"",prE:"",precsim:"",prime:"",Prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportional:"",Proportion:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",qopf:"",Qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",quot:'"',QUOT:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",rang:"",Rang:"",rangd:"",range:"",rangle:"",raquo:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarr:"",Rarr:"",rArr:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",ratail:"",rAtail:"",ratio:"",rationals:"",rbarr:"",rBarr:"",RBarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",real:"",realine:"",realpart:"",reals:"",Re:"",rect:"",reg:"",REG:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",rfr:"",Rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrowBar:"",rightarrow:"",RightArrow:"",Rightarrow:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVectorBar:"",RightDownVector:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTeeArrow:"",RightTee:"",RightTeeVector:"",rightthreetimes:"",RightTriangleBar:"",RightTriangle:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVectorBar:"",RightUpVector:"",RightVectorBar:"",RightVector:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoustache:"",rmoust:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",ropf:"",Ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",rscr:"",Rscr:"",rsh:"",Rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",scap:"",Scaron:"",scaron:"",Sc:"",sc:"",sccue:"",sce:"",scE:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdotb:"",sdot:"",sdote:"",searhk:"",searr:"",seArr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",solbar:"",solb:"",sol:"/",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",square:"",Square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squ:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",sub:"",Sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",subset:"",Subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succapprox:"",succ:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",sum:"",Sum:"",sung:"",sup1:"",sup2:"",sup3:"",sup:"",Sup:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",supset:"",Supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swarr:"",swArr:"",swarrow:"",swnwar:"",szlig:"",Tab:"\t",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",therefore:"",Therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",ThinSpace:"",thinsp:"",thkap:"",thksim:"",THORN:"",thorn:"",tilde:"",Tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",timesbar:"",timesb:"",times:"",timesd:"",tint:"",toea:"",topbot:"",topcir:"",top:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",trade:"",TRADE:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",uarr:"",Uarr:"",uArr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrowBar:"",uparrow:"",UpArrow:"",Uparrow:"",UpArrowDownArrow:"",updownarrow:"",UpDownArrow:"",Updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",upsi:"",Upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTeeArrow:"",UpTee:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",varr:"",vArr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",vBar:"",Vbar:"",vBarv:"",Vcy:"",vcy:"",vdash:"",vDash:"",Vdash:"",VDash:"",Vdashl:"",veebar:"",vee:"",Vee:"",veeeq:"",vellip:"",verbar:"|",Verbar:"",vert:"|",Vert:"",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",wedge:"",Wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xharr:"",xhArr:"",Xi:"",xi:"",xlarr:"",xlArr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrarr:"",xrArr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",yuml:"",Yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",zfr:"",Zfr:"",ZHcy:"",zhcy:"",zigrarr:"",zopf:"",Zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}},{}],56:[function(t,e,r){e.exports={Aacute:"",aacute:"",Acirc:"",acirc:"",acute:"",AElig:"",aelig:"",Agrave:"",agrave:"",amp:"&",AMP:"&",Aring:"",aring:"",Atilde:"",atilde:"",Auml:"",auml:"",brvbar:"",Ccedil:"",ccedil:"",cedil:"",cent:"",copy:"",COPY:"",curren:"",deg:"",divide:"",Eacute:"",eacute:"",Ecirc:"",ecirc:"",Egrave:"",egrave:"",ETH:"",eth:"",Euml:"",euml:"",frac12:"",frac14:"",frac34:"",gt:">",GT:">",Iacute:"",iacute:"",Icirc:"",icirc:"",iexcl:"",Igrave:"",igrave:"",iquest:"",Iuml:"",iuml:"",laquo:"",lt:"<",LT:"<",macr:"",micro:"",middot:"",nbsp:"",not:"",Ntilde:"",ntilde:"",Oacute:"",oacute:"",Ocirc:"",ocirc:"",Ograve:"",ograve:"",ordf:"",ordm:"",Oslash:"",oslash:"",Otilde:"",otilde:"",Ouml:"",ouml:"",para:"",plusmn:"",pound:"",quot:'"',QUOT:'"',raquo:"",reg:"",REG:"",sect:"",shy:"",sup1:"",sup2:"",sup3:"",szlig:"",THORN:"",thorn:"",times:"",Uacute:"",uacute:"",Ucirc:"",ucirc:"",Ugrave:"",ugrave:"",uml:"",Uuml:"",uuml:"",Yacute:"",yacute:"",yen:"",yuml:""}},{}],57:[function(t,e,r){e.exports={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}},{}],58:[function(t,e,r){arguments[4][8][0].apply(r,arguments)},{dup:8}],59:[function(t,e,r){e.exports=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")}},{}],60:[function(t,e,r){e.exports=function(){for(var t,e={},r=0;r<arguments.length;r++)for(var n in t=arguments[r])i.call(t,n)&&(e[n]=t[n]);return e};var i=Object.prototype.hasOwnProperty},{}]},{},[1])(1)})</script><script>!function(){"use strict";var pe="function"==typeof Symbol&&"symbol"===babelHelpers.typeof(Symbol.iterator)?function(n){return babelHelpers.typeof(n)}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":babelHelpers.typeof(n)};!function(n){function a(n,e){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},t=Object.create(n.prototype);for(var o in a)t[o]=a[o];return(t.constructor=e).prototype=t,e}var r={defaultProtocol:"http",events:null,format:t,formatHref:t,nl2br:!1,tagName:"a",target:function(n,e){return"url"===e?"_blank":null},validate:!0,ignoreTags:[],attributes:null,className:"linkified"};function e(n){n=n||{},this.defaultProtocol=n.hasOwnProperty("defaultProtocol")?n.defaultProtocol:r.defaultProtocol,this.events=n.hasOwnProperty("events")?n.events:r.events,this.format=n.hasOwnProperty("format")?n.format:r.format,this.formatHref=n.hasOwnProperty("formatHref")?n.formatHref:r.formatHref,this.nl2br=n.hasOwnProperty("nl2br")?n.nl2br:r.nl2br,this.tagName=n.hasOwnProperty("tagName")?n.tagName:r.tagName,this.target=n.hasOwnProperty("target")?n.target:r.target,this.validate=n.hasOwnProperty("validate")?n.validate:r.validate,this.ignoreTags=[],this.attributes=n.attributes||n.linkAttributes||r.attributes,this.className=n.hasOwnProperty("className")?n.className:n.linkClass||r.className;for(var e=n.hasOwnProperty("ignoreTags")?n.ignoreTags:r.ignoreTags,a=0;a<e.length;a++)this.ignoreTags.push(e[a].toUpperCase())}function t(n){return n}e.prototype={resolve:function(n){var e=n.toHref(this.defaultProtocol);return{formatted:this.get("format",n.toString(),n),formattedHref:this.get("formatHref",e,n),tagName:this.get("tagName",e,n),className:this.get("className",e,n),target:this.get("target",e,n),events:this.getObject("events",e,n),attributes:this.getObject("attributes",e,n)}},check:function(n){return this.get("validate",n.toString(),n)},get:function(n,e,a){var t=void 0,o=this[n];if(!o)return o;switch(void 0===o?"undefined":pe(o)){case"function":return o(e,a.type);case"object":return"function"==typeof(t=o.hasOwnProperty(a.type)?o[a.type]:r[n])?t(e,a.type):t}return o},getObject:function(n,e,a){var t=this[n];return"function"==typeof t?t(e,a.type):t}};var o=Object.freeze({defaults:r,Options:e,contains:function(n,e){for(var a=0;a<n.length;a++)if(n[a]===e)return!0;return!1}});function i(){return function(n){this.j=[],this.T=n||null}}var s=i();s.prototype={defaultTransition:!1,on:function(n,e){if(babelHelpers.instanceof(n,Array)){for(var a=0;a<n.length;a++)this.j.push([n[a],e]);return this}return this.j.push([n,e]),this},next:function(n){for(var e=0;e<this.j.length;e++){var a=this.j[e],t=a[0],o=a[1];if(this.test(n,t))return o}return this.defaultTransition},accepts:function(){return!!this.T},test:function(n,e){return n===e},emit:function(){return this.T}};var l=a(s,i(),{test:function(n,e){return n===e||babelHelpers.instanceof(e,RegExp)&&e.test(n)}}),c=a(s,i(),{jump:function(n,e){var a=1<arguments.length&&void 0!==e?e:null,t=this.next(new n(""));return t===this.defaultTransition?(t=new this.constructor(a),this.on(n,t)):a&&(t.T=a),t},test:function(n,e){return babelHelpers.instanceof(n,e)}});function u(n,e,a,t){for(var o=0,r=n.length,i=e,s=[],c=void 0;o<r&&(c=i.next(n[o]));)i=c,o++;if(r<=o)return[];for(;o<r-1;)c=new l(t),s.push(c),i.on(n[o],c),i=c,o++;return c=new l(a),s.push(c),i.on(n[r-1],c),s}function b(){return function(n){n&&(this.v=n)}}var g=b();function p(n){var e=n?{v:n}:{};return a(g,b(),e)}g.prototype={toString:function(){return this.v+""}};function h(n){return new l(n)}var m=p(),f=p("@"),d=p(":"),x=p("."),y=p(),v=p(),k=p("\n"),w=p(),j=p("+"),z=p("#"),O=p(),q=p("mailto:"),N=p("?"),S=p("/"),T=p("_"),A=p(),L=p(),P=p(),E=p("{"),H=p("["),C=p("<"),R=p("("),U=p("}"),B=p("]"),M=p(">"),D=p(")"),I=p("&"),K=Object.freeze({Base:g,DOMAIN:m,AT:f,COLON:d,DOT:x,PUNCTUATION:y,LOCALHOST:v,NL:k,NUM:w,PLUS:j,POUND:z,QUERY:N,PROTOCOL:O,MAILTO:q,SLASH:S,UNDERSCORE:T,SYM:A,TLD:L,WS:P,OPENBRACE:E,OPENBRACKET:H,OPENANGLEBRACKET:C,OPENPAREN:R,CLOSEBRACE:U,CLOSEBRACKET:B,CLOSEANGLEBRACKET:M,CLOSEPAREN:D,AMPERSAND:I}),_="aaa|aarp|abarth|abb|abbott|abbvie|abc|able|abogado|abudhabi|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|aetna|af|afamilycompany|afl|africa|ag|agakhan|agency|ai|aig|aigo|airbus|airforce|airtel|akdn|al|alfaromeo|alibaba|alipay|allfinanz|allstate|ally|alsace|alstom|am|americanexpress|americanfamily|amex|amfam|amica|amsterdam|analytics|android|anquan|anz|ao|aol|apartments|app|apple|aq|aquarelle|ar|arab|aramco|archi|army|arpa|art|arte|as|asda|asia|associates|at|athleta|attorney|au|auction|audi|audible|audio|auspost|author|auto|autos|avianca|aw|aws|ax|axa|az|azure|ba|baby|baidu|banamex|bananarepublic|band|bank|bar|barcelona|barclaycard|barclays|barefoot|bargains|baseball|basketball|bauhaus|bayern|bb|bbc|bbt|bbva|bcg|bcn|bd|be|beats|beauty|beer|bentley|berlin|best|bestbuy|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|blanco|blockbuster|blog|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bofa|bom|bond|boo|book|booking|boots|bosch|bostik|boston|bot|boutique|box|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|calvinklein|cam|camera|camp|cancerresearch|canon|capetown|capital|capitalone|car|caravan|cards|care|career|careers|cars|cartier|casa|case|caseih|cash|casino|cat|catering|catholic|cba|cbn|cbre|cbs|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chintai|chloe|christmas|chrome|chrysler|church|ci|cipriani|circle|cisco|citadel|citi|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|comcast|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cookingchannel|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruise|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|data|date|dating|datsun|day|dclk|dds|de|deal|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|dhl|diamonds|diet|digital|direct|directory|discount|discover|dish|diy|dj|dk|dm|dnp|do|docs|doctor|dodge|dog|doha|domains|dot|download|drive|dtv|dubai|duck|dunlop|duns|dupont|durban|dvag|dvr|dz|earth|eat|ec|eco|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epost|epson|equipment|er|ericsson|erni|es|esq|estate|esurance|et|etisalat|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|extraspace|fage|fail|fairwinds|faith|family|fan|fans|farm|farmers|fashion|fast|fedex|feedback|ferrari|ferrero|fi|fiat|fidelity|fido|film|final|finance|financial|fire|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|flir|florist|flowers|fly|fm|fo|foo|food|foodnetwork|football|ford|forex|forsale|forum|foundation|fox|fr|free|fresenius|frl|frogans|frontdoor|frontier|ftr|fujitsu|fujixerox|fun|fund|furniture|futbol|fyi|ga|gal|gallery|gallo|gallup|game|games|gap|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|george|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glade|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|godaddy|gold|goldpoint|golf|goo|goodhands|goodyear|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|grocery|group|gs|gt|gu|guardian|gucci|guge|guide|guitars|guru|gw|gy|hair|hamburg|hangout|haus|hbo|hdfc|hdfcbank|health|healthcare|help|helsinki|here|hermes|hgtv|hiphop|hisamitsu|hitachi|hiv|hk|hkt|hm|hn|hockey|holdings|holiday|homedepot|homegoods|homes|homesense|honda|honeywell|horse|hospital|host|hosting|hot|hoteles|hotels|hotmail|house|how|hr|hsbc|ht|htc|hu|hughes|hyatt|hyundai|ibm|icbc|ice|icu|id|ie|ieee|ifm|ikano|il|im|imamat|imdb|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|intel|international|intuit|investments|io|ipiranga|iq|ir|irish|is|iselect|ismaili|ist|istanbul|it|itau|itv|iveco|iwc|jaguar|java|jcb|jcp|je|jeep|jetzt|jewelry|jio|jlc|jll|jm|jmp|jnj|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|juniper|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kindle|kitchen|kiwi|km|kn|koeln|komatsu|kosher|kp|kpmg|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|ladbrokes|lamborghini|lamer|lancaster|lancia|lancome|land|landrover|lanxess|lasalle|lat|latino|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|lefrak|legal|lego|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|lilly|limited|limo|lincoln|linde|link|lipsy|live|living|lixil|lk|loan|loans|locker|locus|loft|lol|london|lotte|lotto|love|lpl|lplfinancial|lr|ls|lt|ltd|ltda|lu|lundbeck|lupin|luxe|luxury|lv|ly|ma|macys|madrid|maif|maison|makeup|man|management|mango|map|market|marketing|markets|marriott|marshalls|maserati|mattel|mba|mc|mckinsey|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|merckmsd|metlife|mg|mh|miami|microsoft|mil|mini|mint|mit|mitsubishi|mk|ml|mlb|mls|mm|mma|mn|mo|mobi|mobile|mobily|moda|moe|moi|mom|monash|money|monster|mopar|mormon|mortgage|moscow|moto|motorcycles|mov|movie|movistar|mp|mq|mr|ms|msd|mt|mtn|mtr|mu|museum|mutual|mv|mw|mx|my|mz|na|nab|nadex|nagoya|name|nationwide|natura|navy|nba|nc|ne|nec|net|netbank|netflix|network|neustar|new|newholland|news|next|nextdirect|nexus|nf|nfl|ng|ngo|nhk|ni|nico|nike|nikon|ninja|nissan|nissay|nl|no|nokia|northwesternmutual|norton|now|nowruz|nowtv|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|observer|off|office|okinawa|olayan|olayangroup|oldnavy|ollo|om|omega|one|ong|onl|online|onyourside|ooo|open|oracle|orange|org|organic|origins|osaka|otsuka|ott|ovh|pa|page|panasonic|panerai|paris|pars|partners|parts|party|passagens|pay|pccw|pe|pet|pf|pfizer|pg|ph|pharmacy|phd|philips|phone|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pioneer|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pnc|pohl|poker|politie|porn|post|pr|pramerica|praxi|press|prime|pro|prod|productions|prof|progressive|promo|properties|property|protection|pru|prudential|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|qvc|racing|radio|raid|re|read|realestate|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|reliance|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|richardli|ricoh|rightathome|ril|rio|rip|rmit|ro|rocher|rocks|rodeo|rogers|room|rs|rsvp|ru|rugby|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsclub|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|save|saxo|sb|sbi|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scjohnson|scor|scot|sd|se|search|seat|secure|security|seek|select|sener|services|ses|seven|sew|sex|sexy|sfr|sg|sh|shangrila|sharp|shaw|shell|shia|shiksha|shoes|shop|shopping|shouji|show|showtime|shriram|si|silk|sina|singles|site|sj|sk|ski|skin|sky|skype|sl|sling|sm|smart|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|srt|st|stada|staples|star|starhub|statebank|statefarm|statoil|stc|stcgroup|stockholm|storage|store|stream|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiftcover|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|talk|taobao|target|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|tdk|team|tech|technology|tel|telecity|telefonica|temasek|tennis|teva|tf|tg|th|thd|theater|theatre|tiaa|tickets|tienda|tiffany|tips|tires|tirol|tj|tjmaxx|tjx|tk|tkmaxx|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tr|trade|trading|training|travel|travelchannel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubank|ubs|uconnect|ug|uk|unicom|university|uno|uol|ups|us|uy|uz|va|vacations|vana|vanguard|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|vig|viking|villas|vin|vip|virgin|visa|vision|vista|vistaprint|viva|vivo|vlaanderen|vn|vodka|volkswagen|volvo|vote|voting|voto|voyage|vu|vuelos|wales|walmart|walter|wang|wanggou|warman|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weibo|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|winners|wme|wolterskluwer|woodside|work|works|world|wow|ws|wtc|wtf|xbox|xerox|xfinity|xihuan|xin|xn--11b4c3d|xn--1ck2e1b|xn--1qqw23a|xn--2scrj9c|xn--30rr7y|xn--3bst00m|xn--3ds443g|xn--3e0b707e|xn--3hcrj9c|xn--3oq18vl8pn36a|xn--3pxu8k|xn--42c2d9a|xn--45br5cyl|xn--45brj9c|xn--45q11c|xn--4gbrim|xn--54b7fta0cc|xn--55qw42g|xn--55qx5d|xn--5su34j936bgsg|xn--5tzm5g|xn--6frz82g|xn--6qq986b3xl|xn--80adxhks|xn--80ao21a|xn--80aqecdr1a|xn--80asehdb|xn--80aswg|xn--8y0a063a|xn--90a3ac|xn--90ae|xn--90ais|xn--9dbq2a|xn--9et52u|xn--9krt00a|xn--b4w605ferd|xn--bck1b9a5dre4c|xn--c1avg|xn--c2br7g|xn--cck2b3b|xn--cg4bki|xn--clchc0ea0b2g2a9gcd|xn--czr694b|xn--czrs0t|xn--czru2d|xn--d1acj3b|xn--d1alf|xn--e1a4c|xn--eckvdtc9d|xn--efvy88h|xn--estv75g|xn--fct429k|xn--fhbei|xn--fiq228c5hs|xn--fiq64b|xn--fiqs8s|xn--fiqz9s|xn--fjq720a|xn--flw351e|xn--fpcrj9c3d|xn--fzc2c9e2c|xn--fzys8d69uvgm|xn--g2xx48c|xn--gckr3f0f|xn--gecrj9c|xn--gk3at1e|xn--h2breg3eve|xn--h2brj9c|xn--h2brj9c8c|xn--hxt814e|xn--i1b6b1a6a2e|xn--imr513n|xn--io0a7i|xn--j1aef|xn--j1amh|xn--j6w193g|xn--jlq61u9w7b|xn--jvr189m|xn--kcrx77d1x4a|xn--kprw13d|xn--kpry57d|xn--kpu716f|xn--kput3i|xn--l1acc|xn--lgbbat1ad8j|xn--mgb9awbf|xn--mgba3a3ejt|xn--mgba3a4f16a|xn--mgba7c0bbn0a|xn--mgbaakc7dvf|xn--mgbaam7a8h|xn--mgbab2bd|xn--mgbai9azgqp6j|xn--mgbayh7gpa|xn--mgbb9fbpob|xn--mgbbh1a|xn--mgbbh1a71e|xn--mgbc0a9azcg|xn--mgbca7dzdo|xn--mgberp4a5d4ar|xn--mgbgu82a|xn--mgbi4ecexp|xn--mgbpl2fh|xn--mgbt3dhd|xn--mgbtx2b|xn--mgbx4cd0ab|xn--mix891f|xn--mk1bu44c|xn--mxtq1m|xn--ngbc5azd|xn--ngbe9e0a|xn--ngbrx|xn--node|xn--nqv7f|xn--nqv7fs00ema|xn--nyqy26a|xn--o3cw4h|xn--ogbpf8fl|xn--p1acf|xn--p1ai|xn--pbt977c|xn--pgbs0dh|xn--pssy2u|xn--q9jyb4c|xn--qcka1pmc|xn--qxam|xn--rhqv96g|xn--rovu88b|xn--rvc1e0am3e|xn--s9brj9c|xn--ses554g|xn--t60b56a|xn--tckwe|xn--tiq49xqyj|xn--unup4y|xn--vermgensberater-ctb|xn--vermgensberatung-pwb|xn--vhquv|xn--vuq861b|xn--w4r85el8fhu5dnra|xn--w4rs40l|xn--wgbh1c|xn--wgbl6a|xn--xhq521b|xn--xkc2al3hye2a|xn--xkc2dl3a5ee0h|xn--y9a3aq|xn--yfro4i67o|xn--ygbi2ammx|xn--zfr164b|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|you|youtube|yt|yun|za|zappos|zara|zero|zip|zippo|zm|zone|zuerich|zw".split("|"),G="0123456789".split(""),Y="0123456789abcdefghijklmnopqrstuvwxyz".split(""),Q=[" ","\f","\r","\t","\v","","",""],W=[],X=h(),Z=h(w),F=h(m),J=h(),V=h(P);X.on("@",h(f)).on(".",h(x)).on("+",h(j)).on("#",h(z)).on("?",h(N)).on("/",h(S)).on("_",h(T)).on(":",h(d)).on("{",h(E)).on("[",h(H)).on("<",h(C)).on("(",h(R)).on("}",h(U)).on("]",h(B)).on(">",h(M)).on(")",h(D)).on("&",h(I)).on([",",";","!",'"',"'"],h(y)),X.on("\n",h(k)).on(Q,V),V.on(Q,V);for(var $,nn=0;nn<_.length;nn++)$=u(_[nn],X,L,m),W.push.apply(W,$);var en=u("file",X,m,m),an=u("ftp",X,m,m),tn=u("http",X,m,m),on=u("mailto",X,m,m);W.push.apply(W,en),W.push.apply(W,an),W.push.apply(W,tn),W.push.apply(W,on);var rn=en.pop(),sn=an.pop(),cn=tn.pop(),ln=on.pop(),un=h(m),bn=h(O),gn=h(q);sn.on("s",un).on(":",bn),cn.on("s",un).on(":",bn),W.push(un),rn.on(":",bn),un.on(":",bn),ln.on(":",gn);var pn=u("localhost",X,v,m);W.push.apply(W,pn),X.on(G,Z),Z.on("-",J).on(G,Z).on(Y,F),F.on("-",J).on(Y,F);for(var hn=0;hn<W.length;hn++)W[hn].on("-",J).on(Y,F);J.on("-",J).on(G,F).on(Y,F),X.defaultTransition=h(A);function mn(n){for(var e=n.replace(/[A-Z]/g,function(n){return n.toLowerCase()}),a=n.length,t=[],o=0;o<a;){for(var r=X,i=null,s=0,c=null,l=-1;o<a&&(i=r.next(e[o]));)(r=i).accepts()?(l=0,c=r):0<=l&&l++,s++,o++;if(!(l<0)){o-=l,s-=l;var u=c.emit();t.push(new u(n.substr(o-s,s)))}}return t}var fn=X,dn=Object.freeze({State:l,TOKENS:K,run:mn,start:fn});var xn=b();xn.prototype={type:"token",isLink:!1,toString:function(){for(var n=[],e=0;e<this.v.length;e++)n.push(this.v[e].toString());return n.join("")},toHref:function(){return this.toString()},toObject:function(n){var e=0<arguments.length&&void 0!==n?n:"http";return{type:this.type,value:this.toString(),href:this.toHref(e)}}};function yn(n){return new c(n)}var vn=a(xn,b(),{type:"email",isLink:!0}),kn=a(xn,b(),{type:"email",isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),wn=a(xn,b(),{type:"text"}),jn=a(xn,b(),{type:"nl"}),zn=a(xn,b(),{type:"url",isLink:!0,toHref:function(n){for(var e,a=0<arguments.length&&void 0!==n?n:"http",t=!1,o=!1,r=this.v,i=[],s=0;babelHelpers.instanceof(r[s],O);)t=!0,i.push(r[s].toString().toLowerCase()),s++;for(;babelHelpers.instanceof(r[s],S);)o=!0,i.push(r[s].toString()),s++;for(;e=r[s],babelHelpers.instanceof(e,m)||babelHelpers.instanceof(e,L);)i.push(r[s].toString().toLowerCase()),s++;for(;s<r.length;s++)i.push(r[s].toString());return i=i.join(""),t||o||(i=a+"://"+i),i},hasProtocol:function(){return babelHelpers.instanceof(this.v[0],O)}}),On=Object.freeze({Base:xn,MAILTOEMAIL:vn,EMAIL:kn,NL:jn,TEXT:wn,URL:zn}),qn=yn(),Nn=yn(),Sn=yn(),Tn=yn(),An=yn(),Ln=yn(),Pn=yn(),En=yn(zn),Hn=yn(),Cn=yn(zn),Rn=yn(zn),Un=yn(),Bn=yn(),Mn=yn(),Dn=yn(),In=yn(),Kn=yn(zn),_n=yn(zn),Gn=yn(zn),Yn=yn(zn),Qn=yn(),Wn=yn(),Xn=yn(),Zn=yn(),Fn=yn(),Jn=yn(),Vn=yn(kn),$n=yn(),ne=yn(kn),ee=yn(vn),ae=yn(),te=yn(),oe=yn(),re=yn(),ie=yn(jn);qn.on(k,ie).on(O,Nn).on(q,Sn).on(S,Tn),Nn.on(S,Tn),Tn.on(S,An),qn.on(L,Ln).on(m,Ln).on(v,En).on(w,Ln),An.on(L,Rn).on(m,Rn).on(w,Rn).on(v,Rn),Ln.on(x,Pn),Fn.on(x,Jn),Pn.on(L,En).on(m,Ln).on(w,Ln).on(v,Ln),Jn.on(L,Vn).on(m,Fn).on(w,Fn).on(v,Fn),En.on(x,Pn),Vn.on(x,Jn),En.on(d,Hn).on(S,Rn),Hn.on(w,Cn),Cn.on(S,Rn),Vn.on(d,$n),$n.on(w,ne);var se=[m,f,v,w,j,z,O,S,L,T,A,I],ce=[d,x,N,y,U,B,M,D,E,H,C,R];Rn.on(E,Bn).on(H,Mn).on(C,Dn).on(R,In),Un.on(E,Bn).on(H,Mn).on(C,Dn).on(R,In),Bn.on(U,Rn),Mn.on(B,Rn),Dn.on(M,Rn),In.on(D,Rn),Kn.on(U,Rn),_n.on(B,Rn),Gn.on(M,Rn),Yn.on(D,Rn),Qn.on(U,Rn),Wn.on(B,Rn),Xn.on(M,Rn),Zn.on(D,Rn),Bn.on(se,Kn),Mn.on(se,_n),Dn.on(se,Gn),In.on(se,Yn),Bn.on(ce,Qn),Mn.on(ce,Wn),Dn.on(ce,Xn),In.on(ce,Zn),Kn.on(se,Kn),_n.on(se,_n),Gn.on(se,Gn),Yn.on(se,Yn),Kn.on(ce,Kn),_n.on(ce,_n),Gn.on(ce,Gn),Yn.on(ce,Yn),Qn.on(se,Kn),Wn.on(se,_n),Xn.on(se,Gn),Zn.on(se,Yn),Qn.on(ce,Qn),Wn.on(ce,Wn),Xn.on(ce,Xn),Zn.on(ce,Zn),Rn.on(se,Rn),Un.on(se,Rn),Rn.on(ce,Un),Un.on(ce,Un),Sn.on(L,ee).on(m,ee).on(w,ee).on(v,ee),ee.on(se,ee).on(ce,ae),ae.on(se,ee).on(ce,ae);var le=[m,w,j,z,N,T,A,I,L];Ln.on(le,te).on(f,oe),En.on(le,te).on(f,oe),Pn.on(le,te),te.on(le,te).on(f,oe).on(x,re),re.on(le,te),oe.on(L,Fn).on(m,Fn).on(v,Vn);function ue(n){for(var e=n.length,a=0,t=[],o=[];a<e;){for(var r=qn,i=null,s=null,c=0,l=null,u=-1;a<e&&!(i=r.next(n[a]));)o.push(n[a++]);for(;a<e&&(s=i||r.next(n[a]));)i=null,(r=s).accepts()?(u=0,l=r):0<=u&&u++,a++,c++;if(u<0)for(var b=a-c;b<a;b++)o.push(n[b]);else{0<o.length&&(t.push(new wn(o)),o=[]),a-=u,c-=u;var g=l.emit();t.push(new g(n.slice(a-c,a)))}}return 0<o.length&&t.push(new wn(o)),t}var be=Object.freeze({State:c,TOKENS:On,run:ue,start:qn});Array.isArray||(Array.isArray=function(n){return"[object Array]"===Object.prototype.toString.call(n)});function ge(n){return ue(mn(n))}n.find=function(n,e){for(var a,t=1<arguments.length&&void 0!==e?e:null,o=ge(n),r=[],i=0;i<o.length;i++)!(a=o[i]).isLink||t&&a.type!==t||r.push(a.toObject());return r},n.inherits=a,n.options=o,n.parser=be,n.scanner=dn,n.test=function(n,e){var a=1<arguments.length&&void 0!==e?e:null,t=ge(n);return 1===t.length&&t[0].isLink&&(!a||t[0].type===a)},n.tokenize=ge}(self.linkify=self.linkify||{})}()</script><script>"use strict";!function(t){var r=function(t){var y=t.tokenize,h=t.options.Options;function v(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function k(t){return t.replace(/"/g,"&quot;")}function S(t){if(!t)return"";var r=[];for(var n in t){var e=t[n]+"";r.push(n+'="'+k(e)+'"')}return r.join(" ")}function r(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};r=new h(r);for(var n,e=y(t),i=[],o=0;o<e.length;o++)if("nl"===(n=e[o]).type&&r.nl2br)i.push("<br>\n");else if(n.isLink&&r.check(n)){var f=r.resolve(n),u=f.formatted,a=f.formattedHref,c=f.tagName,p=f.className,l=f.target,s=f.attributes,g="<"+c+' href="'+k(a)+'"';p&&(g+=' class="'+k(p)+'"'),l&&(g+=' target="'+k(l)+'"'),s&&(g+=" "+S(s)),g+=">"+v(u)+"</"+c+">",i.push(g)}else i.push(v(n.toString()));return i.join("")}if(!String.prototype.linkify)try{Object.defineProperty(String.prototype,"linkify",{set:function(){},get:function(){return function(t){return r(this,t)}}})}catch(t){String.prototype.linkify||(String.prototype.linkify=function(t){return r(this,t)})}return r}(linkify);t.linkifyStr=r}(window)</script><script>"use strict";!function(t){var e=function(d){var i={nbsp:""};function s(t){this.named=t}var a=/^#[xX]([A-Fa-f0-9]+)$/,n=/^#([0-9]+)$/,h=/^([A-Za-z0-9]+)$/;s.prototype.parse=function(t){if(t){var e=t.match(a);return e?"&#x"+e[1]+";":(e=t.match(n))?"&#"+e[1]+";":(e=t.match(h))?this.named[e[1]]||"&"+e[1]+";":void 0}};var e=/[\t\n\f ]/,o=/[A-Za-z]/,u=/\r\n?/g;function r(t){return e.test(t)}function l(t){return o.test(t)}function c(t,e){this.delegate=t,this.entityParser=e,this.state=null,this.input=null,this.index=-1,this.line=-1,this.column=-1,this.tagLine=-1,this.tagColumn=-1,this.reset()}function g(t,e){this.token=null,this.startLine=1,this.startColumn=0,this.options=e||{},this.tokenizer=new c(this,t)}c.prototype={reset:function(){this.state="beforeData",this.input="",this.index=0,this.line=1,this.column=0,this.tagLine=-1,this.tagColumn=-1,this.delegate.reset()},tokenize:function(t){this.reset(),this.tokenizePart(t),this.tokenizeEOF()},tokenizePart:function(t){for(this.input+=t.replace(u,"\n");this.index<this.input.length;)this.states[this.state].call(this)},tokenizeEOF:function(){this.flushData()},flushData:function(){"data"===this.state&&(this.delegate.finishData(),this.state="beforeData")},peek:function(){return this.input.charAt(this.index)},consume:function(){var t=this.peek();return this.index++,"\n"===t?(this.line++,this.column=0):this.column++,t},consumeCharRef:function(){var t=this.input.indexOf(";",this.index);if(-1!==t){var e=this.input.slice(this.index,t),i=this.entityParser.parse(e);if(i){for(var s=e.length;s;)this.consume(),s--;return this.consume(),i}}},markTagStart:function(){this.tagLine=this.line,this.tagColumn=this.column,this.delegate.tagOpen&&this.delegate.tagOpen()},states:{beforeData:function(){"<"===this.peek()?(this.state="tagOpen",this.markTagStart(),this.consume()):(this.state="data",this.delegate.beginData())},data:function(){var t=this.peek();"<"===t?(this.delegate.finishData(),this.state="tagOpen",this.markTagStart(),this.consume()):"&"===t?(this.consume(),this.delegate.appendToData(this.consumeCharRef()||"&")):(this.consume(),this.delegate.appendToData(t))},tagOpen:function(){var t=this.consume();"!"===t?this.state="markupDeclaration":"/"===t?this.state="endTagOpen":l(t)&&(this.state="tagName",this.delegate.beginStartTag(),this.delegate.appendToTagName(t.toLowerCase()))},markupDeclaration:function(){"-"===this.consume()&&"-"===this.input.charAt(this.index)&&(this.consume(),this.state="commentStart",this.delegate.beginComment())},commentStart:function(){var t=this.consume();"-"===t?this.state="commentStartDash":">"===t?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData(t),this.state="comment")},commentStartDash:function(){var t=this.consume();"-"===t?this.state="commentEnd":">"===t?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("-"),this.state="comment")},comment:function(){var t=this.consume();"-"===t?this.state="commentEndDash":this.delegate.appendToCommentData(t)},commentEndDash:function(){var t=this.consume();"-"===t?this.state="commentEnd":(this.delegate.appendToCommentData("-"+t),this.state="comment")},commentEnd:function(){var t=this.consume();">"===t?(this.delegate.finishComment(),this.state="beforeData"):(this.delegate.appendToCommentData("--"+t),this.state="comment")},tagName:function(){var t=this.consume();r(t)?this.state="beforeAttributeName":"/"===t?this.state="selfClosingStartTag":">"===t?(this.delegate.finishTag(),this.state="beforeData"):this.delegate.appendToTagName(t)},beforeAttributeName:function(){var t=this.peek();r(t)?this.consume():"/"===t?(this.state="selfClosingStartTag",this.consume()):">"===t?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeName",this.delegate.beginAttribute(),this.consume(),this.delegate.appendToAttributeName(t))},attributeName:function(){var t=this.peek();r(t)?(this.state="afterAttributeName",this.consume()):"/"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===t?(this.state="beforeAttributeValue",this.consume()):">"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeName(t))},afterAttributeName:function(){var t=this.peek();r(t)?this.consume():"/"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="selfClosingStartTag"):"="===t?(this.consume(),this.state="beforeAttributeValue"):">"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.state="attributeName",this.delegate.beginAttribute(),this.delegate.appendToAttributeName(t))},beforeAttributeValue:function(){var t=this.peek();r(t)?this.consume():'"'===t?(this.state="attributeValueDoubleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):"'"===t?(this.state="attributeValueSingleQuoted",this.delegate.beginAttributeValue(!0),this.consume()):">"===t?(this.delegate.beginAttributeValue(!1),this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.state="attributeValueUnquoted",this.delegate.beginAttributeValue(!1),this.consume(),this.delegate.appendToAttributeValue(t))},attributeValueDoubleQuoted:function(){var t=this.consume();'"'===t?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):"&"===t?this.delegate.appendToAttributeValue(this.consumeCharRef('"')||"&"):this.delegate.appendToAttributeValue(t)},attributeValueSingleQuoted:function(){var t=this.consume();"'"===t?(this.delegate.finishAttributeValue(),this.state="afterAttributeValueQuoted"):"&"===t?this.delegate.appendToAttributeValue(this.consumeCharRef("'")||"&"):this.delegate.appendToAttributeValue(t)},attributeValueUnquoted:function(){var t=this.peek();r(t)?(this.delegate.finishAttributeValue(),this.consume(),this.state="beforeAttributeName"):"&"===t?(this.consume(),this.delegate.appendToAttributeValue(this.consumeCharRef(">")||"&")):">"===t?(this.delegate.finishAttributeValue(),this.consume(),this.delegate.finishTag(),this.state="beforeData"):(this.consume(),this.delegate.appendToAttributeValue(t))},afterAttributeValueQuoted:function(){var t=this.peek();r(t)?(this.consume(),this.state="beforeAttributeName"):"/"===t?(this.consume(),this.state="selfClosingStartTag"):">"===t?(this.consume(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},selfClosingStartTag:function(){">"===this.peek()?(this.consume(),this.delegate.markTagAsSelfClosing(),this.delegate.finishTag(),this.state="beforeData"):this.state="beforeAttributeName"},endTagOpen:function(){var t=this.consume();l(t)&&(this.state="tagName",this.delegate.beginEndTag(),this.delegate.appendToTagName(t.toLowerCase()))}}},g.prototype={tokenize:function(t){return this.tokens=[],this.tokenizer.tokenize(t),this.tokens},tokenizePart:function(t){return this.tokens=[],this.tokenizer.tokenizePart(t),this.tokens},tokenizeEOF:function(){return this.tokens=[],this.tokenizer.tokenizeEOF(),this.tokens[0]},reset:function(){this.token=null,this.startLine=1,this.startColumn=0},addLocInfo:function(){this.options.loc&&(this.token.loc={start:{line:this.startLine,column:this.startColumn},end:{line:this.tokenizer.line,column:this.tokenizer.column}}),this.startLine=this.tokenizer.line,this.startColumn=this.tokenizer.column},beginData:function(){this.token={type:"Chars",chars:""},this.tokens.push(this.token)},appendToData:function(t){this.token.chars+=t},finishData:function(){this.addLocInfo()},beginComment:function(){this.token={type:"Comment",chars:""},this.tokens.push(this.token)},appendToCommentData:function(t){this.token.chars+=t},finishComment:function(){this.addLocInfo()},beginStartTag:function(){this.token={type:"StartTag",tagName:"",attributes:[],selfClosing:!1},this.tokens.push(this.token)},beginEndTag:function(){this.token={type:"EndTag",tagName:""},this.tokens.push(this.token)},finishTag:function(){this.addLocInfo()},markTagAsSelfClosing:function(){this.token.selfClosing=!0},appendToTagName:function(t){this.token.tagName+=t},beginAttribute:function(){this._currentAttribute=["","",null],this.token.attributes.push(this._currentAttribute)},appendToAttributeName:function(t){this._currentAttribute[0]+=t},beginAttributeValue:function(t){this._currentAttribute[2]=t},appendToAttributeValue:function(t){this._currentAttribute[1]=this._currentAttribute[1]||"",this._currentAttribute[1]+=t},finishAttributeValue:function(){}};var m={HTML5NamedCharRefs:i,EntityParser:s,EventedTokenizer:c,Tokenizer:g,tokenize:function(t,e){return new g(new s(i),e).tokenize(t)}},f=d.options,p=f.Options,b="StartTag",k="EndTag",A="Chars";function T(t,e){for(var i,s=d.tokenize(t),a=[],n=0;n<s.length;n++)if("nl"===(i=s[n]).type&&e.nl2br)a.push({type:b,tagName:"br",attributes:[],selfClosing:!0});else if(i.isLink&&e.check(i)){var h=e.resolve(i),o=h.formatted,u=h.formattedHref,r=h.tagName,l=h.className,c=h.target,g=h.attributes,m=[["href",u]];for(var f in l&&m.push(["class",l]),c&&m.push(["target",c]),g)m.push([f,g[f]]);a.push({type:b,tagName:r,attributes:m,selfClosing:!1}),a.push({type:A,chars:o}),a.push({type:k,tagName:r})}else a.push({type:A,chars:i.toString()});return a}function C(t,e,i,s){for(var a=1;i<e.length&&0<a;){var n=e[i];n.type===b&&n.tagName.toUpperCase()===t?a++:n.type===k&&n.tagName.toUpperCase()===t&&a--,s.push(n),i++}return s}function v(t){return t}function V(t){for(var e=[],i=0;i<t.length;i++){var s=t[i],a=s[0],n=s[1];e.push(a+'="'+n.replace(/"/g,"&quot;")+'"')}return e}return function(t){var e,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},s=m.tokenize(t),a=[],n=[];for(i=new p(i),e=0;e<s.length;e++){var h=s[e];if(h.type!==b)if(h.type===A){var o=T(h.chars,i);a.push.apply(a,o)}else a.push(h);else{a.push(h);var u=h.tagName.toUpperCase();if(!("A"===u||f.contains(i.ignoreTags,u)))continue;var r=a.length;C(u,s,++e,a),e+=a.length-r-1}}for(e=0;e<a.length;e++){var l=a[e];switch(l.type){case b:var c="<"+l.tagName;if(0<l.attributes.length)c+=" "+V(l.attributes).join(" ");c+=">",n.push(c);break;case k:n.push("</"+l.tagName+">");break;case A:n.push(v(l.chars));break;case"Comment":n.push("\x3c!--"+v(l.chars)+"--\x3e")}}return n.join("")}}(linkify);t.linkifyHtml=e}(window)</script><dom-module id="yp-magic-text"assetpath="../yp-magic-text/"><template><style>:host{display:block;}.container[rtl]{direction:rtl;}.container[more-text]{@apply --layout-vertical;@apply --layout-center-center;}.moreText{color:var(--accent-color);background-color:#FFF;margin-top:8px;}@media (max-width: 600px){.moreText{margin-bottom:2px;}}</style><div class="container"rtl$="[[rtl]]"more-text$="[[showMoreText]]"><template is="dom-if"if="[[finalExists]]"><div inner-h-t-m-l="[[finalContent]]"style="max-width:100%"></div></template><template is="dom-if"if="[[!finalExists]]"><div style="max-width:100%">[[truncatedContent]]</div></template><template is="dom-if"if="[[showMoreText]]"><paper-button raised=""elevation="1"class="moreText"on-tap="_openFullScreen">[[moreText]]</paper-button></template></div><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><lite-signal on-lite-signal-yp-auto-translate="_autoTranslateEvent"></lite-signal><iron-ajax id="getTranslationAjax"on-response="_getTranslationResponse"></iron-ajax></template><script>var YpMagicTextBox=function(t){function e(){return babelHelpers.classCallCheck(this,e),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(e).apply(this,arguments))}return babelHelpers.inherits(e,t),babelHelpers.createClass(e,[{key:"_finalExists",value:function(t){return null!=t}},{key:"_showMoreText",value:function(t,e){return this.isDialog||this.truncate?this.isDialog&&(this.truncate=null):this.truncate=500,t&&e&&this.truncate&&e.length>this.truncate}},{key:"_openFullScreen",value:function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("magicTextDialog",function(t){t.open(this.content,this.contentId,this.extraId,this.textType,this.contentLanguage,this.closeDialogText,this.structuredQuestionsConfig,this.skipSanitize,this.disableTranslation)}.bind(this))}},{key:"subClassProcessing",value:function(){}},{key:"_contentChanged",value:function(t){t&&""!==t?(this.set("finalContent",null),window.autoTranslate&&this.set("autoTranslate",window.autoTranslate),this.autoTranslate&&this.truncate?this.set("truncatedContent",e.truncate(e.trim(t),this.truncate)):this.set("truncatedContent",t),this._update()):(this.set("truncatedContent",null),this.set("finalContent",null))}},{key:"_setupWideText",value:function(){this.contentLanguage&&window.appGlobals.largeFont||-1<e.widerLanguages.indexOf(this.contentLanguage)?this.set("widetext",!0):this.set("widetext",!1),this.contentLanguage&&-1<e.highLanguages.indexOf(this.contentLanguage)?this.set("hightext",!0):this.set("hightext",!1)}},{key:"_autoTranslateEvent",value:function(t,e){this.set("autoTranslate",e),this._update()}},{key:"_setupRtl",value:function(){-1<e.rtlLanguages.indexOf(this.language)?this.set("rtl",!0):this.set("rtl",!1)}},{key:"_languageEvent",value:function(t,e){"language-loaded"===e.type&&(this.set("language",e.language),this._update()),this._setupRtl()}},{key:"_getIndexKey",value:function(){return"".concat(this.textType,"-").concat(this.contentId,"-").concat(this.language)}},{key:"_setupTranslationWideFont",value:function(){this.language&&-1<e.widerLanguages.indexOf(this.language)?this.set("widetext",!0):this.set("widetext",!1),this.language&&-1<e.highLanguages.indexOf(this.language)?this.set("hightext",!0):this.set("hightext",!1)}},{key:"_startTranslationAndFinalize",value:function(){var t=this._getIndexKey();if(window.appGlobals.autoTranslateCache[t])this.set("processedContent",window.appGlobals.autoTranslateCache[t]),this._setupTranslationWideFont(),this._finalize();else{switch(this.$.getTranslationAjax.params={textType:this.textType,contentId:this.contentId,targetLanguage:this.language},this.textType){case"postName":case"postContent":case"postTags":case"postTranscriptContent":this.$.getTranslationAjax.url="/api/posts/"+this.contentId+"/translatedText";break;case"pointContent":case"pointAdminCommentContent":this.$.getTranslationAjax.url="/api/points/"+this.contentId+"/translatedText";break;case"domainName":case"domainContent":this.$.getTranslationAjax.url="/api/domains/"+this.contentId+"/translatedText";break;case"customRatingName":this.$.getTranslationAjax.url="/api/ratings/"+this.contentId+"/"+this.extraId+"/translatedText";break;case"communityName":case"communityContent":this.$.getTranslationAjax.url="/api/communities/"+this.contentId+"/translatedText";break;case"alternativeTextForNewIdeaButton":case"alternativeTextForNewIdeaButtonClosed":case"alternativeTextForNewIdeaButtonHeader":case"alternativeTextForNewIdeaSaveButton":case"customCategoryQuestionText":case"customThankYouTextNewPosts":case"customTitleQuestionText":case"customFilterText":case"alternativePointForHeader":case"customAdminCommentsTitle":case"customTabTitleNewLocation":case"alternativePointAgainstHeader":case"urlToReviewActionText":case"alternativePointForLabel":case"alternativePointAgainstLabel":case"groupName":case"groupContent":this.$.getTranslationAjax.url="/api/groups/"+this.contentId+"/translatedText";break;case"categoryName":this.$.getTranslationAjax.url="/api/categories/"+this.contentId+"/translatedText";break;case"statusChangeContent":this.$.getTranslationAjax.url="/api/posts/"+this.extraId+"/"+this.contentId+"/translatedStatusText";break;default:return void console.error("No valid textType for magic text to translate: "+this.textType)}this.contentId?this.$.getTranslationAjax.generateRequest():(console.error("No content id for: "+this.textType),this._finalize())}}},{key:"_getTranslationResponse",value:function(t,e){e.response.content?(this.processedContent=e.response.content,window.appGlobals.autoTranslateCache[this._getIndexKey()]=this.processedContent):console.error("No content for magic text"),this.dispatchEvent(new CustomEvent("new-translation",{bubbles:!0,composed:!0})),this._setupTranslationWideFont(),this._finalize()}},{key:"_update",value:function(){this.processedContent=this.content,this.processedContent?this.autoTranslate&&this.language!==this.contentLanguage&&!this.disableTranslation?this._startTranslationAndFinalize():(this._setupWideText(),this._finalize()):this._setupWideText()}},{key:"_setupStructuredQuestions",value:function(){if(this.structuredQuestionsConfig){var e=null;try{e=JSON.parse(this.structuredQuestionsConfig)}catch(t){e=null}if(!e){var t=[],n=this.structuredQuestionsConfig.split(",");if(n&&1<n.length){for(var s=0;s<n.length;s+=2)t.push(n[s]);var a=new RegExp("("+t.join("|")+")","ig");this.processedContent=this.processedContent.replace(a,"<b>$1</b>")}else console.warn("Not questions for structuredQuestionsConfig")}}}},{key:"_finalize",value:function(){if(this.textOnly||this._linksAndEmojis(),this.truncate&&this.content&&(this.content.length>this.truncate||this.autoTranslate)){var t=this.truncate;this.autoTranslate&&-1<e.doubleWidthLanguages.indexOf(this.language)&&(t/=2),this.processedContent=e.truncate(e.trim(this.processedContent),t,"...")}this.simpleFormat&&(this.processedContent=this.processedContent.trim().replace(/(\n)/g,"<br>")),this.removeUrls&&(this.processedContent=this.processedContent.replace(/(?:https?|ftp):\/\/[\n\S]+/g,"")),this._setupStructuredQuestions(),this.subClassProcessing(),this.processedContent!==this.finalContent&&(window.magicTextIronResizeDebouncer||(window.magicTextIronResizeDebouncer=setTimeout(function(){window.magicTextIronResizeDebouncer=null,this.dispatchEvent(new CustomEvent("iron-resize",{bubbles:!0,composed:!0}))}.bind(this),100))),this.processedContent&&"undefined"!==this.processedContent&&this.content!==this.processedContent?this.set("finalContent",this.processedContent):this.set("finalContent",null)}},{key:"_linksAndEmojis",value:function(){this.skipSanitize?this.processedContent=linkifyHtml(this.processedContent,{format:function(t,e){return"url"===e&&t.length>this.linkifyCutoff-1&&(t=t.slice(0,this.linkifyCutoff)+""),t}.bind(this)}):(this.processedContent=this.processedContent.replace(/&amp\;/g,"&"),this.processedContent=linkifyStr(this.processedContent,{format:function(t,e){return"url"===e&&t.length>this.linkifyCutoff-1&&(t=t.slice(0,this.linkifyCutoff)+""),t}.bind(this),ignoreTags:["b","i","em","strong"]}),this.processedContent=this.processedContent.replace(/&amp\;/g,"&"),this.processedContent=twemoji.parse(this.processedContent).replace(/&amp\;quot\;/g,'"').replace(/class=\"emoji\" /g,'style="height: 1em;width: 1em;margin: 0 .3em 0 .3em;vertical-align: -0.1em;" '))}},{key:"ready",value:function(){window.i18nTranslation&&this.set("language",window.locale),this._setupRtl(),babelHelpers.get(babelHelpers.getPrototypeOf(e.prototype),"ready",this).call(this)}}],[{key:"truncate",value:function(t,e,n,s){if(e=e||255,t.length<=e)return t;if(n)t=t.substring(0,e);else{var a=t.lastIndexOf(" ",e);-1===a&&(a=e),t=t.substring(0,a)}return t+=null!=s?s:"..."}},{key:"trim",value:function(t){return t.replace(/^\s*|\s*$/g,"").trim()}},{key:"is",get:function(){return"yp-magic-text"}},{key:"properties",get:function(){return{content:{type:String,observer:"_contentChanged"},truncatedContent:{type:String,value:null},contentId:String,extraId:String,textType:{type:String},contentLanguage:{type:String},processedContent:{type:String,value:null},rtl:{type:Boolean,value:!1},finalContent:{type:String,value:null},finalExists:{type:Boolean,value:!1,computed:"_finalExists(finalContent)"},autoTranslate:{type:Boolean,value:!1},language:{type:String,value:null},truncate:{type:Number,value:null},moreText:String,showMoreText:{type:Boolean,computed:"_showMoreText(moreText,content,truncate)"},closeDialogText:{type:String},textOnly:{type:Boolean,value:!1},isDialog:{type:Boolean,value:!1},disableTranslation:{type:Boolean,value:!1},simpleFormat:{type:Boolean,value:!1},skipSanitize:{type:Boolean,value:!1},structuredQuestionsConfig:{type:String,value:null},linkifyCutoff:{type:Number,value:25},removeUrls:{type:Boolean,value:!1},widetext:{type:Boolean,value:!1,reflectToAttribute:!0},hightext:{type:Boolean,value:!1,reflectToAttribute:!0}}}},{key:"doubleWidthLanguages",get:function(){return["zh_TW","hy"]}},{key:"widerLanguages",get:function(){return["uk","ky","uz","ru","sr","zh_TW","hy","bg","el","th"]}},{key:"highLanguages",get:function(){return["th"]}},{key:"rtlLanguages",get:function(){return["fa","ar","ar_EG"]}}]),e}(Polymer.Element);customElements.define(YpMagicTextBox.is,YpMagicTextBox)</script></dom-module><script>Polymer.ypNumberFormatBehavior={formatNumber:function(r){return r?r.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0"}}</script><dom-module id="yp-registration-questions"assetpath="../yp-user/"><template><style include="iron-flex iron-flex-alignment">:host{display:block;width:100%;}@media (max-width: 800px){yp-structured-question-edit{padding-left:0;padding-right:0;}}[hidden]{display:none !important;}yp-structured-question-edit{}.segmentQuestionIntro{margin-top:16px;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><lite-signal on-lite-signal-yp-auto-translate="_autoTranslateEvent"></lite-signal><iron-media-query query="(min-width: 1024px)"query-matches="{{wideWidth}}"></iron-media-query><iron-media-query query="(max-width: 700px)"query-matches="{{phoneWidth}}"></iron-media-query><template is="dom-if"if="[[segments]]"><div class="segmentQuestionIntro">[[t('choose')]]</div><paper-radio-group required=""data-type="radios"on-selected-changed="_radioChanged"id="segmentRadio_[[index]]"name="segmentRadio_[[index]]"class="segmentRadio"><template is="dom-repeat"items="[[segments]]"as="radioButton"index-as="buttonIndex"><paper-radio-button use-small-font$="[[useSmallFont]]"id="segmentRadio_[[index]]_[[buttonIndex]]"name="[[radioButton.segmentName]]">[[radioButton.text]]</paper-radio-button></template></paper-radio-group></template><template is="dom-if"if="[[renderingQuestions]]"restamp=""><template is="dom-repeat"items="[[filteredQuestions]]"as="question"><yp-structured-question-edit index="[[index]]"use-small-font=""is-from-new-post=""id="structuredQuestionContainer_[[index]]"structured-answers="[[structuredAnswers]]"question="[[question]]"></yp-structured-question-edit></template></template><yp-ajax hidden=""id="translatedQuestionsAjax"on-response="_translatedQuestionsResponse"></yp-ajax></template><script>Polymer({is:"yp-registration-questions",behaviors:[Polymer.ypLanguageBehavior],properties:{group:{type:Object,value:null},structuredQuestions:{type:Array,computed:"_structuredQuestions(group, translatedQuestions)",observer:"_filteredQuestionsChanged"},filteredQuestions:{type:Array,computed:"_filteredQuestions(structuredQuestions, segments, selectedSegment)"},structuredAnswers:{type:Array,value:null},translatedQuestions:{type:Array,value:null},autoTranslate:{type:Boolean,value:!1},selectedSegment:{type:String,value:null},segments:{type:Array,value:null},renderingQuestions:{type:Boolean,value:!0}},_radioChanged:function(t,e){this.set("selectedSegment",e.value),this.set("renderingQuestions",!1),this.async(function(){this.set("renderingQuestions",!0),this.async(function(){this._setupQuestions(),this.async(function(){this.fire("questions-changed")})})})},_autoTranslateEvent:function(t,e){this.set("autoTranslate",e),this._getTranslationsIfNeeded()},ready:function(){this.async(function(){this._getTranslationsIfNeeded()})},_getTranslationsIfNeeded:function(){this.set("translatedQuestions",null),this.autoTranslate&&this.language&&this.language!==this.group.language&&(this.$.translatedQuestionsAjax.url="/api/groups/".concat(this.group.id,"/translatedRegistrationQuestions?targetLanguage=").concat(this.language),this.$.translatedQuestionsAjax.generateRequest())},_getQuestionLengthWithSubOptions:function(t){for(var e=0,s=0;s<t.length;s++){e+=1;var n=t[s];"radios"===n.type&&n.radioButtons&&0<n.radioButtons.length?e+=n.radioButtons.length:"checkboxes"===n.type&&n.checkboxes&&0<n.checkboxes.length?e+=n.checkboxes.length:"dropdown"===n.type&&n.dropdownOptions&&0<n.dropdownOptions.length&&(e+=n.dropdownOptions.length)}return e},_translatedQuestionsResponse:function(t,e){if(this.autoTranslate&&this.language!==this.group.language){var s=e.response,n=JSON.parse(JSON.stringify(this.group.configuration.registrationQuestionsJson));if(s.length===this._getQuestionLengthWithSubOptions(n)){for(var i,o=0,r=0;r<n.length;r++)if((i=n[r]).originalText=i.text,i.text=s[o++],"radios"===i.type&&i.radioButtons&&0<i.radioButtons.length)for(var u=0;u<i.radioButtons.length;u++)i.radioButtons[u].originalText=i.radioButtons[u].text,i.radioButtons[u].text=s[o++];else if("checkboxes"===i.type&&i.checkboxes&&0<i.checkboxes.length)for(u=0;u<i.checkboxes.length;u++)i.checkboxes[u].originalText=i.checkboxes[u].text,i.checkboxes[u].text=s[o++];else if("dropdown"===i.type&&i.dropdownOptions&&0<i.dropdownOptions.length)for(u=0;u<i.dropdownOptions.length;u++)i.dropdownOptions[u].originalText=i.dropdownOptions[u].text,i.dropdownOptions[u].text=s[o++];this.set("translatedQuestions",n)}else console.error("Questions and Translated texts length does not match")}else this.set("translatedQuestions",null)},_structuredQuestions:function(t,e){return t&&t.configuration.registrationQuestionsJson?e||t.configuration.registrationQuestionsJson:null},_filteredQuestions:function(t,e,s){if(t){var n=[];return t.forEach(function(t){(!e||s&&"segment"!==t.type&&t.segmentName===s)&&n.push(t)}.bind(this)),n}return null},_setupQuestions:function(){if(this.filteredQuestions){window.autoTranslate&&this.set("autoTranslate",window.autoTranslate);var s=[],n=[],i=[],o={};this.filteredQuestions.forEach(function(t,e){"textfield"!==t.type.toLowerCase()&&"textfieldlong"!==t.type.toLowerCase()&&"textarea"!==t.type.toLowerCase()&&"textarealong"!==t.type.toLowerCase()&&"numberfield"!==t.type.toLowerCase()&&"checkboxes"!==t.type.toLowerCase()&&"radios"!==t.type.toLowerCase()&&"dropdown"!==t.type.toLowerCase()||(!this.segments||this.selectedSegment&&t.segmentName===this.selectedSegment)&&(s.push(e),o[t.uniqueId]=e,n.push(t.uniqueId),i.push({uniqueId:t.uniqueId,atIndex:e}))}.bind(this)),this.set("liveQuestionIds",s),this.set("liveUniqueIds",n),this.set("liveUniqueIdsAll",i),this.set("uniqueIdsToElementIndexes",o)}},_checkForSegments:function(){if(this.structuredQuestions){var s=[];this.structuredQuestions.forEach(function(t,e){"segment"===t.type.toLowerCase()&&s.push(t)}.bind(this)),0<s.length&&this.set("segments",s)}else this.set("segments",null)},_filteredQuestionsChanged:function(){this._checkForSegments(),this._setupQuestions()},getAnswers:function(){var n=[];return this.liveQuestionIds.forEach(function(t){var e=this.$$("#structuredQuestionContainer_"+t);if(e){var s={};s[e.question.originalText?e.question.originalText:e.question.text]=e.getAnswer().value,n.push(s)}}.bind(this)),this.structuredAnswers=n},validate:function(){var s=!0;return this.liveQuestionIds.forEach(function(t){var e=this.$$("#structuredQuestionContainer_"+t);e&&!e.validate()&&(s=!1)}.bind(this)),this.segments&&!this.selectedSegment&&(s=!1),s}})</script></dom-module><dom-module id="yp-login"assetpath="../yp-user/"><template><style include="iron-flex iron-flex-alignment">.btn-auth,
      .btn-auth:visited{position:relative;display:inline-block;height:22px;padding:0 1em;border:1px solid #999;border-radius:2px;text-align:center;text-decoration:none;font-size:14px;line-height:22px;white-space:nowrap;cursor:pointer;color:#222;background:#fff;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-appearance:none;*overflow:visible;*display:inline;*zoom:1;margin:4px;}.btn-auth:hover,
      .btn-auth:focus,
      .btn-auth:active{color:#222;text-decoration:none;}.btn-auth:before{content:"";float:left;width:22px;height:22px;background:url(/images/auth-icons.png) no-repeat 99px 99px;}paper-tab{--paper-tabs:{font-family:var(--app-header-font-family, Roboto);};font-family:var(--app-header-font-family, Roboto);}.btn-auth.large{height:32px;line-height:36px;font-size:20px;}.btn-auth.large:before{width:36px;height:36px;}.btn-auth::-moz-focus-inner{border:0;padding:0;}.btn-facebook,
      .btn-facebook:visited{border-color:#29447e;border-bottom-color:#1a356e;color:#fff;background-color:#5872a7;background-image:-webkit-gradient(linear, 0 0, 0 100%, from(#637bad), to(#5872a7));background-image:-webkit-linear-gradient(#637bad, #5872a7);background-image:-moz-linear-gradient(#637bad, #5872a7);background-image:-ms-linear-gradient(#637bad, #5872a7);background-image:-o-linear-gradient(#637bad, #5872a7);background-image:linear-gradient(#637bad, #5872a7);-webkit-box-shadow:inset 0 1px 0 #879ac0;box-shadow:inset 0 1px 0 #879ac0;}.btn-facebook:hover,
      .btn-facebook:focus{color:#fff;background-color:#3b5998;}.btn-facebook:active{color:#fff;background:#4f6aa3;-webkit-box-shadow:inset 0 1px 0 #45619d;box-shadow:inset 0 1px 0 #45619d;}paper-textarea-aria, paper-input{--paper-input-container-label:{font-family:var(--app-header-font-family, Roboto);};font-family:var(--app-header-font-family, Roboto);}.btn-facebook:before{border-right:1px solid #465f94;margin:0 1em 0 -1em;background-position:0 0;}.btn-facebook.large:before{background-position:0 -22px;}:host{}paper-dialog{padding-left:8px;padding-right:8px;width:450px;background-color:#fff;}.innerScroll{height:100% !important;}.islandIs{width:107px;height:19px;padding-left:8px;padding-top:8px;padding-bottom:8px;padding-right:32px;margin-left:8px;}paper-spinner{padding:0;margin:0;}.buttons{color:var(--accent-color, #000);font-size:15px;margin-top:20px;text-align:center;vertical-align:bottom;margin-bottom:16px;}.buttons[has-registration-questions]{padding-bottom:16px;}.boldButton{font-weight:bold;}@media (max-width: 480px){paper-dialog{padding:0;margin:0;width:100%;}}@media (max-width: 480px){.buttons{margin-top:12px;font-size:14px;}}@media (max-width: 320px){paper-dialog{min-width:320px;}:host{max-height:100% !important;height:100% !important;}.buttons{font-size:13px;}}.additionAuthMethodsDivider{color:#444;padding-bottom:8px;}.strike{display:block;text-align:center;overflow:hidden;white-space:nowrap;font-size:17px;}.strike > span{position:relative;display:inline-block;}.strike > span:before,
      .strike > span:after{content:"";position:absolute;top:50%;width:9999px;height:1px;background:#888;}.strike > span:before{right:85%;margin-right:15px;}.strike > span:after{left:85%;margin-left:15px;}.socialMediaLogin{padding-top:8px;margin-top:8px;padding-bottom:16px;}.cursor{cursor:pointer;}.orContainer{padding-top:0;margin-top:0;padding-bottom:4px;color:#555;}yp-magic-text, .customUserRegistrationText{font-size:14px;margin:8px;margin-bottom:8px;}.mainSpinner[hide]{display:none;}[hidden]{display:none !important;}.openTerms{text-decoration:underline;cursor:pointer;}@media all and (-ms-high-contrast: none){#scrollable{min-height:350px;}}.signupTerms{margin-top:16px;margin-bottom:8px;}.ajaxElements{margin-top:8px;}.forceSecureSamlLoginInfo{font-weight:bold;font-size:17px;margin-bottom:8px;}.anonLoginButton{margin-top:0;margin-bottom:12px;}paper-tabs{margin-bottom:8px;}.largeSamlLogo{margin-top:16px;border:1px solid;border-color:#ddd;padding:12px;padding-top:18px;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><lite-signal on-lite-signal-yp-domain-changed="_domainEvent"></lite-signal><paper-dialog id="dialog"modal=""><paper-dialog-scrollable id="scrollable"><iron-form id="form"><form name="loginForm"><paper-tabs selected="{{registerMode}}"id="paper_tabs"focused=""hidden$="[[forceSecureSamlLogin]]"><paper-tab>[[t('user.login')]]</paper-tab><paper-tab>[[t('user.register')]]</paper-tab></paper-tabs><div class="layout vertical innerScroll"><span hidden$="[[!registerMode]]"><div hidden$="[[!customUserRegistrationText]]"class="customUserRegistrationText"><yp-magic-text disable-translation=""linkify-cutoff="100"content="[[customUserRegistrationText]]"></yp-magic-text></div></span><div class="customUserRegistrationText"hidden$="[[!forceSecureSamlLogin]]"><div hidden$="[[!customSamlLoginText]]"><yp-magic-text disable-translation=""linkify-cutoff="100"content="[[customSamlLoginText]]"></yp-magic-text></div><div hidden$="[[customSamlLoginText]]">[[t('forceSecureSamlLoginInfo')]]</div></div><div class="layout vertical center-center socialMediaLogin"hidden$="[[!hasAdditionalAuthMethods]]"><div class="layout vertical center-center"><template is="dom-if"if="[[hasAnonymousLogin]]"><paper-button raised=""class="anonLoginButton"on-tap="anonymousLogin">[[t('participateAnonymously')]]</paper-button></template><template is="dom-if"if="[[hasOneTimeLoginWithName]]"><paper-button raised=""class="anonLoginButton"on-tap="oneTimeLogin">[[t('oneTimeLoginWithName')]]</paper-button></template><div class="layout horizontal"><template is="dom-if"if="[[hasSamlLogin]]"><template is="dom-if"if="[[samlLoginButtonUrl]]"><div class="islandIs cursor layout horizontal center-center"role="button"tabindex="0"><img hidden$="[[forceSecureSamlLogin]]"on-tap="_openSamlLogin"width="80"src="[[samlLoginButtonUrl]]"><div hidden$="[[!forceSecureSamlLogin]]"class="largeSamlLogo"on-tap="_openSamlLogin"role="button"tabindex="0"><img width="130"src="[[samlLoginButtonUrl]]"></div></div></template><template is="dom-if"if="[[!samlLoginButtonUrl]]"><div class="islandIs cursor layout horizontal center-center"role="button"tabindex="0"on-keydown="_keySaml"><img hidden$="[[forceSecureSamlLogin]]"on-tap="_openSamlLogin"width="107"height="19"src="https://yrpri-eu-direct-assets.s3-eu-west-1.amazonaws.com/islanddotis.png"><div hidden$="[[!forceSecureSamlLogin]]"class="largeSamlLogo"on-tap="_openSamlLogin"role="button"tabindex="0"><img width="140"height="25"src="https://yrpri-eu-direct-assets.s3-eu-west-1.amazonaws.com/islanddotis.png"></div></div></template></template><template is="dom-if"if="[[hasFacebookLogin]]"><span hidden$="[[forceSecureSamlLogin]]"><div class="btn-auth btn-facebook cursor"on-tap="_facebookLogin"role="button"tabindex="0"hidden$="[[disableFacebookLoginForGroup]]">[[t('user.facebookLogin')]]</div></span></template></div></div></div><div class="orContainer"hidden$="[[!hasAdditionalAuthMethods]]"><div class="strike"hidden$="[[forceSecureSamlLogin]]"><span>[[t('or')]]</span></div></div><div hidden$="[[forceSecureSamlLogin]]"><template is="dom-if"if="[[registerMode]]"restamp=""><paper-input id="fullname"type="text"label="[[userNameText]]"value="{{name}}"maxlength="50"minlength="2"required=""char-counter=""></paper-input></template><paper-input id="email"type="text"label="[[t('user.email')]]"value="{{email}}"name="username"autocomplete="username"pattern="[[emailValidationPattern]]"error-message="[[emailErrorMessage]]"></paper-input><paper-input id="password"type="password"label="[[t('user.password')]]"value="{{password}}"autocomplete="current-password"error-message="[[passwordErrorMessage]]"></paper-input><template is="dom-if"if="[[registerMode]]"restamp=""><template is="dom-if"if="[[registrationQuestionsGroup]]"restamp=""><yp-registration-questions id="registrationQuestions"on-questions-changed="_registrationQuestionsChanged"on-resize-scroller="_registrationQuestionsChanged"group="[[registrationQuestionsGroup]]"></yp-registration-questions></template></template></div></div><div class="signupTerms"hidden$="[[!showSignupTerms]]">[[customTermsIntroText]] - <span on-tap="_openTerms"class="openTerms">{{t('signupTermsOpen')}}</span></div><div class="buttons layout vertical center-center"has-registration-questions$="[[registrationQuestions]]"><div class="layout horizontal center-center"><paper-button dialog-dismiss=""on-tap="_cancel">[[t('cancel')]]</paper-button><paper-button hidden$="[[forceSecureSamlLogin]]"on-tap="_forgotPassword">[[t('user.newPassword')]]</paper-button><paper-button hidden$="[[forceSecureSamlLogin]]"autofocus=""raised=""class="boldButton"on-tap="_validateAndSend">[[submitText]]</paper-button></div></div></form></iron-form></paper-dialog-scrollable><div class="layout horizontal center-center ajaxElements"><paper-spinner active=""class="mainSpinner"hide$="[[!userSpinner]]"></paper-spinner><yp-ajax id="loginAjax"dispatch-error=""on-error="_loginError"method="POST"url="/api/users/login"on-response="_loginResponse"></yp-ajax><yp-ajax id="registerAjax"method="POST"dispatch-error=""on-error="_registerError"url="/api/users/register"on-response="_registerResponse"></yp-ajax><yp-ajax id="pagesAjax"on-response="_pagesResponse"></yp-ajax></div></paper-dialog><iron-a11y-keys id="a11y"keys="enter"on-keys-pressed="onEnter"></iron-a11y-keys><template is="dom-if"if="[[hasOneTimeLoginWithName]]"><paper-dialog id="dialogOneTimeWithName"modal=""><h3>[[t('oneTimeLoginWithName')]]</h3><paper-dialog-scrollable><paper-input id="oneTimeLoginWithNameId"type="text"label="[[userNameText]]"maxlength="50"value="{{oneTimeLoginName}}"autocomplete="off"></paper-input><template is="dom-if"if="[[registrationQuestionsGroup]]"restamp=""><yp-registration-questions id="registrationQuestionsOneTimeLogin"on-questions-changed="_registrationQuestionsChanged"on-resize-scroller="_registrationQuestionsChanged"group="[[registrationQuestionsGroup]]"></yp-registration-questions></template><div class="buttons"><paper-button dialog-dismiss="">[[t('cancel')]]</paper-button><paper-button disabled$="[[!oneTimeLoginName]]"on-tap="finishOneTimeLoginWithName">[[t('user.login')]]</paper-button></div></paper-dialog-scrollable></paper-dialog><iron-a11y-keys id="a11yoneTimeWithName"keys="enter"on-keys-pressed="finishOneTimeLoginWithName"></iron-a11y-keys></template><yp-ajax id="registerAnonymouslyAjax"method="POST"dispatch-error=""on-error="_registerError"url="/api/users/register_anonymously"on-response="_registerResponse"></yp-ajax></template></dom-module><script>Polymer({is:"yp-login",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypGotoBehavior],properties:{userSpinner:{type:Boolean,value:!1},domain:{type:Object},reCaptchaSiteKey:{type:String,value:"6Ld9UBsTAAAAAPq059P_AGqo-tVE_T9gPj5ifrmY"},emailValidationPattern:{type:String,value:"^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$"},emailErrorMessage:{type:String},passwordErrorMessage:{type:String},name:{type:String,value:""},email:{type:String,value:""},password:{type:String,value:""},credentials:{type:String,notify:!0,value:null},registerMode:{type:Number,value:0,observer:"_onRegisterChanged"},submitText:{type:String,value:""},registrationQuestionsGroup:{type:Object,value:null},redirectToURL:{type:String,value:null},forgotPasswordOpen:{type:Boolean,value:!1},heading:{type:String},customUserRegistrationText:{type:String,value:null},opened:{type:Boolean,value:!1,observer:"_openedChanged"},target:{type:Object},onLoginFunction:{type:Function,value:null},hasFacebookLogin:{type:Boolean,value:null,computed:"_hasFacebookLogin(domain)"},hasAnonymousLogin:{type:Boolean,value:!1},hasSamlLogin:{type:Boolean,value:null,computed:"_hasSamlLogin(domain)"},hasAdditionalAuthMethods:{type:Boolean,computed:"_hasAdditionalAuthMethods(domain, hasAnonymousLogin, hasOneTimeLoginWithName, disableFacebookLoginForGroup)"},userNameText:{type:String,computed:"_userNameText(domain)"},customTermsIntroText:{type:String,computed:"_customTermsIntroText(domain)"},disableFacebookLoginForGroup:{type:Boolean,value:!1},pollingStartedAt:{type:Date,value:null},signupTermsId:{type:Number,value:null},showSignupTerms:{type:Boolean,computed:"_showSignupTerms(signupTermsId, registerMode)"},forceSecureSamlLogin:{type:Boolean,value:!1},isSending:{type:Boolean,value:!1},samlLoginButtonUrl:{type:String,value:null},customSamlLoginText:{type:String,value:null},oneTimeLoginName:{type:String,value:null},hasOneTimeLoginWithName:{type:Boolean,value:!1}},_registrationQuestionsChanged:function(){this.$.dialog.fire("iron-resize");var i=this.$$("#dialogOneTimeWithName");i&&i.fire("iron-resize")},_setupCustomRegistrationQuestions:function(){window.appGlobals.registrationQuestionsGroup?this.set("registrationQuestionsGroup",window.appGlobals.registrationQuestionsGroup):this.set("registrationQuestionsGroup",null)},_keySaml:function(i){13==i.keyCode&&(i.preventDefault(),this._openSamlLogin())},_customTermsIntroText:function(){return window.appGlobals.currentGroup&&window.appGlobals.currentGroup.configuration&&window.appGlobals.currentGroup.configuration.customTermsIntroText?window.appGlobals.currentGroup.configuration.customTermsIntroText:this.t("signupTermsInfo")},_userNameText:function(){return window.appGlobals.currentGroup&&window.appGlobals.currentGroup.configuration&&window.appGlobals.currentGroup.configuration.customUserNamePrompt?window.appGlobals.currentGroup.configuration.customUserNamePrompt:this.t("user.name")},base64EncodeUnicode:function(i){var o=encodeURIComponent(i).replace(/%([0-9A-F]{2})/g,function(i,o){return String.fromCharCode("0x"+o)});return btoa(o)},_showSignupTerms:function(i,o){return i&&1==o},_isInApp:function(){return/iPad|iPhone|Android|android|iPod/.test(navigator.userAgent)&&!window.MSStream&&(/FBAN/.test(navigator.userAgent)||/FBAV/.test(navigator.userAgent)||/Instagram/.test(navigator.userAgent))},_openTerms:function(){this.fire("yp-open-page",{pageId:this.signupTermsId})},_facebookLogin:function(){var i=window.location.hostname.split(".").slice(-2).join("."),o="https://"+(-1<i.indexOf("forbrukerradet")?"mineideer":-1<i.indexOf("parliament.scot")?"engage":-1<i.indexOf("multicitychallenge.org")?"yp":-1<i.indexOf("mycitychallenge.org")?"ideas":-1<i.indexOf("engagebritain.org")?"socialcare":-1<i.indexOf("smarter.nj.gov")?"enjine":window.appGlobals.domain&&window.appGlobals.domain.loginCallbackCustomHostName?window.appGlobals.domain.loginCallbackCustomHostName:"login")+"."+i+"/api/users/auth/facebook",n=(window.outerHeight-650)/2,e=(window.outerWidth-1e3)/2;this._isInApp()?(document.cookie="ypRedirectCookie="+encodeURI(window.location.href)+";domain=."+i+";path=/",window.location=o):window.appUser.facebookPopupWindow=window.open(o,"_blank","width=1000,height=650,scrollbars=0,top="+n+",left="+e),window.appUser.startPollingForLogin(),this._startSpinner(),window.appGlobals.sendLoginAndSignupToAnalytics(null,"Login Submit","Facebook")},anonymousLogin:function(){this.$$("#registerAnonymouslyAjax").body={groupId:window.appGlobals.currentAnonymousGroup.id,trackingParameters:window.appGlobals.originalQueryParameters},this.$$("#registerAnonymouslyAjax").generateRequest(),window.appGlobals.sendLoginAndSignupToAnalytics(null,"Signup Submit","Anonymous")},anonymousLoginWithName:function(i){this.$$("#registerAnonymouslyAjax").body={groupId:window.appGlobals.currentAnonymousGroup.id,trackingParameters:window.appGlobals.originalQueryParameters,oneTimeLoginName:this.hasOneTimeLoginWithName?this.oneTimeLoginName:null,registration_answers:i},this.$$("#registerAnonymouslyAjax").generateRequest(),window.appGlobals.sendLoginAndSignupToAnalytics(null,"Signup Submit","Anonymous with name")},finishOneTimeLoginWithName:function(){!this.oneTimeLoginName||this.registrationQuestionsGroup&&!this.$$("#registrationQuestionsOneTimeLogin").validate()?(this.$$("#loginAjax").showErrorDialog(this.t("user.completeForm")),window.appGlobals.sendLoginAndSignupToAnalytics(null,this.registerMode?"Signup Fail":"Login Fail","Email","Form not validated")):this.anonymousLoginWithName(this.$$("#registrationQuestionsOneTimeLogin")?this.$$("#registrationQuestionsOneTimeLogin").getAnswers():void 0)},oneTimeLogin:function(){this.set("oneTimeLoginName",null),this.$$("#dialogOneTimeWithName").open(),this.async(function(){this.$$("#oneTimeLoginWithNameId").focus()},50)},_openSamlLogin:function(){this.forceSecureSamlLogin&&window.appUser&&window.appUser.user&&(window.appUser.logout(),this.async(function(){window.appUser.logout()}));var i=window.location.hostname.split(".").slice(-2).join("."),o="/api/users/auth/saml",n=(window.outerHeight-650)/2,e=(window.outerWidth-1200)/2;this._isInApp()?(document.cookie="ypRedirectCookie="+encodeURI(window.location.href)+";domain=."+i+";path=/",window.location=o):window.appUser.samlPopupWindow=window.open(o,"_blank","width=1200,height=650,scrollbars=0,top="+n+",left="+e),window.appUser.startPollingForLogin(),this._startSpinner(),window.appGlobals.sendLoginAndSignupToAnalytics(null,"Login Submit","Saml2")},_startSpinner:function(){this.set("userSpinner",!0),this.async(function(){this.$.dialog.fire("iron-resize")})},_cancel:function(){this.set("userSpinner",!0),window.appUser.cancelLoginPolling()},_domainEvent:function(i,o){o.domain&&this.set("domain",o.domain)},_hasAdditionalAuthMethods:function(i,o,n){return i&&(this._hasFacebookLogin(i)&&!this.disableFacebookLoginForGroup||this._hasSamlLogin(i)||o||n)},_hasFacebookLogin:function(i){return!!i&&(null!=i.facebookLoginProvided&&""!=i.facebookLoginProvided)},_hasSamlLogin:function(i){return!!i&&(null!=i.samlLoginProvided&&""!=i.samlLoginProvided)},_openedChanged:function(i){i&&(window.appGlobals.currentAnonymousGroup&&window.appGlobals.currentAnonymousGroup.configuration&&window.appGlobals.currentAnonymousGroup.configuration.allowAnonymousUsers?this.set("hasAnonymousLogin",!0):this.set("hasAnonymousLogin",!1),window.appGlobals.currentAnonymousGroup&&window.appGlobals.currentAnonymousGroup.configuration&&window.appGlobals.currentAnonymousGroup.configuration.allowOneTimeLoginWithName?this.set("hasOneTimeLoginWithName",!0):this.set("hasOneTimeLoginWithName",!1),window.appGlobals.disableFacebookLoginForGroup?this.set("disableFacebookLoginForGroup",!0):this.set("disableFacebookLoginForGroup",!1),window.appGlobals.domain&&window.appGlobals.domain.configuration&&window.appGlobals.domain.configuration.customUserRegistrationText?this.set("customUserRegistrationText",window.appGlobals.domain.configuration.customUserRegistrationText):this.set("customUserRegistrationText",null),window.appGlobals.domain&&window.appGlobals.domain.configuration&&window.appGlobals.domain.configuration.samlLoginButtonUrl?this.set("samlLoginButtonUrl",window.appGlobals.domain.configuration.samlLoginButtonUrl):this.set("samlLoginButtonUrl",null),window.appGlobals.domain&&window.appGlobals.domain.configuration&&window.appGlobals.domain.configuration.customSamlLoginText?this.set("customSamlLoginText",window.appGlobals.domain.configuration.customSamlLoginText):window.appGlobals.currentSamlLoginMessage?this.set("customSamlLoginText",window.appGlobals.currentSamlLoginMessage):this.set("customSamlLoginText",null),this.async(function(){this.$$("#a11y").target=this.$$("#form"),this.$$("#email").focus(),this.$$("#oneTimeLoginWithNameId")&&this.$$("#a11yoneTimeWithName")&&(this.$$("#a11yoneTimeWithName").target=this.$$("#oneTimeLoginWithNameId"))}.bind(this),50),window.appGlobals.signupTermsPageId?this.signupTermsId=window.appGlobals.signupTermsPageId:this.signupTermsId=null,window.appGlobals.currentForceSaml?(this.set("forceSecureSamlLogin",!0),this.set("registerMode",1)):(this.set("forceSecureSamlLogin",!1),this.set("registerMode",0)))},onEnter:function(){this._validateAndSend()},_registerError:function(i,o){this.set("isSending",!1),"SequelizeUniqueConstraintError"==o?this.$$("#registerAjax").showErrorDialog(this.t("user.alreadyRegisterred")):this.$$("#registerAjax").showErrorDialog(this.t("user.registrationError")+": "+o),window.appGlobals.sendLoginAndSignupToAnalytics(null,"Signup Fail","Email",o)},_loginError:function(i,o){this.set("isSending",!1),"Unauthorized"==o?this.$$("#loginAjax").showErrorDialog(this.t("user.loginNotAuthorized")):this.$$("#loginAjax").showErrorDialog(this.t("user.loginError")+": "+o),window.appGlobals.sendLoginAndSignupToAnalytics(null,"Login Fail","Email",o)},_forgotPassword:function(){this.fire("yp-forgot-password")},_onRegisterChanged:function(i){if(this._setTexts(),this.$.dialog.fire("iron-resize"),1==i){var o=this.$$("#name");o&&o.focus()}},ready:function(){window.appGlobals&&window.appGlobals.domain&&this.set("domain",window.appGlobals.domain)},setup:function(i,o){this.set("onLoginFunction",i),this._setTexts(),o&&this.set("domain",o)},_setTexts:function(){this.emailErrorMessage=this.t("inputError"),this.passwordErrorMessage=this.t("inputError"),1===this.registerMode?(this.header=this.t("user.registerHeader"),this.set("submitText",this.t("user.create"))):(this.header=this.t("user.header"),this.set("submitText",this.t("user.login")))},_setupJsonCredentials:function(){this.credentials=JSON.stringify({name:this.name,email:this.email,identifier:this.email,username:this.email,password:this.password,registration_answers:this.registrationQuestionsGroup&&this.$$("#registrationQuestions")?this.$$("#registrationQuestions").getAnswers():void 0})},_validateRegistrationAnswers:function(){return!this.registrationQuestionsGroup||this.$$("#registrationQuestions").validate()},_validateAndSend:function(){if(this.isSending)console.warn("Trying to call _validateAndSend while sending");else{if(this.set("isSending",!0),window.appGlobals.sendLoginAndSignupToAnalytics(null,this.registerMode?"Signup Submit":"Login Submit","Email"),!(this.$$("#form").validate()&&this.email&&this.password)||this.registerMode&&this.registrationQuestionsGroup&&!this.$$("#registrationQuestions").validate())return this.$$("#loginAjax").showErrorDialog(this.t("user.completeForm")),window.appGlobals.sendLoginAndSignupToAnalytics(null,this.registerMode?"Signup Fail":"Login Fail","Email","Form not validated"),this.set("isSending",!1),!1;this._setupJsonCredentials(),this.registerMode?(this.$$("#registerAjax").body=this.credentials,this.$$("#registerAjax").generateRequest()):(this.$$("#loginAjax").body=this.credentials,this.$$("#loginAjax").generateRequest())}},_registerResponse:function(i,o){this.set("isSending",!1),window.appGlobals.sendLoginAndSignupToAnalytics(o.response.id,"Signup Success","Email"),this._loginCompleted(o.response),console.info((o.response,o.response.email)),this.$$("#dialogOneTimeWithName")&&this.$$("#dialogOneTimeWithName").close()},_loginResponse:function(i,o){this.set("isSending",!1),this._loginCompleted(o.response)},_loginAfterSavePassword:function(i){this.redirectToURL&&this.redirectTo(this.redirectToURL),this.fire("login",i),this.onLoginFunction?this.onLoginFunction(i):window.appUser.setLoggedInUser(i),document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"logged-in",data:i}}))},_loginCompleted:function(o){if(window.PasswordCredential&&this.email&&this.password){var i=new PasswordCredential({name:this.email,id:this.email,password:this.password});navigator.credentials.store(i).then(function(i){this._loginAfterSavePassword(o)}.bind(this)).catch(function(i){console.error(i),this._loginAfterSavePassword(o)}.bind(this))}else this._loginAfterSavePassword(o)},open:function(i,o,n){this.redirectToURL=i,this.set("userSpinner",!1),this.set("opened",!1),o&&this.set("email",o),n&&(n.disableFacebookLoginForGroup||n.disableFacebookLoginForCommunity)&&(window.appGlobals.disableFacebookLoginForGroup=!0),this.async(function(){this.set("opened",!0),this.async(function(){this.$$("#dialog").open()})}),window.appGlobals.sendLoginAndSignupToAnalytics(null,"Signup/Login Opened","Undecided"),this.async(function(){!this.forceSecureSamlLogin&&window.PasswordCredential&&navigator.credentials&&navigator.credentials.get({password:!0}).then(function(i){i&&i.id&&i.password?(this.set("email",i.id),this.set("password",i.password),!0===window.appUser.hasIssuedLogout?console.log("Have issued logout not auto logging in"):this._validateAndSend()):console.warn("Canceling credentials.get")}.bind(this))}),this._setupCustomRegistrationQuestions()},close:function(){var i=this.$$("#dialog");i&&i.close(),this.set("opened",!1),this.set("userSpinner",!1)}})</script><dom-module id="yp-missing-email"assetpath="../yp-user/"><template><style include="iron-flex iron-flex-alignment">paper-dialog{background-color:#FFF;width:420px;}.linkAccounts{padding-top:16px;}@media (max-width: 480px){paper-dialog{padding:0;margin:0;width:100%;}}[hidden]{display:none !important;}.buttons{margin-bottom:8px;margin-right:4px;text-align:center;}.setEmailInfo{font-size:16px;font-weight:bold;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><div id="outer"><paper-dialog id="dialog"><h2>[[heading]]</h2><div class="setEmailInfo"><span hidden$="[[!onlyConfirmingEmail]]">[[t('user.setEmailConfirmationInfo')]]</span> <span hidden$="[[onlyConfirmingEmail]]">[[t('user.setEmailInfo')]]</span></div><form is="iron-form"id="form"><paper-input id="email"type="text"label="[[t('user.email')]]"value="{{email}}"pattern="[[emailValidationPattern]]"error-message="[[emailErrorMessage]]"></paper-input><template is="dom-if"if="[[needPassword]]"><div class="linkAccounts">[[t('user.existsLinkAccountInfo')]]</div><paper-input id="password"type="password"label="[[t('user.password')]]"value="{{password}}"autocomplete="off"error-message="[[passwordErrorMessage]]"></paper-input></template></form><div class="buttons"><yp-ajax id="setEmailAjax"dispatch-error=""method="PUT"url="/api/users/missingEmail/setEmail"on-response="_setEmailResponse"></yp-ajax><yp-ajax id="linkAccountsAjax"method="PUT"dispatch-error=""on-error="_registerError"url="/api/users/missingEmail/linkAccounts"on-response="_linkAccountsResponse"></yp-ajax><yp-ajax id="confirmEmailShownAjax"dispatch-error=""method="PUT"url="/api/users/missingEmail/emailConfirmationShown"></yp-ajax><paper-button on-tap="_logout"hidden$="[[onlyConfirmingEmail]]">[[t('user.logout')]]</paper-button><paper-button on-tap="_forgotPassword"hidden$="[[!needPassword]]">[[t('user.newPassword')]]</paper-button><paper-button raised=""on-tap="_notNow"hidden$="[[onlyConfirmingEmail]]">[[t('later')]]</paper-button><paper-button raised=""id="sendButton"autofocus=""on-tap="_validateAndSend"><span hidden$="[[linkAccountText]]"><span hidden$="[[onlyConfirmingEmail]]">[[t('user.setEmail')]] </span><span hidden$="[[!onlyConfirmingEmail]]">[[t('confirm')]] </span></span><span hidden$="[[!linkAccountText]]">[[t('user.linkAccount')]]</span></paper-button></div></paper-dialog><iron-a11y-keys id="a11y"keys="enter"on-keys-pressed="onEnter"></iron-a11y-keys></div></template></dom-module><script>Polymer({is:"yp-missing-email",behaviors:[Polymer.ypLanguageBehavior],properties:{emailValidationPattern:{type:String,value:"^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$"},emailErrorMessage:{type:String},passwordErrorMessage:{type:String},needPassword:{type:Boolean,value:!1},email:{type:String,value:""},password:{type:String,value:""},credentials:{type:String,notify:!0,computed:"_computeCredentials(email, password)"},linkAccountText:{type:Boolean,value:!1},heading:{type:String},target:{type:Object},onlyConfirmingEmail:{type:Boolean,value:!1},originalConfirmationEmail:{type:String,value:null}},onEnter:function(){this._validateAndSend()},_notNow:function(){window.appGlobals.activity("cancel","setEmail"),this.$$("#dialog").close()},_logout:function(){window.appGlobals.activity("logout","setEmail"),window.appUser.logout()},_forgotPassword:function(){window.appGlobals.activity("open","forgotPasswordFromSetEmail"),window.appUser.fire("yp-forgot-password",{email:this.email})},ready:function(){this.header=this.t("user.setEmail"),this.async(function(){this.$$("#a11y").target=this.$$("#form")}.bind(this),50)},_computeCredentials:function(i,t){return JSON.stringify({email:i,password:t})},_validateAndSend:function(){if(!this.$$("#form").checkValidity()||!this.email)return this.$$("#linkAccountsAjax").showErrorDialog(this.t("user.completeForm")),!1;this.needPassword&&this.password?(window.appGlobals.activity("confirm","linkAccountsAjax"),this.$$("#linkAccountsAjax").body=this.credentials,this.$$("#linkAccountsAjax").generateRequest()):(window.appGlobals.activity("confirm","setEmail"),this.originalConfirmationEmail&&this.originalConfirmationEmail==this.email?(window.appGlobals.notifyUserViaToast(this.t("userHaveSetEmail")+" "+this.email),this.close()):(this.$$("#setEmailAjax").body={email:this.email},this.$$("#setEmailAjax").generateRequest()))},_setEmailResponse:function(i,t){t.response&&t.response.alreadyRegistered?(this.set("needPassword",!0),this.set("header",this.t("user.linkAccount")),this.set("linkAccountText",!0)):(window.appGlobals.notifyUserViaToast(this.t("userHaveSetEmail")+" "+t.response.email),this.close()),this.$.dialog.fire("iron-resize")},_linkAccountsResponse:function(i,t){t.response.accountLinked?(window.appGlobals.notifyUserViaToast(this.t("userHaveLinkedAccounts")+" "+t.response.email),window.appUser.checkLogin(),this.close()):this.$$("#linkAccountsAjax").showErrorDialog(this.t("user.loginNotAuthorized")),this.$.dialog.fire("iron-resize")},open:function(i,t,e){this.set("onlyConfirmingEmail",t),e&&(this.set("email",e),this.set("originalConfirmationEmail",e)),this.$$("#dialog").open(),this.onlyConfirmingEmail&&(this.$.confirmEmailShownAjax.body={},this.$.confirmEmailShownAjax.generateRequest())},close:function(){this.$$("#dialog").close()}})</script><dom-module id="yp-registration-questions-dialog"assetpath="../yp-user/"><template><style include="iron-flex iron-flex-alignment">paper-dialog{background-color:#FFF;width:420px;}@media (max-width: 480px){paper-dialog{padding:0;margin:0;width:100%;}}[hidden]{display:none !important;}.buttons{margin-bottom:8px;margin-right:4px;text-align:center;}.heading{font-size:22px;font-weight:bold;text-align:center;}yp-registration-questions{margin-top:0;min-height:15px;margin-bottom:16px;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><div id="outer"><paper-dialog id="dialog"modal=""><div class="heading">[[t('registrationQuestionsInfo')]]</div><paper-dialog-scrollable id="scrollable"><yp-registration-questions id="registrationQuestions"on-dom-change="_questionsUpdated"on-question-changed="_questionsUpdated"on-resize-scroller="_questionsUpdated"group="[[registrationQuestionsGroup]]"></yp-registration-questions></paper-dialog-scrollable><div class="buttons"><yp-ajax id="sendRegistrationQuestionsAjax"dispatch-error=""method="PUT"url="/api/users/setRegistrationAnswers"on-response="_setRegistrationAnswerResponse"></yp-ajax><paper-button on-tap="_validateAndSend">[[t('save')]]</paper-button></div></paper-dialog><iron-a11y-keys id="a11y"keys="enter"on-keys-pressed="onEnter"></iron-a11y-keys></div></template></dom-module><script>Polymer({is:"yp-registration-questions-dialog",behaviors:[Polymer.ypLanguageBehavior],properties:{registrationQuestionsGroup:{type:Object}},onEnter:function(){this._validateAndSend()},_questionsUpdated:function(){this.async(function(){this.$$("#scrollable").fire("iron-resize")},100)},ready:function(){this.async(function(){this.$$("#a11y").target=this.$$("#registrationQuestions")}.bind(this),50)},_validateAndSend:function(){if(!this.$$("#registrationQuestions").validate())return this.$$("#sendRegistrationQuestionsAjax").showErrorDialog(this.t("user.completeForm")),!1;window.appGlobals.activity("submit","registrationAnswers"),this.$$("#sendRegistrationQuestionsAjax").body={registration_answers:this.$$("#registrationQuestions").getAnswers()},this.$$("#sendRegistrationQuestionsAjax").generateRequest(),window.appUser.setHasRegistrationAnswers()},_setRegistrationAnswerResponse:function(){this.close()},open:function(s){this.set("registrationQuestionsGroup",s),this.$$("#dialog").open()},close:function(){this.$$("#dialog").close()}})</script><dom-module id="yp-forgot-password"assetpath="../yp-user/"><template><style include="iron-flex iron-flex-alignment">paper-dialog{padding-left:8px;padding-right:8px;width:420px;background-color:#fff;z-index:9999;}@media (max-width: 480px){paper-dialog{padding:0;margin:0;height:100%;width:100%;}}[hidden]{display:none !important;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><paper-dialog id="dialog"><h3>[[t('user.forgotPassword')]]</h3><p hidden$="[[emailHasBeenSent]]">[[t('user.forgotPasswordInstructions')]]<p hidden$="[[!emailHasBeenSent]]">[[t('user.forgotPasswordEmailHasBeenSent')]]<form is="iron-form"id="form"><paper-input id="email"type="text"label="[[t('email')]]"value="{{email}}"pattern="[[emailValidationPattern]]"hidden$="[[emailHasBeenSent]]"error-message="[[emailErrorMessage]]"></paper-input></form><div class="buttons"hidden$="[[emailHasBeenSent]]"><yp-ajax id="forgotPasswordAjax"method="POST"url="/api/users/forgot_password"on-error="_forgotPasswordError"on-response="_forgotPasswordResponse"></yp-ajax><paper-button dialog-dismiss="">[[t('cancel')]]</paper-button><paper-button autofocus=""on-tap="_validateAndSend">[[t('user.forgotPassword')]]</paper-button></div><div class="buttons"hidden$="[[!emailHasBeenSent]]"><paper-button dialog-dismiss="">[[t('ok')]]</paper-button></div></paper-dialog><iron-a11y-keys id="a11y"keys="enter"on-keys-pressed="onEnter"></iron-a11y-keys></template></dom-module><script>Polymer({is:"yp-forgot-password",behaviors:[Polymer.ypLanguageBehavior],properties:{email:{type:String,value:""},emailHasBeenSent:{type:Boolean,value:!1},emailValidationPattern:{type:String,value:"^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$"},emailErrorMessage:{type:String},isSending:{type:Boolean,value:!1}},onEnter:function(e){e.stopPropagation(),this._validateAndSend()},_validateAndSend:function(){if(!this.$.form.checkValidity()||!this.email)return!1;this.isSending||(this.set("isSending",!0),this.$.forgotPasswordAjax.body=JSON.stringify({email:this.email}),this.$.forgotPasswordAjax.generateRequest())},_forgotPasswordError:function(){this.set("isSending",!1)},_forgotPasswordResponse:function(){this.set("isSending",!1),window.appGlobals.notifyUserViaToast(this.t("user.forgotPasswordEmailHasBeenSent")),this.emailHasBeenSent=!0},_loginCompleted:function(e){window.appUser.setLoggedInUser(e),this.fire("login",e)},open:function(e){e&&e.email&&this.set("email",e.email),this.$.dialog.open()},close:function(){this.$.dialog.close()}})</script><dom-module id="yp-reset-password"assetpath="../yp-user/"><template><style include="iron-flex iron-flex-alignment">paper-dialog{padding-left:8px;padding-right:8px;width:420px;background-color:#fff;z-index:9999;}@media (max-width: 480px){paper-dialog{padding:0;margin:0;height:100%;width:100%;}}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><paper-dialog id="dialog"modal=""><h3>[[t('user.resetPassword')]]</h3><p>[[t('user.resetPasswordInstructions')]]<form is="iron-form"id="form"><paper-input id="password"type="password"label="[[t('password')]]"value="{{password}}"autocomplete="off"error-message="[[passwordErrorMessage]]"></paper-input></form><div class="buttons"><yp-ajax id="resetPasswordAjax"method="POST"on-response="_resetPasswordResponse"></yp-ajax><paper-button on-tap="_cancel"dialog-dismiss="">[[t('cancel')]]</paper-button><paper-button autofocus=""on-tap="_validateAndSend">[[t('user.resetPassword')]]</paper-button></div></paper-dialog><iron-a11y-keys id="a11y"keys="enter"on-keys-pressed="onEnter"></iron-a11y-keys></template></dom-module><script>Polymer({is:"yp-reset-password",behaviors:[Polymer.ypLanguageBehavior],properties:{password:{type:String,value:""},token:{type:String},passwordErrorMessage:{type:String}},onEnter:function(s){s.stopPropagation(),this._validateAndSend()},_validateAndSend:function(){this.$.form.checkValidity()&&this.password&&(this.$.resetPasswordAjax.url="/api/users/reset/"+this.token,this.$.resetPasswordAjax.body=JSON.stringify({password:this.password}),this.$.resetPasswordAjax.generateRequest())},_resetPasswordResponse:function(s,e){e.response.error&&"not_found"==e.response.error?this.$.resetPasswordAjax.showErrorDialog(this.t("errorResetTokenNotFoundOrUsed")):(this.close(),window.appGlobals.notifyUserViaToast(this.t("notification.passwordResetAndLoggedIn")),this._loginCompleted(e.response),window.location="/")},_cancel:function(){window.location="/"},_loginCompleted:function(s){window.appUser.setLoggedInUser(s),this.fire("login",s)},open:function(s){s&&(this.token=s),this.$.dialog.open()},close:function(){this.$.dialog.close()}})</script><dom-module id="yp-page-dialog"assetpath="../yp-page/"><template><style include="iron-flex iron-flex-alignment">#dialog{background-color:#FFF;max-width:50%;}@media (max-width: 1100px){#dialog{max-width:80%;}}@media (max-width: 600px){#dialog{max-width:100%;}paper-dialog{padding:0;margin:0;}}paper-dialog[rtl]{direction:rtl;}paper-button{font-weight:bold;}[hidden]{display:none !important;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><paper-dialog id="dialog"rtl$="[[rtl]]"><div hidden$="[[!pageTitle]]"><h2>[[pageTitle]]</h2></div><paper-dialog-scrollable><div id="content"></div></paper-dialog-scrollable><div class="buttons"><paper-button on-tap="_close"dialog-dismiss="">[[t('close')]]</paper-button></div></paper-dialog></template><script>Polymer({is:"yp-page-dialog",behaviors:[Polymer.ypLanguageBehavior],properties:{title:{type:String},page:Object,pageTitle:{type:String,computed:"_pageTitle(page, language)"},rtl:{type:Boolean,value:!1}},_pageTitle:function(e){return e?e.title:""},open:function(e,t){this.set("title",e),this.$.content.innerHTML=t,this.$.dialog.fit(),this.$.dialog.notifyResize(),this.$.dialog.open()},_close:function(){this.set("title",null),this.$.content.innerHTML="",window.appGlobals.activity("close","pages")}})</script></dom-module><dom-module id="yp-accept-invite"assetpath="../yp-user/"><template><style include="iron-flex iron-flex-alignment">paper-dialog{padding-left:8px;padding-right:8px;width:420px;background-color:#fff;z-index:9999;}@media (max-width: 480px){paper-dialog{padding:0;margin:0;height:100%;width:100%;}}b{padding:0;margin:0;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><paper-dialog id="dialog"modal=""><h3>[[t('user.acceptInvite')]]</h3><div class="layout vertical"><div>[[inviteName]] [[t('user.hasSentYouAndInvitation')]]:<br><b>[[targetName]]</b></div><p>[[t('user.acceptInviteInstructions')]]</div><div class="buttons"><yp-ajax id="acceptInviteAjax"method="POST"dispatch-error=""on-error="_inviteError"on-response="_acceptInviteResponse"></yp-ajax><yp-ajax id="getInviteSenderAjax"dispatch-error=""method="GET"on-error="_inviteError"on-response="_getInviteSenderResponse"></yp-ajax><paper-button on-tap="_cancel"dialog-dismiss="">[[t('cancel')]]</paper-button><paper-button autofocus=""on-tap="_acceptInvite">[[t('user.acceptInvite')]]</paper-button></div></paper-dialog></template></dom-module><script>Polymer({is:"yp-accept-invite",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypGotoBehavior],properties:{token:{type:String},errorMessage:{type:String},inviteName:{type:String},targetName:String,targetEmail:{type:String,value:null},collectionConfiguration:{type:Object,value:null}},_inviteError:function(){this.$.acceptInviteAjax.showErrorDialog(this.t("inviteNotFoundOrAlreadyUsed")),this.close()},_checkInviteSender:function(){this.token?(this.$.getInviteSenderAjax.url="/api/users/get_invite_info/"+this.token,this.$.getInviteSenderAjax.generateRequest()):console.warn("Can't find token for _checkInviteSender")},_acceptInvite:function(){window.appUser&&!0===window.appUser.loggedIn()?this._reallyAcceptInvite():window.appUser.loginForAcceptInvite(this,this.token,this.targetEmail,this.collectionConfiguration)},afterLogin:function(e){this.token||this.set("token",e),this._reallyAcceptInvite()},_reallyAcceptInvite:function(){this.$.acceptInviteAjax.url="/api/users/accept_invite/"+this.token,this.$.acceptInviteAjax.body={},this.$.acceptInviteAjax.generateRequest()},_getInviteSenderResponse:function(e,t){this.set("inviteName",t.response.inviteName),this.set("targetName",t.response.targetName),this.set("targetEmail",t.response.targetEmail),this.set("collectionConfiguration",t.response.configuration)},_acceptInviteResponse:function(e,t){window.appGlobals.notifyUserViaToast(this.t("notification.invite_accepted_for")+" "+t.response.name),console.debug("_acceptInviteResponse: redirectTo: "+t.response.redirectTo),this.close(),this.redirectTo(t.response.redirectTo)},_cancel:function(){window.location="/"},open:function(e){console.info("Opened user yp-accept-invite"),e&&this.set("token",e),this._checkInviteSender(),this.$.dialog.open()},reOpen:function(e){console.info("Repened user yp-accept-invite"),e&&this.set("token",e),this.$.dialog.open()},close:function(){this.$.dialog.close()}})</script><dom-module id="yp-autotranslate-dialog"assetpath="../yp-dialog-container/"><template><style include="iron-flex iron-flex-alignment">paper-dialog{background-color:#FFF;max-width:400px;}iron-icon{color:var(--accent-color);width:48px;height:48px;margin-bottom:16px;}.infoText{font-size:18px;margin-bottom:8px;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><yp-language-selector hidden=""id="languageSelector"></yp-language-selector><paper-dialog id="dialog"><div class="layout vertical center-center"><div><iron-icon icon="translate"></iron-icon></div><div class="infoText">[[t('shouldAutoTranslateInfo')]]</div></div><div class="buttons"><paper-button on-tap="_dontAskAgain"dialog-dismiss="">[[t('never')]]</paper-button><paper-button dialog-dismiss=""on-tap="_no">[[t('no')]]</paper-button><paper-button dialog-confirm=""on-tap="_startAutoTranslate">[[t('yes')]]</paper-button><paper-button dialog-confirm=""on-tap="_startAutoTranslateAndDoSoAlways">[[t('always')]]</paper-button></div></paper-dialog></template><script>Polymer({is:"yp-autotranslate-dialog",behaviors:[Polymer.ypLanguageBehavior],_no:function(){sessionStorage.setItem("dontPromptForAutoTranslation",!0)},_dontAskAgain:function(){localStorage.setItem("dontPromptForAutoTranslation",!0)},_startAutoTranslateAndDoSoAlways:function(){this._startAutoTranslate(),localStorage.setItem("alwaysStartAutoTranslation",!0)},_startAutoTranslate:function(){this.$.languageSelector._startTranslation()},openLaterIfAutoTranslationEnabled:function(){this.async(function(){!1===this.$.dialog.opened&&!0===this.$.languageSelector.canUseAutoTranslate&&!0!==window.autoTranslate&&(null!=localStorage.getItem("alwaysStartAutoTranslation")?this._startAutoTranslate():this.$.dialog.open())},750)}})</script></dom-module><script>!function(t,e){var r,a,o,s,u,l,c,f,h,i,n,K={},B={},m={};function d(t){return t._timing.delay+t.activeDuration+t._timing.endDelay}function p(t,e,i){this._id=i,this._parent=null,this.children=t||[],this._reparent(this.children),e=r.numericTimingToObject(e),this._timingInput=r.cloneTimingInput(e),this._timing=r.normalizeTimingInput(e,!0),this.timing=r.makeTiming(e,!0,this),"auto"===(this.timing._effect=this)._timing.duration&&(this._timing.duration=this.activeDuration)}function _(t,e){return t in n&&n[t][e]||e}function g(t,e,i){if("display"!==(s=t)&&0!==s.lastIndexOf("animation",0)&&0!==s.lastIndexOf("transition",0)){var n=f[t];if(n)for(var r in h.style[t]=e,n){var a=n[r],o=h.style[a];i[a]=_(a,o)}else i[t]=_(t,e)}var s}function v(t){var e=[];for(var i in t)if(!(i in["easing","offset","composite"])){var n=t[i];Array.isArray(n)||(n=[n]);for(var r,a=n.length,o=0;o<a;o++)(r={}).offset="offset"in t?t.offset:1==a?1:o/(a-1),"easing"in t&&(r.easing=t.easing),"composite"in t&&(r.composite=t.composite),r[i]=n[o],e.push(r)}return e.sort(function(t,e){return t.offset-e.offset}),e}!function(r){function a(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=h}function i(){return r.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function n(e,t,i){var n=new a;return t&&(n.fill="both",n.duration="auto"),"number"!=typeof e||isNaN(e)?void 0!==e&&Object.getOwnPropertyNames(e).forEach(function(t){if("auto"!=e[t]){if(("number"==typeof n[t]||"duration"==t)&&("number"!=typeof e[t]||isNaN(e[t])))return;if("fill"==t&&-1==l.indexOf(e[t]))return;if("direction"==t&&-1==c.indexOf(e[t]))return;if("playbackRate"==t&&1!==e[t]&&r.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;n[t]=e[t]}}):n.duration=e,n}function o(u,l,c,f){return u<0||1<u||c<0||1<c?h:function(t){function e(t,e,i){return 3*t*(1-i)*(1-i)*i+3*e*(1-i)*i*i+i*i*i}if(t<=0){var i=0;return 0<u?i=l/u:!l&&0<c&&(i=f/c),i*t}if(1<=t){var n=0;return c<1?n=(f-1)/(c-1):1==c&&u<1&&(n=(l-1)/(u-1)),1+n*(t-1)}for(var r=0,a=1;r<a;){var o=(r+a)/2,s=e(u,c,o);if(Math.abs(t-s)<1e-5)return e(l,f,o);s<t?r=o:a=o}return e(l,f,o)}}function s(i,n){return function(t){if(1<=t)return 1;var e=1/i;return(t+=n*e)-t%e}}function e(t){(_=_||document.createElement("div").style).animationTimingFunction="",_.animationTimingFunction=t;var e=_.animationTimingFunction;if(""==e&&i())throw new TypeError(t+" is not a valid value for easing");return e}function u(t){if("linear"==t)return h;var e=g.exec(t);if(e)return o.apply(this,e.slice(1).map(Number));var i=v.exec(t);return i?s(+i[1],{start:f,middle:m,end:d}[i[2]]):p[t]||h}function P(t,e,i){if(null==e)return k;var n=i.delay+t+i.endDelay;return e<Math.min(i.delay,n)?R:e>=Math.min(i.delay+t,n)?N:S}var l="backwards|forwards|both|none".split("|"),c="reverse|alternate|alternate-reverse".split("|"),h=function(t){return t};a.prototype={_setMember:function(t,e){this["_"+t]=e,this._effect&&(this._effect._timingInput[t]=e,this._effect._timing=r.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=r.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(t){this._setMember("delay",t)},get delay(){return this._delay},set endDelay(t){this._setMember("endDelay",t)},get endDelay(){return this._endDelay},set fill(t){this._setMember("fill",t)},get fill(){return this._fill},set iterationStart(t){if((isNaN(t)||t<0)&&i())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",t)},get iterationStart(){return this._iterationStart},set duration(t){if("auto"!=t&&(isNaN(t)||t<0)&&i())throw new TypeError("duration must be non-negative or auto, received: "+t);this._setMember("duration",t)},get duration(){return this._duration},set direction(t){this._setMember("direction",t)},get direction(){return this._direction},set easing(t){this._easingFunction=u(e(t)),this._setMember("easing",t)},get easing(){return this._easing},set iterations(t){if((isNaN(t)||t<0)&&i())throw new TypeError("iterations must be non-negative, received: "+t);this._setMember("iterations",t)},get iterations(){return this._iterations}};var f=1,m=.5,d=0,p={ease:o(.25,.1,.25,1),"ease-in":o(.42,0,1,1),"ease-out":o(0,0,.58,1),"ease-in-out":o(.42,0,.58,1),"step-start":s(1,f),"step-middle":s(1,m),"step-end":s(1,d)},_=null,g=/cubic-bezier\(\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*,\s*(-?\d+\.?\d*|-?\.\d+)\s*\)/,v=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,k=0,R=1,N=2,S=3;r.cloneTimingInput=function(t){if("number"==typeof t)return t;var e={};for(var i in t)e[i]=t[i];return e},r.makeTiming=n,r.numericTimingToObject=function(t){return"number"==typeof t&&(t=isNaN(t)?{duration:0}:{duration:t}),t},r.normalizeTimingInput=function(t,e){return n(t=r.numericTimingToObject(t),e)},r.calculateActiveDuration=function(t){return Math.abs((0===(e=t).duration||0===e.iterations?0:e.duration*e.iterations)/t.playbackRate);var e},r.calculateIterationProgress=function(t,e,i){var n=P(t,e,i),r=function(t,e,i,n,r){switch(n){case R:return"backwards"==e||"both"==e?0:null;case S:return i-r;case N:return"forwards"==e||"both"==e?t:null;case k:return null}}(t,i.fill,e,n,i.delay);if(null===r)return null;var a,o,s,u,l,c,f,h,m,d,p,_,g,v,y,b,T,w=(_=i.duration,g=n,v=i.iterations,y=r,b=i.iterationStart,T=b,0===_?g!==R&&(T+=v):T+=y/_,T),x=(l=w,c=i.iterationStart,f=n,h=i.iterations,m=r,d=i.duration,0!==(p=l===1/0?c%1:l%1)||f!==N||0===h||0===m&&0!==d||(p=1),p),E=(a=n,o=i.iterations,s=x,u=w,a===N&&o===1/0?1/0:1===s?Math.floor(u)-1:Math.floor(u)),A=function(t,e,i){var n=t;if("normal"!==t&&"reverse"!==t){var r=e;"alternate-reverse"===t&&(r+=1),n="normal",r!==1/0&&0!=r%2&&(n="reverse")}return"normal"===n?i:1-i}(i.direction,E,x);return i._easingFunction(A)},r.calculatePhase=P,r.normalizeEasing=e,r.parseEasingFunction=u}(K),c=K,f={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},h=document.createElementNS("http://www.w3.org/1999/xhtml","div"),n={borderBottomWidth:i={thin:"1px",medium:"3px",thick:"5px"},borderLeftWidth:i,borderRightWidth:i,borderTopWidth:i,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:i,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}},c.convertToArrayForm=v,c.normalizeKeyframes=function(t){if(null==t)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&t[Symbol.iterator]&&(t=Array.from(t)),Array.isArray(t)||(t=v(t));for(var e,o=t.map(function(t){var e={};for(var i in t){var n=t[i];if("offset"==i){if(null!=n){if(n=+n,!isFinite(n))throw new TypeError("Keyframe offsets must be numbers.");if(n<0||1<n)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==i){if("add"==n||"accumulate"==n)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=n)throw new TypeError("Invalid composite mode "+n+".")}else n="easing"==i?c.normalizeEasing(n):""+n;g(i,n,e)}return null==e.offset&&(e.offset=null),null==e.easing&&(e.easing="linear"),e}),i=!0,n=-1/0,r=0;r<o.length;r++)if(null!=(e=o[r].offset)){if(e<n)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");n=e}else i=!1;return o=o.filter(function(t){return 0<=t.offset&&t.offset<=1}),i||function(){var t=o.length;null==o[t-1].offset&&(o[t-1].offset=1),1<t&&null==o[0].offset&&(o[0].offset=0);for(var e,i=0,n=o[0].offset,r=1;r<t;r++)if(null!=(e=o[r].offset)){for(var a=1;a<r-i;a++)o[i+a].offset=n+(e-n)*a/(r-i);i=r,n=e}}(),o},l={},(u=K).isDeprecated=function(t,e,i,n){var r=n?"are":"is",a=new Date,o=new Date(e);return o.setMonth(o.getMonth()+3),!(a<o&&(t in l||console.warn("Web Animations: "+t+" "+r+" deprecated and will stop working on "+o.toDateString()+". "+i),l[t]=!0))},u.deprecated=function(t,e,i,n){var r=n?"are":"is";if(u.isDeprecated(t,e,i,n))throw new Error(t+" "+r+" no longer supported. "+i)},function(){if(document.documentElement.animate){var e=document.documentElement.animate([],0),i=!0;if(e&&(i=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(t){void 0===e[t]&&(i=!0)})),!i)return}function t(e,t){t.concat([e]).forEach(function(t){t in document.documentElement.style&&(r[e]=t),a[t]=e})}var n,r,a,A,o,d,p,P,s,u,l,c,f,h,m,_,g,v,y,b;function T(t){return function(e){var i=0;return t.map(function(t){return t===o?e[i++]:t})}}function w(t){return t}function x(t){if("none"==(t=t.toLowerCase().trim()))return[];for(var e,i=/\s*(\w+)\(([^)]*)\)/g,n=[],r=0;e=i.exec(t);){if(e.index!=r)return;r=e.index+e[0].length;var a=e[1],o=P[a];if(!o)return;var s=e[2].split(","),u=o[0];if(u.length<s.length)return;for(var l=[],c=0;c<u.length;c++){var f,h=s[c],m=u[c];if(void 0===(f=h?{A:function(t){return"0"==t.trim()?p:A.parseAngle(t)},N:A.parseNumber,T:A.parseLengthOrPercent,L:A.parseLength}[m.toUpperCase()](h):{a:p,n:l[0],t:d}[m]))return;l.push(f)}if(n.push({t:a,d:l}),i.lastIndex==t.length)return n}}function E(t){return t.toFixed(6).replace(".000000","")}function k(e,i){if(e.decompositionPair!==i){e.decompositionPair=i;var n=A.makeMatrixDecomposition(e)}if(i.decompositionPair!==e){i.decompositionPair=e;var r=A.makeMatrixDecomposition(i)}return null==n[0]||null==r[0]?[[!1],[!0],function(t){return t?i[0].d:e[0].d}]:(n[0].push(0),r[0].push(1),[n,r,function(t){var e=A.quat(n[0][3],r[0][3],t[5]);return A.composeMatrix(t[0],t[1],t[2],e,t[4]).map(E).join(",")}])}function R(t){return t.replace(/[xy]/,"")}function N(t){return t.replace(/(x|y|z|3d)?$/,"3d")}function S(t){return s.consumeLengthOrPercent(t)||s.consumeToken(/^auto/,t)}function C(t){var e=s.consumeList([s.ignore(s.consumeToken.bind(null,/^rect/)),s.ignore(s.consumeToken.bind(null,/^\(/)),s.consumeRepeated.bind(null,S,/^,/),s.ignore(s.consumeToken.bind(null,/^\)/))],t);if(e&&4==e[0].length)return e[0]}function D(t){return t.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function F(t,e,i){return Math.min(e,Math.max(t,i))}function O(t){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t))return+t}function L(i,n){return function(t,e){return[t,e,function(t){return D(F(i,n,t))}]}}function M(t){var e=t.trim().split(/\s*[\s,]\s*/);if(0!==e.length){for(var i,n=[],r=0;r<e.length;r++){if(void 0===(i=O(e[r])))return;n.push(i)}return n}}function I(t){var i={inset:!1,lengths:[],color:null},e=c.consumeRepeated(function(t){var e;return(e=c.consumeToken(/^inset/i,t))?(i.inset=!0,e):(e=c.consumeLengthOrPercent(t))?(i.lengths.push(e[0]),e):(e=c.consumeColor(t))?(i.color=e[0],e):void 0},/^/,t);if(e&&e[0].length)return[i,e[1]]}function H(t,e){var i=t.exec(e);if(i)return[i=t.ignoreCase?i[0].toLowerCase():i[0],e.substr(i.length)]}function W(t,e){var i=t(e=e.replace(/^\s*/,""));if(i)return[i[0],i[1].replace(/^\s*/,"")]}function z(i,t,n,e,r){for(var a,o=[],s=[],u=[],l=function(t,e){for(var i=t,n=e;i&&n;)n<i?i%=n:n%=i;return t*e/(i+n)}(e.length,r.length),c=0;c<l;c++){if(!(a=t(e[c%e.length],r[c%r.length])))return;o.push(a[0]),s.push(a[1]),u.push(a[2])}return[o,s,function(t){var e=t.map(function(t,e){return u[e](t)}).join(n);return i?i(e):e}]}function q(e){function t(t){return g.calculateIterationProgress(i,t,e)}var i=g.calculateActiveDuration(e);return t._totalDuration=e.delay+i+e.endDelay,t}y=K,(b=B).convertEffectInput=function(t){var e=function(t){for(var e={},i=0;i<t.length;i++)for(var n in t[i])if("offset"!=n&&"easing"!=n&&"composite"!=n){var r={offset:t[i].offset,easing:t[i].easing,value:t[i][n]};e[n]=e[n]||[],e[n].push(r)}for(var a in e){var o=e[a];if(0!=o[0].offset||1!=o[o.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return e}(y.normalizeKeyframes(t)),i=function(t){var e=[];for(var i in t)for(var n=t[i],r=0;r<n.length-1;r++){var a=r,o=r+1,s=n[a].offset,u=n[o].offset,l=s,c=u;0==r&&(l=-1/0,0==u&&(o=a)),r==n.length-2&&(c=1/0,1==s&&(a=o)),e.push({applyFrom:l,applyTo:c,startOffset:n[a].offset,endOffset:n[o].offset,easingFunction:y.parseEasingFunction(n[a].easing),property:i,interpolation:b.propertyInterpolation(i,n[a].value,n[o].value)})}return e.sort(function(t,e){return t.startOffset-e.startOffset}),e}(e);return function(r,a){if(null!=a)i.filter(function(t){return a>=t.applyFrom&&a<t.applyTo}).forEach(function(t){var e=a-t.startOffset,i=t.endOffset-t.startOffset,n=0==i?0:t.easingFunction(e/i);b.apply(r,t.property,t.interpolation(n))});else for(var t in e)"offset"!=t&&"easing"!=t&&"composite"!=t&&b.clear(r,t)}},function(c,f){function h(t){return t.replace(/-(.)/g,function(t,e){return e.toUpperCase()})}var m={};f.addPropertiesHandler=function(t,e,i){for(var n=0;n<i.length;n++)r=t,a=e,o=h(i[n]),m[o]=m[o]||[],m[o].push([r,a]);var r,a,o};var d={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};f.propertyInterpolation=function(t,e,i){var n=t;/-/.test(t)&&!c.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(n=h(t)),"initial"!=e&&"initial"!=i||("initial"==e&&(e=d[n]),"initial"==i&&(i=d[n]));for(var r=e==i?[]:m[n],a=0;r&&a<r.length;a++){var o=r[a][0](e),s=r[a][0](i);if(void 0!==o&&void 0!==s){var u=r[a][1](o,s);if(u){var l=f.Interpolation.apply(null,u);return function(t){return 0==t?e:1==t?i:l(t)}}}}return f.Interpolation(!1,!0,function(t){return t?i:e})}}(K,B),g=K,(v=B).KeyframeEffect=function(e,t,i,n){function r(){s(e,a)}var a,o=q(g.normalizeTimingInput(i)),s=v.convertEffectInput(t);return r._update=function(t){return null!==(a=o(t))},r._clear=function(){s(e,null)},r._hasSameTarget=function(t){return e===t},r._target=e,r._totalDuration=o._totalDuration,r._id=n,r},(_=B).apply=function(t,e,i){t.style[_.propertyName(e)]=i},_.clear=function(t,e){t.style[_.propertyName(e)]=""},m=B,window.Element.prototype.animate=function(t,e){var i="";return e&&e.id&&(i=e.id),m.timeline._play(m.KeyframeEffect(this,t,e,i))},B.Interpolation=function(e,i,n){return function(t){return n(function t(e,i,n){if("number"==typeof e&&"number"==typeof i)return e*(1-n)+i*n;if("boolean"==typeof e&&"boolean"==typeof i)return n<.5?e:i;if(e.length!=i.length)throw"Mismatched interpolation arguments "+e+":"+i;for(var r=[],a=0;a<e.length;a++)r.push(t(e[a],i[a],n));return r}(e,i,t))}},function(e,i){e.sequenceNumber=0;function n(t,e,i){this.target=t,this.currentTime=e,this.timelineTime=i,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=t,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()}i.Animation=function(t){this.id="",t&&t._id&&(this.id=t._id),this._sequenceNumber=e.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=t,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},i.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,i.timeline._animations.push(this))},_tickCurrentTime:function(t,e){t!=this._currentTime&&(this._currentTime=t,this._isFinished&&!e&&(this._currentTime=0<this._playbackRate?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(t){t=+t,isNaN(t)||(i.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-t/this._playbackRate),this._currentTimePending=!1,this._currentTime!=t&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(t,!0),i.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(t){t=+t,isNaN(t)||this._paused||this._idle||(this._startTime=t,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),i.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(t){if(t!=this._playbackRate){var e=this.currentTime;this._playbackRate=t,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),i.applyDirtiedAnimation(this)),null!=e&&(this.currentTime=e)}},get _isFinished(){return!this._idle&&(0<this._playbackRate&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(0<=this._playbackRate)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),i.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=0<this._playbackRate?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,i.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._isFinished=!0,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),i.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(t,e){"function"==typeof e&&"finish"==t&&this._finishHandlers.push(e)},removeEventListener:function(t,e){if("finish"==t){var i=this._finishHandlers.indexOf(e);0<=i&&this._finishHandlers.splice(i,1)}},_fireEvents:function(t){if(this._isFinished){if(!this._finishedFlag){var e=new n(this,this._currentTime,t),i=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){i.forEach(function(t){t.call(e.target,e)})},0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(t,e){this._idle||this._paused||(null==this._startTime?e&&(this.startTime=t-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((t-this._startTime)*this.playbackRate)),e&&(this._currentTimePending=!1,this._fireEvents(t))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var t=this._effect._target;return t._activeAnimations||(t._activeAnimations=[]),t._activeAnimations},_markTarget:function(){var t=this._targetAnimations();-1===t.indexOf(this)&&t.push(this)},_unmarkTarget:function(){var t=this._targetAnimations(),e=t.indexOf(this);-1!==e&&t.splice(e,1)}}}(K,B),function(i,u){function n(e){var t=l;l=[],e<d.currentTime&&(e=d.currentTime),d._animations.sort(r),d._animations=o(e,!0,d._animations)[0],t.forEach(function(t){t[1](e)}),a(),void 0}function r(t,e){return t._sequenceNumber-e._sequenceNumber}function t(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function a(){h.forEach(function(t){t()}),h.length=0}function o(i,n,t){e=!(m=!0),u.timeline.currentTime=i,f=!1;var r=[],a=[],o=[],s=[];return t.forEach(function(t){t._tick(i,n),t._inEffect?(a.push(t._effect),t._markTarget()):(r.push(t._effect),t._unmarkTarget()),t._needsTick&&(f=!0);var e=t._inEffect||t._needsTick;(t._inTimeline=e)?o.push(t):s.push(t)}),h.push.apply(h,r),h.push.apply(h,a),f&&requestAnimationFrame(function(){}),m=!1,[o,s]}var s=window.requestAnimationFrame,l=[],c=0;window.requestAnimationFrame=function(t){var e=c++;return 0==l.length&&s(n),l.push([e,t]),e},window.cancelAnimationFrame=function(e){l.forEach(function(t){t[0]==e&&(t[1]=function(){})})};var f=!(t.prototype={_play:function(t){t._timing=i.normalizeTimingInput(t.timing);var e=new u.Animation(t);return e._idle=!1,(e._timeline=this)._animations.push(e),u.restart(),u.applyDirtiedAnimation(e),e}}),e=!1;u.restart=function(){return f||(f=!0,requestAnimationFrame(function(){}),e=!0),e},u.applyDirtiedAnimation=function(t){if(!m){t._markTarget();var e=t._targetAnimations();e.sort(r),o(u.timeline.currentTime,!1,e.slice())[1].forEach(function(t){var e=d._animations.indexOf(t);-1!==e&&d._animations.splice(e,1)}),a()}};var h=[],m=!1,d=new t;u.timeline=d}(K,B),(h=B).consumeToken=H,h.consumeTrimmed=W,h.consumeRepeated=function(t,e,i){t=W.bind(null,t);for(var n,r=[];;){if(!(n=t(i)))return[r,i];if(r.push(n[0]),!(n=H(e,i=n[1]))||""==n[1])return[r,i];i=n[1]}},h.consumeParenthesised=function(t,e){for(var i=0,n=0;n<e.length&&(!/\s|,/.test(e[n])||0!=i);n++)if("("==e[n])i++;else if(")"==e[n]&&(0==--i&&n++,i<=0))break;var r=t(e.substr(0,n));return null==r?void 0:[r,e.substr(n)]},h.ignore=function(i){return function(t){var e=i(t);return e&&(e[0]=void 0),e}},h.optional=function(e,i){return function(t){return e(t)||[i,t]}},h.consumeList=function(t,e){for(var i,n=[],r=0;r<t.length;r++){if(!(i=h.consumeTrimmed(t[r],e))||""==i[0])return;void 0!==i[0]&&n.push(i[0]),e=i[1]}if(""==e)return n},h.mergeNestedRepeated=z.bind(null,null),h.mergeWrappedNestedRepeated=z,h.mergeList=function(t,e,i){for(var n=[],r=[],a=[],o=0,s=0;s<i.length;s++)if("function"==typeof i[s]){var u=i[s](t[o],e[o++]);n.push(u[0]),r.push(u[1]),a.push(u[2])}else!function(t){n.push(!1),r.push(!1),a.push(function(){return i[t]})}(s);return[n,r,function(t){for(var e="",i=0;i<t.length;i++)e+=a[i](t[i]);return e}]},c=B,f=function(t,e,i,n){function r(t){return{inset:t,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var a=[],o=[],s=0;s<i.length||s<n.length;s++){var u=i[s]||r(n[s].inset),l=n[s]||r(i[s].inset);a.push(u),o.push(l)}return c.mergeNestedRepeated(t,e,a,o)}.bind(null,function(n,t){for(;n.lengths.length<Math.max(n.lengths.length,t.lengths.length);)n.lengths.push({px:0});for(;t.lengths.length<Math.max(n.lengths.length,t.lengths.length);)t.lengths.push({px:0});if(n.inset==t.inset&&!!n.color==!!t.color){for(var r,e,a=[],i=[[],0],o=[[],0],s=0;s<n.lengths.length;s++)e=c.mergeDimensions(n.lengths[s],t.lengths[s],2==s),i[0].push(e[0]),o[0].push(e[1]),a.push(e[2]);if(n.color&&t.color){var u=c.mergeColors(n.color,t.color);i[1]=u[0],o[1]=u[1],r=u[2]}return[i,o,function(t){for(var e=n.inset?"inset ":" ",i=0;i<a.length;i++)e+=a[i](t[0][i])+" ";return r&&(e+=r(t[1])),e}]}},", "),c.addPropertiesHandler(function(t){var e=c.consumeRepeated(I,/^,/,t);if(e&&""==e[1])return e[0]},f,["box-shadow","text-shadow"]),(l=B).clamp=F,l.addPropertiesHandler(M,function(t,e){if(t.length==e.length)return[t,e,function(t){return t.map(D).join(" ")}]},["stroke-dasharray"]),l.addPropertiesHandler(O,L(0,1/0),["border-image-width","line-height"]),l.addPropertiesHandler(O,L(0,1),["opacity","shape-image-threshold"]),l.addPropertiesHandler(O,function(t,e){if(0!=t)return L(0,1/0)(t,e)},["flex-grow","flex-shrink"]),l.addPropertiesHandler(O,function(t,e){return[t,e,function(t){return Math.round(F(1,1/0,t))}]},["orphans","widows"]),l.addPropertiesHandler(O,function(t,e){return[t,e,Math.round]},["z-index"]),l.parseNumber=O,l.parseNumberList=M,l.mergeNumbers=function(t,e){return[t,e,D]},l.numberToString=D,B.addPropertiesHandler(String,function(e,i){if("visible"==e||"visible"==i)return[0,1,function(t){return t<=0?e:1<=t?i:"visible"}]},["visibility"]),function(n){function t(t){t=t.trim(),r.fillStyle="#000",r.fillStyle=t;var e=r.fillStyle;if(r.fillStyle="#fff",r.fillStyle=t,e==r.fillStyle){r.fillRect(0,0,1,1);var i=r.getImageData(0,0,1,1).data;r.clearRect(0,0,1,1);var n=i[3]/255;return[i[0]*n,i[1]*n,i[2]*n,n]}}function e(t,e){return[t,e,function(t){if(t[3])for(var e=0;e<3;e++)t[e]=Math.round((i=t[e]/t[3],Math.max(0,Math.min(255,i))));var i;return t[3]=n.numberToString(n.clamp(0,1,t[3])),"rgba("+t.join(",")+")"}]}var i=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");i.width=i.height=1;var r=i.getContext("2d");n.addPropertiesHandler(t,e,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),n.consumeColor=n.consumeParenthesised.bind(null,t),n.mergeColors=e}(B),function(a){function l(e){function n(){var t=s.exec(e);o=t?t[0]:void 0}function r(){if("("!==o)return t=+o,n(),t;var t;n();var e=i();return")"!==o?NaN:(n(),e)}function a(){for(var t,e=r();"*"===o||"/"===o;){t=o,n();var i=r();"*"===t?e*=i:e/=i}return e}function i(){for(var t,e=a();"+"===o||"-"===o;){t=o,n();var i=a();"+"===t?e+=i:e-=i}return e}var o,s=/([\+\-\w\.]+|[\(\)\*\/])/g;return n(),i()}function t(t,e){if("0"==(e=e.trim().toLowerCase())&&0<="px".search(t))return{px:0};if(/^[^(]*$|^calc/.test(e)){e=e.replace(/calc\(/g,"(");var i={};e=e.replace(t,function(t){return i[t]=null,"U"+t});for(var n="U("+t.source+")",r=e.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+n,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),a=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],o=0;o<a.length;)a[o].test(r)?(r=r.replace(a[o],"$1"),o=0):o++;if("D"==r){for(var s in i){var u=l(e.replace(new RegExp("U"+s,"g"),"").replace(new RegExp(n,"g"),"*0"));if(!isFinite(u))return;i[s]=u}return i}}}function e(t,e){return i(t,e,!0)}function i(e,i,n){var t,r=[];for(t in e)r.push(t);for(t in i)r.indexOf(t)<0&&r.push(t);return e=r.map(function(t){return e[t]||0}),i=r.map(function(t){return i[t]||0}),[e,i,function(i){var t=i.map(function(t,e){return 1==i.length&&n&&(t=Math.max(t,0)),a.numberToString(t)+r[e]}).join(" + ");return 1<i.length?"calc("+t+")":t}]}var n=t.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc/g),r=t.bind(null,/px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|%/g),o=t.bind(null,/deg|rad|grad|turn/g);a.parseLength=n,a.parseLengthOrPercent=r,a.consumeLengthOrPercent=a.consumeParenthesised.bind(null,r),a.parseAngle=o,a.mergeDimensions=i;var s=a.consumeParenthesised.bind(null,n),u=a.consumeRepeated.bind(void 0,s,/^/),c=a.consumeRepeated.bind(void 0,u,/^,/);a.consumeSizePairList=c;var f=a.mergeNestedRepeated.bind(void 0,e," "),h=a.mergeNestedRepeated.bind(void 0,f,",");a.mergeNonNegativeSizePair=f,a.addPropertiesHandler(function(t){var e=c(t);if(e&&""==e[1])return e[0]},h,["background-size"]),a.addPropertiesHandler(r,e,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),a.addPropertiesHandler(r,i,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(B),u=(s=B).mergeWrappedNestedRepeated.bind(null,function(t){return"rect("+t+")"},function(n,r){return"auto"==n||"auto"==r?[!0,!1,function(t){var e=t?n:r;if("auto"==e)return"auto";var i=s.mergeDimensions(e,e);return i[2](i[0])}]:s.mergeDimensions(n,r)},", "),s.parseBox=C,s.mergeBoxes=u,s.addPropertiesHandler(C,u,["clip"]),A=B,d={px:0},p={deg:0},P={matrix:["NNNNNN",[o=null,o,0,0,o,o,0,0,0,0,1,0,o,o,0,1],w],matrix3d:["NNNNNNNNNNNNNNNN",w],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",T([o,o,1]),w],scalex:["N",T([o,1,1]),T([o,1])],scaley:["N",T([1,o,1]),T([1,o])],scalez:["N",T([1,1,o])],scale3d:["NNN",w],skew:["Aa",null,w],skewx:["A",null,T([o,p])],skewy:["A",null,T([p,o])],translate:["Tt",T([o,o,d]),w],translatex:["T",T([o,d,d]),T([o,d])],translatey:["T",T([d,o,d]),T([d,o])],translatez:["L",T([d,d,o])],translate3d:["TTL",w]},A.addPropertiesHandler(x,function(t,e){var i=A.makeMatrixDecomposition&&!0,n=!1;if(!t.length||!e.length){t.length||(n=!0,t=e,e=[]);for(var r=0;r<t.length;r++){var a=t[r].t,o=t[r].d,s="scale"==a.substr(0,5)?1:0;e.push({t:a,d:o.map(function(t){if("number"==typeof t)return s;var e={};for(var i in t)e[i]=s;return e})})}}var u,l,c=[],f=[],h=[];if(t.length!=e.length){if(!i)return;c=[(y=k(t,e))[0]],f=[y[1]],h=[["matrix",[y[2]]]]}else for(r=0;r<t.length;r++){var m=t[r].t,d=e[r].t,p=t[r].d,_=e[r].d,g=P[m],v=P[d];if(l=d,"perspective"==(u=m)&&"perspective"==l||("matrix"==u||"matrix3d"==u)&&("matrix"==l||"matrix3d"==l)){if(!i)return;var y=k([t[r]],[e[r]]);c.push(y[0]),f.push(y[1]),h.push(["matrix",[y[2]]])}else{if(m==d)a=m;else if(g[2]&&v[2]&&R(m)==R(d))a=R(m),p=g[2](p),_=v[2](_);else{if(!g[1]||!v[1]||N(m)!=N(d)){if(!i)return;c=[(y=k(t,e))[0]],f=[y[1]],h=[["matrix",[y[2]]]];break}a=N(m),p=g[1](p),_=v[1](_)}for(var b=[],T=[],w=[],x=0;x<p.length;x++){y=("number"==typeof p[x]?A.mergeNumbers:A.mergeDimensions)(p[x],_[x]);b[x]=y[0],T[x]=y[1],w.push(y[2])}c.push(b),f.push(T),h.push([a,w])}}if(n){var E=c;c=f,f=E}return[c,f,function(t){return t.map(function(t,i){var e=t.map(function(t,e){return h[i][1][e](t)}).join(",");return"matrix"==h[i][0]&&16==e.split(",").length&&(h[i][0]="matrix3d"),h[i][0]+"("+e+")"}).join(" ")}]},["transform"]),A.transformToSvgMatrix=function(t){var e=A.transformListToMatrix(x(t));return"matrix("+E(e[0])+" "+E(e[1])+" "+E(e[4])+" "+E(e[5])+" "+E(e[12])+" "+E(e[13])+")"},n=B,r={},a={},t("transform",["webkitTransform","msTransform"]),t("transformOrigin",["webkitTransformOrigin"]),t("perspective",["webkitPerspective"]),t("perspectiveOrigin",["webkitPerspectiveOrigin"]),n.propertyName=function(t){return r[t]||t},n.unprefixedPropertyName=function(t){return a[t]||t}}(),function(){if(void 0===document.createElement("div").animate([]).oncancel){if(window.performance&&performance.now)var o=function(){return performance.now()};else o=function(){return Date.now()};function s(t,e,i){this.target=t,this.currentTime=e,this.timelineTime=i,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=t,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()}var u=window.Element.prototype.animate;window.Element.prototype.animate=function(t,e){var i=u.call(this,t,e);i._cancelHandlers=[],i.oncancel=null;var n=i.cancel;i.cancel=function(){n.call(this);var e=new s(this,null,o()),t=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){t.forEach(function(t){t.call(e.target,e)})},0)};var r=i.addEventListener;i.addEventListener=function(t,e){"function"==typeof e&&"cancel"==t?this._cancelHandlers.push(e):r.call(this,t,e)};var a=i.removeEventListener;return i.removeEventListener=function(t,e){if("cancel"==t){var i=this._cancelHandlers.indexOf(e);0<=i&&this._cancelHandlers.splice(i,1)}else a.call(this,t,e)},i}}}(),function(i){var t=document.documentElement,e=null,n=!1;try{var r="0"==getComputedStyle(t).getPropertyValue("opacity")?"1":"0";(e=t.animate({opacity:[r,r]},{duration:1})).currentTime=0,n=getComputedStyle(t).getPropertyValue("opacity")==r}catch(i){}finally{e&&e.cancel()}if(!n){var a=window.Element.prototype.animate;window.Element.prototype.animate=function(t,e){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&t[Symbol.iterator]&&(t=Array.from(t)),Array.isArray(t)||null===t||(t=i.convertToArrayForm(t)),a.call(this,t,e)}}}(K),function(t,i){function n(t){var e=i.timeline;e.currentTime=t,e._discardAnimations(),0==e._animations.length?a=!1:requestAnimationFrame(n)}var r=window.requestAnimationFrame;window.requestAnimationFrame=function(e){return r(function(t){i.timeline._updateAnimationsPromises(),e(t),i.timeline._updateAnimationsPromises()})},i.AnimationTimeline=function(){this._animations=[],this.currentTime=void 0};var a=!(i.AnimationTimeline.prototype={getAnimations:function(){return this._discardAnimations(),this._animations.slice()},_updateAnimationsPromises:function(){i.animationsWithPromises=i.animationsWithPromises.filter(function(t){return t._updatePromises()})},_discardAnimations:function(){this._updateAnimationsPromises(),this._animations=this._animations.filter(function(t){return"finished"!=t.playState&&"idle"!=t.playState})},_play:function(t){var e=new i.Animation(t,this);return this._animations.push(e),i.restartWebAnimationsNextTick(),e._updatePromises(),e._animation.play(),e._updatePromises(),e},play:function(t){return t&&t.remove(),this._play(t)}});i.restartWebAnimationsNextTick=function(){a||(a=!0,requestAnimationFrame(n))};var e=new i.AnimationTimeline;i.timeline=e;try{Object.defineProperty(window.document,"timeline",{configurable:!0,get:function(){return e}})}catch(t){}try{window.document.timeline=e}catch(t){}}(0,m),o=K,(s=m).animationsWithPromises=[],s.Animation=function(t,e){if(this.id="",t&&t._id&&(this.id=t._id),(this.effect=t)&&(t._animation=this),!e)throw new Error("Animation with null timeline is not supported");this._timeline=e,this._sequenceNumber=o.sequenceNumber++,this._holdTime=0,this._paused=!1,this._isGroup=!1,this._animation=null,this._childAnimations=[],this._callback=null,this._oldPlayState="idle",this._rebuildUnderlyingAnimation(),this._animation.cancel(),this._updatePromises()},s.Animation.prototype={_updatePromises:function(){var t=this._oldPlayState,e=this.playState;return this._readyPromise&&e!==t&&("idle"==e?(this._rejectReadyPromise(),this._readyPromise=void 0):"pending"==t?this._resolveReadyPromise():"pending"==e&&(this._readyPromise=void 0)),this._finishedPromise&&e!==t&&("idle"==e?(this._rejectFinishedPromise(),this._finishedPromise=void 0):"finished"==e?this._resolveFinishedPromise():"finished"==t&&(this._finishedPromise=void 0)),this._oldPlayState=this.playState,this._readyPromise||this._finishedPromise},_rebuildUnderlyingAnimation:function(){this._updatePromises();var t,e,i,n,r=!!this._animation;r&&(t=this.playbackRate,e=this._paused,i=this.startTime,n=this.currentTime,this._animation.cancel(),this._animation._wrapper=null,this._animation=null),this.effect&&!babelHelpers.instanceof(this.effect,window.KeyframeEffect)||(this._animation=s.newUnderlyingAnimationForKeyframeEffect(this.effect),s.bindAnimationForKeyframeEffect(this)),(babelHelpers.instanceof(this.effect,window.SequenceEffect)||babelHelpers.instanceof(this.effect,window.GroupEffect))&&(this._animation=s.newUnderlyingAnimationForGroup(this.effect),s.bindAnimationForGroup(this)),this.effect&&this.effect._onsample&&s.bindAnimationForCustomEffect(this),r&&(1!=t&&(this.playbackRate=t),null!==i?this.startTime=i:null!==n?this.currentTime=n:null!==this._holdTime&&(this.currentTime=this._holdTime),e&&this.pause()),this._updatePromises()},_updateChildren:function(){if(this.effect&&"idle"!=this.playState){var e=this.effect._timing.delay;this._childAnimations.forEach(function(t){this._arrangeChildren(t,e),babelHelpers.instanceof(this.effect,window.SequenceEffect)&&(e+=s.groupChildDuration(t.effect))}.bind(this))}},_setExternalAnimation:function(t){if(this.effect&&this._isGroup)for(var e=0;e<this.effect.children.length;e++)this.effect.children[e]._animation=t,this._childAnimations[e]._setExternalAnimation(t)},_constructChildAnimations:function(){if(this.effect&&this._isGroup){var i=this.effect._timing.delay;this._removeChildAnimations(),this.effect.children.forEach(function(t){var e=s.timeline._play(t);this._childAnimations.push(e),e.playbackRate=this.playbackRate,this._paused&&e.pause(),t._animation=this.effect._animation,this._arrangeChildren(e,i),babelHelpers.instanceof(this.effect,window.SequenceEffect)&&(i+=s.groupChildDuration(t))}.bind(this))}},_arrangeChildren:function(t,e){null===this.startTime?t.currentTime=this.currentTime-e/this.playbackRate:t.startTime!==this.startTime+e/this.playbackRate&&(t.startTime=this.startTime+e/this.playbackRate)},get timeline(){return this._timeline},get playState(){return this._animation?this._animation.playState:"idle"},get finished(){return window.Promise?(this._finishedPromise||(-1==s.animationsWithPromises.indexOf(this)&&s.animationsWithPromises.push(this),this._finishedPromise=new Promise(function(t,e){this._resolveFinishedPromise=function(){t(this)},this._rejectFinishedPromise=function(){e({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"finished"==this.playState&&this._resolveFinishedPromise()),this._finishedPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get ready(){return window.Promise?(this._readyPromise||(-1==s.animationsWithPromises.indexOf(this)&&s.animationsWithPromises.push(this),this._readyPromise=new Promise(function(t,e){this._resolveReadyPromise=function(){t(this)},this._rejectReadyPromise=function(){e({type:DOMException.ABORT_ERR,name:"AbortError"})}}.bind(this)),"pending"!==this.playState&&this._resolveReadyPromise()),this._readyPromise):(console.warn("Animation Promises require JavaScript Promise constructor"),null)},get onfinish(){return this._animation.onfinish},set onfinish(e){this._animation.onfinish="function"==typeof e?function(t){t.target=this,e.call(this,t)}.bind(this):e},get oncancel(){return this._animation.oncancel},set oncancel(e){this._animation.oncancel="function"==typeof e?function(t){t.target=this,e.call(this,t)}.bind(this):e},get currentTime(){this._updatePromises();var t=this._animation.currentTime;return this._updatePromises(),t},set currentTime(i){this._updatePromises(),this._animation.currentTime=isFinite(i)?i:Math.sign(i)*Number.MAX_VALUE,this._register(),this._forEachChild(function(t,e){t.currentTime=i-e}),this._updatePromises()},get startTime(){return this._animation.startTime},set startTime(i){this._updatePromises(),this._animation.startTime=isFinite(i)?i:Math.sign(i)*Number.MAX_VALUE,this._register(),this._forEachChild(function(t,e){t.startTime=i+e}),this._updatePromises()},get playbackRate(){return this._animation.playbackRate},set playbackRate(e){this._updatePromises();var t=this.currentTime;this._animation.playbackRate=e,this._forEachChild(function(t){t.playbackRate=e}),null!==t&&(this.currentTime=t),this._updatePromises()},play:function(){this._updatePromises(),this._paused=!1,this._animation.play(),-1==this._timeline._animations.indexOf(this)&&this._timeline._animations.push(this),this._register(),s.awaitStartTime(this),this._forEachChild(function(t){var e=t.currentTime;t.play(),t.currentTime=e}),this._updatePromises()},pause:function(){this._updatePromises(),this.currentTime&&(this._holdTime=this.currentTime),this._animation.pause(),this._register(),this._forEachChild(function(t){t.pause()}),this._paused=!0,this._updatePromises()},finish:function(){this._updatePromises(),this._animation.finish(),this._register(),this._updatePromises()},cancel:function(){this._updatePromises(),this._animation.cancel(),this._register(),this._removeChildAnimations(),this._updatePromises()},reverse:function(){this._updatePromises();var t=this.currentTime;this._animation.reverse(),this._forEachChild(function(t){t.reverse()}),null!==t&&(this.currentTime=t),this._updatePromises()},addEventListener:function(t,e){var i=e;"function"==typeof e&&(i=function(t){t.target=this,e.call(this,t)}.bind(this),e._wrapper=i),this._animation.addEventListener(t,i)},removeEventListener:function(t,e){this._animation.removeEventListener(t,e&&e._wrapper||e)},_removeChildAnimations:function(){for(;this._childAnimations.length;)this._childAnimations.pop().cancel()},_forEachChild:function(e){var i=0;if(this.effect.children&&this._childAnimations.length<this.effect.children.length&&this._constructChildAnimations(),this._childAnimations.forEach(function(t){e.call(this,t,i),babelHelpers.instanceof(this.effect,window.SequenceEffect)&&(i+=t.effect.activeDuration)}.bind(this)),"pending"!=this.playState){var t=this.effect._timing,n=this.currentTime;null!==n&&(n=o.calculateIterationProgress(o.calculateActiveDuration(t),n,t)),null!=n&&!isNaN(n)||this._removeChildAnimations()}}},window.Animation=s.Animation,function(r,n){function a(t){this._frames=r.normalizeKeyframes(t)}function e(){for(var t=!1;i.length;)i.shift()._updateChildren(),t=!0;return t}function o(t){if(t._animation=void 0,babelHelpers.instanceof(t,window.SequenceEffect)||babelHelpers.instanceof(t,window.GroupEffect))for(var e=0;e<t.children.length;e++)o(t.children[e])}n.removeMulti=function(t){for(var e,i=[],n=0;n<t.length;n++)(e=t[n])._parent?(-1==i.indexOf(e._parent)&&i.push(e._parent),e._parent.children.splice(e._parent.children.indexOf(e),1),e._parent=null,o(e)):e._animation&&e._animation.effect==e&&(e._animation.cancel(),e._animation.effect=new KeyframeEffect(null,[]),e._animation._callback&&(e._animation._callback._animation=null),e._animation._rebuildUnderlyingAnimation(),o(e));for(n=0;n<i.length;n++)i[n]._rebuild()},n.KeyframeEffect=function(t,e,i,n){return this.target=t,this._parent=null,i=r.numericTimingToObject(i),this._timingInput=r.cloneTimingInput(i),this._timing=r.normalizeTimingInput(i),this.timing=r.makeTiming(i,!1,this),this.timing._effect=this,"function"==typeof e?(r.deprecated("Custom KeyframeEffect","2015-06-22","Use KeyframeEffect.onsample instead."),this._normalizedKeyframes=e):this._normalizedKeyframes=new a(e),this._keyframes=e,this.activeDuration=r.calculateActiveDuration(this._timing),this._id=n,this},n.KeyframeEffect.prototype={getFrames:function(){return"function"==typeof this._normalizedKeyframes?this._normalizedKeyframes:this._normalizedKeyframes._frames},set onsample(t){if("function"==typeof this.getFrames())throw new Error("Setting onsample on custom effect KeyframeEffect is not supported.");this._onsample=t,this._animation&&this._animation._rebuildUnderlyingAnimation()},get parent(){return this._parent},clone:function(){if("function"==typeof this.getFrames())throw new Error("Cloning custom effects is not supported.");var t=new KeyframeEffect(this.target,[],r.cloneTimingInput(this._timingInput),this._id);return t._normalizedKeyframes=this._normalizedKeyframes,t._keyframes=this._keyframes,t},remove:function(){n.removeMulti([this])}};var s=Element.prototype.animate;Element.prototype.animate=function(t,e){var i="";return e&&e.id&&(i=e.id),n.timeline._play(new n.KeyframeEffect(this,t,e,i))};var u=document.createElementNS("http://www.w3.org/1999/xhtml","div");n.newUnderlyingAnimationForKeyframeEffect=function(t){if(t){var e=t.target||u;"function"==typeof(i=t._keyframes)&&(i=[]),(n=t._timingInput).id=t._id}else{e=u;var i=[],n=0}return s.apply(e,[i,n])},n.bindAnimationForKeyframeEffect=function(t){t.effect&&"function"==typeof t.effect._normalizedKeyframes&&n.bindAnimationForCustomEffect(t)};var i=[];n.awaitStartTime=function(t){null===t.startTime&&t._isGroup&&(0==i.length&&requestAnimationFrame(e),i.push(t))};var l=window.getComputedStyle;Object.defineProperty(window,"getComputedStyle",{configurable:!0,enumerable:!0,value:function(){n.timeline._updateAnimationsPromises();var t=l.apply(this,arguments);return e()&&(t=l.apply(this,arguments)),n.timeline._updateAnimationsPromises(),t}}),window.KeyframeEffect=n.KeyframeEffect,window.Element.prototype.getAnimations=function(){return document.timeline.getAnimations().filter(function(t){return null!==t.effect&&t.effect.target==this}.bind(this))}}(K,m),function(u,t){function l(t){t._registered||(t._registered=!0,n.push(t),r||(r=!0,requestAnimationFrame(i)))}function i(t){var e=n;n=[],e.sort(function(t,e){return t._sequenceNumber-e._sequenceNumber}),e=e.filter(function(t){t();var e=t._animation?t._animation.playState:"idle";return"running"!=e&&"pending"!=e&&(t._registered=!1),t._registered}),n.push.apply(n,e),n.length?(r=!0,requestAnimationFrame(i)):r=!1}var c=(document.createElementNS("http://www.w3.org/1999/xhtml","div"),0);t.bindAnimationForCustomEffect=function(e){var i,n=e.effect.target,r="function"==typeof e.effect.getFrames();i=r?e.effect.getFrames():e.effect._onsample;var a=e.effect.timing,o=null;a=u.normalizeTimingInput(a);function s(){var t=s._animation?s._animation.currentTime:null;null!==t&&(t=u.calculateIterationProgress(u.calculateActiveDuration(a),t,a),isNaN(t)&&(t=null)),t!==o&&(r?i(t,n,e.effect):i(t,e.effect,e.effect._animation)),o=t}s._animation=e,s._registered=!1,s._sequenceNumber=c++,l(e._callback=s)};var n=[],r=!1;t.Animation.prototype._register=function(){this._callback&&l(this._callback)}}(K,m),r=K,a=m,window.SequenceEffect=function(){p.apply(this,arguments)},window.GroupEffect=function(){p.apply(this,arguments)},p.prototype={_isAncestor:function(t){for(var e=this;null!==e;){if(e==t)return!0;e=e._parent}return!1},_rebuild:function(){for(var t=this;t;)"auto"===t.timing.duration&&(t._timing.duration=t.activeDuration),t=t._parent;this._animation&&this._animation._rebuildUnderlyingAnimation()},_reparent:function(t){a.removeMulti(t);for(var e=0;e<t.length;e++)t[e]._parent=this},_putChild:function(t,e){for(var i=e?"Cannot append an ancestor or self":"Cannot prepend an ancestor or self",n=0;n<t.length;n++)if(this._isAncestor(t[n]))throw{type:DOMException.HIERARCHY_REQUEST_ERR,name:"HierarchyRequestError",message:i};for(n=0;n<t.length;n++)e?this.children.push(t[n]):this.children.unshift(t[n]);this._reparent(t),this._rebuild()},append:function(){this._putChild(arguments,!0)},prepend:function(){this._putChild(arguments,!1)},get parent(){return this._parent},get firstChild(){return this.children.length?this.children[0]:null},get lastChild(){return this.children.length?this.children[this.children.length-1]:null},clone:function(){for(var t=r.cloneTimingInput(this._timingInput),e=[],i=0;i<this.children.length;i++)e.push(this.children[i].clone());return babelHelpers.instanceof(this,GroupEffect)?new GroupEffect(e,t):new SequenceEffect(e,t)},remove:function(){a.removeMulti([this])}},window.SequenceEffect.prototype=Object.create(p.prototype),Object.defineProperty(window.SequenceEffect.prototype,"activeDuration",{get:function(){var e=0;return this.children.forEach(function(t){e+=d(t)}),Math.max(e,0)}}),window.GroupEffect.prototype=Object.create(p.prototype),Object.defineProperty(window.GroupEffect.prototype,"activeDuration",{get:function(){var e=0;return this.children.forEach(function(t){e=Math.max(e,d(t))}),e}}),a.newUnderlyingAnimationForGroup=function(t){var i,n=null,e=new KeyframeEffect(null,[],t._timing,t._id);return e.onsample=function(t){var e=i._wrapper;if(e&&"pending"!=e.playState&&e.effect)return null==t?void e._removeChildAnimations():0==t&&e.playbackRate<0&&(n=n||r.normalizeTimingInput(e.effect.timing),t=r.calculateIterationProgress(r.calculateActiveDuration(n),-1,n),isNaN(t)||null==t)?(e._forEachChild(function(t){t.currentTime=-1}),void e._removeChildAnimations()):void 0},i=a.timeline._play(e)},a.bindAnimationForGroup=function(t){(t._animation._wrapper=t)._isGroup=!0,a.awaitStartTime(t),t._constructChildAnimations(),t._setExternalAnimation(t)},a.groupChildDuration=d,e.true={}}(0,function(){return this}())</script><script>Polymer.IronCheckedElementBehaviorImpl={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(){return this.disabled||!this.required||this.checked},_requiredChanged:function(){this.required?this.setAttribute("aria-required","true"):this.removeAttribute("aria-required")},_checkedChanged:function(){this.active=this.checked,this.fire("iron-change")},_valueChanged:function(){void 0!==this.value&&null!==this.value||(this.value="on")}},Polymer.IronCheckedElementBehavior=[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronCheckedElementBehaviorImpl]</script><script>Polymer.PaperCheckedElementBehaviorImpl={_checkedChanged:function(){Polymer.IronCheckedElementBehaviorImpl._checkedChanged.call(this),this.hasRipple()&&(this.checked?this._ripple.setAttribute("checked",""):this._ripple.removeAttribute("checked"))},_buttonStateChanged:function(){Polymer.PaperRippleBehavior._buttonStateChanged.call(this),this.disabled||this.isAttached&&(this.checked=this.active)}},Polymer.PaperCheckedElementBehavior=[Polymer.PaperInkyFocusBehavior,Polymer.IronCheckedElementBehavior,Polymer.PaperCheckedElementBehaviorImpl]</script><dom-module id="paper-radio-button"assetpath="../../bower_components/paper-radio-button/"><template strip-whitespace=""><style>:host{display:inline-block;line-height:0;white-space:nowrap;cursor:pointer;@apply --paper-font-common-base;--calculated-paper-radio-button-size:var(--paper-radio-button-size, 16px);--calculated-paper-radio-button-ink-size:var(--paper-radio-button-ink-size, -1px);}:host(:focus){outline:none;}#radioContainer{@apply --layout-inline;@apply --layout-center-center;position:relative;width:var(--calculated-paper-radio-button-size);height:var(--calculated-paper-radio-button-size);vertical-align:middle;@apply --paper-radio-button-radio-container;}#ink{position:absolute;top:50%;left:50%;right:auto;width:var(--calculated-paper-radio-button-ink-size);height:var(--calculated-paper-radio-button-ink-size);color:var(--paper-radio-button-unchecked-ink-color, var(--primary-text-color));opacity:0.6;pointer-events:none;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);}#ink[checked]{color:var(--paper-radio-button-checked-ink-color, var(--primary-color));}#offRadio, #onRadio{position:absolute;box-sizing:border-box;top:0;left:0;width:100%;height:100%;border-radius:50%;}#offRadio{border:2px solid var(--paper-radio-button-unchecked-color, var(--primary-text-color));background-color:var(--paper-radio-button-unchecked-background-color, transparent);transition:border-color 0.28s;}#onRadio{background-color:var(--paper-radio-button-checked-color, var(--primary-color));-webkit-transform:scale(0);transform:scale(0);transition:-webkit-transform ease 0.28s;transition:transform ease 0.28s;will-change:transform;}:host([checked]) #offRadio{border-color:var(--paper-radio-button-checked-color, var(--primary-color));}:host([checked]) #onRadio{-webkit-transform:scale(0.5);transform:scale(0.5);}#radioLabel{line-height:normal;position:relative;display:inline-block;vertical-align:middle;margin-left:var(--paper-radio-button-label-spacing, 10px);white-space:normal;color:var(--paper-radio-button-label-color, var(--primary-text-color));@apply --paper-radio-button-label;}:host([checked]) #radioLabel{@apply --paper-radio-button-label-checked;}#radioLabel:dir(rtl){margin-left:0;margin-right:var(--paper-radio-button-label-spacing, 10px);}#radioLabel[hidden]{display:none;}:host([disabled]) #offRadio{border-color:var(--paper-radio-button-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled][checked]) #onRadio{background-color:var(--paper-radio-button-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled]) #radioLabel{opacity:0.65;}</style><div id="radioContainer"><div id="offRadio"></div><div id="onRadio"></div></div><div id="radioLabel"><slot></slot></div></template><script>Polymer({is:"paper-radio-button",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"radio","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},ready:function(){this._rippleContainer=this.$.radioContainer},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-radio-button-ink-size").trim()){var e=parseFloat(this.getComputedStyleValue("--calculated-paper-radio-button-size").trim()),t=Math.floor(3*e);t%2!=e%2&&t++,this.updateStyles({"--paper-radio-button-ink-size":t+"px"})}})}})</script></dom-module><dom-module id="paper-radio-group"assetpath="../../bower_components/paper-radio-group/"><template><style>:host{display:inline-block;}:host ::slotted(*){padding:var(--paper-radio-group-item-padding, 12px);}</style><slot></slot></template></dom-module><script>Polymer({is:"paper-radio-group",behaviors:[Polymer.IronMenubarBehavior],hostAttributes:{role:"radiogroup"},properties:{attrForSelected:{type:String,value:"name"},selectedAttribute:{type:String,value:"checked"},selectable:{type:String,value:"paper-radio-button"},allowEmptySelection:{type:Boolean,value:!1}},select:function(e){var t=this._valueToItem(e);if(!t||!t.hasAttribute("disabled")){if(this.selected){var i=this._valueToItem(this.selected);if(this.selected==e){if(!this.allowEmptySelection)return void(i&&(i.checked=!0));e=""}i&&(i.checked=!1)}Polymer.IronSelectableBehavior.select.apply(this,[e]),this.fire("paper-radio-group-changed")}},_activateFocusedItem:function(){this._itemActivate(this._valueForItem(this.focusedItem),this.focusedItem)},_onUpKey:function(e){this._focusPrevious(),e.preventDefault(),this._activateFocusedItem()},_onDownKey:function(e){this._focusNext(),e.preventDefault(),this._activateFocusedItem()},_onLeftKey:function(e){Polymer.IronMenubarBehaviorImpl._onLeftKey.apply(this,arguments),this._activateFocusedItem()},_onRightKey:function(e){Polymer.IronMenubarBehaviorImpl._onRightKey.apply(this,arguments),this._activateFocusedItem()}})</script><dom-module id="paper-checkbox"assetpath="../../bower_components/paper-checkbox/"><template strip-whitespace=""><style>:host{display:inline-block;white-space:nowrap;cursor:pointer;--calculated-paper-checkbox-size:var(--paper-checkbox-size, 18px);--calculated-paper-checkbox-ink-size:var(--paper-checkbox-ink-size, -1px);@apply --paper-font-common-base;line-height:0;-webkit-tap-highlight-color:transparent;}:host([hidden]){display:none !important;}:host(:focus){outline:none;}.hidden{display:none;}#checkboxContainer{display:inline-block;position:relative;width:var(--calculated-paper-checkbox-size);height:var(--calculated-paper-checkbox-size);min-width:var(--calculated-paper-checkbox-size);margin:var(--paper-checkbox-margin, initial);vertical-align:var(--paper-checkbox-vertical-align, middle);background-color:var(--paper-checkbox-unchecked-background-color, transparent);}#ink{position:absolute;top:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);width:var(--calculated-paper-checkbox-ink-size);height:var(--calculated-paper-checkbox-ink-size);color:var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));opacity:0.6;pointer-events:none;}#ink:dir(rtl){right:calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);left:auto;}#ink[checked]{color:var(--paper-checkbox-checked-ink-color, var(--primary-color));}#checkbox{position:relative;box-sizing:border-box;height:100%;border:solid 2px;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));border-radius:2px;pointer-events:none;-webkit-transition:background-color 140ms, border-color 140ms;transition:background-color 140ms, border-color 140ms;}#checkbox.checked #checkmark{-webkit-animation:checkmark-expand 140ms ease-out forwards;animation:checkmark-expand 140ms ease-out forwards;}@-webkit-keyframes checkmark-expand{0%{-webkit-transform:scale(0, 0) rotate(45deg);}100%{-webkit-transform:scale(1, 1) rotate(45deg);}}@keyframes checkmark-expand{0%{transform:scale(0, 0) rotate(45deg);}100%{transform:scale(1, 1) rotate(45deg);}}#checkbox.checked{background-color:var(--paper-checkbox-checked-color, var(--primary-color));border-color:var(--paper-checkbox-checked-color, var(--primary-color));}#checkmark{position:absolute;width:36%;height:70%;border-style:solid;border-top:none;border-left:none;border-right-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-bottom-width:calc(2/15 * var(--calculated-paper-checkbox-size));border-color:var(--paper-checkbox-checkmark-color, white);-webkit-transform-origin:97% 86%;transform-origin:97% 86%;box-sizing:content-box;}#checkmark:dir(rtl){-webkit-transform-origin:50% 14%;transform-origin:50% 14%;}#checkboxLabel{position:relative;display:inline-block;vertical-align:middle;padding-left:var(--paper-checkbox-label-spacing, 8px);white-space:normal;line-height:normal;color:var(--paper-checkbox-label-color, var(--primary-text-color));@apply --paper-checkbox-label;}:host([checked]) #checkboxLabel{color:var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));@apply --paper-checkbox-label-checked;}#checkboxLabel:dir(rtl){padding-right:var(--paper-checkbox-label-spacing, 8px);padding-left:0;}#checkboxLabel[hidden]{display:none;}:host([disabled]) #checkbox{opacity:0.5;border-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));}:host([disabled][checked]) #checkbox{background-color:var(--paper-checkbox-unchecked-color, var(--primary-text-color));opacity:0.5;}:host([disabled]) #checkboxLabel{opacity:0.65;}#checkbox.invalid:not(.checked){border-color:var(--paper-checkbox-error-color, var(--error-color));}</style><div id="checkboxContainer"><div id="checkbox"class$="[[_computeCheckboxClass(checked, invalid)]]"><div id="checkmark"class$="[[_computeCheckmarkClass(checked)]]"></div></div></div><div id="checkboxLabel"><slot></slot></div></template><script>Polymer({is:"paper-checkbox",behaviors:[Polymer.PaperCheckedElementBehavior],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){Polymer.RenderStatus.afterNextRender(this,function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim()){var e=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),t="px",a=e.match(/[A-Za-z]+$/);null!==a&&(t=a[0]);var r=parseFloat(e),i=8/3*r;"px"===t&&(i=Math.floor(i))%2!=r%2&&i++,this.updateStyles({"--paper-checkbox-ink-size":i+t})}})},_computeCheckboxClass:function(e,t){var a="";return e&&(a+="checked "),t&&(a+="invalid"),a},_computeCheckmarkClass:function(e){return e?"":"hidden"},_createRipple:function(){return this._rippleContainer=this.$.checkboxContainer,Polymer.PaperInkyFocusBehaviorImpl._createRipple.call(this)}})</script></dom-module><dom-module id="neon-animated-pages"assetpath="../../bower_components/neon-animation/"><template><style>:host{display:block;position:relative;}:host > ::slotted(*){position:absolute;top:0;left:0;bottom:0;right:0;}:host > ::slotted(:not(.iron-selected):not(.neon-animating)){display:none !important;}:host > ::slotted(.neon-animating){pointer-events:none;}</style><slot id="content"></slot></template></dom-module><script>Polymer({is:"neon-animated-pages",behaviors:[Polymer.IronResizableBehavior,Polymer.IronSelectableBehavior,Polymer.NeonAnimationRunnerBehavior],properties:{activateEvent:{type:String,value:""},animateInitialSelection:{type:Boolean,value:!1}},listeners:{"iron-select":"_onIronSelect","neon-animation-finish":"_onNeonAnimationFinish"},_onIronSelect:function(i){var e=i.detail.item;if(!(this.items.indexOf(e)<0)){var t=this._valueToItem(this._prevSelected)||!1;this._prevSelected=this.selected,t||this.animateInitialSelection?(this.animationConfig=[],this.entryAnimation?this.animationConfig.push({name:this.entryAnimation,node:e}):e.getAnimationConfig&&this.animationConfig.push({animatable:e,type:"entry"}),t&&(t.classList.contains("neon-animating")&&(this._squelchNextFinishEvent=!0,this.cancelAnimation(),this._completeSelectedChanged(),this._squelchNextFinishEvent=!1),this.exitAnimation?this.animationConfig.push({name:this.exitAnimation,node:t}):t.getAnimationConfig&&this.animationConfig.push({animatable:t,type:"exit"}),t.classList.add("neon-animating")),e.classList.add("neon-animating"),1<=this.animationConfig.length?this.isAttached?this.playAnimation(void 0,{fromPage:t,toPage:e}):this.async(function(){this.playAnimation(void 0,{fromPage:null,toPage:e})}):this._completeSelectedChanged(t,e)):this._completeSelectedChanged()}},_completeSelectedChanged:function(i,e){if(e&&e.classList.remove("neon-animating"),i&&i.classList.remove("neon-animating"),!e||!i)for(var t,n=Polymer.dom(this.$.content).getDistributedNodes(),a=0;t=n[a];a++)t.classList&&t.classList.remove("neon-animating");this.async(this._notifyPageResize)},_onNeonAnimationFinish:function(i){this._squelchNextFinishEvent?this._squelchNextFinishEvent=!1:this._completeSelectedChanged(i.detail.fromPage,i.detail.toPage)},_notifyPageResize:function(){var e=this.selectedItem||this._valueToItem(this.selected);this.resizerShouldNotify=function(i){return i==e},this.notifyResize()}})</script><dom-module id="neon-animatable"assetpath="../../bower_components/neon-animation/"><template><style>:host{display:block;}</style><slot></slot></template></dom-module><script>Polymer({is:"neon-animatable",behaviors:[Polymer.NeonAnimatableBehavior,Polymer.IronResizableBehavior]})</script><script>Polymer({is:"cascaded-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(i){this._animations=[];var n=i.nodes,e=[],o=i.nodeDelay||50;i.timing=i.timing||{},i.timing.delay=i.timing.delay||0;for(var t,a,m=i.timing.delay,r=0;a=n[r];r++){i.timing.delay+=o,i.node=a;var s=document.createElement(i.animation);if(!s.isNeonAnimation){console.warn(this.is+":",i.animation,"not found!"),t=!0;break}var f=s.configure(i);this._animations.push(s),e.push(f)}if(i.timing.delay=m,i.node=null,!t)return this._effect=new GroupEffect(e),this._effect},complete:function(){for(var i,n=0;i=this._animations[n];n++)i.complete(i.config)}})</script><script>Polymer.NeonSharedElementAnimationBehaviorImpl={properties:{sharedElements:{type:Object}},findSharedElements:function(e){var n=e.fromPage,r=e.toPage;if(!n||!r)return console.warn(this.is+":",n?"toPage":"fromPage","is undefined!"),null;if(!n.sharedElements||!r.sharedElements)return console.warn(this.is+":","sharedElements are undefined for",n.sharedElements?r:n),null;var t=n.sharedElements[e.id],i=r.sharedElements[e.id];return t&&i?(this.sharedElements={from:t,to:i},this.sharedElements):(console.warn(this.is+":","sharedElement with id",e.id,"not found in",t?r:n),null)}},Polymer.NeonSharedElementAnimationBehavior=[Polymer.NeonAnimationBehavior,Polymer.NeonSharedElementAnimationBehaviorImpl]</script><script>Polymer({is:"hero-animation",behaviors:[Polymer.NeonSharedElementAnimationBehavior],configure:function(e){var t=this.findSharedElements(e);if(t){var i=t.from.getBoundingClientRect(),n=t.to.getBoundingClientRect(),r=i.left-n.left,o=i.top-n.top,f=i.width/n.width,s=i.height/n.height;return this._effect=new KeyframeEffect(t.to,[{transform:"translate("+r+"px,"+o+"px) scale("+f+","+s+")"},{transform:"none"}],this.timingFromConfig(e)),this.setPrefixedProperty(t.to,"transformOrigin","0 0"),t.to.style.zIndex=1e4,t.from.style.visibility="hidden",this._effect}},complete:function(e){var t=this.findSharedElements(e);if(!t)return null;t.to.style.zIndex="",t.from.style.visibility=""}})</script><script>Polymer({is:"opaque-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(e){var i=e.node;return this._effect=new KeyframeEffect(i,[{opacity:"1"},{opacity:"1"}],this.timingFromConfig(e)),i.style.opacity="0",this._effect},complete:function(e){e.node.style.opacity=""}})</script><script>Polymer({is:"ripple-animation",behaviors:[Polymer.NeonSharedElementAnimationBehavior],configure:function(t){var e=this.findSharedElements(t);if(!e)return null;var i,r,s=e.to.getBoundingClientRect();if(t.gesture)i=t.gesture.x-(s.left+s.width/2),r=t.gesture.y-(s.top+s.height/2);else{var h=e.from.getBoundingClientRect();i=h.left+h.width/2-(s.left+s.width/2),r=h.top+h.height/2-(s.top+s.height/2)}var n="translate("+i+"px,"+r+"px)",o=Math.max(s.width+2*Math.abs(i),s.height+2*Math.abs(r)),a=Math.sqrt(2*o*o),f="scale("+a/s.width+","+a/s.height+")";return this._effect=new KeyframeEffect(e.to,[{transform:n+" scale(0)"},{transform:n+" "+f}],this.timingFromConfig(t)),this.setPrefixedProperty(e.to,"transformOrigin","50% 50%"),e.to.style.borderRadius="50%",this._effect},complete:function(){this.sharedElements&&(this.setPrefixedProperty(this.sharedElements.to,"transformOrigin",""),this.sharedElements.to.style.borderRadius="")}})</script><script>Polymer({is:"reverse-ripple-animation",behaviors:[Polymer.NeonSharedElementAnimationBehavior],configure:function(e){var t=this.findSharedElements(e);if(!t)return null;var r,i,s=t.from.getBoundingClientRect();if(e.gesture)r=e.gesture.x-(s.left+s.width/2),i=e.gesture.y-(s.top+s.height/2);else{var h=t.to.getBoundingClientRect();r=h.left+h.width/2-(s.left+s.width/2),i=h.top+h.height/2-(s.top+s.height/2)}var n="translate("+r+"px,"+i+"px)",o=Math.max(s.width+2*Math.abs(r),s.height+2*Math.abs(i)),a=Math.sqrt(2*o*o),f="scale("+a/s.width+","+a/s.height+")";return this._effect=new KeyframeEffect(t.from,[{transform:n+" "+f},{transform:n+" scale(0)"}],this.timingFromConfig(e)),this.setPrefixedProperty(t.from,"transformOrigin","50% 50%"),t.from.style.borderRadius="50%",this._effect},complete:function(){this.sharedElements&&(this.setPrefixedProperty(this.sharedElements.from,"transformOrigin",""),this.sharedElements.from.style.borderRadius="")}})</script><script>Polymer({is:"scale-down-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var e=r.node,i="scale(0, 0)";return"x"===r.axis?i="scale(0, 1)":"y"===r.axis&&(i="scale(1, 0)"),this._effect=new KeyframeEffect(e,[{transform:"scale(1,1)"},{transform:i}],this.timingFromConfig(r)),r.transformOrigin&&this.setPrefixedProperty(e,"transformOrigin",r.transformOrigin),this._effect}})</script><script>Polymer({is:"scale-up-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var e=r.node,i="scale(0)";return"x"===r.axis?i="scale(0, 1)":"y"===r.axis&&(i="scale(1, 0)"),this._effect=new KeyframeEffect(e,[{transform:i},{transform:"scale(1, 1)"}],this.timingFromConfig(r)),r.transformOrigin&&this.setPrefixedProperty(e,"transformOrigin",r.transformOrigin),this._effect}})</script><script>Polymer({is:"slide-from-left-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var e=r.node;return this._effect=new KeyframeEffect(e,[{transform:"translateX(-100%)"},{transform:"none"}],this.timingFromConfig(r)),r.transformOrigin?this.setPrefixedProperty(e,"transformOrigin",r.transformOrigin):this.setPrefixedProperty(e,"transformOrigin","0 50%"),this._effect}})</script><script>Polymer({is:"slide-from-right-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var i=r.node;return this._effect=new KeyframeEffect(i,[{transform:"translateX(100%)"},{transform:"none"}],this.timingFromConfig(r)),r.transformOrigin?this.setPrefixedProperty(i,"transformOrigin",r.transformOrigin):this.setPrefixedProperty(i,"transformOrigin","0 50%"),this._effect}})</script><script>Polymer({is:"slide-from-top-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var i=r.node;return this._effect=new KeyframeEffect(i,[{transform:"translateY(-100%)"},{transform:"translateY(0%)"}],this.timingFromConfig(r)),r.transformOrigin?this.setPrefixedProperty(i,"transformOrigin",r.transformOrigin):this.setPrefixedProperty(i,"transformOrigin","50% 0"),this._effect}})</script><script>Polymer({is:"slide-from-bottom-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var t=r.node;return this._effect=new KeyframeEffect(t,[{transform:"translateY(100%)"},{transform:"translateY(0)"}],this.timingFromConfig(r)),r.transformOrigin?this.setPrefixedProperty(t,"transformOrigin",r.transformOrigin):this.setPrefixedProperty(t,"transformOrigin","50% 0"),this._effect}})</script><script>Polymer({is:"slide-left-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var e=r.node;return this._effect=new KeyframeEffect(e,[{transform:"none"},{transform:"translateX(-100%)"}],this.timingFromConfig(r)),r.transformOrigin?this.setPrefixedProperty(e,"transformOrigin",r.transformOrigin):this.setPrefixedProperty(e,"transformOrigin","0 50%"),this._effect}})</script><script>Polymer({is:"slide-right-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var i=r.node;return this._effect=new KeyframeEffect(i,[{transform:"none"},{transform:"translateX(100%)"}],this.timingFromConfig(r)),r.transformOrigin?this.setPrefixedProperty(i,"transformOrigin",r.transformOrigin):this.setPrefixedProperty(i,"transformOrigin","0 50%"),this._effect}})</script><script>Polymer({is:"slide-up-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var i=r.node;return this._effect=new KeyframeEffect(i,[{transform:"translate(0)"},{transform:"translateY(-100%)"}],this.timingFromConfig(r)),r.transformOrigin?this.setPrefixedProperty(i,"transformOrigin",r.transformOrigin):this.setPrefixedProperty(i,"transformOrigin","50% 0"),this._effect}})</script><script>Polymer({is:"slide-down-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var i=r.node;return this._effect=new KeyframeEffect(i,[{transform:"translateY(0%)"},{transform:"translateY(100%)"}],this.timingFromConfig(r)),r.transformOrigin?this.setPrefixedProperty(i,"transformOrigin",r.transformOrigin):this.setPrefixedProperty(i,"transformOrigin","50% 0"),this._effect}})</script><script>Polymer({is:"transform-animation",behaviors:[Polymer.NeonAnimationBehavior],configure:function(r){var n=r.node,o=r.transformFrom||"none",i=r.transformTo||"none";return this._effect=new KeyframeEffect(n,[{transform:o},{transform:i}],this.timingFromConfig(r)),r.transformOrigin&&this.setPrefixedProperty(n,"transformOrigin",r.transformOrigin),this._effect}})</script><script>Polymer.NeonSharedElementAnimatableBehaviorImpl={properties:{sharedElements:{type:Object,value:{}}}},Polymer.NeonSharedElementAnimatableBehavior=[Polymer.NeonAnimatableBehavior,Polymer.NeonSharedElementAnimatableBehaviorImpl]</script><dom-module id="iron-autogrow-textarea"assetpath="../../bower_components/iron-autogrow-textarea/"><template><style>:host{display:inline-block;position:relative;width:400px;border:1px solid;padding:2px;-moz-appearance:textarea;-webkit-appearance:textarea;overflow:hidden;}.mirror-text{visibility:hidden;word-wrap:break-word;@apply --iron-autogrow-textarea;}.fit{@apply --layout-fit;}textarea{position:relative;outline:none;border:none;resize:none;background:inherit;color:inherit;width:100%;height:100%;font-size:inherit;font-family:inherit;line-height:inherit;text-align:inherit;@apply --iron-autogrow-textarea;}textarea::-webkit-input-placeholder{@apply --iron-autogrow-textarea-placeholder;}textarea:-moz-placeholder{@apply --iron-autogrow-textarea-placeholder;}textarea::-moz-placeholder{@apply --iron-autogrow-textarea-placeholder;}textarea:-ms-input-placeholder{@apply --iron-autogrow-textarea-placeholder;}</style><div id="mirror"class="mirror-text"aria-hidden="true">&nbsp;</div><div class="textarea-container fit"><textarea id="textarea"name$="[[name]]"aria-label$="[[label]]"autocomplete$="[[autocomplete]]"autofocus$="[[autofocus]]"inputmode$="[[inputmode]]"placeholder$="[[placeholder]]"readonly$="[[readonly]]"required$="[[required]]"disabled$="[[disabled]]"rows$="[[rows]]"minlength$="[[minlength]]"maxlength$="[[maxlength]]"></textarea></div></template></dom-module><script>Polymer({is:"iron-autogrow-textarea",behaviors:[Polymer.IronValidatableBehavior,Polymer.IronControlState],properties:{value:{observer:"_valueChanged",type:String,notify:!0},bindValue:{observer:"_bindValueChanged",type:String,notify:!0},rows:{type:Number,value:1,observer:"_updateCached"},maxRows:{type:Number,value:0,observer:"_updateCached"},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,value:!1},inputmode:{type:String},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},minlength:{type:Number},maxlength:{type:Number},label:{type:String}},listeners:{input:"_onInput"},get textarea(){return this.$.textarea},get selectionStart(){return this.$.textarea.selectionStart},get selectionEnd(){return this.$.textarea.selectionEnd},set selectionStart(e){this.$.textarea.selectionStart=e},set selectionEnd(e){this.$.textarea.selectionEnd=e},attached:function(){navigator.userAgent.match(/iP(?:[oa]d|hone)/)&&(this.$.textarea.style.marginLeft="-3px")},validate:function(){var e=this.$.textarea.validity.valid;return e&&(this.required&&""===this.value?e=!1:this.hasValidator()&&(e=Polymer.IronValidatableBehavior.validate.call(this,this.value))),this.invalid=!e,this.fire("iron-input-validate"),e},_bindValueChanged:function(e){this.value=e},_valueChanged:function(e){var t=this.textarea;t&&(t.value!==e&&(t.value=e||0===e?e:""),this.bindValue=e,this.$.mirror.innerHTML=this._valueForMirror())},_onInput:function(e){var t=Polymer.dom(e).path;this.value=t?t[0].value:e.target.value},_constrain:function(e){var t;for(e=e||[""],t=0<this.maxRows&&e.length>this.maxRows?e.slice(0,this.maxRows):e.slice(0);0<this.rows&&t.length<this.rows;)t.push("");return t.join("<br/>")+"&#160;"},_valueForMirror:function(){var e=this.textarea;if(e)return this.tokens=e&&e.value?e.value.replace(/&/gm,"&amp;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").split("\n"):[""],this._constrain(this.tokens)},_updateCached:function(){this.$.mirror.innerHTML=this._constrain(this.tokens)}})</script><dom-module id="paper-textarea-aria"assetpath="../yp-app-globals/"><template><style>:host{display:block;}:host([hidden]){display:none !important;}label{pointer-events:none;}</style><paper-input-container no-label-float$="[[noLabelFloat]]"always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]"auto-validate$="[[autoValidate]]"disabled$="[[disabled]]"invalid="[[invalid]]"><label hidden$="[[!label]]"aria-hidden="true"for$="[[_inputId]]"slot="label">[[label]]</label><iron-autogrow-textarea class="paper-input-input"slot="input"id$="[[_inputId]]"aria-labelledby$="[[_ariaLabelledBy]]"aria-describedby$="[[_ariaDescribedBy]]"label="[[label]]"bind-value="{{value}}"invalid="{{invalid}}"validator$="[[validator]]"disabled$="[[disabled]]"autocomplete$="[[autocomplete]]"autofocus$="[[autofocus]]"inputmode$="[[inputmode]]"name$="[[name]]"placeholder$="[[placeholder]]"readonly$="[[readonly]]"required$="[[required]]"minlength$="[[minlength]]"maxlength$="[[maxlength]]"autocapitalize$="[[autocapitalize]]"rows$="[[rows]]"max-rows$="[[maxRows]]"on-change="_onChange"></iron-autogrow-textarea><template is="dom-if"if="[[errorMessage]]"><paper-input-error aria-live="assertive"slot="add-on">[[errorMessage]]</paper-input-error></template><template is="dom-if"if="[[charCounter]]"><paper-input-char-counter slot="add-on"></paper-input-char-counter></template></paper-input-container></template></dom-module><script>Polymer({is:"paper-textarea-aria",behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{_ariaLabelledBy:{observer:"_ariaLabelledByChanged",type:String},_ariaDescribedBy:{observer:"_ariaDescribedByChanged",type:String},value:{type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0}},get selectionStart(){return this.$.input.textarea.selectionStart},set selectionStart(e){this.$.input.textarea.selectionStart=e},get selectionEnd(){return this.$.input.textarea.selectionEnd},set selectionEnd(e){this.$.input.textarea.selectionEnd=e},_ariaLabelledByChanged:function(e){this._focusableElement.setAttribute("aria-labelledby",e)},_ariaDescribedByChanged:function(e){this._focusableElement.setAttribute("aria-describedby",e)},get _focusableElement(){return this.inputElement.textarea}})</script><script>Polymer.IronRangeBehavior={properties:{value:{type:Number,value:0,notify:!0,reflectToAttribute:!0},min:{type:Number,value:0,notify:!0},max:{type:Number,value:100,notify:!0},step:{type:Number,value:1,notify:!0},ratio:{type:Number,value:0,readOnly:!0,notify:!0}},observers:["_update(value, min, max, step)"],_calcRatio:function(t){return(this._clampValue(t)-this.min)/(this.max-this.min)},_clampValue:function(t){return Math.min(this.max,Math.max(this.min,this._calcStep(t)))},_calcStep:function(t){if(t=parseFloat(t),!this.step)return t;var e=Math.round((t-this.min)/this.step);return this.step<1?e/(1/this.step)+this.min:e*this.step+this.min},_validateValue:function(){var t=this._clampValue(this.value);return this.value=this.oldValue=isNaN(t)?this.oldValue:t,this.value!==t},_update:function(){this._validateValue(),this._setRatio(100*this._calcRatio(this.value))}}</script><dom-module id="paper-progress"assetpath="../../bower_components/paper-progress/"><template><style>:host{display:block;width:200px;position:relative;overflow:hidden;}:host([hidden]), [hidden]{display:none !important;}#progressContainer{@apply --paper-progress-container;position:relative;}#progressContainer,
      /* the stripe for the indeterminate animation*/
      .indeterminate::after{height:var(--paper-progress-height, 4px);}#primaryProgress,
      #secondaryProgress,
      .indeterminate::after{@apply --layout-fit;}#progressContainer,
      .indeterminate::after{background:var(--paper-progress-container-color, var(--google-grey-300));}:host(.transiting) #primaryProgress,
      :host(.transiting) #secondaryProgress{-webkit-transition-property:-webkit-transform;transition-property:transform;-webkit-transition-duration:var(--paper-progress-transition-duration, 0.08s);transition-duration:var(--paper-progress-transition-duration, 0.08s);-webkit-transition-timing-function:var(--paper-progress-transition-timing-function, ease);transition-timing-function:var(--paper-progress-transition-timing-function, ease);-webkit-transition-delay:var(--paper-progress-transition-delay, 0s);transition-delay:var(--paper-progress-transition-delay, 0s);}#primaryProgress,
      #secondaryProgress{@apply --layout-fit;-webkit-transform-origin:left center;transform-origin:left center;-webkit-transform:scaleX(0);transform:scaleX(0);will-change:transform;}#primaryProgress{background:var(--paper-progress-active-color, var(--google-green-500));}#secondaryProgress{background:var(--paper-progress-secondary-color, var(--google-green-100));}:host([disabled]) #primaryProgress{background:var(--paper-progress-disabled-active-color, var(--google-grey-500));}:host([disabled]) #secondaryProgress{background:var(--paper-progress-disabled-secondary-color, var(--google-grey-300));}:host(:not([disabled])) #primaryProgress.indeterminate{-webkit-transform-origin:right center;transform-origin:right center;-webkit-animation:indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;animation:indeterminate-bar var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;}:host(:not([disabled])) #primaryProgress.indeterminate::after{content:"";-webkit-transform-origin:center center;transform-origin:center center;-webkit-animation:indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;animation:indeterminate-splitter var(--paper-progress-indeterminate-cycle-duration, 2s) linear infinite;}@-webkit-keyframes indeterminate-bar{0%{-webkit-transform:scaleX(1) translateX(-100%);}50%{-webkit-transform:scaleX(1) translateX(0%);}75%{-webkit-transform:scaleX(1) translateX(0%);-webkit-animation-timing-function:cubic-bezier(.28,.62,.37,.91);}100%{-webkit-transform:scaleX(0) translateX(0%);}}@-webkit-keyframes indeterminate-splitter{0%{-webkit-transform:scaleX(.75) translateX(-125%);}30%{-webkit-transform:scaleX(.75) translateX(-125%);-webkit-animation-timing-function:cubic-bezier(.42,0,.6,.8);}90%{-webkit-transform:scaleX(.75) translateX(125%);}100%{-webkit-transform:scaleX(.75) translateX(125%);}}@keyframes indeterminate-bar{0%{transform:scaleX(1) translateX(-100%);}50%{transform:scaleX(1) translateX(0%);}75%{transform:scaleX(1) translateX(0%);animation-timing-function:cubic-bezier(.28,.62,.37,.91);}100%{transform:scaleX(0) translateX(0%);}}@keyframes indeterminate-splitter{0%{transform:scaleX(.75) translateX(-125%);}30%{transform:scaleX(.75) translateX(-125%);animation-timing-function:cubic-bezier(.42,0,.6,.8);}90%{transform:scaleX(.75) translateX(125%);}100%{transform:scaleX(.75) translateX(125%);}}</style><div id="progressContainer"><div id="secondaryProgress"hidden$="[[_hideSecondaryProgress(secondaryRatio)]]"></div><div id="primaryProgress"></div></div></template></dom-module><script>Polymer({is:"paper-progress",behaviors:[Polymer.IronRangeBehavior],properties:{secondaryProgress:{type:Number,value:0},secondaryRatio:{type:Number,value:0,readOnly:!0},indeterminate:{type:Boolean,value:!1,observer:"_toggleIndeterminate"},disabled:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_disabledChanged"}},observers:["_progressChanged(secondaryProgress, value, min, max, indeterminate)"],hostAttributes:{role:"progressbar"},_toggleIndeterminate:function(e){this.toggleClass("indeterminate",e,this.$.primaryProgress)},_transformProgress:function(e,r){var s="scaleX("+r/100+")";e.style.transform=e.style.webkitTransform=s},_mainRatioChanged:function(e){this._transformProgress(this.$.primaryProgress,e)},_progressChanged:function(e,r,s,t,a){e=this._clampValue(e),r=this._clampValue(r);var i=100*this._calcRatio(e),o=100*this._calcRatio(r);this._setSecondaryRatio(i),this._transformProgress(this.$.secondaryProgress,i),this._transformProgress(this.$.primaryProgress,o),this.secondaryProgress=e,a?this.removeAttribute("aria-valuenow"):this.setAttribute("aria-valuenow",r),this.setAttribute("aria-valuemin",s),this.setAttribute("aria-valuemax",t)},_disabledChanged:function(e){this.setAttribute("aria-disabled",e?"true":"false")},_hideSecondaryProgress:function(e){return 0===e}})</script><dom-module id="yp-file-upload"assetpath="../yp-file-upload/"><template><style type="text/css">.enabled{border:1px dashed #555;}.hover{opacity:.7;border:1px dashed #111;}#UploadBorder{vertical-align:middle;color:#555;padding:8px;padding-right:16px;max-height:200px;overflow-y:auto;display:inline-block;}#dropArea{text-align:center;}paper-button{margin-bottom:8px;}.file{padding:10px 0px;}.commands{float:right;}.commands iron-icon:not([icon="check-circle"]){cursor:pointer;opacity:.9;}.commands iron-icon:hover{opacity:1;}[hidden]{display:none;}.error{color:#f40303;font-size:11px;margin:2px 0px -3px;}paper-progress{--paper-progress-active-color:#03a9f4;}paper-progress[error]{--paper-progress-active-color:#f40303;}[hidden]{display:none !important;}::slotted(iron-icon){padding-right:6px;}.mainContainer{@apply --layout-center-center;width:100%;}.removeButton{margin-bottom:18px;}.previewFrame{max-height:50px;max-width:89px;height:50px;width:89px;cursor:pointer;}.videoImages{overflow-x:auto;width:200px;max-height:70px;height:70px;}.videoPreviewContainer{}.selectedCover{border-top:2px solid var(--accent-color);max-height:50px;max-width:89px;white-space:nowrap;}.coverImage{max-height:50px;max-width:89px;white-space:nowrap;}.limitInfo{margin-top:0;color:#656565;text-align:center;@apply --layout-center-center;font-size:14px;}paper-button{min-width:100px;}.mainPhotoCheckbox{margin-top:4px;margin-bottom:4px;}</style><div class="layout vertical center-center mainContainer"><div class="layout vertical center-center"><div class="layout horizontal center-center"><paper-button id="button"icon="file-upload"class="blue"on-click="_fileClick"><slot></slot></paper-button><paper-icon-button aria-label$="[[t('deleteFile')]]"class="removeButton layout self-start"icon="delete"on-tap="clear"hidden$="[[!currentFile]]"></paper-icon-button></div><div hidden$="[[!uploadLimitSeconds]]"class="limitInfo layout horizontal center-center"><em hidden$="[[currentFile]]">[[uploadLimitSeconds]] [[t('seconds')]]</em></div></div><div id="UploadBorder"><template is="dom-repeat"items="{{files}}"><div class="file"><div class="name"><span>{{uploadStatus}}</span><div class="commands"><iron-icon icon="autorenew"title="{{retryText}}"on-click="_retryUpload"hidden$="{{!item.error}}"></iron-icon><iron-icon icon="cancel"title="{{removeText}}"on-click="_cancelUpload"hidden$="{{item.complete}}"></iron-icon><iron-icon icon="check-circle"title="{{successText}}"hidden$="{{!item.complete}}"></iron-icon></div></div><div class="error"hidden$="{{!item.error}}">{{errorText}}</div><div hidden$="{{item.complete}}"><paper-progress value$="{{item.progress}}"indeterminate$="[[indeterminateProgress]]"error$="{{item.error}}"></paper-progress></div></div></template><template is="dom-if"if="[[videoImages]]"restamp=""><video hidden=""controls=""class="previewVideo"url="[[previewVideoUrl]]"></video><div class="layout horizontal videoImages videoPreviewContainer"><div style="white-space: nowrap"><template is="dom-repeat"items="[[videoImages]]"as="image"><img class$="[[_classFromImageIndex(index)]]"data-index$="[[index]]"on-tap="_selectVideoCover"sizing="cover"class="previewFrame"src="[[image]]"></template><div class="layout horizontal mainPhotoCheckbox"hidden$="[[noDefaultCoverImage]]"><paper-checkbox id="useMainPhotoId"on-tap="_selectVideoCoverMainPhoto">[[t('useMainPhoto')]]</paper-checkbox></div></div></div></template></div><yp-ajax hidden=""id="transcodePollingAjax"method="PUT"on-response="_transcodePollingResponse"></yp-ajax><yp-ajax hidden=""id="startTranscodeAjax"method="POST"on-response="_startTranscodeResponse"></yp-ajax><yp-ajax hidden=""id="getVideoMetaAjax"on-response="_getVideoMetaResponse"></yp-ajax><yp-ajax hidden=""id="setVideoCoverAjax"method="PUT"></yp-ajax></div><input type="file"id="fileInput"capture$="[[capture]]"on-change="_fileChange"accept$="[[accept]]"hidden=""multiple="{{multi}}"></template></dom-module><script>Polymer({is:"yp-file-upload",behaviors:[Polymer.ypLanguageBehavior],properties:{target:{type:String,value:""},uploadLimitSeconds:{type:Number,value:null},progressHidden:{type:Boolean,value:!1},droppable:{type:Boolean,value:!1},dropText:{type:String,value:"Drop Files Here"},multi:{type:Boolean,value:!1},files:{type:Array,value:function(){return[]}},method:{type:String,value:"PUT"},raised:{type:Boolean,value:!1},noink:{type:Boolean,value:!1},headers:{type:Object,value:{}},retryText:{type:String,value:"Retry Upload"},removeText:{type:String,value:"Remove"},successText:{type:String,value:"Success"},errorText:{type:String,value:"Error uploading file..."},noDefaultCoverImage:{type:Boolean,value:!1},_shownDropText:{type:Boolean,value:!1},videoUpload:{type:Boolean,value:!1},audioUpload:{type:Boolean,value:!1},attachmentUpload:{type:Boolean,value:!1},currentVideoId:Number,currentAudioId:Number,transcodingJobId:Number,currentFile:{type:String,value:null,notify:!0},isPollingForTranscoding:{type:Boolean,value:!1},indeterminateProgress:{type:Boolean,value:!1},uploadStatus:{type:String},accept:{type:String,value:"image/*"},group:{type:Object,value:null},capture:{type:Boolean,value:!1},containerType:String,previewVideoUrl:{type:String,value:null},videoImages:{type:Array,value:null},selectedVideoCoverIndex:{type:Number,value:0},videoAspect:{type:String,value:null}},_classFromImageIndex:function(e){return e==this.selectedVideoCoverIndex?"selectedCover":"coverImage"},clear:function(){this.set("files",[]),this._showDropText(),this.set("uploadStatus",null),this.set("currentVideoId",null),this.set("currentAudioId",null),this.set("currentFile",null),this.set("transcodingJobId",null),this.set("indeterminateProgress",!1),this.set("capture",!1),this.set("previewVideoUrl",null),this.set("videoImages",null),this.set("isPollingForTranscoding",!1),this.set("useMainPhotoForVideoCover",!1),this.$.fileInput.value=null,this.videoUpload?this.fire("success",{detail:null,videoId:null}):this.audioUpload&&this.fire("success",{detail:null,audioId:null})},ready:function(){this.raised&&this.toggleAttribute("raised",!0,this.$.button),this.noink&&this.toggleAttribute("noink",!0,this.$.button),this.droppable&&(this._showDropText(),this.setupDrop()),this.videoUpload?(this.set("accept","video/*"),this.set("capture",!0)):this.audioUpload&&(this.set("accept","audio/*"),this.set("capture",!0)),this.uploadLimitSeconds||!this.videoUpload&&!this.audioUpload||this.set("uploadLimitSeconds",600)},setupDrop:function(){var s=this.$.UploadBorder;this.toggleClass("enabled",!0,s),this.ondragover=function(e){return e.stopPropagation(),this.toggleClass("hover",!0,s),!1},this.ondragleave=function(){return this.toggleClass("hover",!1,s),!1},this.ondrop=function(e){this.toggleClass("hover",!1,s),e.preventDefault();for(var t,i=e.dataTransfer.files.length,o=0;o<i;o++)(t=e.dataTransfer.files[o]).progress=0,t.error=!1,t.complete=!1,this.push("files",t),this.uploadFile(t)}},_hasRecorderApp:function(){var e=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,t=/Android/.test(navigator.userAgent)&&!window.MSStream,i=/Edge/.test(navigator.userAgent);return this.videoUpload?!(!e&&!t||i):!this.audioUpload},_fileClick:function(){var e=/firefox/.test(navigator.userAgent.toLowerCase())&&!window.MSStream,t=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),i=!!t&&parseInt(t[2],10),o=/SamsungBrowser/.test(navigator.userAgent),s=/Edge/.test(navigator.userAgent),a=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;this._hasRecorderApp()?this._openFileInput():!s&&(a&&this.audioUpload||e||i&&!o)?this._openMediaRecorder():this._openFileInput()},_openFileInput:function(e){e&&this.set("videoAspect",e);var t=this.$.fileInput;if(t&&document.createEvent){var i=document.createEvent("MouseEvents");i.initEvent("click",!0,!1),t.dispatchEvent(i)}},_openMediaRecorder:function(){window.appGlobals.activity("open","mediaRecorder"),Polymer.dom(document).querySelector("yp-app").getMediaRecorderAsync(function(e){e.open({callbackFunction:this._dataFromMediaRecorder.bind(this),videoRecording:this.videoUpload,audioRecording:this.audioUpload,uploadFileFunction:this._openFileInput.bind(this),maxLength:this.uploadLimitSeconds})}.bind(this))},_dataFromMediaRecorder:function(e){e.progress=0,e.error=!1,e.complete=!1,this.push("files",e),this.uploadFile(e)},_fileChange:function(e){for(var t,i=e.target.files.length,o=0;o<i;o++)(t=e.target.files[o]).progress=0,t.error=!1,t.complete=!1,this.push("files",t),this.uploadFile(t)},cancel:function(e){e&&e.xhr&&(e.xhr.abort(),this.splice("files",this.files.indexOf(e),1),this._showDropText())},_cancelUpload:function(e){this.cancel(e.model.__data__.item)},_retryUpload:function(e){e.model.set("item.error",!1),e.model.set("item.progress",0);var t=this;this.async(function(){t.uploadFile(e.model.__data__.item)},50)},_showDropText:function(){this.set("_shownDropText",!this.files.length&&this.droppable)},uploadFile:function(e){if(this.videoUpload||this.audioUpload||this.attachmentUpload){this.set("indeterminateProgress",!0),this.set("currentFile",e);var t=document.createElement("iron-ajax");t.handleAs="json",t.contentType="application/json";var i={};if(this.videoUpload)window.appGlobals.activity("starting","videoUpload"),this.set("uploadStatus",this.t("uploadingVideo")),this.headers={"Content-Type":"video/mp4"},this.group?t.url="/api/videos/"+this.group.id+"/createAndGetPreSignedUploadUrl":t.url="/api/videos/createAndGetPreSignedUploadUrlLoggedIn";else if(this.audioUpload)window.appGlobals.activity("starting","audioUpload"),this.set("uploadStatus",this.t("uploadingAudio")),this.headers={"Content-Type":"audio/mp4"},this.group?t.url="/api/audios/"+this.group.id+"/createAndGetPreSignedUploadUrl":t.url="/api/audios/createAndGetPreSignedUploadUrlLoggedIn";else if(this.attachmentUpload){if(window.appGlobals.activity("starting","attachmentUpload"),this.set("uploadStatus",this.t("uploadingAttachment")),!this.group)return void console.error("No group for attachment upload");t.url="/api/groups/"+this.group.id+"/getPresignedAttachmentURL",i={filename:e.name,contentType:e.type}}t.method="POST",t.body=i,t.addEventListener("response",function(e){this.target=e.detail.response.presignedUrl,this.videoUpload?this.set("currentVideoId",e.detail.response.videoId):this.audioUpload?this.set("currentAudioId",e.detail.response.audioId):this.attachmentUpload,this.method="PUT",this.set("indeterminateProgress",!1),this.reallyUploadFile(this.currentFile)}.bind(this)),t.generateRequest()}else window.appGlobals.activity("starting","imageUpload"),this.set("uploadStatus",this.t("uploadingImage")),this.reallyUploadFile(e)},_checkTranscodingJob:function(){this.async(function(){this.$.transcodePollingAjax.generateRequest()},1e3)},_getVideoMetaResponse:function(e,t){t.response.previewVideoUrl&&t.response.videoImages&&(this.set("previewVideoUrl",t.response.previewVideoUrl),this.set("videoImages",t.response.videoImages),this.set("uploadStatus",this.t("selectCoverImage")))},_getVideoMeta:function(){this.currentVideoId?(this.$.getVideoMetaAjax.url="/api/videos/"+this.currentVideoId+"/formatsAndImages",this.$.getVideoMetaAjax.generateRequest()):console.error("_getVideoImages no video id")},_selectVideoCover:function(e){var t=e.target.getAttribute("data-index");this.set("selectedVideoCoverIndex",t),this.$.setVideoCoverAjax.url="/api/videos/"+this.currentVideoId+"/setVideoCover",this.$.setVideoCoverAjax.body={frameIndex:t},this.$.setVideoCoverAjax.generateRequest();var i=this.videoImages;this.set("videoImages",null),this.async(function(){this.set("videoImages",i)}),this.set("useMainPhotoForVideoCover",!1)},_selectVideoCoverMainPhoto:function(){this.async(function(){this.$$("#useMainPhotoId")&&this.$$("#useMainPhotoId").checked&&(this.$.setVideoCoverAjax.url="/api/videos/"+this.currentVideoId+"/setVideoCover",this.$.setVideoCoverAjax.body={frameIndex:-2},this.$.setVideoCoverAjax.generateRequest())})},_transcodePollingResponse:function(e,t){var i="files."+this.files.indexOf(this.currentFile);"Complete"===t.response.status?(this.set(i+".complete",!0),this.set("uploadStatus",this.t("uploadCompleted")),this.videoUpload?(this.fire("success",{detail:t,videoId:this.currentVideoId}),this._getVideoMeta()):this.fire("success",{detail:t,audioId:this.currentAudioId}),this.fire("file-upload-complete"),window.appGlobals.activity("complete","mediaTranscoding")):t.error?(this.set(i+".error",!0),this.set(i+".complete",!1),this.set(i+".progress",100),this.updateStyles(),this.fire("error",{xhr:e}),this.fire("file-upload-complete"),window.appGlobals.activity("error","mediaTranscoding")):this._checkTranscodingJob()},_startTranscodeResponse:function(e,t){this.videoUpload?this.$.transcodePollingAjax.url="/api/videos/"+this.currentVideoId+"/getTranscodingJobStatus":this.$.transcodePollingAjax.url="/api/audios/"+this.currentAudioId+"/getTranscodingJobStatus",this.$.transcodePollingAjax.body={jobId:t.response.transcodingJobId},this._checkTranscodingJob()},reallyUploadFile:function(o){if(o){var s=this.videoAspect;s=s||(window.innerHeight>window.innerWidth?"portrait":"landscape"),this.fire("file-upload-starting"),this._showDropText();var a="files."+this.files.indexOf(o),r=this,n=o.xhr=new XMLHttpRequest;n.upload.onprogress=function(e){var t=e.loaded,i=e.total;r.set(a+".progress",Math.floor(t/i*1e3)/10)};var e=this.target.replace("<name>",o.name);for(key in n.open(this.method,e,!0),this.headers)this.headers.hasOwnProperty(key)&&n.setRequestHeader(key,this.headers[key]);if(n.onload=function(e){var t;if(200===n.status)if(this.videoUpload)this.set("indeterminateProgress",!0),this.set("uploadStatus",this.t("transcodingVideo")),this.group?this.$.startTranscodeAjax.url="/api/videos/"+this.group.id+"/"+this.currentVideoId+"/startTranscoding":this.$.startTranscodeAjax.url="/api/videos/"+this.currentVideoId+"/startTranscodingLoggedIn",(t="posts"===this.containerType?{videoPostUploadLimitSec:this.group.configuration.videoPostUploadLimitSec}:"points"===this.containerType?{videoPointUploadLimitSec:this.group.configuration.videoPointUploadLimitSec}:{}).aspect=s,this.$.startTranscodeAjax.body=t,this.$.startTranscodeAjax.generateRequest(),window.appGlobals.activity("complete","videoUpload"),window.appGlobals.activity("start","mediaTranscoding");else if(this.audioUpload){var i;this.set("indeterminateProgress",!0),this.set("uploadStatus",this.t("transcodingAudio")),this.group?this.$.startTranscodeAjax.url="/api/audios/"+this.group.id+"/"+this.currentAudioId+"/startTranscoding":this.$.startTranscodeAjax.url="/api/audios/"+this.currentAudioId+"/startTranscodingLoggedIn",i="posts"===this.containerType?{audioPostUploadLimitSec:this.group.configuration.audioPostUploadLimitSec}:"points"===this.containerType?{audioPointUploadLimitSec:this.group.configuration.audioPointUploadLimitSec}:{},this.$.startTranscodeAjax.body=i,this.$.startTranscodeAjax.generateRequest(),window.appGlobals.activity("complete","audioUpload"),window.appGlobals.activity("start","mediaTranscoding")}else this.attachmentUpload?(this.set("uploadStatus",this.t("uploadCompleted")),r.fire("file-upload-complete"),r.set(a+".complete",!0),r.fire("success",{filename:o.name,attachmentURL:this.target})):(this.set("uploadStatus",this.t("uploadCompleted")),r.fire("file-upload-complete"),r.set(a+".complete",!0),r.fire("success",{xhr:n,videoId:this.currentVideoId})),window.appGlobals.activity("complete","imageUpload");else r.fire("file-upload-complete"),r.set(a+".error",!0),r.set(a+".complete",!1),r.set(a+".progress",100),r.updateStyles(),r.fire("error",{xhr:n}),window.appGlobals.activity("error","mediaUpload")}.bind(this),this.videoUpload||this.audioUpload||this.attachmentUpload)n.send(o);else{var t=new FormData;t.append("file",o,o.name),n.send(t)}}}})</script><dom-module id="emoji-selector"assetpath="../yp-behaviors/"><template><style>:host{display:inline-block;}paper-tabs{height:30px;color:var(--emoji-selector-icon-color, black);background-color:var(--emoji-selector-background-color, #FFF);}paper-tab iron-icon{--iron-icon-width:18px;--iron-icon-height:18px;}#searchInput{--paper-input-container-input:{text-align:center;};}iron-pages{height:155px;}#menu{padding:0;}.box{background-color:var(--emoji-selector-background-color, #FFF);border-radius:2px;box-shadow:0 2px 5px 0 rgba(0,0,0,.26);width:270px;height:240px;font-size:15px;@apply --emoji-selector;}.section-title{padding:0;margin:0;font-size:11px;text-transform:uppercase;color:var(--emoji-selector-icon-color, black);}.emoji-section{height:100%;overflow-y:auto;flex-direction:column;flex-wrap:wrap;padding-left:8px;padding-top:5px;}.emoji-icon{cursor:pointer;text-align:center;display:inline-block;font-size:18px;line-height:24px;width:24px;height:24px;-webkit-transition:all .14s linear;-moz-transition:all .14s linear;-o-transition:all .14s linear;-ms-transition:all .14s linear;transition:all .14s linear;@apply --emoji-selector-icon;}.emoji-icon:hover{transform:scale(1.3, 1.3);-webkit-transform:scale(1.3, 1.3);@apply --emoji-selector-icon-hover;}paper-icon-button.clear-button{color:var(--paper-input-container-color);--iron-icon-width:15px;--iron-icon-height:15px;padding:0px 4px;margin-left:4px;}paper-listbox{background-color:#FFF;}.dropdown-trigger{color:#444;}</style><iron-media-query query="(max-width: 375px)"query-matches="{{smallScreen}}"></iron-media-query><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><paper-menu-button id="menu"vertical-align="top"vertical-offset="20"dynamic-align=""ignore-select=""><paper-icon-button title$="[[t('addEmoji')]]"icon="insert-emoticon"slot="dropdown-trigger"></paper-icon-button><paper-listbox slot="dropdown-content"><div class="box"><paper-input autofocus=""no-label-float=""id="searchInput"placeholder="[[t('findAnEmoji')]]"on-input="_onSearchInput"><paper-icon-button aria-label$="[[t('clearSearchInput')]]"suffix=""on-tap="_onClearSearchInput"id="clearSearch"class="clear-button hide"icon="clear"alt="clear"title="clear"tabindex="0"hidden=""></paper-icon-button></paper-input><paper-tabs selected="{{selected}}"id="tabs"tabindex="0"><paper-tab><iron-icon icon="history"></iron-icon></paper-tab><paper-tab><iron-icon icon="mood"></iron-icon></paper-tab><paper-tab><iron-icon icon="local-florist"></iron-icon></paper-tab><paper-tab><iron-icon icon="local-pizza"></iron-icon></paper-tab><paper-tab><iron-icon icon="cake"></iron-icon></paper-tab><paper-tab><iron-icon icon="directions-walk"></iron-icon></paper-tab><paper-tab><iron-icon icon="account-balance"></iron-icon></paper-tab><paper-tab><iron-icon icon="perm-phone-msg"></iron-icon></paper-tab></paper-tabs><iron-pages selected="{{selected}}"><div class="emoji-section"role="list"><p class="section-title">[[t('recentlyUsedEmoji')]]</p><template is="dom-repeat"id="resultList"items="{{recentlyUsedEmojis}}"><div class="emoji-icon"role="button"tabindex$="[[_tabIndex(index)]]"on-keydown="_keyDown"on-tap="_onEmojiClick">{{item}}</div></template></div><template is="dom-repeat"items="[[emojis]]"as="category"><div class="emoji-section"role="list"><p class="section-title">[[category.title]]</p><template is="dom-repeat"items="[[category.items]]"><div class="emoji-icon"role="button"tabindex$="[[_tabIndex(index)]]"on-keydown="_keyDown"on-tap="_onEmojiClick"title="{{item.keywords}}">{{item.char}}</div></template></div></template><div class="emoji-section"role="list"><p class="section-title">[[t('emojiSearchResults')]]</p><template is="dom-repeat"id="resultList2"items="{{searchResults}}"><div class="emoji-icon"role="button"tabindex$="[[_tabIndex(index)]]"on-keydown="_keyDown"on-tap="_onEmojiClick"title="{{item.keywords}}">{{item.char}}</div></template></div></iron-pages></div></paper-listbox></paper-menu-button></template></dom-module><script>Polymer({is:"emoji-selector",behaviors:[Polymer.ypLanguageBehavior],properties:{inputTarget:{type:Object},selected:{type:Number,value:0},emojis:{type:Array,value:[]},recentlyUsedEmojis:{type:Array,value:[]},searchResults:{type:Array,value:[]},smallScreen:{type:Boolean,value:!1}},_tabIndex:function(e){return e+1},_keyDown:function(e){13===e.keyCode&&this._onEmojiClick(e)},ready:function(){this.inputTarget=Polymer.dom(this).parentNode,this._selectedTabBeforeSearch=1},attached:function(){this._hasLocalStorage=this._checkLocalStorage(),this._hasLocalStorage&&(this._localStorageKey="__emoji-selector-recently-used__",this.recentlyUsedEmojis=JSON.parse(localStorage.getItem(this._localStorageKey))),null===this.recentlyUsedEmojis&&(this.recentlyUsedEmojis=[]),this._loadEmojiLib()},_loadEmojiLib:function(){var e=new XMLHttpRequest,t=this.resolveUrl("https://s3.amazonaws.com/yrpri-direct-asset/yrpri6/emojis.json");e.open("GET",t,!0);var s=this;e.onload=function(){200<=e.status&&e.status<400&&s._parseEmojiLib(JSON.parse(e.response))},e.send()},_parseEmojiLib:function(e){this.emojis=[{name:"people",items:[],title:"people"},{name:"nature",items:[],title:"nature"},{name:"foodanddrink",items:[],title:"food and drink"},{name:"celebration",items:[],title:"celebration"},{name:"activity",items:[],title:"activity"},{name:"travelandplaces",items:[],title:"travel and places"},{name:"objectsandsymbols",items:[],title:"objects and symbols"},{name:"flags",items:[],title:"flags"}];var t={people:0,nature:1,foodanddrink:2,celebration:3,activity:4,travelandplaces:5,objectsandsymbols:6,flags:7};for(var s in this._searchPageIndex=9,e){var i=t[e[s].category];if(void 0!==i){var a=e[s].keywords;-1==a.indexOf(s)&&a.push(s),this.emojis[i].items.push({char:e[s].char,keywords:a.join(" ").toLowerCase()})}}this.selected=0==this.recentlyUsedEmojis.length?1:0},_onEmojiClick:function(e){if(this.inputTarget){var t=e.target.textContent,s=this.recentlyUsedEmojis.indexOf(t);-1!=s&&this.splice("recentlyUsedEmojis",s,1),this.unshift("recentlyUsedEmojis",t),this._hasLocalStorage&&localStorage.setItem(this._localStorageKey,JSON.stringify(this.recentlyUsedEmojis));var i="";this.inputTarget.value&&(i=this.inputTarget.value);var a=this._updateValueAndPreserveCaret(i,t);this.inputTarget._onInput&&this.inputTarget._onInput({target:{value:a}}),this.inputTarget.focus(),this._closeMenu()}},_onSearchInput:function(){var e=this.$.searchInput.value.toLowerCase();if(""==e.trim()&&this.selected==this._searchPageIndex)return this.$.clearSearch.hidden=!0,void(this.selected=this._selectedTabBeforeSearch);if(this.selected!=this._searchPageIndex&&(this._selectedTabBeforeSearch=this.selected),this.$.clearSearch.hidden=!1,this.emojis){this.selected=this._searchPageIndex,this.searchResults=[];for(var t,s=0;s<this.emojis.length;s++){t=this.emojis[s];for(var i=0;i<t.items.length;i++)-1!=t.items[i].keywords.indexOf(e)&&this.push("searchResults",{char:t.items[i].char,keywords:t.items[i].keywords})}}},_onClearSearchInput:function(){this.$.clearSearch.hidden=!0,this.$.searchInput.value="",this.selected=this._selectedTabBeforeSearch},_closeMenu:function(){this.$.searchInput.focus(),this.selected!=this._searchPageIndex&&(this.$.searchInput.value=""),this.$.searchInput.selectionStart=0,this.$.menu.close(),this.$.tabs.notifyResize()},_updateValueAndPreserveCaret:function(e,t){var s,i,a=this.inputTarget.inputElement;i=a?(s=a.selectionStart||e.length,a.selectionEnd||e.length+1):(s=this.inputTarget.selectionStart||e.length,this.inputTarget.selectionEnd||e.length+1);var r=e.substring(0,s)+t+e.substring(i,e.length);return this.inputTarget.value=r,a?(a.selectionStart=s+t.length,a.selectionEnd=s+t.length):(this.inputTarget.selectionStart=s+t.length,this.inputTarget.selectionEnd=s+t.length),r},_computeHorizontalAlign:function(e){return e?"right":"left"},_checkLocalStorage:function(){var e="__emoji_test_local_storage__";try{return localStorage.setItem(e,"a"),localStorage.removeItem(e),!0}catch(e){return!1}}})</script><dom-module id="yp-edit-dialog"assetpath="../yp-edit-dialog/"><template><style include="iron-flex iron-flex-alignment">:host{background-color:#FFF;--paper-input-container-label:{font-family:var(--app-header-font-family, Roboto);};font-family:var(--app-header-font-family, Roboto);}paper-button{--paper-button:{font-family:var(--app-header-font-family, Roboto);};font-family:var(--app-header-font-family, Roboto);}.fullScreenDialog{position:absolute;display:block;top:0;bottom:0;margin:0;min-width:360px;max-width:1024px;width:100%;@apply --paper-fullscreen-dialog;}[main]{background-color:#fff;}#toolbar{background-color:#F00;color:var(--text-primary_color);max-height:70px !important;}#dismissBtn{margin-left:0;@apply --paper-fullscreen-dialog-dismissbtn;}paper-button[dialog-confirm]{background:none;min-width:44px;margin:6px 0 0 16px;}paper-button[disabled]{background-color:#FFF;}.title ::slotted(h2){@apply --paper-font-title;padding-top:2px;}paper-toast{z-index:9999;}#form > *{padding:24px 24px;}@media (max-width: 1024px){paper-dialog > *{padding:0 0;}.fullScreenDialog{min-width:320px;}}@media (max-width: 359px){.fullScreenDialog{min-width:320px;}}paper-dialog{background-color:#fff;}paper-header-panel{margin-top:0;padding-top:0 !important;}app-toolbar{margin-top:0;padding-top:0;}.popUpDialog{width:550px;}.popUpDialogDouble{width:840px;}#scroller{@apply --paper-fullscreen-dialog-content;padding:8px;}.scrollerContainer{height:100%;}@media (max-width: 1024px){paper-dialog > *{padding:0;margin:0;background-color:#FFF;}:host{max-height:100% !important;height:100% !important;}}paper-dialog[tablet] > *{padding:0;margin:0;background-color:#FFF;}paper-dialog[tablet]{max-width:3200px !important;}.toolbar{padding-top:8px;}.bigHeader{background-color:var(--accent-color);color:#FFF;margin:0;padding:16px;vertical-align:center;}.largeIcon{width:48px;height:48px;margin-left:8px;}.smallIcon{width:32px;height:32px;padding-right:8px;margin-top:7px;margin-left:8px;}.titleHeader{font-size:32px;padding-left:12px;padding-top:14px;font-weight:bold;}.titleHeaderMobile{font-size:20px;margin-bottom:auto;padding-left:2px;margin-top:auto;font-weight:bold;}.titleHeaderMobile[long-title-text]{font-size:19px;}.titleHeaderMobile[long-button-text]{font-size:16px;}#formErrorDialog{padding:12px;}.closeIconNarrow{width:48px;height:48px;padding-right:8px;margin-left:0;padding-left:0;}.smallButtonText{font-weight:bold;font-size:17px;text-align:center;}.smallButtonText[long-button-text]{font-size:14px;}.outerMobile{background-color:#FFF;padding:0;margin:0;}.smallHeader{background-color:var(--accent-color);color:#FFF;margin:0;padding:8px;vertical-align:center;max-height:70px !important;}.actionButtons{margin:8px;font-weight:bold;}@media all and (-ms-high-contrast:none){#scrollable{min-height:350px;}}paper-dialog[rtl]{direction:rtl;}paper-dialog, paper-checkbox{--paper-checkbox-label:{padding-right:6px;};}paper-dialog, paper-radio-button{--paper-radio-button-label:{padding-right:6px;};}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><paper-dialog rtl$="[[rtl]]"name$="[[name]]"id="editDialog"class$="[[_computeClass(narrow)]]"tablet$="[[tablet]]"on-iron-overlay-closed="_dialogClosed"with-backdrop$="[[!narrowPad]]"modal=""><iron-media-query query="(max-width: 1024px)"query-matches="{{narrowScreen}}"></iron-media-query><iron-media-query query="(max-width: 1024px)"query-matches="{{narrowPad}}"></iron-media-query><iron-media-query query="(min-height: 830px)"query-matches="{{largeHeight}}"></iron-media-query><iron-media-query query="(min-height: 1024px)"query-matches="{{mediumHeight}}"></iron-media-query><iron-media-query query="(max-height: 1024px)"query-matches="{{smallHeight}}"></iron-media-query><template is="dom-if"if="opened"restamp=""><template is="dom-if"if="[[narrow]]"restamp=""><div class="outerMobile"><div class="layout horizontal smallHeader"><paper-icon-button id="dismissBtn"aria-label$="[[t('close')]]"icon="close"class="closeIconNarrow"dialog-dismiss=""></paper-icon-button><iron-icon class="smallIcon"icon="[[icon]]"></iron-icon><div class="titleHeaderMobile"long-button-text$="[[hasLongSaveText]]"long-title-text$="[[hasLongTitle]]">[[title]]</div><div class="flex"></div><template is="dom-if"if="[[!useNextTabAction]]"><template is="dom-if"if="[[!uploadingState]]"><paper-button id="submit1"on-tap="_submit"hidden$="[[!saveText]]"class="smallButtonText"long-button-text$="[[hasLongSaveText]]"><span>[[saveText]]</span></paper-button></template><template is="dom-if"if="[[uploadingState]]"><paper-button disabled=""on-tap="_nextTab">[[t('uploading.inProgress')]]</paper-button></template></template><template is="dom-if"if="[[useNextTabAction]]"><paper-button on-tap="_nextTab"><span class="smallButtonText">[[nextActionText]]</span></paper-button></template></div><div id="scroller"><iron-form id="form"content-type="application/json"method="POST"action="[[action]]"iron-method="[[method]]"params="[[params]]"><form name="ypForm"method="POST"action="[[action]]"><slot></slot></form></iron-form></div><paper-spinner id="spinner"></paper-spinner></div></template><template is="dom-if"if="[[!narrow]]"restamp=""><div class="layout horizontal bigHeader"><iron-icon class="largeIcon"icon="[[icon]]"></iron-icon><div class="titleHeader">[[title]]</div></div><paper-dialog-scrollable id="scrollable"small-height$="[[smallHeight]]"medium-height$="[[mediumHeight]]"large-height$="[[largeHeight]]"><iron-form id="form"iron-method="[[method]]"action="[[action]]"params="[[params]]"><form name="ypForm"method="POST"action="[[action]]"><slot></slot></form></iron-form><paper-spinner id="spinner"></paper-spinner></paper-dialog-scrollable><div class="buttons"><paper-button hidden$="[[!cancelText]]"id="dismissBtn"dialog-dismiss="">[[cancelText]]</paper-button><paper-button hidden$="[[cancelText]]"id="dismissBtn"dialog-dismiss="">[[t('cancel')]]</paper-button><template is="dom-if"if="[[!uploadingState]]"><template is="dom-if"if="[[!useNextTabAction]]"><paper-button raised=""class="actionButtons"hidden$="[[!saveText]]"id="submit2"on-tap="_submit">[[saveText]]</paper-button></template><template is="dom-if"if="[[useNextTabAction]]"><paper-button raised=""class="actionButtons"on-tap="_nextTab">[[nextActionText]]</paper-button></template></template><template is="dom-if"if="[[uploadingState]]"><paper-button disabled=""on-tap="_nextTab">[[t('uploading.inProgress')]]</paper-button></template></div></template></template></paper-dialog><paper-dialog id="formErrorDialog"modal=""><div id="errorText">[[errorText]]</div><div class="buttons"><paper-button dialog-confirm=""autofocus=""on-tap="_clearErrorText">[[t('ok')]]</paper-button></div></paper-dialog><paper-toast id="toast"text="[[toastTextCombined]]"></paper-toast></template></dom-module><script>Polymer({is:"yp-edit-dialog",behaviors:[Polymer.ypLanguageBehavior],properties:{smallHeight:Boolean,mediumHeight:Boolean,largeHeight:Boolean,action:{type:String},tablet:{type:Boolean,value:!1},baseAction:{type:String},cancelText:{type:String,value:null},method:{type:String,value:"POST"},rtl:{type:Boolean,value:!1},buttonText:{type:String},errorText:{type:String},toastText:{type:String},toastTextCombined:{type:String},response:{type:Object,notify:!0},dialogOpen:{type:Boolean,value:!0},saveText:{type:String,value:null},narrowScreen:{type:Boolean,observer:"_narrowScreenChanged",notify:!0},narrow:{type:Boolean,computed:"_narrow(narrowScreen,tablet)"},params:{type:String},doubleWidth:{type:Boolean,value:!1},icon:{type:String},opened:{type:Boolean,value:!1},useNextTabAction:{type:Boolean,value:!1,notify:!0},nextActionText:{type:String},uploadingState:{type:Boolean,value:!1},bodyDialog:{type:Object},confirmationText:{type:String},title:String,name:String,customSubmit:{type:Boolean,value:!1},hasLongSaveText:{type:Boolean,computed:"_hasLongSaveText(saveText)"},hasLongTitle:{type:Boolean,computed:"_hasLongTitle(title)"}},_hasLongSaveText:function(t){return t&&12<t.length},_hasLongTitle:function(t){return t&&15<t.length},_narrow:function(t,i){return t||i},scrollResize:function(){this.$$("#scrollable")&&this.$$("#scrollable").fire("iron-resize")},_dialogClosed:function(t){"PAPER-DIALOG"===t.target.nodeName&&t.target.attributes.name&&t.target.attributes.name.nodeValue&&this.fire("yp-dialog-closed",{name:t.target.attributes.name.nodeValue})},_fileUploadStarting:function(){this.set("uploadingState",!0)},_fileUploadComplete:function(){this.set("uploadingState",!1)},_nextTab:function(){this.fire("next-tab-action")},_narrowScreenChanged:function(){this.fire("paper-responsive-change",{narrow:this.narrow})},_computeClass:function(t){return t?"fullScreenDialog":this.doubleWidth?"popUpDialogDouble":"popUpDialog"},listeners:{"iron-form-submit":"_formSubmitted","iron-form-response":"_formResponse","iron-form-error":"_formError","iron-form-invalid":"_formInvalid","file-upload-starting":"_fileUploadStarting","file-upload-complete":"_fileUploadComplete"},open:function(){this.set("opened",!1),this.async(function(){this.set("opened",!0),this.async(function(){this.$$("#editDialog").open()})})},close:function(){this.set("opened",!1),this.$$("#editDialog").close()},_formSubmitted:function(){},ready:function(){this.baseAction=this.action,/iPad/.test(navigator.userAgent)?this.set("tablet",!0):/Android/.test(navigator.userAgent)&&!/Mobile/.test(navigator.userAgent)?this.set("tablet",!0):this.set("tablet",!1)},_formResponse:function(t,i){this._setSubmitDisabledStatus(!1),this.$$("#spinner").active=!1,t&&t.detail&&t.detail.response&&t.detail.response.isError?console.log("There is an error in form handled by user"):(this.response=t,this.close(),i.response&&i.response.name?this.toastTextCombined=this.toastText+" "+i.response.name:this.toastTextCombined=this.toastText,this.$$("#toast").show())},_formError:function(t,i){if(!navigator.onLine&&"POST"===this.method&&window.fetch){var e=this.$$("#form").serializeForm(),s=this.$$("#form").action;window.appGlobals.sendWhenOnlineNext({body:e,method:this.method,params:this.params,url:s}),this.response={offlineSendLater:!0},this.close()}else navigator.onLine?(this._setSubmitDisabledStatus(!1),console.log("Form error: ",i.error),this._showErrorDialog(i.error),this.$$("#spinner").active=!1):this._showErrorDialog(this.t("youAreOfflineCantSend"))},_formInvalid:function(){this._setSubmitDisabledStatus(!1),this.$$("#spinner").active=!1},_submit:function(){this.customSubmit?this.fire("yp-custom-form-submit"):this.confirmationText?Polymer.dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(t){t.open(this.confirmationText,this._reallySubmit.bind(this))}.bind(this)):this._reallySubmit()},_setSubmitDisabledStatus:function(t){var i=this.$$("#submit1"),e=this.$$("#submit2");i&&(i.disabled=t),e&&(e.disabled=t)},_reallySubmit:function(){if(this._setSubmitDisabledStatus(!0),this.params&&this.params.communityId?this.action=this.baseAction+"/"+this.params.communityId:this.params&&this.params.groupId?this.action=this.baseAction+"/"+this.params.groupId:this.params&&this.params.organizationId?this.action=this.baseAction+"/"+this.params.organizationId:this.params&&this.params.userImages&&this.params.postId?this.action=this.baseAction+"/"+this.params.postId+"/user_images":this.params&&this.params.statusChange&&!0===this.params.disableStatusEmails&&this.params.postId?this.action=this.baseAction+"/"+this.params.postId+"/status_change_no_emails":this.params&&this.params.statusChange&&this.params.postId?this.action=this.baseAction+"/"+this.params.postId+"/status_change":this.params&&this.params.postId&&this.params.imageId?this.action=this.baseAction+"/"+this.params.postId+"/"+this.params.imageId+"/user_images":this.params&&this.params.postId?this.action=this.baseAction+"/"+this.params.postId:this.params&&this.params.userId?this.action=this.baseAction+"/"+this.params.userId:this.params&&this.params.domainId?this.action=this.baseAction+"/"+this.params.domainId:this.params&&this.params.categoryId&&(this.action=this.baseAction+"/"+this.params.categoryId),this.$$("#form").validate())this.$$("#form").submit(),this.$$("#spinner").active=!0;else{this.fire("iron-form-invalid");var t=this.t("form.invalid");this._showErrorDialog(t)}},submitForce:function(){this.$$("#spinner").active=!0,this.$$("#form").submit()},getForm:function(){return this.$$("#form")},stopSpinner:function(){this.$$("#spinner").active=!1},validate:function(){return this.$$("#form").validate()},_showErrorDialog:function(t){this.set("errorText",t),this.$$("#formErrorDialog").open()},_clearErrorText:function(){this.$$("#formErrorDialog").close(),this.set("errorText",null)}})</script><script>Polymer.ypEditDialogBehavior={properties:{new:{type:Boolean,value:!0,observer:"_setupNewUpdateState"},editHeaderText:{type:String},saveText:{type:String},toastText:{type:String},params:{type:String},method:{type:String,value:"POST"},refreshFunction:{type:Function,value:null}},listeners:{"iron-form-response":"_formResponse"},_logoImageUploaded:function(e,t){var s=JSON.parse(t.xhr.response);this.set("uploadedLogoImageId",s.id)},_headerImageUploaded:function(e,t){var s=JSON.parse(t.xhr.response);this.set("uploadedHeaderImageId",s.id)},_defaultDataImageUploaded:function(e,t){var s=JSON.parse(t.xhr.response);this.set("uploadedDefaultDataImageId",s.id)},_defaultPostImageUploaded:function(e,t){var s=JSON.parse(t.xhr.response);this.set("uploadedDefaultPostImageId",s.id)},customFormResponse:function(){},_formResponse:function(e,t){"function"==typeof this._customRedirect&&this._customRedirect(t.response),"function"==typeof this.refreshFunction&&this.refreshFunction(t.response),e&&e.detail&&e.detail.response&&e.detail.response.isError?console.log("Not clearing form because of user error"):this._clear(),this.customFormResponse(e,t)},_setupNewUpdateState:function(){this.new?(this.saveText=this.t("create"),this.method="POST"):(this.saveText=this.t("update"),this.method="PUT"),this._setupTranslation()},open:function(e,t){window.appUser&&!0===window.appUser.loggedIn()?(this.new=!(!e||"new"!==e),t&&(this.params=t),"function"==typeof this.setupAfterOpen&&this.setupAfterOpen(t),this.$$("#editDialog").open()):window.appUser.loginForEdit(this.id,e,t,this.refreshFunction)},close:function(){this.$.editDialog.close()}}</script><script>!function(){"use strict";Polymer.IronJsonpLibraryBehavior={properties:{libraryLoaded:{type:Boolean,value:!1,notify:!0,readOnly:!0},libraryErrorMessage:{type:String,value:null,notify:!0,readOnly:!0}},observers:["_libraryUrlChanged(libraryUrl)"],_libraryUrlChanged:function(){this._isReady&&this.libraryUrl&&this._loadLibrary()},_libraryLoadCallback:function(r,i){r?(Polymer.Base._warn("Library load failed:",r.message),this._setLibraryErrorMessage(r.message)):(this._setLibraryErrorMessage(null),this._setLibraryLoaded(!0),this.notifyEvent&&this.fire(this.notifyEvent,i,{composed:!0}))},_loadLibrary:function(){r.require(this.libraryUrl,this._libraryLoadCallback.bind(this),this.callbackName)},ready:function(){this._isReady=!0,this.libraryUrl&&this._loadLibrary()}};var r={apiMap:{},require:function(r,i,t){var e=this.nameFromUrl(r);this.apiMap[e]||(this.apiMap[e]=new a(e,r,t)),this.apiMap[e].requestNotify(i)},nameFromUrl:function(r){return r.replace(/[\:\/\%\?\&\.\=\-\,]/g,"_")+"_api"}},a=function(r,i,t){if(this.notifiers=[],!t){if(!(0<=i.indexOf(this.callbackMacro)))return void(this.error=new Error("IronJsonpLibraryBehavior a %%callback%% parameter is required in libraryUrl"));t=r+"_loaded",i=i.replace(this.callbackMacro,t)}this.callbackName=t,window[this.callbackName]=this.success.bind(this),this.addScript(i)};a.prototype={callbackMacro:"%%callback%%",loaded:!1,addScript:function(r){var i=document.createElement("script");i.src=r,i.onerror=this.handleError.bind(this);var t=document.querySelector("script")||document.body;t.parentNode.insertBefore(i,t),this.script=i},removeScript:function(){this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.script=null},handleError:function(){this.error=new Error("Library failed to load"),this.notifyAll(),this.cleanup()},success:function(){this.loaded=!0,this.result=Array.prototype.slice.call(arguments),this.notifyAll(),this.cleanup()},cleanup:function(){delete window[this.callbackName]},notifyAll:function(){this.notifiers.forEach(function(r){r(this.error,this.result)}.bind(this)),this.notifiers=[]},requestNotify:function(r){this.loaded||this.error?r(this.error,this.result):this.notifiers.push(r)}}}()</script><script>Polymer({is:"iron-jsonp-library",behaviors:[Polymer.IronJsonpLibraryBehavior],properties:{libraryUrl:String,callbackName:String,notifyEvent:String}})</script><script>!function(){"use strict";Polymer({is:"google-maps-api",behaviors:[Polymer.IronJsonpLibraryBehavior],properties:{mapsUrl:{type:String,value:"https://maps.googleapis.com/maps/api/js?callback=%%callback%%"},apiKey:{type:String,value:""},clientId:{type:String,value:""},version:{type:String,value:"3.exp"},language:{type:String,value:""},signedIn:{type:Boolean,value:!1},notifyEvent:{type:String,value:"api-load"},libraryUrl:{type:String,computed:"_computeUrl(mapsUrl, version, apiKey, clientId, language, signedIn)"}},_computeUrl:function(e,a,i,t,o,r){var n=e+"&v="+a;if(n+="&libraries=drawing,geometry,places,visualization",i&&!t&&(n+="&key="+i),t&&(n+="&client="+t),!i&&!t){console.warn("No Google Maps API Key or Client ID specified. See https://developers.google.com/maps/documentation/javascript/get-api-key for instructions to get started with a key or client id.")}return o&&(n+="&language="+o),r&&(n+="&signed_in="+r),n},get api(){return google.maps}})}()</script><script>Polymer({is:"iron-selector",behaviors:[Polymer.IronMultiSelectableBehavior]})</script><dom-module id="google-map-marker"assetpath="../../bower_components/google-map/"><template><style>:host{display:none;}</style><slot></slot></template><script>!function(){function t(){this.draggable?this.dragHandler_=google.maps.event.addListener(this.marker,"dragend",function(e,t,i){this.latitude=e.latLng.lat(),this.longitude=e.latLng.lng()}.bind(this)):(google.maps.event.removeListener(this.dragHandler_),this.dragHandler_=null)}Polymer({is:"google-map-marker",properties:{marker:{type:Object,notify:!0},map:{type:Object,observer:"_mapChanged"},info:{type:Object,value:null},clickEvents:{type:Boolean,value:!1,observer:"_clickEventsChanged"},dragEvents:{type:Boolean,value:!1,observer:"_dragEventsChanged"},icon:{type:Object,value:null,observer:"_iconChanged"},mouseEvents:{type:Boolean,value:!1,observer:"_mouseEventsChanged"},zIndex:{type:Number,value:0,observer:"_zIndexChanged"},longitude:{type:Number,value:null,notify:!0},latitude:{type:Number,value:null,notify:!0},label:{type:String,value:null,observer:"_labelChanged"},animation:{type:String,value:null,observer:"_animationChanged"},open:{type:Boolean,value:!1,observer:"_openChanged"}},observers:["_updatePosition(latitude, longitude)"],detached:function(){this.marker&&(google.maps.event.clearInstanceListeners(this.marker),this._listeners={},this.marker.setMap(null)),this._contentObserver&&this._contentObserver.disconnect()},attached:function(){this.marker&&this.marker.setMap(this.map)},_updatePosition:function(){this.marker&&null!=this.latitude&&null!=this.longitude&&this.marker.setPosition(new google.maps.LatLng(parseFloat(this.latitude),parseFloat(this.longitude)))},_clickEventsChanged:function(){this.map&&(this.clickEvents?(this._forwardEvent("click"),this._forwardEvent("dblclick"),this._forwardEvent("rightclick")):(this._clearListener("click"),this._clearListener("dblclick"),this._clearListener("rightclick")))},_dragEventsChanged:function(){this.map&&(this.dragEvents?(this._forwardEvent("drag"),this._forwardEvent("dragend"),this._forwardEvent("dragstart")):(this._clearListener("drag"),this._clearListener("dragend"),this._clearListener("dragstart")))},_mouseEventsChanged:function(){this.map&&(this.mouseEvents?(this._forwardEvent("mousedown"),this._forwardEvent("mousemove"),this._forwardEvent("mouseout"),this._forwardEvent("mouseover"),this._forwardEvent("mouseup")):(this._clearListener("mousedown"),this._clearListener("mousemove"),this._clearListener("mouseout"),this._clearListener("mouseover"),this._clearListener("mouseup")))},_animationChanged:function(){this.marker&&this.marker.setAnimation(google.maps.Animation[this.animation])},_labelChanged:function(){this.marker&&this.marker.setLabel(this.label)},_iconChanged:function(){this.marker&&this.marker.setIcon(this.icon)},_zIndexChanged:function(){this.marker&&this.marker.setZIndex(this.zIndex)},_mapChanged:function(){this.marker&&(this.marker.setMap(null),google.maps.event.clearInstanceListeners(this.marker)),this.map&&babelHelpers.instanceof(this.map,google.maps.Map)&&this._mapReady()},_contentChanged:function(){this._contentObserver&&this._contentObserver.disconnect(),this._contentObserver=new MutationObserver(this._contentChanged.bind(this)),this._contentObserver.observe(this,{childList:!0,subtree:!0});var e=this.innerHTML.trim();e?(this.info||(this.info=new google.maps.InfoWindow,this.openInfoHandler_=google.maps.event.addListener(this.marker,"click",function(){this.open=!0}.bind(this)),this.closeInfoHandler_=google.maps.event.addListener(this.info,"closeclick",function(){this.open=!1}.bind(this))),this.info.setContent(e)):this.info&&(google.maps.event.removeListener(this.openInfoHandler_),google.maps.event.removeListener(this.closeInfoHandler_),this.info=null)},_openChanged:function(){this.info&&(this.open?(this.info.open(this.map,this.marker),this.fire("google-map-marker-open")):(this.info.close(),this.fire("google-map-marker-close")))},_mapReady:function(){this._listeners={},this.marker=new google.maps.Marker({map:this.map,position:{lat:parseFloat(this.latitude),lng:parseFloat(this.longitude)},title:this.title,animation:google.maps.Animation[this.animation],draggable:this.draggable,visible:!this.hidden,icon:this.icon,label:this.label,zIndex:this.zIndex}),this._contentChanged(),this._clickEventsChanged(),this._dragEventsChanged(),this._mouseEventsChanged(),this._openChanged(),t.bind(this)()},_clearListener:function(e){this._listeners[e]&&(google.maps.event.removeListener(this._listeners[e]),this._listeners[e]=null)},_forwardEvent:function(t){this._listeners[t]=google.maps.event.addListener(this.marker,t,function(e){this.fire("google-map-marker-"+t,e)}.bind(this))},attributeChanged:function(e){if(this.marker)switch(e){case"hidden":this.marker.setVisible(!this.hidden);break;case"draggable":this.marker.setDraggable(this.draggable),t.bind(this)();break;case"title":this.marker.setTitle(this.title)}}})}()</script></dom-module><dom-module id="google-map"assetpath="../../bower_components/google-map/"><template><style>:host{position:relative;display:block;height:100%;}#map{position:absolute;top:0;right:0;bottom:0;left:0;}</style><google-maps-api id="api"api-key="[[apiKey]]"client-id="[[clientId]]"version="[[version]]"signed-in="[[signedIn]]"language="[[language]]"on-api-load="_mapApiLoaded"maps-url="[[mapsUrl]]"></google-maps-api><div id="map"></div><iron-selector id="selector"multi="[[!singleInfoWindow]]"selected-attribute="open"activate-event="google-map-marker-open"on-google-map-marker-close="_deselectMarker"><slot id="markers"name="markers"></slot></iron-selector><slot id="objects"></slot></template><script>!function(){"use strict";Polymer({is:"google-map",properties:{apiKey:String,mapsUrl:{type:String},clientId:String,latitude:{type:Number,value:37.77493,notify:!0,reflectToAttribute:!0},map:{type:Object,notify:!0,value:null},longitude:{type:Number,value:-122.41942,notify:!0,reflectToAttribute:!0},kml:{type:String,value:null,observer:"_loadKml"},zoom:{type:Number,value:10,observer:"_zoomChanged",notify:!0},noAutoTilt:{type:Boolean,value:!1},mapType:{type:String,value:"roadmap",observer:"_mapTypeChanged",notify:!0},version:{type:String,value:"3.exp"},disableDefaultUi:{type:Boolean,value:!1,observer:"_disableDefaultUiChanged"},disableMapTypeControl:{type:Boolean,value:!1,observer:"_disableMapTypeControlChanged"},disableStreetViewControl:{type:Boolean,value:!1,observer:"_disableStreetViewControlChanged"},fitToMarkers:{type:Boolean,value:!1,observer:"_fitToMarkersChanged"},disableZoom:{type:Boolean,value:!1,observer:"_disableZoomChanged"},styles:{type:Object,value:function(){return{}}},maxZoom:{type:Number,observer:"_maxZoomChanged"},minZoom:{type:Number,observer:"_minZoomChanged"},signedIn:{type:Boolean,value:!1},language:{type:String},clickEvents:{type:Boolean,value:!1,observer:"_clickEventsChanged"},dragEvents:{type:Boolean,value:!1,observer:"_dragEventsChanged"},mouseEvents:{type:Boolean,value:!1,observer:"_mouseEventsChanged"},additionalMapOptions:{type:Object,value:function(){return{}}},markers:{type:Array,value:function(){return[]},readOnly:!0},objects:{type:Array,value:function(){return[]},readOnly:!0},singleInfoWindow:{type:Boolean,value:!1}},behaviors:[Polymer.IronResizableBehavior],listeners:{"iron-resize":"resize"},observers:["_debounceUpdateCenter(latitude, longitude)"],attached:function(){this._initGMap()},detached:function(){this._markersChildrenListener&&(this.unlisten(this.$.selector,"items-changed","_updateMarkers"),this._markersChildrenListener=null),this._objectsMutationObserver&&(this._objectsMutationObserver.disconnect(),this._objectsMutationObserver=null)},_initGMap:function(){this.map||!0===this.$.api.libraryLoaded&&this.isAttached&&(this.map=new google.maps.Map(this.$.map,this._getMapOptions()),this._listeners={},this._updateCenter(),this._loadKml(),this._updateMarkers(),this._updateObjects(),this._addMapListeners(),this.fire("google-map-ready"))},_mapApiLoaded:function(){this._initGMap()},_getMapOptions:function(){var e={zoom:this.zoom,tilt:this.noAutoTilt?0:45,mapTypeId:this.mapType,disableDefaultUI:this.disableDefaultUi,mapTypeControl:!this.disableDefaultUi&&!this.disableMapTypeControl,streetViewControl:!this.disableDefaultUi&&!this.disableStreetViewControl,disableDoubleClickZoom:this.disableZoom,scrollwheel:!this.disableZoom,styles:this.styles,maxZoom:+this.maxZoom,minZoom:+this.minZoom};for(var t in null!=this.getAttribute("draggable")&&(e.draggable=this.draggable),this.additionalMapOptions)e[t]=this.additionalMapOptions[t];return e},_attachChildrenToMap:function(e){if(this.map)for(var t,i=0;t=e[i];++i)t.map=this.map},_observeMarkers:function(){this._markersChildrenListener||(this._markersChildrenListener=this.listen(this.$.selector,"items-changed","_updateMarkers"))},_updateMarkers:function(){var e=Array.prototype.slice.call(Polymer.dom(this.$.markers).getDistributedNodes());if(e.length===this.markers.length&&0===e.filter(function(e){return this.markers&&-1===this.markers.indexOf(e)}.bind(this)).length)return void(this._markersChildrenListener||this._observeMarkers());this._observeMarkers(),this._setMarkers(e),this._attachChildrenToMap(this.markers),this.fitToMarkers&&this._fitToMarkersChanged()},_observeObjects:function(){this._objectsMutationObserver||(this._objectsMutationObserver=new MutationObserver(this._updateObjects.bind(this)),this._objectsMutationObserver.observe(this,{childList:!0}))},_updateObjects:function(){var e=Array.prototype.slice.call(Polymer.dom(this.$.objects).getDistributedNodes());if(e.length===this.objects.length&&0===e.filter(function(e){return-1===this.objects.indexOf(e)}.bind(this)).length)return void this._observeObjects();this._observeObjects(),this._setObjects(e),this._attachChildrenToMap(this.objects)},clear:function(){for(var e,t=0;e=this.markers[t];++t)e.marker.setMap(null)},resize:function(){if(this.map){var e=this.latitude,t=this.longitude;google.maps.event.trigger(this.map,"resize"),this.latitude=e,this.longitude=t,this.fitToMarkers&&this._fitToMarkersChanged()}},_loadKml:function(){if(this.map&&this.kml)new google.maps.KmlLayer({url:this.kml,map:this.map})},_debounceUpdateCenter:function(){this.debounce("updateCenter",this._updateCenter)},_updateCenter:function(){if(this.cancelDebouncer("updateCenter"),this.map&&void 0!==this.latitude&&void 0!==this.longitude){var e=+this.latitude;if(isNaN(e))throw new TypeError("latitude must be a number");var t=+this.longitude;if(isNaN(t))throw new TypeError("longitude must be a number");var i=new google.maps.LatLng(e,t),s=this.map.getCenter();s?(s=new google.maps.LatLng(s.lat(),s.lng())).equals(i)||this.map.panTo(i):this.map.setCenter(i)}},_zoomChanged:function(){this.map&&this.map.setZoom(+this.zoom)},_idleEvent:function(){this.map?this._forwardEvent("idle"):this._clearListener("idle")},_clickEventsChanged:function(){this.map&&(this.clickEvents?(this._forwardEvent("click"),this._forwardEvent("dblclick"),this._forwardEvent("rightclick")):(this._clearListener("click"),this._clearListener("dblclick"),this._clearListener("rightclick")))},_dragEventsChanged:function(){this.map&&(this.dragEvents?(this._forwardEvent("drag"),this._forwardEvent("dragend"),this._forwardEvent("dragstart")):(this._clearListener("drag"),this._clearListener("dragend"),this._clearListener("dragstart")))},_mouseEventsChanged:function(){this.map&&(this.mouseEvents?(this._forwardEvent("mousemove"),this._forwardEvent("mouseout"),this._forwardEvent("mouseover")):(this._clearListener("mousemove"),this._clearListener("mouseout"),this._clearListener("mouseover")))},_maxZoomChanged:function(){this.map&&this.map.setOptions({maxZoom:+this.maxZoom})},_minZoomChanged:function(){this.map&&this.map.setOptions({minZoom:+this.minZoom})},_mapTypeChanged:function(){this.map&&this.map.setMapTypeId(this.mapType)},_disableDefaultUiChanged:function(){this.map&&this.map.setOptions({disableDefaultUI:this.disableDefaultUi})},_disableMapTypeControlChanged:function(){this.map&&this.map.setOptions({mapTypeControl:!this.disableMapTypeControl})},_disableStreetViewControlChanged:function(){this.map&&this.map.setOptions({streetViewControl:!this.disableStreetViewControl})},_disableZoomChanged:function(){this.map&&this.map.setOptions({disableDoubleClickZoom:this.disableZoom,scrollwheel:!this.disableZoom})},attributeChanged:function(e){if(this.map)switch(e){case"draggable":this.map.setOptions({draggable:this.draggable})}},_fitToMarkersChanged:function(){if(this.map&&this.fitToMarkers&&0<this.markers.length){for(var e,t=new google.maps.LatLngBounds,i=0;e=this.markers[i];++i)t.extend(new google.maps.LatLng(e.latitude,e.longitude));1<this.markers.length&&this.map.fitBounds(t),this.map.setCenter(t.getCenter())}},_addMapListeners:function(){google.maps.event.addListener(this.map,"center_changed",function(){var e=this.map.getCenter();this.latitude=e.lat(),this.longitude=e.lng()}.bind(this)),google.maps.event.addListener(this.map,"zoom_changed",function(){this.zoom=this.map.getZoom()}.bind(this)),google.maps.event.addListener(this.map,"maptypeid_changed",function(){this.mapType=this.map.getMapTypeId()}.bind(this)),this._clickEventsChanged(),this._dragEventsChanged(),this._mouseEventsChanged(),this._idleEvent()},_clearListener:function(e){this._listeners[e]&&(google.maps.event.removeListener(this._listeners[e]),this._listeners[e]=null)},_forwardEvent:function(t){this._listeners[t]=google.maps.event.addListener(this.map,t,function(e){this.fire("google-map-"+t,e)}.bind(this))},_deselectMarker:function(e){var t=this.$.selector.indexOf(e.target);this.singleInfoWindow?this.$.selector.selected=null:this.$.selector.selectedValues&&(this.$.selector.selectedValues=this.$.selector.selectedValues.filter(function(e){return e!==t}))}})}()</script></dom-module><script>!function(){"use strict";Polymer({is:"google-map-search",properties:{map:{type:Object,value:null},query:{type:String,value:null},latitude:{type:Number,value:null},longitude:{type:Number,value:null},radius:{type:Number,value:null},globalSearch:{type:Boolean,value:!1},types:{type:String,value:null},results:{type:Array,value:function(){return[]},notify:!0},location:{type:Object,value:null,readOnly:!0}},observers:["search(query,map,location,radius,types,globalSearch)","_updateLocation(latitude,longitude)"],search:function(){if(this.query&&this.map){var t=new google.maps.places.PlacesService(this.map);if(this.types&&"string"==typeof this.types)var e=this.types.split(" ");if(this.radius)var i=this.radius,s=this.location?this.location:this.map.getCenter();else if(!this.globalSearch)var a=this.map.getBounds();t.textSearch({query:this.query,types:e,bounds:a,radius:i,location:s},this._gotResults.bind(this))}},getDetails:function(t){var e=new google.maps.places.PlacesService(this.map);return new Promise(function(i,s){e.getDetails({placeId:t},function(t,e){e===google.maps.places.PlacesServiceStatus.OK?(i(t),this.fire("google-map-search-place-detail",t)):s(e)}.bind(this))}.bind(this))},_gotResults:function(t){this.results=t.map(function(t){return t.latitude=t.geometry.location.lat(),t.longitude=t.geometry.location.lng(),t}),this.fire("google-map-search-results",this.results)},_updateLocation:function(){if(this.map){if("number"!=typeof this.latitude||isNaN(this.latitude))throw new TypeError("latitude must be a number");if("number"!=typeof this.longitude||isNaN(this.longitude))throw new TypeError("longitude must be a number");this._setLocation({lat:this.latitude,lng:this.longitude})}}})}()</script><dom-module id="yp-post-location"assetpath="../yp-post/"><template><style include="iron-flex iron-flex-alignment">:host{display:block;width:100%;height:100%;}.location-button{@apply --layout-horizontal;@apply --layout-flex;}#map{width:100%;height:100%;}@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none){#map{min-height:220px;}}.mapSearchInput{width:100%;margin-top:8px;}paper-input{width:250px;}.searchResultText{width:100%;text-align:right;padding-top:8px;}paper-button{font-size:16px;padding-top:32px;}@media (max-width: 390px){#map{max-height:180px;}}@media (max-width: 320px){#map{max-height:160px;}}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><iron-media-query query="(max-width: 1024px)"query-matches="{{narrowPad}}"></iron-media-query><google-map-search id="mapSearch"map="[[map]]"on-google-map-search-results="_mapSearchResults"></google-map-search><google-map additional-map-options="{&quot;keyboardShortcuts&quot;:false}"id="map"zoom="[[mapZoom]]"api-key="AIzaSyDkF_kak8BVZA5zfp5R4xRnrX8HP3hjiL0"map="{{map}}"libraries="places"on-map-type-changed="_mapTypeChanged"class="map"click-events=""on-zoom-changed="_zoomChanged"on-google-map-click="_setLocation"fit-to-markers=""><google-map-marker slot="markers"latitude="[[defaultLatitude]]"longitude="[[defaultLongitude]]"id="marker"></google-map-marker></google-map><div class="mapSearchInput layout vertical center-center"><div class="layout horizontal center-center wrap"><paper-input max-length="60"label="[[t('maps.searchInput')]]"value="{{mapSearchString}}"on-keydown="_submitOnEnter"></paper-input><paper-button on-tap="_searchMap">[[t('maps.search')]]</paper-button></div><div class="searchResultText layout horizontal center-center">[[mapSearchResultAddress]]</div><paper-spinner id="spinner"></paper-spinner></div></template><script>Polymer({is:"yp-post-location",behaviors:[Polymer.ypLanguageBehavior],properties:{map:{type:Object},group:{type:Object,observer:"_groupChanged"},defaultLatitude:{type:String,value:"64.13897027178841"},defaultLongitude:{type:String,value:"-21.876912117004395"},mapSearchString:{type:String,value:""},mapSearchResultAddress:{type:String,value:""},location:{type:Object,observer:"_locationChanged",notify:!0},mapZoom:{type:Number,value:13,computed:"_computeMapZoom(location)"},encodedLocation:{type:String,notify:!0},post:{type:Object,observer:"_postChanged"},marker:{type:Object},active:{type:Boolean,value:!1},narrowPad:Boolean},_computeMapZoom:function(t){return t&&t.map_zoom?t.map_zoom:this.mapZoom},_submitOnEnter:function(t){13===t.keyCode&&this._searchMap()},_searchMap:function(){this.$.mapSearch.query=this.mapSearchString,this.$.mapSearch.search(),this.$.spinner.active=!0,this.set("mapSearchResultAddress","")},_mapSearchResults:function(t,o){this.$.spinner.active=!1,o&&0<o.length&&(this.set("location",{latitude:o[0].latitude,longitude:o[0].longitude,map_zoom:15}),this.mapSearchResultAddress=o[0].formatted_address,this.$.map.zoom=15,this.$.map.resize())},ready:function(){this.location||this.async(function(){"geolocation"in navigator&&navigator.geolocation.getCurrentPosition(function(t){this.location||(this.location={latitude:t.coords.latitude,longitude:t.coords.longitude,map_zoom:13})}.bind(this))},50)},_zoomChanged:function(t,o){o&&o.value&&this.set("location.map_zoom",o.value),this.set("encodedLocation",JSON.stringify(this.location))},_mapTypeChanged:function(t,o){o&&o.value&&this.set("location.mapType",o.value),this.set("encodedLocation",JSON.stringify(this.location))},_locationChanged:function(t){t&&(this.$.marker.setAttribute("latitude",t.latitude),this.$.marker.setAttribute("longitude",t.longitude),t.map_zoom&&(this.$.map.zoom=t.map_zoom),t.mapType&&(this.$.map.mapType=t.mapType),this.$.map.resize(),this.set("encodedLocation",JSON.stringify(t)))},_setLocation:function(t,o){this.set("location",{latitude:o.latLng.lat(),longitude:o.latLng.lng(),mapType:this.$.map.mapType,map_zoom:this.$.map.zoom})},_groupChanged:function(t){var o;t&&(t.configuration&&t.configuration.defaultLocationLongLat&&""!=t.configuration.defaultLocationLongLat&&1<t.configuration.defaultLocationLongLat.split(",").length?(o=t.configuration.defaultLocationLongLat.trim().split(","),this.set("defaultLongitude",o[0]),this.set("defaultLatitude",o[1])):t.Community&&t.Community.configuration&&t.Community.configuration.defaultLocationLongLat&&""!=t.Community.configuration.defaultLocationLongLat&&1<t.Community.configuration.defaultLocationLongLat.split(",").length&&(o=t.Community.configuration.defaultLocationLongLat.trim().split(","),this.set("defaultLongitude",o[0]),this.set("defaultLatitude",o[1])))},_postChanged:function(t){t||this.set("location",null)}})</script></dom-module><dom-module id="yp-simple-html-editor"assetpath="../yp-survey-group/"><template><style include="iron-flex iron-flex-alignment">:host{display:inline-block;margin-top:8px;width:100%;}#htmlEditor{width:100%;height:300px;border-top:1px solid #cccccc;border-bottom:1px solid #888888;outline:none;overflow:auto;padding-top:8px;padding-bottom:8px;transition:border-bottom-color 0.1s;}#htmlEditor:focus{border-bottom:2px solid var(--accent-color);}#htmlEditor[has-error]{border-bottom:2px solid #dd2c00 !important;}.characterCounter{color:#212121;font-size:12px;text-align:right;width:100%;transition:color 0.1s;margin-top:1px;}.characterCounter[has-focus]{color:var(--accent-color);margin-top:0px;}.characterCounter[has-error]{color:#dd2c00 !important;}@media (max-width: 800px){#htmlEditor{height:220px;}}</style><div class="layout horizontal wrap"><div class="layout horizontal"><paper-icon-button aria-label$="[[t('formatBold')]]"icon="format-bold"on-mousedown="_toggleBoldM"on-tap="_toggleBold"></paper-icon-button><paper-icon-button aria-label$="[[t('formatItalic')]]"icon="format-italic"on-mousedown="_toggleItalicM"on-tap="_toggleItalic"></paper-icon-button><paper-icon-button aria-label$="[[t('formatUnderline')]]"icon="format-underlined"on-mousedown="_toggleUnderlineM"on-tap="_toggleUnderline"></paper-icon-button><paper-icon-button aria-label$="[[t('formatListBullets')]]"icon="format-list-bulleted"on-mousedown="_toggleListBulletsM"on-tap="_toggleListBullets"></paper-icon-button><paper-icon-button aria-label$="[[t('formatListNumbered')]]"icon="format-list-numbered"on-mousedown="_toggleListNumbersM"on-tap="_toggleListNumbers"></paper-icon-button></div><div class="layout horizontal"><paper-icon-button aria-label$="[[t('formatLeft')]]"icon="format-align-left"on-mousedown="_toggleAlignLeftM"on-tap="_toggleAlignLeft"></paper-icon-button><paper-icon-button aria-label$="[[t('formatCenter')]]"icon="format-align-center"on-mousedown="_toggleAlignCenterM"on-tap="_toggleAlignCenter"></paper-icon-button><paper-icon-button aria-label$="[[t('formatRight')]]"icon="format-align-right"on-mousedown="_toggleAlignRightM"on-tap="_toggleAlignRight"></paper-icon-button></div><div class="layout horizontal"><paper-icon-button aria-label$="[[t('formatH1')]]"icon="format-header-1"on-mousedown="_toggleH1M"on-tap="_toggleH1"></paper-icon-button><paper-icon-button aria-label$="[[t('formatH2')]]"icon="format-header-2"on-mousedown="_toggleH2M"on-tap="_toggleH2"></paper-icon-button><paper-icon-button aria-label$="[[t('formatH3')]]"icon="format-header-3"on-mousedown="_toggleH3M"on-tap="_toggleH3"></paper-icon-button><paper-icon-button aria-label$="[[t('formatH4')]]"icon="format-header-4"on-mousedown="_toggleH4M"on-tap="_toggleH4"></paper-icon-button><paper-icon-button aria-label$="[[t('formatH5')]]"icon="format-header-5"on-mousedown="_toggleH5M"on-tap="_toggleH5"></paper-icon-button><paper-icon-button aria-label$="[[t('formatH6')]]"icon="format-header-6"on-mousedown="_toggleH6M"on-tap="_toggleH6"></paper-icon-button><paper-icon-button aria-label$="[[t('formatP')]]"icon="format-paragraph"on-mousedown="_toggleHPM"on-tap="_toggleP"></paper-icon-button><paper-icon-button aria-label$="[[t('formatClear')]]"icon="format-clear"on-mousedown="_clearFormatM"on-tap="_clearFormat"></paper-icon-button></div></div><div id="htmlEditor"has-error$="[[showErrorLine]]"on-focus="_setFocus"on-blur="_setBlur"contenteditable="true"spellcheck="false"on-keydown="_keydown"on-paste="_paste"on-click="_changed"on-keyup="_changed"on-changed="_changed"></div><div has-focus$="[[hasFocus]]"has-error$="[[showErrorLine]]"class="layout end characterCounter">[[characterCount]]<span hidden$="[[!question.maxLength]]">/[[question.maxLength]]</span></div></template><script>var YpSimpleHtmlEditor=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_setFocus",value:function(){this.set("hasFocus",!0),this._isFirefox()&&this.allowFirefoxFocusHack&&setTimeout(function(){this.allowFirefoxFocusHack=!1,this.shadowRoot.querySelector("#htmlEditor").blur(),this.shadowRoot.querySelector("#htmlEditor").focus(),setTimeout(function(){this.allowFirefoxFocusHack=!0}.bind(this),150)}.bind(this))}},{key:"_setBlur",value:function(){this.set("hasFocus",!1)}},{key:"setRichValue",value:function(e){this.set("value",e),this.shadowRoot.querySelector("#htmlEditor").innerHTML=this.value}},{key:"_updateCharacterCounter",value:function(){var e=this.shadowRoot.querySelector("#htmlEditor").textContent;e?this.set("characterCount",e.length):this.set("characterCount",0)}},{key:"_keydown",value:function(e){if(this._updateCharacterCounter(),this.set("showErrorLine",!1),this.question.maxLength){var t=[8,37,38,39,40].includes(e.keyCode),i=e.ctrlKey&&[65,90,86,67,88,8].includes(e.keyCode);if(t||i)return;this.characterCount>=this.question.maxLength&&e.preventDefault()}}},{key:"_paste",value:function(e){if(this.question.maxLength){var t=(e.clipboardData||window.clipboardData).getData("text/plain"),i=e.target.textContent.length,o=window.getSelection().toString(),a=this.question.maxLength-i+o.length,n=t.substring(0,a);e.preventDefault(),this._masterCommand("insertHTML",!1,n)}setTimeout(function(){this._updateCharacterCounter()}.bind(this))}},{key:"_changed",value:function(){this.set("value",this.shadowRoot.querySelector("#htmlEditor").innerHTML),this._updateCharacterCounter()}},{key:"validate",value:function(){return this.question.required?this.value&&0<this.value.length?(this.set("showErrorLine",!1),!0):(this.set("showErrorLine",!0),!1):(this.set("showErrorLine",!1),!0)}},{key:"_isSafariOrIe11",value:function(){return-1<navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&-1===navigator.userAgent.indexOf("iPhone")&&-1===navigator.userAgent.indexOf("iPad")||/Trident.*rv[ :]*11\./.test(navigator.userAgent)}},{key:"_isFirefox",value:function(){return-1<navigator.userAgent.indexOf("Firefox")}},{key:"_clearFormat",value:function(){this._masterCommand("removeFormat"),this._masterCommand("formatBlock",!1,"p")}},{key:"_clearFormatM",value:function(){this._isSafariOrIe11()&&this._clearFormat()}},{key:"_toggleH1",value:function(){this._masterCommand("formatBlock",!1,"h1")}},{key:"_toggleH1M",value:function(){this._isSafariOrIe11()&&this._toggleH1()}},{key:"_toggleH2",value:function(){this._masterCommand("formatBlock",!1,"h2")}},{key:"_toggleH2M",value:function(){this._isSafariOrIe11()&&this._toggleH2()}},{key:"_toggleH3",value:function(){this._masterCommand("formatBlock",!1,"h3")}},{key:"_toggleH3M",value:function(){this._isSafariOrIe11()&&this._toggleH3()}},{key:"_toggleH4",value:function(){this._masterCommand("formatBlock",!1,"h4")}},{key:"_toggleH4M",value:function(){this._isSafariOrIe11()&&this._toggleH4()}},{key:"_toggleH5",value:function(){this._masterCommand("formatBlock",!1,"h5")}},{key:"_toggleH5M",value:function(){this._isSafariOrIe11()&&this._toggleH5()}},{key:"_toggleH6",value:function(){this._masterCommand("formatBlock",!1,"h6")}},{key:"_toggleH6M",value:function(){this._isSafariOrIe11()&&this._toggleH6()}},{key:"_toggleP",value:function(){this._masterCommand("formatBlock",!1,"p")}},{key:"_togglePM",value:function(){this._isSafariOrIe11()&&this._toggleP()}},{key:"_toggleAlignLeft",value:function(){this._masterCommand("JustifyLeft",!1,"")}},{key:"_toggleAlignLeftM",value:function(){this._isSafariOrIe11()&&this._toggleAlignLeft()}},{key:"_toggleAlignRight",value:function(){this._masterCommand("JustifyRight",!1,"")}},{key:"_toggleAlignRightM",value:function(){this._isSafariOrIe11()&&this._toggleAlignRight()}},{key:"_toggleAlignCenter",value:function(){this._masterCommand("JustifyCenter",!1,"")}},{key:"_toggleAlignCenterM",value:function(){this._isSafariOrIe11()&&this._toggleAlignCenter()}},{key:"_toggleAlignJustify",value:function(){this._masterCommand("JustifyFull",!1,"")}},{key:"_toggleAlignJustifyM",value:function(){this._isSafariOrIe11()&&this._toggleAlignJustify()}},{key:"_toggleBold",value:function(){this._masterCommand("bold")}},{key:"_toggleBoldM",value:function(){this._isSafariOrIe11()&&this._toggleBold()}},{key:"_toggleItalic",value:function(){this._masterCommand("italic")}},{key:"_toggleItalicM",value:function(){this._isSafariOrIe11()&&this._toggleItalic()}},{key:"_toggleUnderline",value:function(){this._masterCommand("underline")}},{key:"_toggleUnderlineM",value:function(){this._isSafariOrIe11()&&this._toggleUnderline()}},{key:"_toggleListBullets",value:function(){this._masterCommand("insertUnorderedList")}},{key:"_toggleListBulletsM",value:function(){this._isSafariOrIe11()&&this._toggleListBullets()}},{key:"_toggleListNumbers",value:function(){this._masterCommand("insertOrderedList")}},{key:"_toggleListNumbersM",value:function(){this._isSafariOrIe11()&&this._toggleListNumbers()}},{key:"_masterCommand",value:function(e,t,i){document.execCommand(e,t,i),this._changed()}},{key:"ready",value:function(){window.i18nTranslation&&this.set("language",window.locale),babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"ready",this).call(this)}}],[{key:"is",get:function(){return"yp-simple-html-editor"}},{key:"properties",get:function(){return{question:{type:Object},index:{type:Number},language:{type:String},useSmallFont:{type:Boolean,value:!1},value:{type:String,value:""},characterCount:{type:Number,value:0},hasFocus:{type:Boolean,value:!1},allowFirefoxFocusHack:{type:Boolean,value:!0},showErrorLine:{type:Boolean,value:!1}}}}]),t}(Polymer.Element);customElements.define(YpSimpleHtmlEditor.is,YpSimpleHtmlEditor)</script></dom-module><dom-module id="yp-structured-question-edit"assetpath="../yp-survey-group/"><template><style include="iron-flex iron-flex-alignment">:host{display:block;font-size:16px;}a{color:#000;}.question{margin-top:32px;margin-bottom:8px;color:#000;font-size:18px;line-height:1.5;}.question[less-margin-top]{margin-top:24px;}.question[use-small-font]{font-size:16px;}hr{border-top:2px dashed var(--accent-color);margin-top:48px;margin-bottom:32px;}.general{color:#000;}.noBottomMargin{margin-bottom:0;}.header[is-not-first]{margin-top:54px;}paper-dropdown-menu{margin-top:16px;}.numberInput{}paper-checkbox{margin-bottom:16px;}paper-input, paper-textarea-aria{--paper-input-container-label:{color:#000;font-size:18px;font-family:var(--app-header-font-family, Roboto);};font-family:var(--app-header-font-family, Roboto);}paper-input[use-small-font], paper-textarea-aria[use-small-font]{--paper-input-container-label:{font-size:16px;};}paper-input{margin-bottom:32px;}paper-radio-group{margin-top:16px;margin-bottom:16px;font-size:16px;}paper-radio-button{--paper-radio-button-label-color:#252525;font-size:16px;}.checkBoxesLabel{margin-bottom:36px;}.radiosLabel{margin-bottom:16px;margin-top:48px;}.radiosLabel[is-first-rating]{margin-top:24px;}paper-textarea-aria.textAreaLong{--paper-input-container:{margin:0;padding:0;};}paper-input.textAreaLong{--paper-input-container:{margin:0;padding:0;};}.longQuestion{font-size:18px;font-weight:400;color:#252525;padding-bottom:0;margin-bottom:0;}.longQuestion[use-small-font]{font-size:16px;color:#252525;}.longQuestion[is-from-new-post]{color:#757575;}.question[is-from-new-post]{color:#757575;}.longQuestion[has-content]{font-size:12px;}.longQuestion[has-focus]{color:var(--accent-color);}paper-checkbox{--paper-checkbox-label-color:#252525;margin-left:42px;margin-bottom:24px;}.general[less-bottom-margin]{margin-bottom:-32px;}.general[extra-top-margin]{margin-top:32px;}.lessBottomMargin{margin-bottom:-32px;}[hidden]{display:none !important;}.header{font-size:26px;font-weight:bold;line-height:1.5;}.header[smaller-font]{font-size:24px;}.header[is-first]{background-color:var(--accent-color);color:#FFF;font-size:32px;padding:24px;}@media (min-width: 800px){paper-input[half-width-desktop]{width:50%;}:host{padding:0;margin:0;}}paper-radio-button{margin-left:24px;}.specifyInput{max-width:220px;margin-left:24px;margin-top:-16px;margin-bottom:0;}.specifyCheckBox{margin-left:42px;margin-bottom:12px;}@media (max-width: 600px){.header{font-size:22px;}.header[smaller-font]{font-size:20px;}.header[is-first]{font-size:24px;}}paper-radio-group[invalid] paper-radio-button{--paper-radio-button-label-color:red;--paper-radio-button-unchecked-color:red;}paper-dropdown-menu{background-color:transparent;}</style><template is="dom-if"if="[[_isTextField(question)]]"><template is="dom-if"if="[[_isNumberSubType(question)]]"><paper-input id="structuredQuestion_[[index]]"value="{{question.value}}"always-float-label="[[_floatIfValueOrIE(question.value)]]"label="[[_getTextWithIndex(question)]]"char-counter=""use-small-font$="[[useSmallFont]]"title$="[[question.text]]"on-keypress="_keyPressed"type="text"allowed-pattern="[0-9]"half-width-desktop$="[[question.halfWidthDesktop]]"on-value-changed="_debounceChangeEvent"required$="[[question.required]]"maxlength="[[question.maxLength]]"></paper-input></template><template is="dom-if"if="[[!_isNumberSubType(question)]]"><paper-input id="structuredQuestion_[[index]]"value="{{question.value}}"always-float-label="[[_floatIfValueOrIE(question.value)]]"label="[[_getTextWithIndex(question)]]"char-counter=""use-small-font$="[[useSmallFont]]"title$="[[question.text]]"on-keypress="_keyPressed"type="[[question.subType]]"half-width-desktop$="[[question.halfWidthDesktop]]"on-value-changed="_debounceChangeEvent"required$="[[question.required]]"maxlength="[[question.maxLength]]"></paper-input></template></template><template is="dom-if"if="[[_isTextFieldLong(question)]]"><div class="question general longQuestion"has-focus$="[[longFocus]]"is-from-new-post$="[[isFromNewPost]]"use-small-font$="[[useSmallFont]]"id="structuredQuestionIntro_[[index]]"inner-h-t-m-l="[[_getTextWithIndex(question)]]"></div><template is="dom-if"if="[[_isNumberSubType(question)]]"><paper-input id="structuredQuestion_[[index]]"value="{{question.value}}"char-counter=""use-small-font$="[[useSmallFont]]"on-keypress="_keyPressed"on-focus="setLongFocus"on-blur="setLongUnFocus"allowed-pattern="[0-9]"type="text"title$="[[question.text]]"no-label-float=""half-width-desktop$="[[question.halfWidthDesktop]]"on-value-changed="_debounceChangeEvent"required$="[[question.required]]"maxlength="[[question.maxLength]]"></paper-input></template><template is="dom-if"if="[[!_isNumberSubType(question)]]"><paper-input id="structuredQuestion_[[index]]"value="{{question.value}}"char-counter=""use-small-font$="[[useSmallFont]]"on-keypress="_keyPressed"on-focus="setLongFocus"on-blur="setLongUnFocus"type="[[question.subType]]"title$="[[question.text]]"no-label-float=""half-width-desktop$="[[question.halfWidthDesktop]]"on-value-changed="_debounceChangeEvent"required$="[[question.required]]"maxlength="[[question.maxLength]]"></paper-input></template></template><template is="dom-if"if="[[_isTextarea(question)]]"><paper-textarea-aria id="structuredQuestion_[[index]]"data-type="text"value="{{question.value}}"minlength="2"always-float-label="[[_floatIfValueOrIE(question.value)]]"label="[[_getTextWithIndex(question)]]"char-counter=""use-small-font$="[[useSmallFont]]"on-value-changed="_debounceChangeEvent"rows="3"max-rows="5"maxrows="5"required$="[[question.required]]"maxlength="[[question.maxLength]]"></paper-textarea-aria></template><template is="dom-if"if="[[_isTextareaLong(question)]]"><div class="question general longQuestion"has-focus$="[[longFocus]]"has-content$="[[question.value]]"is-from-new-post$="[[isFromNewPost]]"less-margin-top$="[[question.lessMarginTop]]"use-small-font$="[[useSmallFont]]"id="structuredQuestionIntro_[[index]]"inner-h-t-m-l="[[_getTextWithIndex(question)]]"></div><template is="dom-if"if="[[question.richTextAllowed]]"><yp-simple-html-editor id="structuredQuestion_[[index]]"question="[[question]]"on-focus="setLongFocus"on-blur="setLongUnFocus"></yp-simple-html-editor></template><template is="dom-if"if="[[!question.richTextAllowed]]"><paper-textarea-aria id="structuredQuestion_[[index]]"data-type="text"value="{{question.value}}"minlength="2"char-counter=""on-focus="setLongFocus"on-blur="setLongUnFocus"no-label-float=""use-small-font$="[[useSmallFont]]"on-value-changed="_debounceChangeEvent"rows="3"max-rows="5"maxrows="5"required$="[[question.required]]"maxlength="[[question.maxLength]]"></paper-textarea-aria></template></template><template is="dom-if"if="[[_isTextHeader(question)]]"><div class="header"is-not-first$="[[index]]"smaller-font$="[[question.smallerFont]]"is-first$="[[!index]]">[[question.text]]</div></template><template is="dom-if"if="[[_isTextDescription(question)]]"><div class="question general"id="structuredQuestionQuestion_[[index]]"use-small-font$="[[useSmallFont]]"is-from-new-post$="[[isFromNewPost]]"inner-h-t-m-l="[[_textWithLinks(question)]]"extra-top-margin$="[[question.extraTopMargin]]"less-bottom-margin$="[[question.lessBottomMargin]]"></div></template><template is="dom-if"if="[[_isSeparator(question)]]"><hr></template><template is="dom-if"if="[[_isRadios(question)]]"><div class="question general radiosLabel"use-small-font$="[[useSmallFont]]"is-first-rating$="[[isFirstRating]]"id="structuredQuestionIntro_[[index]]"is-from-new-post$="[[isFromNewPost]]"inner-h-t-m-l="[[_getTextWithIndex(question)]]"></div><paper-radio-group required$="[[question.required]]"data-type="radios"on-selected-changed="_radioChanged"id="structuredQuestion_[[index]]"name="structuredQuestionRatioGroup_[[index]]"class$="[[_getRadioClass(question)]]"><template is="dom-repeat"items="[[question.radioButtons]]"as="radioButton"index-as="buttonIndex"><template is="dom-if"if="[[!radioButton.isSpecify]]"><paper-radio-button use-small-font$="[[useSmallFont]]"on-keypress="setRadioEventType"id="structuredQuestionRatioGroup_[[index]]_[[buttonIndex]]"name="[[radioButton.text]]">[[radioButton.text]]</paper-radio-button></template><template is="dom-if"if="[[radioButton.isSpecify]]"class="layout horizontal"><paper-radio-button use-small-font$="[[useSmallFont]]"on-keypress="setRadioEventType"id="structuredQuestionRatioGroup_[[index]]_[[buttonIndex]]"name="[[radioButton.text]]">[[radioButton.text]]</paper-radio-button><template is="dom-if"if="[[_isNumberSubType(radioButton)]]"><paper-input class="specifyInput"hidden=""no-label-float=""on-value-changed="_debounceChangeEvent"maxlength="[[question.maxLength]]"allowed-pattern="[0-9]"type="text"id="structuredQuestion_[[index]]_[[buttonIndex]]__radioOther"></paper-input></template><template is="dom-if"if="[[!_isNumberSubType(radioButton)]]"><paper-input class="specifyInput"hidden=""no-label-float=""on-value-changed="_debounceChangeEvent"maxlength="[[question.maxLength]]"type="[[radioButton.subType]]"id="structuredQuestion_[[index]]_[[buttonIndex]]__radioOther"></paper-input></template></template></template></paper-radio-group></template><template is="dom-if"if="[[_isCheckboxes(question)]]"><div id="structuredQuestionIntro_[[index]]"class="question general checkBoxesLabel"use-small-font$="[[useSmallFont]]"is-from-new-post$="[[isFromNewPost]]"inner-h-t-m-l="[[_getTextWithIndex(question)]]"></div><div id="structuredQuestion_[[index]]"data-type="checkboxes"class="layout vertical"><template is="dom-repeat"items="[[question.checkboxes]]"as="checkbox"index-as="buttonIndex"><template is="dom-if"if="[[!checkbox.isSpecify]]"><paper-checkbox id="structuredQuestionCheckbox_[[index]]_[[buttonIndex]]"on-change="_checkboxChanged">[[checkbox.text]]</paper-checkbox></template><template is="dom-if"if="[[checkbox.isSpecify]]"><paper-checkbox id="structuredQuestionCheckbox_[[index]]_[[buttonIndex]]"on-change="_checkboxChanged">[[checkbox.text]]</paper-checkbox><paper-input class="specifyInput specifyCheckBox"hidden=""no-label-float=""on-value-changed="_debounceChangeEvent"type="[[checkbox.subType]]"id="structuredQuestion_[[index]]_[[buttonIndex]]_checkboxOther"></paper-input></template></template></div></template><template is="dom-if"if="[[_isDropDown(question)]]"><paper-dropdown-menu id="structuredQuestion_[[index]]"data-type="dropdown"label="[[_getTextWithIndex(question)]]"required$="[[question.required]]"><paper-listbox id="structuredQuestion_[[index]]_listbox"slot="dropdown-content"attr-for-selected="name"><template is="dom-repeat"items="[[question.dropdownOptions]]"as="dropDownOptions"><paper-item name="[[dropDownOptions.text]]">[[dropDownOptions.text]]</paper-item></template></paper-listbox></paper-dropdown-menu></template></template><script>var YpStructuredQuestionEdit=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"setLongUnFocus",value:function(){this.set("longFocus",!1)}},{key:"setLongFocus",value:function(){this.set("longFocus",!0)}},{key:"_isNumberSubType",value:function(e){return e&&"number"===e.subType}},{key:"_keyPressed",value:function(e){13!=e.which&&13!=e.keyCode||this.fire("yp-goto-next-index",{currentIndex:this.index})}},{key:"setRadioEventType",value:function(){this.radioKeypress=!0}},{key:"_sendDebouncedChange",value:function(e){this.debunceChangeEventTimer||(this.debunceChangeEventTimer=this.async(function(){this.fire("yp-answer-content-changed",e),this.debunceChangeEventTimer=null,this._resizeScrollerIfNeeded()},2e3))}},{key:"_debounceChangeEvent",value:function(e,t){e.stopPropagation(),this._sendDebouncedChange(t)}},{key:"_getTextWithIndex",value:function(e){return e.text}},{key:"_getRadioClass",value:function(e){return e.subType&&"rating"===e.subType&&!this.isLastRating?"layout horizontal wrap lessBottomMargin":e.subType&&"rating"===e.subType?"layout horizontal wrap":"layout vertical"}},{key:"_textWithLinks",value:function(e){var t=linkifyHtml(e.text);return t=t.replace(/\n/g,"<br>")}},{key:"_resizeScrollerIfNeeded",value:function(){this.fire("resize-scroller")}},{key:"_floatIfValueOrIE",value:function(e){return/Trident.*rv[ :]*11\./.test(navigator.userAgent)||e}},{key:"validate",value:function(){var e=this.$$("#structuredQuestion_"+this.index);return!e||(e&&this.question.type&&"radios"===this.question.type.toLowerCase()&&this.question.required?null==e.selectedItem?(e.setAttribute("invalid",!0),!1):(e.removeAttribute("invalid"),!0):!e||"function"!=typeof e.validate||e.validate())}},{key:"focus",value:function(){if("textfield"===this.question.type.toLowerCase()||"textfieldlong"===this.question.type.toLowerCase()||"textarea"===this.question.type.toLowerCase()||"textarealong"===this.question.type.toLowerCase()||"numberfield"===this.question.type.toLowerCase()){var e=this.$$("#structuredQuestion_"+this.index);e&&this.async(function(){e.focus()},250)}}},{key:"cleanValue",value:function(e){return e?e.replace(/,/g,";").replace(/:/g,";"):(console.warn("No value for cleanValue"),"")}},{key:"getAnswer",value:function(){var n=this.$$("#structuredQuestion_"+this.index);if(n){var s=null;if("textfield"===this.question.type.toLowerCase()||"textfieldlong"===this.question.type.toLowerCase()||"textarea"===this.question.type.toLowerCase()||"textarealong"===this.question.type.toLowerCase()||"numberfield"===this.question.type.toLowerCase())s=n.value;else if("dropdown"===this.question.type.toLowerCase()){var e=this.$$("#structuredQuestion_"+this.index+"_listbox");s=e.selected}else if("radios"===this.question.type.toLowerCase()){if(n.selected){var o=null;this.question.radioButtons.forEach(function(e,t){if(e.text===n.selected)if((o=e).isSpecify){var i=this.$$("#structuredQuestion_"+this.index+"_"+t+"__radioOther");s=i?o.text+":"+this.cleanValue(i.value):o.text}else s=o.text}.bind(this))}}else if("checkboxes"===this.question.type.toLowerCase()){for(var t="",i=0;i<n.children.length;i++)if(n.children[i].checked){var r=n.children[i].id.split("_")[2],u=this.question.checkboxes[r];if(u.isSpecify){var a=this.$$("#structuredQuestion_"+this.index+"_"+r+"_checkboxOther");a&&""!==a.value?t+=u.text+":"+this.cleanValue(a.value)+",":t+=u.text+","}else t+=u.text+","}""!==t&&(s=t.substring(0,t.length-1))}return{uniqueId:this.question.uniqueId,value:s}}console.error("Can't find question item for "+this.question.text)}},{key:"setAnswer",value:function(n){if(n){var s=this.$$("#structuredQuestion_"+this.index);if(s){if("textfield"===this.question.type.toLowerCase()||"textfieldlong"===this.question.type.toLowerCase()||"textarea"===this.question.type.toLowerCase()||"textarealong"===this.question.type.toLowerCase()||"numberfield"===this.question.type.toLowerCase())1==this.question.richTextAllowed?s.setRichValue(n):s.value=n;else if("dropdown"===this.question.type.toLowerCase()){this.$$("#structuredQuestion_"+this.index+"_listbox").selected=n}else if("radios"===this.question.type.toLowerCase()){var o=null;if(-1<n.indexOf(":"))n=(u=n.split(":"))[0],o=u[1];this.question.radioButtons.forEach(function(e,t){if(e.text===n&&(s.select(n),o)){var i=this.$$("#structuredQuestion_"+this.index+"_"+t+"__radioOther");i?(i.hidden=!1,i.value=o):console.error("Can't find checkbox specify value")}}.bind(this))}else if("checkboxes"===this.question.type.toLowerCase()){for(var e=n.split(","),t={},i=!1,r=0;r<e.length;r++)if(-1<e[r].indexOf(":")){var u=e[r].split(":");e[r]=u[0],t[u[0]]=u[1],i=!0}for(r=0;r<s.children.length;r++)if(s.children[r]){var a=s.children[r].id.split("_")[2],l=this.question.checkboxes[a];if(l){if(-1<e.indexOf(l.text)&&(s.children[r].checked=!0,i)){var d=this.$$("#structuredQuestion_"+this.index+"_"+a+"_checkboxOther");d&&t[l.text]?(d.hidden=!1,d.value=t[l.text]):console.error("Can't find checkbox specify value")}}else console.debug("No selectedCheckbox")}}}else console.error("cant find answer for item index "+this.index)}}},{key:"hide",value:function(){var e=this.$$("#structuredQuestion_"+this.index);if(e){e.hidden=!0;var t=this.$$("#structuredQuestionIntro_"+this.index);t&&(t.hidden=!0)}else console.error("Can't find question index: "+this.index)}},{key:"show",value:function(){var e=this.$$("#structuredQuestion_"+this.index);if(e){e.hidden=!1;var t=this.$$("#structuredQuestionIntro_"+this.index);t&&(t.hidden=!1)}else console.error("Can't find question index: "+this.index)}},{key:"_openSubQuestion",value:function(){this.dispatchEvent(new CustomEvent("yp-open-sub-question",{bubbles:!0,composed:!0,detail:this.question.id}))}},{key:"_closeSubQuestion",value:function(){this.dispatchEvent(new CustomEvent("yp-close-sub-question",{bubbles:!0,composed:!0,detail:this.question.id}))}},{key:"_checkboxChanged",value:function(e){if(e.target.checked){var t=e.target.id.split("_")[2];if(this.question.checkboxes[t].isSpecify){var i=this.$$("#structuredQuestion_"+this.index+"_"+t+"_checkboxOther");i?(i.hidden=!1,i.value||(i.value=""),i.focus()):console.error("Can't find checkbox input")}}if(this.question.maxLength){for(var n=0,s=this.$$("#structuredQuestion_"+this.index),o=0;o<s.children.length;o++)"paper-checkbox"===s.children[o].tagName.toLowerCase()&&s.children[o].checked&&(n+=1);if(n>=parseInt(this.question.maxLength))for(var r=0;r<s.children.length;r++)"paper-checkbox"!==s.children[r].tagName.toLowerCase()||s.children[r].checked||(s.children[r].disabled=!0);else for(var u=0;u<s.children.length;u++)"paper-checkbox"===s.children[u].tagName.toLowerCase()&&s.children[u].disabled&&(s.children[u].disabled=!1)}e.stopPropagation(),this._sendDebouncedChange({value:1})}},{key:"_radioChanged",value:function(e,s){e.stopPropagation(),this._sendDebouncedChange({value:1});var o=null;this.question.radioButtons.forEach(function(e,t){if(e.text===s.value)if((o=e).skipTo)this.fire("yp-skip-to-unique-id",{fromId:this.question.uniqueId,toId:o.skipTo});else if(o.isSpecify){var i=this.$$("#structuredQuestion_"+this.index+"_"+t+"__radioOther");i?(i.hidden=!1,i.focus()):console.error("Can't find radio specify value")}else{var n;this.async(function(){this.radioKeypress||this.fire("yp-goto-next-index",{currentIndex:this.index})}),this.question.radioButtons.forEach(function(e){e.skipTo&&(n=e.skipTo)}.bind(this)),n&&this.fire("yp-open-to-unique-id",{fromId:this.question.uniqueId,toId:n})}}.bind(this))}},{key:"_isTextarea",value:function(e){return e.type&&"textarea"===e.type.toLowerCase()||void 0===e.type&&1<e.maxLength}},{key:"_isTextareaLong",value:function(e){return e.type&&"textarealong"===e.type.toLowerCase()}},{key:"_isTextField",value:function(e){return e.type&&"textfield"===e.type.toLowerCase()}},{key:"_isTextFieldLong",value:function(e){return e.type&&"textfieldlong"===e.type.toLowerCase()}},{key:"_isNumberField",value:function(e){return e.type&&"numberfield"===e.type.toLowerCase()}},{key:"_isTextHeader",value:function(e){return e.type&&"textheader"===e.type.toLowerCase()}},{key:"_isTextDescription",value:function(e){return e.type&&"textdescription"===e.type.toLowerCase()}},{key:"_isCheckboxes",value:function(e){return e.type&&"checkboxes"===e.type.toLowerCase()}},{key:"_isSeparator",value:function(e){return e.type&&"separator"===e.type.toLowerCase()}},{key:"_isRadios",value:function(e){return e.type&&"radios"===e.type.toLowerCase()}},{key:"_isDropDown",value:function(e){return e.type&&"dropdown"===e.type.toLowerCase()}},{key:"_structuredAnsweredChanged",value:function(e){if(e&&this.question.uniqueId){var t={};try{e.forEach(function(e){if(this.question.uniqueId===e.uniqueId)throw this.async(function(){this.setAnswer(e.value)},100),t}.bind(this))}catch(e){if(e!==t)throw e}}}},{key:"ready",value:function(){window.i18nTranslation&&this.set("language",window.locale),this.question&&"numberField"===this.question.type&&(this.question.type="textField",this.question.subType="number"),this.async(function(){1!==this.question.questionIndex||this.dontFocusFirstQuestion||this.focus()},500),babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"ready",this).call(this)}}],[{key:"is",get:function(){return"yp-structured-question-edit"}},{key:"properties",get:function(){return{question:{type:Object},index:{type:Number},isFromNewPost:{type:Boolean,value:!1},language:{type:String},hideQuestionIndex:{type:Boolean,value:!0},dontFocusFirstQuestion:{type:Boolean,value:!1},useSmallFont:{type:Boolean,value:!1},structuredAnswers:{type:Array,observer:"_structuredAnsweredChanged"},longFocus:{type:Boolean,value:!1},isLastRating:{type:Boolean,value:!1},isFirstRating:{type:Boolean,value:!1}}}}]),t}(Polymer.mixinBehaviors([Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior],Polymer.Element));customElements.define(YpStructuredQuestionEdit.is,YpStructuredQuestionEdit)</script></dom-module><dom-module id="yp-post-edit"assetpath="../yp-post/"><template><style include="iron-flex iron-flex-alignment">.access{@apply --layout-horizontal;@apply --layout-center-justified;}paper-button{background-color:var(--accent-color);color:#FFF;}yp-file-upload{margin-top:16px;}.accessHeader{color:var(--primary-color,#777);font-weight:normal;margin-bottom:0;}paper-radio-button{display:block;}.container{width:100%;width:100%;}yp-post-location{min-height:320px;}@media (max-width: 600px){.container{padding-right:16px;}.subContainer{}paper-tab{font-size:12px;}}yp-post-location{}section{margin-top:32px;}.imageSizeInfo{font-size:12px;padding-bottom:16px;color:#444;}paper-dropdown-menu{max-width:250px;}.optional{font-size:12px;}.icon{padding-right:8px;}[hidden]{display:none !important;}paper-checkbox{margin-left:8px;margin-top:4px;}section{width:100%;}.contactInfo{margin-top:16px;}#description{--paper-input-container-input:{max-height:125px;};}.postEmoji{margin-left:16px;direction:ltr !important;}.pointEmoji{direction:ltr !important;}.uploadSection{max-width:220px;vertical-align:top;margin-left:8px;margin-right:8px;}@media (max-width: 600px){.uploadSection{max-width:100%;}.videoCam{--iron-icon-height:15px;--iron-icon-width:15px;--iron-icon-fill-color:#555;}yp-structured-question-edit{max-width:calc(100vw - 64px);}}.postCoverVideoInfo{margin-top:8px;}.videoUploadDisclamer{margin-top:6px;font-size:12px;padding:0;max-width:200px;}.categoryDropDown{margin-bottom:8px;}.topNewPostContainer[no-title]{margin-top:-42px;}paper-tabs[title-disabled]{margin-bottom:24px;}paper-tab{--paper-tabs:{font-family:var(--app-header-font-family, Roboto);};font-family:var(--app-header-font-family, Roboto);}div{font-family:var(--app-header-font-family, Roboto);}.videoCamIcon{margin-left:6px;margin-bottom:2px;}.mediaTab{vertical-align:center;}.attachmentInfo{margin-top:-8px;margin-left:8px;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><lite-signal on-lite-signal-yp-auto-translate="_autoTranslateEvent"></lite-signal><yp-edit-dialog name="postEdit"double-width=""id="editDialog"icon="lightbulb-outline"action="[[action]]"use-next-tab-action="[[newPost]]"on-next-tab-action="_nextTab"method="[[method]]"title="[[editHeaderText]]"save-text="[[saveText]]"class="container"custom-submit=""next-action-text="[[t('next')]]"toast-text="[[toastText]]"params="[[params]]"><paper-tabs title-disabled$="[[group.configuration.hideNameInputAndReplaceWith]]"selected="{{selected}}"id="paperTabs"focused=""hidden$="[[hasOnlyOneTab]]"><paper-tab><span>[[t('post.yourPost')]]</span></paper-tab><template is="dom-if"restamp=""if="[[newPointShown]]"><paper-tab><div class="layout vertical center-center"><div>[[t('post.yourPoint')]]</div><div class="optional"hidden$="[[!group.configuration.newPointOptional]]">[[t('optional')]]</div></div></paper-tab></template><template is="dom-if"if="[[!locationHidden]]"restamp=""><paper-tab><template is="dom-if"if="[[group.configuration.customTabTitleNewLocation]]"><paper-tab><yp-magic-text id="customTabTitleNewLocation"content-id="[[group.id]]"text-only=""content="[[group.configuration.customTabTitleNewLocation]]"content-language="[[group.language]]"role="heading"aria-level="2"text-type="customTabTitleNewLocation"></yp-magic-text></paper-tab></template><template is="dom-if"if="[[!group.configuration.customTabTitleNewLocation]]"><paper-tab>[[t('post.location')]]</paper-tab></template></paper-tab></template><template is="dom-if"if="[[!mediaHidden]]"restamp=""><paper-tab><div>[[t('media')]]</div><div class="videoCamIcon"><iron-icon class="videoCam"icon="videocam"style="color: #555"></iron-icon></div></paper-tab></template></paper-tabs><div class="layout vertical wrap topNewPostContainer"no-title$="[[group.configuration.hideNameInputAndReplaceWith]]"><iron-pages id="pages"class="layout horizontal"selected="[[selected]]"><section><div class="layout vertical flex"><template is="dom-if"if="[[group.configuration.hideNameInputAndReplaceWith]]"><input type="hidden"name="name"value="[[replacedName]]"></template><template is="dom-if"if="[[!group.configuration.hideNameInputAndReplaceWith]]"><paper-input id="name"required=""minlength="3"name="name"type="text"label="[[titleQuestionText]]"value="{{post.name}}"maxlength="60"char-counter=""></paper-input></template><template is="dom-if"if="[[_showCategories(group)]]"restamp=""><paper-dropdown-menu class="categoryDropDown"label="[[categoryQuestionText]]"required$="[[group.configuration.makeCategoryRequiredOnNewPost]]"><paper-listbox slot="dropdown-content"selected="{{selectedCategoryArrayId}}"><template is="dom-repeat"items="[[group.Categories]]"as="category"><paper-item data-category-id$="[[category.id]]">[[category.name]]</paper-item></template></paper-listbox></paper-dropdown-menu><input type="hidden"name="categoryId"value="[[selectedCategoryId]]"></template><template is="dom-if"if="[[group.configuration.usePostTags]]"><paper-input id="tags"name="tags"type="text"label="[[t('commaSeperatedTags')]]"value="{{post.public_data.tags}}"></paper-input></template><template is="dom-if"if="[[postDescriptionLimit]]"><paper-textarea-aria id="description"hidden$="[[hasStructuredQuestions]]"required$="[[!hasStructuredQuestions]]"minlength="3"name="description"value="{{post.description}}"always-float-label="[[_floatIfValueOrIE(post.description)]]"label="[[t('post.description')]]"aria-label$="[[t('post.description')]]"on-value-changed="_resizeScrollerIfNeeded"char-counter=""rows="2"max-rows="5"maxrows="5"maxlength="[[postDescriptionLimit]]"></paper-textarea-aria><div class="horizontal end-justified layout postEmoji"hidden$="[[group.configuration.hideEmoji]]"><emoji-selector id="emojiSelectorDescription"hidden$="[[hasStructuredQuestions]]"></emoji-selector></div></template><template is="dom-if"if="[[hasStructuredQuestions]]"><div id="surveyContainer"><template is="dom-repeat"items="[[structuredQuestions]]"as="question"><yp-structured-question-edit index="[[index]]"use-small-font=""is-from-new-post=""id="structuredQuestionContainer_[[index]]"dont-focus-first-question="[[!group.configuration.hideNameInputAndReplaceWith]]"on-resize-scroller="_resizeScrollerIfNeeded"structured-answers="[[initialStructuredAnswersJson]]"is-last-rating="[[_isLastRating(index)]]"is-first-rating="[[_isFirstRating(index)]]"hide-question-index="[[group.configuration.hideQuestionIndexOnNewPost]]"question="[[question]]"></yp-structured-question-edit></template></div></template><template is="dom-if"if="[[group.configuration.attachmentsEnabled]]"><yp-file-upload id="attachmentFileUpload"raised="true"multi="false"accept="application/msword,application/vnd.ms-excel,application/vnd.ms-powerpoint,text/plain,application/pdf,image/*"target="/api/groups/[[group.id]]/upload_document"method="POST"group="[[group]]"attachment-upload=""on-success="_documentUploaded"><iron-icon class="icon"icon="attach-file"></iron-icon><span>[[t('uploadAttachment')]]</span></yp-file-upload><small class="attachmentInfo">[[t('documentOnlyVisibleToAdmins')]]</small><template is="dom-if"if="[[post.data.attachment.url]]"><paper-checkbox name="deleteAttachment">[[t('deleteAttachment')]]: [[post.data.attachment.filename]]</paper-checkbox></template></template><template is="dom-if"if="[[group.configuration.moreContactInformation]]"><h2 class="contactInfo">[[t('contactInformation')]]</h2><paper-input id="contactName"name="contactName"type="text"label="[[t('user.name')]]"value="{{post.data.contact.name}}"char-counter=""></paper-input><paper-input id="contactEmail"name="contactEmail"type="text"label="[[t('user.email')]]"value="{{post.data.contact.email}}"char-counter=""></paper-input><paper-input id="contactTelephone"name="contacTelephone"type="text"label="[[t('contactTelephone')]]"value="{{post.data.contact.telephone}}"maxlength="20"char-counter=""></paper-input><paper-input id="contactAddress"name="contactAddress"type="text"hidden$="[[!group.configuration.moreContactInformationAddress]]"label="[[t('contactAddress')]]"value="{{post.data.contact.address}}"maxlength="300"char-counter=""></paper-input></template></div></section><template is="dom-if"restamp=""if="[[newPointShown]]"><section class="subContainer"><paper-textarea-aria id="pointFor"required$="[[!group.configuration.newPointOptional]]"minlength="3"name="pointFor"value="{{post.pointFor}}"always-float-label="[[_floatIfValueOrIE(post.pointFor)]]"label="[[t('point.for')]]"aria-label$="[[t('point.for')]]"char-counter=""rows="2"max-rows="5"maxlength="[[_pointMaxLength(group)]]"></paper-textarea-aria><div class="horizontal end-justified layout pointEmoji"hidden$="[[group.configuration.hideEmoji]]"><emoji-selector id="emojiSelectorPointFor"></emoji-selector></div></section></template><template is="dom-if"if="[[!locationHidden]]"restamp=""><section><template is="dom-if"if="[[mapActive]]"restamp=""><yp-post-location encoded-location="{{encodedLocation}}"location="{{location}}"group="[[group]]"post="[[post]]"></yp-post-location></template></section></template><section><div class="layout vertical center-center"><div class="layout horizontal center-center wrap"><div class="layout vertical center-center self-start uploadSection"hidden$="[[group.configuration.hidePostImageUploads]]"><yp-file-upload id="imageFileUpload"raised="true"multi="false"target="/api/images?itemType=post-header"method="POST"on-success="_imageUploaded"><iron-icon class="icon"icon="photo-camera"></iron-icon><span>[[t('image.upload')]]</span></yp-file-upload><div class="imageSizeInfo layout horizontal"><div>864 x 486 (16/9 widescreen)</div></div><div>[[t('post.cover.imageInfo')]]</div></div><template is="dom-if"if="[[group.configuration.allowPostVideoUploads]]"><div class="layout vertical center-center self-start uploadSection"><yp-file-upload id="videoFileUpload"container-type="posts"group="[[group]]"raised="true"upload-limit-seconds="[[group.configuration.videoPostUploadLimitSec]]"multi="false"video-upload=""method="POST"on-success="_videoUploaded"><iron-icon class="icon"icon="videocam"></iron-icon><span>[[t('uploadVideo')]]</span></yp-file-upload><div hidden$="[[!group.configuration.showVideoUploadDisclaimer]]"><div class="videoUploadDisclamer"hidden$="[[!uploadedVideoId]]">[[t('videoUploadDisclaimer')]]</div></div></div></template><template is="dom-if"if="[[group.configuration.allowPostAudioUploads]]"><div class="layout vertical center-center self-start uploadSection"><yp-file-upload id="audioFileUpload"container-type="posts"group="[[group]]"raised="true"upload-limit-seconds="[[group.configuration.audioPostUploadLimitSec]]"multi="false"audio-upload=""method="POST"on-success="_audioUploaded"><iron-icon class="icon"icon="keyboard-voice"></iron-icon><span>[[t('uploadAudio')]]</span></yp-file-upload></div></template></div><br><h3 class="accessHeader">[[t('post.cover.media')]]</h3><paper-radio-group id="coverMediaType"name="coverMediaType"class="coverMediaType layout horizontal wrap"selected="{{selectedCoverMediaType}}"><paper-radio-button name="none">[[t('post.cover.none')]]</paper-radio-button><paper-radio-button name="image"hidden$="[[!uploadedHeaderImageId]]">[[t('post.cover.image')]]</paper-radio-button><paper-radio-button name="video"hidden$="[[!showVideoCover]]">[[t('postCoverVideo')]]</paper-radio-button><paper-radio-button name="audio"hidden$="[[!showAudioCover]]">[[t('postCoverAudio')]]</paper-radio-button><template is="dom-if"if="[[location]]"><paper-radio-button name="map">[[t('post.cover.map')]]</paper-radio-button><paper-radio-button name="streetView">[[t('post.cover.streetview')]]</paper-radio-button></template></paper-radio-group></div></section></iron-pages><input type="hidden"name="location"value="[[encodedLocation]]"> <input type="hidden"name="coverMediaType"value="[[selectedCoverMediaType]]"> <input type="hidden"name="uploadedHeaderImageId"value="[[uploadedHeaderImageId]]"> <input type="hidden"name="uploadedDocumentUrl"value="[[uploadedDocumentUrl]]"> <input type="hidden"name="uploadedDocumentFilename"value="[[uploadedDocumentFilename]]"> <input type="hidden"name="structuredAnswers"value="[[structuredAnswers]]"> <input type="hidden"name="structuredAnswersJson"value="[[structuredAnswersJson]]"> <input type="hidden"name="postBaseId"value="[[browserId]]"> <input type="hidden"name="postValCode"value="[[browserFingerprint]]"> <input type="hidden"name="postConf"value="[[browserFingerprintConfidence]]"></div></yp-edit-dialog><template is="dom-if"if="[[group.configuration.alternativeTextForNewIdeaButtonHeader]]"><yp-magic-text id="alternativeTextForNewIdeaButtonHeaderId"hidden=""content-id="[[group.id]]"text-only=""content="[[group.configuration.alternativeTextForNewIdeaButtonHeader]]"content-language="[[group.language]]"on-new-translation="_alternativeTextForNewIdeaButtonHeaderTranslation"text-type="alternativeTextForNewIdeaButtonHeader"></yp-magic-text></template><template is="dom-if"if="[[group.configuration.alternativeTextForNewIdeaSaveButton]]"><yp-magic-text id="alternativeTextForNewIdeaSaveButtonId"hidden=""content-id="[[group.id]]"text-only=""content="[[group.configuration.alternativeTextForNewIdeaSaveButton]]"content-language="[[group.language]]"on-new-translation="_alternativeTextForNewIdeaSaveButtonTranslation"text-type="alternativeTextForNewIdeaSaveButton"></yp-magic-text></template><template is="dom-if"if="[[group.configuration.customThankYouTextNewPosts]]"><yp-magic-text id="customThankYouTextNewPostsId"hidden=""content-id="[[group.id]]"text-only=""content="[[group.configuration.customThankYouTextNewPosts]]"content-language="[[group.language]]"text-type="customThankYouTextNewPosts"></yp-magic-text></template><template is="dom-if"if="[[group.configuration.customTitleQuestionText]]"><yp-magic-text id="customTitleQuestionTextId"hidden=""content-id="[[group.id]]"text-only=""content="[[group.configuration.customTitleQuestionText]]"content-language="[[group.language]]"on-new-translation="_updatePostTitle"text-type="customTitleQuestionText"></yp-magic-text></template><template is="dom-if"if="[[group.configuration.customCategoryQuestionText]]"><yp-magic-text id="customCategoryQuestionTextId"hidden=""content-id="[[group.id]]"text-only=""content="[[group.configuration.customCategoryQuestionText]]"content-language="[[group.language]]"on-new-translation="_updateCategoryQuestion"text-type="customCategoryQuestionText"></yp-magic-text></template><yp-ajax hidden=""id="translatedQuestionsAjax"on-response="_translatedQuestionsResponse"></yp-ajax></template></dom-module><script>Polymer({is:"yp-post-edit",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypEditDialogBehavior,Polymer.ypGotoBehavior],properties:{action:{type:String,value:"/api/posts"},newPost:{type:Boolean,value:!1},initialStructuredAnswersJson:{type:Array,value:null},post:{type:Object,observer:"_postChanged"},titleQuestionText:{type:String,computed:"_titleQuestionText(post, customTitleQuestionText, group)"},customTitleQuestionText:{type:String,value:null},customCategoryQuestionText:{type:String,value:null},categoryQuestionText:{type:String,computed:"_categoryQuestionText(post, customCategoryQuestionText, group)"},group:{type:Object,observer:"_groupChanged"},locationHidden:{type:Boolean,value:!1,observer:"_locationHiddenChanged"},location:{type:Object,observer:"_locationChanged"},encodedLocation:{type:String,observer:"_encodedLocationChanged"},selectedCategoryArrayId:{type:Number,observer:"_selectedCategoryChanged"},selectedCategoryId:{type:Number},emailValidationPattern:{type:String,value:"^[_A-Za-z0-9-\\+]+(\\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\\.[A-Za-z0-9]+)*(\\.[A-Za-z]{2,})$"},selectedCoverMediaType:{type:String,value:"none",observer:"_coverMediaTypeValueChanged"},uploadedHeaderImageId:{type:String,observer:"_uploadedHeaderImageIdChanged"},uploadedVideoId:{type:String,value:null},uploadedAudioId:{type:String,value:null},currentVideoId:{type:String,value:null},currentAudioId:{type:String,value:null},showVideoCover:{type:Boolean,computed:"_showVideoCover(uploadedVideoId, currentVideoId)"},showAudioCover:{type:Boolean,computed:"_showAudioCover(uploadedAudioId, currentAudioId)"},newPointShown:{type:Boolean,computed:"_newPointShown(newPost, group)"},mediaHidden:{type:Boolean,computed:"_mediaHidden(newPost, group)"},selected:{type:Number,value:0,observer:"_selectedChanged"},mapActive:{type:Boolean,value:!1},postDescriptionLimit:{type:Number,value:null},structuredQuestions:{type:Array,computed:"_structuredQuestions(post, group, translatedQuestions)"},hasStructuredQuestions:{type:Boolean,computed:"_hasStructuredQuestions(structuredQuestions)"},replacedName:{type:String,computed:"_replacedName(post, group, newPost)"},sructuredAnswers:{type:String,value:null},sructuredAnswersJson:{type:Object,value:null},uploadedDocumentUrl:String,uploadedDocumentFilename:String,pointMaxLength:{type:Number,computed:"_pointMaxLength(group)"},hasOnlyOneTab:{type:Boolean,value:!1},translatedQuestions:{type:Array,value:null},autoTranslate:{type:Boolean,value:!1},hasLongSaveText:{type:Boolean,computer:"_hasLongSaveText(saveText)"},browserId:{type:String,value:null},browserFingerprint:{type:String,value:null},browserFingerprintConfidence:{type:String,value:null}},_hasLongSaveText:function(t){return t&&9<t.length},_autoTranslateEvent:function(t,e){this.set("autoTranslate",e),this._getSurveyTranslationsIfNeeded()},_getQuestionLengthWithSubOptions:function(t){for(var e=0,i=0;i<t.length;i++){e+=1;var n=t[i];"radios"===n.type&&n.radioButtons&&0<n.radioButtons.length?e+=n.radioButtons.length:"checkboxes"===n.type&&n.checkboxes&&0<n.checkboxes.length?e+=n.checkboxes.length:"dropdown"===n.type&&n.dropdownOptions&&0<n.dropdownOptions.length&&(e+=n.dropdownOptions.length)}return e},_getSurveyTranslationsIfNeeded:function(){this.set("translatedQuestions",null),this.autoTranslate&&this.language!==this.group.language&&(this.$.translatedQuestionsAjax.url="/api/groups/".concat(this.group.id,"/translatedSurveyQuestions?targetLanguage=").concat(this.language),this.$.translatedQuestionsAjax.generateRequest())},_translatedQuestionsResponse:function(t,e){if(this.autoTranslate&&this.language!==this.group.language){var i=e.response,n=JSON.parse(JSON.stringify(this.group.configuration.structuredQuestionsJson));if(i.length===this._getQuestionLengthWithSubOptions(n)){for(var o,s=0,r=0;r<n.length;r++)if((o=n[r]).originalText=o.text,o.text=i[s++],"radios"===o.type&&o.radioButtons&&0<o.radioButtons.length)for(var a=0;a<o.radioButtons.length;a++)o.radioButtons[a].originalText=o.radioButtons[a].text,o.radioButtons[a].text=i[s++];else if("checkboxes"===o.type&&o.checkboxes&&0<o.checkboxes.length)for(a=0;a<o.checkboxes.length;a++)o.checkboxes[a].originalText=o.checkboxes[a].text,o.checkboxes[a].text=i[s++];else if("dropdown"===o.type&&o.dropdownOptions&&0<o.dropdownOptions.length)for(a=0;a<o.dropdownOptions.length;a++)o.dropdownOptions[a].originalText=o.dropdownOptions[a].text,o.dropdownOptions[a].text=i[s++];this.set("translatedQuestions",n)}else console.error("Questions and Translated texts length does not match")}else this.set("translatedQuestions",null)},_groupChanged:function(t){t&&t.configuration&&t.configuration.structuredQuestionsJson&&0<t.configuration.structuredQuestionsJson.length&&(window.autoTranslate&&this.set("autoTranslate",window.autoTranslate),this._getSurveyTranslationsIfNeeded())},listeners:{"iron-form-invalid":"_formInvalid","yp-custom-form-submit":"_customSubmit","yp-skip-to-unique-id":"_skipToId","yp-open-to-unique-id":"_openToId","yp-goto-next-index":"_goToNextIndex"},_titleQuestionText:function(t,e,i){return t&&i&&e?e:t&&i&&i.configuration&&i.configuration.customTitleQuestionText?i.configuration.customTitleQuestionText:this.t("title")},_categoryQuestionText:function(t,e,i){return t&&i&&e?e:t&&i&&i.configuration&&i.configuration.customCategoryQuestionText?i.configuration.customCategoryQuestionText:this.t("category.select")},_isLastRating:function(t){return"rating"===this.structuredQuestions[t].subType&&t+2<this.structuredQuestions.length&&"rating"!==this.structuredQuestions[t+1].subType},_isFirstRating:function(t){return"rating"===this.structuredQuestions[t].subType&&this.structuredQuestions[t-1]&&"rating"!==this.structuredQuestions[t-1].subType},_openToId:function(t,e){this._skipToId(t,e,!0)},_goToNextIndex:function(t,e){var i=this.liveQuestionIds.indexOf(e.currentIndex);if(i<this.liveQuestionIds.length-1){var n=this.$$("#structuredQuestionContainer_"+this.liveQuestionIds[i+1]);n.scrollIntoView({block:"center",inline:"center",behavior:"smooth"}),n.focus()}},_hasStructuredQuestions:function(t){return null!=t},_skipToId:function(t,e,i){var n=!1;if(this.$$("#surveyContainer"))for(var o=this.$$("#surveyContainer").children,s=0;s<o.length;s++){var r=e.toId.replace(/]/g,""),a=e.fromId.replace(/]/g,"");if(o[s+1]&&o[s+1].question&&o[s+1].question.uniqueId&&"a"===o[s+1].question.uniqueId.substring(o[s+1].question.uniqueId.length-1)&&(o[s].question.uniqueId=o[s+1].question.uniqueId.substring(0,o[s+1].question.uniqueId.length-1)),o[s].question&&e.fromId&&o[s].question.uniqueId===a)n=!0;else{if(o[s].question&&e.toId&&(o[s].question.uniqueId===r||o[s].question.uniqueId===r+"a"))break;n&&(o[s].hidden=!i)}}else console.error("No survey container found")},observers:["_setupTranslation(language,t)"],ready:function(){this.browserId=window.appUser.getBrowserId(),this.browserFingerprint=window.appUser.browserFingerprint,this.browserFingerprintConfidence=window.appUser.browserFingerprintConfidence},_updateCategoryQuestion:function(){this.async(function(){var t=this.$$("#customCategoryQuestionTextId");t&&t.finalContent&&this.set("customCategoryQuestionText",t.finalContent)})},_updatePostTitle:function(){this.async(function(){var t=this.$$("#customTitleQuestionTextId");t&&t.finalContent&&this.set("customTitleQuestionText",t.finalContent)})},_replacedName:function(t,e){if(t&&e&&e.configuration.hideNameInputAndReplaceWith){var i=e.configuration.hideNameInputAndReplaceWith;return i=(i=(i=i.replace("<DATESECONDS>",moment(new Date).format("DD/MM/YYYY hh:mm:ss"))).replace("<DATEMINUTES>",moment(new Date).format("DD/MM/YYYY hh:mm"))).replace("<DATE>",moment(new Date).format("DD/MM/YYYY"))}return null},_pointMaxLength:function(t){return t&&t.configuration&&t.configuration.pointCharLimit?t.configuration.pointCharLimit:500},_floatIfValueOrIE:function(t){return/Trident.*rv[ :]*11\./.test(navigator.userAgent)||t},_mediaHidden:function(t,e){return!(!e||!e.configuration||!0!==e.configuration.hideMediaInput)},_newPointShown:function(t,e){var i=!1;return e&&e.configuration&&!0===e.configuration.hideNewPointOnNewIdea&&(i=!0),t&&!i},_customSubmit:function(){if(this.group.configuration&&this.group.configuration.structuredQuestionsJson){var n=[];this.liveQuestionIds.forEach(function(t){var e=this.$$("#structuredQuestionContainer_"+t);e&&n.push(e.getAnswer())}.bind(this)),this.set("structuredAnswersJson",JSON.stringify(n)),this.$.editDialog._reallySubmit()}else if(this.structuredQuestions&&0<this.structuredQuestions.length){var t="";n="";for(i=0;i<this.structuredQuestions.length;i+=1)t+=this.structuredQuestions[i].question,this.structuredQuestions[i].question&&"?"!==this.structuredQuestions[i].question[this.structuredQuestions[i].question.length-1]&&(t+=":"),t+="\n",t+=this.structuredQuestions[i].value,n+=this.structuredQuestions[i].value,i!==this.structuredQuestions.length-1&&(n+="%!#x",t+="\n\n");this.set("post.description",t),this.set("structuredAnswers",n),this.$.editDialog._reallySubmit()}else this.$.editDialog._reallySubmit()},_resizeScrollerIfNeeded:function(){this.$.editDialog.scrollResize()},_structuredQuestions:function(t,e,i){if(t&&e&&e.configuration.structuredQuestionsJson)return i||e.configuration.structuredQuestionsJson;if(t&&e&&e.configuration.structuredQuestions&&""!==e.configuration.structuredQuestions){for(var n=[],o=e.configuration.structuredQuestions.split(","),s=0;s<o.length;s+=2){var r=o[s],a=o[s+1];n.push({text:r,question:r,maxLength:a,value:""})}if(!this.newPost&&t.public_data.structuredAnswers&&""!==t.public_data.structuredAnswers){var u=t.public_data.structuredAnswers.split("%!#x");for(s=0;s<u.length;s+=1)n[s]&&(n[s].value=u[s])}return n}return null},_showVideoCover:function(t,e){return t||e},_showAudioCover:function(t,e){return t||e},_videoUploaded:function(t,e){this.set("uploadedVideoId",e.videoId),this.set("selectedCoverMediaType","video"),this.async(function(){this.fire("iron-resize")},50)},_audioUploaded:function(t,e){this.set("uploadedAudioId",e.audioId),this.set("selectedCoverMediaType","audio"),this.async(function(){this.fire("iron-resize")})},_documentUploaded:function(t,e){var i=e.attachmentURL.split("?")[0];this.set("uploadedDocumentUrl",i),this.set("uploadedDocumentFilename",e.filename)},customFormResponse:function(){document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"yp-refresh-group-posts",data:{id:4}}}))},_updateEmojiBindings:function(){this.async(function(){var t=this.$$("#description"),e=this.$$("#emojiSelectorDescription");t&&e?e.inputTarget=t:console.warn("Post edit: Can't bind emojis :(");var i=this.$$("#emojiSelectorPointFor"),n=this.$$("#pointFor");i&&n&&(i.inputTarget=n)}.bind(this),500)},_locationHiddenChanged:function(){this.async(function(){var t=this.$$("#pages");t&&t.forceSynchronousItemUpdate();var e=this.$$("#paperTabs");e&&e.forceSynchronousItemUpdate(),console.log("Location hidden changed")},10)},_formInvalid:function(){this.newPointShown&&!this.$$("#pointFor").validate()?this.set("selected",1):this.set("selected",0),this.$$("#name")&&(this.$$("#name").autoValidate=!0),this.$$("#description")&&(this.$$("#description").autoValidate=!0),this.newPointShown&&(this.$$("#pointFor").autoValidate=!0)},_encodedLocationChanged:function(){},_locationChanged:function(t){!t||this.selectedCoverMediaType&&""!=this.selectedCoverMediaType&&"none"!=this.selectedCoverMediaType||this.set("selectedCoverMediaType","map")},_uploadedHeaderImageIdChanged:function(t){t&&this.set("selectedCoverMediaType","image")},_nextOnEnter:function(t){13===t.keyCode&&this._searchMap()},_getTabLength:function(){var t=4;return this.newPointShown||(t-=1),this.locationHidden&&(t-=1),this.mediaHidden&&(t-=1),t},_nextTab:function(){var t=this._getTabLength();this.selected<t&&this.set("selected",this.selected+1)},_selectedChanged:function(n){this.async(function(){this.locationHidden||n!=(this.newPointShown?2:1)?this.set("mapActive",!1):this.set("mapActive",!0);var t=this._getTabLength()-1;if(0==t&&this.set("hasOnlyOneTab",!0),this.$$("#editDialog").useNextTabAction=n!=t,0==n){var e=this.$$("#name");e&&e.focus()}if(1==n&&this.newPointShown){var i=this.$$("#pointFor");i&&i.focus()}this.async(function(){this._resizeScrollerIfNeeded()},50)})},_selectedCategoryChanged:function(t){null!=t&&null!=t&&(this.selectedCategoryId=this.group.Categories[t].id)},_showCategories:function(t){return!(!t||!t.Categories)&&0<t.Categories.length},getPositionInArrayFromId:function(t,e){for(var i=0;i<t.length;i++)if(t[i].id==e)return i;return null},_postChanged:function(t){t&&(t.location&&(this.set("location",t.location),this.set("encodedLocation",JSON.stringify(this.location))),t.cover_media_type&&(this.selectedCoverMediaType=t.cover_media_type)),this._updateEmojiBindings()},_updateInitialCategory:function(t){t&&this.post&&this.post.category_id&&(this.selectedCategoryId=this.post.category_id,this.selectedCategoryArrayId=this.getPositionInArrayFromId(t.Categories,this.post.category_id))},_imageUploaded:function(t,e){var i=JSON.parse(e.xhr.response);this.set("uploadedHeaderImageId",i.id)},_coverMediaTypeValueChanged:function(){},_coverMediaTypeChanged:function(){},_customRedirect:function(e){var t;e?(e.newEndorsement&&window.appUser&&window.appUser.endorsementPostsIndex&&(window.appUser.endorsementPostsIndex[e.id]=e.newEndorsement),this.uploadedVideoId?(this.post=e,(t=document.createElement("iron-ajax")).handleAs="json",t.contentType="application/json",t.url="/api/videos/"+this.post.id+"/completeAndAddToPost",t.method="PUT",t.body={videoId:this.uploadedVideoId,appLanguage:this.language},t.addEventListener("response",function(t){this._finishRedirect(e),this.async(function(){window.appGlobals.showSpeechToTextInfoIfNeeded()},20)}.bind(this)),t.generateRequest()):this.uploadedAudioId&&this.newPost?(this.post=e,(t=document.createElement("iron-ajax")).handleAs="json",t.contentType="application/json",t.url="/api/audios/"+this.post.id+"/completeAndAddToPost",t.method="PUT",t.body={audioId:this.uploadedAudioId,appLanguage:this.language},t.addEventListener("response",function(t){this._finishRedirect(e)}.bind(this)),this.async(function(){window.appGlobals.showSpeechToTextInfoIfNeeded()},20),t.generateRequest()):this._finishRedirect(e)):console.warn("No post found on custom redirect")},_finishRedirect:function(t){this.fire("yp-reset-keep-open-for-page"),window.appGlobals.activity("completed","newPost");var e=this.t("thankYouForYourSubmission");this.group&&this.group.configuration&&this.group.configuration.customThankYouTextNewPosts&&this.$$("#customThankYouTextNewPostsId")&&this.$$("#customThankYouTextNewPostsId").content&&(e=this.$$("#customThankYouTextNewPostsId").finalContent?this.$$("#customThankYouTextNewPostsId").finalContent:this.$$("#customThankYouTextNewPostsId").content),Polymer.dom(document).querySelector("yp-app").getDialogAsync("masterToast",function(t){t.text=e,t.duration=5e3,t.show()}.bind(this)),this.group&&this.group.configuration&&this.group.configuration.allPostsBlockedByDefault||this.redirectTo("/post/"+(t?t.id:this.post.id))},_clear:function(){this.newPost&&(this.set("post",{name:"",description:"",pointFor:"",categoryId:null}),this.set("location",null),this.set("selectedCategoryArrayId",null),this.set("selectedCategoryId",null),this.set("selected",0),this.set("uploadedHeaderImageId",null),this.set("uploadedVideoId",null),this.set("uploadedAudioId",null),this.set("currentVideoId",null),this.set("currentAudioId",null),this.set("selectedCoverMediaType","none"),this.async(function(){this.fire("iron-resize")}),this.$$("#imageFileUpload")&&this.$$("#imageFileUpload").clear())},setup:function(t,e,i,n){this._setupGroup(n),t?(this.set("post",t),t.PostVideos&&0<t.PostVideos.length&&this.set("currentVideoId",t.PostVideos[0].id),t.PostAudios&&0<t.PostAudios.length&&this.set("currentAudioId",t.PostAudios[0].id)):this.set("post",null),this._updateInitialCategory(n),this.set("newPost",e),this.set("refreshFunction",i),this._setupTranslation(),this._clear()},_setupGroup:function(t){t&&(this.set("group",t),t.configuration?(t.configuration.locationHidden&&1==t.configuration.locationHidden?this.set("locationHidden",!0):this.set("locationHidden",!1),t.configuration.postDescriptionLimit?this.set("postDescriptionLimit",t.configuration.postDescriptionLimit):this.set("postDescriptionLimit",500),t.configuration.structuredQuestionsJson&&this.async(function(){this.liveQuestionIds=[],this.uniqueIdsToElementIndexes={},this.liveUniqueIds=[],t.configuration.structuredQuestionsJson.forEach(function(t,e){"textfield"!==t.type.toLowerCase()&&"textfieldlong"!==t.type.toLowerCase()&&"textarea"!==t.type.toLowerCase()&&"textarealong"!==t.type.toLowerCase()&&"numberfield"!==t.type.toLowerCase()&&"checkboxes"!==t.type.toLowerCase()&&"radios"!==t.type.toLowerCase()&&"dropdown"!==t.type.toLowerCase()||(this.liveQuestionIds.push(e),this.uniqueIdsToElementIndexes[t.uniqueId]=e,this.liveUniqueIds.push(t.uniqueId))}.bind(this))})):this.set("postDescriptionLimit",500),this.async(function(){this.structuredQuestions&&this.set("postDescriptionLimit",9999)},50))},setupAfterOpen:function(t){this._setupGroup(t.group),this.async(function(){var t=this.$$("#name");t&&t.focus()}.bind(this),250),!this.newPost&&this.post.public_data&&this.post.public_data.structuredAnswersJson&&this.set("initialStructuredAnswersJson",this.post.public_data.structuredAnswersJson)},_alternativeTextForNewIdeaButtonHeaderTranslation:function(){this.async(function(){var t=this.$$("#alternativeTextForNewIdeaButtonHeaderId");t&&t.finalContent&&this.set("editHeaderText",t.finalContent)})},_alternativeTextForNewIdeaSaveButtonTranslation:function(){this.async(function(){var t=this.$$("#alternativeTextForNewIdeaSaveButtonId");t&&t.finalContent&&this.set("saveText",t.finalContent)})},_setupTranslation:function(){this.async(function(){if(this.t)if(this.newPost){if(this.group&&this.group.configuration&&this.group.configuration.alternativeTextForNewIdeaButtonHeader){var t=this.$$("#alternativeTextForNewIdeaButtonHeaderId");this.editHeaderText=t&&t.finalContent?t.finalContent:this.group.configuration.alternativeTextForNewIdeaButtonHeader}else this.editHeaderText=this.t("post.new");if(this.group&&this.group.configuration&&this.group.configuration.alternativeTextForNewIdeaSaveButton){t=this.$$("#alternativeTextForNewIdeaSaveButtonId");this.set("saveText",t&&t.finalContent?t.finalContent:this.group.configuration.alternativeTextForNewIdeaSaveButton)}else this.set("saveText",this.t("create"));this.toastText=this.t("postCreated")}else this.set("saveText",this.t("save")),this.editHeaderText=this.t("post.edit"),this.toastText=this.t("postUpdated")}.bind(this),20)}})</script><script>Polymer.ypGotAdminRightsBehavior={properties:{gotAdminRights:{type:Boolean,notify:!0,value:!1,observer:"_gotAdminRightsChanged"}},listeners:{"yp-user-got-admin-rights":"_gotAdminRights"},_gotAdminRightsChanged:function(){},ready:function(){window.appUser&&window.appUser.adminRights&&this.set("gotAdminRights",1)},_gotAdminRights:function(i,t){this.set("gotAdminRights",t)}}</script><dom-module id="yp-dialog-container"assetpath="../yp-dialog-container/"><template><style include="iron-flex iron-flex-alignment">:host{background-color:var(--primary-background-color);}#dialogs{background-color:var(--primary-background-color) !important;}#dialogs[hide]{display:none;}paper-dialog{background-color:#FFF;}.trackingInfo, #pixelTrackingCookieConfirm{color:#FFF;background-color:#222;}.trackingInfo{margin-bottom:16px;font-size:16px;}paper-button{background-color:#555;margin-right:12px;text-align:center;}</style><lite-signal on-lite-signal-got-admin-rights="_gotAdminRights"></lite-signal><lite-signal on-lite-signal-logged-in="_loggedInUser"></lite-signal><lite-signal on-lite-signal-open-bulk-status-updates="_openBulkStatusUpdates"></lite-signal><template is="dom-if"if="[[loggedInUser]]"restamp=""><ac-notification-toast id="notificationToast"></ac-notification-toast></template><template is="dom-if"if="[[needsPixelCookieConfirm]]"restamp=""><paper-toast id="pixelTrackingCookieConfirm"duration="0"><div class="layout vertical"><div class="trackingInfo">[[t('facebookTrackingToastInfo')]]</div><div class="layout horizontal"><div class="flex"></div><paper-button raised=""on-tap="_disableFaceookPixelTracking">[[t('disableFacebookTracking')]]</paper-button><paper-button raised=""on-tap="_agreeToFacebookPixelTracking">[[t('iAgree')]]</paper-button></div></div></paper-toast></template><template is="dom-if"if="[[apiActionDialogOpen]]"restamp=""><yp-api-action-dialog id="apiActionDialog"on-close="_closeActionDialog"></yp-api-action-dialog></template><template is="dom-if"if="[[registrationQuestionsOpen]]"restamp=""><yp-registration-questions-dialog id="registrationQuestions"on-close="_closeRegistrationQuestionsDialog"></yp-registration-questions-dialog></template><div id="dialogs"hide$="[[hideDialogs]]"><paper-toast id="masterToast"></paper-toast><yp-ajax-error-dialog id="errorDialog"></yp-ajax-error-dialog><template is="dom-if"if="[[pageDialogOpen]]"restamp=""><yp-page-dialog id="pageDialog"></yp-page-dialog></template><template is="dom-if"if="[[confirmationDialogOpen]]"restamp=""><yp-confirmation-dialog id="confirmationDialog"></yp-confirmation-dialog></template><template is="dom-if"if="[[autoTranslateDialogOpen]]"restamp=""><yp-autotranslate-dialog id="autoTranslateDialog"></yp-autotranslate-dialog></template><template is="dom-if"if="[[magicTextDialogOpen]]"restamp=""><yp-magic-text-dialog id="magicTextDialog"></yp-magic-text-dialog></template><iron-lazy-pages selected="{{selectedDialog}}"attr-for-selected="name"><template is="dom-if"name="userLogin"restamp=""><yp-login id="userLogin"on-yp-forgot-password="_forgotPassword"></yp-login></template><template is="dom-if"name="forgotPassword"restamp=""><yp-forgot-password id="forgotPassword"></yp-forgot-password></template><template is="dom-if"name="resetPassword"restamp=""><yp-reset-password id="resetPassword"></yp-reset-password></template><template is="dom-if"name="ratings"restamp=""><yp-dialog-ratings id="ratings"></yp-dialog-ratings></template><template is="dom-if"name="acceptInvite"restamp=""><yp-accept-invite id="acceptInvite"></yp-accept-invite></template><template is="dom-if"name="missingEmail"restamp=""><yp-missing-email id="missingEmail"></yp-missing-email></template><template is="dom-if"name="communityEdit"restamp=""><yp-community-edit id="communityEdit"></yp-community-edit></template><template is="dom-if"name="groupEdit"restamp=""><yp-group-edit new=""id="groupEdit"></yp-group-edit></template><template is="dom-if"name="postEdit"restamp=""><yp-post-edit id="postEdit"></yp-post-edit></template><template is="dom-if"name="userImageEdit"restamp=""><yp-post-user-image-edit id="userImageEdit"></yp-post-user-image-edit></template><template is="dom-if"name="userEdit"restamp=""><yp-user-edit id="userEdit"method="PUT"></yp-user-edit></template><template is="dom-if"name="userDeleteOrAnonymize"restamp=""><yp-user-delete-or-anonymize id="userDeleteOrAnonymize"></yp-user-delete-or-anonymize></template><template is="dom-if"name="categoryEdit"restamp=""><yp-category-edit new=""id="categoryEdit"></yp-category-edit></template><template is="dom-if"name="pagesGrid"restamp=""><yp-pages-grid id="pagesGrid"></yp-pages-grid></template><template is="dom-if"name="organizationsGrid"restamp=""><yp-organizations-grid id="organizationsGrid"></yp-organizations-grid></template><template is="dom-if"name="organizationEdit"restamp=""><yp-organization-edit id="organizationEdit"></yp-organization-edit></template><template is="dom-if"name="domainEdit"restamp=""><yp-domain-edit id="domainEdit"></yp-domain-edit></template><template is="dom-if"name="postStatusChangeEdit"restamp=""><yp-post-status-change-edit id="postStatusChangeEdit"></yp-post-status-change-edit></template><template is="dom-if"name="postMove"restamp=""><yp-post-move id="postMove"></yp-post-move></template><template is="dom-if"name="none"restamp=""><div hidden=""></div></template><template is="dom-if"name="usersGrid"restamp=""><yp-users-grid id="usersGrid"></yp-users-grid></template><template is="dom-if"name="contentModeration"restamp=""><yp-content-moderation id="contentModeration"></yp-content-moderation></template><template is="dom-if"name="fraudManagement"restamp=""><yp-fraud-management id="fraudManagement"></yp-fraud-management></template><template is="dom-if"name="createReport"restamp=""><yp-create-report id="createReport"></yp-create-report></template><template is="dom-if"name="duplicateCollection"restamp=""><yp-duplicate-collection id="duplicateCollection"></yp-duplicate-collection></template></iron-lazy-pages><template is="dom-if"if="[[bulkStatusUpdates]]"restamp=""><yp-bulk-status-update-config id="bulkStatusUpdateConfig"></yp-bulk-status-update-config><yp-bulk-status-update-grid id="bulkStatusUpdateGrid"></yp-bulk-status-update-grid><yp-bulk-status-update-edit id="bulkStatusUpdateEdit"></yp-bulk-status-update-edit><yp-bulk-status-update-templates id="bulkStatusUpdateEditTemplates"></yp-bulk-status-update-templates></template><template is="dom-if"if="[[gotMediaRecorder]]"restamp=""><yp-media-recorder id="mediaRecorder"></yp-media-recorder></template></div><paper-dialog id="loadingDialog"><paper-spinner active=""></paper-spinner></paper-dialog></template><script>Polymer({is:"yp-dialog-container",behaviors:[Polymer.ypLoggedInUserBehavior,Polymer.ypGotAdminRightsBehavior,Polymer.ypLanguageBehavior],properties:{waitForUpgradeCounter:{type:Number,value:0},bulkStatusUpdates:{type:Boolean,value:!1},hideDialogs:{type:Boolean,value:!0},haveLoadedDelayed:{type:Boolean,value:!1},haveLoadedDataViz:{type:Boolean,value:!1},loadingStartedLoggedIn:{type:Boolean,value:!1},loadingStartedAdmin:{type:Boolean,value:!1},selectedDialog:{type:String,value:null},confirmationDialogOpen:{type:String,value:!1},pageDialogOpen:{type:Boolean,value:!1},magicTextDialogOpen:{type:Boolean,value:!1},gotUsersGrid:{type:Boolean,value:!1},gotContentModeration:{type:Boolean,value:!1},gotFraudManagement:{type:Boolean,value:!1},gotCreateReport:{type:Boolean,value:!1},gotDuplicateCollection:{type:Boolean,value:!1},gotMediaRecorder:{type:Boolean,value:!1},needsPixelCookieConfirm:{type:Boolean,value:!1},apiActionDialogOpen:{type:Boolean,value:!1},registrationQuestionsOpen:{type:Boolean,value:!1},autoTranslateDialogOpen:{type:Boolean,value:!1},facebookPixelTrackingId:String},ready:function(){this.async(function(){this.importHref(this.resolveUrl("/src/yp-dialog-container/yp-dialog-container-delayed.html"),function(){this.set("haveLoadedDelayed",!0)},null,!0)},3e3)},_closeActionDialog:function(){this.set("apiActionDialogOpen",!1)},_closeRegistrationQuestionsDialog:function(){this.set("registrationQuestionsOpen",!1)},loadDataViz:function(){this.haveLoadedDataViz||(this.haveLoadedDataViz=!0,this.importHref(this.resolveUrl("/src/yp-dialog-container/yp-dialog-container-data-viz.html"),function(){},null,!0))},openPixelCookieConfirm:function(o){this.set("facebookPixelTrackingId",o),this.async(function(){this.set("needsPixelCookieConfirm",!0),this.async(function(){this.$$("#pixelTrackingCookieConfirm").open()})},2e3)},_disableFaceookPixelTracking:function(){localStorage.setItem("disableFacebookPixelTracking",!0),this.$$("#pixelTrackingCookieConfirm").close()},_agreeToFacebookPixelTracking:function(){localStorage.setItem("consentGivenForFacebookPixelTracking",!0),window.appGlobals.setCommunityPixelTracker(this.facebookPixelTrackingId),this.$$("#pixelTrackingCookieConfirm").close()},_loggedInUser:function(o,e){console.info("_loggedInUser"),e&&(this.set("loggedInUser",e),this.loadingStartedLoggedIn?console.warn("Trying to load logged in twice, see appUser potentially removing that second event"):(this.loadingStartedLoggedIn=!0,this.importHref(this.resolveUrl("/src/yp-dialog-container/yp-dialog-container-logged-in.html"),function(){console.info("Have loaded logged-in container")},null,!0)))},_gotAdminRights:function(o,e){console.info("_gotAdminRights"),e&&0<e&&(this.set("gotAdminRights",!0),this.loadingStartedAdmin?console.warn("Trying to load admin in twice, see appUser potentially removing that second event"):(this.loadingStartedAdmin=!0,this.importHref(this.resolveUrl("/src/yp-dialog-container/yp-dialog-container-admin.html"),function(){console.info("Have loaded admin container")},null,!0)))},_openBulkStatusUpdates:function(){this.$.loadingDialog.open(),this.importHref(this.resolveUrl("/src/yp-dialog-container/yp-dialog-container-bulk-status-updates.html"),function(){this.$.loadingDialog.close(),console.info("Have loaded bulk status container")}.bind(this),null,!0),this.set("bulkStatusUpdates",!0)},closeDialog:function(o){var e=this.$$("#"+o);e?(console.info("Closing dialog: "+o),e.close()):console.error("Did not find dialog to close: "+o)},dialogClosed:function(o){o.name===this.selectedDialog&&(this.set("selectedDialog","none"),console.log("Setting selectedDialog to none"))},getRatingsDialogAsync:function(o){this.gotRatingsDialog?this.getDialogAsync("ratings",o):(this.$.loadingDialog.open(),this.importHref(this.resolveUrl("/src/yp-rating/yp-dialog-ratings.html"),function(){this.$.loadingDialog.close(),console.info("Have loaded ratings dialog"),this.gotRatingsDialog=!0,this.getDialogAsync("ratings",o)}.bind(this),null,!0))},getUsersGridAsync:function(o){this.gotUsersGrid?this.getDialogAsync("usersGrid",o):(this.$.loadingDialog.open(),this.importHref(this.resolveUrl("/src/yp-dialog-container/yp-dialog-vaadin-grid-shared.html"),function(){this.importHref(this.resolveUrl("/src/yp-dialog-container/yp-dialog-container-users-grid.html"),function(){this.$.loadingDialog.close(),console.info("Have loaded users grid container"),this.set("gotUsersGrid",!0),this.getDialogAsync("usersGrid",o)}.bind(this),null,!0)}.bind(this),null,!0))},getContentModerationAsync:function(o){this.gotContentModeration?this.getDialogAsync("contentModeration",o):(this.$.loadingDialog.open(),this.importHref(this.resolveUrl("/src/yp-dialog-container/yp-dialog-vaadin-grid-shared.html"),function(){this.importHref(this.resolveUrl("/src/yp-dialog-container/yp-dialog-container-moderation.html"),function(){this.$.loadingDialog.close(),console.info("Have loaded contentModeration"),this.set("gotContentModeration",!0),this.getDialogAsync("contentModeration",o)}.bind(this),null,!0)}.bind(this),null,!0))},getFraudManagementAsync:function(o){this.gotFraudManagement?this.getDialogAsync("fraudManagement",o):(this.$.loadingDialog.open(),this.importHref(this.resolveUrl("/src/yp-dialog-container/yp-dialog-vaadin-grid-shared.html"),function(){this.importHref(this.resolveUrl("/src/yp-dialog-container/yp-dialog-container-moderation.html"),function(){this.$.loadingDialog.close(),console.info("Have loaded fraudManagement"),this.set("gotFraudManagement",!0),this.getDialogAsync("fraudManagement",o)}.bind(this),null,!0)}.bind(this),null,!0))},getCreateReportAsync:function(o){this.gotCreateReport?this.getDialogAsync("createReport",o):(this.$.loadingDialog.open(),this.importHref(this.resolveUrl("/src/yp-dialog-container/yp-dialog-container-create-report.html"),function(){this.$.loadingDialog.close(),console.info("Have loaded createReport"),this.set("gotCreateReport",!0),this.getDialogAsync("createReport",o)}.bind(this),null,!0))},getDuplicateCollectionAsync:function(o){this.gotDuplicateCollection?this.getDialogAsync("duplicateCollection",o):(this.$.loadingDialog.open(),this.importHref(this.resolveUrl("/src/yp-dialog-container/yp-dialog-container-duplicate-collection.html"),function(){this.$.loadingDialog.close(),console.info("Have loaded duplicateCollection"),this.set("gotDuplicateCollection",!0),this.getDialogAsync("duplicateCollection",o)}.bind(this),null,!0))},getMediaRecorderAsync:function(o){this.gotMediaRecorder?this.getDialogAsync("mediaRecorder",o):(this.$.loadingDialog.open(),this.importHref(this.resolveUrl("/src/yp-dialog-container/yp-dialog-container-media-recorder.html"),function(){this.$.loadingDialog.close(),console.info("Have loaded media recorder container"),this.set("gotMediaRecorder",!0),this.getDialogAsync("mediaRecorder",o)}.bind(this),null,!0))},getDialogAsync:function(e,i){this.set("hideDialogs",!1),"pageDialog"===e?this.set("pageDialogOpen",!0):"confirmationDialog"===e?this.set("confirmationDialogOpen",!0):"autoTranslateDialog"===e?this.set("autoTranslateDialogOpen",!0):"apiActionDialog"===e?this.set("apiActionDialogOpen",!0):"registrationQuestions"===e?this.set("registrationQuestionsOpen",!0):"magicTextDialog"===e?this.set("magicTextDialogOpen",!0):"notificationToast"!==e&&"masterToast"!==e&&(this.set("pageDialogOpen",!1),this.set("confirmationDialogOpen",!1),this.set("autoTranslateDialogOpen",!1),this.set("selectedDialog",e)),this.async(function(){var o=this.$$("#"+e);o&&"function"==typeof o.ready?(this.set("waitForUpgradeCounter",0),console.info("Found dialog: "+e),i(o)):(console.warn("Element not upgraded: "+e),this.waitForUpgradeCounter+=1,100<this.waitForUpgradeCounter&&console.error("Element not upgraded after wait: "+e),this.async(function(){this.getDialogAsync(e,i)}.bind(this),100<this.waitForUpgradeCounter?1e3:250))})},_forgotPassword:function(){this.getDialogAsync("forgotPassword",function(o){o.open()})}})</script></dom-module><script>Polymer.ypAppSwipeBehavior={properties:{touchXDown:Number,touchYDown:Number,touchXUp:Number,touchYUp:Number},attached:function(){document.addEventListener("touchstart",this._handleTouchStart.bind(this),{passive:!0}),document.addEventListener("touchmove",this._handleTouchMove.bind(this),{passive:!0}),document.addEventListener("touchend",this._handleTouchEnd.bind(this),{passive:!0})},detached:function(){document.addEventListener("touchstart",this._handleTouchStart.bind(this)),document.addEventListener("touchmove",this._handleTouchMove.bind(this)),document.addEventListener("touchend",this._handleTouchEnd.bind(this))},_handleTouchStart:function(t){if("post"===this.page&&this.goForwardToPostId){var o=(t.touches||t.originalEvent.touches)[0];32<o.clientX&&o.clientX<window.innerWidth-32&&(this.touchXDown=o.clientX,this.touchYDown=o.clientY,this.touchXUp=null,this.touchYUp=null)}},_handleTouchMove:function(t){if("post"===this.page&&this.touchXDown&&this.goForwardToPostId){var o=t.touches||t.originalEvent.touches;this.touchXUp=o[0].clientX,this.touchYUp=o[0].clientY}},_handleTouchEnd:function(){if("post"===this.page&&this.touchXUp&&this.goForwardToPostId){var t=this.touchXDown-this.touchXUp,o=this.touchYDown-this.touchYUp;if(Math.abs(t)>Math.abs(o)&&Math.abs(o)<120){var i=3;500<window.innerWidth&&(i=4),1023<window.innerWidth&&(i=5),1400<window.innerWidth&&(i=6);var n=Math.round(window.innerWidth/i);console.log("Recommendation swipe minScrollFactorPx: "+n),this.userDrawerOpenedDelayed||this.navDrawOpenedDelayed?console.log("Recommendation swipe not active with open drawers"):0<t&&n<t?(window.scrollTo(0,0),window.appGlobals.activity("swipe","postForward"),this.$$("#goPostForward").dispatchEvent(new Event("tap"))):t<0&&t<-Math.abs(n)&&!0===this.showBackToPost&&(window.scrollTo(0,0),this._goToPreviousPost(),window.appGlobals.activity("swipe","postBackward")),this.touchXDown=null,this.touchXUp=null,this.touchYDown=null,this.touchYUp=null}}}}</script><dom-module id="yp-sw-update-toast"assetpath="../yp-app-globals/"><template><style>span{margin-right:1em;}a{color:var(--paper-orange-a200, orange);text-decoration:none;}</style><paper-toast id="toast"duration="[[ duration ]]"opened="[[ opened ]]"><span>[[ message ]]</span> <a href=""on-click="_reload">[[ buttonLabel ]]</a></paper-toast></template><script>var YPSWUpdateToast=function(e){function t(){return babelHelpers.classCallCheck(this,t),babelHelpers.possibleConstructorReturn(this,babelHelpers.getPrototypeOf(t).apply(this,arguments))}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"ready",value:function(){babelHelpers.get(babelHelpers.getPrototypeOf(t.prototype),"ready",this).call(this),"serviceWorker"in navigator&&(window.addEventListener("load",function(){navigator.serviceWorker.getRegistration().then(function(e){e&&e.addEventListener("updatefound",function(){"storage"in navigator&&"estimate"in navigator.storage&&navigator.storage.estimate().then(function(e){var t=e.usage,n=e.quota;n<=t&&console.error("Using ".concat(t," out of ").concat(n," bytes. Not showing toast."))})})})}),this._triggerUpdatePolling())}},{key:"_triggerUpdatePolling",value:function(){setTimeout(function(){var t=this;"serviceWorker"in navigator&&navigator.serviceWorker.getRegistration().then(function(e){e&&(e.update(),t._triggerUpdatePolling())})}.bind(this),36e5)}},{key:"_reload",value:function(){window.location.reload()}}],[{key:"is",get:function(){return"yp-sw-update-toast"}},{key:"properties",get:function(){return{message:{type:String},buttonLabel:{type:String},duration:{type:Number,value:0},opened:{type:Boolean,value:!1}}}}]),t}(Polymer.Element);customElements.define(YPSWUpdateToast.is,YPSWUpdateToast)</script></dom-module><script>Polymer.ypDetectOldiOs={_isOldiOs:function(){var e=parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1;return/iPad|iPhone|iPod/.test(navigator.userAgent)&&e&&e<11&&!window.MSStream}}</script><dom-module id="yp-survey-group"assetpath="../yp-survey-group/"><template><style include="iron-flex iron-flex-alignment">[hidden]{display:none !important;}:host{display:block;width:100%;}#submitButton{margin-top:8px;margin-bottom:128px;background-color:var(--accent-color);color:#FFF;font-size:18px;padding:16px;}.submitSpinnerContainer{height:90px;}.surveyContainer{margin-left:32px;margin-right:32px;max-width:800px;width:800px;}@media (max-width: 800px){yp-structured-question-edit{margin-left:16px;padding-left:0;padding-right:0;margin-right:16px;}.surveyContainer{margin-left:0;margin-right:0;max-width:100%;width:100%;}:host{width:100vw;}}.surveyCompleted{font-size:28px;margin:128px;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><iron-media-query query="(min-width: 1024px)"query-matches="{{wideWidth}}"></iron-media-query><iron-media-query query="(max-width: 700px)"query-matches="{{phoneWidth}}"></iron-media-query><app-route route="{{idRoute}}"pattern="/:id"data="{{idRouteData}}"tail="{{tabRoute}}"></app-route><app-route route="{{tabRoute}}"pattern="/:tabName"data="{{tabRouteData}}"tail="{{listRoute}}"></app-route><template is="dom-if"if="[[!surveyCompleted]]"><template is="dom-if"if="[[structuredQuestions]]"><div class="layout vertical center-center"><div class="surveyContainer"><div id="surveyContainer"><template is="dom-repeat"items="[[structuredQuestions]]"as="question"initial-count="5"><yp-structured-question-edit index="[[index]]"id="structuredQuestionContainer_[[index]]"structured-answers="[[initiallyLoadedAnswers]]"on-changed="_saveState"question="[[question]]"is-last-rating="[[_isLastRating(index)]]"is-first-rating="[[_isFirstRating(index)]]"on-hide-to-question="_hideToQuestion"></yp-structured-question-edit></template></div><div class="layout horizontal center-center submitSpinnerContainer"><yp-ajax large-spinner=""id="submitAjax"method="POST"iron-method="POST"on-response="_surveySubmitResponse"></yp-ajax></div><div class="layout horizontal center-center"hidden$="[[submitHidden]]"><paper-button id="submitButton"raised=""on-tap="_submit">[[t('submitSurvey')]]</paper-button></div></div></div></template></template><template is="dom-if"if="[[surveyCompleted]]"><div class="surveyCompleted layout vertical center-center"><template is="dom-if"if="[[surveyGroup.configuration.customThankYouTextNewPosts]]"><yp-magic-text id="customThankYouTextNewPostsId"content-id="[[surveyGroup.id]]"text-only=""content="[[surveyGroup.configuration.customThankYouTextNewPosts]]"content-language="[[surveyGroup.language]]"text-type="customThankYouTextNewPosts"></yp-magic-text></template><template is="dom-if"if="[[!surveyGroup.configuration.customThankYouTextNewPosts]]">[[t('thankYouForCompletingTheSurvey')]]</template></div></template><div class="layout horizontal center-center"><yp-ajax large-spinner=""id="ajax"on-response="_surveyGroupResponse"></yp-ajax><yp-ajax hidden=""id="pagesAjax"on-response="_pagesResponse"></yp-ajax></div></template><script>Polymer({is:"yp-survey-group",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypThemeBehavior,Polymer.ypDetectOldiOs,Polymer.ypNumberFormatBehavior],properties:{idRoute:Object,tabRoute:Object,idRouteData:Object,tabRouteData:Object,surveyGroupId:{type:Number,observer:"_surveyGroupIdChanged"},surveySubmitError:{type:String,value:null},surveyCompleted:{type:Boolean,value:!1},surveyGroup:{type:Object,value:null},structuredQuestions:{type:Array,value:null},structuredAnswers:{type:Array,value:null},initiallyLoadedAnswers:{type:Array,value:null},submitHidden:{type:Boolean,value:!0}},observers:["_routeIdChanged(idRouteData.id)"],listeners:{"yp-skip-to-unique-id":"_skipToId","yp-open-to-unique-id":"_openToId","yp-goto-next-index":"_goToNextIndex","yp-answer-content-changed":"_saveState"},_isLastRating:function(e){return"rating"===this.structuredQuestions[e].subType&&e+2<this.structuredQuestions.length&&"rating"!==this.structuredQuestions[e+1].subType},_isFirstRating:function(e){return"rating"===this.structuredQuestions[e].subType&&this.structuredQuestions[e-1]&&"rating"!==this.structuredQuestions[e-1].subType},_openToId:function(e,s){this._skipToId(e,s,!0)},_skipToId:function(e,s,t){console.log(s);for(var i=!1,u=this.$$("#surveyContainer").children,o=0;o<u.length;o++){var r=s.toId.replace(/]/g,""),n=s.fromId.replace(/]/g,"");if(u[o+1]&&u[o+1].question&&u[o+1].question.uniqueId&&"a"===u[o+1].question.uniqueId.substring(u[o+1].question.uniqueId.length-1)&&(u[o].question.uniqueId=u[o+1].question.uniqueId.substring(0,u[o+1].question.uniqueId.length-1)),u[o].question&&s.fromId&&u[o].question.uniqueId===n)i=!0;else{if(u[o].question&&s.toId&&(u[o].question.uniqueId===r||u[o].question.uniqueId===r+"a"))break;i&&(u[o].hidden=!t)}}},_goToNextIndex:function(e,s){var t=this.liveQuestionIds.indexOf(s.currentIndex);if(t<this.liveQuestionIds.length-1){var i=this.$$("#structuredQuestionContainer_"+this.liveQuestionIds[t+1]);i.scrollIntoView({block:"center",inline:"center",behavior:"smooth"}),i.focus()}},_serializeAnswers:function(){var t=[];this.liveQuestionIds.forEach(function(e){var s=this.$$("#structuredQuestionContainer_"+e);s&&t.push(s.getAnswer())}.bind(this)),this.structuredAnswers=t},_surveySubmitResponse:function(e,s){s.error?this.set("surveySubmitError",s.error):this.set("surveyCompleted",!0)},_submit:function(){this._serializeAnswers();var e=this.$$("#submitAjax");e.url="/api/groups/"+this.surveyGroup.id+"/survey",e.method="POST",e.body={structuredAnswers:this.structuredAnswers},e.generateRequest()},_saveState:function(e,s){s&&s.value&&(""!==s.value||1<s.value)&&(this.set("submitHidden",!1),this._serializeAnswers(),localStorage.setItem("yp-survey-response-for-"+this.surveyGroup.id,JSON.stringify(this.structuredAnswers)))},_clearState:function(){localStorage.setItem("yp-survey-response-for-"+this.surveyGroup.id,null)},_checkAndLoadState:function(){var e=localStorage.getItem("yp-survey-response-for-"+this.surveyGroup.id);e&&(this.set("structuredAnswers",JSON.parse(e)),this.set("initiallyLoadedAnswers",JSON.parse(e)))},_isIpad:function(){return/iPad/.test(navigator.userAgent)&&!window.MSStream},_routeIdChanged:function(e){e&&this.set("surveyGroupId",e)},_surveyGroupIdChanged:function(e){e&&(this.set("surveyGroup",null),this._getSurveyGroup())},_getSurveyGroup:function(){this.$.ajax.url="/api/groups/"+this.surveyGroupId+"/survey",this.$.ajax.retryMethodAfter401Login=this._getSurveyGroup.bind(this),this.$.ajax.generateRequest()},_pagesResponse:function(e,s){this.fire("yp-set-pages",s.response)},_surveyGroupResponse:function(e,s){this.set("surveyGroup",s.response.surveyGroup),this.set("structuredQuestions",s.response.surveyGroup.configuration.structuredQuestionsJson),this.set("surveyGroup.configuration",window.appGlobals.overrideGroupConfigIfNeeded(this.surveyGroup.id,this.surveyGroup.configuration)),this.refresh(),this.async(function(){this.liveQuestionIds=[],this.liveUniqueIds=[],this.liveUniqueIdsAll=[],this.uniqueIdsToElementIndexes={},this.structuredQuestions&&this.structuredQuestions.forEach(function(e,s){"textfield"!==e.type.toLowerCase()&&"textfieldlong"!==e.type.toLowerCase()&&"textarea"!==e.type.toLowerCase()&&"textarealong"!==e.type.toLowerCase()&&"numberfield"!==e.type.toLowerCase()&&"checkboxes"!==e.type.toLowerCase()&&"radios"!==e.type.toLowerCase()&&"dropdown"!==e.type.toLowerCase()||(this.liveQuestionIds.push(s),this.uniqueIdsToElementIndexes[e.uniqueId]=s,this.liveUniqueIds.push(e.uniqueId),this.liveUniqueIdsAll.push({uniqueId:e.uniqueId,atIndex:s}))}.bind(this)),this._checkAndLoadState()}),window.appGlobals.postLoadGroupProcessing(this.surveyGroup)},_useHardBack:function(e){if(e&&e.customBackURL){var s=e.customBackURL;return!(s.startsWith("/community/")||s.startsWith("/group/")||s.startsWith("/domain/")||s.startsWith("/post/"))}return!1},refresh:function(){this.surveyGroup&&(this.fire("yp-set-home-link",{type:"group",id:this.surveyGroup.id,name:this.surveyGroup.name}),null!=this.surveyGroup.configuration.defaultLocale&&window.appGlobals.changeLocaleIfNeeded(this.surveyGroup.configuration.defaultLocale),window.appGlobals.setCommunityAnalyticsTracker(this.surveyGroup.Community.google_analytics_code),null!=this.surveyGroup.theme_id||this.surveyGroup.configuration&&null!=this.surveyGroup.configuration.themeOverrideColorPrimary?this.setTheme(this.surveyGroup.theme_id,this.surveyGroup.configuration):this.surveyGroup.Community&&(null!=this.surveyGroup.Community.theme_id||this.surveyGroup.Community.configuration&&this.surveyGroup.Community.configuration.themeOverrideColorPrimary)?this.setTheme(this.surveyGroup.Community.theme_id,this.surveyGroup.Community.configuration):this.surveyGroup.Community&&this.surveyGroup.Community.Domain&&null!=this.surveyGroup.Community.Domain.theme_id?this.setTheme(this.surveyGroup.Community.Domain.theme_id):this.setTheme(1),this.fire("change-header",{headerTitle:this.surveyGroup.configuration.customBackName?this.surveyGroup.configuration.customBackName:this.surveyGroup.Community.name,headerDescription:this.surveyGroup.Community.description,headerIcon:"social:group",documentTitle:this.surveyGroup.name,enableSearch:!0,hideHelpIcon:!!this.surveyGroup.configuration.hideHelpIcon||null,useHardBack:this._useHardBack(this.surveyGroup.configuration),backPath:this.surveyGroup.configuration.customBackURL?this.surveyGroup.configuration.customBackURL:"/community/"+this.surveyGroup.community_id}),this.$.pagesAjax.url="/api/groups/"+this.surveyGroup.id+"/pages",this.$.pagesAjax.generateRequest(),window.appGlobals.setAnonymousGroupStatus(this.surveyGroup),window.appGlobals.setRegistrationQuestionGroup(this.surveyGroup),this.surveyGroup.configuration&&!0===this.surveyGroup.configuration.disableFacebookLoginForGroup?window.appGlobals.disableFacebookLoginForGroup=!0:window.appGlobals.disableFacebookLoginForGroup=!1,this.surveyGroup.configuration&&this.surveyGroup.configuration.externalGoalTriggerUrl?window.appGlobals.externalGoalTriggerGroupId=this.surveyGroup.id:window.appGlobals.externalGoalTriggerGroupId=null,this.surveyGroup.Community&&this.surveyGroup.Community.configuration&&this.surveyGroup.Community.configuration.signupTermsPageId&&-1!=this.surveyGroup.Community.configuration.signupTermsPageId?window.appGlobals.signupTermsPageId=this.surveyGroup.Community.configuration.signupTermsPageId:window.appGlobals.signupTermsPageId=null,this.surveyGroup.Community&&this.surveyGroup.Community.configuration&&this.surveyGroup.Community.configuration.customSamlDeniedMessage?window.appGlobals.currentSamlDeniedMessage=this.surveyGroup.Community.configuration.customSamlDeniedMessage:window.appGlobals.currentSamlDeniedMessage=null,this.surveyGroup.Community.configuration&&this.surveyGroup.Community.configuration.customSamlLoginMessage?window.appGlobals.currentSamlLoginMessage=this.surveyGroup.Community.configuration.customSamlLoginMessage:window.appGlobals.currentSamlLoginMessage=null,window.appGlobals.currentGroup=this.surveyGroup,this.surveyGroup.configuration&&this.surveyGroup.configuration.forceSecureSamlLogin&&!this.checkGroupAccess(this.surveyGroup)||this.surveyGroup.Community&&this.surveyGroup.Community.configuration&&this.surveyGroup.Community.configuration.forceSecureSamlLogin&&!this.checkCommunityAccess(this.surveyGroup.Community)?window.appGlobals.currentForceSaml=!0:window.appGlobals.currentForceSaml=!1)}})</script></dom-module></div><dom-module id="yp-app"><template><style include="iron-flex iron-flex-alignment">:host{--main-stats-color-on-white:#878787;--paper-dialog-button-color:var(--accent-color);--paper-tabs-selection-bar-color:var(--accent-color);--paper-input-container-focus-color:var(--accent-color);--paper-dropdown-menu:{background-color:#FFF;};--icon-general-color:'#fff';--master-point-up-color:rgba(0,127,0,0.62);--master-point-down-color:rgba(127,0,0,0.62);}:host{--paper-dropdown-menu:{background-color:#FFF;};--light-primary-color:#FFCC80;--text-primary-color:#fff;--dark-primary-color:#F57C00;--primary-text-color:#212121;--secondary-text-color:#727272;--disabled-text-color:#bdbdbd;--divider-color:#FF5722;--app-header-font-family:Roboto;--paper-button:{font-family:var(--app-header-font-family, Roboto);};--paper-tabs:{font-size:18px;text-transform:uppercase;};--paper-fab-mini:{background:var(--primary-background-color);color:#555 !important;};--paper-tabs-selection-bar:{border-bottom:4px solid !important;border-bottom-color:var(--accent-color, #000) !important;};--drawer-menu-color:#ffffff;--drawer-border-color:1px solid #ccc;--paper-menu-background-color:var(--primary-background-color);--menu-link-color:#111111;}:host{background-color:var(--primary-background-color);}app-header{color:#fff;background-color:var(--primary-background-color);}app-toolbar{color:#FFF;}iron-pages{background-color:var(--primary-background-color);}[condensed-title]{font-size:16px;}[title]{padding-top:8px;padding-left:8px;padding-bottom:8px;}.backIcon{width:32px !important;height:32px !important;margin-right:12px;margin-left:12px;padding:0;margin-top:4px;}.backIcon[hide]{display:none;}.masterActionIcon{width:52px;height:52px;}.main-header{border-bottom:1px solid var(--primary-color-800);background-color:var(--primary-color-800);color:#333;height:64px;}.dropdown-content{width:200px;}#paperToggleNavMenu{min-width:40px;}#translationButton{color:#FFF;background-color:var(--accent-color);padding:6px;min-width:0 !important;margin-left:8px;margin-right:8px;}.stopIcon{margin-left:6px;}.helpButton{margin-right:8px;}.forwardPostName{margin-left:4px;margin-top:14px;color:#C5C5C5;}@media (max-width: 480px){#headerTitle[auto-translate][long-title]{display:none !important;}#headerTitle[very-long-title]{display:none !important;}#forwardPostName{display:none !important;}.stopIcon{display:none;}.forwardPostName{margin-left:4px;margin-top:14px;font-size:15px;}#translationButton{width:40px !important;max-width:40px !important;margin-left:8px;}div[title]{font-size:17px;white-space:normal !important;padding-left:0;}.backIcon{min-width:28px !important;min-height:28px !important;}.masterActionIcon{width:48px;height:48px;}.loginButton{font-size:15px;padding:4px;}paper-menu-button{padding:0;}paper-button{padding:0;margin:0;}#translationIcon{width:30px;height:30px;padding:6px;}}@media (max-width: 340px){div[title]{font-size:17px;white-space:normal !important;padding-left:0;}.backIcon{min-width:26px !important;min-height:26px !important;}.loginButton{font-size:12px;padding:0;}}.userImageNotificationContainer{cursor:pointer;margin-right:8px;display:inline-block;}.activeBadge{--paper-badge-background:var(--accent-color);}.helpButton[hide]{display:none;}.navContainer[hide]{display:none;}[hidden]{display:none !important;}#headerTitle{padding-right:0 !important;}app-toolbar{padding-left:8px;padding-right:16px;}</style><iron-media-query query="(min-width: 600px)"query-matches="{{wide}}"></iron-media-query><yp-app-globals id="appGlobals"setup-defaults=""on-change-header="onChangeHeader"></yp-app-globals><app-drawer-layout drawer-width="360px"responsive-width="16000px"fullbleed=""><app-drawer id="drawer"slot="drawer"align="end"position="right"opened="{{userDrawerOpened}}"swipe-open=""><div style="height: 100%; overflow-x: hidden; max-width: 255px !important; width: 255px;"><ac-notification-list id="acNotificationsList"user="[[user]]"opened="[[userDrawerOpened]]"route="[[route]]"></ac-notification-list></div></app-drawer><app-drawer id="navDrawer"slot="drawer"align="start"position="left"swipe-open=""opened="{{navDrawOpened}}"><div style="height: 100%; overflow-x: hidden; max-width: 255px !important;"><yp-app-nav-drawer id="ypNavDrawer"home-link="[[homeLink]]"opened="[[navDrawOpened]]"on-yp-toggle-nav-drawer="_toggleNavDrawer"user="[[user]]"route="[[route]]"></yp-app-nav-drawer></div></app-drawer><app-header-layout id="mainArea"fullbleed=""><app-header slot="header"id="appHeader"effects="waterfall"reveals=""class="main-header"><app-toolbar role="navigation"aria-label="top navigation"><div class="layout horizontal navContainer"hidden$="[[closePostHeader]]"><paper-icon-button aria-label$="[[t('goBack')]]"title$="[[t('goBack')]]"icon="arrow-upward"on-tap="goBack"class="masterActionIcon"hidden$="[[!showBack]]"></paper-icon-button></div><div hide$="[[closePostHeader]]"hidden$="[[goForwardToPostId]]"long-title$="[[longTitleText]]"very-long-title$="[[veryLongTitleText]]"auto-translate$="[[autoTranslate]]"id="headerTitle"title=""class="layout vertical navContainer">[[headerTitle]]</div><template is="dom-if"if="[[closePostHeader]]"><paper-icon-button aria-label$="[[t('close')]]"id="closePostButton"class="masterActionIcon"icon="arrow-back"on-tap="_closePost"></paper-icon-button></template><template is="dom-if"if="[[goForwardToPostId]]"><div class="layout horizontal"><paper-icon-button aria-label$="[[t('forwardToPost')]]"title$="[[t('forwardToPost')]]"id="goPostForward"class="masterActionIcon"icon="fast-forward"on-tap="_goToNextPost"></paper-icon-button><div id="forwardPostName"class="forwardPostName">[[goForwardPostName]]</div></div></template><span class="flex"></span><div hidden$="[[!autoTranslate]]"class="layout horizontal"><paper-button raised=""id="translationButton"on-tap="_stopTranslation"title="{{t('stopAutoTranslate')}}"><iron-icon icon="translate"></iron-icon><iron-icon class="stopIcon"icon="do-not-disturb"></iron-icon></paper-button></div><paper-icon-button aria-label$="[[t('openMainMenu')]]"id="paperToggleNavMenu"icon="menu"on-tap="_toggleNavDrawer"></paper-icon-button><paper-menu-button horizontal-align="right"hide$="[[hideHelpIcon]]"class="helpButton"><paper-icon-button aria-label$="[[t('menu.help')]]"icon="help-outline"slot="dropdown-trigger"></paper-icon-button><paper-listbox slot="dropdown-content"><template is="dom-repeat"items="[[translatedPages]]"as="page"><paper-item data-args$="[[index]]"on-tap="_openPageFromMenu">[[_getLocalizePageTitle(page)]]</paper-item></template></paper-listbox></paper-menu-button><template is="dom-if"if="[[user]]"><div class="userImageNotificationContainer layout horizontal"on-tap="_toggleUserDrawer"><yp-user-image id="userImage"small=""user="[[user]]"></yp-user-image><paper-badge id="notificationBadge"class="activeBadge"label="[[numberOfUnViewedNotifications]]"hidden$="[[!numberOfUnViewedNotifications]]"></paper-badge></div></template><template is="dom-if"if="[[!user]]"><paper-button class="loginButton"on-tap="_login">[[t('user.login')]]</paper-button></template></app-toolbar></app-header><iron-pages selected="{{page}}"style="height:auto;"attr-for-selected="name"fullbleed=""><yp-domain id="domainPage"name="domain"id-route$="[[domainSubRoute]]"on-change-header="onChangeHeader"></yp-domain><yp-community id="communityPage"name="community"id-route$="[[communitySubRoute]]"on-change-header="onChangeHeader"></yp-community><yp-community-folder id="communityFolderPage"name="community_folder"id-route$="[[communityFolderSubRoute]]"on-change-header="onChangeHeader"></yp-community-folder><yp-group id="groupPage"name="group"id-route$="[[groupSubRoute]]"on-change-header="onChangeHeader"></yp-group><yp-group-data-viz id="dataVizGroupPage"name="group_data_viz"id-route$="[[groupSubRoute]]"on-change-header="onChangeHeader"></yp-group-data-viz><yp-post id="postPage"name="post"current-page="[[page]]"id-route$="[[postSubRoute]]"on-change-header="onChangeHeader"></yp-post><yp-user id="userPage"name="user"id-route$="[[userSubRoute]]"on-change-header="onChangeHeader"></yp-user><yp-survey-group id="surveyPage"name="survey"id-route$="[[surveySubRoute]]"on-change-header="onChangeHeader"></yp-survey-group><yp-view-404 name="view-404"></yp-view-404></iron-pages></app-header-layout></app-drawer-layout><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><lite-signal on-lite-signal-yp-auto-translate="_autoTranslateEvent"></lite-signal><app-location route="{{route}}"></app-location><app-route route="{{route}}"pattern="/:page"data="{{routeData}}"tail="{{subRoute}}"></app-route><yp-dialog-container id="dialogContainer"></yp-dialog-container><yp-app-user id="appUser"on-user-changed="onUserChanged"></yp-app-user><yp-sw-update-toast button-label="[[t('reload')]]"message="[[t('newVersionAvailable')]]"></yp-sw-update-toast></template><script>Polymer.setPassiveTouchGestures(!0),Polymer({is:"yp-app",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypThemeBehavior,Polymer.ypGotoBehavior,Polymer.ypTranslatedPagesBehavior,Polymer.ypAppSwipeBehavior],properties:{domainSubRoute:Object,communitySubRoute:Object,communityFolderSubRoute:Object,groupSubRoute:Object,postSubRoute:Object,userSubRoute:Object,surveySubRoute:Object,userDrawerOpened:{type:Boolean,observer:"_userDrawerOpened"},navDrawOpened:{type:Boolean,observer:"_navDrawOpened"},userDrawerOpenedDelayed:Boolean,navDrawOpenedDelayed:Boolean,homeLink:{type:Object},page:{type:String,reflectToAttribute:!0,observer:"_pageChanged"},route:{type:Object,observer:"_routeChanged"},routeData:{type:Object,observer:"_routePageChanged",value:null},subRoute:Object,appTitle:{type:String,value:"Your Priorities"},user:{type:Object,value:null},previousSearches:{type:Array,value:[]},showSearch:{type:Boolean,value:!1},showBack:{type:Boolean,value:!1},backPath:{type:String},forwardToPostId:{type:String,value:null},storedBackPath:String,backListPostItem:{type:Number,value:null},backListGroupItemId:{type:Number,value:null},backListCommuntiyItemId:{type:Number,value:null},storedLastDocumentTitle:String,headerTitle:{type:String},headerDescription:{type:String},params:{type:Object},narrow:{type:Boolean},keepOpenForPost:{type:String,value:null},closePostHeader:{type:Boolean,computed:"_closePostHeader(page, keepOpenForPost)",value:null},numberOfUnViewedNotifications:{type:String,value:null},useHardBack:{type:Boolean,value:!1},hideHelpIcon:{type:Boolean,value:!1},wide:Boolean,_scrollPositionMap:{type:Object,value:function(){return{}}},autoTranslate:{type:Boolean,value:!1},languageName:String,goBackToPostId:{type:Number,value:null},currentPostId:{type:Number,value:null},goForwardToPostId:{type:Number,value:null},showBackToPost:{type:Boolean,value:!1},goForwardPostName:{type:String,value:null},goForwardCount:{type:String,value:0},longTitleText:{type:Boolean,value:!1},veryLongTitleText:{type:Boolean,value:!1}},listeners:{"yp-set-pages":"_setPages","yp-set-next-post":"_setNextPost","yp-set-home-link":"_setHomeLink","yp-redirect-to":"_redirectTo","yp-set-number-of-un-viewed-notifications":"_setNumberOfUnViewedNotifications","yp-close-right-drawer":"_closeRightDrawer","yp-refresh-group":"_refreshGroup","yp-refresh-community":"_refreshCommunity","yp-refresh-domain":"_refreshDomain","yp-language-name":"_setLanguageName","yp-dialog-closed":"_dialogClosed","yp-open-page":"_openPageFromEvent","yp-open-login":"_login","yp-clipboard-copy-notification":"_haveCopiedNotification","yp-reset-keep-open-for-page":"_resetKeepOpenForPage","yp-add-back-community-override":"_addBackCommunityOverride"},_addBackCommunityOverride:function(e,t){this.communityBackOverride||(this.communityBackOverride={}),this.communityBackOverride[t.fromCommunityId]={backPath:t.backPath,backName:t.backName}},_userDrawerOpened:function(e){this.async(function(){this.set("userDrawerOpenedDelayed",e)},500)},_navDrawOpened:function(e){this.async(function(){this.set("navDrawOpenedDelayed",e)},500)},_goToNextPost:function(){this.currentPostId?this.set("goBackToPostId",this.currentPostId):console.error("No currentPostId on next"),this.goForwardToPostId?(this.goToPost(this.goForwardToPostId,null,null,null,!0),window.appGlobals.activity("recommendations","goForward",this.goForwardToPostId),this.goForwardCount+=1,this.set("showBackToPost",!0)):console.error("No goForwardToPostId")},_goToPreviousPost:function(){0<this.goForwardCount?(window.history.back(),window.appGlobals.activity("recommendations","goBack")):this.set("showBackToPost",!1),this.goForwardCount-=1},_setNextPost:function(e,t){t.goForwardToPostId?(this.set("goForwardToPostId",t.goForwardToPostId),this.set("goForwardPostName",t.goForwardPostName)):this._clearNextPost(),this.set("currentPostId",t.currentPostId)},_clearNextPost:function(){this.set("goForwardToPostId",null),this.set("goForwardPostName",null),this.goForwardCount=0,this.set("showBackToPost",!1)},_setupSamlCallback:function(){var e=window.addEventListener?"addEventListener":"attachEvent",t=window[e],o="attachEvent"==e?"onmessage":"message";console.log("Have created event listener for samlLogin"),t(o,function(e){"samlLogin"==e.data&&window.appUser&&(window.appUser.loginFromSaml(),console.log("Have contacted app user 2"))},!1)},_setupTranslationSystem:function(){console.log("Have started _setupTranslationSystem");var e=window.location.hostname,t="en";if(-1<e.indexOf("betrireykjavik"))t="is";else if(-1<e.indexOf("betraisland"))t="is";else if(-1<e.indexOf("forbrukerradet"))t="no";else{var o=e.substring(e.lastIndexOf("."));t={".fr":"fr",".hr":"hr",".hu":"hu",".is":"is",".nl":"nl",".no":"no",".pl":"pl",".tw":"zh_TW"}[o]||"en"}var i,a=localStorage.getItem("yp-user-locale");a&&(t=a),window.appGlobals.originalQueryParameters&&(window.appGlobals.originalQueryParameters.locale?i=window.appGlobals.originalQueryParameters.locale:window.appGlobals.originalQueryParameters.l&&(i=window.appGlobals.originalQueryParameters.l)),i&&1<i.length&&(t=i,localStorage.setItem("yp-user-locale",i)),console.info("Have started loading i18n for "+t),i18next.use(i18nextXHRBackend).init({lng:t,fallbackLng:"en",backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"}},function(e){console.info("Have loaded languages for "+t),window.locale=t,window.i18nTranslation=i18next,window.haveLoadedLanguages=!0,moment.locale([t,"en"]),console.log("Changed language to "+t),document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"yp-language",data:{type:"language-loaded",language:t}}})),this.async(function(){window.appGlobals.originalQueryParameters&&(window.appGlobals.originalQueryParameters.startAutoTranslate||window.appGlobals.originalQueryParameters.translate||window.appGlobals.originalQueryParameters.t)&&this._startTranslation()})}.bind(this))},_openPageFromEvent:function(e,t){t.pageId&&this.openPageFromId(t.pageId)},_startTranslation:function(){window.autoTranslate=!0,document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"yp-auto-translate",data:!0}})),this.supportedLanguages&&this.fire("yp-language-name",this.supportedLanguages[this.language]),Polymer.dom(document).querySelector("yp-app").getDialogAsync("masterToast",function(e){e.text=this.t("autoTranslationStarted"),e.show()}.bind(this))},_stopTranslation:function(){document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"yp-auto-translate",data:!1}})),window.autoTranslate=!1,Polymer.dom(document).querySelector("yp-app").getDialogAsync("masterToast",function(e){e.text=this.t("autoTranslationStopped"),e.show()}.bind(this)),sessionStorage.setItem("dontPromptForAutoTranslation",!0)},_haveCopiedNotification:function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("masterToast",function(e){e.text=this.t("copiedToClipboard"),e.show()}.bind(this))},_setLanguageName:function(e,t){this.set("languageName",t)},_autoTranslateEvent:function(e,t){this.set("autoTranslate",t)},_refreshGroup:function(){this._refreshByName("#groupPage")},_refreshCommunity:function(){this._refreshByName("#communityPage")},_refreshDomain:function(){this._refreshByName("#domainPage")},_refreshByName:function(e){var t=this.$$(e);t&&t._refreshAjax()},_closeRightDrawer:function(){this.async(function(){this.$$("#drawer").close()},100)},_setNumberOfUnViewedNotifications:function(e,t){t.count?t.count<10?this.set("numberOfUnViewedNotifications",t.count):this.set("numberOfUnViewedNotifications","9+"):this.set("numberOfUnViewedNotifications",""),this.async(function(){this.$$("#notificationBadge").fire("iron-resize")})},_redirectTo:function(e,t){t.path&&this.set("route.path",t.path)},_routeChanged:function(e){-1<window.location.href.indexOf("/#!/")&&(window.location=window.location.href.replace("/#!/","/")),this.async(function(){-1<e.path.indexOf("domain")?(this.set("domainSubRoute",this.subRoute),this.$$("#domainPage")&&void 0!==this.$$("#domainPage").refresh&&this.$$("#domainPage").refresh()):-1<e.path.indexOf("community_folder")?(this.set("communityFolderSubRoute",this.subRoute),this.$$("#communityFolderPage")&&void 0!==this.$$("#communityFolderPage").refresh&&this.$$("#communityFolderPage").refresh()):-1<e.path.indexOf("community")?(this.set("communitySubRoute",this.subRoute),this.$$("#communityPage")&&void 0!==this.$$("#communityPage").refresh&&this.$$("#communityPage").refresh()):-1<e.path.indexOf("group")&&!(-1<e.path.indexOf("group_data_viz"))?(this.set("groupSubRoute",this.subRoute),this.$$("#groupPage")&&void 0!==this.$$("#groupPage").refresh&&this.$$("#groupPage").refresh(!0)):-1<e.path.indexOf("group_data_viz")?(this.set("groupSubRoute",this.subRoute),this.$$("#dataVizGroupPage")&&void 0!==this.$$("#dataVizGroupPage").refresh&&this.$$("#dataVizGroupPage").refresh(!0)):-1<e.path.indexOf("post")?(this.set("postSubRoute",this.subRoute),this.$$("#postPage")&&void 0!==this.$$("#postPage").refresh&&this.$$("#postPage").refresh()):-1<e.path.indexOf("user")?(this.set("userSubRoute",this.subRoute),this.$$("#userPage")&&void 0!==this.$$("#userPage").refresh&&this.$$("#userPage").refresh()):-1<e.path.indexOf("survey")&&(this.set("surveySubRoute",this.subRoute),this.$$("#surveyPage")&&void 0!==this.$$("#surveyPage").refresh&&this.$$("#surveyPage").refresh())})},_routePageChanged:function(o,i){if(o){var e=this.route.path.split("/");if(-1<this.route.path.indexOf("/user/reset_password")||-1<this.route.path.indexOf("/user/open_notification_settings")||-1<this.route.path.indexOf("/user/accept/invite")||-1<this.route.path.indexOf("/user/info_page"))-1<this.route.path.indexOf("/user/reset_password")?this.openResetPasswordDialog(e[e.length-1]):o&&"user"===o.page&&-1<this.route.path.indexOf("/user/accept/invite")?this.openAcceptInvitationDialog(e[e.length-1]):-1<this.route.path.indexOf("/user/open_notification_settings")?this.openUserNotificationsDialog():-1<this.route.path.indexOf("/user/info_page")&&(this.openUserInfoPage(e[e.length-1]),window.history.pushState({},null,"/"),window.dispatchEvent(new CustomEvent("location-changed")));else{var a=this._scrollPositionMap;null!=i&&null!=i.page&&(a[i.page]=window.pageYOffset,console.info("Saving scroll position for "+i.page+" to "+window.pageYOffset));var t=null;this.wide&&(t=2),this.async(function(){var e=!1;if(i&&i.page&&o&&("post"===i.page&&"group"===o.page?this.$$("#groupPage")&&void 0!==this.$$("#groupPage").goToPostOrNewsItem?(this.$$("#groupPage").goToPostOrNewsItem(),e=!0):(console.warn("Can't find scroll groupPage for goToPostOrNewsItem, trying again"),this.async(function(){this.$$("#groupPage")&&void 0!==this.$$("#groupPage").goToPostOrNewsItem?this.$$("#groupPage").goToPostOrNewsItem():console.warn("Can't find scroll groupPage for goToPostOrNewsItem final")},200)):"group"!==i.page&&"post"!==i.page||"community"!==o.page?"community_folder"!==i.page&&"community"!==i.page&&"post"!==i.page||"domain"!==o.page?"community"!==i.page&&"community_folder"!==i.page||"group"!==o.page?"community"!==i.page&&"community_folder"!==i.page||"community_folder"!==o.page||(this.$$("#communityFolderPage")&&void 0!==this.$$("#communityFolderPage").scrollToGroupItem?(this.$$("#communityFolderPage").scrollToGroupItem(),e=!0):(console.warn("Can't find scroll communityFolderPage for goToPostOrNewsItem, trying again"),this.async(function(){this.$$("#communityFolderPage")&&void 0!==this.$$("#communityFolderPage").scrollToGroupItem?this.$$("#communityFolderPage").scrollToGroupItem():console.error("Can't find scroll communityFolderPage for goToPostOrNewsItem")},200))):this.async(function(){document.body.scrollTop=document.documentElement.scrollTop=0},10):this.$$("#domainPage")&&void 0!==this.$$("#domainPage").scrollToCommunityItem?(this.$$("#domainPage").scrollToCommunityItem(),e=!0):(console.warn("Can't find scroll domainPage for scrollToCommunityItem, trying again"),this.async(function(){this.$$("#domainPage")&&void 0!==this.$$("#domainPage").scrollToGroupItem?this.$$("#domainPage").scrollToCommunityItem():console.error("Can't find scroll domainPage for scrollToCommunityItem")},200)):this.$$("#communityPage")&&void 0!==this.$$("#communityPage").scrollToGroupItem?(this.$$("#communityPage").scrollToGroupItem(),e=!0):(console.warn("Can't find scroll communityPage for goToPostOrNewsItem, trying again"),this.async(function(){this.$$("#communityPage")&&void 0!==this.$$("#communityPage").scrollToGroupItem?this.$$("#communityPage").scrollToGroupItem():console.error("Can't find scroll communityPage for goToPostOrNewsItem")},200))),"post"!==o.page&&this._clearNextPost(),i&&o&&i.page===o.page){var t=this.subRoute.path;t=t.replace("/",""),isNaN(t)&&(e=!0)}null==a[o.page]||"post"===o.page||"community"===i.page&&"group"===o.page?this.isAttached&&!e&&(console.info("AppLayout scroll to top"),this.async(function(){window.scrollTo(0,0)})):e?console.info("Skipping master scroller for "+o.page):(window.scrollTo(0,a[o.page]),console.info("Main window scroll "+o.page+" to "+a[o.page]))},t),o?this.page=o.page:console.error("No page data, current page: "+this.page)}}},_pageChanged:function(e){var t;console.log("Page changed to "+e),e&&"group_data_viz"===e&&this.loadDataViz(),e&&"survey"!==e&&"group_data_viz"!==e&&(t="view-404"==e?this.resolveUrl("yp-view-404.html"):"community_folder"===e?this.resolveUrl("../yp-community/yp-community-folder.html?v=@version@"):this.resolveUrl("/src/yp-"+e+"/yp-"+e+".html?v=@version@"),console.log("Trying to load "+t),this.importHref(t,null,this._showPage404,!0));e&&window.appGlobals.sendToAnalyticsTrackers("send","pageview",location.pathname),this.$.appHeader.hidden=!(!e||"survey"!==e)},openResetPasswordDialog:function(t){this.getDialogAsync("resetPassword",function(e){e.open(t)}.bind(this))},openUserNotificationsDialog:function(){window.appUser&&!0===window.appUser.loggedIn()?window.appUser.openNotificationSettings():window.appUser.loginForNotificationSettings()},openAcceptInvitationDialog:function(t){this.getDialogAsync("acceptInvite",function(e){e.open(t)}.bind(this))},_showPage404:function(){this.page="view-404"},_setHomeLink:function(e,t){this.homeLink||this.set("homeLink",t)},setKeepOpenForPostsOn:function(e){this.set("keepOpenForPost",e),this.set("storedBackPath",this.backPath),this.set("storedLastDocumentTitle",document.title)},_resetKeepOpenForPage:function(){this.set("keepOpenForPost",null),this.set("storedBackPath",null),this.set("storedLastDocumentTitle",null)},_closePost:function(){this.keepOpenForPost&&this.redirectTo(this.keepOpenForPost),this.storedBackPath&&this.set("backPath",this.storedBackPath),this.storedLastDocumentTitle&&(document.title=this.storedLastDocumentTitle,this.set("storedLastDocumentTitle",null)),this.set("this.keepOpenForPost",null),document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"yp-pause-media-playback",data:{}}}))},_closePostHeader:function(e,t){return!("post"!=e||!t)},_isGroupOpen:function(e,t){return!!(e.groupId||e.postId&&t)},_isCommunityOpen:function(e,t){return!!(e.communityId||e.postId&&t)},_isDomainOpen:function(e,t){return!!(e.domainId||e.postId&&t)},_toggleNavDrawer:function(){this.$$("#navDrawer").toggle()},ready:function(){console.info("yp-app is ready"),(window.app=this)._setupTranslationSystem(),this.setTheme(16),this._setupSamlCallback()},getDialogAsync:function(e,t){this.$$("#dialogContainer").getDialogAsync(e,t)},getRatingsDialogAsync:function(e){this.$$("#dialogContainer").getRatingsDialogAsync(e)},loadDataViz:function(){this.$$("#dialogContainer").loadDataViz()},getUsersGridAsync:function(e){this.$$("#dialogContainer").getUsersGridAsync(e)},getMediaRecorderAsync:function(e){this.$$("#dialogContainer").getMediaRecorderAsync(e)},getContentModerationAsync:function(e){this.$$("#dialogContainer").getContentModerationAsync(e)},getFraudManagementAsync:function(e){this.$$("#dialogContainer").getFraudManagementAsync(e)},getCreateReportAsync:function(e){this.$$("#dialogContainer").getCreateReportAsync(e)},getDuplicateCollectionAsyncAsync:function(e){this.$$("#dialogContainer").getDuplicateCollectionAsyncAsync(e)},openPixelCookieConfirm:function(e){this.$$("#dialogContainer").openPixelCookieConfirm(e)},closeDialog:function(e){this.$$("#dialogContainer").closeDialog(e)},_dialogClosed:function(e,t){this.$$("#dialogContainer").dialogClosed(t)},_toggleUserDrawer:function(){this.$$("#drawer").toggle()},_login:function(){window.appUser&&window.appUser.openUserlogin()},onChangeHeader:function(e,t){if(this.set("headerTitle",document.title=t.headerTitle),this.headerTitle&&16<this.headerTitle.length?this.set("longTitleText",!0):this.set("longTitleText",!1),this.headerTitle&&45<this.headerTitle.length?this.set("veryLongTitleText",!0):this.set("veryLongTitleText",!1),this.async(function(){var e=this.$$("#headerTitle");if(e){var t=e.innerHTML.length;this.wide?e.style.fontSize="20px":e.style.fontSize=t<20?"17px":t<25?"14px":t<30?"13px":"12px"}}),t.documentTitle&&(document.title=t.documentTitle),this.set("headerDescription",t.headerDescription),t.enableSearch?this.showSearch=!0:this.showSearch=!1,!0===t.useHardBack?this.set("useHardBack",!0):this.set("useHardBack",!1),t.backPath?(this.set("showBack",!0),this.set("backPath",t.backPath)):(this.set("showBack",!1),this.set("backPath",null)),t.backListPostItem?this.set("backListPostItem",t.backListPostItem):this.set("backListPostItem",null),t.hideHelpIcon?this.set("hideHelpIcon",!0):this.set("hideHelpIcon",!1),this.communityBackOverride&&this.backPath&&-1<window.location.pathname.indexOf("/community/")){var o=window.location.pathname.split("/community/")[1];o&&!isNaN(o)&&this.communityBackOverride[o]&&(this.set("backPath",this.communityBackOverride[o].backPath),this.set("headerTitle",this.communityBackOverride[o].backName),this.set("useHardBack",!1))}this.showBack&&!0===t.disableDomainUpLink&&(this.set("showBack",!1),this.set("headerTitle",""))},goBack:function(){this.backPath&&(this.useHardBack?(document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"yp-pause-media-playback",data:{}}})),window.location=this.backPath):this.redirectTo(this.backPath))},_onSearch:function(e){this.toggleSearch(),this.unshift("previousSearches",e.detail.value);var t=document.querySelector("#postsFilter");t&&t.searchFor(e.detail.value)},onUserChanged:function(e,t){t&&t.id?this.set("user",t):this.set("user",null)},toggleSearch:function(){this.$$("#search").toggle()},__equal:function(e,t){return e===t}})</script></dom-module><script>Polymer.CollectionHelpers={splitByStatus:function(t,r){if(r&&r.orderByRandom)try{t=__.shuffle(t)}catch(t){console.error(t)}else if(r&&r.sortBySortOrder)try{t=__.sortBy(t,function(t){return"100000"|t.configuration.optionalSortOrder})}catch(t){console.error(t)}return{active:__.filter(t,function(t){return"active"==t.status||"hidden"==t.status}),archived:__.filter(t,function(t){return"archived"==t.status}),featured:__.filter(t,function(t){return"featured"==t.status})}}}</script><script>Polymer.YpNewsTabSelected={properties:{newsTabSelected:{value:Boolean,computed:"_newsTabSelected(selectedTab)"}},_newsTabSelected:function(e){return"news"==e}}</script>-<dom-module id="paper-material-shared-styles"assetpath="../../bower_components/paper-material/"><template><style>:host{display:block;position:relative;}:host([elevation="1"]){@apply --shadow-elevation-2dp;}:host([elevation="2"]){@apply --shadow-elevation-4dp;}:host([elevation="3"]){@apply --shadow-elevation-6dp;}:host([elevation="4"]){@apply --shadow-elevation-8dp;}:host([elevation="5"]){@apply --shadow-elevation-16dp;}</style></template></dom-module><dom-module id="paper-material"assetpath="../../bower_components/paper-material/"><template><style include="paper-material-shared-styles"></style><style>:host([animated]){@apply --shadow-transition;}:host{@apply --paper-material;}</style><slot></slot></template></dom-module><script>Polymer({is:"paper-material",properties:{elevation:{type:Number,reflectToAttribute:!0,value:1},animated:{type:Boolean,reflectToAttribute:!0,value:!1}}})</script><script>Polymer.ypIronListBehavior={properties:{wide:{type:Boolean,observer:"_wideChanged"},resizeTimer:Object},attached:function(){this.async(function(){this.resetListSize(),window.addEventListener("resize",this.resetListSizeWithDelay.bind(this))}.bind(this))},detached:function(){window.removeEventListener("resize",this.resetListSizeWithDelay)},_wideChanged:function(){this.resetListSize()},resetListSizeWithDelay:function(){clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout(function(){this.resetListSize()}.bind(this),250)},resetListSize:function(i){i=i||"#ironList";var e=this.$$(i);if(e){var t=window.innerHeight,s=window.innerWidth;if(e)this.wide?t-(this.wideListOffset?this.wideListOffset:415):s-=16,this.skipIronListWidth?console.log("Skipping setting iron-list width"):e.style.width=s+"px",this.async(function(){e.updateViewportBoundaries(),this.async(function(){e.notifyResize()})});else console.error("Can't find iron list, waiting"),this.async(function(){this.resetListSize()},1500)}}}</script><dom-module id="paper-textarea"assetpath="../../bower_components/paper-input/"><template><style>:host{display:block;}:host([hidden]){display:none !important;}label{pointer-events:none;}</style><paper-input-container no-label-float$="[[noLabelFloat]]"always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]"auto-validate$="[[autoValidate]]"disabled$="[[disabled]]"invalid="[[invalid]]"><label hidden$="[[!label]]"aria-hidden="true"for$="[[_inputId]]"slot="label">[[label]]</label><iron-autogrow-textarea class="paper-input-input"slot="input"id$="[[_inputId]]"aria-labelledby$="[[_ariaLabelledBy]]"aria-describedby$="[[_ariaDescribedBy]]"bind-value="{{value}}"invalid="{{invalid}}"validator$="[[validator]]"disabled$="[[disabled]]"autocomplete$="[[autocomplete]]"autofocus$="[[autofocus]]"inputmode$="[[inputmode]]"name$="[[name]]"placeholder$="[[placeholder]]"readonly$="[[readonly]]"required$="[[required]]"minlength$="[[minlength]]"maxlength$="[[maxlength]]"autocapitalize$="[[autocapitalize]]"rows$="[[rows]]"max-rows$="[[maxRows]]"on-change="_onChange"></iron-autogrow-textarea><template is="dom-if"if="[[errorMessage]]"><paper-input-error aria-live="assertive"slot="add-on">[[errorMessage]]</paper-input-error></template><template is="dom-if"if="[[charCounter]]"><paper-input-char-counter slot="add-on"></paper-input-char-counter></template></paper-input-container></template></dom-module><script>Polymer({is:"paper-textarea",behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{_ariaLabelledBy:{observer:"_ariaLabelledByChanged",type:String},_ariaDescribedBy:{observer:"_ariaDescribedByChanged",type:String},value:{type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0}},get selectionStart(){return this.$.input.textarea.selectionStart},set selectionStart(e){this.$.input.textarea.selectionStart=e},get selectionEnd(){return this.$.input.textarea.selectionEnd},set selectionEnd(e){this.$.input.textarea.selectionEnd=e},_ariaLabelledByChanged:function(e){this._focusableElement.setAttribute("aria-labelledby",e)},_ariaDescribedByChanged:function(e){this._focusableElement.setAttribute("aria-describedby",e)},get _focusableElement(){return this.inputElement.textarea}})</script><dom-module id="yp-point-news-story-embed"assetpath="../yp-point/"><template><style include="iron-flex iron-flex-alignment">iron-image{width:550px;height:309px;}@media (max-width: 600px){iron-image{width:90vw !important;height:51vw !important;}}#embedHtml{width:100%;height:100%;border:1px solid;border-color:#999;padding:16px;}a{color:#333;text-decoration:none;}.title{}.description{padding-bottom:20px;}.container{border-bottom:solid #ddd;border-bottom-width:1px;margin-top:8px;}[hidden]{display:none !important;}</style><div hidden$="[[!embedData]]"><div class="layout vertical embedContainer"><a href$="[[embedData.url]]"class="container"target="_blank"><div class="layout vertical center-center"><iron-image sizing="contain"src$="[[embedData.thumbnail_url]]"hidden$="[[embedData.html]]"></iron-image><div id="embedHtml"hidden$="[[!embedData.html]]"><div inner-h-t-m-l="{{embedData}}"></div></div></div><div class="layout vertical"><div class="title"><h2>[[embedData.title]]</h2></div><div class="description">[[embedData.description]]</div></div></a></div></div></template><script>Polymer({is:"yp-point-news-story-embed",properties:{embedData:{type:Object,notify:!0}}})</script></dom-module><dom-module id="yp-point-news-story-edit"assetpath="../yp-point/"><template><style include="iron-flex iron-flex-alignment">:host{padding-top:16px;}paper-textarea{width:460px;margin-top:-8px;}paper-button{margin-top:16px;background-color:var(--accent-color);color:#FFF;}.embedData{padding-top:24px;}.userImage{padding-bottom:16px;padding-right:16px;}.userImage[rtl]{padding-left:16px;padding-right:4px;}paper-icon-button{margin-top:16px;padding-bottom:0;}paper-icon-button::shadow #icon{width:36px;height:36px;color:#777;}.container{margin-bottom:32px;}@media (max-width: 420px){paper-textarea{width:270px;}.embedData{max-width:270px;margin-left:24px;}:host{margin-top:16px;}}@media (max-width: 320px){paper-textarea{width:220px;}.embedData{max-width:220px;}}[hidden]{display:none !important;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><div class="layout vertical container"><div class="layout horizontal"><yp-user-image class="userImage"user="[[loggedInUser]]"rtl$="[[rtl]]"></yp-user-image><div class="layout vertical"><paper-textarea id="pointNewsStory"required=""minlength="15"name="pointNewsStory"value="{{point.content}}"always-float-label="[[point.content]]"label="[[t('point.addNewsStory')]]"char-counter=""rows="2"max-rows="5"on-keydown="_keyDown"maxlength="500"></paper-textarea><div class="layout horizontal end-justified"><paper-button id="storySubmitButton"raised=""on-tap="_sendStory">[[t('point.postNewsStory')]]</paper-button></div></div></div><div class="layout horizontal center-center"><template is="dom-if"if="[[point.embed_data]]"><div class="embedData layout vertical center-center"><yp-point-news-story-embed embed-data="[[point.embed_data]]"></yp-point-news-story-embed><paper-icon-button aria-label$="[[t('clearEmbededMedia')]]"icon="clear"on-tap="_clearEmbed"></paper-icon-button></div></template></div><div class="layout horizontal center-center"><yp-ajax id="urlPreviewAjax"url="/api/points/url_preview"hidden$="[[point.embed_detail]]"on-response="_urlPreviewResponse"></yp-ajax><yp-ajax id="postNewsStoryAjax"method="POST"on-error="_clearButtonState"on-response="_newsStoryResponse"></yp-ajax></div></div><lite-signal on-lite-signal-logged-in="_userLoggedIn"></lite-signal></template><script>Polymer({is:"yp-point-news-story-edit",properties:{loadingUrlPreview:{type:Boolean,notify:!0},loadingPostStory:{type:Boolean,notify:!0},rtl:{type:Boolean,value:!1},point:{type:Object,notify:!0},postId:{type:Number},postGroupId:{type:Number},groupId:{type:Number},communityId:{type:Number},domainId:{type:Number}},behaviors:[Polymer.ypLanguageBehavior,Polymer.ypLoggedInUserBehavior],_clearButtonState:function(){this.$.storySubmitButton.disabled=!1},ready:function(){this._reset(),this.$.pointNewsStory.addEventListener("paste",function(){this.async(function(){this._checkForUrl()},50)}.bind(this))},_reset:function(){this.set("point",{content:""}),this.set("point.embed_data",null),this._clearButtonState()},_sendStory:function(){this.$.storySubmitButton.disabled=!0;var t={point:this.point,pointBaseId:window.appUser.getBrowserId(),pointValCode:window.appUser.browserFingerprint,pointConf:window.appUser.browserFingerprintConfidence};this.point.content&&2<this.point.content.length?(this.postId&&this.postGroupId?(__.merge(t,{post_id:this.postId}),this.$.postNewsStoryAjax.url="/api/groups/"+this.postGroupId+"/post/news_story"):this.groupId?(__.merge(t,{group_id:this.groupId}),this.$.postNewsStoryAjax.url="/api/groups/"+this.groupId+"/news_story"):this.communityId?(__.merge(t,{community_id:this.communityId}),this.$.postNewsStoryAjax.url="/api/communities/"+this.communityId+"/news_story"):this.domainId?(this.$.postNewsStoryAjax.url="/api/domains/"+this.domainId+"/news_story",__.merge(t,{domain_id:this.domainId})):console.error("Can't find send ids"),this.$.postNewsStoryAjax.body=t,this.$.postNewsStoryAjax.generateRequest()):(this._clearButtonState(),this.$.postNewsStoryAjax.showErrorDialog(this.t("point.commentToShort")))},_urlPreviewResponse:function(t,e){e.response&&0<e.response.length&&this.set("point.embed_data",e.response[0])},_newsStoryResponse:function(){this.fire("refresh"),this._reset()},_keyDown:function(t){"Space"!=t.code&&"enter"!=t.code||this._checkForUrl(t)},_clearEmbed:function(){this.set("point.embed_data",null)},_checkForUrl:function(){if(!this.point.embed_data){/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi.exec(this.point.content);var t=/((?:(http|https|Http|Https|rtsp|Rtsp):\/\/(?:(?:[a-zA-Z0-9\$\-\_\.\+\!\*\'\(\)\,\;\?\&\=]|(?:\%[a-fA-F0-9]{2})){1,64}(?:\:(?:[a-zA-Z0-9\$\-\_\.\+\!\*\'\(\)\,\;\?\&\=]|(?:\%[a-fA-F0-9]{2})){1,25})?\@)?)?((?:(?:[a-zA-Z0-9][a-zA-Z0-9\-]{0,64}\.)+(?:(?:aero|arpa|asia|a[cdefgilmnoqrstuwxz])|(?:biz|b[abdefghijmnorstvwyz])|(?:cat|com|coop|c[acdfghiklmnoruvxyz])|d[ejkmoz]|(?:edu|e[cegrstu])|f[ijkmor]|(?:gov|g[abdefghilmnpqrstuwy])|h[kmnrtu]|(?:info|int|i[delmnoqrst])|(?:jobs|j[emop])|k[eghimnrwyz]|l[abcikrstuvy]|(?:mil|mobi|museum|m[acdghklmnopqrstuvwxyz])|(?:name|net|n[acefgilopruz])|(?:org|om)|(?:pro|p[aefghklmnrstwy])|qa|r[eouw]|s[abcdeghijklmnortuvyz]|(?:tel|travel|t[cdfghjklmnoprtvwz])|u[agkmsyz]|v[aceginu]|w[fs]|y[etu]|z[amw]))|(?:(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9])\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[1-9]|0)\.(?:25[0-5]|2[0-4][0-9]|[0-1][0-9]{2}|[1-9][0-9]|[0-9])))(?:\:\d{1,5})?)(\/(?:(?:[a-zA-Z0-9\;\/\?\:\@\&\=\#\~\-\.\+\!\*\'\(\)\,\_])|(?:\%[a-fA-F0-9]{2}))*)?(?:\b|$)/gi.exec(this.point.content);t&&0<t.length&&(this.$.urlPreviewAjax.params={url:t[0]},this.$.urlPreviewAjax.generateRequest())}}})</script></dom-module>-<dom-module id="yp-user-with-organization"assetpath="../yp-user/"><template><style include="iron-flex iron-flex-alignment">yp-user-image{padding-right:16px;}.name{padding-top:4px;font-weight:bold;text-align:left;padding-right:16px;}.name[inverted]{color:var(--ak-user-name-color, #444);}.orgImage{margin-left:8px;width:48px;min-width:48px;height:48px;}.rousnded{-webkit-border-radius:25px;-moz-border-radius:25px;border-radius:25px;display:block;}.organizationName{color:#eee;text-align:left;}.organizationName[inverted]{color:#676767;}@media (max-width: 600px){.orgImage{margin-right:8px;margin-left:4px;}}[hidden]{display:none !important;}.mainArea{padding-right:8px;}</style><template is="dom-if"if="[[user]]"><div class="layout horizontal mainArea"title="[[userTitle]]"><yp-user-image titlefromuser="[[userTitle]]"user="[[user]]"hidden$="[[hideImage]]"></yp-user-image><div class="layout vertical"><div class="name"inverted$="[[inverted]]">[[user.name]]</div><div class="organizationName"inverted$="[[inverted]]"hidden$="[[!organizationName]]">[[organizationName]]</div></div><template is="dom-if"if="[[organizationImageUrl]]"><img width="48"height="48"sizing="cover"alt$="[[organizationName]]"hidden$="[[hideImage]]"class="orgImage"src$="[[organizationImageUrl]]"></template></div></template></template><script>Polymer({is:"yp-user-with-organization",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypMediaFormatsBehavior],properties:{user:{type:Object},titleDate:{type:Date},hideImage:{type:Boolean,value:!1},userTitle:{type:String,computed:"_computeUserTitle(user, titleDate)"},inverted:{type:Boolean,value:!1},organizationName:{type:String,computed:"_organizationName(user)"},organizationImageUrl:{type:String,computed:"_organizationImageUrl(user)"}},_computeUserTitle:function(e,a){return e&&a?e.name+" "+moment(a).fromNow():null},_organizationName:function(e){return e&&e.OrganizationUsers&&0<e.OrganizationUsers.length&&e.OrganizationUsers[0].name?e.OrganizationUsers[0].name:null},_organizationImageUrl:function(e){return e&&e.OrganizationUsers&&0<e.OrganizationUsers.length&&e.OrganizationUsers[0].OrganizationLogoImages&&0<e.OrganizationUsers[0].OrganizationLogoImages.length&&e.OrganizationUsers[0].OrganizationLogoImages[0].formats?this.getImageFormatUrl(e.OrganizationUsers[0].OrganizationLogoImages,2):null}})</script></dom-module><dom-module id="ac-activity-header"assetpath="../ac-activities/"><template><style>yp-user-with-organization{padding-top:0;padding-bottom:0;margin:0;}</style><yp-user-with-organization user$="[[activity.User]]"inverted=""></yp-user-with-organization></template><script>Polymer({is:"ac-activity-header",behaviors:[Polymer.ypLanguageBehavior],properties:{activity:{type:Object,observer:"_activityChanged"}},_activityChanged:function(){}})</script></dom-module><dom-module id="google-streetview-pano"assetpath="../../bower_components/google-streetview-pano/"><template><style>:host{display:block;}#pano{height:100%;}</style><google-maps-api api-key="{{apiKey}}"version="{{version}}"libraries="{{libraries}}"client-id="{{clientId}}"language="{{language}}"client=""on-api-load="_mapApiLoaded"></google-maps-api><div id="pano"on-mouseenter="_autoStop"on-mouseleave="_autoUpdate"></div></template></dom-module><script>"use strict";Polymer({is:"google-streetview-pano",properties:{apiKey:String,clientId:String,language:String,libraries:{type:String,value:"places"},version:{type:String,value:"3.exp"},panoId:{type:String,observer:"_panoIdChanged"},position:{type:Object,observer:"_positionChanged"},heading:{type:Number,value:45},pitch:{type:Number,value:-2},zoom:{type:Number,value:1},disableDefaultUi:{type:Boolean,value:!1},disableAutoPan:{type:Boolean,value:!1}},pano:null,rAFid:null,_mapApiLoaded:function(){this.async(function(){this.pano=new google.maps.StreetViewPanorama(this.$.pano,this._getPanoOptions()),this.pano.setVisible(!0),this.disableAutoPan||(this.rAFid=requestAnimationFrame(this.update.bind(this)))})},_getPanoOptions:function(){return{pano:this.panoId,position:this.position,pov:{heading:this.heading,pitch:this.pitch},disableDefaultUI:this.disableDefaultUi,zoom:this.zoom}},update:function(){this.rAFid=requestAnimationFrame(this.update.bind(this));var t=this.pano.getPov();t&&(t.heading+=.03,this.pano.setPov(t))},_autoUpdate:function(){this.disableAutoPan||this.update()},reset:function(){var t=this.pano.getPov();t.heading=this.heading,t.pitch=this.pitch,this.pano.setPov(t)},detached:function(){this.stop()},stop:function(){cancelAnimationFrame(this.rAFid)},_autoStop:function(){this.disableAutoPan||this.stop()},_panoIdChanged:function(t){this.pano&&(this.pano.setPano(t),this.reset())},_positionChanged:function(t){this.pano&&(this.pano.setPosition(t),this.reset())}})</script><dom-module id="yp-post-cover-media"assetpath="../yp-post/"><template><style include="iron-flex iron-flex-alignment">:host{display:block;}.topContainer[top-radius] > iron-image, #videoPreviewImage{border-top-right-radius:4px;border-top-left-radius:4px;}video{outline:none !important;}.topContainer[top-left-radius] > iron-image, #videoPreviewImage, google-streetview-pano, google-map{border-top-left-radius:4px;}.topContainer[top-left-radius] > video{border-top-left-radius:4px;}google-streetview-pano{width:100%;height:100%;margin:0;padding:0;}google-map{width:100%;height:100%;margin:0;padding:0;}.main-image, video{width:100%;height:100%;margin:0;padding:0;}.topContainer{width:100%;height:100%;}.category-icon{width:200px;height:200px;padding-top:32px;}.category-icon[tiny]{width:100px;height:100px;padding-top:24px;}.category-icon[large]{width:100%;height:100%;margin:0 !important;padding:0 !important;}@media (max-width: 960px){.topContainer[top-left-radius] > iron-image{border-top-left-radius:0;}}@media (max-width: 600px){.category-icon{width:130px;height:130px;}.category-icon[large]{width:100%;height:100%;margin:0 !important;padding:0 !important;}.main-image[header-mode]{height:100%;}video{height:100%;}}.pointer{cursor:pointer;}.pointer[header-mode]{cursor:default;}[hidden]{display:none !important;}.videoCamStatic{width:32px;height:32px;color:var(--primary-background-color);margin-top:-68px;margin-left:8px;}.voiceIcon{height:42px;width:42px;color:#333;margin-top:96px;}@media (max-width: 600px){.voiceIcon{height:42px;width:42px;color:#333;margin-top:35px;}}audio{margin-top:16px;margin-bottom:8px;}.playInfo{font-style:italic;}@media (max-width: 960px){.voiceIcon{margin-top:35px;}}@media (max-width: 430px){.voiceIcon{margin-top:28px;}}video{background-color:#777;}#videoPlayer[portrait]{width:100% !important;height:100%;}.topContainer[portrait]{background-color:#777;}#videoPreviewImage[portrait]{width:40%;@apply --layout-self-center;}.videoPreviewContainer{width:100%;height:100%;}.videoPreviewContainer[portrait]{background-color:#777;}</style><div class="topContainer"top-radius$="[[topRadius]]"top-left-radius$="[[topLeftRadius]]"><template is="dom-if"if="[[noneActive]]"><iron-image header-mode$="[[headerMode]]"sizing="cover"hidden$="[[defaultPostImageEnabled]]"class="main-image pointer"src="https://i.imgur.com/sdsFAoT.png"on-tap="_goToPost"></iron-image><template is="dom-if"if="[[activeDefaultImageUrl]]"restamp=""><iron-image header-mode$="[[headerMode]]"sizing="cover"alt$="[[altTag]]"class="main-image pointer"src="[[activeDefaultImageUrl]]"on-tap="_goToPost"></iron-image></template></template><template is="dom-if"if="[[categoryActive]]"><div id="categoryImageId"class="layout horizontal center-center"><iron-image header-mode$="[[headerMode]]"tiny$="[[tiny]]"on-tap="_goToPost"alt$="[[altTag]]"class="category-icon pointer"title="[[post.Category.name]]"sizing="contain"src$="[[getCategoryImagePath]]"></iron-image></div></template><template is="dom-if"if="[[categoryLargeActive]]"><iron-image header-mode$="[[headerMode]]"large=""on-tap="_goToPost"class="category-icon pointer"title="[[post.Category.name]]"sizing="cover"src$="[[getCategoryImagePath]]"></iron-image></template><template is="dom-if"if="[[imageActive]]"><iron-image header-mode$="[[headerMode]]"on-tap="_goToPost"alt$="[[altTag]]"sizing="[[sizingMode]]"class="main-image pointer"src="[[postImagePath]]"></iron-image></template><template is="dom-if"if="[[videoActive]]"restamp=""><template is="dom-if"if="[[showVideo]]"restamp=""><video id="videoPlayer"portrait$="[[portraitVideo]]"data-id$="[[postVideoId]]"header-mode$="[[headerMode]]"controls=""on-tap="_goToPost"preload="meta"class="pointer"src="[[postVideoPath]]"playsinline=""poster="[[postVideoPosterPath]]"></video></template><template is="dom-if"if="[[!showVideo]]"><div class="layout vertical center-center videoPreviewContainer"portrait$="[[portraitVideo]]"><iron-image id="videoPreviewImage"portrait$="[[portraitVideo]]"header-mode$="[[headerMode]]"on-tap="_goToPost"sizing="cover"class="main-image pointer"src="[[postVideoPosterPath]]"></iron-image></div><iron-icon icon="videocam"class="videoCamStatic"></iron-icon></template></template><template is="dom-if"if="[[audioActive]]"restamp=""><template is="dom-if"if="[[showAudio]]"><div class="layout vertical center-center"><audio id="audioPlayer"data-id$="[[postAudioId]]"header-mode$="[[headerMode]]"controls=""preload="meta"class="pointer"src="[[postAudioPath]]"hidden$="[[!postAudioPath]]"playsinline=""></audio></div></template><div hidden$="[[showAudio]]"class="layout horizontal center-center pointer"on-tap="_goToPost"><iron-icon icon="keyboard-voice"class="voiceIcon"></iron-icon></div></template><template is="dom-if"if="[[!disableMaps]]"><template is="dom-if"if="[[streetViewActive]]"><iron-image on-tap="_goToPost"class="main-image pointer"sizing="cover"src="https://maps.googleapis.com/maps/api/staticmap?center=[[latitude]],[[longitude]]&amp;zoom=[[zoomLevel]]&amp;size=432x243&amp;maptype=hybrid&amp;markers=color:red%7Clabel:%7C[[latitude]],[[longitude]]&amp;key=[[staticMapsApiKey]]"hidden$="[[streetViewActivated]]"></iron-image><template is="dom-if"if="[[streetViewActivated]]"><google-streetview-pano position$="[[mapPosition]]"heading="330"api-key="AIzaSyDkF_kak8BVZA5zfp5R4xRnrX8HP3hjiL0"pitch="2"zoom="0.8"disable-default-ui=""></google-streetview-pano></template></template><template is="dom-if"if="[[mapActive]]"><iron-image on-tap="_goToPost"class="main-image pointer"hidden$="[[mapActivated]]"sizing="cover"src="https://maps.googleapis.com/maps/api/staticmap?center=[[latitude]],[[longitude]]&amp;size=432x243&amp;zoom=[[zoomLevel]]&amp;maptype=[[mapType]]&amp;markers=color:red%7Clabel:%7C[[latitude]],[[longitude]]&amp;key=[[staticMapsApiKey]]"></iron-image><template is="dom-if"if="[[mapActivated]]"><google-map additional-map-options="{&quot;keyboardShortcuts&quot;:false}"id="coverMediaMap"class="map"libraries="places"fit-to-markers=""zoom$="[[zoomLevel]]"map-type$="[[mapType]]"api-key="AIzaSyDkF_kak8BVZA5zfp5R4xRnrX8HP3hjiL0"><google-map-marker slot="markers"latitude="[[latitude]]"longitude="[[longitude]]"></google-map-marker></google-map></template></template></template></div><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><lite-signal on-lite-signal-yp-pause-media-playback="_pauseMediaPlayback"></lite-signal></template><script>Polymer({is:"yp-post-cover-media",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypMediaFormatsBehavior,Polymer.ypGotoBehavior],properties:{post:{type:Object,notify:!0,observer:"_postChanged"},topRadius:{type:Boolean,value:!1},topLeftRadius:{type:Boolean,value:!1},noneActive:{type:Boolean,value:!1,computed:"_isNoneActive(post)"},categoryActive:{type:Boolean,value:!1,computed:"_isCategoryActive(post)"},categoryLargeActive:{type:Boolean,value:!1,computed:"_isCategoryLargeActive(post)"},imageActive:{type:Boolean,value:!1,computed:"_isImageActive(post)"},videoActive:{type:Boolean,value:!1,computed:"_isVideoActive(post)"},audioActive:{type:Boolean,value:!1,computed:"_isAudioActive(post)"},mapActive:{type:Boolean,value:!1,computed:"_isMapActive(post)"},altTag:{type:String,value:null},streetViewActive:{type:Boolean,value:!1,computed:"_isStreetViewActive(post)"},mapType:{type:String,computed:"_mapType(post.location)"},zoomLevel:{type:String,computed:"_zoomLevel(post.location)"},latitude:{type:Number,computed:"_getLatitute(post.location.latitude)"},longitude:{type:Number,computed:"_getLongitude(post.location.longitude)"},mapPosition:{type:Object,computed:"_getMapPosition(post.location)"},getCategoryImagePath:{type:String,computed:"_getCategoryImagePath(post)"},postImagePath:{type:String,computed:"_postImagePath(post)"},postVideoPath:{type:String,computed:"_postVideoPath(post)"},postVideoPosterPath:{type:String,computed:"_postVideoPosterPath(post)"},postVideoId:Number,postAudioPath:{type:String,computed:"_postAudioPath(post)"},postAudioId:Number,headerMode:{type:Boolean,value:!1,observer:"_headerModeChanged"},disableMaps:{type:Boolean,value:!1},mapActivated:{type:Boolean,value:!1},streetViewActivated:{type:Boolean,value:!1},staticMapsApiKey:{type:String,value:"AIzaSyBYy8UvdDD650mz7k1pY0j2hBFQmCPVnxA"},tiny:{type:Boolean,value:!1},uploadedDefaultPostImageId:{type:String,value:null},defaultImageGroupId:{type:String,value:null},defaultPostImageEnabled:{type:Boolean,value:!1},showVideo:{type:Boolean,value:!1},showAudio:{type:Boolean,value:!1},portraitVideo:{type:Boolean,value:!1},activeDefaultImageUrl:{type:String,computed:"_activeDefaultImageUrl(defaultPostImageEnabled, defaultImageGroupId, uploadedDefaultPostImageId)",value:null},sizingMode:{type:String,computed:"_sizingMode(post)"}},_sizingMode:function(e){return e&&e.Group&&e.Group.configuration&&e.Group.configuration.useContainImageMode?"contain":"cover"},_activeDefaultImageUrl:function(e,t,o){return e&&t&&o?"/api/groups/"+t+"/default_post_image/"+o:null},_goToPost:function(){this.post&&this.post.Group.configuration&&this.post.Group.configuration.resourceLibraryLinkMode||(this.post?this.headerMode?this.goToPost(this.post.id):this.goToPost(this.post.id,null,null,this.post):console.error("No post in post cover media on goToPost"))},_headerModeChanged:function(e){!0===e&&this.async(function(){this.set("mapActivated",!0),this.set("streetViewActivated",!0)})},_getLatitute:function(e){return e||0},_getLongitude:function(e){return e||0},_isNoneActive:function(e){return!!this._withCoverMediaType(e,"none")},_isCategoryActive:function(e){return!!(e&&this._withCoverMediaType(e,"category")&&e.id<=11e3&&this._isDomainWithOldCategories())},_isDomainWithOldCategories:function(){var e=window.location.hostname;return-1<e.indexOf("betrireykjavik.is")||-1<e.indexOf("betraisland.is")||-1<e.indexOf("yrpri.org")},_isCategoryLargeActive:function(e){return!(!e||!this._withCoverMediaType(e,"category")||!(11e3<e.id)&&this._isDomainWithOldCategories())},_isImageActive:function(e){return!!this._withCoverMediaType(e,"image")},_isVideoActive:function(e){return!!this._withCoverMediaType(e,"video")},_isAudioActive:function(e){return!!this._withCoverMediaType(e,"audio")},_isMapActive:function(e){return!!(e&&e.location&&e.location.latitude&&this._withCoverMediaType(e,"map"))},_isStreetViewActive:function(e){return!!(e&&e.location&&e.location.latitude&&this._withCoverMediaType(e,"streetView"))},_postChanged:function(e,t){e&&e.Group&&e.Group.configuration&&e.Group.configuration.uploadedDefaultPostImageId&&""!=e.Group.configuration.uploadedDefaultPostImageId?(this.set("uploadedDefaultPostImageId",e.Group.configuration.uploadedDefaultPostImageId),this.set("defaultImageGroupId",e.Group.id),this.set("defaultPostImageEnabled",!0)):(this.set("defaultPostImageEnabled",!1),this.set("defaultImageGroupId",null),this.set("uploadedDefaultPostImageId",null)),this.headerMode&&this.setupMediaEventListeners(e,t)},_zoomLevel:function(e){return e&&e.map_zoom&&""!=e.map_zoom?e.map_zoom:"10"},_mapType:function(e){return e&&e.mapType&&""!=e.mapType?e.mapType:"roadmap"},_withCoverMediaType:function(e,t){return e?"none"==t?!(e.Category||e.cover_media_type&&"none"!=e.cover_media_type):!("category"!=t||!e.Category||e.cover_media_type&&"none"!=e.cover_media_type)||e&&e.cover_media_type==t:(console.info("No post for "+t),!1)},_getMapPosition:function(e){return e?{lat:e.latitude,lng:e.longitude}:{lat:0,lng:0}},_postImagePath:function(e){return e?this.getImageFormatUrl(e.PostHeaderImages,0):""},_postVideoPath:function(e){if(e&&e.PostVideos){var t=this._getVideoURL(e.PostVideos);return this.set("portraitVideo",this._isPortraitVideo(e.PostVideos)),t?(this.set("postVideoId",e.PostVideos[0].id),t):null}return null},_postAudioPath:function(e){if(e&&e.PostAudios){var t=this._getAudioURL(e.PostAudios);return t?(this.set("postAudioId",e.PostAudios[0].id),t):null}return null},_postVideoPosterPath:function(e){if(e&&e.PostVideos){var t=this._getVideoPosterURL(e.PostVideos,e.PostHeaderImages);return t||null}return null},_getCategoryImagePath:function(e){return e&&e.Category&&e.Category.CategoryIconImages?this.getImageFormatUrl(e.Category.CategoryIconImages,0):""}})</script></dom-module><script>Polymer.GroupBehaviors={properties:{group:{type:Object,notify:!0,observer:"_groupChanged"},elevation:{type:Number},groupLogoImagePath:{type:String,computed:"_groupLogoImagePath(group)"},groupCommuntityLinkLogoImagePath:{type:String,computed:"_groupCommuntityLinkLogoImagePath(group)"},groupHeaderImagePath:{type:String,computed:"_groupHeaderImagePath(group)"},groupName:{type:String,computed:"_groupName(group)"},groupObjectives:{type:String,computed:"_groupObjectives(group)"},noImage:{type:Boolean,value:!0},featured:{type:Boolean,value:!1},archived:{type:Boolean,value:!1},wide:{type:Boolean},largeFont:{type:Boolean,value:!1}},_groupChanged:function(i){window.appGlobals.largeFont?this.set("largeFont",!0):this.set("largeFont",!1),i?(i.GroupLogoImages&&0<i.GroupLogoImages.length?this.set("noImage",!1):i.CommunityLink&&0<i.CommunityLink.CommunityLogoImages.length?this.set("noImage",!1):this.set("noImage",!0),"featured"==i.status?this.set("featured",!0):"archived"==i.status?this.set("archived",!0):(this.set("featured",!1),this.set("archived",!1)),this.async(function(){var o=this.$$("#groupName");if(o){var t,e="group-name ";t=i.CommunityLink?i.CommunityLink.name:i.name,this.wide?t.length<=18?e+="groupNameFontSize4Wide":40<t.length?e+="groupNameFontSize1Wide":30<t.length?e+="groupNameFontSize2Wide":18<t.length&&(e+="groupNameFontSize3Wide"):t.length<=18?e+="groupNameFontSize4Mobile":40<t.length?e+="groupNameFontSize1Mobile":30<t.length?e+="groupNameFontSize2Mobile":18<t.length&&(e+="groupNameFontSize3Mobile"),o.className=e}})):(this.set("featured",!1),this.set("archived",!1)),i&&i.configuration&&i.configuration.isDataVisualizationGroup&&i.configuration.dataForVisualizationJson?(Polymer.dom(document).querySelector("yp-app").loadDataViz(),this.set("visualizationData",i.configuration.dataForVisualizationJson)):this.set("visualizationData",null)},_goToGroup:function(){var o;this.group&&this.group.configuration&&this.group.configuration.actAsLinkToCommunityId?this.fire("yp-add-back-community-override",{backPath:"/community/"+this.group.Community.id,backName:this.group.Community.name,fromCommunityId:this.group.configuration.actAsLinkToCommunityId}):(o=this.group&&this.group.configuration&&this.group.configuration.isDataVisualizationGroup?"/group_data_viz/"+this.group.id:"/group/"+this.group.id+"/open",window.appGlobals.activity("open","group",o,{id:this.group.id}),null===window.appGlobals.backToCommunityGroupItems&&(window.appGlobals.backToCommunityGroupItems={}),window.appGlobals.backToCommunityGroupItems[this.group.community_id]=this.group,window.appGlobals.groupItemsCache||(window.appGlobals.groupItemsCache={}),window.appGlobals.groupItemsCache[this.group.id]=this.group,console.log("Cached saved for group id: "+this.group.id),console.log("Saving group item for community "+this.group.community_id),this.redirectTo(o))},_groupLogoImagePath:function(o){return o?this.getImageFormatUrl(o.GroupLogoImages,0):""},_groupCommuntityLinkLogoImagePath:function(o){return o&&o.CommunityLink?this.getImageFormatUrl(o.CommunityLink.CommunityLogoImages,0):""},_groupHeaderImagePath:function(o){return o?this.getImageFormatUrl(o.GroupHeaderImages,0):""},_groupName:function(o){return o?o.name?this.truncate(this.trim(o.name),60):o.short_name:""},_groupObjectives:function(o){return o&&o.objectives?this.truncate(this.trim(o.objectives),200,"..."):""}}</script><script>Polymer.ypActivityGroupTitleBehavior={properties:{hasGroupHeader:{type:Boolean,computed:"_hasGroupHeader(activity.Group, postId, groupId)"},groupTitle:{type:Boolean,computed:"_groupTitle(activity.Group, postId, groupId, communityId)"},groupId:{type:Number,value:null},communityId:{type:Number,value:null}},_hasGroupHeader:function(t,i,e){return t&&"hidden_public_group_for_domain_level_points"!=t.name&&!i&&!e},_groupTitle:function(t,i,e,o){if(!t||i||e)return"";var u="";return!o&&this.activity.Community&&this.activity.Community.name!=this.activity.Group.name&&(u+=this.activity.Community.name+" - "),u+=this.activity.Group.name}}</script><dom-module id="ac-activity-post"assetpath="../ac-activities/"><template><style include="iron-flex iron-flex-alignment">:host{display:block;}.descriptionOuter{@apply --layout-vertical;color:var(--primary-color-more-darker, #424242);line-height:var(--description-line-height, 1.3);margin:0;padding-bottom:8px;padding-top:8px;margin-bottom:48px;width:100% !important;}.mainContainerItem[is-ie11]{max-width:480px !important;}@media (max-width: 600px){.mainContainerItem[is-ie11]{max-width:290px !important;}}.description, .post-name{padding-left:16px;padding-right:16px;}.post-name{font-size:24px;padding-bottom:4px;margin:0;padding-top:0;margin-top:16px;}.voting{position:absolute;bottom:0;right:16px;}.card-actions{position:absolute;bottom:36px;right:0;}.category-icon{width:64px;height:64px;}.category-image-container{text-align:right;margin-top:-52px;}.postCardCursor{cursor:pointer;}yp-post-cover-media{width:432px;height:258px;padding-bottom:4px;margin-top:8px;}.postCard{width:960px;background-color:#fff;@apply --layout-horizontal;}@media (max-width: 960px){:host{width:420px;}.postCard{height:100%;width:420px;@apply --layout-wrap;}yp-post-cover-media{width:300px;height:166px;}.voting{padding-left:0;padding-right:0;}.card-actions{width:320px;}.card-content{width:420px !important;padding-bottom:74px;}.description{width:300px;}}:host{width:304px;}.postCard{height:100% !important;width:304px !important;}.actionInfo{font-size:22px;margin-top:16px;padding-left:16px;padding-right:16px;margin-bottom:16px;}@media (max-width: 420px){.description{width:290px;}yp-post-cover-media{width:304px !important;height:168px !important;}}.groupTitle{font-size:15px;padding-top:8px;color:#777;}.hasPointer{cursor:pointer;}</style><div class="layout vertical hasPointer"on-tap="_goToPost"><div class="actionInfo">[[t('addedAnIdea')]]</div><div class="layout horizontal center-center"><yp-post-cover-media post="[[activity.Post]]"></yp-post-cover-media></div><div class="layout vertical center-center"><yp-magic-text class="post-name mainContainerItem"is-ie11$="[[isIE11]]"text-only=""text-type="postName"content-language="[[activity.Post.language]]"content="[[activity.Post.name]]"content-id="[[activity.Post.id]]"></yp-magic-text></div><div class="layout vertical center-center descriptionOuter"><div id="description"class="description mainContainerItem"is-ie11$="[[isIE11]]"><template is="jucy-html"html="[[activity.Post.description]]"></template></div><template is="dom-if"if="[[hasGroupHeader]]"><div class="groupTitle layout horizontal center-center">[[groupTitle]]</div></template></div></div></template><script>Polymer({is:"ac-activity-post",behaviors:[Polymer.ypLanguageBehavior,Polymer.YpPostBehavior,Polymer.ypActivityGroupTitleBehavior,Polymer.ypTruncateBehavior,Polymer.ypMediaFormatsBehavior,Polymer.ypGotoBehavior],properties:{activity:{type:Object},postId:{type:Number,value:null},wide:{type:Boolean,value:!1},isIE11:{type:Boolean,computed:"_isIE11(wide)"}},_goToPost:function(){this.activity.Post&&!this.postId&&this.goToPost(this.activity.Post.id,null,this.activity)},_isIE11:function(){return/Trident.*rv[ :]*11\./.test(navigator.userAgent)}})</script></dom-module><dom-module id="paper-share-button"assetpath="../../bower_components/paper-share-button/"><iron-iconset-svg name="custom"size="24"><svg><defs><g id="share"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"></path></g><g id="email"><path d="M0 0h24v24H0z"fill="none"></path><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 14H4V8l8 5 8-5v10zm-8-7L4 6h16l-8 5z"></path></g></defs></svg></iron-iconset-svg><iron-iconset-svg name="brand"size="16"><svg><defs><g id="facebook"><path d="M15.117 0H.883C.395 0 0 .395 0 .883v14.234c0 .488.395.883.883.883h7.663V9.804H6.46V7.39h2.086V5.607c0-2.066 1.262-3.19 3.106-3.19.883 0 1.642.064 1.863.094v2.16h-1.28c-1 0-1.195.48-1.195 1.18v1.54h2.39l-.31 2.42h-2.08V16h4.077c.488 0 .883-.395.883-.883V.883C16 .395 15.605 0 15.117 0"></path></g><g id="google"><path d="M5.09 7.273v1.745h2.89c-.116.75-.873 2.197-2.887 2.197-1.737 0-3.155-1.44-3.155-3.215S3.353 4.785 5.09 4.785c.99 0 1.652.422 2.03.786l1.382-1.33c-.887-.83-2.037-1.33-3.41-1.33C2.275 2.91 0 5.19 0 8s2.276 5.09 5.09 5.09c2.94 0 4.888-2.065 4.888-4.974 0-.334-.036-.59-.08-.843H5.09zm10.91 0h-1.455V5.818H13.09v1.455h-1.454v1.454h1.455v1.455h1.46V8.727H16"></path></g><g id="twitter"><path d="M16 3.038c-.59.26-1.22.437-1.885.517.677-.407 1.198-1.05 1.443-1.816-.634.37-1.337.64-2.085.79-.598-.64-1.45-1.04-2.396-1.04-1.812 0-3.282 1.47-3.282 3.28 0 .26.03.51.085.75-2.728-.13-5.147-1.44-6.766-3.42C.83 2.58.67 3.14.67 3.75c0 1.14.58 2.143 1.46 2.732-.538-.017-1.045-.165-1.487-.41v.04c0 1.59 1.13 2.918 2.633 3.22-.276.074-.566.114-.865.114-.21 0-.41-.02-.61-.058.42 1.304 1.63 2.253 3.07 2.28-1.12.88-2.54 1.404-4.07 1.404-.26 0-.52-.015-.78-.045 1.46.93 3.18 1.474 5.04 1.474 6.04 0 9.34-5 9.34-9.33 0-.14 0-.28-.01-.42.64-.46 1.2-1.04 1.64-1.7z"fill-rule="nonzero"></path></g><g id="vk"><path d="M7.828 12.526h.957s.288-.032.436-.19c.14-.147.14-.42.14-.42s-.02-1.284.58-1.473c.59-.187 1.34 1.24 2.14 1.788.61.42 1.07.33 1.07.33l2.14-.03s1.12-.07.59-.95c-.04-.07-.3-.65-1.58-1.84-1.34-1.24-1.16-1.04.45-3.19.98-1.31 1.38-2.11 1.25-2.45-.11-.32-.84-.24-.84-.24l-2.4.02s-.18-.02-.31.06-.21.26-.21.26-.38 1.02-.89 1.88C10.27 7.9 9.84 8 9.67 7.88c-.403-.26-.3-1.053-.3-1.62 0-1.76.27-2.5-.52-2.69-.26-.06-.454-.1-1.123-.11-.86-.01-1.585.006-1.996.207-.27.135-.48.434-.36.45.16.02.52.098.71.358.25.337.24 1.09.24 1.09s.14 2.077-.33 2.335c-.33.174-.77-.187-1.73-1.837-.49-.84-.86-1.78-.86-1.78s-.07-.17-.2-.27c-.15-.11-.37-.15-.37-.15l-2.29.02s-.34.01-.46.16c-.11.13-.01.41-.01.41s1.79 4.19 3.82 6.3c1.86 1.935 3.97 1.81 3.97 1.81z"></path></g><g id="blogger"><path d="M14.65 16H1.35C.6 16 0 15.4 0 14.65V1.35C0 .6.6 0 1.35 0H14.7c.7 0 1.3.6 1.3 1.35v13.3c0 .75-.6 1.35-1.35 1.35zM8 2.65H6c-1.85 0-3.35 1.5-3.35 3.35v4c0 1.85 1.5 3.35 3.35 3.35h4c1.85 0 3.35-1.5 3.35-3.35V7.35c0-.4-.3-.7-.7-.7H12c-.35 0-.65-.3-.65-.65 0-1.85-1.5-3.35-3.35-3.35zm2.05 8H6c-.35 0-.65-.3-.65-.65 0-.35.3-.65.65-.65h4.05c.35 0 .65.3.65.65 0 .35-.3.65-.65.65zm-1.7-5.3c.35 0 .65.3.65.65 0 .35-.3.65-.65.65h-2.4c-.35 0-.65-.3-.65-.65 0-.35.3-.65.65-.65h2.4z"></path></g><g id="reddit"><path d="M1.473 9.368c-.04.185-.06.374-.06.566 0 2.3 2.94 4.173 6.554 4.173 3.613 0 6.553-1.872 6.553-4.173 0-.183-.02-.364-.055-.54l-.01-.022c-.013-.036-.02-.073-.02-.11-.2-.784-.745-1.497-1.533-2.072-.03-.01-.058-.026-.084-.047-.017-.013-.03-.028-.044-.043-1.198-.824-2.91-1.34-4.807-1.34-1.88 0-3.576.506-4.772 1.315-.01.012-.02.023-.033.033-.026.022-.056.04-.087.05-.805.576-1.364 1.293-1.572 2.086 0 .038-.01.077-.025.114l-.005.01zM8 13.003c-1.198 0-2.042-.26-2.58-.8-.116-.116-.116-.305 0-.422.117-.11.307-.11.424 0 .42.42 1.125.63 2.155.63 1.03 0 1.73-.2 2.15-.62.11-.11.3-.11.42 0 .11.12.11.31 0 .43-.54.54-1.38.8-2.58.8zM5.592 7.945c-.61 0-1.12.51-1.12 1.12 0 .608.51 1.102 1.12 1.102.61 0 1.103-.494 1.103-1.102 0-.61-.494-1.12-1.103-1.12zm4.83 0c-.61 0-1.12.51-1.12 1.12 0 .608.51 1.102 1.12 1.102.61 0 1.103-.494 1.103-1.102 0-.61-.494-1.12-1.103-1.12zM13.46 6.88c.693.556 1.202 1.216 1.462 1.94.3-.225.48-.578.48-.968 0-.67-.545-1.214-1.214-1.214-.267 0-.52.087-.728.243zM1.812 6.64c-.67 0-1.214.545-1.214 1.214 0 .363.16.7.43.927.268-.72.782-1.37 1.478-1.92-.202-.14-.443-.22-.694-.22zm6.155 8.067c-3.944 0-7.152-2.14-7.152-4.77 0-.183.016-.363.046-.54-.53-.33-.86-.91-.86-1.545 0-1 .82-1.812 1.82-1.812.45 0 .87.164 1.2.455 1.24-.796 2.91-1.297 4.75-1.33l1.21-3.69.27.063s.01 0 .01.002l2.82.663c.23-.533.76-.908 1.38-.908.82 0 1.49.67 1.49 1.492 0 .823-.67 1.492-1.49 1.492s-1.49-.67-1.49-1.49L9.4 2.18l-.98 2.99c1.77.07 3.37.57 4.57 1.35.33-.31.764-.48 1.225-.48 1 0 1.814.81 1.814 1.81 0 .66-.36 1.26-.92 1.58.02.17.04.33.04.5-.01 2.63-3.21 4.77-7.16 4.77zM13.43 1.893c-.494 0-.895.4-.895.894 0 .493.4.894.894.894.49 0 .89-.4.89-.89s-.4-.89-.9-.89z"></path></g><g id="tumblr"><path d="M9.708 16c-3.396 0-4.687-2.504-4.687-4.274V6.498H3.41V4.432C5.83 3.557 6.418 1.368 6.55.12c.01-.086.077-.12.115-.12H9.01v4.076h3.2v2.422H8.997v4.98c.01.667.25 1.58 1.472 1.58h.06c.42-.012.99-.136 1.29-.278l.77 2.283c-.29.424-1.6.916-2.77.936H9.7z"fill-rule="nonzero"></path></g><g id="clipboard-text"><path d="M17,9H7V7H17M17,13H7V11H17M14,17H7V15H14M12,3A1,1 0 0,1 13,4A1,1 0 0,1 12,5A1,1 0 0,1 11,4A1,1 0 0,1 12,3M19,3H14.82C14.4,1.84 13.3,1 12,1C10.7,1 9.6,1.84 9.18,3H5A2,2 0 0,0 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5A2,2 0 0,0 19,3Z"></path></g></defs></svg></iron-iconset-svg><template><style>:host{display:inline-block;}:host([monochrome]) .social-icon{color:var(--paper-share-button-brand-icon-monochrome-color, black) !important;}#container:hover > #cube{background-color:yellow;}.social-list{}paper-menu-button{padding:0px;}paper-icon-button{height:var(--paper-share-button-icon-height, 40px);width:var(--paper-share-button-icon-width, 40px);color:var(--paper-share-button-icon-color, black);}.social-icon{height:var(--paper-share-button-brand-icon-height, 40px);width:var(--paper-share-button-brand-icon-width, 40px);}.clipboard{height:var(--paper-share-button-brand-icon-height, 20px);width:var(--paper-share-button-brand-icon-width, 20px);padding:0;}[hidden]{display:none !important;}.whatsapp, .copyIcon{width:24px;height:24px;margin-right:8px;margin-top:4px;cursor:pointer;}.copyIcon{margin-bottom:8px;}.social-list{padding-top:8px;}</style><paper-menu-button id="shareMenu"horizontal-align$="[[horizontalAlign]]"vertical-align="bottom"><paper-icon-button icon="[[buttonIcon]]"alt="Share"slot="dropdown-trigger"></paper-icon-button><paper-material slot="dropdown-content"><div class="social-list"><div><paper-icon-button href$="https://www.facebook.com/sharer/sharer.php?u=[[url]]"hidden$="[[!facebook]]"style="color:#3B5998"class="social-icon"cake="1w2"icon="brand:facebook"on-tap="_share"></paper-icon-button></div><div><paper-icon-button href$="https://plus.google.com/share?url=[[url]]"hidden$="[[!google]]"style="color:#DC4E41"class="social-icon"icon="brand:google"on-tap="_share"></paper-icon-button></div><div><paper-icon-button href$="http://twitter.com/intent/tweet?url=[[url]]&amp;text=[[sharingText]]"hidden$="[[!twitter]]"style="color:#1DA1F2"class="social-icon"icon="brand:twitter"on-tap="_share"></paper-icon-button></div><div><paper-icon-button href$="http://reddit.com/submit?url=[[url]]&amp;title=[[sharingText]]"hidden$="[[!reddit]]"style="color:#FF4500"class="social-icon"icon="brand:reddit"on-tap="_share"></paper-icon-button></div><div><paper-icon-button href$="http://vkontakte.ru/share.php?url=[[url]]"hidden$="[[!vk]]"style="color:#6383A8"class="social-icon"icon="brand:vk"on-tap="_share"></paper-icon-button></div><div><paper-icon-button href$="http://www.blogger.com/blog-this.g?n=[[sharingText]]&amp;b=[[sharingText]]%20[[url]]"hidden$="[[!blogger]]"style="color:#F38936"class="social-icon"icon="brand:blogger"on-tap="_share"></paper-icon-button></div><div><paper-icon-button href$="http://www.tumblr.com/share/link?url=[[url]]"hidden$="[[!tumblr]]"style="color:#36465D"class="social-icon"icon="brand:tumblr"on-tap="_share"></paper-icon-button></div><div><img hidden$="[[!whatsapp]]"href$="https://api.whatsapp.com/send?text=[[url]]"icon="whatsapp"src="https://yrpri-eu-direct-assets.s3-eu-west-1.amazonaws.com/whatsAppLogo.png"class="whatsapp"on-tap="_share"></div><div><a href$="mailto:?body=[[url]]&amp;subject=[[sharingText]]"target="_blank"tabindex="-1"><paper-icon-button hidden$="[[!email]]"style="color:#000000"class="social-icon"icon="custom:email"></paper-icon-button></a></div><div><img src="https://yrpri-eu-direct-assets.s3.eu-west-1.amazonaws.com/copyClipBoard.png"class="copyIcon"on-tap="_copyToClipBoard"></div></div></paper-material></paper-menu-button></template><script>Polymer({is:"paper-share-button",properties:{url:{type:String},encodedUrl:{type:String,computed:"_encodedUrl(url)"},autoUrl:{type:Boolean},buttonIcon:{type:String,value:"custom:share"},sharingText:{type:String,value:""},monochrome:{type:Boolean,value:!1},popup:{type:Boolean,value:!1},email:{type:Boolean,value:!1},whatsapp:{type:Boolean,value:!1},facebook:{type:Boolean,value:!1},google:{type:Boolean,value:!1},twitter:{type:Boolean,value:!1},reddit:{type:Boolean,value:!1},vk:{type:Boolean,value:!1},blogger:{type:Boolean,value:!1},tumblr:{type:Boolean,value:!1},horizontalAlign:{type:String,value:"left"}},_encodedUrl:function(e){if(e)return encodeURIComponent(e)},_copyToClipBoard:function(){navigator.clipboard.writeText(decodeURIComponent(this.url)),this.fire("yp-clipboard-copy-notification"),this.$.shareMenu.close()},_share:function(e){var o=Polymer.dom(e).localTarget;if(!this.url&&this.autoUrl&&(this.url=window.location.href),this.url)if(this.fire("share-tap",{brand:o.icon}),this.popup)switch(o.icon){case"brand:facebook":this._openPopup(o.getAttribute("href"),"Sharing",600,375);break;case"brand:google":this._openPopup(o.getAttribute("href"),"Sharing",400,445);break;case"brand:twitter":this._openPopup(o.getAttribute("href"),"Sharing",500,230);break;default:window.open(o.getAttribute("href"),"Sharing")}else window.open(o.getAttribute("href"),"Sharing");else console.error("Impossible to share, no url set");this.$.shareMenu.close()},_openPopup:function(e,o,t,r){var n=window.top.outerHeight/2+window.top.screenY-r/2,a=window.top.outerWidth/2+window.top.screenX-t/2;window.open(e,o,"width="+t+", height="+r+", top="+n+", left="+a)}})</script></dom-module><script>Polymer.ypRemoveClassBehavior={removeClass:function(e,s){for(var a="",l=e.className.split(" "),o=0;o<l.length;o++)l[o]!==s&&(a+=l[o]+" ");e.className=a}}</script><dom-module id="yp-point-actions"assetpath="../yp-point/"><template><style include="iron-flex iron-flex-alignment">:host{@apply --layout-horizontal;min-width:125px;}.action-text{font-size:12px;padding-top:12px;}.action-up{@apply --layout-horizontal;}.action-down{@apply --layout-horizontal;}.up-selected{color:#444;}.down-selected{color:#444;}.middle{@apply --layout-horizontal;@apply --layout-flex;@apply --layout-center-justified;}.all-actions{@apply --layout-horizontal;@apply --layout-flex;@apply --layout-start-justified;color:#aaa;padding-right:8px;}yp-ajax{min-width:32px;}.myButton{--paper-icon-button{width:10px;height:10px;}}.shareIcon{--paper-share-button-icon-color:#ddd;text-align:right;}.shareIcon[up-voted]{--paper-share-button-icon-color:var(--accent-color-400);}[hidden]{display:none !important;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><div class="all-actions"hidden$="[[hideNotHelpful]]"><div id="actionUp"class="actionUp layout horizontal"><paper-icon-button title$="[[t('point.helpful')]]"disabled="[[allDisabled]]"icon="arrow-upward"class="point-up-vote-icon myButton"on-tap="pointHelpful"></paper-icon-button><div class="action-text action-up">{{point.counter_quality_up}}</div></div><div id="actionDown"class="actionDown layout horizontal"><paper-icon-button title$="[[t('point.not_helpful')]]"disabled="[[allDisabled]]"icon="arrow-downward"class="point-down-vote-icon myButton"on-tap="pointNotHelpful"></paper-icon-button><div class="action-text">{{point.counter_quality_down}}</div></div></div><paper-share-button hidden$="[[masterHideSharing]]"on-share-tap="_shareTap"class="shareIcon"up-voted$="[[isUpVoted]]"horizontal-align="right"id="shareButton"whatsapp$="[[configuration.allowWhatsAppSharing]]"title$="[[t('sharePoint')]]"facebook=""email=""twitter=""popup=""url="[[pointUrl]]"></paper-share-button><yp-ajax id="pointQualityAjax"hidden=""method="POST"on-response="_pointQualityResponse"></yp-ajax><lite-signal on-lite-signal-got-endorsements-and-qualities="_updateQualitiesFromSignal"></lite-signal></template><script>Polymer({is:"yp-point-actions",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypRemoveClassBehavior],properties:{point:{type:Object,observer:"_onPointChanged"},hideNotHelpful:{type:Boolean,value:!1},pointQualityValue:{type:Number,value:0},isUpVoted:{type:Boolean,value:!1},allDisabled:{type:Boolean,value:!1},pointUrl:{type:String},hideSharing:{type:Boolean,value:!1},configuration:{type:Object,value:!1},masterHideSharing:{type:Boolean,computed:"_masterHideSharing(hideSharing, configuration)"}},observers:["_qualityChanged(point.counter_quality_up, point.counter_quality_down)"],_masterHideSharing:function(t,i){return t||i&&i.hideSharing},_onPointChanged:function(t){t?this._updateQualities():this.set("isUpVoted",!1)},_updateQualitiesFromSignal:function(){this._updateQualities()},_updateQualities:function(){if(window.appUser&&window.appUser.loggedIn()&&window.appUser.user&&window.appUser.user.PointQualities){var t=window.appUser.pointQualitiesIndex[this.point.id];t?(this._setPointQuality(t.value),0<t.value&&this.set("isUpVoted",!0)):(this.set("isUpVoted",!1),this._setPointQuality(null))}else this.set("isUpVoted",!1),this._setPointQuality(null)},_qualityChanged:function(){},_resetClasses:function(){this.pointQualityValue&&0<this.pointQualityValue?(this.$.actionUp.className+=" up-selected",this.removeClass(this.$.actionDown,"down-selected")):this.pointQualityValue&&this.pointQualityValue<0?(this.$.actionDown.className+=" down-selected",this.removeClass(this.$.actionUp,"up-selected")):(this.removeClass(this.$.actionUp,"up-selected"),this.removeClass(this.$.actionDown,"down-selected"))},_setPointQuality:function(t){this.set("pointQualityValue",t),this._resetClasses()},_pointQualityResponse:function(t,i){this.set("allDisabled",!1);var e=i.response.pointQuality,o=i.response.oldPointQualityValue;this._setPointQuality(e.value),window.appUser.updatePointQualityForPost(this.point.id,e),o&&(0<o?this.set("point.counter_quality_up",this.point.counter_quality_up-1):o<0&&this.set("point.counter_quality_down",this.point.counter_quality_down-1)),0<e.value?this.set("point.counter_quality_up",this.point.counter_quality_up+1):e.value<0&&this.set("point.counter_quality_down",this.point.counter_quality_down+1)},generatePointQualityFromLogin:function(t){window.appUser.pointQualitiesIndex[this.point.id]||this.generatePointQuality(t)},generatePointQuality:function(t){!0===window.appUser.loggedIn()?(this.$.pointQualityAjax.url="/api/points/"+this.point.id+"/pointQuality",this.$.pointQualityAjax.body={point_id:this.point.id,value:t,qualityBaseId:window.appUser.getBrowserId(),qualityValCode:window.appUser.browserFingerprint,qualityConf:window.appUser.browserFingerprintConfidence},this.pointQualityValue===t?this.$.pointQualityAjax.method="DELETE":this.$.pointQualityAjax.method="POST",this.$.pointQualityAjax.generateRequest()):(this.set("allDisabled",!1),window.appUser.loginForPointQuality(this,{value:t}))},pointHelpful:function(){this.set("allDisabled",!0),this.generatePointQuality(1),this.set("isUpVoted",!0),this.updateStyles(),window.appGlobals.activity("clicked","pointHelpful",this.point.id)},pointNotHelpful:function(){this.set("allDisabled",!0),window.appGlobals.activity("clicked","pointNotHelpful",this.point.id),this.generatePointQuality(-1)}})</script></dom-module><dom-module id="yp-point"assetpath="../yp-point/"><template><style include="iron-flex iron-flex-alignment">:host{display:block;@apply --layout-vertical;}.point-content{@apply --layout-vertical;padding-right:16px;padding-left:16px;margin-top:16px;}#pointContentTranscript, #pointContent{cursor:default;}#pointContentTranscript, #pointContent[link-point]{cursor:pointer;}@media (max-width: 320px){.user-image{display:none;}}.userInfoContainer{border-bottom:solid 4px;width:100%;padding-bottom:16px;}.userInfoContainer[up-vote]{border-bottom-color:var(--master-point-up-color);}.userInfoContainer[down-vote]{border-bottom-color:var(--master-point-down-color);}paper-icon-button{color:#ccc;}#reportPointIconButton{color:#ddd;width:36px;height:36px;}.thumbsIcon{padding-left:16px;padding-right:16px;}@media (min-width: 985px){.thumbsIcon{display:none;}}iron-icon.thumbsIconUp{color:var(--master-point-up-color);}iron-icon.thumbsIconDown{color:var(--master-point-down-color);}yp-user-with-organization{padding-left:16px;}.actionContainer{margin-top:8px;}[hidden]{display:none !important;}.pointer{cursor:pointer;}video{outline:none !important;}iron-image, video{width:398px;height:224px;margin:0;padding:0;}@media (max-width: 600px){iron-image, video{width:100%;margin:0 !important;padding:0;height:initial;vertical-align:top;}.actionContainer{margin-left:12px;}#videoPlayer[portrait]{width:50% !important;}}.topContainer[portrait]{background-color:#777;}#pointContentEditor, #pointAdminCommentEditor{padding-left:8px;padding-right:8px;}#pointAdminCommentContent{padding-left:16px;padding-right:16px;}.commentFromAdmin{padding-left:16px;padding-right:16px;padding-top:16px;font-size:16px;padding-bottom:2px;font-weight:bold;color:var(--accent-color, #111);}.commentFromAdminInput{padding:0;}.transcriptError{margin-top:8px;color:#F00;}paper-spinner{margin-top:4px;}.checkTranscript{margin-top:8px;padding:8px;}.transcriptText{margin-top:0;padding:8px;color:#222;padding-bottom:0;font-style:italic;}.transcriptHeader{color:#222;margin-bottom:2px;font-style:normal;}audio{margin-top:16px;margin-bottom:16px;}video{background-color:#777;}#pointContent{color:#111;}paper-icon-button.openCloseButton{width:54px;height:54px;margin-top:-16px;padding-left:0;margin-left:0;color:#777;}</style><lite-signal on-lite-signal-got-admin-rights="_gotAdminRights"></lite-signal><lite-signal on-lite-signal-logged-in="_userLoggedIn"></lite-signal><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><lite-signal on-lite-signal-yp-pause-media-playback="_pauseMediaPlayback"></lite-signal><div class="layout vertical"><div class="userInfoContainer layout horizontal"up-vote$="[[upVote(point)]]"down-vote$="[[downVote(point)]]"hidden$="[[hideUser]]"><iron-icon icon="thumb-up"class="thumbsIcon thumbsIconUp"hidden$="[[!pointValueUp]]"></iron-icon><iron-icon icon="thumb-down"class="thumbsIcon thumbsIconDown"hidden$="[[pointValueUp]]"></iron-icon><div class="layout horizontal"hidden$="[[post.Group.configuration.hidePointAuthor]]"><yp-user-with-organization title-date="[[point.created_at]]"inverted=""user$="[[user]]"></yp-user-with-organization></div></div><div class="layout vertical"><div class="topContainer"portrait$="[[portraitVideo]]"><template is="dom-if"if="[[videoActive]]"restamp=""><div class="layout horizontal center-center"><video id="videoPlayer"portrait$="[[portraitVideo]]"data-id$="[[pointVideoId]]"controls=""preload="none"class="video"src="[[pointVideoPath]]"playsinline=""poster="[[pointImageVideoPath]]"></video></div></template></div><template is="dom-if"if="[[audioActive]]"restamp=""><div class="layout vertical center-center"><audio id="audioPlayer"data-id$="[[pointAudioId]]"controls=""preload="meta"class="audio"src="[[pointAudioPath]]"playsinline=""></audio></div></template><template is="dom-if"if="[[videoOrAudioActive]]"><template is="dom-if"if="[[checkingTranscript]]"><div class="layout vertical center-center checkTranscript"><div>[[t('checkingForTranscript')]]</div><paper-spinner active=""></paper-spinner></div></template><div class="transcriptError layout horizontal center-center"hidden$="[[!checkTranscriptError]]">[[t('checkTranscriptError')]]</div><template is="dom-if"if="[[point.latestContent]]"><div class="transcriptText layout vertical center-center"><div class="layout horizontal"><div class="transcriptHeader">[[t('automaticTranscript')]]</div><div hidden$="[[!post.Group.configuration.collapsableTranscripts]]"><paper-icon-button title$="[[t('openComments')]]"class="openCloseButton"icon="keyboard-arrow-right"on-tap="_setOpen"hidden$="[[openTranscript]]"></paper-icon-button><paper-icon-button title$="[[t('closeComments')]]"class="openCloseButton"icon="keyboard-arrow-down"on-tap="_setClosed"hidden$="[[!openTranscript]]"></paper-icon-button></div></div><div id="pointContentTranscript"link-point$="[[linkPoint]]"hidden$="[[isEditing]]"on-tap="_linkIfNeeded"><yp-magic-text hidden$="[[!openTranscript]]"simple-format=""text-type="pointContent"content-language="[[point.language]]"content="[[point.latestContent]]"content-id="[[point.id]]"></yp-magic-text></div></div></template></template><template is="dom-if"if="[[!videoOrAudioActive]]"><div class="point-content"><span hidden$="[[!point.name]]"><span>[[point.name]]</span>.</span><div id="pointContent"link-point$="[[linkPoint]]"hidden$="[[isEditingSomething]]"on-tap="_linkIfNeeded"><yp-magic-text simple-format=""text-type="pointContent"content-language="[[point.language]]"content="[[point.latestContent]]"content-id="[[point.id]]"></yp-magic-text></div></div></template><template is="dom-if"if="[[showAdminComments]]"><div class="commentFromAdmin"hidden$="[[isEditingSomething]]"><template is="dom-if"if="[[post.Group.configuration.customAdminCommentsTitle]]"><yp-magic-text text-type="customAdminCommentsTitle"content-language="[[post.Group.language]]"content="[[post.Group.configuration.customAdminCommentsTitle]]"content-id="[[post.Group.id]]"></yp-magic-text></template><template is="dom-if"if="[[!post.Group.configuration.customAdminCommentsTitle]]">[[t('commentFromAdmin')]]</template></div><div id="pointAdminCommentContent"link-point$="[[linkPoint]]"hidden$="[[isEditingSomething]]"on-tap="_linkIfNeeded"><yp-magic-text simple-format=""text-type="pointAdminCommentContent"content-language="[[point.public_data.admin_comment.language]]"truncate="1500"content="[[point.public_data.admin_comment.text]]"content-id="[[point.id]]"></yp-magic-text></div></template><template is="dom-if"if="[[isEditing]]"restamp=""><div class="layout vertical"><paper-textarea id="pointContentEditor"char-counter=""maxlength="1500"value="{{editText}}"></paper-textarea><div class="horizontal end-justified layout"><emoji-selector id="pointEmojiSelector"></emoji-selector></div><div class="layout horizontal self-end"><paper-button on-tap="_cancelEdit">[[t('cancel')]]</paper-button><paper-button on-tap="_saveEdit">[[t('update')]]</paper-button></div></div></template><template is="dom-if"if="[[isAdminCommentEditing]]"restamp=""><div class="layout vertical"><paper-textarea id="pointAdminCommentEditor"label="[[t('commentFromAdmin')]]"char-counter=""maxlength="1500"value="{{editAdminCommentText}}"></paper-textarea><div class="horizontal end-justified layout"><emoji-selector id="pointAdminCommentEmojiSelector"></emoji-selector></div><div class="layout horizontal self-end"><paper-button on-tap="_cancelAdminCommentEdit">[[t('cancel')]]</paper-button><paper-button on-tap="_saveAdminCommentEdit">[[t('update')]]</paper-button></div></div></template><div class="layout horizontal actionContainer"hidden$="[[hideActions]]"><yp-point-actions point="[[point]]"point-url$="[[pointUrl]]"configuration="[[post.Group.configuration]]"></yp-point-actions><paper-icon-button title$="[[t('point.report')]]"id="reportPointIconButton"icon="warning"on-tap="_reportPoint"></paper-icon-button><div class="flex"></div><template is="dom-if"if="[[hasPointAccess]]"><div class="layout horizontal self-end"hidden$=""><yp-ajax id="editPointAjax"method="PUT"on-response="_editResponse"></yp-ajax><yp-ajax id="editAdminCommentPointAjax"method="PUT"on-response="_editAdminCommentResponse"></yp-ajax><yp-ajax id="deletePointAjax"method="DELETE"on-response="_deleteResponse"></yp-ajax><paper-icon-button title$="[[t('editAdminComment')]]"hidden$="[[!hasAdminCommentAccess]]"icon="comment"on-tap="_editAdminComment"></paper-icon-button><paper-icon-button title$="[[t('edit')]]"hidden$="[[!canEditPoint]]"icon="create"on-tap="_editPoint"></paper-icon-button><paper-icon-button title$="[[t('delete')]]"icon="clear"on-tap="_deletePoint"></paper-icon-button></div></template><yp-ajax hidden=""id="checkTranscriptStatusAjax"on-response="_transcriptStatusResponse"></yp-ajax></div></div></div></template><script>Polymer({is:"yp-point",properties:{point:{type:Object,notify:!0,observer:"_pointChanged"},linkPoint:{type:Boolean,value:!1},hasPointAccess:{type:Boolean,computed:"_hasPointAccess(point, gotAdminRights, loggedInUser)"},canEditPoint:{type:Boolean,computed:"_canEditPoint(point, gotAdminRights, loggedInUser)"},user:{type:Object,value:null},post:{type:Object,value:null},openTranscript:{type:Boolean,value:!0},hideUser:{type:Boolean,value:!1},hideActions:{type:Boolean,value:!1},isEditing:{type:Boolean,value:!1,observer:"_isEditingChanged"},isEditingSomething:{type:Boolean,computed:"_isEditingSomething(isEditing, isAdminCommentEditing)"},isAdminCommentEditing:{type:Boolean,value:!1,observer:"_isAdminCommentEditingChanged"},hasAdminCommentAccess:{type:Boolean,computed:"_hasAdminCommentAccess(point, post)"},hasAdminComments:{type:Boolean,value:!1},showAdminComments:{type:Boolean,computed:"_showAdminComments(point, post, hasAdminComments)"},maxNumberOfPointsBeforeEditFrozen:{type:Number,value:5},pointValueUp:{type:Boolean,computed:"upVote(point)"},pointUrl:{type:String,computed:"_pointUrl(point)"},editText:String,editAdminCommentText:String,videoActive:{type:Boolean,value:!1},pointVideoPath:String,pointImageVideoPath:String,pointVideoId:Number,audioActive:{type:Boolean,value:!1},pointAudioPath:String,pointAudioId:Number,videoOrAudioActive:{type:Boolean,computed:"_videoOrAudioActive(videoActive, audioActive)"},checkingTranscript:{type:Boolean,value:!1},portraitVideo:{type:Boolean,value:!1}},behaviors:[Polymer.ypLanguageBehavior,Polymer.AccessHelpers,Polymer.ypLoggedInUserBehavior,Polymer.ypGotAdminRightsBehavior,Polymer.ypGotoBehavior,Polymer.ypMediaFormatsBehavior],_setOpen:function(){this.set("openTranscript",!0),this.async(function(){this.fire("yp-iron-resize"),this.fire("iron-resize"),this.notifyResize()},20)},_setClosed:function(){this.set("openTranscript",!1),this.async(function(){this.fire("yp-iron-resize"),this.fire("iron-resize"),this.notifyResize()},20)},_isEditingSomething:function(t,i){return t||i},_showAdminComments:function(t,i){return!!(t&&i&&i.Group&&t.public_data&&t.public_data.admin_comment&&t.public_data.admin_comment.text&&i.Group.configuration&&i.Group.configuration.allowAdminAnswersToPoints)},_hasAdminCommentAccess:function(t,i){return!!(t&&i&&i.Group&&this.checkPostAdminOnlyAccess(t.Post)&&i.Group.configuration&&i.Group.configuration.allowAdminAnswersToPoints)},_videoOrAudioActive:function(t,i){return t||i},_isEditingChanged:function(t){this._updateEmojiBindings(t),this.async(function(){this.fire("iron-resize")})},_isAdminCommentEditingChanged:function(t){this._updateEmojiBindings(null,t),this.async(function(){this.fire("iron-resize")})},_shareTap:function(t,i){window.appGlobals.activity("pointShareOpen",i.brand,this.point.id)},_pointUrl:function(t){if(t&&t.Post)return window.location.protocol+"//"+window.location.hostname+"/post/"+t.Post.id+"/"+t.id},_linkIfNeeded:function(){this.linkPoint&&this.goToPost(this.point.Post.id,this.point.id)},_updateEmojiBindings:function(t,i){t?this.async(function(){var t=this.$$("#pointContentEditor"),i=this.$$("#pointEmojiSelector");t&&i?i.inputTarget=t:console.error("Wide: Can't bind point edit emojis :(")}.bind(this),500):i&&this.async(function(){var t=this.$$("#pointAdminCommentEditor"),i=this.$$("#pointAdminCommentEmojiSelector");t&&i?i.inputTarget=t:console.error("Wide: Can't bind point edit emojis :(")}.bind(this),500)},_cancelEdit:function(){this.set("isEditing",!1)},_saveEdit:function(){this.$$("#editPointAjax").url="/api/points/"+this.point.id,this.$$("#editPointAjax").body={content:this.editText},this.$$("#editPointAjax").generateRequest()},_cancelAdminCommentEdit:function(){this.set("isAdminCommentEditing",!1)},_saveAdminCommentEdit:function(){this.$$("#editAdminCommentPointAjax").url="/api/groups/"+this.post.group_id+"/"+this.point.id+"/adminComment",this.$$("#editAdminCommentPointAjax").body={content:this.editAdminCommentText},this.$$("#editAdminCommentPointAjax").generateRequest()},_deletePoint:function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(t){t.open(this.t("point.confirmDelete"),this._reallyDeletePoint.bind(this))}.bind(this))},_reallyDeletePoint:function(){this.$$("#deletePointAjax").url="/api/points/"+this.point.id,this.$$("#deletePointAjax").body={},this.$$("#deletePointAjax").generateRequest()},_editResponse:function(t,i){if(i.response){var n=i.response;n.latestContent=n.PointRevisions[n.PointRevisions.length-1].content,this.set("point",n)}this.set("isEditing",!1)},_editAdminCommentResponse:function(t,i){i.response&&(this.point.public_data||(this.point.public_data={}),this.point.public_data.admin_comment={text:i.response.content},this.set("point",JSON.parse(JSON.stringify(this.point))),this.set("isAdminCommentEditing",!1),this.set("hasAdminComments",!0)),this.set("isAdminCommentEditing",!1)},_deleteResponse:function(){this.fire("yp-point-deleted",{pointId:this.point.id}),this.set("point",null)},_reportPoint:function(){window.appGlobals.activity("open","point.report"),Polymer.dom(document).querySelector("yp-app").getDialogAsync("apiActionDialog",function(t){t.setup("/api/points/"+this.point.id+"/report",this.t("reportConfirmation"),this._onReport.bind(this),this.t("point.report"),"PUT"),t.open()}.bind(this))},_onReport:function(){window.appGlobals.notifyUserViaToast(this.t("point.report")+": "+this.point.content)},_editPoint:function(){this._hasPointAccess(this.point)&&(this.set("editText",this.point.PointRevisions[this.point.PointRevisions.length-1].content),this.set("isEditing",!0))},_editAdminComment:function(){this.checkPostAdminOnlyAccess(this.point.Post)&&(this.set("editAdminCommentText",this.point.public_data&&this.point.public_data.admin_comment?this.point.public_data.admin_comment.text:""),this.set("isAdminCommentEditing",!0))},_hasPointAccess:function(t){return this.checkPointAccess(t)},_canEditPoint:function(t){return t&&(t.PointVideos&&0<t.PointVideos.length||t.PointAudios&&0<t.PointAudios.length)?this.checkPointAccess(t):t&&t.counter_quality_up+t.counter_quality_down<=this.maxNumberOfPointsBeforeEditFrozen&&window.appUser&&window.appUser.user&&window.appUser.user.id==t.user_id},_pointChanged:function(t,i){if(this.setupMediaEventListeners(t,i),this._resetMedia(),t){var n=!1;this.post&&this.post.Group.configuration&&this.post.Group.configuration.collapsableTranscripts&&this.set("openTranscript",!1),this.post&&this.post.Group.configuration&&this.post.Group.configuration.disableMachineTranscripts&&(n=!0),this.set("user",this.point.User);var e=this._getVideoURL(t.PointVideos),o=this._getVideoPosterURL(t.PointVideos);if(this.set("portraitVideo",this._isPortraitVideo(t.PointVideos)),e&&o)this.set("videoActive",!0),this.set("pointVideoPath",e),this.set("pointImageVideoPath",o),this.set("pointVideoId",t.PointVideos[0].id),this.set("checkTranscriptError",!1),n||"video"!==t.checkTranscriptFor||!0!==window.appGlobals.hasTranscriptSupport||(this.$.checkTranscriptStatusAjax.url="/api/points/"+t.id+"/videoTranscriptStatus",this.$.checkTranscriptStatusAjax.generateRequest(),this.set("checkingTranscript",!0),t.checkTranscriptFor=null);else{var s=this._getAudioURL(t.PointAudios);s&&(this.set("audioActive",!0),this.set("pointAudioPath",s),this.set("pointAudioId",t.PointAudios[0].id),this.set("checkTranscriptError",!1),n||"audio"!==t.checkTranscriptFor||!0!==window.appGlobals.hasTranscriptSupport||(this.$.checkTranscriptStatusAjax.url="/api/points/"+t.id+"/audioTranscriptStatus",this.$.checkTranscriptStatusAjax.generateRequest(),this.set("checkingTranscript",!0),t.checkTranscriptFor=null))}}else this.set("user",null),this.set("checkTranscriptError",!1)},_transcriptStatusResponse:function(t,i){if((i=i.response)&&i.point){var n=i.point;this.set("checkingTranscript",!1),n.latestContent=n.PointRevisions[n.PointRevisions.length-1].content,this.set("point",n),this.fire("yp-update-point-in-list",n),this._hasPointAccess(n)&&(this.set("editText",n.latestContent),this.set("isEditing",!0)),this.async(function(){this.fire("iron-resize")})}else i&&i.inProgress?this.async(function(){this.$.checkTranscriptStatusAjax.generateRequest()},2e3):i&&i.error?(this.set("checkingTranscript",!1),this.set("checkTranscriptError",!0)):this.set("checkingTranscript",!1)},_resetMedia:function(){this.set("videoActive",!1),this.set("pointVideoPath",null),this.set("pointImageVideoPath",null),this.set("pointVideoId",null),this.set("audioActive",!1),this.set("pointAudioPath",null),this.set("pointAudioId",null)},loginName:function(){return this.point.User.name},upVote:function(t){return t?0==t.value||0<t.value:(console.warn("Can't find point for upVote"),!1)},downVote:function(t){return t?0==t.value||t.value<0:(console.warn("Can't find point for upVote"),!1)},computeClass:function(t){var i="description ";return t?0<t.value?i+="for":i+="against":console.warn("Can't find point for upVote"),i}})</script></dom-module><dom-module id="ac-activity-point"assetpath="../ac-activities/"><template><style include="iron-flex iron-flex-alignment">.pointContainer{}.point{padding:8px;margin:8px;@apply --layout-vertical;}.pointText{margin-bottom:16px;padding:16px;width:360px;}yp-point{margin-bottom:36px;}@media (max-width: 480px){yp-point{width:100%;}}.pointLayout{width:46%;}.postName{padding-left:32px;font-weight:bold;font-size:24px;padding-bottom:12px;}.actionInfo{font-size:22px;margin-top:16px;padding-left:16px;}.post-name{font-size:26px;padding-bottom:8px;margin:0;padding-top:0;margin-top:8px;margin-left:24px;}.withCursor{cursor:pointer;}[hidden]{display:none !important;}</style><div class="layout vertical pointContainer"><div class="actionInfo withCursor"hidden$="[[!_isUpVote(activity.Point)]]"on-tap="_goToPoint">[[t('point.forAdded')]]...</div><div class="actionInfo withCursor"hidden$="[[!_isDownVote(activity.Point)]]"on-tap="_goToPoint">[[t('point.againstAdded')]]...</div><div class="layout vertical"><yp-magic-text class="post-name withCursor"on-tap="_goToPoint"text-only=""text-type="postName"content-language="[[activity.Post.language]]"content="[[activity.Post.name]]"content-id="[[activity.Post.id]]"></yp-magic-text><yp-point hide-user=""link-point$="[[!postId]]"class="card"point="[[activity.Point]]"></yp-point></div></div></template><script>Polymer({is:"ac-activity-point",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypGotoBehavior],properties:{activity:{type:Object,observer:"_activityChanged"},postId:{type:Number,value:null}},_goToPoint:function(){this.postId||this.goToPost(this.activity.Post.id,this.activity.Point.id,this.activity)},_activityChanged:function(){},_isUpVote:function(t){return t&&0<t.value},_isDownVote:function(t){return t&&t.value<0}})</script></dom-module><dom-module id="yp-point-comment"assetpath="../yp-point/"><template><style include="iron-flex iron-flex-alignment">.userName{color:#777;}yp-user-image{padding-top:16px;padding-right:8px;}.userName{padding-bottom:4px;}.comment{margin-left:8px;margin-right:8px;padding-bottom:4px;margin-bottom:8px;padding-top:16px;}.commentDash{border-bottom:dashed #ddd;border-bottom-width:1px;}yp-point-actions{padding-top:8px;}#reportPointIconButton{color:#ddd;width:36px;height:36px;}[hidden]{display:none !important;}#deleteButton{color:#bbb;}</style><lite-signal on-lite-signal-got-admin-rights="_gotAdminRights"></lite-signal><lite-signal on-lite-signal-logged-in="_userLoggedIn"></lite-signal><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><div class="layout horizontal"><div class="layout horizontal"><yp-user-image user="[[user]]"></yp-user-image></div><div class="layout vertical"><div class="comment">[[point.content]]<div class="layout horizontal"hidden$="[[!point]]"><yp-point-actions point="[[point]]"hide-sharing=""></yp-point-actions><paper-icon-button hidden=""hiddedn$="[[!loggedInUser]]"title$="[[t('point.report')]]"id="reportPointIconButton"icon="warning"on-tap="_reportPoint"></paper-icon-button><template is="dom-if"if="[[hasPointAccess]]"><div class="layout horizontal self-end"hidden$=""><yp-ajax id="deletePointAjax"method="DELETE"on-response="_deleteResponse"></yp-ajax><paper-icon-button id="deleteButton"title$="[[t('delete')]]"icon="clear"on-tap="_deletePoint"></paper-icon-button></div></template></div></div></div></div></template><script>Polymer({is:"yp-point-comment",properties:{point:{type:Object,notify:!0,observer:"_pointChanged"},user:{type:Object},hideUser:{type:Boolean,value:!1},hasPointAccess:{type:Boolean,computed:"_hasPointAccess(point, gotAdminRights, loggedInUser)"}},behaviors:[Polymer.ypLanguageBehavior,Polymer.AccessHelpers,Polymer.ypLoggedInUserBehavior,Polymer.ypGotAdminRightsBehavior],_deletePoint:function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(t){t.open(this.t("point.confirmDelete"),this._reallyDeletePoint.bind(this))}.bind(this))},_reallyDeletePoint:function(){this.$$("#deletePointAjax").url="/api/points/"+this.point.id,this.$$("#deletePointAjax").body={},this.$$("#deletePointAjax").generateRequest()},_editResponse:function(t,e){e.response&&this.set("point",e.response),this.set("isEditing",!1)},_deleteResponse:function(){this.fire("yp-point-deleted",{pointId:this.point.id}),this.fire("iron-resize"),this.set("point",null)},_reportPoint:function(){window.appGlobals.activity("open","point.report");Polymer.dom(document).querySelector("yp-app").getDialogAsync("apiActionDialog",function(t){t.setup("/api/points/"+this.point.id+"/report",this.t("reportConfirmation"),this._onReport.bind(this),this.t("point.report"),"PUT"),t.open()}.bind(this))},_onReport:function(){window.appGlobals.notifyUserViaToast(this.t("point.report")+": "+this.point.content)},_pointChanged:function(t){this.user=t?this.point.PointRevisions[0].User:null},_hasPointAccess:function(t){return this.checkPointAccess(t)},loginName:function(){return this.point.PointRevisions[0].User.name}})</script></dom-module><dom-module id="yp-point-comment-edit"assetpath="../yp-point/"><template><style include="iron-flex iron-flex-alignment">:host{display:block;width:100%;margin-top:6px;margin-bottom:64px;}paper-textarea{width:370px;max-height:300px;}paper-button{margin-top:16px;margin-bottom:16px;background-color:var(--accent-color);color:#FFF;}.userImage{padding-left:16px;padding-right:16px;}@media (max-width: 840px){:host{width:100%;}paper-textarea{width:250px;}.userImage{padding-top:8px;padding-right:16px;padding-left:0;}}[hidden]{display:none !important;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><div class="layout vertical center-center"hidden$="[[!loggedInUser]]"><div class="layout horizontal"><yp-user-image class="userImage"user="[[loggedInUser]]"></yp-user-image><div class="layout vertical"><paper-textarea id="pointComment"required=""minlength="15"name="pointComment"value="{{comment.content}}"always-float-label="[[comment.content]]"label="[[t('point.addComment')]]"aria-label$="[[t('point.addComment')]]"char-counter=""rows="2"max-rows="2"on-keydown="_keyDown"maxlength="200"></paper-textarea><div class="layout horizontal"><paper-button id="submitButton"raised=""on-tap="_sendComment">[[t('point.postComment')]]</paper-button></div></div></div><div class="layout horizontal center-center"><yp-ajax id="postCommentAjax"method="POST"on-error="_responseError"on-response="_newsCommentResponse"></yp-ajax></div></div><lite-signal on-lite-signal-logged-in="_userLoggedIn"></lite-signal></template><script>Polymer({is:"yp-point-comment-edit",properties:{comment:{type:Object,notify:!0},point:{type:Object,notify:!0},image:{type:Object,notify:!0}},behaviors:[Polymer.ypLanguageBehavior,Polymer.ypLoggedInUserBehavior],observers:["_commentContentChanged(comment.*)"],ready:function(){this._reset()},_commentContentChanged:function(t){t.value&&2==t.value.length%7&&this.fire("iron-resize")},_responseError:function(){this.$$("#submitButton").disabled=!1},_reset:function(){this.set("comment",{content:""}),this.$$("#submitButton").disabled=!1},_sendComment:function(){var t;this.comment.content&&0<this.comment.content.length?(this.point?(t={point_id:this.point.id},this.$.postCommentAjax.url="/api/points/"+this.point.id+"/comment",this.$$("#submitButton").disabled=!0):this.image?(t={image_id:this.image.id},this.$.postCommentAjax.url="/api/images/"+this.image.id+"/comment",this.$$("#submitButton").disabled=!0):console.error("Can't find send ids"),this.$.postCommentAjax.body=__.merge(t,{comment:this.comment,pointBaseId:window.appUser.getBrowserId(),pointValCode:window.appUser.browserFingerprint,pointConf:window.appUser.browserFingerprintConfidence}),this.$.postCommentAjax.generateRequest()):this.$.postCommentAjax.showErrorDialog(this.t("point.commentToShort"))},_newsCommentResponse:function(){this.fire("refresh"),this._reset()},_keyDown:function(t){"enter"==t.code&&this._sendComment()}})</script></dom-module><dom-module id="yp-point-comment-list"assetpath="../yp-point/"><template><style include="iron-flex iron-flex-alignment">:host{width:100%;}yp-point-comment-edit{}iron-list{max-height:500px;width:550px;--iron-list-items-container:{};}.listContainer{padding-top:24px;height:100%;width:100%;}.container{}#commentCount{font-size:14px;}paper-icon-button.openCloseButton{width:56px;height:56px;padding-left:0;margin-left:0;}.commentText{font-size:14px;text-transform:lowercase;padding-right:6px;}@media (max-width: 520px){iron-list{width:420px;}}@media (max-width: 450px){iron-list{width:318px;}}@media (max-width: 359px){iron-list{width:307px;}}[hidden]{display:none !important;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><div class="container layout vertical"><div class="layout horizontal start-justified"hidden$="[[disableOpenClose]]"><div class="layout horizontal center-center"hidden$="[[!commentsCount]]"><div class="commentText">[[t('point.comments')]]</div><div id="commentCount">[[commentsCount]]</div></div><div class="layout horizontal center-center"hidden$="[[_noComments(commentsCount)]]"><div class="commentText">[[t('noComments')]]</div></div><div class="layout horizontal"><paper-icon-button title$="[[t('openComments')]]"class="openCloseButton"icon="keyboard-arrow-right"on-tap="_setOpen"hidden$="[[open]]"></paper-icon-button><paper-icon-button title$="[[t('closeComments')]]"class="openCloseButton"icon="keyboard-arrow-down"on-tap="_setClosed"hidden$="[[!open]]"></paper-icon-button></div></div><template is="dom-if"if="[[open]]"restamp=""><div class="layout vertical listContainer"><iron-list id="list"items="[[comments]]"as="point"><template><yp-point-comment point="[[point]]"tabindex$="[[tabIndex]]"></yp-point-comment></template></iron-list><yp-point-comment-edit on-refresh="_refresh"point="[[point]]"image="[[image]]"></yp-point-comment-edit></div></template><div class="layout horizontal center-center"><yp-ajax id="commentsListAjax"method="GET"on-response="_commentsResponse"></yp-ajax><yp-ajax id="commentsCountListAjax"method="GET"on-response="_countResponse"></yp-ajax></div></div></template><script>Polymer({is:"yp-point-comment-list",properties:{comments:{type:Array},point:{type:Object,notify:!0,observer:"_pointChanged"},image:{type:Object,notify:!0,observer:"_imageChanged"},open:{type:Boolean,value:!1,observer:"_openChanged"},loadingList:{type:Boolean},commentsCount:{type:Number,value:null},disableOpenClose:{type:Boolean,value:!1}},behaviors:[Polymer.ypLanguageBehavior,Polymer.IronResizableBehavior],listeners:{"yp-point-deleted":"_refresh"},_openChanged:function(e){e&&this.$.commentsListAjax.generateRequest()},_noComments:function(e){return!(0==e)},_setOpen:function(){this.set("open",!0),this.async(function(){this.notifyResize(),this.fire("iron-resize")},20)},_setClosed:function(){this.set("open",!1),this.async(function(){this.fire("iron-resize"),this.notifyResize()},20)},generateRequest:function(){this.$.commentsListAjax.generateRequest()},_pointChanged:function(e){this.set("comments",[]),this.set("commentsCount",null),e&&(this.$.commentsListAjax.url="/api/points/"+e.id+"/comments",this.$.commentsCountListAjax.url="/api/points/"+e.id+"/commentsCount",this.$.commentsCountListAjax.generateRequest())},_refresh:function(){this.$.commentsListAjax.generateRequest(),this.$.commentsCountListAjax.generateRequest()},_imageChanged:function(e){e&&(this.$.commentsListAjax.url="/api/images/"+e.id+"/comments",this.$.commentsCountListAjax.url="/api/images/"+e.id+"/commentsCount",this.$.commentsCountListAjax.generateRequest())},_countResponse:function(e,t){this.set("commentsCount",t.response.count),this.fire("yp-set-comments-count",{count:this.commentsCount})},_commentsResponse:function(e,t){var n=t.response;this.set("comments",n),n&&0<n.length&&this.$$("#list").scrollToIndex(n.length-1),this.notifyResize(),this.async(function(){this.$$("#list").fire("iron-resize")})}})</script></dom-module><dom-module id="yp-point-news-story"assetpath="../yp-point/"><template><style include="iron-flex iron-flex-alignment">:host{width:100%;margin-top:8px;}.userName{color:#777;}.userName{padding-bottom:4px;}.story{padding-bottom:12px;margin-bottom:8px;padding-top:8px;border-bottom:solid #ddd;border-bottom-width:1px;font-size:19px;}yp-point-actions{padding-top:8px;}.container{}#commentCount{font-size:14px;}paper-icon-button.openCloseButton{width:56px;height:56px;padding-left:0;margin-left:0;}.commentText{font-size:14px;text-transform:lowercase;padding-right:6px;}.withPointer{cursor:pointer;}.newsContainer{width:auto;}[hidden]{display:none !important;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><div class="layout vertical newsContainer"><yp-magic-text id="content"class="story"text-type="pointContent"content-language="[[point.language]]"simple-format=""content="[[point.latestContent]]"content-id="[[point.id]]"truncate="10000"></yp-magic-text><yp-point-news-story-embed embed-data="[[point.embed_data]]"></yp-point-news-story-embed><div class="layout horizontal"><yp-point-actions point="[[point]]"hide-sharing=""></yp-point-actions><div class="layout horizontal start-justified"><div class="layout horizontal center-center withPointer"hidden$="[[!commentsCount]]"on-tap="_setOpenToValue"><div class="commentText">[[t('point.comments')]]</div><div id="commentCount">[[commentsCount]]</div></div><div class="layout horizontal center-center withPointer"on-tap="_setOpenToValue"hidden$="[[_noComments(commentsCount)]]"><div class="commentText">[[t('noComments')]]</div></div><div class="layout horizontal"><paper-icon-button aria-label$="[[t('toggleOpenClose')]]"class="openCloseButton"icon="keyboard-arrow-right"on-tap="_setOpen"hidden$="[[open]]"></paper-icon-button><paper-icon-button aria-label$="[[t('toggleOpenClose')]]"class="openCloseButton"icon="keyboard-arrow-down"on-tap="_setClosed"hidden$="[[!open]]"></paper-icon-button></div></div></div><yp-point-comment-list id="commentsList"on-yp-set-comments-count="_setCommentsCount"disable-open-close=""point="[[point]]"hidden$="[[!withComments]]"></yp-point-comment-list></div></template><script>Polymer({is:"yp-point-news-story",properties:{point:{type:Object,notify:!0,observer:"_pointChanged"},withComments:{type:Boolean,value:!1},open:{type:Boolean,value:!1,observer:"_openChanged"},user:{type:Object},hideUser:{type:Boolean,value:!1},commentsCount:{type:Number,value:0}},behaviors:[Polymer.ypLanguageBehavior],_setOpenToValue:function(){this.open?this._setClosed():this._setOpen()},_openChanged:function(e){e&&this.$.commentsList.generateRequest()},_noComments:function(e){return!(0==e)},_setOpen:function(){this.set("open",!0),this.$.commentsList._setOpen()},_setClosed:function(){this.set("open",!1),this.$.commentsList._setClosed()},_setCommentsCount:function(e,t){this.set("commentsCount",t.count)},_pointChanged:function(e){this.user=e?e.PointRevisions[0].User:null,this.set("open",!1)},loginName:function(){return this.point.PointRevisions[0].User.name}})</script></dom-module><dom-module id="ac-activity-point-news-story"assetpath="../ac-activities/"><template><style include="iron-flex iron-flex-alignment">:host{width:100%;}.newsStoryContainer{padding-left:8px;padding-right:8px;}.postName{cursor:pointer;margin-top:16px;padding-left:8px;padding-right:8px;color:#555;}.groupTitle{font-size:15px;color:#777;padding-bottom:16px;margin:0;padding-top:0;}.hasPointer{cursor:pointer;}.mainContainer{width:auto;}[hidden]{display:none !important;}</style><div class="layout vertical mainContainer"><yp-magic-text on-tap="_goToPost"class="postName"hidden$="[[!activity.Post.name]]"text-only=""text-type="postName"content-language="[[activity.Post.language]]"content="[[activity.Post.name]]"content-id="[[activity.Post.id]]"></yp-magic-text><div class="layout vertical center-center newsStoryContainer"><yp-point-news-story with-comments=""hide-user=""class="card"point="[[activity.Point]]"></yp-point-news-story></div><template is="dom-if"if="[[hasGroupHeader]]"><div class="groupTitle layout horizontal center-center">[[groupTitle]]</div></template></div></template><script>Polymer({is:"ac-activity-point-news-story",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypActivityGroupTitleBehavior,Polymer.ypGotoBehavior],properties:{activity:{type:Object},postId:{type:Boolean,value:null}},_goToPost:function(){this.goToPost(this.activity.Post.id,null,this.activity)},_hidePostName:function(){return null!=this.postId}})</script></dom-module><dom-module id="ac-activity-post-status-update"assetpath="../ac-activities/"><template><style include="iron-flex iron-flex-alignment">:host{}.statusChange{padding-left:32px;padding-right:32px;margin-bottom:64px;font-size:16px;overflow-y:auto;max-height:360px;}.postName{padding-left:32px;padding-right:32px;font-weight:bold;font-size:19px;margin-bottom:8px;color:#444;cursor:pointer;}.groupName{padding-left:32px;padding:16px;font-size:14px;padding-bottom:8px;}</style><div class="layout vertical"><div class="groupName">[[activity.Group.name]]</div><yp-magic-text on-tap="_goToPost"class="postName"text-only=""text-type="postName"content-language="[[activity.Post.language]]"content="[[activity.Post.name]]"content-id="[[activity.Post.id]]"></yp-magic-text><yp-magic-text id="statusChange"class="statusChange"extra-id="[[activity.Post.id]]"text-type="statusChangeContent"content-language="[[activity.PostStatusChange.language]]"simple-format=""content="[[statusContent]]"content-id="[[activity.PostStatusChange.id]]"></yp-magic-text></div></template><script>Polymer({is:"ac-activity-post-status-update",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypGotoBehavior],properties:{activity:{type:Object},statusContent:{type:String,computed:"_statusContent(activity)"}},_goToPost:function(){this.activity.Post&&this.goToPost(this.activity.Post.id,null,this.activity)},_statusContent:function(t){if(t&&t.PostStatusChange&&t.PostStatusChange.content)return t.PostStatusChange.content},formatContent:function(t){return t&&t?t.replace(/(\r\n)/g,"<br>"):""}})</script></dom-module><dom-module id="ac-activity"assetpath="../ac-activities/"><template><style include="iron-flex iron-flex-alignment">.activity{margin:16px;background-color:#FFF;width:550px;height:100%;padding-left:16px;padding-right:16px;margin-bottom:0;}@media (max-width: 600px){.activity{width:100%;height:100%;margin:0;padding-left:16px;padding-right:16px;margin-bottom:8px;margin-top:8px;width:-webkit-calc(100% - 8px);width:-moz-calc(100% - 8px);width:calc(100% - 8px);}.activity[logged-in-user]{margin-left:0;width:-webkit-calc(100% - 16px);width:-moz-calc(100% - 16px);width:calc(100% - 16px);}}.aaaactivity[is-old-safari-or-ie]{height:550px;overflow:auto;}.mainActivityContent{height:100% !important;}ac-activity-header{}ac-activity-post{width :100%;}.headerUserImage{padding-top:16px;}h1{font-size:24px;}paper-button{color:var(--accent-color);}iron-icon{width:48px;height:48px;padding-top:14px;}.createdAt{color:#777;margin-top:16px;font-size:14px;}yp-ajax{background-color:var(--primary-background-color);}.deleteIcon{position:absolute;right:8px;bottom:8px;color:#ddd;}[hidden]{display:none !important;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><paper-material is-old-safari-or-ie$="[[isOldSafariOrIe]]"logged-in-user$="[[hasLoggedInUser]]"elevation="[[_elevationForType(activity.type)]]"class="layout vertical activity"tabindex$="[[tabIndex]]"><template is="dom-if"if="[[hasActivityAccess]]"><paper-icon-button title$="[[t('deleteActivity')]]"icon="delete"data-args$="[[activity.id]]"class="deleteIcon"on-tap="_deleteActivity"></paper-icon-button></template><div class="mainActivityContent"><div class="layout horizontal"><ac-activity-header class="layout horizontal headerUserImage"activity="[[activity]]"></ac-activity-header><div class="flex"></div><div hidden$="[[!wide]]"class="createdAt"title="[[fromLongTime(activity.created_at)]]">[[fromTime(activity.created_at)]]</div></div><template is="dom-if"if="[[_isActivityType(activity,'activity.post.new')]]"><ac-activity-post activity="[[activity]]"post-id$="[[postId]]"community-id="[[communityId]]"group-id="[[groupId]]"></ac-activity-post></template><template is="dom-if"if="[[_isActivityType(activity,'activity.point.new')]]"><ac-activity-point post-id$="[[postId]]"activity="[[activity]]"></ac-activity-point></template><template is="dom-if"if="[[_isActivityType(activity,'activity.point.newsStory.new')]]"><ac-activity-point-news-story activity="[[activity]]"post-id="[[postId]]"community-id="[[communityId]]"group-id="[[groupId]]"></ac-activity-point-news-story></template><template is="dom-if"if="[[_isActivityType(activity,'activity.post.status.change')]]"><ac-activity-post-status-update activity="[[activity]]"></ac-activity-post-status-update></template></div></paper-material><iron-media-query query="(min-width: 600px)"query-matches="{{wide}}"></iron-media-query><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal></template><script>Polymer({is:"ac-activity",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypLoggedInUserBehavior,Polymer.AccessHelpers],properties:{activity:{type:Object},domainId:{type:Number},communityId:{type:Number},groupId:{type:Number},postId:{type:Number},postGroupId:{type:Number},wide:{type:Boolean,value:!1},isOldSafariOrIe:{type:Boolean,computed:"_isOldSafariOrIe(wide)"},hasActivityAccess:{type:Boolean,computed:"_hasActivityAccess(activity, hasLoggedInUser)"},hasLoggedInUser:{type:Boolean,value:!1}},fromTime:function(e){return moment(e).fromNow()},fromLongTime:function(e){return moment(e).format()},_isOldSafariOrIe:function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)&&!/10/i.test(navigator.userAgent)&&!window.MSStream},_elevationForType:function(){return 1},_hasActivityAccess:function(e){return!!e&&(this.domainId?this.checkDomainAccess(e.Domain):this.communityId?this.checkCommunityAccess(e.Community):this.groupId?this.checkGroupAccess(e.Group):!!this.postId&&this.checkPostAccess(e.Post))},_deleteActivity:function(){this.fire("ak-delete-activity",{id:this.activity.id})},_isNotActivityType:function(e,t){return e.type!=t},_isActivityType:function(e,t){return e.type==t}})</script></dom-module><dom-module id="ac-activity-recommended-posts"assetpath="../ac-activities/"><template><style include="iron-flex iron-flex-alignment">:host{display:block;height:100%;background-color:var(--primary-background-color);}.container{width:220px;height:100% !important;}.descriptionOuter{@apply --layout-vertical;color:var(--primary-color-more-darker, #424242);margin:0;padding-left:16px;padding-right:16px;}.description, .post-name{padding-left:16px;padding-right:16px;}.post-name{font-size:15px;padding:16px;margin:0;background-color:#FFF;color:#333;text-align:center;}.voting{position:absolute;bottom:0;right:16px;}.card-actions{position:absolute;bottom:36px;right:0;}.category-icon{width:64px;height:64px;}.category-image-container{text-align:right;margin-top:-52px;}.postCardCursor{cursor:pointer;}yp-post-cover-media{width:220px;height:124px;}.postCard{width:200px;background-color:#fff;@apply --layout-horizontal;}@media (max-width: 960px){:host{width:420px;}.postCard{height:100%;width:420px;@apply --layout-wrap;}yp-post-cover-media{width:300px;height:166px;}.voting{padding-left:0;padding-right:0;}.card-actions{width:320px;}.card-content{width:420px !important;padding-bottom:74px;}.description{width:300px;}}:host{width:304px;}.postCard{height:100% !important;width:304px !important;}@media (max-width: 420px){.description{width:290px;}yp-post-cover-media{width:304px !important;height:168px !important;}}.postContainer{margin-bottom:16px;margin-left:16px;margin-right:16px;max-width:220px;width:220px;}.postItem{background-color:#FFF !important;}.headerText{font-size:20px;margin:16px;max-width:220px;padding-top:8px;padding-bottom:8px;width:220px;color:#FFF;background-color:var(--primary-color-700);}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><div class="headerText layout horizontal center-center">[[t('recommendedPosts')]]</div><template is="dom-repeat"items="[[recommendedPosts]]"as="post"><div class="postContainer"><paper-material elevation="1"class="postItem"><div class="layout vertical postItem"on-tap="goToPost"><div class="layout horizontal"><yp-post-cover-media tiny=""post="[[post]]"></yp-post-cover-media></div><div class="post-name layout horizontal center-center">[[post.name]]</div></div></paper-material></div></template></template><script>Polymer({is:"ac-activity-recommended-posts",behaviors:[Polymer.ypLanguageBehavior,Polymer.YpPostBehavior,Polymer.ypTruncateBehavior,Polymer.ypMediaFormatsBehavior,Polymer.ypGotoBehavior],properties:{recommendedPosts:{type:Array,value:null,observer:"_recommendedPostsChanged"}},_recommendedPostsChanged:function(){}})</script></dom-module><dom-module id="ac-activities"assetpath="../ac-activities/"><template><style include="iron-flex iron-flex-alignment">:host{height:100%;}iron-list{height:100vh;}.addNewsBox{background-color:#FFF;width:550px;height:100%;padding-left:16px;padding-right:16px;margin-top:16px;margin-left:16px;margin-right:16px;}@media (max-width: 600px){.addNewsBox{width:100%;height:100%;margin-bottom:8px;margin-top:8px;margin-left:0;margin-right:0;width:-webkit-calc(100% - 16px);width:-moz-calc(100% - 16px);width:calc(100% - 16px);}}@media (max-width: 340px){.addNewsBox{width:100%;height:100%;margin-bottom:8px;margin-top:8px;margin-left:0;margin-right:0;width:-webkit-calc(100% - 36px);width:-moz-calc(100% - 36px);width:calc(100% - 36px);}}.activityContainer{width:550px;margin:0;padding:0;}@media (max-width: 600px){.activityContainer{width:100%;}}.recommendedPosts[not-active]{display:none;}.recommendedPosts[small]{display:none;}.mainActivityContent{height:100% !important;}.headerUserImage{padding-top:16px;}h1{font-size:24px;}paper-button{color:var(--accent-color);}iron-icon{width:48px;height:48px;padding-top:14px;}.createdAt{color:#777;margin-top:16px;font-size:14px;}yp-ajax{background-color:var(--primary-background-color);}.deleteIcon{position:absolute;right:8px;bottom:8px;color:#ddd;}.withCursor{cursor:pointer;}.activityContainer{width:100%;}@-moz-document url-prefix(){.activityContainer{margin-bottom:16px;}}@media (max-width: 960px){.recommendedPosts{display:none !important;}}.topLevelActivitiesContainer[wide]{@apply --layout-center-center;}[hidden]{display:none !important;}.spinnerContainer{margin-top:32px;}.topSpinnerContainer{margin-top:16px;}:focus{}.notLoggedInButton{margin-top:8px;width:250px;background-color:#FFF;margin-bottom:8px;text-align:center;}.topLevelActivitiesContainer[rtl]{direction:rtl;}</style><div class="layout horizontal topLevelActivitiesContainer"wide$="[[wide]]"rtl$="[[rtl]]"><div class="layout vertical self-start"><template is="dom-if"if="[[loggedInUser]]"><paper-material logged-in-user$="[[hasLoggedInUser]]"elevation="1"class="layout horizontal addNewsBox"hidden$="[[closeNewsfeedSubmissions]]"><yp-point-news-story-edit domain-id="[[domainId]]"community-id="[[communityId]]"group-id="[[groupId]]"post-group-id="[[postGroupId]]"post-id="[[postId]]"on-refresh="loadNewData"></yp-point-news-story-edit></paper-material></template><template is="dom-if"if="[[!loggedInUser]]"><div class="layout vertical center-center"><paper-button raised=""class="layout horizontal notLoggedInButton"on-tap="_openLogin">[[t('loginToShareALink')]]</paper-button></div></template><div class="layout horizontal center-center topSpinnerContainer"hidden$="[[gotInitialData]]"><yp-ajax id="ajax"large-spinner=""on-response="_activitiesResponse"></yp-ajax></div><iron-list id="ironList"scroll-offset$="[[ironListPaddingTop]]"scroll-target="document"items="[[activities]]"as="activity"><template><div tabindex$="[[tabIndex]]"class="layout vertical center-center"><ac-activity has-logged-in-user="[[hasLoggedInUser]]"class="activityContainer"activity="[[activity]]"post-id="[[postId]]"group-id="[[groupId]]"community-id="[[communityId]]"domain-id="[[domainId]]"on-ak-delete-activity="_deleteActivity"></ac-activity></div></template></iron-list><div class="layout horizontal center-center spinnerContainer"><yp-ajax id="deleteActivityAjax"method="DELETE"large-spinner=""on-response="_activityDeletedResponse"></yp-ajax></div></div><div class="layout vertical self-start recommendedPosts"not-active$="[[noRecommendedPosts]]"small$="[[!wide]]"hidden$="[[!recommendedPosts]]"><ac-activity-recommended-posts id="recommendedPosts"recommended-posts="[[recommendedPosts]]"class="layout vertical"></ac-activity-recommended-posts><div class="layout horizontal center-center"><yp-ajax id="recommendationAjax"large-spinner=""on-response="_recommendedPostsResponse"></yp-ajax></div></div></div><iron-media-query query="(min-width: 600px)"query-matches="{{wide}}"></iron-media-query><lite-signal on-lite-signal-logged-in="_userLoggedIn"></lite-signal><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><lite-signal on-lite-signal-yp-refresh-activities-scroll-threshold="_clearScrollThreshold"></lite-signal><iron-scroll-threshold id="scrollTheshold"lower-threshold="450"on-lower-threshold="_loadMoreData"scroll-target="document"></iron-scroll-threshold></template><script>Polymer({is:"ac-activities",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypLoggedInUserBehavior,Polymer.AccessHelpers,Polymer.ypIronListBehavior],properties:{disableNewPosts:{type:Boolean,value:!1},activities:{type:Array,notify:!0},domainId:{type:Number,observer:"_domainIdChanged"},communityId:{type:Number,observer:"_communityIdChanged"},groupId:{type:Number,observer:"_groupIdChanged"},postId:{type:Number,observer:"_postIdChanged"},postGroupId:{type:Number},rtl:{type:Boolean,value:!1},closeNewsfeedSubmissions:{type:Boolean,value:!1},mode:{type:String,value:"activities"},url:{type:String},oldestProcessedActivityAt:{type:Date},latestProcessedActivityAt:{type:Date},activityIdToDelete:{type:Number},wide:{type:Boolean,value:!1},selectedTab:{type:String},recommendedPosts:{type:Array,value:null},noRecommendedPosts:{type:Boolean,value:!0},skipIronListWidth:{type:Boolean,computed:"_skipIronListWidth(wide)"},ironListResizeScrollThreshold:{type:Number,computed:"_ironListResizeScrollThreshold(wide)"},ironListPaddingTop:{type:Number,computed:"_ironListPaddingTop(wide, groupId, hasLoggedInUser, selectedTab)"},wideListOffset:{type:String,computed:"_wideListOffset(groupId)"},hasLoggedInUser:{type:Boolean,computed:"_hasLoggedInUser(loggedInUser)"},gotInitialData:{type:Boolean,value:!1}},listeners:{"yp-point-deleted":"_pointDeleted"},_openLogin:function(){this.fire("yp-open-login")},_pointDeleted:function(t,e){for(var i=0;i<this.activities.length;i++)this.activities[i].Point&&this.activities[i].Point.id==e.pointId&&this._removeActivityId(this.activities[i].id)},_hasLoggedInUser:function(t){return!!t},_wideListOffset:function(t){return t?"800":"415"},_ironListResizeScrollThreshold:function(t){return t?800:300},_ironListPaddingTop:function(t,e,i){var s=this.$.ironList.offsetTop;return s-=75,i||e||(s-=75),0<s?console.info("News scroll offset: "+s):(s=e?t?i?700:580:i?950:690:t?i?600:400:i?700:610,console.info("News (manual) scroll offset: "+s)),s},_skipIronListWidth:function(t){if(t){var e=this.$$("#ironList");e.style.width="600px",e.updateViewportBoundaries(),this.async(function(){e.notifyResize()},50)}return t},_activityDeletedResponse:function(t,e){this._removeActivityId(e.response.activityId)},_removeActivityId:function(t){for(var e=0;e<this.activities.length;e++)this.activities[e].id==t&&this.splice("activities",e,1);this.$$("#ironList").fire("iron-resize")},_deleteActivity:function(t,e){this.set("activityIdToDelete",e.id),Polymer.dom(document).querySelector("yp-app").getDialogAsync("confirmationDialog",function(t){t.open(this.t("activity.confirmDelete"),this._reallyDelete.bind(this))}.bind(this))},_reallyDelete:function(){this.domainId?this.$.deleteActivityAjax.url="/api/domains/"+this.domainId+"/"+this.activityIdToDelete+"/delete_activity":this.communityId?this.$.deleteActivityAjax.url="/api/communities/"+this.communityId+"/"+this.activityIdToDelete+"/delete_activity":this.groupId?this.$.deleteActivityAjax.url="/api/groups/"+this.groupId+"/"+this.activityIdToDelete+"/delete_activity":this.postId&&(this.$.deleteActivityAjax.url="/api/posts/"+this.postId+"/"+this.activityIdToDelete+"/delete_activity"),this.$.deleteActivityAjax.body={},this.$.deleteActivityAjax.generateRequest(),this.set("activityIdToDelete",null)},_generateRequest:function(t,e){t&&(this.set("activities",[]),this.set("oldestProcessedActivityAt",null),this.set("noRecommendedPosts",!0),this.mode="activities",this.set("url","/api/"+this.mode+"/"+e+"/"+t),this.$.ajax.url=this.url,this.$.ajax.generateRequest(),"posts"!=e&&(this.$.recommendationAjax.url="/api/recommendations/"+e+"/"+t,this.$.recommendationAjax.generateRequest()))},_loadMoreData:function(){this.async(function(){console.log("_loadMoreData for scroll"),0<this.$$("#ironList").offsetWidth&&0<this.$$("#ironList").offsetHeight?(console.log("_loadMoreData for scroll 2 url: "+this.url+" moreToLoad: "+this.moreToLoad),""!=this.url&&this.moreToLoad&&this.oldestProcessedActivityAt&&(console.log("_loadMoreData for scroll 3"),this.set("moreToLoad",!1),console.info("_loadMoreData for scroll for domainId: "+this.domainId+" communityId: "+this.communityId+" groupId: "+this.groupId+" postId: "+this.postId),this.$.ajax.url=this.url+"?beforeDate="+this.oldestProcessedActivityAt,this.$.ajax.generateRequest())):console.warn("NOT VISIBLE for domainId: "+this.domainId+" communityId: "+this.communityId+" groupId: "+this.groupId+" postId: "+this.postId)})},loadNewData:function(){""!=this.url&&this.latestProcessedActivityAt?(this.$.ajax.url=this.url+"?afterDate="+this.latestProcessedActivityAt,this.$.ajax.generateRequest()):this.latestProcessedActivityAt||(this.$.ajax.url=this.url,this.$.ajax.generateRequest())},_domainIdChanged:function(t){this.set("activities",null),this.set("recommendedPosts",null),this._generateRequest(t,"domains")},_communityIdChanged:function(t){this.set("activities",null),this.set("recommendedPosts",null),this._generateRequest(t,"communities")},_groupIdChanged:function(t){this.set("activities",null),this.set("recommendedPosts",null),this._generateRequest(t,"groups")},_postIdChanged:function(t){this.set("activities",null),this.set("recommendedPosts",null),this._generateRequest(t,"posts")},_clearScrollThreshold:function(){this.$$("#scrollTheshold").clearTriggers(),console.info("Clearing scrolling triggers for activity")},_recommendedPostsResponse:function(t,e){var i=!0;this.activities&&0<this.activities.length&&(this.activities[0].Group&&this.activities[0].Group.configuration&&this.activities[0].Group.configuration.hideRecommendationOnNewsFeed&&(i=!1),this.activities[0].Community&&this.activities[0].Community.configuration&&this.activities[0].Community.configuration.hideRecommendationOnNewsFeed&&(i=!1)),i&&e.response&&0<e.response.length?(this.set("recommendedPosts",e.response),this.set("noRecommendedPosts",!1)):this.set("noRecommendedPosts",!0)},_preProcessActivities:function(t){for(var e=0;e<t.length;e++)t[e].Point&&(t[e].Point.latestContent=t[e].Point.PointRevisions[t[e].Point.PointRevisions.length-1].content);return t},_activitiesResponse:function(t,e){var i=this._preProcessActivities(e.response.activities);this.set("gotInitialData",!0),e.response.oldestProcessedActivityAt?this.set("oldestProcessedActivityAt",e.response.oldestProcessedActivityAt):console.warn("Have not set oldestProcessedActivityAt");for(var s=0;s<i.length;s++)-1<this.$.ajax.url.indexOf("afterDate")?this.unshift("activities",i[s]):this.push("activities",i[s]);console.info("Activities length: "+i.length),0<i.length&&((!this.latestProcessedActivityAt||this.latestProcessedActivityAt<i[0].created_at)&&this.set("latestProcessedActivityAt",i[0].created_at),this.latestProcessedActivityAt?console.log("latestProcessedActivityAt: "+this.latestProcessedActivityAt):console.error("Have not set latest processed activity at"),this.set("moreToLoad",!0),(this.activities.length<15||i.length<3&&this.activities.length<100)&&this._loadMoreData()),document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"yp-refresh-activities-scroll-threshold",data:{}}})),this.async(function(){this.$.ironList.fire("iron-resize")}),this.set("closeNewsfeedSubmissions",!1),this.activities&&0<this.activities.length&&(this.activities[0].Group&&this.activities[0].Group.configuration&&this.activities[0].Group.configuration.closeNewsfeedSubmissions?this.set("closeNewsfeedSubmissions",!0):this.activities[0].Community&&this.activities[0].Community.configuration&&this.activities[0].Community.configuration.closeNewsfeedSubmissions&&this.set("closeNewsfeedSubmissions",!0))},scrollToItem:function(t){console.log("Activity scrolling to item"),this.$.ironList.scrollToItem(t),this.async(function(){this._clearScrollThreshold()})},fireResize:function(){console.log("fireResize"),this.$.ironList.fire("iron-resize")}})</script></dom-module><dom-module id="yp-rating"assetpath="../yp-rating/"><template><style>:host{display:block;}.rating-wrapper{unicode-bidi:bidi-override;direction:rtl;text-align:center;}.rating-wrapper > span{display:inline-block;position:relative;width:1.35em;font-size:1.6em;cursor:pointer;opacity:0.4;-webkit-filter:grayscale(50%);filter:grayscale(50%);}.rating-wrapper[voting-disabled] > span{cursor:initial;}.rating-wrapper > span.active,

      .rating-wrapper > span.active ~ span{opacity:1;-webkit-filter:grayscale(0%);filter:grayscale(0%);}@media (pointer: fine){.rating-wrapper:not([read-only]):hover > span.active,
        .rating-wrapper:not([read-only]):hover > span.active ~ span{opacity:0.4;}.rating-wrapper:not([read-only]) > span:hover,
        .rating-wrapper:not([read-only]) > span:hover ~ span,
        .rating-wrapper:not([read-only]) > span.active:hover ~ span{opacity:0.8 !important;-webkit-filter:grayscale(0%);filter:grayscale(0%);}.rating-wrapper:not([read-only]) > span:hover{opacity:0.9 !important;-webkit-filter:grayscale(0%);filter:grayscale(0%);}}.rating-wrapper > span.totals{opacity:1 !important;margin-left:50px;}.rating-wrapper:not([read-only]) > span.totals:hover{opacity:1 !important;}.rating-wrapper[read-only] > span{}.rating-wrapper[read-only] > span{font-size:0.8em !important;width:1.248em;}:host[read-only]{}</style><div class="rating-wrapper"voting-disabled$="[[votingDisabled]]"read-only$="[[readOnly]]"><template id="rating"is="dom-repeat"items="{{currentRatings}}"><span class$="{{isActive(numberOf, index, rate)}}"on-tap="_setRate"data-index$="{{index}}">[[emoji]]</span></template></div></template><script>Polymer({is:"yp-rating",properties:{emoji:{type:String},votingDisabled:{type:Boolean,value:!1},ratingIndex:{type:Number,value:null},numberOf:{type:Number},rate:{type:Number,value:0,reflectToAttribute:!0,notify:!0},postId:{type:String,value:null,observer:"_postIdChanged"},readOnly:{type:Boolean,value:!1},currentRatings:{type:Array,value:[]}},isActive:function(t,e){return t<=e?"active":""},_postIdChanged:function(){this._resetRatings()},_resetRatings:function(){"string"==typeof this.rate&&(this.rate=parseFloat(this.rate)),this.rate=Math.round(this.rate),this.set("currentRatings",[]);var i=Polymer.dom(this.root);this.async(function(){"string"==typeof this.numberOf&&(this.numberOf=parseInt(this.numberOf)),5<this.numberOf&&(this.numberOf=5);for(var t=this.numberOf-1;0<=t;t--)this.push("currentRatings",t+1);this.rate&&0<this.rate&&this.async(function(){for(var t,e=-1*this.rate+this.numberOf,r=this.numberOf-1;e<=r;r--)(t=(t=i.querySelectorAll('[data-index="'+r+'"]'))[0])?t.classList.add("active"):console.warn("No selector found for rating")})})},_setRate:function(t){var e=Polymer.dom(this.root);if(!this.readOnly){var r=t.model.index,i=-1*this.rate+this.numberOf,s=this.rate;this.rate=-1*(r-this.numberOf),s!==this.rate?this.fire("yp-rating-add",{postId:this.postId,ratingIndex:this.ratingIndex,rate:this.rate}):(this.fire("yp-rating-delete",{postId:this.postId,ratingIndex:this.ratingIndex}),this.set("rate",0),this._resetRatings()),i<this.numberOf&&e.querySelectorAll('[data-index="'+i+'"]')[0].classList.remove("active"),e.querySelectorAll('[data-index="'+r+'"]')[0].classList.add("active")}}})</script></dom-module><dom-module id="yp-post-ratings-info"assetpath="../yp-rating/"><template><style include="iron-flex iron-flex-alignment">:host{display:block;}.ratingsCount{font-size:0.6em;color:#aaa;}.ratingContainer{margin-left:16px;margin-bottom:4px;}.ratingContainer[widtha]{width:125px;}.ratingContainer[widthb]{width:110px;}.ratingContainer[widthc]{width:100px;}.ratingContainer[widthd]{width:90px;}.ratingContainerMain{text-align:right;margin-right:8px;max-width:230px;}.topDiv{cursor:pointer;}.topDiv[voting-disabled]{cursor:initial;}[hidden]{display:none !important;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><iron-media-query query="(max-width: 420px)"query-matches="{{small}}"></iron-media-query><div class="layout vertical center-center topDiv"voting-disabled$="[[votingDisabled]]"aria-label="[[t('evaluatePost')]"title="[[t('evaluatePost')]]"on-tap="openRatingsDialog"><div id="ratingContainerMain"class="ratingContainerMain layout horizontal center-center wrap"style="display: flex; justify-content: flex-end"card-mode$="[[cardMode]]"><template is="dom-repeat"items="[[customRatings]]"as="rating"><div class="layout horizontal ratingContainer"widtha$="[[hasWidthA]]"widthb$="[[hasWidthB]]"widthc$="[[hasWidthC]]"widthd$="[[hasWidthD]]"><yp-rating title$="[[rating.name]]"read-only=""post-id="[[post.id]]"rating-index="[[index]]"voting-disabled="[[votingDisabled]]"emoji="[[rating.emoji]]"rate="[[getRating(index)]]"number-of="[[rating.numberOf]]"></yp-rating><div class="ratingsCount">[[getRatingsCount(index)]]</div></div></template></div></div></template><script>Polymer({is:"yp-post-ratings-info",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypNumberFormatBehavior,Polymer.ypRemoveClassBehavior,Polymer.ypGotoBehavior],properties:{post:{type:Object,observer:"_onPostChanged"},hasWidthA:{type:Boolean,value:!1},hasWidthB:{type:Boolean,value:!1},hasWidthC:{type:Boolean,value:!1},hasWidthD:{type:Boolean,value:!1},active:{type:Boolean,value:!1},allDisabled:{type:Boolean,value:!1},votingDisabled:{type:Boolean,value:!1},customRatings:Array},getRating:function(t){return this.post.public_data&&this.post.public_data.ratings&&this.post.public_data.ratings[t]?this.post.public_data.ratings[t].averageRating:0},getRatingsCount:function(t){return this.post.public_data&&this.post.public_data.ratings&&this.post.public_data.ratings[t]?this.formatNumber(this.post.public_data.ratings[t].count):0},_fireRefresh:function(){this.fire("refresh",{id:this.post.id})},openRatingsDialog:function(){!1==!this.post.Group.configuration.canVote&&(window.appGlobals.activity("open","post.ratings"),!0===window.appUser.loggedIn()?Polymer.dom(document).querySelector("yp-app").getRatingsDialogAsync(function(t){t.open(this.post,this._fireRefresh.bind(this))}.bind(this)):window.appUser.loginForRatings(this))},_onPostChanged:function(t){if(this.set("isEndorsed",!1),t){if(t.Group.configuration&&t.Group.configuration.customRatings){!1===t.Group.configuration.canVote?this.set("votingDisabled",!0):this.set("votingDisabled",!1),this.set("customRatings",[]),this.async(function(){this.set("customRatings",t.Group.configuration.customRatings.slice(0,4))});var i=0;if(this.post.public_data&&this.post.public_data.ratings&&this.post.public_data&&this.post.public_data.ratings)for(var s in this.post.public_data.ratings)this.post.public_data.ratings.hasOwnProperty(s)&&this.post.public_data.ratings[s].count>i&&(i=this.post.public_data.ratings[s].count);1e5<i?(this.set("hasWidthA",!0),this.set("hasWidthB",!1),this.set("hasWidthC",!1),this.set("hasWidthD",!1),this.$$("#ratingContainerMain").style.maxWidth="285px"):1e3<i?(this.set("hasWidthA",!1),this.set("hasWidthB",!0),this.set("hasWidthC",!1),this.set("hasWidthD",!1),this.$$("#ratingContainerMain").style.maxWidth="255px"):10<i?(this.set("hasWidthA",!1),this.set("hasWidthB",!1),this.set("hasWidthC",!0),this.set("hasWidthD",!1),this.$$("#ratingContainerMain").style.maxWidth="235px"):(this.set("hasWidthA",!1),this.set("hasWidthB",!1),this.set("hasWidthC",!1),this.set("hasWidthD",!0),this.$$("#ratingContainerMain").style.maxWidth="215px")}t.Group.configuration&&null!=t.Group.configuration.canVote&&0==t.Group.configuration.canVote?(this.set("votingDisabled",!0),this.set("allDisabled",!0),this.set("disabledTitle",this.t("votingDisabled"))):(this.set("votingDisabled",!1),this.set("allDisabled",!1)),t.Group.configuration&&(this.set("post.Group.configuration.originalHideVoteCount",t.Group.configuration.hideVoteCount),t.Group.configuration.hideVoteCountUntilVoteCompleted&&this.set("post.Group.configuration.hideVoteCount",!0))}else this.set("customRatings",t.Group.configuration.null),console.warn("No post found for post actions")}})</script></dom-module><dom-module id="yp-post-actions"assetpath="../yp-post/"><template><style include="iron-flex iron-flex-alignment">:host{display:block;}.action-bar{@apply --layout-horizontal;position:absolute;background-color:#FFF;}.action-bar[floating]{@apply --layout-horizontal;position:relative;background-color:#FFF;}.action-bar-small{@apply --layout-horizontal;margin-top:8px;position:absolute;width:100%;bottom:-32px;vertical-align:bottom !important;}.action-text{font-size:16px;text-align:left;vertical-align:bottom;padding-top:8px;margin-top:4px;}.action-icon{}.action-up{@apply --layout-horizontal;@apply --layout-start-justified;color:var(--primary-up-color-lighter, rgba(0,153,0,0.55));}.action-down{@apply --layout-horizontal;@apply --layout-end-justified;color:var(--primary-down-color-lighter, rgba(153,0,0,0.55));}.default-buttons-color{color:var(--default-endorsement-buttons-color, #656565);}.default-buttons-up-selected{color:var(--accent-color, rgba(0,0,0,1.0));}.default-buttons-down-selected{color:var(--accent-color, rgba(0,0,0,1.0));}.hearts-up-selected{color:var(--primary-hearts-color-up, rgba(168,0,0,0.72));}.hearts-down-selected{color:var(--primary-hearts-color-up, rgba(168,0,0,0.72));}.action-debate{@apply --layout-horizontal;@apply --layout-center-justified;color:#757575;}.debate-text{padding-top:10px;padding-right:6px;color:#757575;}.down-text{padding-right:0px;padding-top:10px;}.up-text{padding-top:10px;margin-right:8px;}.up-text[rtl]{margin-right:-8px;}.down-vote-icon{margin-right:0px;}paper-icon-button.mainIcons{width:48px;height:48px;}paper-icon-button.debateIcon{width:46px;height:46px;margin-top:2px;}paper-icon-button[smaller-icons]{height:48px;width:48px;}.debate-icon{color:#757575;}.up-vote-icon{margin-left:8px;}@media (max-width: 320px){:host{width:250px;}}.shareButtonContainer{position:absolute;bottom:55px;right:-32px;padding:0;margin:0;margin-bottom:8px;}.shareButton{padding:2px;}.shareShare{padding:0;margin:0;background-color:#FFF;}@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none){.action-debate{display:none;}}[hidden]{display:none !important;}paper-material[rtl]{direction:rtl;}.action-up[only-up-vote-showing]{margin-right:-16px;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><iron-media-query query="(max-width: 420px)"query-matches="{{small}}"></iron-media-query><yp-ajax id="endorseAjax"method="POST"on-response="_endorseResponse"></yp-ajax><paper-material rtl$="[[rtl]]"elevation="[[elevationPlusOne]]"title$="[[disabledTitle]]"floating$="[[floating]]"animated=""class="action-bar layout horizontal"><div id="actionUp"class="action-up"only-up-vote-showing$="[[onlyUpVoteShowing]]"><paper-icon-button id="iconUpButton"smaller-icons$="[[smallerIcons]]"disabled="[[votingStateDisabled]]"title$="[[customVoteUpHoverText]]"icon="[[endorseModeIconUp]]"class="action-icon up-vote-icon mainIcons"on-tap="upVote"></paper-icon-button><div rtl$="[[rtl]]"class="action-text up-text"hidden$="[[post.Group.configuration.hideVoteCount]]">[[formattedUpCount]]</div></div><div class="action-debate"hidden$="[[hideDebate]]"><paper-icon-button disabled="[[allDisabled]]"title$="[[t('post.debate')]]"icon="chat-bubble-outline"class="action-icon debate-icon mainIcons debateIcon"on-tap="_goToPostIfNotHeader"></paper-icon-button><div class="action-text debate-text">[[formattedPointCount]]</div></div><div class=""hidden$="[[!hideDebate]]"></div><div id="actionDown"class="action-down"hidden$="[[post.Group.configuration.hideDownVoteForPost]]"><paper-icon-button smaller-icons$="[[smallerIcons]]"disabled="[[votingStateDisabled]]"title$="[[customVoteDownHoverText]]"icon="[[endorseModeIconDown]]"class="action-icon down-vote-icon mainIcons"on-tap="downVote"></paper-icon-button><div class="action-text down-text"hidden$="[[post.Group.configuration.hideVoteCount]]">[[formattedDownCount]]</div></div></paper-material><lite-signal on-lite-signal-got-endorsements-and-qualities="_updateEndorsementsFromSignal"></lite-signal></template><script>Polymer({is:"yp-post-actions",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypNumberFormatBehavior,Polymer.ypRemoveClassBehavior,Polymer.ypGotoBehavior],properties:{post:{type:Object,observer:"_onPostChanged"},rtl:{type:Boolean,value:!1},small:{type:Boolean,value:!1},headerMode:{type:Boolean,value:!1},forceSmall:{type:Boolean,value:!1},endorsementButtons:{type:String,value:"hearts"},endorseValue:{type:Number,value:0},isEndorsed:{type:Boolean,value:!1},elevation:{type:Number,value:3},elevationPlusOne:{type:Number,computed:"_elevationPlusOne(elevation)"},allDisabled:{type:Boolean,value:!1},disabledTitle:{type:String,value:null},floating:{type:Boolean,value:!1},votingDisabled:{type:Boolean,value:!1},smallerIcons:{type:Boolean,value:!1},formattedPointCount:{type:String,computed:"_formattedPointCount(post.counter_points)"},formattedDownCount:{type:String,computed:"_formattedDownCount(post.counter_endorsements_down)"},formattedUpCount:{type:String,computed:"_formattedUpCount(post.counter_endorsements_up)"},postUrl:{type:String,computed:"_postUrl(post)"},hideDebate:{type:Boolean,computed:"_hideDebate(forceShowDebate, small,forceSmall,headerMode,post)"},forceShowDebate:{type:Boolean,value:!1},onlyUpVoteShowing:{type:Boolean,computed:"_onlyUpVoteShowing(post)"},customVoteUpHoverText:{type:String,computed:"_customVoteUpHoverText(post)"},customVoteDownHoverText:{type:String,computed:"_customVoteDownHoverText(post)"},endorseModeIconUp:{type:String,computed:"_endorseModeIconUp(endorsementButtons, post, endorseValue)"},endorseModeIconDown:{type:String,computed:"_endorseModeIconDown(endorsementButtons, post, endorseValue)"},maxNumberOfGroupVotes:{type:Number,value:null},numberOfGroupVotes:{type:Number,value:null},votingStateDisabled:{type:Boolean,computed:"_votingStateDisabled(allDisabled, maxNumberOfGroupVotes, numberOfGroupVotes, isEndorsed)"}},_votingStateDisabled:function(t,e,o,n){return!!t||!(n||!e||!o)&&e<=o},_onlyUpVoteShowing:function(t){return!!(t&&t.Group&&t.Group.configuration)&&(t.Group.configuration.hideDownVoteForPost&&t.Group.configuration.hideDebateIcon)},_endorseModeIconUp:function(t){return this.endorseModeIcon(t,"up")},_endorseModeIconDown:function(t){return this.endorseModeIcon(t,"down")},_customVoteUpHoverText:function(t){return t&&t.Group&&t.Group.configuration&&t.Group.configuration.customVoteUpHoverText?t.Group.configuration.customVoteUpHoverText:this.t("post.up_vote")},_customVoteDownHoverText:function(t){return t&&t.Group&&t.Group.configuration&&t.Group.configuration.customVoteDownHoverText?t.Group.configuration.customVoteDownHoverText:this.t("post.down_vote")},_formattedUpCount:function(t){return t?this.formatNumber(t):"0"},_formattedPointCount:function(t){return t?this.formatNumber(t):"0"},_formattedDownCount:function(t){return t?this.formatNumber(t):"0"},_goToPostIfNotHeader:function(){this.headerMode||this.goToPost()},_postUrl:function(t){return t?encodeURIComponent("https://"+window.location.host+"/post/"+t.id):(console.warn("Can't find post for action"),"")},_elevationPlusOne:function(t){return t<5?t+1:t},_hideDebate:function(t,e,o,n){return!t&&(e||o||n||this.post&&this.post.Group&&this.post.Group.configuration&&this.post.Group.configuration.hideDebateIcon)},_onPostChanged:function(t){this.set("isEndorsed",!1),t?(this.removeClass(this.$.actionUp,"hearts-up-selected"),this.removeClass(this.$.actionDown,"hearts-down-selected"),this.removeClass(this.$.actionUp,"default-buttons-up-selected"),this.removeClass(this.$.actionDown,"default-buttons-down-selected"),this.set("endorseValue",0),t.Group.configuration&&(null!=t.Group.configuration.canVote&&0==t.Group.configuration.canVote?(this.set("votingDisabled",!0),this.set("allDisabled",!0),this.set("disabledTitle",this.t("votingDisabled"))):(this.set("votingDisabled",!1),this.set("allDisabled",!1)),null!=t.Group.configuration.endorsementButtons?this.set("endorsementButtons",t.Group.configuration.endorsementButtons):this.set("endorsementButtons","hearts"),t.Group.configuration.maxNumberOfGroupVotes?(this.set("maxNumberOfGroupVotes",parseInt(t.Group.configuration.maxNumberOfGroupVotes)),this.set("numberOfGroupVotes",window.appUser.groupCurrentVoteCountIndex[t.Group.id])):(this.set("maxNumberOfGroupVotes",null),this.set("numberOfGroupVotes",null)),this.set("post.Group.configuration.originalHideVoteCount",t.Group.configuration.hideVoteCount),t.Group.configuration.hideVoteCountUntilVoteCompleted&&this.set("post.Group.configuration.hideVoteCount",!0)),this._updateEndorsements(t)):console.warn("No post found for post actions")},_updateEndorsementsFromSignal:function(t,e){this.post?this._updateEndorsements(this.post,e):this.async(function(){this.post?this._updateEndorsements(this.post,e):console.warn("Trying to update post null from signal")},50)},_updateEndorsements:function(t,e){if(this.set("isEndorsed",!1),window.appUser&&window.appUser.loggedIn()&&window.appUser.user&&window.appUser.user.Endorsements){var o=window.appUser.endorsementPostsIndex[t.id];o?this._setEndorsement(o.value):this._setEndorsement(0),e&&e.maxGroupId===this.post.Group.id&&this.set("numberOfGroupVotes",e.groupCurrentVoteCount)}},endorseModeIcon:function(t,e){return"hearts"!=t&&"hats"!=t?this.set("smallerIcons",!0):this.set("smallerIcons",!1),"thumbs"==t&&"up"==e?"thumb-up":"thumbs"==t&&"down"==e?"thumb-down":"hearts"==t&&"up"==e?"favorite-border":"hearts"==t&&"down"==e?"do-not-disturb":"hats"==t&&"up"==e?"keyboard-arrow-up":"hats"==t&&"down"==e?"keyboard-arrow-down":"arrows"==t&&"up"==e?"arrow-upward":"arrows"==t&&"down"==e?"arrow-downward":void 0},_setEndorsement:function(t){0!==(this.endorseValue=t)&&this.post.Group.configuration&&this.post.Group.configuration.hideVoteCount&&!this.post.Group.configuration.originalHideVoteCount&&this.set("post.Group.configuration.hideVoteCount",!1),"hearts"==this.endorsementButtons?0<t?(this.$.actionUp.className+=" hearts-up-selected",this.removeClass(this.$.actionDown,"hearts-down-selected"),this.$.iconUpButton.icon="favorite"):(t<0?(this.$.actionDown.className+=" hearts-down-selected",this.removeClass(this.$.actionUp,"hearts-up-selected")):(this.removeClass(this.$.actionUp,"hearts-up-selected"),this.removeClass(this.$.actionDown,"hearts-down-selected")),this.$.iconUpButton.icon="favorite-border"):0<t?(this.$.actionUp.className+=" default-buttons-up-selected",this.removeClass(this.$.actionDown,"default-buttons-down-selected")):t<0?(this.$.actionDown.className+=" default-buttons-down-selected",this.removeClass(this.$.actionUp,"default-buttons-up-selected")):(this.removeClass(this.$.actionUp,"default-buttons-up-selected"),this.removeClass(this.$.actionDown,"default-buttons-down-selected")),0<t&&this.set("isEndorsed",!0)},_enableVoting:function(){this.votingDisabled||this.set("allDisabled",!1)},_endorseResponse:function(t,e){this._enableVoting();var o=e.response.endorsement,n=e.response.oldEndorsementValue;window.appUser.updateEndorsementForPost(this.post.id,o,this.post.Group),this._setEndorsement(o.value),n&&(0<n?this.set("post.counter_endorsements_up",this.post.counter_endorsements_up-1):n<0&&this.set("post.counter_endorsements_down",this.post.counter_endorsements_down-1)),0<o.value?this.set("post.counter_endorsements_up",this.post.counter_endorsements_up+1):o.value<0&&this.set("post.counter_endorsements_down",this.post.counter_endorsements_down+1)},generateEndorsementFromLogin:function(t){window.appUser.endorsementPostsIndex[this.post.id]||this.generateEndorsement(t)},generateEndorsement:function(t){!0===window.appUser.loggedIn()?(this.$.endorseAjax.url="/api/posts/"+this.post.id+"/endorse",this.$.endorseAjax.body={post_id:this.post.id,value:t,endorsementBaseId:window.appUser.getBrowserId(),endorsementValCode:window.appUser.browserFingerprint,endorsementConf:window.appUser.browserFingerprintConfidence},this.endorseValue===t?this.$.endorseAjax.method="DELETE":this.$.endorseAjax.method="POST",this.$.endorseAjax.generateRequest()):(this._enableVoting(),window.appUser.loginForEndorse(this,{value:t}))},upVote:function(){this.set("allDisabled",!0),this.generateEndorsement(1),window.appGlobals.activity("clicked","endorse_up",this.post?this.post.id:-1),this.set("isEndorsed",!0),this.updateStyles(),this._setVoteHidingStatus()},downVote:function(){this.set("allDisabled",!0),this.generateEndorsement(-1),window.appGlobals.activity("clicked","endorse_down",this.post?this.post.id:-1),this._setVoteHidingStatus()},_setVoteHidingStatus:function(){this.post.Group.configuration&&this.post.Group.configuration.hideVoteCountUntilVoteCompleted&&!this.post.Group.configuration.originalHideVoteCount&&this.set("post.Group.configuration.hideVoteCount",!1)},computeActionClass:function(){return"action-bar"},ready:function(){this.endorsementButtons&&(this.$.actionDown.className+=" default-buttons-color",this.$.actionUp.className+=" default-buttons-color")}})</script></dom-module><script>Polymer.YpPostSurveyTranslationBehavior={properties:{structuredAnswersFormatted:{type:String,computed:"_structuredAnswersFormatted(post, translatedQuestions, translatedAnswers)"},translatedQuestions:{type:Array,value:null},translatedAnswers:{type:Array,value:null},autoTranslate:{type:Boolean,value:!1}},ready:function(){window.autoTranslate&&this.set("autoTranslate",!0)},_getIndexTranslationKey:function(t){return"".concat(t,"-").concat(this.post.id,"-").concat(this.language)},_languageEvent:function(t,e){"language-loaded"==e.type&&this.async(function(){this.language=e.language,this._getSurveyTranslationsIfNeeded()})},_autoTranslateEvent:function(t,e){this.set("autoTranslate",e),this._getSurveyTranslationsIfNeeded()},_getSurveyTranslationsIfNeeded:function(){if(this.set("translatedQuestions",null),this.set("translatedAnswers",null),this.post&&this.post.public_data&&this.post.public_data.structuredAnswersJson&&this.autoTranslate&&this.language!==this.post.language){var t=this._getIndexTranslationKey("GroupQuestions"),e=this._getIndexTranslationKey("PostAnswers");window.appGlobals.autoTranslateCache[t]&&window.appGlobals.autoTranslateCache[e]?(this.set("translatedQuestions",window.appGlobals.autoTranslateCache[t]),this.set("translatedAnswers",window.appGlobals.autoTranslateCache[e])):(this.$.translatedSurveyAjax.url="/api/posts/".concat(this.post.id,"/translatedSurvey?targetLanguage=").concat(this.language,"&groupId=").concat(this.post.Group.id),this.$.translatedSurveyAjax.generateRequest())}},_getQuestionLengthWithSubOptions:function(t){for(var e=0,s=0;s<t.length;s++){e+=1;var n=t[s];"radios"===n.type&&n.radioButtons&&0<n.radioButtons.length?e+=n.radioButtons.length:"checkboxes"===n.type&&n.checkboxes&&0<n.checkboxes.length?e+=n.checkboxes.length:"dropdown"===n.type&&n.dropdownOptions&&0<n.dropdownOptions.length&&(e+=n.dropdownOptions.length)}return e},_translatedSurveyResponse:function(t,e){if(this.post&&this.autoTranslate&&(this.language!==this.post.language||"??"==this.post.language)){var s=e.response[0],n=e.response[1],a=JSON.parse(JSON.stringify(this.post.Group.configuration.structuredQuestionsJson)),o=JSON.parse(JSON.stringify(this.post.public_data.structuredAnswersJson));if(s.length===this._getQuestionLengthWithSubOptions(a)){for(var r,i=0,u=0;u<a.length;u++)(r=a[u]).text=s[i++],"radios"===r.type&&r.radioButtons&&0<r.radioButtons.length?i+=r.radioButtons.length:"checkboxes"===r.type&&r.checkboxes&&0<r.checkboxes.length?i+=r.checkboxes.length:"dropdown"===r.type&&r.dropdownOptions&&0<r.dropdownOptions.length&&(i+=r.dropdownOptions.length);for(u=0;u<o.length;u++)o[u].value&&(o[u].value=n[u]);this.set("translatedQuestions",a),this.set("translatedAnswers",o);var l=this._getIndexTranslationKey("GroupQuestions"),d=this._getIndexTranslationKey("PostAnswers");window.appGlobals.autoTranslateCache[l]=a,window.appGlobals.autoTranslateCache[d]=o}else console.error("Questions and Translated texts length does not match")}else this.set("translatedQuestions",null),this.set("translatedAnswers",null)},_structuredAnswersFormatted:function(t,e,s){if(t&&t.public_data&&t.public_data.structuredAnswersJson&&t.Group.configuration&&t.Group.configuration.structuredQuestionsJson){var n=t.Group.configuration.structuredQuestionsJson,a=t.public_data.structuredAnswersJson;e&&s&&(n=e,a=s);var o={},r={},i={},u="";return n.forEach(function(t){t.uniqueId?o[t.uniqueId]=t:(t.showBeforeAnswerId&&(r[t.showBeforeAnswerId]=t),t.showAfterAnswerId&&(i[t.showAfterAnswerId]=t))}.bind(this)),a.forEach(function(t){if(t){var e=o[t.uniqueId];e&&(r[t.uniqueId]&&(u+=r[t.uniqueId].text+"\n\n"),u+="<b>"+e.text+"</b>\n",t.value?u+=t.value+"\n\n":u+="\n\n",i[t.uniqueId]&&(u+=i[t.uniqueId].text+"\n\n"))}}.bind(this)),u}return""}}</script><dom-module id="yp-post-tags"assetpath="../yp-post/"><template><style include="iron-flex iron-flex-alignment">.tagContainer{max-width:480px;font-size:14px;margin-left:8px;vertical-align:middle;padding-left:16px;color:var(--app-tags-text-color, #111) !important;font-weight:var(--app-tags-font-weight, 500);}.middleDot{padding-left:7px;padding-right:2px;vertical-align:middle;color:var(--app-tags-color, #656565);}.tagItem{vertical-align:middle;}@media (max-width: 800px){.middleDot{font-size:14px;margin-bottom:8px;}.tagContainer{font-size:17px;padding-left:16px;padding-right:16px;padding-bottom:16px;}}[hidden]{display:none !important;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><lite-signal on-lite-signal-yp-auto-translate="_autoTranslateEvent"></lite-signal><div class="tagContainer wrap"><template is="dom-repeat"items="[[postTags]]"><span class="tagItem">[[_trimmedItem(item)]]</span><span class="middleDot"hidden$="[[computeSpanHidden(postTags, index)]]"></span></template></div><yp-magic-text id="postTagsTranslations"hidden=""content-id="[[post.id]]"text-only=""content="[[post.public_data.tags]]"content-language="[[post.language]]"on-new-translation="_newTranslation"text-type="postTags"></yp-magic-text></template><script>Polymer({is:"yp-post-tags",behaviors:[Polymer.ypLanguageBehavior],properties:{post:{type:Object},postTags:{type:String,computed:"_postTags(post,language,translatedTags,autoTranslate)"},translatedTags:{type:String,value:null},autoTranslate:{type:Boolean,value:!1}},_trimmedItem:function(t){return t?t.trim():""},_autoTranslateEvent:function(t,a){this.set("autoTranslate",a)},computeSpanHidden:function(t,a){return t.length-1===a},_newTranslation:function(){this.async(function(){var t=this.$$("#postTagsTranslations");t&&t.finalContent&&this.set("translatedTags",t.finalContent)})},_postTags:function(t,a,n){return n&&this.autoTranslate?n.split(","):t&&t.public_data&&t.public_data.tags?t.public_data.tags.split(","):[]}})</script></dom-module><dom-module id="yp-post-card"assetpath="../yp-post/"><template><style include="iron-flex iron-flex-alignment">.card-actions{}.post-name{margin:0;padding:16px;padding-top:20px;padding-bottom:14px;cursor:pointer;vertical-align:middle !important;font-size:20px;background-color:#fff;color:#000;font-weight:500;letter-spacing:.0125em;}.post-name[largefont]{font-size:19px;}.postNameContainer{width:100%;}.postCardCursor{cursor:pointer;}.postCard{background-color:#fff;@apply --layout-horizontal;}:host{display:block;@apply --layout-vertical;}.postCard{height:435px;width:416px;border-radius:4px;}.postCard[hide-post-cover]{height:190px;}.postCard[hide-post-cover][hide-actions]{height:165px;}.postCard[hide-post-cover][hide-description]{height:140px;}.postCard[hide-description]{height:372px;}.postCard[hide-description][hide-actions]{height:331px;}.postCard[hide-description][hide-post-cover][hide-actions]{height:110px;}.postCard[hide-actions]{height:402px;}.postCard[mini]{width:210px;height:100%;margin:0;padding-top:0;padding-bottom:0;}yp-post-cover-media{width:416px;height:234px;}yp-post-cover-media[mini]{width:210px;height:118px;min-height:118px;}.post-name[mini]{padding:16px;}.description{font-size:17px;padding:16px;padding-top:0;cursor:pointer;color:#555;}@media (min-width: 480px){.description[widetext]{font-size:16px;line-height:1.3;}.description[hightext]{font-size:15px;}#postNameMagicText[hightext]{font-size:19px;}}.description[largefont]{font-size:15px;}.postActions{position:absolute;right:20px;bottom:2px;margin:0;}.shareIcon{position:absolute;left:8px;bottom:2px;--paper-share-button-icon-color:#656565;--paper-share-button-icon-height:46px;--paper-share-button-icon-width:46px;text-align:right;width:48px;height:48px;}.customRatings{position:absolute;bottom:10px;right:6px;}@media (max-width: 960px){.customRatings{bottom:12px;}:host{width:100%;max-width:423px;}.description[has-custom-ratings]{padding-bottom:28px;}.postCard{margin-left:0;margin-right:0;padding-left:0;padding-right:0;width:100%;height:100%;}.postCard[mini]{width:210px;height:100%;}.card{margin-left:0;margin-right:0;padding-left:0;padding-right:0;width:100%;height:100%;}.card[mini]{width:210px;height:100%;}yp-post-cover-media{width:100%;height:230px;}yp-post-cover-media[mini]{width:210px;height:118px;min-height:118px;}.card{height:100%;padding-bottom:48px;}.postCard{height:100% !important;}yp-post-cover-media[audio-cover]{width:100%;height:100px;}}@media (max-width: 420px){yp-post-cover-media{height:225px;}yp-post-cover-media[audio-cover]{height:100px;}}@media (max-width: 375px){yp-post-cover-media{height:207px;}yp-post-cover-media[audio-cover]{height:100px;}}@media (max-width: 360px){yp-post-cover-media{height:200px;}yp-post-cover-media[audio-cover]{height:90px;}}@media (max-width: 320px){yp-post-cover-media{height:180px;}yp-post-cover-media[audio-cover]{height:90px;}}[hidden]{display:none !important;}a{text-decoration:none;}.share[mini]{display:none;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><lite-signal on-lite-signal-logged-in="_userLoggedIn"></lite-signal><iron-media-query query="(min-width: 600px)"query-matches="{{wide}}"></iron-media-query><paper-material mini$="[[mini]]"hide-post-cover$="[[post.Group.configuration.hidePostCover]]"hide-description$="[[post.Group.configuration.hidePostDescription]]"hide-actions$="[[post.Group.configuration.hidePostActionsInGrid]]"audio-cover$="[[isAudioCover]]"class="card postCard layout vertical"elevation="[[elevation]]"animated=""><div class="layout vertical"><a href="[[_getPostLink(post)]]"id="theMainA"on-tap="_savePostToBackCache"><yp-post-cover-media mini$="[[mini]]"top-radius=""audio-cover$="[[isAudioCover]]"alt-tag="[[post.name]]"post="[[post]]"hidden$="[[post.Group.configuration.hidePostCover]]"></yp-post-cover-media><div class="postNameContainer"><div class="post-name"mini$="[[mini]]"largefont$="[[largeFont]]"id="postName"><yp-magic-text id="postNameMagicText"text-type="postName"content-language="[[post.language]]"on-tap="goToPostIfNotHeader"text-only=""content="[[postName]]"content-id="[[post.id]]"></yp-magic-text></div></div><template is="dom-if"if="[[!post.Group.configuration.usePostTagsForPostCards]]"><template is="dom-if"if="[[!post.public_data.structuredAnswersJson]]"><yp-magic-text largefont$="[[largeFont]]"class="description layout horizontal"has-custom-ratings$="[[post.Group.configuration.customRatings]]"hidden$="[[hideDescription]]"text-type="postContent"content-language="[[post.language]]"on-tap="goToPostIfNotHeader"remove-urls=""text-only=""content="[[post.description]]"content-id="[[post.id]]"truncate="120"></yp-magic-text></template><template is="dom-if"if="[[post.public_data.structuredAnswersJson]]"><yp-magic-text id="description"text-type="postContent"content-language="[[post.language]]"hidden$="[[hideDescription]]"disable-translation=""skip-sanitize=""content="[[structuredAnswersFormatted]]"remove-urls=""content-id="[[post.id]]"class="description"truncate="120"></yp-magic-text></template></template><template is="dom-if"if="[[post.Group.configuration.usePostTagsForPostCards]]"><yp-post-tags post="[[post]]"></yp-post-tags></template></a><div hidden$="[[post.Group.configuration.hidePostActionsInGrid]]"on-tap="_onBottomClick"><template is="dom-if"if="[[!mini]]"><div class="share"hidden$="[[post.Group.configuration.hideSharing]]"><paper-share-button on-share-tap="_shareTap"class="shareIcon"less-margin$="[[post.Group.configuration.hideDownVoteForPost]]"endorsed$="[[isEndorsed]]"horizontal-align="right"id="shareButton"whatsapp="[[post.Group.configuration.allowWhatsAppSharing]]"title$="[[t('post.shareInfo')]]"facebook=""email=""twitter=""popup=""url="[[fullPostUrl]]"></paper-share-button></div><template is="dom-if"if="[[post.Group.configuration.customRatings]]"><yp-post-ratings-info class="customRatings"post="[[post]]"></yp-post-ratings-info></template><template is="dom-if"if="[[!post.Group.configuration.customRatings]]"><yp-post-actions force-show-debate$="[[post.Group.configuration.forceShowDebateCountOnPost]]"floating=""class="postActions"elevation="-1"endorse-mode="[[endorseMode]]"post="[[post]]"hidden$="[[mini]]"></yp-post-actions></template></template></div></div></paper-material><lite-signal on-lite-signal-yp-auto-translate="_autoTranslateEvent"></lite-signal><yp-ajax hidden=""id="translatedSurveyAjax"on-response="_translatedSurveyResponse"></yp-ajax></template><script>Polymer({is:"yp-post-card",behaviors:[Polymer.ypLanguageBehavior,Polymer.YpPostBehavior,Polymer.AccessHelpers,Polymer.ypLoggedInUserBehavior,Polymer.ypMediaFormatsBehavior,Polymer.ypTruncateBehavior,Polymer.ypGotoBehavior,Polymer.YpPostSurveyTranslationBehavior],properties:{hideDescription:{type:Boolean,computed:"_hideDescription(mini, post)"},selectedMenuItem:{type:String},elevation:{type:Number,value:1},post:{type:Object,observer:"_postChanged"},hasPostAccess:{type:Boolean,value:!1,notify:!0,computed:"_hasPostAccess(post, gotAdminRights)"},mini:{type:Boolean,value:!1},isAudioCover:{type:Boolean,value:!1},largeFont:{type:Boolean,value:!1}},_onBottomClick:function(o){o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation()},clickOnA:function(){this.$.theMainA&&this.$.theMainA.click()},_savePostToBackCache:function(){this.post&&!this.mini&&(window.appGlobals.cachedPostItem=this.post)},_getPostLink:function(o){if(o)return o.Group.configuration&&o.Group.configuration.disablePostPageLink?"#":o.Group.configuration&&o.Group.configuration.resourceLibraryLinkMode?o.description.trim():"/post/"+o.id;console.warn("Trying to get empty post link")},_shareTap:function(o,t){window.appGlobals.activity("postShareCardOpen",t.brand,this.post?this.post.id:-1)},_hideDescription:function(o,t){return o||t&&t.Group.configuration&&t.Group.configuration.hidePostDescription},_hasPostAccess:function(o){return!!o&&this.checkPostAccess(o)},goToPostIfNotHeader:function(){this.post.Group.configuration&&this.post.Group.configuration.disablePostPageLink?console.log("goToPostDisabled"):this.post.Group.configuration&&this.post.Group.configuration.resourceLibraryLinkMode||this.goToPost(null,null,null,this.post)},_postChanged:function(o){window.appGlobals.largeFont?this.set("largeFont",!0):this.set("largeFont",!1),o&&("audio"===o.cover_media_type?this.set("isAudioCover",!0):this.set("isAudioCover",!1),this._getSurveyTranslationsIfNeeded(),this.async(function(){this.$$("#postName"),this.$$("#postName")}))},updateDescriptionIfEmpty:function(o){this.post.description&&""!=this.post.description||this.set("post.description",o)},_refresh:function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("postEdit",function(o){o.selected=0,this.fire("refresh")}.bind(this))},_openReport:function(){window.appGlobals.activity("open","post.report"),Polymer.dom(document).querySelector("yp-app").getDialogAsync("apiActionDialog",function(o){o.setup("/api/posts/"+this.post.id+"/report",this.t("reportConfirmation"),this._onReport.bind(this),this.t("post.report"),"PUT"),o.open()}.bind(this))},_onReport:function(){window.appGlobals.notifyUserViaToast(this.t("post.report")+": "+this.post.name)}})</script></dom-module><iron-iconset-svg size="24"name="papmapinf"><svg><defs><g id="close"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></g></defs></svg></iron-iconset-svg><dom-module id="yp-post-map-info"assetpath="../yp-post/"><template><style>:host{display:inline-block;}.infocard{position:absolute;z-index:999;max-width:80%;max-height:75%;top:0;left:0;background:white;box-sizing:border-box;border-radius:4px;opacity:0;display:none;@apply --paper-map-info-mixin;}.infocard-beak{position:absolute;opacity:0;display:none;}#stdbeak svg rect{fill:blue;stroke:black;stroke-width:1;@apply --paper-map-info-beak-mixin;color:#F57C00;}div.card-content{overflow:hidden;@apply --paper-map-info-content;}iron-icon.closeicon{--iron-icon-width:32px;--iron-icon-height:32px;position:absolute;left:6px;top:6px;color:#F57C00;}[hidden]{display:none !important;}</style><div id="stdbeak"class="infocard-beak"><svg width="20"height="20"><rect x="4"y="4"width="12"height="12"transform="rotate(45 10,10)"></rect></svg></div><div id="custombeak"class="infocard-beak"><slot id="custombeakcontent"name="paper-map-info-beak"></slot></div><paper-material id="infocarddiv"class="infocard"elevation="[[elevation]]"><div class="card-content"><slot id="cardcontent"></slot></div><iron-icon class="closeicon"icon="papmapinf:close"on-tap="close"></iron-icon></paper-material></template><script>Polymer({is:"yp-post-map-info",properties:{elevation:{type:Number,notify:!0,value:4},fadeIn:{type:Boolean,notify:!0,value:!1},isShowing:{type:Boolean,notify:!0,value:!1},_dim:{type:Object,notify:!0},map:{type:Object,notify:!0,observer:"_mapChanged"},_mapListeners:{type:Array,notify:!0,value:[]},_marker:{type:Object,notify:!0},_overlay:{type:Object,notify:!0},_bk:{type:Object},_nbk:{type:Object},_isCustomBeak:{type:Boolean,notify:!0,value:!1},_watchingSize:{type:Boolean,notify:!0,value:!1}},close:function(){this._releaseListeners(),this.isShowing=!1,this.$.infocarddiv.style.opacity=0,this.$.infocarddiv.style.left=0,this.$.infocarddiv.style.display="none",this.$.stdbeak.style.display="none",this.$.custombeak.style.display="none",this.$.stdbeak.style.opacity=0,this.$.custombeak.style.opacity=0},_contentChanged:function(){if(this.isShowing){this._getInfowindowSize();var i=this._setInfowindowPosition();this._placementInBounds(i)||this._panToShowInfowindow(i)}},detached:function(){this._releaseListeners(),this.isShowing=!1,this.$.infocarddiv.style.left=0,this.$.infocarddiv.style.opacity=this.fadeIn?0:1,this.$.infocarddiv.style.display="none",this.$.stdbeak.display="none",this.$.custombeak.display="none",this.$.stdbeak.opacity=0,this.$.custombeak.opacity=0,this._marker=void 0,this.map=void 0},_doFadeIn:function(){var i=this;if(this.isShowing){var t=parseFloat(this.$.infocarddiv.style.opacity);.9<=t?this.$.infocarddiv.style.opacity="1":(t+=.1,this.$.infocarddiv.style.opacity=t.toString(),setTimeout(function(){i._doFadeIn()},40))}},_getInfowindowSize:function(){var i=this.$.infocarddiv;this._dim.card.width=i.offsetWidth,this._dim.card.height=i.offsetHeight,this._isCustomBeak?(this._dim.beak.height=this._bk.offsetHeight,this._dim.beak.width=this._bk.offsetWidth,this._dim.customBeak=!0):(this._dim.beak={height:20,width:20},this._dim.customBeak=!1)},_getMarkerSize:function(){if(this._marker&&this._marker.getIcon()){var i=this._marker.getIcon();this._dim.marker.y=i.anchor.y,this._dim.marker.x=0}else this._dim.marker={x:0,y:42}},_getMapSize:function(){var i=this.map.getDiv();this._dim.map.width=i.offsetWidth,this._dim.map.height=i.offsetHeight},_initListeners:function(){var t=this;this._mapListeners=[],this._overlay=new google.maps.OverlayView,this._overlay.draw=function(){},this._overlay.setMap(this.map);this._mapListeners.push(google.maps.event.addListener(this.map,"projection_changed",function(){t._overlay=new google.maps.OverlayView,t._overlay.draw=function(){},t._overlay.setMap(t.map)})),this._mapListeners.push(google.maps.event.addListener(this.map,"zoom_changed",function(i){t.isShowing&&(t._getInfowindowSize(),t._setInfowindowPosition())})),this._mapListeners.push(google.maps.event.addListener(this.map,"center_changed",function(i){t.isShowing&&t.isShowing&&(t._getInfowindowSize(),t._setInfowindowPosition())})),this._mapListeners.push(google.maps.event.addListener(this._marker,"drag",function(i){t.isShowing&&t._setInfowindowPosition()})),this._watchingSize},_mapChanged:function(){this.map&&(this._overlay=new google.maps.OverlayView,this._overlay.draw=function(){},this._overlay.setMap(this.map))},_panToShowInfowindow:function(i){var t={x:0,y:0};i.left<0?t.x=i.left-10:i.left+this._dim.card.width>this._dim.map.width&&(t.x=i.left+this._dim.card.width-this._dim.map.width+10),i.top<0?t.y=i.top-10:i.top+this._dim.card.height+this._dim.marker.y+10>this._dim.map.height&&(t.y=i.top+this._dim.card.height+this._dim.marker.y-this._dim.map.height+20),0==t.x&&0==t.y||this.map.panBy(t.x,t.y)},_placementInBounds:function(i){return 0<=i.top&&0<=i.left&&i.left+this._dim.card.width<this._dim.map.width&&i.top+this._dim.card.height+this._dim.marker.y+10<this._dim.map.height},ready:function(){this.set("_dim",{card:{height:10,width:10},map:{height:100,width:100},marker:{x:0,y:42},beak:{width:20,height:20,customBeak:!1}}),this.map&&(this._overlay=new google.maps.OverlayView,this._overlay.draw=function(){},this._overlay.setMap(this.map))},_releaseListeners:function(){for(var i,t=0,e=this._mapListeners;t<e.length;t++)i=e[t],google.maps.event.removeListener(i);this._mapListeners=[]},_setInfowindowPosition:function(){this._overlay||(this._overlay=new google.maps.OverlayView,this._overlay.draw=function(){},this._overlay.setMap(this.map),console.log("overlay not set"));var i={left:0,top:0};try{var t=this._overlay.getProjection().fromLatLngToContainerPixel(this._marker.getPosition()),e=Math.round(t.x-this._dim.card.width/2),s=Math.round(t.y-this._dim.card.height-this._dim.marker.y-this._dim.beak.height+10);this.$.infocarddiv.style.left=e+"px",this.$.infocarddiv.style.top=s+"px",this._bk.style.left=t.x-this._dim.beak.width/2+"px",this._bk.style.top=Math.floor(s-10+this._dim.card.height)+"px",i={left:e,top:s}}catch(i){console.log("setInfowindowPosition error"),console.log(i)}return i},showInfoWindow:function(i){var t=this;this.map&&i&&(this.isShowing&&this.close(),this._marker=i,this._getMapSize(),this._getMarkerSize(),this.$.infocarddiv.style.display="block",0<Polymer.dom(this.$.custombeakcontent).getDistributedNodes().length?(this._bk=this.$.custombeak,this._nbk=this.$.stdbeak,this._isCustomBeak=!0):(this._bk=this.$.stdbeak,this._nbk=this.$.custombeak,this._isCustomBeak=!1),this._bk.style.opacity="0",this._bk.style.display="block",this._nbk.style.opacity="0",this._nbk.style.display="none",setTimeout(function(){t._getInfowindowSize();var i=t._setInfowindowPosition();t.$.infocarddiv.style.opacity=t.fadeIn?0:1,t._bk.style.opacity="1",t._initListeners(),t.isShowing=!0,t.fadeIn&&t._doFadeIn(),t._placementInBounds(i)||t._panToShowInfowindow(i)},33))}})</script></dom-module><dom-module id="yp-post-map"assetpath="../yp-post/"><template><style include="iron-flex iron-flex-alignment">:host{display:block;width:100%;height:100%;}.mapContainer{margin:0;padding:0;width:960px;height:500px;margin-top:16px;margin-bottom:48px;}.noMapContainer{padding:32px;margin:16px;background-color:#FFF;font-size:22px;color:#222;}#map{}a{color:var(--primary-color-700);}h1{padding:24px;}@media (max-width: 934px){.mapContainer{margin:16px;width:800px;height:400px;}}@media (max-width: 832px){.mapContainer{margin:8px;width:600px;height:340px;}}@media (max-width: 632px){.mapContainer{margin:8px;width:400px;height:300px;}}@media (max-width: 420px){.mapContainer{margin:8px;width:330px;height:250px;}}@media (max-width: 360px){.mapContainer{margin:8px;width:280px;height:200px;}}#myInfoCard{background-color:#000;padding:0;margin:0 !important;--yp-post-map-info-mixin:{padding:0;margin:0 !important;max-width:100%;max-height:100%;};--yp-post-map-info-beak-mixin:{color:#F57C00;};}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><iron-media-query query="(min-width: 1000px)"query-matches="{{wide}}"></iron-media-query><lite-signal on-lite-signal-yp-refresh-group-posts="refreshAjax"></lite-signal><div class="layout vertical center-center"><template is="dom-if"if="[[posts]]"><paper-material id="mapContainer"elevation="2"class="mapContainer"><google-map additional-map-options="{&quot;keyboardShortcuts&quot;:false,&quot;fullscreenControl&quot;: false}"max-zoom="18"id="map"api-key="AIzaSyDkF_kak8BVZA5zfp5R4xRnrX8HP3hjiL0"><template is="dom-repeat"items="[[posts]]"as="post"><google-map-marker slot="markers"latitude="[[post.location.latitude]]"longitude="[[post.location.longitude]]"click-events=""class="marker"on-google-map-marker-click="markerClick"></google-map-marker></template><yp-post-map-info id="myInfoCard"fade-in=""><yp-post-card mini=""post$="[[selectedPost]]"></yp-post-card></yp-post-map-info></google-map></paper-material></template><template is="dom-if"if="[[noPosts]]"><paper-material elevation="1"class="noMapContainer"><div>[[t('posts.noMapPosts')]]</div></paper-material></template><div class="layout horizontal center-center"><yp-ajax id="ajax"on-response="_response"></yp-ajax></div></div></template><script>Polymer({is:"yp-post-map",behaviors:[Polymer.ypLanguageBehavior],properties:{posts:{type:Array,value:null},groupId:{type:Number,observer:"_groupIdChanged"},communityId:{type:Number,observer:"_communityIdChanged"},noPosts:{type:Boolean,value:!1},wide:Boolean,selectedPost:Object},resetMapHeight:function(){var t=this.$$("#mapContainer");if(t){var e,s=window.innerHeight;e=(this.wide,s/1.5),t.style.width=Math.min(window.innerWidth-(this.wide?96:32),1920)+"px",t.style.height=e+"px",t.style.marginBottom="64px",!0===this.skipFitToMarkersNext?this.skipFitToMarkersNext=!1:this.async(function(){var t=this.$$("#map");t&&(t.fitToMarkers=!0,this.async(function(){t.fitToMarkers=!1},1e3))})}},_groupIdChanged:function(t){t?(this.set("posts",null),this.$.ajax.url="/api/groups/"+t+"/post_locations",this.$.ajax.generateRequest()):this.set("posts",null)},_communityIdChanged:function(t){t?(this.set("posts",null),this.$.ajax.url="/api/communities/"+t+"/post_locations",this.$.ajax.generateRequest()):this.set("posts",null)},refreshAjax:function(){this.$.ajax.generateRequest(),this.skipFitToMarkersNext=!0},_response:function(t,e){e.response&&0<e.response.length?(this.set("noPosts",!1),this.set("posts",e.response)):this.set("noPosts",!0),this.async(function(){this.resetMapHeight()})},markerClick:function(t){window.appGlobals.activity("clicked","marker"),this.set("selectedPost",t.model.get("post"));this.selectedPost;t.srcElement?this.$$("#myInfoCard").showInfoWindow(t.srcElement.marker):this.$$("#myInfoCard").showInfoWindow(t.currentTarget.marker),this.$$("#myInfoCard").$$("#infocarddiv").children[1].style.zIndex="20"}})</script></dom-module><dom-module id="yp-group-stats"assetpath="../yp-group/"><template><style include="iron-flex iron-flex-alignment">:host{display:block;}.stats{padding-top:8px;padding-bottom:8px;color:var(--main-stats-color-on-white);}.stats-text{font-size:18px;text-align:right;vertical-align:bottom;padding-right:8px;color:var(--main-stats-color-on-white);}.stats-icon{padding-left:8px;margin-right:4px;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><div class="stats layout horizontal end-justified"><iron-icon title$="[[t('stats.posts')]]"icon="lightbulb-outline"class="stats-icon"></iron-icon><div title$="[[t('stats.posts')]]"class="stats-text"style="">{{formatNumber(group.counter_posts)}}</div><iron-icon title$="[[t('stats.discussions')]]"icon="chat-bubble-outline"class="stats-icon"></iron-icon><div title$="[[t('stats.discussions')]]"class="stats-text">{{formatNumber(group.counter_points)}}</div><iron-icon title$="[[t('stats.users')]]"icon="face"class="stats-icon"></iron-icon><div title$="[[t('stats.users')]]"class="stats-text">{{formatNumber(group.counter_users)}}</div></div></template><script>Polymer({is:"yp-group-stats",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypNumberFormatBehavior],properties:{group:{type:Object}},ready:function(){this.group&&this.group.IsoCountry&&(this.group.counter_users=30*this.group.counter_users)}})</script></dom-module><dom-module id="yp-page"assetpath="../yp-page/"><template><style include="iron-flex iron-flex-alignment">:host{@apply --layout-vertical;height:100%;width:100%;}.mainArea{background-color:var(--primary-background-color);height:100%;width:100%;}.topArea{background-color:var(--primary-background-color);background-image:var(--top-area-background-image, none);height:300px;}.topArea{min-height:300px;}.tab-wrapper{min-height:64px;}.largeButtonWrapper{min-height:120px;}.middleArea{background-color:var(--primary-color-600);}.createFab{position:fixed;bottom:24px;right:28px;background-color:var(--accent-color);color:#FFF;--paper-fab-iron-icon:{color:var(--icon-general-color, #FFF);height:40px;width:40px;};}.createFab[wide-layout]{width:72px;height:72px;--paper-fab-iron-icon:{color:var(--icon-general-color, #FFF);width:60px;height:60px;};}.createFabContainer[wide-layout] .createFab{}paper-fab[wide-layout]::shadow #icon{width:40px;height:40px;}.tab-wrapper ::slotted(.tabs){width:1100px;padding-top:8px;padding-bottom:8px;}.tab-wrapper ::slotted(.tabs .tab){}@media (max-width: 1024px){.tab-wrapper ::slotted(.tabs){max-width:920px;}.tab-wrapper ::slotted(.tabs .tab){width:200px;}.topArea{height:auto;min-height:auto;}}@media (max-width: 945px){.tab-wrapper ::slotted(.tabs){width:100%;font-size:14px !important;word-wrap:break-word !important;}.tab-wrapper ::slotted(.tabs .tab){width:120px;word-wrap:break-word !important;}.tab-wrapper{min-height:60px;}.topArea[is-post]{min-height:470px;}}@media (max-width: 380px){.tab-wrapper ::slotted(.tabs){max-width:330px;font-size:12px !important;}.tab-wrapper ::slotted(paper-tab){width:100px;}.topArea[is-post]{min-height:530px;}.largeButtonWrapper{min-height:80px;}}@media (max-width: 480px){}[hidden]{display:none !important;}</style><div class="layout vertical mainArea"><div id="topArea"class="large-card-wrapper layout horizontal center-center topArea"is-post$="[[isPost]]"><slot name="largeCard"></slot></div><template is="dom-if"if="[[hasLargeButton]]"><div class="largeButtonWrapper layout horizontal center-center"hidden$="[[!wideWidth]]"><slot name="largeAddButton"></slot></div></template><div class="tab-wrapper layout horizontal center-center"hidden$="[[hideAllTabs]]"><slot name="tabs"></slot></div><div class="tab-pages-wrapper layout vertical"><slot name="tabPages"></slot></div></div><div class="create-fab-wrapper layout horizontal end-justified createFabContainer middleArea"><template is="dom-if"if="[[createFabIcon]]"><paper-fab class="createFab"icon="[[createFabIcon]]"elevation="5"wide-layout$="{{wideWidth}}"title$="[[createFabTitle]]"on-tap="_createTap"></paper-fab></template></div><iron-media-query query="(min-width: 1024px)"query-matches="{{wideWidth}}"></iron-media-query></template><script>Polymer({is:"yp-page",properties:{wideWidth:{type:Boolean,value:!1},createFabIcon:{type:String,value:null},createFabTitle:{type:String},isPost:{type:Boolean,value:!1},hasLargeButton:{type:Boolean,value:!1},hideAllTabs:{type:Boolean,value:!1}},behaviors:[Polymer.ypLanguageBehavior,Polymer.ypMediaFormatsBehavior],listeners:{"yp-setup-header-image":"_setupTopHeaderImageEvent"},_setupTopHeaderImageEvent:function(e,a){this.setupTopHeaderImage(a)},setupTopHeaderImage:function(e){var a;this.wideWidth&&(a=e?"url("+this.getImageFormatUrl(e,0)+")":"none",this.updateStyles({"--top-area-background-image":a}))},_fabTabChanged:function(){},_createTap:function(){this.fire("yp-create-fab-tap")}})</script></dom-module><dom-module id="yp-membership-button"assetpath="../yp-membership-button/"><template><style include="iron-flex iron-flex-alignment">:host{background-color:transparent;}paper-fab{background-color:#999;color:#FFF;--paper-fab-iron-icon:{color:#fff;};}.heartButton{color:#999;cursor:pointer;width:36px;height:36px;}.member{background-color:var(--accent-color);}[hidden]{display:none !important;}</style><paper-fab mini=""elevation="5"id="button"title$="[[t('toggleMembership')]]"on-tap="_toggleMembership"disabled="[[disabled]]"class="heartButton"icon="favorite"></paper-fab><yp-ajax class="ajax"id="membershipAjax"hidden$="[[!disabled]]"method="POST"on-response="_membershipResponse"></yp-ajax><lite-signal on-lite-signal-got-memberships="_updateMembershipFromSignal"></lite-signal></template><script>Polymer({is:"yp-membership-button",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypRemoveClassBehavior],properties:{community:{type:Object,observer:"_communityChanged"},group:{type:Object,observer:"_groupChanged"},membershipValue:{type:Boolean,value:!1},disabled:{type:Boolean,value:!1},large:{type:Boolean,value:!1}},_communityChanged:function(e){e&&this._updateMembership()},_groupChanged:function(e){e&&this._updateMembership()},_updateMembershipFromSignal:function(){this._updateMembership()},_updateMembership:function(){window.appUser&&window.appUser.loggedIn()&&window.appUser.membershipsIndex?this.community?this.set("membershipValue",window.appUser.membershipsIndex.communities[this.community.id]):this.group?this.set("membershipValue",window.appUser.membershipsIndex.groups[this.group.id]):this.set("membershipValue",!1):this.set("membershipValue",!1),this._resetClasses()},_resetClasses:function(){this.membershipValue?this.$.button.className+=" member":this.removeClass(this.$.button,"member")},_membershipResponse:function(e,i){this.set("disabled",!1),this.set("membershipValue",i.response.membershipValue),this.membershipValue?window.appGlobals.notifyUserViaToast(this.t("membership.joined")+" "+i.response.name):window.appGlobals.notifyUserViaToast(this.t("membership.left")+" "+i.response.name),this._resetClasses(),!0===i.response.membershipValue?this.community?window.appUser.membershipsIndex.communities[this.community.id]=!0:this.group&&(window.appUser.membershipsIndex.groups[this.group.id]=!0):this.community?window.appUser.membershipsIndex.communities[this.community.id]=null:this.group&&(window.appUser.membershipsIndex.groups[this.group.id]=null)},generateMembershipFromLogin:function(e){this.community?window.appUser.membershipsIndex.communities[this.community.id]||this.generateMembership(e):this.group&&(window.appUser.membershipsIndex.groups[this.group.id]||this.generateMembership(e))},_toggleMembership:function(){this.community?window.appGlobals.activity("clicked","toggleCommunityMembership",this.community.id):this.group&&window.appGlobals.activity("clicked","toggleGroupMembership",this.group.id),this.generateMembership(!this.membershipValue)},generateMembership:function(e){this.set("disabled",!0),!0===window.appUser.loggedIn()?(this.community?this.$.membershipAjax.url="/api/communities/"+this.community.id+"/user_membership":this.group&&(this.$.membershipAjax.url="/api/groups/"+this.group.id+"/user_membership"),this.$.membershipAjax.body={value:e},this.$.membershipAjax.method=e?"POST":"DELETE",this.$.membershipAjax.generateRequest()):(this.set("disabled",!1),window.appUser.loginForMembership(this,{value:e}))}})</script></dom-module><script>Polymer.CommunityBehaviors={properties:{community:{type:Object,notify:!0,observer:"_communityChanged"},communityLogoImagePath:{type:String,computed:"_communityLogoImagePath(community)"},communityLogoImageNextPath:{type:String,computed:"_communityLogoImageNextPath(community)"},communityHeaderImagePath:{type:String,computed:"_communityHeaderImagePath(community)"},communityName:{type:String,computed:"_communityName(community)"},communityNameFull:{type:String,computed:"_communityName(community, 1)"},communityDescription:{type:String,computed:"_communityDescription(community)"},communityDescriptionFull:{type:String,computed:"_communityDescription(community,1)"},noImage:{type:Boolean,value:!0},featured:{type:Boolean,value:!1},archived:{type:Boolean,value:!1},largeFont:{type:Boolean,value:!1}},_communityChanged:function(t){window.appGlobals.largeFont?this.set("largeFont",!0):this.set("largeFont",!1),t?(t.CommunityLogoImages&&0<t.CommunityLogoImages.length?this.set("noImage",!1):this.set("noImage",!0),"featured"==t.status?this.set("featured",!0):"archived"==t.status?this.set("archived",!0):(this.set("featured",!1),this.set("archived",!1))):(this.set("featured",!1),this.set("archived",!1))},_goToCommunity:function(){var t;t=this.community.is_community_folder?"/community_folder/"+this.community.id:"/community/"+this.community.id,window.appGlobals.activity("open","community",t,{id:this.community.id}),null===window.appGlobals.backToDomainCommunityItems&&(window.appGlobals.backToDomainCommunityItems={}),window.appGlobals.backToDomainCommunityItems[this.community.domain_id]=this.community,console.log("Saving community scroll item for domain "+this.community.domain_id),this.redirectTo(t)},_communityLogoImagePath:function(t){if(t)return this.getImageFormatUrl(t.CommunityLogoImages,0)},_communityLogoImageNextPath:function(t){if(t)return this.getImageFormatNextUrl(t.CommunityLogoImages,0)},_communityHeaderImagePath:function(t){if(t)return this.getImageFormatUrl(t.CommunityHeaderImages,0)},_communityName:function(t,m){return t&&t.name?this.truncate(this.trim(t.name),m?300:35,"..."):t?t.short_name:""},_communityDescription:function(t,m){return t&&t.description?this.truncate(this.trim(t.description),m?300:120,"..."):""},getImageFormatNextUrl:function(t,m){if(!(t&&1<t.length))return"";var o=JSON.parse(t[t.length-2].formats);return o&&0<o.length?o[m]:void 0}}</script><dom-module id="yp-community-stats"assetpath="../yp-community/"><template><style include="iron-flex iron-flex-alignment">:host{display:block;width:100%;}.stats{padding-top:8px;padding-bottom:8px;color:var(--main-stats-color-on-white);}.stats-text{font-size:18px;text-align:right;vertical-align:bottom;padding-right:8px;color:var(--main-stats-color-on-white);}.stats-icon{padding-left:8px;margin-right:4px;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><div class="stats layout horizontal end-justified"><iron-icon title$="[[t('stats.posts')]]"icon="lightbulb-outline"class="stats-icon bulb"></iron-icon><div title$="[[t('stats.posts')]]"class="stats-text"style="">{{formatNumber(community.counter_posts)}}</div><iron-icon title$="[[t('stats.groups')]]"icon="people"class="stats-icon"></iron-icon><div title$="[[t('stats.groups')]]"class="stats-text"style="">{{formatNumber(community.counter_groups)}}</div><iron-icon title$="[[t('stats.users')]]"icon="face"class="stats-icon"></iron-icon><div title$="[[t('stats.users')]]"class="stats-text">{{formatNumber(community.counter_users)}}</div></div></template><script>Polymer({is:"yp-community-stats",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypNumberFormatBehavior],properties:{community:{type:Object,observer:"_communityChanged"}},_communityChanged:function(o){var t=null;if(o&&o.is_community_folder&&!o.Communities&&o.CommunityFolders?t=o.CommunityFolders:o&&o.is_community_folder&&o.Communities&&(t=o.Communities),t){var e=0,m=0,n=0;t.forEach(function(o){e+=o.counter_posts,m+=o.counter_groups,n+=o.counter_users});var r=1;9<t.length?r=.7:1<t.length&&(r=.8),this.set("community.counter_posts",e),this.set("community.counter_groups",m),this.set("community.counter_users",Math.round(n*r))}}})</script></dom-module><script>Polymer.GroupCollectionBehaviors={properties:{activeGroups:{type:Array,notify:!0},featuredGroups:{type:Array},archivedGroups:{type:Array},groupsLength:{type:Number}},setupGroups:function(t,e){this.set("groupsLength",t.length);var r=this.splitByStatus(t,e);this.set("activeGroups",r.featured.concat(r.active.concat(r.archived)))}}</script><script>Polymer.ypCardMouseBehavior={cardMouseOver:function(e){e.currentTarget.elevation=5},cardMouseOut:function(e){e.currentTarget.elevation=1}}</script><dom-module id="paper-card"assetpath="../../bower_components/paper-card/"><template><style include="paper-material-styles">:host{display:inline-block;position:relative;box-sizing:border-box;background-color:var(--paper-card-background-color, var(--primary-background-color));border-radius:2px;@apply --paper-font-common-base;@apply --paper-card;}:host([hidden]), [hidden]{display:none !important;}.header{position:relative;border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;@apply --paper-card-header;}.header iron-image{display:block;width:100%;--iron-image-width:100%;pointer-events:none;@apply --paper-card-header-image;}.header .title-text{padding:16px;font-size:24px;font-weight:400;color:var(--paper-card-header-color, #000);@apply --paper-card-header-text;}.header .title-text.over-image{position:absolute;bottom:0px;@apply --paper-card-header-image-text;}:host ::slotted(.card-content){padding:16px;position:relative;@apply --paper-card-content;}:host ::slotted(.card-actions){border-top:1px solid #e8e8e8;padding:5px 16px;position:relative;@apply --paper-card-actions;}:host([elevation="1"]){@apply --paper-material-elevation-1;}:host([elevation="2"]){@apply --paper-material-elevation-2;}:host([elevation="3"]){@apply --paper-material-elevation-3;}:host([elevation="4"]){@apply --paper-material-elevation-4;}:host([elevation="5"]){@apply --paper-material-elevation-5;}</style><div class="header"><iron-image hidden$="[[!image]]"aria-hidden$="[[_isHidden(image)]]"src="[[image]]"alt="[[alt]]"placeholder="[[placeholderImage]]"preload="[[preloadImage]]"fade="[[fadeImage]]"></iron-image><div hidden$="[[!heading]]"class$="title-text [[_computeHeadingClass(image)]]">[[heading]]</div></div><slot></slot></template><script>Polymer({is:"paper-card",properties:{heading:{type:String,value:"",observer:"_headingChanged"},image:{type:String,value:""},alt:{type:String},preloadImage:{type:Boolean,value:!1},fadeImage:{type:Boolean,value:!1},placeholderImage:{type:String,value:null},elevation:{type:Number,value:1,reflectToAttribute:!0},animatedShadow:{type:Boolean,value:!1},animated:{type:Boolean,reflectToAttribute:!0,readOnly:!0,computed:"_computeAnimated(animatedShadow)"}},_isHidden:function(e){return e?"false":"true"},_headingChanged:function(e){var t=this.getAttribute("heading"),a=this.getAttribute("aria-label");"string"==typeof a&&a!==t||this.setAttribute("aria-label",e)},_computeHeadingClass:function(e){return e?" over-image":""},_computeAnimated:function(e){return e}})</script></dom-module><script>Polymer.LargeCardBehaviors={properties:{editMenuAlign:{type:String,computed:"_getEditMenuAlignment(narrowScreen)"},flaggedContentCount:{type:Number,value:null},narrowScreen:Boolean},_setFlaggedContentCount:function(e,t){this.set("flaggedContentCount",t.response.count)},_getEditMenuAlignment:function(e){return e?"right":"left"},lowerCardLater:function(){this.async(function(){this.setElevation(3)},2500)},setElevation:function(e){var t=this.$$("#card");t&&(t.elevation=e)},ready:function(){this.lowerCardLater()}}</script><dom-module id="yp-community-header"assetpath="../yp-community/"><template><style include="iron-flex iron-flex-alignment">:host{}.communityAccess{padding-bottom:8px;}.description{line-height:var(--description-line-height, 1.3);background-color:rgba(250,250,250,0.0);color:#111;font-size:18px;text-align:center;max-width:750px;padding-left:16px;padding-right:16px;}.stats{background-color:rgba(250,250,250,0.0);--main-stats-color-on-white:#000;}iron-image{width:432px;height:243px;}.large-card{background-color:#fefefe;color:#333;height:243px;width:432px;padding:0 !important;margin-top:0 !important;}.image{width:100px;height:100px;margin-top:8px;}.edit{color:#FFF;padding-right:0;margin-right:0;}.contentContainer{@apply --layout-horizontal;}.textBox{margin-right:32px;}.community-name{background-color:rgba(250,250,250,0.0);color:#222;font-weight:bold;font-size:58px;padding-top:8px;padding-left:16px;padding-right:16px;}.nameBorder{border-bottom:2px solid;margin-bottom:8px;margin-top:8px;margin-left:180px;margin-right:180px;}@media (max-width: 945px){:host{width:306px;}.large-card{width:306px;height:100%;}.top-card{margin-bottom:16px;}.edit{}.community-name{font-size:28px;text-align:center;padding-top:4px;padding-bottom:4px;}.description{font-size:17px;}.communityDescription{padding-top:6px;padding-bottom:4px;}.stats{}.textBox{margin-right:0;}}.rounded-even-more{-webkit-border-radius:90px;-moz-border-radius:90px;border-radius:90px;display:block;vertical-align:top;align:center;-webkit-transform-style:preserve-3d;}[hidden]{display:none !important;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><template is="dom-if"if="[[community]]"><div class="layout vertical center-center"><iron-image class="image rounded-even-more"sizing="cover"src$="[[communityLogoImagePath]]"></iron-image><div class="community-name rounded-even-more">[[communityNameFull]]</div><div class="layout horizontal center-center"><yp-community-stats class="stats"community="[[community]]"></yp-community-stats></div><div class="description layout horizontal center-center rounded-even-more"><div id="description"class="communityDescription"></div><div><paper-menu-button class="edit"vertical-align="top"horizontal-align="[[editMenuAlign]]"hidden$="[[!hasCommunityAccess]]"><paper-icon-button aria-label$="[[t('openCommunityMenu')]]"icon="more-vert"slot="dropdown-trigger"></paper-icon-button><paper-listbox slot="dropdown-content"on-iron-select="_menuSelection"selected="{{selectedMenuItem}}"><paper-item id="editMenuItem">[[t('community.edit')]]</paper-item><paper-item id="usersMenuItem">[[t('community.users')]]</paper-item><paper-item id="adminsMenuItem">[[t('community.admins')]]</paper-item><paper-item id="deleteMenuItem">[[t('community.delete')]]</paper-item><paper-item id="pagesMenuItem">[[t('pages.managePages')]]</paper-item><paper-item id="bulkStatusUpdateMenuItem">[[t('bulkStatusUpdate')]]</paper-item></paper-listbox></paper-menu-button></div></div></div></template><iron-media-query query="(max-width: 800px)"query-matches="{{narrowScreen}}"></iron-media-query><lite-signal on-lite-signal-got-admin-rights="_gotAdminRights"></lite-signal></template><script>Polymer({is:"yp-community-header",behaviors:[Polymer.ypLanguageBehavior,Polymer.CommunityBehaviors,Polymer.LargeCardBehaviors,Polymer.AccessHelpers,Polymer.ypGotAdminRightsBehavior,Polymer.ypGotoBehavior,Polymer.ypTruncateBehavior,Polymer.ypMediaFormatsBehavior],properties:{community:{type:Object,observer:"_communityChanged"},hasCommunityAccess:{type:Boolean,value:!1,computed:"_hasCommunityAccess(community, gotAdminRights)"}},_communityChanged:function(){},_hasCommunityAccess:function(e,t){return!(!e||!t)&&null!=this.checkCommunityAccess(e)},_communityAccessText:function(e){switch(e){case 0:return this.t("community.public");case 1:return this.t("community.closed");case 2:return this.t("community.secret")}},_menuSelection:function(e,t){"editMenuItem"==t.item.id?this._openEdit():"deleteMenuItem"==t.item.id?this._openDelete():"usersMenuItem"==t.item.id?this._openUsersDialog():"adminsMenuItem"==t.item.id?this._openAdminsDialog():"pagesMenuItem"==t.item.id?this._openPagesDialog():(t.item.id="bulkStatusUpdateMenuItem")&&this._openBulkStatusUpdates(),this.set("selectedMenuItem",null)},_openBulkStatusUpdates:function(){window.appGlobals.activity("open","community.bulkStatusUpdates"),document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"open-bulk-status-updates",data:null}})),Polymer.dom(document).querySelector("yp-app").getDialogAsync("bulkStatusUpdateGrid",function(e){e.open(this.community.id)}.bind(this))},_openUsersDialog:function(){window.appGlobals.activity("open","community.users"),Polymer.dom(document).querySelector("yp-app").getUsersGridAsync(function(e){e.setup(null,this.community.id,null,!1),e.open(this.community.name)}.bind(this))},_openAdminsDialog:function(){window.appGlobals.activity("open","community.admins"),Polymer.dom(document).querySelector("yp-app").getUsersGridAsync(function(e){e.setup(null,this.community.id,null,!0),e.open(this.community.name),e.open()}.bind(this))},_openPagesDialog:function(){window.appGlobals.activity("open","community.pagesAdmin"),Polymer.dom(document).querySelector("yp-app").getDialogAsync("pagesGrid",function(e){e.setup(null,this.community.id,null,!1),e.open()}.bind(this))},_openDelete:function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("apiActionDialog",function(e){e.setup("/api/communities/"+this.community.id,this.t("community.deleteConfirmation"),this._onDeleted.bind(this)),e.open()}.bind(this))},_openEdit:function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("communityEdit",function(e){e.setup(this.community,!1,this._refresh.bind(this)),e.open("edit",{communityId:this.community.id})}.bind(this))},_onDeleted:function(){this.redirectTo("/domain/"+this.community.domain_id)},_refresh:function(e){e&&this.set("community",e),this.fire("update-community")}})</script></dom-module><dom-module id="yp-community-large-card"assetpath="../yp-community/"><template><style include="iron-flex iron-flex-alignment">:host{}.communityAccess{padding-bottom:8px;}.description{line-height:var(--description-line-height, 1.3);}video{outline:none !important;}.stats{position:absolute;bottom:0;right:8px;}.community-name{padding:0;padding-bottom:4px;padding-right:1px;margin:0;font-size:24px;font-weight:700;}.community-name[widetext]{font-size:20px;}.community-name[largefont]{font-size:22px;}iron-image, video{width:432px;height:243px;}.large-card{background-color:#fefefe;color:#333;height:243px;width:432px;padding:0 !important;margin-top:0 !important;}.image{width:432px;height:243px;}.description-and-stats{width:100%;}.edit{color:#FFF;position:absolute;top:0;right:0px;padding-right:0;margin-right:0;z-index:200;}.contentContainer{@apply --layout-horizontal;}.description-and-stats{padding-bottom:32px;}.description{padding:0;margin:0;z-index:100;}.communityDescription{padding-left:16px;padding-right:16px;padding-top:14px;}.communityDescription[widetext]{font-size:14px !important;}.community-name{background-color:var(--primary-color-800, #000);color:#fafafa;padding-left:16px;padding-top:16px;padding-bottom:16px;min-height:31px;padding-right:32px;}.textBox{margin-left:32px;position:relative;}#welcomeHTML{width:432px;max-width:432px;overflow:hidden;}.k2017Image{height:72px;}.k2017FeaturedImage{height:85px;}.k2017extraMargin{margin-right:68px;margin-left:45px;}.k2017topPadding{padding:8px;}.k2017topPadding a:link{color:#333;}.k2017topPadding a:visited{color:#333;}.k2017showOnlyMobile{display:none;}@media (max-width: 960px){:host{max-width:423px;padding:0 !important;padding-top:8px !important;width:100%;}.k2017Image{height:42px;}.k2017FeaturedImage{height:55px;}.k2017extraMargin{margin-right:52px;margin-left:32px;}.k2017topPadding{padding-top:4px;}.k2017hiddenMobile{display:none;}.k2017showOnlyMobile{display:inline;}#welcomeHTML{width:306px;max-width:306px;}.large-card{width:100%;height:100%;margin-left:8px;margin-right:8px;margin-top:8px !important;}.top-card{margin-bottom:16px;}iron-image, video, .image{width:100%;height:230px;}.imageCard{height:230px;}.imageCard[is-video]{background-color:transparent;}.community-name{font-size:20px;min-height:26px;}.communityDescription{padding-bottom:8px;}.stats{}.textBox{margin-left:8px;}}@media (max-width: 420px){iron-image, video, .image{height:225px;}.imageCard{height:225px;}}@media (max-width: 400px){iron-image, video, .image{height:210px;}.imageCard{height:210px;}}@media (max-width: 375px){iron-image, video, .image{height:207px;}.imageCard{height:205px;}}@media (max-width: 360px){iron-image, video, .image{height:200px;}.imageCard{height:200px;}}@media (max-width: 320px){iron-image, video, .image{height:180px;}.imageCard{height:180px;}}[hidden]{display:none !important;}a{text-decoration:none;color:inherit;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><div class="layout horizontal wrap"aria-label="[[t('community')]]"role="banner"><paper-material is-video$="[[communityVideoURL]]"id="cardImage"elevation="3"animated=""class="large-card imageCard top-card"><div id="welcomeHTML"hidden$="[[!community.configuration.welcomeHTML]]"class="layout vertical center-center"></div><div hidden$="[[community.configuration.welcomeHTML]]"><template is="dom-if"if="[[communityVideoURL]]"restamp=""><video id="videoPlayer"data-id$="[[communityVideoId]]"controls=""preload="meta"class="image pointer"src="[[communityVideoURL]]"playsinline=""poster="[[communityVideoPosterURL]]"></video></template><template is="dom-if"if="[[!communityVideoURL]]"><iron-image class="image"sizing="cover"alt$="[[community.name]]"src$="[[communityLogoImagePath]]"></iron-image></template></div></paper-material><paper-material id="card"elevation="3"animated=""class="large-card textBox"><div class="layout vertical"><div class="layout horizontal wrap"><div class="layout vertical description-and-stats"><div class="description"><div role="heading"aria-level="1"aria-label="[[community.name]]"><template is="dom-if"if="[[community]]"><yp-magic-text text-type="communityName"widetext$="[[wideText]]"class="community-name"content-language="[[community.language]]"largefont$="[[largeFont]]"disable-translation="[[community.configuration.disableNameAutoTranslation]]"text-only=""content="[[communityNameFull]]"content-id="[[community.id]]"></yp-magic-text></template></div><div hidden=""class="communityAccess">[[_communityAccessText(community.access)]]</div><yp-magic-text id="description"class="communityDescription"widetext$="[[wideText]]"largefont$="[[largeFont]]"text-type="communityContent"content-language="[[community.language]]"content="[[community.description]]"content-id="[[community.id]]"></yp-magic-text></div></div></div><paper-menu-button class="edit"vertical-align="top"horizontal-align="[[editMenuAlign]]"hidden$="[[!showMenuItem]]"><paper-icon-button aria-label$="[[t('openCommunityMenu')]]"icon="more-vert"slot="dropdown-trigger"></paper-icon-button><paper-listbox slot="dropdown-content"on-iron-select="_menuSelection"><paper-item hidden$="[[!hasCommunityAccess]]"id="editMenuItem">[[t('community.edit')]]</paper-item><paper-item hidden$="[[!hasCommunityAccess]]"id="usersMenuItem">[[t('community.users')]]</paper-item><paper-item hidden$="[[!hasCommunityAccess]]"id="adminsMenuItem">[[t('community.admins')]]</paper-item><paper-item hidden$="[[!hasCommunityAccess]]"id="pagesMenuItem">[[t('pages.managePages')]]</paper-item><paper-item hidden$="[[!hasCommunityAccessAndNotFolder]]"id="moderationMenuItem">[[t('flaggedContent')]] <span hidden$="[[!flaggedContentCount]]">&nbsp; ([[flaggedContentCount]])</span></paper-item><template is="dom-if"if="[[community.configuration.enableFraudDetection]]"><paper-item hidden$="[[!hasCommunityAccessAndNotFolder]]"id="fraudManagementMenuItem">[[t('fraudManagement')]] <span hidden=""hiddentempt$="[[!flaggedContentCount]]">&nbsp; ()</span></paper-item><paper-item hidden$="[[!hasCommunityAccess]]"id="createReportFraudReport">[[t('downloadFraudAuditReports')]]</paper-item></template><paper-item hidden$="[[!hasCommunityAccessAndNotFolder]]"id="moderationAllMenuItem">[[t('manageAllContent')]]</paper-item><a hidden$="[[!hasCommunityAccess]]"target="_blank"href$="[[exportLoginsUrl]]"><paper-item id="exportLogins">[[t('exportLogins')]]</paper-item></a><paper-item hidden$="[[!hasCommunityAccess]]"id="createReportXlsUsers">[[t('exportUsers')]]</paper-item><paper-item hidden$="[[!hasCommunityAccess]]"id="deleteMenuItem">[[t('community.delete')]]</paper-item><paper-item hidden$="[[!hasCommunityAccessAndNotFolder]]"id="anonymizeMenuItem">[[t('anonymizeCommunityContent')]]</paper-item><paper-item hidden$="[[!hasCommunityAccessAndNotFolder]]"id="deleteContentMenuItem">[[t('deleteCommunityContent')]]</paper-item><paper-item hidden$="[[!hasCommunityAccessAndNotFolder]]"id="bulkStatusUpdateMenuItem">[[t('bulkStatusUpdate')]]</paper-item><paper-item id="addGroupMenuItem"hidden$="[[community.is_community_folder]]">[[t('group.new')]]</paper-item><paper-item hidden=""id="addCommunityFolderMenuItem">[[t('newCommunityFolder')]]</paper-item><paper-item id="openAnalyticsApp"hidden$="[[!hasCommunityAccess]]">[[t('openAnalyticsApp')]]</paper-item><paper-item id="openAdminApp"hidden$="[[!hasCommunityAccess]]">[[t('editTranslations')]]</paper-item></paper-listbox></paper-menu-button></div><yp-community-stats class="stats"community="[[community]]"></yp-community-stats></paper-material></div><template is="dom-if"if="[[community]]"restamp=""><template is="dom-if"if="[[hasCommunityAccess]]"restamp=""><yp-ajax hidden=""disable-user-error=""method="GET"url="/api/communities/[[community.id]]/flagged_content_count"auto=""on-response="_setFlaggedContentCount"></yp-ajax></template></template><iron-media-query query="(max-width: 800px)"query-matches="{{narrowScreen}}"></iron-media-query><lite-signal on-lite-signal-got-admin-rights="_gotAdminRights"></lite-signal><lite-signal on-lite-signal-yp-pause-media-playback="_pauseMediaPlayback"></lite-signal></template><script>Polymer({is:"yp-community-large-card",behaviors:[Polymer.ypLanguageBehavior,Polymer.CommunityBehaviors,Polymer.LargeCardBehaviors,Polymer.AccessHelpers,Polymer.ypGotAdminRightsBehavior,Polymer.ypGotoBehavior,Polymer.ypTruncateBehavior,Polymer.ypMediaFormatsBehavior],properties:{community:{type:Object,observer:"_communityChanged"},hasCommunityAccess:{type:Boolean,value:!1,computed:"_hasCommunityAccess(community, gotAdminRights)"},showMenuItem:{type:Boolean,value:!1,computed:"_showMenuItem(hasCommunityAccess, community)"},communityVideoURL:{type:String,computed:"_communityVideoURL(community)"},communityVideoPosterURL:{type:String,computed:"_communityVideoPosterURL(community)"},hasCommunityAccessAndNotFolder:{type:Boolean,computed:"_hasCommunityAccessAndNotFolder(community, hasCommunityAccess)"},communityVideoId:Number,flaggedContentCount:{type:Number,value:null},exportLoginsUrl:{type:String,computed:"_exportLoginsUrl(hasCommunityAccess, community)"},exportUsersUrl:{type:String,computed:"_exportUsersUrl(hasCommunityAccess, community)"}},_exportLoginsUrl:function(e,t){return e&&t?"/api/communities/"+t.id+"/export_logins":null},_exportUsersUrl:function(e,t){return e&&t?"/api/communities/"+t.id+"/export_users":null},_hasCommunityAccessAndNotFolder:function(e,t){return e&&!e.is_community_folder&&t||!1},_communityVideoURL:function(e){if(e&&e.configuration&&e.configuration.useVideoCover&&e.CommunityLogoVideos){var t=this._getVideoURL(e.CommunityLogoVideos);return t?(this.set("communityVideoId",e.CommunityLogoVideos[0].id),t):null}return null},_communityVideoPosterURL:function(e){if(e&&e.configuration&&e.configuration.useVideoCover&&e.CommunityLogoVideos){var t=this._getVideoPosterURL(e.CommunityLogoVideos,e.CommunityLogoImages);return t||null}return null},_showMenuItem:function(e,t){return e||t&&!t.only_admins_can_create_groups},_communityChanged:function(t,e){window.appGlobals.largeFont?this.set("largeFont",!0):this.set("largeFont",!1),t&&t.description&&(this.async(function(){if(t.configuration&&t.configuration.welcomeHTML&&""!==t.configuration.welcomeHTML&&this.$$("#welcomeHTML")){var e=document.createElement("div");e.innerHTML=t.configuration.welcomeHTML,this.$$("#welcomeHTML").innerHTML="",Polymer.dom(this.$$("#welcomeHTML")).appendChild(e)}else this.$$("#welcomeHTML")&&(this.$$("#welcomeHTML").innerHTML="")}),480<window.innerWidth&&(this.largeFont?this.$$("#description").style.fontSize="14px":250<t.description.length&&t.name&&35<t.name.length?this.$$("#description").style.fontSize="14.3px":220<t.description.length&&t.name&&30<t.name.length?this.$$("#description").style.fontSize="15px":this.$$("#description").style.fontSize="16px")),this.setupMediaEventListeners(t,e)},_hasCommunityAccess:function(e,t){return!(!e||!t)&&null!=this.checkCommunityAccess(e)},_communityAccessText:function(e){switch(e){case 0:return this.t("community.public");case 1:return this.t("community.closed");case 2:return this.t("community.secret")}},_menuSelection:function(e,t){"editMenuItem"===t.item.id?this._openEdit():"deleteMenuItem"===t.item.id?this._openDelete():"usersMenuItem"===t.item.id?this._openUsersDialog():"adminsMenuItem"===t.item.id?this._openAdminsDialog():"pagesMenuItem"===t.item.id?this._openPagesDialog():"bulkStatusUpdateMenuItem"===t.item.id?this._openBulkStatusUpdates():"addGroupMenuItem"===t.item.id?this.fire("yp-new-group"):"moderationMenuItem"===t.item.id?this._openContentModeration():"fraudManagementMenuItem"===t.item.id?this._openFraudManagement():"moderationAllMenuItem"===t.item.id?this._openAllContentModeration():"anonymizeMenuItem"===t.item.id?this._openAnonymizeContent():"deleteContentMenuItem"===t.item.id?this._openDeleteContent():"createReportXlsUsers"===t.item.id?this._openCreateXlsUsersReport():"createReportFraudReport"===t.item.id?this.createReportFraudReport():"addCommunityFolderMenuItem"===t.item.id?this.fire("yp-new-community-folder"):"openAnalyticsApp"===t.item.id?window.location="/analytics/community/"+this.community.id:"openAdminApp"===t.item.id&&(window.location="/admin/community/"+this.community.id),this.$$("paper-listbox").select(null)},_openCreateXlsUsersReport:function(){window.appGlobals.activity("open","createReportXlsUsers"),Polymer.dom(document).querySelector("yp-app").getCreateReportAsync(function(e){e.setupAndOpen("usersxls",null,this.community)}.bind(this))},createReportFraudReport:function(){window.appGlobals.activity("open","createReportFraudReport"),Polymer.dom(document).querySelector("yp-app").getCreateReportAsync(function(e){e.setupAndOpen("fraudAuditReport",null,this.community)}.bind(this))},_openContentModeration:function(){window.appGlobals.activity("open","communityContentModeration"),Polymer.dom(document).querySelector("yp-app").getContentModerationAsync(function(e){e.setup(null,this.community.id,null,!1),e.open(this.community.name)}.bind(this))},_openFraudManagement:function(){window.appGlobals.activity("open","communityFraudManagement"),Polymer.dom(document).querySelector("yp-app").getFraudManagementAsync(function(e){e.setup(null,this.community.id,null,!1),e.open(this.community.name)}.bind(this))},_openAllContentModeration:function(){window.appGlobals.activity("open","communityAllContentModeration"),Polymer.dom(document).querySelector("yp-app").getContentModerationAsync(function(e){e.setup(null,this.community.id,null,"/moderate_all_content"),e.open(this.community.name)}.bind(this))},_openBulkStatusUpdates:function(){window.appGlobals.activity("open","community.bulkStatusUpdates"),document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"open-bulk-status-updates",data:null}})),this.async(function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("bulkStatusUpdateGrid",function(e){e.open(this.community.id)}.bind(this))})},_openUsersDialog:function(){window.appGlobals.activity("open","community.users"),Polymer.dom(document).querySelector("yp-app").getUsersGridAsync(function(e){e.setup(null,this.community.id,null,!1),e.open(this.community.name)}.bind(this))},_openAdminsDialog:function(){window.appGlobals.activity("open","community.admins"),Polymer.dom(document).querySelector("yp-app").getUsersGridAsync(function(e){e.setup(null,this.community.id,null,!0),e.open(this.community.name)}.bind(this))},_openPagesDialog:function(){window.appGlobals.activity("open","community.pagesAdmin"),Polymer.dom(document).querySelector("yp-app").getDialogAsync("pagesGrid",function(e){e.setup(null,this.community.id,null,!1),e.open()}.bind(this))},_openDelete:function(){window.appGlobals.activity("open","community.delete"),Polymer.dom(document).querySelector("yp-app").getDialogAsync("apiActionDialog",function(e){e.setup("/api/communities/"+this.community.id,this.t("communityDeleteConfirmation"),this._onDeleted.bind(this)),e.open({finalDeleteWarning:!0})}.bind(this))},_openDeleteContent:function(){window.appGlobals.activity("open","community.deleteContents"),Polymer.dom(document).querySelector("yp-app").getDialogAsync("apiActionDialog",function(e){e.setup("/api/communities/"+this.community.id+"/delete_content",this.t("communityDeleteContentConfirmation")),e.open({finalDeleteWarning:!0})}.bind(this))},_openAnonymizeContent:function(){window.appGlobals.activity("open","community.anonymize"),Polymer.dom(document).querySelector("yp-app").getDialogAsync("apiActionDialog",function(e){e.setup("/api/communities/"+this.community.id+"/anonymize_content",this.t("communityAnonymizeConfirmation"),null,this.t("anonymize")),e.open({finalDeleteWarning:!0})}.bind(this))},_openEdit:function(){window.appGlobals.activity("open","community.edit"),Polymer.dom(document).querySelector("yp-app").getDialogAsync("communityEdit",function(e){e.setup(this.community,!1,this._refresh.bind(this)),e.open("edit",{communityId:this.community.id})}.bind(this))},_onDeleted:function(){this.redirectTo("/domain/"+this.community.domain_id),this.dispatchEvent(new CustomEvent("yp-refresh-domain",{bubbles:!0,composed:!0}))},_refresh:function(e){e&&this.set("community",e),this.fire("update-community")}})</script></dom-module><script>Polymer.CommunityCollectionBehaviors={properties:{activeCommunities:{type:Array,notify:!0},featuredCommunities:{type:Array},archivedCommunities:{type:Array},communitiesLength:{type:Number}},setupCommunities:function(t,e){this.set("communitiesLength",t.length);var i=this.splitByStatus(t,e);this.set("activeCommunities",i.featured.concat(i.active.concat(i.archived)))}}</script><dom-module id="yp-community-card"assetpath="../yp-community/"><template><style include="iron-flex iron-flex-alignment">:host{@apply --layout-vertical;}.description{@apply --layout-vertical;color:var(--primary-color-more-darker, #424242);line-height:var(--description-line-height, 1.3);padding:8px;margin-top:4px;font-family:var(--app-header-font-family, Roboto);}.description[widetext]{font-size:15px;}.description[largefont]{font-size:16px;}.stats{color:var(--primary-color-more-darker, #424242);position:absolute;bottom:0;right:8px;}.post-image{width:100%;}.communityCard{height:395px;width:320px;background-color:#fff;padding:0;margin:0;}.communityCard[featured]{}iron-image{width:320px;height:180px;}iron-image[featured]{}.card-content{padding:0;padding-bottom:48px;}iron-image{padding:0;margin:0;}iron-image{padding:0;margin:0;}paper-card{background-color:#f00;vertical-align:text-top;}.informationText{vertical-align:text-top;}.community-name{font-size:24px;padding:14px;background-color:var(--primary-color-800);color:#FFF;cursor:pointer;vertical-align:middle;width:auto;font-family:var(--app-header-font-family, Roboto);}.community-name[widetext]{font-size:18px;}.community-name[largefont]{font-size:20px;}iron-image[archived]{}yp-membership-button{position:absolute;top:159px;right:24px;width:30px;height:30px;color:var(--icon-general-color, #FFF);}.community-name[featured]{background-color:var(--accent-color);}.community-name[archived]{background-color:#aaa;}yp-membership-button[archived]{display:none;}@media (max-width: 960px){:host{max-width:423px;width:100%;padding-top:0 !important;}yp-membership-button{top:205px;}.communityCard{margin-left:0;margin-right:0;padding-left:0;padding-right:0;width:100%;height:100%;padding-bottom:8px;}iron-image{width:100%;height:230px;}iron-image[featured]{}.description{margin-bottom:32px;}}@media (max-width: 420px){iron-image{height:225px;}yp-membership-button{top:205px;}}@media (max-width: 375px){iron-image{height:207px;}yp-membership-button{top:185px;}}@media (max-width: 360px){iron-image{height:200px;}}@media (max-width: 320px){iron-image{height:180px;}yp-membership-button{top:155px;}}.withPointer{cursor:pointer;}[hidden]{display:none !important;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><paper-card featured$="[[featured]]"class="communityCard"animated=""elevation="[[elevation]]"><div class="layout horizontal"><template is="dom-if"if="[[noImage]]"><iron-image header-mode$="[[headerMode]]"archived$="[[archived]]"sizing="cover"class="main-image withPointer"src="https://i.imgur.com/sdsFAoT.png"on-tap="_goToCommunity"></iron-image></template><template is="dom-if"if="[[!noImage]]"><iron-image sizing="cover"archived$="[[archived]]"alt$="[[community.name]]"featured$="[[featured]]"preload=""src="[[communityLogoImagePath]]"class="post-image withPointer"on-tap="_goToCommunity"></iron-image></template></div><div class="informationText"><yp-magic-text text-type="communityName"class="community-name"widetext$="[[wideText]]"content-language="[[community.language]]"disable-translation="[[community.configuration.disableNameAutoTranslation]]"archived$="[[archived]]"featured$="[[featured]]"on-tap="_goToCommunity"largefont$="[[largeFont]]"text-only=""content="[[communityName]]"content-id="[[community.id]]"></yp-magic-text></div><yp-magic-text id="description"class="description withPointer"featured$="[[featured]]"on-tap="_goToCommunity"largefont$="[[largeFont]]"text-type="communityContent"widetext$="[[wideText]]"content-language="[[community.language]]"text-only=""content="[[communityDescription]]"content-id="[[community.id]]"truncate="130"></yp-magic-text><yp-community-stats class="stats"community="[[community]]"></yp-community-stats><template is="dom-if"if="[[!community.is_community_folder]]"><yp-membership-button archived$="[[archived]]"featured$="[[featured]]"community="[[community]]"></yp-membership-button></template></paper-card></template><script>Polymer({is:"yp-community-card",behaviors:[Polymer.ypLanguageBehavior,Polymer.CommunityBehaviors,Polymer.ypTruncateBehavior,Polymer.ypMediaFormatsBehavior,Polymer.ypGotoBehavior],properties:{}})</script></dom-module><dom-module id="yp-community-grid"assetpath="../yp-community/"><template><style include="iron-flex iron-flex-alignment">.card[wide]{padding:16px;}.card{padding:0;padding-top:16px;}.card[wide-padding]{padding:16px !important;}.archivedText{font-size:25px;color:#333;}.archivedBorder{border-bottom:1px solid;width:95%;margin-bottom:12px;border-color:#444;}iron-list{height:100vh;}[hidden]{display:none !important;}:focus{}@media (max-width: 960px){}a{text-decoration:none;width:100%;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><iron-media-query query="(min-width: 1024px)"query-matches="{{wide}}"></iron-media-query><iron-list id="ironList"selection-enabled=""scroll-offset="[[scrollOffset]]"on-selected-item-changed="_selectedItemChanged"items="[[activeCommunities]]"as="community"scroll-target="document"grid$="[[wide]]"role="list"><template><div class="card layout vertical center-center"wide-padding$="[[wide]]"tabindex$="[[tabIndex]]"role="listitem"aria-level="2"aria-label="[[community.name]]"><a href="/[[_communityPath(community)]]/[[community.id]]"id="communityCardHref[[community.id]]"class="layout vertical center-center"><yp-community-card wide$="[[wide]]"community="[[community]]"on-mouseover="cardMouseOver"on-mouseout="cardMouseOut"></yp-community-card></a></div></template></iron-list></template><script>Polymer({is:"yp-community-grid",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypIronListBehavior,Polymer.ypCardMouseBehavior],properties:{featuredCommunities:Array,archivedCommunities:Array,activeCommunities:Array,hideAdd:{type:Boolean,value:!1},scrollOffset:{type:Number,computed:"_scrollOffset(wide, featuredGroups, activeCommunities)"}},_selectedItemChanged:function(o,e){if(e&&e.value){var i=this.$$("#communityCardHref"+e.value.id);i&&i.click()}},_communityPath:function(o){return o&&o.is_community_folder?"community_folder":"community"},_newCommunity:function(){this.fire("add-new-community")},_scrollOffset:function(o){var e=this.$.ironList;if(e){var i=e.offsetTop;return i-=100,this.wide||(i+=75),0<e.offsetTop&&0<i?console.info("Community list scroll offset: "+i):(i=o?390:610,console.info("Community list (manual) scroll offset: "+i)),i}return console.warn("No community list for scroll offset"),null},scrollToItem:function(o){console.log("Community grid scrolling to item"),this.$.ironList.scrollToItem(o),document.dispatchEvent(new CustomEvent("lite-signal",{bubbles:!0,compose:!0,detail:{name:"yp-refresh-activities-scroll-threshold",data:{}}}))}})</script></dom-module><dom-module id="yp-post-name-with-author"assetpath="../yp-post/"><template><style include="iron-flex iron-flex-alignment">.userWithOrg{--ak-user-name-color:#555555;}.post-name{margin:0;padding:16px;cursor:pointer;font-size:1.25rem;background-color:#fff;color:#000;font-weight:500;letter-spacing:.0125em;}.post-name[bottom-left-radius]{border-bottom-left-radius:4px;}.post-name[top-left-radius]{border-top-left-radius:4px;border-top-right-radius:4px;}.post-name[desktop]{max-width:420px;}.userInfo{color:#999;font-size:17px;margin-top:1px;}.post-name[logged-in]{padding-right:24px;}@media (max-width: 800px){.post-name{}}</style><div class="post-name layout vertical"top-left-radius$="[[topLeftRadius]]"bottom-left-radius$="[[bottomLeftRadius]]"desktop$="[[desktop]]"on-tap="goToPostIfNotHeader"logged-in$="[[loggedInUser]]"><div><yp-magic-text text-type="postName"content-language="[[post.language]]"content="[[post.name]]"content-id="[[post.id]]"></yp-magic-text></div><template is="dom-if"if="[[post.Group.configuration.showWhoPostedPosts]]"><div class="layout horizontal userInfo"><yp-user-with-organization class="userWithOrg"hide-image=""title-date="[[post.user.name]]"user$="[[post.User]]"></yp-user-with-organization></div></template></div></template><script>Polymer({is:"yp-post-name-with-author",properties:{post:{type:Object},topLeftRadius:{type:Boolean,value:!1},bottomLeftRadius:{type:Boolean,value:!1},desktop:{type:Boolean,value:!1},loggedInUser:{type:Object}},_newPost:function(){this.disabled||this.fire("new-post")}})</script></dom-module><dom-module id="yp-post-header"assetpath="../yp-post/"><template><style include="iron-flex iron-flex-alignment">:host{display:block;}.infoContainer{@apply --layout-vertical;color:var(--primary-color-more-darker, #111);line-height:var(--description-line-height, 1.3);width:540px;padding:0px;padding-bottom:0;padding-top:16px;}.voting{@apply --layout-horizontal;@apply --layout-center;text-align:center;padding-left:16px;padding-right:24px;}.card-actions{}.edit{color:#eee;position:absolute;top:0;right:0;padding-right:0;margin-right:0;}.category-icon{width:100px;height:100px;}.category-image-container{text-align:right;margin-top:-52px;}.postCardCursor{cursor:pointer;}yp-post-cover-media{position:relative;width:420px;height:236px;}yp-post-cover-media[audio-cover]{height:90px;}.transcriptContainer{width:420px;max-width:420px;}.postCard{width:960px;background-color:#fff;@apply --layout-horizontal;position:relative;border-radius:4px;}.description{padding-bottom:2px;padding-left:16px;padding-right:16px;}.mobileName{display:none;}.shareIcon{position:absolute;--paper-share-button-icon-color:#656565;--paper-share-button-icon-height:42px;--paper-share-button-icon-width:42px;text-align:right;width:44px;height:44px;right:42px;bottom:3px;}.postActions{position:absolute;right:92px;bottom:2px;}.moreVert{position:absolute;bottom:4px;right:2px;margin:0;padding:0;}.moreVertButton{color:#656565;width:46px;height:46px;}.customRatings{position:absolute;bottom:12px;right:85px;}@media (max-width: 960px){.moreVert{position:absolute;top:4px;bottom:initial;right:2px;}.description[has-custom-ratings]{padding-bottom:18px;}.customRatings{right:46px;}.mobileName{margin-right:38px;}.shareIcon{right:8px;bottom:2px;}.postActions{right:55px;bottom:2px;}.infoContainer{padding-bottom:16px;padding-top:16px;}.mobileName{display:block;}.desktopName{display:none;}:host{max-width:600px;}.postCard{width:100%;min-width:300px;@apply --layout-wrap;}yp-post-cover-media{width:100% !important;}.coverContainer{width:100%;}.transcriptContainer{width:100%;max-width:100%;}.voting{padding-left:0;padding-right:0;}.card-content{width:100% !important;padding-bottom:16px;}.infoContainer{width:100%;margin-bottom:32px;}.description{margin-bottom:8px;margin-top:8px;}.mediaAndInfoContainer{@apply --layout-center-center;}}@media (max-width: 800px){.post-name{}:host{max-width:423px;width:100%;}yp-post-cover-media{height:230px;}}@media (max-width: 430px){:host{width:100%;}.postCard{width:100% !important;margin:8px;margin-top:4px;}yp-post-cover-media{height:225px;}.post-name{}.headerTopLevel{width:100%;}.description{padding-bottom:8px;}}@media (max-width: 375px){yp-post-cover-media[header-mode]{height:207px;}yp-post-cover-media[audio-cover]{height:80px;}}@media (max-width: 360px){yp-post-cover-media[header-mode]{height:200px;}yp-post-cover-media[audio-cover]{height:90px;}}@media (max-width: 320px){yp-post-cover-media[header-mode]{height:180px;}yp-post-cover-media[audio-cover]{height:90px;}}[hidden]{display:none !important;}#postTranscriptionEditor{padding-left:8px;padding-right:8px;}.transcriptError{margin-top:8px;margin-bottom:8px;color:#F00;post-name;}paper-spinner{margin-top:8px;}.checkTranscript{margin-top:8px;padding:8px;}.transcriptText{margin-top:0;padding:8px;color:#444;padding-bottom:0;font-style:italic;margin-bottom:8px;}.transcriptHeader{color:#222;margin-bottom:2px;font-style:normal;}.editIcon{color:#656565;}@media (min-width: 960px){yp-post-cover-media[has-transcript][audio-cover]{margin-bottom:16px;}}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><lite-signal on-lite-signal-logged-in="_userLoggedIn"></lite-signal><div class="layout horizontal center-center"><paper-material class="postCard"elevation="[[elevation]]"animated=""><div class="layout vertical headerTopLevel"role="heading"aria-level="1"aria-label="[[post.name]]"><yp-post-name-with-author top-left-radius=""class="mobileName"post="[[post]]"isloggedin="[[isLoggedIn]]"></yp-post-name-with-author><div class="layout horizontal wrap mediaAndInfoContainer"><div class="layout vertical center-center self-start coverContainer"><yp-post-cover-media top-left-radius=""show-video=""show-audio=""has-transcript$="[[post.public_data.transcript.text]]"alt-tag="[[post.name]]"audio-cover$="[[isAudioCover]]"header-mode$="[[headerMode]]"post="[[post]]"></yp-post-cover-media><div class="transcriptContainer"><template is="dom-if"if="[[checkingTranscript]]"><div class="layout vertical center-center checkTranscript"><div>[[t('checkingForTranscript')]]</div><paper-spinner active=""></paper-spinner></div></template><div class="transcriptError layout horizontal center-center"hidden$="[[!checkTranscriptError]]">[[t('checkTranscriptError')]]</div><template is="dom-if"if="[[post.public_data.transcript.text]]"><div class="transcriptText layout vertical center-center"><div class="transcriptHeader"hidden$="[[post.public_data.transcript.noMachineTranslation]]">[[t('automaticTranscript')]] <span hidden$="[[!post.public_data.transcript.userEdited]]">([[t('edited')]])</span></div><div id="postContentTranscript"hidden$="[[isEditing]]"><yp-magic-text text-type="postTranscriptContent"content-language="[[post.public_data.transcript.language]]"simple-format="[[post.Group.configuration.transcriptSimpleFormat]]"content="[[post.public_data.transcript.text]]"content-id="[[post.id]]"></yp-magic-text></div><template is="dom-if"if="[[hasPostAccess]]"><div class="layout horizontal"hidden$="[[isEditing]]"><div class="flex"></div><yp-ajax id="editPostTranscriptAjax"method="PUT"on-response="_editPostTranscriptResponse"></yp-ajax><paper-icon-button class="editIcon"title$="[[t('edit')]]"icon="create"on-tap="_editPostTranscript"></paper-icon-button></div></template></div></template><template is="dom-if"if="[[isEditing]]"restamp=""><div class="layout vertical"hidden$="[[!hasPostAccess]]"><paper-textarea id="postTranscriptionEditor"char-counter=""maxlength="500"value="{{editText}}"></paper-textarea><div class="horizontal end-justified layout"><emoji-selector id="postTranscriptEmojiSelector"></emoji-selector></div><div class="layout horizontal self-end"><paper-button on-tap="_cancelEdit">[[t('cancel')]]</paper-button><paper-button on-tap="_saveEdit">[[t('update')]]</paper-button></div></div></template><yp-ajax hidden=""id="checkTranscriptStatusAjax"on-response="_transcriptStatusResponse"></yp-ajax></div></div><div class="layout vertical"><div class="infoContainer"><template is="dom-if"if="[[!post.public_data.structuredAnswersJson]]"><yp-magic-text id="description"text-type="postContent"content-language="[[post.language]]"content="[[post.description]]"no-user-info$="[[!post.Group.configuration.showWhoPostedPosts]]"structured-questions-config="[[post.Group.configuration.structuredQuestions]]"has-custom-ratings$="[[post.Group.configuration.customRatings]]"simple-format="[[post.Group.configuration.descriptionSimpleFormat]]"content-id="[[post.id]]"class="description"truncate="[[post.Group.configuration.descriptionTruncateAmount]]"more-text="{{t('readMore')}}"close-dialog-text="[[t('close')]]"></yp-magic-text></template><template is="dom-if"if="[[post.public_data.structuredAnswersJson]]"><yp-magic-text id="description"text-type="postContent"content-language="[[post.language]]"content="[[structuredAnswersFormatted]]"no-user-info$="[[!post.Group.configuration.showWhoPostedPosts]]"simple-format=""skip-sanitize=""disable-translation=""content-id="[[post.id]]"class="description"truncate="[[post.Group.configuration.descriptionTruncateAmount]]"more-text="{{t('readMore')}}"close-dialog-text="[[t('close')]]"></yp-magic-text></template></div><template is="dom-if"if="[[post.Group.configuration.customRatings]]"><yp-post-ratings-info class="customRatings"post="[[post]]"></yp-post-ratings-info></template><template is="dom-if"if="[[!post.Group.configuration.customRatings]]"><yp-post-actions hidden$="[[hideActions]]"force-show-debate$="[[post.Group.configuration.forceShowDebateCountOnPost]]"elevation="-1"floating=""header-mode="[[headerMode]]"class="postActions"endorse-mode="[[endorseMode]]"post="[[post]]"></yp-post-actions></template><div class="share"hidden$="[[post.Group.configuration.hideSharing]]"><paper-share-button on-share-tap="_shareTap"class="shareIcon"less-margin$="[[post.Group.configuration.hideDownVoteForPost]]"endorsed$="[[isEndorsed]]"horizontal-align="right"id="shareButton"whatsapp="[[post.Group.configuration.allowWhatsAppSharing]]"title$="[[t('post.shareInfo')]]"facebook=""email=""twitter=""popup=""url="[[fullPostUrl]]"></paper-share-button></div><paper-menu-button vertical-align="top"horizontal-align="right"class="moreVert"hidden$="[[hideActions]]"><paper-icon-button aria-label$="[[t('openPostMenu')]]"class="moreVertButton"icon="more-vert"slot="dropdown-trigger"></paper-icon-button><paper-listbox slot="dropdown-content"on-iron-select="_menuSelection"><template is="dom-if"if="[[hasPostAccess]]"><paper-item id="editMenuItem">[[t('post.edit')]]</paper-item><paper-item hidden$="[[!checkPostAdminOnlyAccess(post)]]"id="moveMenuItem">[[t('post.move')]]</paper-item><paper-item hidden$="[[!checkPostAdminOnlyAccess(post)]]"id="statusChangeMenuItem">[[t('post.statusChange')]]</paper-item><paper-item hidden$="[[!checkPostAdminOnlyAccess(post)]]"id="statusChangeNoEmailsMenuItem">[[t('statusChangeNoEmails')]]</paper-item><paper-item id="deleteMenuItem">[[t('post.delete')]]</paper-item><paper-item hidden$="[[!checkPostAdminOnlyAccess(post)]]"id="anonymizeMenuItem">[[t('anonymizePostAndContent')]]</paper-item><paper-item hidden$="[[!checkPostAdminOnlyAccess(post)]]"id="deleteContentMenuItem">[[t('deletePostContent')]]</paper-item></template><paper-item id="reportMenuItem">[[t('post.report')]]</paper-item></paper-listbox></paper-menu-button></div></div><yp-post-name-with-author bottom-left-radius=""desktop=""class="desktopName"post="[[post]]"isloggedin="[[isLoggedIn]]"></yp-post-name-with-author></div></paper-material></div><lite-signal on-lite-signal-got-admin-rights="_gotAdminRights"></lite-signal><lite-signal on-lite-signal-yp-auto-translate="_autoTranslateEvent"></lite-signal><yp-ajax id="translatedSurveyAjax"on-response="_translatedSurveyResponse"></yp-ajax></template><script>Polymer({is:"yp-post-header",behaviors:[Polymer.ypLanguageBehavior,Polymer.YpPostBehavior,Polymer.AccessHelpers,Polymer.ypGotAdminRightsBehavior,Polymer.ypLoggedInUserBehavior,Polymer.ypGotoBehavior,Polymer.ypTruncateBehavior,Polymer.ypMediaFormatsBehavior,Polymer.YpPostSurveyTranslationBehavior],properties:{selectedMenuItem:{type:String},headerMode:{type:Boolean,value:!1},elevation:{type:Number,value:1},post:{type:Object,observer:"_postChanged"},hasPostAccess:{type:Boolean,value:!1,notify:!0,computed:"_hasPostAccess(post, gotAdminRights, loggedInUser)"},isEditing:{type:Boolean,value:!1,observer:"_isEditingChanged"},editText:String,checkingTranscript:{type:Boolean,value:!1},checkTranscriptError:{type:Boolean,value:!1},isAudioCover:{type:Boolean,value:!1},hideActions:{type:Boolean,value:!1}},_shareTap:function(t,e){window.appGlobals.activity("postShareHeaderOpen",e.brand,this.post?this.post.id:-1)},_isEditingChanged:function(t){this._updateEmojiBindings(t),this.async(function(){this.fire("iron-resize")})},_updateEmojiBindings:function(t){t&&this.async(function(){var t=this.$$("#postTranscriptionEditor"),e=this.$$("#postTranscriptEmojiSelector");t&&e?e.inputTarget=t:console.error("Wide: Can't bind post edit emojis :(")}.bind(this),500)},_cancelEdit:function(){this.set("isEditing",!1)},_saveEdit:function(){this.$$("#editPostTranscriptAjax").url="/api/posts/"+this.post.id+"/editTranscript",this.$$("#editPostTranscriptAjax").body={content:this.editText},this.$$("#editPostTranscriptAjax").generateRequest()},_editPostTranscriptResponse:function(){this.set("post.public_data.transcript.text",this.editText),this.set("post.public_data.transcript.userEdited",!0),this.set("isEditing",!1)},_editPostTranscript:function(){this.hasPostAccess&&(this.set("editText",this.post.public_data.transcript.text),this.set("isEditing",!0))},_transcriptStatusResponse:function(t,e){e.response&&e.response.text?(this.set("post.public_data.transcript.text",e.response.text),this.hasPostAccess&&(this.set("editText",e.response.text),this.set("isEditing",!0)),this.set("checkingTranscript",!1),this.async(function(){this.fire("iron-resize")})):e.response&&e.response.inProgress?this.async(function(){this.$$("#checkTranscriptStatusAjax").generateRequest()},2e3):e.response&&e.response.error?(this.set("checkingTranscript",!1),this.set("checkTranscriptError",!0)):this.set("checkingTranscript",!1)},_hasPostAccess:function(t){return!!t&&this.checkPostAccess(t)},goToPostIfNotHeader:function(){this.headerMode||this.goToPost()},_postChanged:function(e){this.set("checkingTranscript",!1),this.set("checkTranscriptError",!1),e&&e.description&&(this.async(function(){var t=this.$$("#description");t?e.data&&"lawIssue"===e.data.dataType&&e.data.issueStatus&&(t.content+=" - "+e.data.issueStatus):console.error("Can't find description element")}),this.hasPostAccess&&!0===window.appGlobals.hasTranscriptSupport&&e.public_data&&e.public_data.transcript&&e.public_data.transcript.inProgress&&("audio"===e.cover_media_type?(this.$$("#checkTranscriptStatusAjax").url="/api/posts/"+e.id+"/audioTranscriptStatus",this.$$("#checkTranscriptStatusAjax").generateRequest(),this.set("checkingTranscript",!0)):"video"===e.cover_media_type&&(this.$$("#checkTranscriptStatusAjax").url="/api/posts/"+e.id+"/videoTranscriptStatus",this.$$("#checkTranscriptStatusAjax").generateRequest(),this.set("checkingTranscript",!0)))),e&&("audio"===e.cover_media_type?this.set("isAudioCover",!0):this.set("isAudioCover",!1),this._getSurveyTranslationsIfNeeded())},updateDescriptionIfEmpty:function(t){!this.post||this.post.description&&""!=this.post.description||this.set("post.description",t)},_refresh:function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("postEdit",function(t){t.selected=0,this.fire("refresh")}.bind(this))},_menuSelection:function(t,e){"editMenuItem"==e.item.id?this._openEdit():"deleteMenuItem"==e.item.id?this._openDelete():"statusChangeMenuItem"==e.item.id?this._openPostStatusChange():"statusChangeNoEmailsMenuItem"==e.item.id?this._openPostStatusChange(!0):"moveMenuItem"==e.item.id?this._openMovePost():"anonymizeMenuItem"==e.item.id?this._openAnonymizeContent():"deleteContentMenuItem"==e.item.id?this._openDeleteContent():"reportMenuItem"==e.item.id&&this._openReport(),this.$$("paper-listbox").select(null)},_openMovePost:function(){Polymer.dom(document).querySelector("yp-app").getDialogAsync("postMove",function(t){t.setupAndOpen(this.post,this._refresh.bind(this))}.bind(this))},_openPostStatusChange:function(e){Polymer.dom(document).querySelector("yp-app").getDialogAsync("postStatusChangeEdit",function(t){t.setup(this.post,null,this._refresh.bind(this),!0===e),t.open("new",{postId:this.post.id,statusChange:!0,disableStatusEmails:!0===e})}.bind(this))},_openEdit:function(){window.appGlobals.activity("open","post.edit"),Polymer.dom(document).querySelector("yp-app").getDialogAsync("postEdit",function(t){t.setup(this.post,!1,this._refresh.bind(this),this.post.Group),t.open("edit",{postId:this.post.id})}.bind(this))},_openReport:function(){window.appGlobals.activity("open","post.report"),Polymer.dom(document).querySelector("yp-app").getDialogAsync("apiActionDialog",function(t){t.setup("/api/posts/"+this.post.id+"/report",this.t("reportConfirmation"),this._onReport.bind(this),this.t("post.report"),"PUT"),t.open()}.bind(this))},_openDelete:function(){window.appGlobals.activity("open","post.delete"),Polymer.dom(document).querySelector("yp-app").getDialogAsync("apiActionDialog",function(t){t.setup("/api/posts/"+this.post.id,this.t("post.deleteConfirmation"),this._onDeleted.bind(this)),t.open()}.bind(this))},_openDeleteContent:function(){window.appGlobals.activity("open","postDeleteContent"),Polymer.dom(document).querySelector("yp-app").getDialogAsync("apiActionDialog",function(t){t.setup("/api/posts/"+this.post.id+"/delete_content",this.t("postDeleteContentConfirmation")),t.open()}.bind(this))},_openAnonymizeContent:function(){window.appGlobals.activity("open","postAnonymizeContent"),Polymer.dom(document).querySelector("yp-app").getDialogAsync("apiActionDialog",function(t){t.setup("/api/posts/"+this.post.id+"/anonymize_content",this.t("postAnonymizeContentConfirmation")),t.open()}.bind(this))},_onReport:function(){window.appGlobals.notifyUserViaToast(this.t("post.report")+": "+this.post.name)},_onDeleted:function(){this.dispatchEvent(new CustomEvent("yp-refresh-group",{bubbles:!0,composed:!0})),this.redirectTo("/group/"+this.post.group_id)}})</script></dom-module><script>Polymer.ypOfficialStatusOptions={properties:{officialStatusOptions:{type:Object,computed:"_officialStatusOptions(language)"}},_officialStatusOptions:function(){return this.t?[{name:"published",official_value:0,translatedName:this.t("status.published"),translatedNamePlural:this.t("pluralStatus.published")},{name:"successful",official_value:2,translatedName:this.t("status.successful"),translatedNamePlural:this.t("pluralStatus.successful")},{name:"failed",official_value:-2,translatedName:this.t("status.failed"),translatedNamePlural:this.t("pluralStatus.failed")},{name:"in_progress",official_value:-1,translatedName:this.t("status.inProgress"),translatedNamePlural:this.t("pluralStatus.inVoting")}]:[]},_officialStatusOptionsName:function(a){var t=this._officialStatusOptions(this.language),s="Not found";return t.forEach(function(t){t.official_value==a&&(s=t.translatedName)}),s},_officialStatusOptionsNamePlural:function(a){var t=this._officialStatusOptions(this.language),s="Not found";return t.forEach(function(t){t.official_value==a&&(s=t.translatedNamePlural)}),s}}</script><script>Polymer.WordWrap={wordwrap:function(a,s,r){"object"===babelHelpers.typeof(a)&&(a=(r=a).start,s=r.stop),"object"===babelHelpers.typeof(s)&&(r=s,a=a||r.start,s=void 0),s||(s=a,a=0);var n=(r=r||{}).mode||"soft",e="hard"===n?/\b/:/(\S+\s+)/;return function(r){return r.toString().split(e).reduce(function(r,e){if("hard"===n)for(var t=0;t<e.length;t+=s-a)r.push(e.slice(t,t+s-a));else r.push(e);return r},[]).reduce(function(e,r){if(""===r)return e;var t=r.replace(/\t/g,"    "),n=e.length-1;if(e[n].length+t.length>s)e[n]=e[n].replace(/\s+$/,""),t.split(/\n/).forEach(function(r){e.push(Array(a+1).join(" ")+r.replace(/^\s+/,""))});else if(t.match(/\n/)){var o=t.split(/\n/);e[n]+=o.shift(),o.forEach(function(r){e.push(Array(a+1).join(" ")+r.replace(/^\s+/,""))})}else e[n]+=t;return e},[Array(a+1).join(" ")]).join("\n")}}}</script><script>Polymer.ypPostMoveBehavior={properties:{adminRights:{type:Object,value:null},availableGroups:{type:Array,value:null},groups:{type:Array,value:null},domainId:{type:Number,value:null}},_adminRightsResponse:function(i,s){s.response&&0!=s.response&&this.set("adminRights",s.response),this._reset()},_reset:function(){if(this.groups&&this.adminRights){var i=[];i=i.concat(this.adminRights.GroupAdmins,this.groups),i=this._uniqueInDomain(i,this.domainId),this.set("availableGroups",i),this.async(function(){this.$$("#editDialog").fire("iron-resize")})}},_getGroupsResponse:function(i,s){s.response&&(this.set("groups",s.response.groups),this.set("domainId",s.response.domainId),this._reset())},_uniqueInDomain:function(i,s){var n=[],e={};return __.each(i,function(i){e[i.id]||(e[i.id]=i.id,i.configuration||(i.configuration={canAddNewPosts:!0}),i.Community&&i.Community.domain_id==s&&(i.configuration.canAddNewPosts||this._hasAdminRights(i.id,window.appUser.adminRights.GroupAdmins))?n.push(i):console.log("Ignoring group:"+i.name))}.bind(this)),n}}</script><dom-module id="yp-theme-selector"assetpath="../yp-theme/"><template><style include="iron-flex iron-flex-alignment">paper-dropdown-menu{max-width:250px;width:250px;}[hidden]{display:none;}</style><lite-signal on-lite-signal-yp-language="_languageEvent"></lite-signal><paper-dropdown-menu label="[[t('theme.choose')]]"><paper-listbox slot="dropdown-content"selected="{{selectedTheme}}"><template is="dom-repeat"items="[[themes]]"as="theme"><paper-item name="[[index]]"hidden$="[[theme.disabled]]">[[theme.name]]</paper-item></template></paper-listbox></paper-dropdown-menu></template><script>Polymer({is:"yp-theme-selector",behaviors:[Polymer.ypLanguageBehavior,Polymer.ypThemeBehavior],properties:{selectedTheme:{type:Number,value:null,notify:!0,observer:"_selectedThemeChanged"},object:{type:Object,observer:"_objectChanged"}},_objectChanged:function(e){e&&null!=e.theme_id&&this.set("selectedTheme",e.theme_id)},_selectedThemeChanged:function(e){e&&this.setTheme(e)}})</script></dom-module>